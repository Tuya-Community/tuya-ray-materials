<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <meta http-equiv="X-UA-Compatible" content="ie=edge" />
            <link rel="icon" href="data:;base64,=">
            <title>IndoorMap</title>
            <style>
              body {
                margin: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                  sans-serif;
                touch-action: none;
                -ms-touch-action: none;
                -webkit-touch-callout: none;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                -webkit-user-select: none;
                -ms-user-select: none;
                user-select: none;
              }
          
              code {
                font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
                  monospace;
              }
          
              #root {
                width: 100vw;
                height: 100vh;
              }
            </style>
          </head>
          <body>
            <div id="root"></div>
          </body>
          <script>/*! For license information please see app.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(()=>(()=>{var __webpack_modules__={1652:(t,e,n)=>{"use strict";n.d(e,{cQ:()=>Kp,xB:()=>Gp}),t=n.hmd(t);var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o,a,s=Object.prototype.toString,l=function(t){var e=s.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===s.call(t.callee)),n},c=Array.prototype.slice,u=l,A=Object.keys,h=A?function(t){return A(t)}:function(){if(a)return o;var t;if(a=1,!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=l,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),c=i.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&e.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{A(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();t=function(t){var i=null!==t&&"object"==typeof t,o="[object Function]"===n.call(t),a=r(t),l=i&&"[object String]"===n.call(t),h=[];if(!i&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var p=c&&o;if(l&&t.length>0&&!e.call(t,0))for(var f=0;f<t.length;++f)h.push(String(f));if(a&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var g in t)p&&"prototype"===g||!e.call(t,g)||h.push(String(g));if(s)for(var y=function(t){if("undefined"==typeof window||!d)return A(t);try{return A(t)}catch(t){return!1}}(t),v=0;v<u.length;++v)y&&"constructor"===u[v]||!e.call(t,u[v])||h.push(u[v]);return h}}return o=t}(),d=Object.keys;h.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return u(t)?d(c.call(t)):d(t)})}else Object.keys=h;return Object.keys||h};var p,f=h,m=Error,g=EvalError,y=RangeError,v=ReferenceError,_=SyntaxError,w=TypeError,b=URIError,x="undefined"!=typeof Symbol&&Symbol,M={__proto__:null,foo:{}},L=Object,C=Object.prototype.toString,E=Math.max,B=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},S=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==C.apply(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,r=function(t){for(var e=[],n=1,r=0;n<t.length;n+=1,r+=1)e[r]=t[n];return e}(arguments),i=E(0,e.length-r.length),o=[],a=0;a<i;a++)o[a]="$"+a;if(n=Function("binder","return function ("+function(t){for(var e="",n=0;n<t.length;n+=1)e+=t[n],n+1<t.length&&(e+=",");return e}(o)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=e.apply(this,B(r,arguments));return Object(i)===i?i:this}return e.apply(t,B(r,arguments))})),e.prototype){var s=function(){};s.prototype=e.prototype,n.prototype=new s,s.prototype=null}return n},T=Function.prototype.call,D=Object.prototype.hasOwnProperty,I=S.call(T,D),P=m,F=g,k=y,R=v,U=_,O=w,H=b,Y=Function,Q=function(t){try{return Y('"use strict"; return ('+t+").constructor;")()}catch(t){}},N=Object.getOwnPropertyDescriptor;if(N)try{N({},"")}catch(Je){N=null}var j=function(){throw new O},W=N?function(){try{return j}catch(t){try{return N(arguments,"callee").get}catch(t){return j}}}():j,V="function"==typeof x&&"function"==typeof Symbol&&"symbol"==typeof x("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}(),z={__proto__:M}.foo===M.foo&&!(M instanceof L),G=Object.getPrototypeOf||(z?function(t){return t.__proto__}:null),K={},Z="undefined"!=typeof Uint8Array&&G?G(Uint8Array):p,X={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?p:ArrayBuffer,"%ArrayIteratorPrototype%":V&&G?G([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":K,"%AsyncGenerator%":K,"%AsyncGeneratorFunction%":K,"%AsyncIteratorPrototype%":K,"%Atomics%":"undefined"==typeof Atomics?p:Atomics,"%BigInt%":"undefined"==typeof BigInt?p:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?p:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":P,"%eval%":eval,"%EvalError%":F,"%Float32Array%":"undefined"==typeof Float32Array?p:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?p:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?p:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":K,"%Int8Array%":"undefined"==typeof Int8Array?p:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?p:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&G?G(G([][Symbol.iterator]())):p,"%JSON%":"object"==typeof JSON?JSON:p,"%Map%":"undefined"==typeof Map?p:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&V&&G?G((new Map)[Symbol.iterator]()):p,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?p:Promise,"%Proxy%":"undefined"==typeof Proxy?p:Proxy,"%RangeError%":k,"%ReferenceError%":R,"%Reflect%":"undefined"==typeof Reflect?p:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?p:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&V&&G?G((new Set)[Symbol.iterator]()):p,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&G?G(""[Symbol.iterator]()):p,"%Symbol%":V?Symbol:p,"%SyntaxError%":U,"%ThrowTypeError%":W,"%TypedArray%":Z,"%TypeError%":O,"%Uint8Array%":"undefined"==typeof Uint8Array?p:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?p:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?p:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?p:Uint32Array,"%URIError%":H,"%WeakMap%":"undefined"==typeof WeakMap?p:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?p:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?p:WeakSet};if(G)try{null.error}catch(Je){var q=G(G(Je));X["%Error.prototype%"]=q}var J=function t(e){var n;if("%AsyncFunction%"===e)n=Q("async function () {}");else if("%GeneratorFunction%"===e)n=Q("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=Q("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&G&&(n=G(i.prototype))}return X[e]=n,n},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},tt=S,et=I,nt=tt.call(Function.call,Array.prototype.concat),rt=tt.call(Function.apply,Array.prototype.splice),it=tt.call(Function.call,String.prototype.replace),ot=tt.call(Function.call,String.prototype.slice),at=tt.call(Function.call,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,ct=function(t,e){var n,r=t;if(et($,r)&&(r="%"+(n=$[r])[0]+"%"),et(X,r)){var i=X[r];if(i===K&&(i=J(r)),void 0===i&&!e)throw new O("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new U("intrinsic "+t+" does not exist!")},ut=function(t,e){if("string"!=typeof t||0===t.length)throw new O("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new O('"allowMissing" argument must be a boolean');if(null===at(/^%?[^%]*%?$/,t))throw new U("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=ot(t,0,1),n=ot(t,-1);if("%"===e&&"%"!==n)throw new U("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new U("invalid intrinsic syntax, expected opening `%`");var r=[];return it(t,st,(function(t,e,n,i){r[r.length]=n?it(i,lt,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=ct("%"+r+"%",e),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],rt(n,nt([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var A=n[c],h=ot(A,0,1),d=ot(A,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new U("property names with quotes must have matching quotes");if("constructor"!==A&&u||(s=!0),et(X,o="%"+(r+="."+A)+"%"))a=X[o];else if(null!=a){if(!(A in a)){if(!e)throw new O("base intrinsic for "+t+" exists, but the property is not available.");return}if(N&&c+1>=n.length){var p=N(a,A);a=(u=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:a[A]}else u=et(a,A),a=a[A];u&&!s&&(X[o]=a)}}return a},At=ut("%Object.defineProperty%",!0)||!1;if(At)try{At({},"a",{value:1})}catch(Je){At=!1}var ht=At,dt=ut("%Object.getOwnPropertyDescriptor%",!0);if(dt)try{dt([],"length")}catch(Je){dt=null}var pt=dt,ft=ht,mt=_,gt=w,yt=pt,vt=ht,_t=function(){return!!vt};_t.hasArrayLengthDefineBug=function(){if(!vt)return null;try{return 1!==vt([],"length",{value:1}).length}catch(t){return!0}};var wt=_t,bt=f,xt="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Mt=Object.prototype.toString,Lt=Array.prototype.concat,Ct=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new gt("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new gt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new gt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new gt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new gt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new gt("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],s=!!yt&&yt(t,e);if(ft)ft(t,e,{configurable:null===o&&s?s.configurable:!o,enumerable:null===r&&s?s.enumerable:!r,value:n,writable:null===i&&s?s.writable:!i});else{if(!a&&(r||i||o))throw new mt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}},Et=wt(),Bt=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==Mt.call(i)||!r())return;var i;Et?Ct(t,e,n,!0):Ct(t,e,n)},St=function(t,e){var n=arguments.length>2?arguments[2]:{},r=bt(e);xt&&(r=Lt.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)Bt(t,r[i],e[r[i]],n[r[i]])};St.supportsDescriptors=!!Et;var Tt=St,Dt={exports:{}};"undefined"!=typeof self?Dt.exports=self:"undefined"!=typeof window?Dt.exports=window:Dt.exports=Function("return this")();var It,Pt,Ft,kt,Rt,Ut,Ot,Ht,Yt,Qt,Nt,jt,Wt,Vt,zt,Gt,Kt=Dt.exports,Zt=Tt,Xt=pt,qt=function(){return"object"==typeof r&&r&&r.Math===Math&&r.Array===Array?r:Kt};!function(){var t=qt();if(Zt.supportsDescriptors){var e=Xt(t,"globalThis");e&&(!e.configurable||!e.enumerable&&e.writable&&globalThis===t)||Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else"object"==typeof globalThis&&globalThis===t||(t.globalThis=t)}(),function(t){t.indoorMapWrapper="IndoorMapWrapper",t.indoorMapStable="IndoorMapStable",t.indoorMapPoints="IndoorMapPoints",t.indoorMapCircleLayer="IndoorMapCircleLayer",t.indoorMapCircleLineLayer="IndoorMapCircleLineLayer",t.indoorMapImgCloud="IndoorMapImgCloud",t.indoorMapFluorescenceLayer="IndoorMapFluorescenceLayer",t.indoorMapSelectedLayer="IndoorMapSelectedLayer",t.indoorMapTextLayer="IndoorMapTextLayer",t.indoorMapSplitLineLayer="IndoorMapSplitLineLayer",t.indoorMapPolygonLineLayer="IndoorMapPolygonLineLayer",t.indoorMapMaterialLayer="IndoorMapMaterialLayer",t.indoorMapModel="IndoorMapModel",t.indoorMapDashEditLine="IndoorMapDashEditLine",t.indoorMapInfoWindow="IndoorMapInfoWindow",t.indoorMapCustomLayer="IndoorMapCustomLayer",t.indoorMapAxes="IndoorMapAxes",t.indoorMapPolygonLayerCircle="IndoorMapPolygonLayerCircle",t.indoorMapD3FrameLayer="IndoorMapD3FrameLayer",t.indoorMapD3FrameFloorLayer="IndoorMapD3FrameFloorLayer",t.indoorMapPlaneFloorMaterialLayer="IndoorMapPlaneFloorMaterial",t.indoorMapPosLayer="IndoorMapPosLayer",t.indoorMapSmearMaterial="IndoorMapSmearMaterial",t.indoorMapFilter="IndoorMapFilter"}(It||(It={})),function(t){t.ios="ios",t.android="android",t.h5="web"}(Pt||(Pt={})),function(t){t.mini="mini",t.webview="webview"}(Ft||(Ft={})),function(t){t.sweep="sweep",t.unknown="unknown",t.barrier="barrier",t.carpet="carpet"}(kt||(kt={})),function(t){t[t.laserMap=1]="laserMap",t[t.carpet=1.1]="carpet",t[t.cleanPath=1.2]="cleanPath",t[t.pilePosition=1.21]="pilePosition",t[t.robot=1.22]="robot",t[t.virtualWall=1.23]="virtualWall",t[t.forbidArea=1.33]="forbidArea",t[t.areaSet=1.43]="areaSet",t[t.posPosition=1.53]="posPosition",t[t.material=1.6]="material",t[t.selected=1.61]="selected",t[t.sprite=1.62]="sprite",t[t.splitLine=1.7]="splitLine",t[t.otherArea=1.8]="otherArea",t[t.roomLabel=1.81]="roomLabel"}(Rt||(Rt={})),function(t){t[t.normal=0]="normal",t[t.pressToRun=1]="pressToRun",t[t.areaSet=2]="areaSet",t[t.virtualArea=3]="virtualArea",t[t.virtualWall=4]="virtualWall",t[t.mapSplit=5]="mapSplit",t[t.mapClick=5]="mapClick",t[t.mapSelect=6]="mapSelect",t[t.mapTimerSelect=7]="mapTimerSelect",t[t.mapCruise=8]="mapCruise"}(Ut||(Ut={})),function(t){t[t.normal=0]="normal",t[t.rest=1]="rest",t[t.merge=2]="merge",t[t.split=3]="split",t[t.click=4]="click"}(Ot||(Ot={})),function(t){t.edit="edit",t.active="active"}(Ht||(Ht={})),function(t){t.default="default",t.waterDroplets="waterDroplets"}(Yt||(Yt={})),function(t){t[t.posPosition=1]="posPosition",t[t.sweepForbidden=2]="sweepForbidden",t[t.mopForbidden=3]="mopForbidden",t[t.virtualWall=4]="virtualWall",t[t.climbingForbidden=5]="climbingForbidden",t[t.normalCleaningZone=6]="normalCleaningZone"}(Qt||(Qt={})),function(t){t[t.PosPosition=1]="PosPosition",t[t.AreaSet=2]="AreaSet",t[t.ForbidArea=3]="ForbidArea",t[t.VirtualWall=4]="VirtualWall",t[t.Material=5]="Material",t[t.Selected=6]="Selected",t[t.Carpet=7]="Carpet",t[t.D3Model=8]="D3Model",t[t.PlaneMaterial=9]="PlaneMaterial",t[t.PlaneFloorMaterial=10]="PlaneFloorMaterial",t[t.Fluorescence=11]="Fluorescence",t[t.D3Frame=12]="D3Frame",t[t.CustomLayer=13]="CustomLayer",t[t.SmearMaterial=14]="SmearMaterial"}(Nt||(Nt={})),function(t){t.square="square",t.circle="circle"}(jt||(jt={})),function(t){t.normal="normal",t.dashEdit="dashEdit"}(Wt||(Wt={})),function(t){t.normal="normal"}(Vt||(Vt={})),function(t){t.smear="smearing",t.laser="laser"}(zt||(zt={})),function(t){t.center="center",t.bottom="bottom",t.top="top"}(Gt||(Gt={}));Object.freeze({__proto__:null,get IndoorMapClasses(){return It},get PlatformEnum(){return Pt},get ProgramEnv(){return Ft},get SweepType(){return kt},get layersHeightLevel(){return Rt},get nativeMapStatusEnum(){return Ut},get mapSplitStateEnum(){return Ot},get viewTypeEnum(){return Ht},get OrderTypeEnum(){return Yt},get AreaInfoTypeEnum(){return Qt},get IVirtualInfoTypeEnum(){return Nt},get AreaInfoVertexTypeEnum(){return jt},get IAreaViewTypeEnum(){return Wt},get IAnimationTypeEnum(){return Vt},get IPathTypeEnum(){return zt},get IPositionEnum(){return Gt}}),Object.freeze({__proto__:null});var Jt={};!function(t){const e="131",n=100,r=101,i=102,o=200,a=201,s=202,l=203,c=204,u=205,A=206,h=207,d=208,p=209,f=210,m=300,g=301,y=302,v=303,_=304,w=306,b=307,x=1e3,M=1001,L=1002,C=1003,E=1004,B=1005,S=1006,T=1007,D=1008,I=1009,P=1012,F=1014,k=1015,R=1016,U=1020,O=1022,H=1023,Y=H,Q=1026,N=1027,j=33776,W=33777,V=33778,z=33779,G=35840,K=35841,Z=35842,X=35843,q=37492,J=37496,$=2300,tt=2301,et=2302,nt=2400,rt=2401,it=2402,ot=2500,at=2501,st=3e3,lt=3001,ct=3007,ut=3002,At=3004,ht=3005,dt=3006,pt=7680,ft=35044,mt=35048,gt="300 es";class yt{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t);t.target=null}}}const vt=[];for(let t=0;t<256;t++)vt[t]=(t<16?"0":"")+t.toString(16);let _t=1234567;const wt=Math.PI/180,bt=180/Math.PI;function xt(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(vt[255&t]+vt[t>>8&255]+vt[t>>16&255]+vt[t>>24&255]+"-"+vt[255&e]+vt[e>>8&255]+"-"+vt[e>>16&15|64]+vt[e>>24&255]+"-"+vt[63&n|128]+vt[n>>8&255]+"-"+vt[n>>16&255]+vt[n>>24&255]+vt[255&r]+vt[r>>8&255]+vt[r>>16&255]+vt[r>>24&255]).toUpperCase()}function Mt(t,e,n){return Math.max(e,Math.min(n,t))}function Lt(t,e){return(t%e+e)%e}function Ct(t,e,n){return(1-n)*t+n*e}function Et(t){return!(t&t-1)&&0!==t}function Bt(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function St(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var Tt=Object.freeze({__proto__:null,DEG2RAD:wt,RAD2DEG:bt,generateUUID:xt,clamp:Mt,euclideanModulo:Lt,mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:Ct,damp:function(t,e,n,r){return Ct(t,e,1-Math.exp(-n*r))},pingpong:function(t,e=1){return e-Math.abs(Lt(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(_t=t%2147483647),_t=16807*_t%2147483647,(_t-1)/2147483646},degToRad:function(t){return t*wt},radToDeg:function(t){return t*bt},isPowerOfTwo:Et,ceilPowerOfTwo:Bt,floorPowerOfTwo:St,setQuaternionFromProperEuler:function(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),A=o((e-r)/2),h=a((e-r)/2),d=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*A,l*h,s*c);break;case"YZY":t.set(l*h,s*u,l*A,s*c);break;case"ZXZ":t.set(l*A,l*h,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*d,s*c);break;case"YXY":t.set(l*d,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*d,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}});class Dt{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Dt.prototype.isVector2=!0;class It{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,l){const c=this.elements;return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],A=n[2],h=n[5],d=n[8],p=r[0],f=r[3],m=r[6],g=r[1],y=r[4],v=r[7],_=r[2],w=r[5],b=r[8];return i[0]=o*p+a*g+s*_,i[3]=o*f+a*y+s*w,i[6]=o*m+a*v+s*b,i[1]=l*p+c*g+u*_,i[4]=l*f+c*y+u*w,i[7]=l*m+c*v+u*b,i[2]=A*p+h*g+d*_,i[5]=A*f+h*y+d*w,i[8]=A*m+h*v+d*b,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*o*c-e*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=c*o-a*l,A=a*s-c*i,h=l*i-o*s,d=e*u+n*A+r*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return t[0]=u*p,t[1]=(r*l-c*n)*p,t[2]=(a*n-r*o)*p,t[3]=A*p,t[4]=(c*e-r*s)*p,t[5]=(r*i-a*e)*p,t[6]=h*p,t[7]=(n*s-l*e)*p,t[8]=(o*e-n*i)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-r*l,r*s,-r*(-l*o+s*a)+a+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],c=r[7];return r[0]=e*i+n*s,r[3]=e*o+n*l,r[6]=e*a+n*c,r[1]=-n*i+e*s,r[4]=-n*o+e*l,r[7]=-n*a+e*c,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}let Pt;It.prototype.isMatrix3=!0;class Ft{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Pt&&(Pt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Pt.width=t.width,Pt.height=t.height;const n=Pt.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Pt}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}}let kt=0;class Rt extends yt{constructor(t=Rt.DEFAULT_IMAGE,e=Rt.DEFAULT_MAPPING,n=M,r=M,i=S,o=D,a=H,s=I,l=1,c=st){super(),Object.defineProperty(this,"id",{value:kt++}),this.uuid=xt(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Dt(0,0),this.repeat=new Dt(1,1),this.center=new Dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=xt()),!e&&void 0===t.images[r.uuid]){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Ut(r[t].image)):e.push(Ut(r[t]))}else e=Ut(r);t.images[r.uuid]={uuid:r.uuid,url:e}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==m)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case x:t.x=t.x-Math.floor(t.x);break;case M:t.x=t.x<0?0:1;break;case L:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case x:t.y=t.y-Math.floor(t.y);break;case M:t.y=t.y<0?0:1;break;case L:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&this.version++}}function Ut(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Ft.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Rt.DEFAULT_IMAGE=void 0,Rt.DEFAULT_MAPPING=m,Rt.prototype.isTexture=!0;class Ot{constructor(t=0,e=0,n=0,r=1){this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const o=.01,a=.1,s=t.elements,l=s[0],c=s[4],u=s[8],A=s[1],h=s[5],d=s[9],p=s[2],f=s[6],m=s[10];if(Math.abs(c-A)<o&&Math.abs(u-p)<o&&Math.abs(d-f)<o){if(Math.abs(c+A)<a&&Math.abs(u+p)<a&&Math.abs(d+f)<a&&Math.abs(l+h+m-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,s=(h+1)/2,g=(m+1)/2,y=(c+A)/4,v=(u+p)/4,_=(d+f)/4;return t>s&&t>g?t<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=y/n,i=v/n):s>g?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=_/r):g<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=v/i,r=_/i),this.set(n,r,i,e),this}let g=Math.sqrt((f-d)*(f-d)+(u-p)*(u-p)+(A-c)*(A-c));return Math.abs(g)<.001&&(g=1),this.x=(f-d)/g,this.y=(u-p)/g,this.z=(A-c)/g,this.w=Math.acos((l+h+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Ot.prototype.isVector4=!0;class Ht extends yt{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new Ot(0,0,t,e),this.scissorTest=!1,this.viewport=new Ot(0,0,t,e),this.texture=new Rt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:t,height:e,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:S,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ht.prototype.isWebGLRenderTarget=!0;class Yt extends Ht{constructor(t,e,n){super(t,e);const r=this.texture;this.texture=[];for(let t=0;t<n;t++)this.texture[t]=r.clone()}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=t,this.texture[r].image.height=e,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,n=t.texture.length;e<n;e++)this.texture[e]=t.texture[e].clone();return this}}Yt.prototype.isWebGLMultipleRenderTargets=!0;class Qt extends Ht{constructor(t,e,n){super(t,e,n),this.samples=4}copy(t){return super.copy.call(this,t),this.samples=t.samples,this}}Qt.prototype.isWebGLMultisampleRenderTarget=!0;class Nt{constructor(t=0,e=0,n=0,r=1){this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,r)}static slerpFlat(t,e,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const A=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(0===a)return t[e+0]=s,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===a)return t[e+0]=A,t[e+1]=h,t[e+2]=d,void(t[e+3]=p);if(u!==p||s!==A||l!==h||c!==d){let t=1-a;const e=s*A+l*h+c*d+u*p,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*t+A*i,l=l*t+h*i,c=c*t+d*i,u=u*t+p*i,t===1-a){const t=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=t,l*=t,c*=t,u*=t}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],A=i[o+1],h=i[o+2],d=i[o+3];return t[e]=a*d+c*u+s*h-l*A,t[e+1]=s*d+c*A+l*u-a*h,t[e+2]=l*d+c*h+a*A-s*u,t[e+3]=c*d-a*u-s*A-l*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,i=t._z,o=t._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),A=s(n/2),h=s(r/2),d=s(i/2);switch(o){case"XYZ":this._x=A*c*u+l*h*d,this._y=l*h*u-A*c*d,this._z=l*c*d+A*h*u,this._w=l*c*u-A*h*d;break;case"YXZ":this._x=A*c*u+l*h*d,this._y=l*h*u-A*c*d,this._z=l*c*d-A*h*u,this._w=l*c*u+A*h*d;break;case"ZXY":this._x=A*c*u-l*h*d,this._y=l*h*u+A*c*d,this._z=l*c*d+A*h*u,this._w=l*c*u-A*h*d;break;case"ZYX":this._x=A*c*u-l*h*d,this._y=l*h*u+A*c*d,this._z=l*c*d-A*h*u,this._w=l*c*u+A*h*d;break;case"YZX":this._x=A*c*u+l*h*d,this._y=l*h*u+A*c*d,this._z=l*c*d-A*h*u,this._w=l*c*u-A*h*d;break;case"XZY":this._x=A*c*u-l*h*d,this._y=l*h*u-A*c*d,this._z=l*c*d+A*h*u,this._w=l*c*u+A*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],l=e[2],c=e[6],u=e[10],A=n+a+u;if(A>0){const t=.5/Math.sqrt(A+1);this._w=.25/t,this._x=(c-s)*t,this._y=(i-l)*t,this._z=(o-r)*t}else if(n>a&&n>u){const t=2*Math.sqrt(1+n-a-u);this._w=(c-s)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+l)/t}else if(a>u){const t=2*Math.sqrt(1+a-n-u);this._w=(i-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(s+c)/t}else{const t=2*Math.sqrt(1+u-n-a);this._w=(o-r)/t,this._x=(i+l)/t,this._y=(s+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Mt(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-e)*c)/l,A=Math.sin(e*c)/l;return this._w=o*u+this._w*A,this._x=n*u+this._x*A,this._y=r*u+this._y*A,this._z=i*u+this._z*A,this._onChangeCallback(),this}slerpQuaternions(t,e,n){this.copy(t).slerp(e,n)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Nt.prototype.isQuaternion=!0;class jt{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Vt.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Vt.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*r-a*n,c=s*n+a*e-i*r,u=s*r+i*n-o*e,A=-i*e-o*n-a*r;return this.x=l*s+A*-i+c*-a-u*-o,this.y=c*s+A*-o+u*-i-l*-a,this.z=u*s+A*-a+l*-o-c*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Wt.copy(this).projectOnVector(t),this.sub(Wt)}reflect(t){return this.sub(Wt.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Mt(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}jt.prototype.isVector3=!0;const Wt=new jt,Vt=new Nt;class zt{constructor(t=new jt(1/0,1/0,1/0),e=new jt(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.length;s<l;s+=3){const l=t[s],c=t[s+1],u=t[s+2];l<e&&(e=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.count;s<l;s++){const l=t.getX(s),c=t.getY(s),u=t.getZ(s);l<e&&(e=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(e,n,r),this.max.set(i,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Kt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Zt.copy(e.boundingBox),Zt.applyMatrix4(t.matrixWorld),this.union(Zt));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Kt),Kt.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ne),re.subVectors(this.max,ne),Xt.subVectors(t.a,ne),qt.subVectors(t.b,ne),Jt.subVectors(t.c,ne),$t.subVectors(qt,Xt),te.subVectors(Jt,qt),ee.subVectors(Xt,Jt);let e=[0,-$t.z,$t.y,0,-te.z,te.y,0,-ee.z,ee.y,$t.z,0,-$t.x,te.z,0,-te.x,ee.z,0,-ee.x,-$t.y,$t.x,0,-te.y,te.x,0,-ee.y,ee.x,0];return!!ae(e,Xt,qt,Jt,re)&&(e=[1,0,0,0,1,0,0,0,1],!!ae(e,Xt,qt,Jt,re)&&(ie.crossVectors($t,te),e=[ie.x,ie.y,ie.z],ae(e,Xt,qt,Jt,re)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Kt.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Kt).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Gt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Gt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Gt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Gt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Gt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Gt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Gt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Gt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Gt)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}zt.prototype.isBox3=!0;const Gt=[new jt,new jt,new jt,new jt,new jt,new jt,new jt,new jt],Kt=new jt,Zt=new zt,Xt=new jt,qt=new jt,Jt=new jt,$t=new jt,te=new jt,ee=new jt,ne=new jt,re=new jt,ie=new jt,oe=new jt;function ae(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){oe.fromArray(t,o);const a=i.x*Math.abs(oe.x)+i.y*Math.abs(oe.y)+i.z*Math.abs(oe.z),s=e.dot(oe),l=n.dot(oe),c=r.dot(oe);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const se=new zt,le=new jt,ce=new jt,ue=new jt;class Ae{constructor(t=new jt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):se.setFromPoints(t).getCenter(n);let r=0;for(let e=0,i=t.length;e<i;e++)r=Math.max(r,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){ue.subVectors(t,this.center);const e=ue.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(ue.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return ce.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(le.copy(t.center).add(ce)),this.expandByPoint(le.copy(t.center).sub(ce)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const he=new jt,de=new jt,pe=new jt,fe=new jt,me=new jt,ge=new jt,ye=new jt;class ve{constructor(t=new jt,e=new jt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,he)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=he.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(he.copy(this.direction).multiplyScalar(e).add(this.origin),he.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){de.copy(t).add(e).multiplyScalar(.5),pe.copy(e).sub(t).normalize(),fe.copy(this.origin).sub(de);const i=.5*t.distanceTo(e),o=-this.direction.dot(pe),a=fe.dot(this.direction),s=-fe.dot(pe),l=fe.lengthSq(),c=Math.abs(1-o*o);let u,A,h,d;if(c>0)if(u=o*s-a,A=o*a-s,d=i*c,u>=0)if(A>=-d)if(A<=d){const t=1/c;u*=t,A*=t,h=u*(u+o*A+2*a)+A*(o*u+A+2*s)+l}else A=i,u=Math.max(0,-(o*A+a)),h=-u*u+A*(A+2*s)+l;else A=-i,u=Math.max(0,-(o*A+a)),h=-u*u+A*(A+2*s)+l;else A<=-d?(u=Math.max(0,-(-o*i+a)),A=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+A*(A+2*s)+l):A<=d?(u=0,A=Math.min(Math.max(-i,-s),i),h=A*(A+2*s)+l):(u=Math.max(0,-(o*i+a)),A=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+A*(A+2*s)+l);else A=o>0?-i:i,u=Math.max(0,-(o*A+a)),h=-u*u+A*(A+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(pe).multiplyScalar(A).add(de),h}intersectSphere(t,e){he.subVectors(t.center,this.origin);const n=he.dot(this.direction),r=he.dot(he)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,A=this.origin;return l>=0?(n=(t.min.x-A.x)*l,r=(t.max.x-A.x)*l):(n=(t.max.x-A.x)*l,r=(t.min.x-A.x)*l),c>=0?(i=(t.min.y-A.y)*c,o=(t.max.y-A.y)*c):(i=(t.max.y-A.y)*c,o=(t.min.y-A.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(t.min.z-A.z)*u,s=(t.max.z-A.z)*u):(a=(t.max.z-A.z)*u,s=(t.min.z-A.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,he)}intersectTriangle(t,e,n,r,i){me.subVectors(e,t),ge.subVectors(n,t),ye.crossVectors(me,ge);let o,a=this.direction.dot(ye);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}fe.subVectors(this.origin,t);const s=o*this.direction.dot(ge.crossVectors(fe,ge));if(s<0)return null;const l=o*this.direction.dot(me.cross(fe));if(l<0)return null;if(s+l>a)return null;const c=-o*fe.dot(ye);return c<0?null:this.at(c/a,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class _e{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,i,o,a,s,l,c,u,A,h,d,p,f){const m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=A,m[3]=h,m[7]=d,m[11]=p,m[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new _e).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/we.setFromMatrixColumn(t,0).length(),i=1/we.setFromMatrixColumn(t,1).length(),o=1/we.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){const t=o*c,n=o*u,r=a*c,i=a*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=n+r*l,e[5]=t-i*l,e[9]=-a*s,e[2]=i-t*l,e[6]=r+n*l,e[10]=o*s}else if("YXZ"===t.order){const t=s*c,n=s*u,r=l*c,i=l*u;e[0]=t+i*a,e[4]=r*a-n,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-a,e[2]=n*a-r,e[6]=i+t*a,e[10]=o*s}else if("ZXY"===t.order){const t=s*c,n=s*u,r=l*c,i=l*u;e[0]=t-i*a,e[4]=-o*u,e[8]=r+n*a,e[1]=n+r*a,e[5]=o*c,e[9]=i-t*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){const t=o*c,n=o*u,r=a*c,i=a*u;e[0]=s*c,e[4]=r*l-n,e[8]=t*l+i,e[1]=s*u,e[5]=i*l+t,e[9]=n*l-r,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){const t=o*s,n=o*l,r=a*s,i=a*l;e[0]=s*c,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=o*c,e[9]=-a*c,e[2]=-l*c,e[6]=n*u+r,e[10]=t-i*u}else if("XZY"===t.order){const t=o*s,n=o*l,r=a*s,i=a*l;e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=t*u+i,e[5]=o*c,e[9]=n*u-r,e[2]=r*u-n,e[6]=a*c,e[10]=i*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(xe,t,Me)}lookAt(t,e,n){const r=this.elements;return Ee.subVectors(t,e),0===Ee.lengthSq()&&(Ee.z=1),Ee.normalize(),Le.crossVectors(n,Ee),0===Le.lengthSq()&&(1===Math.abs(n.z)?Ee.x+=1e-4:Ee.z+=1e-4,Ee.normalize(),Le.crossVectors(n,Ee)),Le.normalize(),Ce.crossVectors(Ee,Le),r[0]=Le.x,r[4]=Ce.x,r[8]=Ee.x,r[1]=Le.y,r[5]=Ce.y,r[9]=Ee.y,r[2]=Le.z,r[6]=Ce.z,r[10]=Ee.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],A=n[9],h=n[13],d=n[2],p=n[6],f=n[10],m=n[14],g=n[3],y=n[7],v=n[11],_=n[15],w=r[0],b=r[4],x=r[8],M=r[12],L=r[1],C=r[5],E=r[9],B=r[13],S=r[2],T=r[6],D=r[10],I=r[14],P=r[3],F=r[7],k=r[11],R=r[15];return i[0]=o*w+a*L+s*S+l*P,i[4]=o*b+a*C+s*T+l*F,i[8]=o*x+a*E+s*D+l*k,i[12]=o*M+a*B+s*I+l*R,i[1]=c*w+u*L+A*S+h*P,i[5]=c*b+u*C+A*T+h*F,i[9]=c*x+u*E+A*D+h*k,i[13]=c*M+u*B+A*I+h*R,i[2]=d*w+p*L+f*S+m*P,i[6]=d*b+p*C+f*T+m*F,i[10]=d*x+p*E+f*D+m*k,i[14]=d*M+p*B+f*I+m*R,i[3]=g*w+y*L+v*S+_*P,i[7]=g*b+y*C+v*T+_*F,i[11]=g*x+y*E+v*D+_*k,i[15]=g*M+y*B+v*I+_*R,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],c=t[2],u=t[6],A=t[10],h=t[14];return t[3]*(+i*s*u-r*l*u-i*a*A+n*l*A+r*a*h-n*s*h)+t[7]*(+e*s*h-e*l*A+i*o*A-r*o*h+r*l*c-i*s*c)+t[11]*(+e*l*u-e*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+t[15]*(-r*a*c-e*s*u+e*a*A+r*o*u-n*o*A+n*s*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],A=t[10],h=t[11],d=t[12],p=t[13],f=t[14],m=t[15],g=u*f*l-p*A*l+p*s*h-a*f*h-u*s*m+a*A*m,y=d*A*l-c*f*l-d*s*h+o*f*h+c*s*m-o*A*m,v=c*p*l-d*u*l+d*a*h-o*p*h-c*a*m+o*u*m,_=d*u*s-c*p*s-d*a*A+o*p*A+c*a*f-o*u*f,w=e*g+n*y+r*v+i*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/w;return t[0]=g*b,t[1]=(p*A*i-u*f*i-p*r*h+n*f*h+u*r*m-n*A*m)*b,t[2]=(a*f*i-p*s*i+p*r*l-n*f*l-a*r*m+n*s*m)*b,t[3]=(u*s*i-a*A*i-u*r*l+n*A*l+a*r*h-n*s*h)*b,t[4]=y*b,t[5]=(c*f*i-d*A*i+d*r*h-e*f*h-c*r*m+e*A*m)*b,t[6]=(d*s*i-o*f*i-d*r*l+e*f*l+o*r*m-e*s*m)*b,t[7]=(o*A*i-c*s*i+c*r*l-e*A*l-o*r*h+e*s*h)*b,t[8]=v*b,t[9]=(d*u*i-c*p*i-d*n*h+e*p*h+c*n*m-e*u*m)*b,t[10]=(o*p*i-d*a*i+d*n*l-e*p*l-o*n*m+e*a*m)*b,t[11]=(c*a*i-o*u*i-c*n*l+e*u*l+o*n*h-e*a*h)*b,t[12]=_*b,t[13]=(c*p*r-d*u*r+d*n*A-e*p*A-c*n*f+e*u*f)*b,t[14]=(d*a*r-o*p*r-d*n*s+e*p*s+o*n*f-e*a*f)*b,t[15]=(o*u*r-c*a*r+c*n*s-e*u*s-o*n*A+e*a*A)*b,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,o){return this.set(1,n,i,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,l=i+i,c=o+o,u=a+a,A=i*l,h=i*c,d=i*u,p=o*c,f=o*u,m=a*u,g=s*l,y=s*c,v=s*u,_=n.x,w=n.y,b=n.z;return r[0]=(1-(p+m))*_,r[1]=(h+v)*_,r[2]=(d-y)*_,r[3]=0,r[4]=(h-v)*w,r[5]=(1-(A+m))*w,r[6]=(f+g)*w,r[7]=0,r[8]=(d+y)*b,r[9]=(f-g)*b,r[10]=(1-(A+p))*b,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=we.set(r[0],r[1],r[2]).length();const o=we.set(r[4],r[5],r[6]).length(),a=we.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],be.copy(this);const s=1/i,l=1/o,c=1/a;return be.elements[0]*=s,be.elements[1]*=s,be.elements[2]*=s,be.elements[4]*=l,be.elements[5]*=l,be.elements[6]*=l,be.elements[8]*=c,be.elements[9]*=c,be.elements[10]*=c,e.setFromRotationMatrix(be),n.x=i,n.y=o,n.z=a,this}makePerspective(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*i/(e-t),l=2*i/(n-r),c=(e+t)/(e-t),u=(n+r)/(n-r),A=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=A,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,r,i,o){const a=this.elements,s=1/(e-t),l=1/(n-r),c=1/(o-i),u=(e+t)*s,A=(n+r)*l,h=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-A,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}_e.prototype.isMatrix4=!0;const we=new jt,be=new _e,xe=new jt(0,0,0),Me=new jt(1,1,1),Le=new jt,Ce=new jt,Ee=new jt,Be=new _e,Se=new Nt;class Te{constructor(t=0,e=0,n=0,r=Te.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],A=r[6],h=r[10];switch(e){case"XYZ":this._y=Math.asin(Mt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(A,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Mt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Mt(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Mt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(A,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Mt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Mt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(A,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Be.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Be,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Se.setFromEuler(this),this.setFromQuaternion(Se,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new jt(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Te.prototype.isEuler=!0,Te.DefaultOrder="XYZ",Te.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class De{constructor(){this.mask=1}set(t){this.mask=1<<t}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}}let Ie=0;const Pe=new jt,Fe=new Nt,ke=new _e,Re=new jt,Ue=new jt,Oe=new jt,He=new Nt,Ye=new jt(1,0,0),Qe=new jt(0,1,0),Ne=new jt(0,0,1),je={type:"added"},We={type:"removed"};class Ve extends yt{constructor(){super(),Object.defineProperty(this,"id",{value:Ie++}),this.uuid=xt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ve.DefaultUp.clone();const t=new jt,e=new Te,n=new Nt,r=new jt(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _e},normalMatrix:{value:new It}}),this.matrix=new _e,this.matrixWorld=new _e,this.matrixAutoUpdate=Ve.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new De,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Fe.setFromAxisAngle(t,e),this.quaternion.multiply(Fe),this}rotateOnWorldAxis(t,e){return Fe.setFromAxisAngle(t,e),this.quaternion.premultiply(Fe),this}rotateX(t){return this.rotateOnAxis(Ye,t)}rotateY(t){return this.rotateOnAxis(Qe,t)}rotateZ(t){return this.rotateOnAxis(Ne,t)}translateOnAxis(t,e){return Pe.copy(t).applyQuaternion(this.quaternion),this.position.add(Pe.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ye,t)}translateY(t){return this.translateOnAxis(Qe,t)}translateZ(t){return this.translateOnAxis(Ne,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(ke.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Re.copy(t):Re.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Ue.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ke.lookAt(Ue,Re,this.up):ke.lookAt(Re,Ue,this.up),this.quaternion.setFromRotationMatrix(ke),r&&(ke.extractRotation(r.matrixWorld),Fe.setFromRotationMatrix(ke),this.quaternion.premultiply(Fe.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(je)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(We)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(We)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),ke.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ke.multiply(t.parent.matrixWorld)),t.applyMatrix4(ke),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ue,t,Oe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ue,He,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),a=o(t.images),s=o(t.shapes),l=o(t.skeletons),c=o(t.animations);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}Ve.DefaultUp=new jt(0,1,0),Ve.DefaultMatrixAutoUpdate=!0,Ve.prototype.isObject3D=!0;const ze=new jt,Ge=new jt,Ke=new jt,Ze=new jt,Xe=new jt,qe=new jt,Je=new jt,$e=new jt,tn=new jt,en=new jt;class nn{constructor(t=new jt,e=new jt,n=new jt){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),ze.subVectors(t,e),r.cross(ze);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){ze.subVectors(r,e),Ge.subVectors(n,e),Ke.subVectors(t,e);const o=ze.dot(ze),a=ze.dot(Ge),s=ze.dot(Ke),l=Ge.dot(Ge),c=Ge.dot(Ke),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const A=1/u,h=(l*s-a*c)*A,d=(o*c-a*s)*A;return i.set(1-h-d,d,h)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Ze),Ze.x>=0&&Ze.y>=0&&Ze.x+Ze.y<=1}static getUV(t,e,n,r,i,o,a,s){return this.getBarycoord(t,e,n,r,Ze),s.set(0,0),s.addScaledVector(i,Ze.x),s.addScaledVector(o,Ze.y),s.addScaledVector(a,Ze.z),s}static isFrontFacing(t,e,n,r){return ze.subVectors(n,e),Ge.subVectors(t,e),ze.cross(Ge).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ze.subVectors(this.c,this.b),Ge.subVectors(this.a,this.b),.5*ze.cross(Ge).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return nn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return nn.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,i){return nn.getUV(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return nn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return nn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,i=this.c;let o,a;Xe.subVectors(r,n),qe.subVectors(i,n),$e.subVectors(t,n);const s=Xe.dot($e),l=qe.dot($e);if(s<=0&&l<=0)return e.copy(n);tn.subVectors(t,r);const c=Xe.dot(tn),u=qe.dot(tn);if(c>=0&&u<=c)return e.copy(r);const A=s*u-c*l;if(A<=0&&s>=0&&c<=0)return o=s/(s-c),e.copy(n).addScaledVector(Xe,o);en.subVectors(t,i);const h=Xe.dot(en),d=qe.dot(en);if(d>=0&&h<=d)return e.copy(i);const p=h*l-s*d;if(p<=0&&l>=0&&d<=0)return a=l/(l-d),e.copy(n).addScaledVector(qe,a);const f=c*d-h*u;if(f<=0&&u-c>=0&&h-d>=0)return Je.subVectors(i,r),a=(u-c)/(u-c+(h-d)),e.copy(r).addScaledVector(Je,a);const m=1/(f+p+A);return o=p*m,a=A*m,e.copy(n).addScaledVector(Xe,o).addScaledVector(qe,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let rn=0;class on extends yt{constructor(){super(),Object.defineProperty(this,"id",{value:rn++}),this.uuid=xt(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=n,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pt,this.stencilZFail=pt,this.stencilZPass=pt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(n.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(n.specularTintMap=this.specularTintMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(n.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}on.prototype.isMaterial=!0;const an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sn={h:0,s:0,l:0},ln={h:0,s:0,l:0};function cn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function un(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function An(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class hn{constructor(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=Lt(t,1),e=Mt(e,0,1),n=Mt(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=cn(i,r,t+1/3),this.g=cn(i,r,t),this.b=cn(i,r,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,r,i)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=an[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=un(t.r),this.g=un(t.g),this.b=un(t.b),this}copyLinearToSRGB(t){return this.r=An(t.r),this.g=An(t.g),this.b=An(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){const e=this.r,n=this.g,r=this.b,i=Math.max(e,n,r),o=Math.min(e,n,r);let a,s;const l=(o+i)/2;if(o===i)a=0,s=0;else{const t=i-o;switch(s=l<=.5?t/(i+o):t/(2-i-o),i){case e:a=(n-r)/t+(n<r?6:0);break;case n:a=(r-e)/t+2;break;case r:a=(e-n)/t+4}a/=6}return t.h=a,t.s=s,t.l=l,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(sn),sn.h+=t,sn.s+=e,sn.l+=n,this.setHSL(sn.h,sn.s,sn.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(sn),t.getHSL(ln);const n=Ct(sn.h,ln.h,e),r=Ct(sn.s,ln.s,e),i=Ct(sn.l,ln.l,e);return this.setHSL(n,r,i),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}hn.NAMES=an,hn.prototype.isColor=!0,hn.prototype.r=1,hn.prototype.g=1,hn.prototype.b=1;class dn extends on{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new hn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}dn.prototype.isMeshBasicMaterial=!0;const pn=new jt,fn=new Dt;class mn{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=ft,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new hn),e[n++]=i.r,e[n++]=i.g,e[n++]=i.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new Dt),e[n++]=i.x,e[n++]=i.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new jt),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new Ot),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z,e[n++]=i.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)fn.fromBufferAttribute(this,e),fn.applyMatrix3(t),this.setXY(e,fn.x,fn.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)pn.fromBufferAttribute(this,e),pn.applyMatrix3(t),this.setXYZ(e,pn.x,pn.y,pn.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)pn.x=this.getX(e),pn.y=this.getY(e),pn.z=this.getZ(e),pn.applyMatrix4(t),this.setXYZ(e,pn.x,pn.y,pn.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)pn.x=this.getX(e),pn.y=this.getY(e),pn.z=this.getZ(e),pn.applyNormalMatrix(t),this.setXYZ(e,pn.x,pn.y,pn.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)pn.x=this.getX(e),pn.y=this.getY(e),pn.z=this.getZ(e),pn.transformDirection(t),this.setXYZ(e,pn.x,pn.y,pn.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==ft&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}mn.prototype.isBufferAttribute=!0;class gn extends mn{constructor(t,e,n){super(new Int8Array(t),e,n)}}class yn extends mn{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class vn extends mn{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class _n extends mn{constructor(t,e,n){super(new Int16Array(t),e,n)}}class wn extends mn{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class bn extends mn{constructor(t,e,n){super(new Int32Array(t),e,n)}}class xn extends mn{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Mn extends mn{constructor(t,e,n){super(new Uint16Array(t),e,n)}}Mn.prototype.isFloat16BufferAttribute=!0;class Ln extends mn{constructor(t,e,n){super(new Float32Array(t),e,n)}}class Cn extends mn{constructor(t,e,n){super(new Float64Array(t),e,n)}}function En(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}const Bn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Sn(t,e){return new Bn[t](e)}let Tn=0;const Dn=new _e,In=new Ve,Pn=new jt,Fn=new zt,kn=new zt,Rn=new jt;class Un extends yt{constructor(){super(),Object.defineProperty(this,"id",{value:Tn++}),this.uuid=xt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(En(t)>65535?xn:wn)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new It).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Dn.makeRotationFromQuaternion(t),this.applyMatrix4(Dn),this}rotateX(t){return Dn.makeRotationX(t),this.applyMatrix4(Dn),this}rotateY(t){return Dn.makeRotationY(t),this.applyMatrix4(Dn),this}rotateZ(t){return Dn.makeRotationZ(t),this.applyMatrix4(Dn),this}translate(t,e,n){return Dn.makeTranslation(t,e,n),this.applyMatrix4(Dn),this}scale(t,e,n){return Dn.makeScale(t,e,n),this.applyMatrix4(Dn),this}lookAt(t){return In.lookAt(t),In.updateMatrix(),this.applyMatrix4(In.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pn).negate(),this.translate(Pn.x,Pn.y,Pn.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ln(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new zt);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new jt(-1/0,-1/0,-1/0),new jt(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Fn.setFromBufferAttribute(n),this.morphTargetsRelative?(Rn.addVectors(this.boundingBox.min,Fn.min),this.boundingBox.expandByPoint(Rn),Rn.addVectors(this.boundingBox.max,Fn.max),this.boundingBox.expandByPoint(Rn)):(this.boundingBox.expandByPoint(Fn.min),this.boundingBox.expandByPoint(Fn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ae);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new jt,1/0);if(t){const n=this.boundingSphere.center;if(Fn.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];kn.setFromBufferAttribute(n),this.morphTargetsRelative?(Rn.addVectors(Fn.min,kn.min),Fn.expandByPoint(Rn),Rn.addVectors(Fn.max,kn.max),Fn.expandByPoint(Rn)):(Fn.expandByPoint(kn.min),Fn.expandByPoint(kn.max))}Fn.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)Rn.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(Rn));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],a=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)Rn.fromBufferAttribute(o,e),a&&(Pn.fromBufferAttribute(t,e),Rn.add(Pn)),r=Math.max(r,n.distanceToSquared(Rn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,i=e.normal.array,o=e.uv.array,a=r.length/3;void 0===e.tangent&&this.setAttribute("tangent",new mn(new Float32Array(4*a),4));const s=e.tangent.array,l=[],c=[];for(let t=0;t<a;t++)l[t]=new jt,c[t]=new jt;const u=new jt,A=new jt,h=new jt,d=new Dt,p=new Dt,f=new Dt,m=new jt,g=new jt;function y(t,e,n){u.fromArray(r,3*t),A.fromArray(r,3*e),h.fromArray(r,3*n),d.fromArray(o,2*t),p.fromArray(o,2*e),f.fromArray(o,2*n),A.sub(u),h.sub(u),p.sub(d),f.sub(d);const i=1/(p.x*f.y-f.x*p.y);isFinite(i)&&(m.copy(A).multiplyScalar(f.y).addScaledVector(h,-p.y).multiplyScalar(i),g.copy(h).multiplyScalar(p.x).addScaledVector(A,-f.x).multiplyScalar(i),l[t].add(m),l[e].add(m),l[n].add(m),c[t].add(g),c[e].add(g),c[n].add(g))}let v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let t=0,e=v.length;t<e;++t){const e=v[t],r=e.start;for(let t=r,i=r+e.count;t<i;t+=3)y(n[t+0],n[t+1],n[t+2])}const _=new jt,w=new jt,b=new jt,x=new jt;function M(t){b.fromArray(i,3*t),x.copy(b);const e=l[t];_.copy(e),_.sub(b.multiplyScalar(b.dot(e))).normalize(),w.crossVectors(x,e);const n=w.dot(c[t])<0?-1:1;s[4*t]=_.x,s[4*t+1]=_.y,s[4*t+2]=_.z,s[4*t+3]=n}for(let t=0,e=v.length;t<e;++t){const e=v[t],r=e.start;for(let t=r,i=r+e.count;t<i;t+=3)M(n[t+0]),M(n[t+1]),M(n[t+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new mn(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new jt,i=new jt,o=new jt,a=new jt,s=new jt,l=new jt,c=new jt,u=new jt;if(t)for(let A=0,h=t.count;A<h;A+=3){const h=t.getX(A+0),d=t.getX(A+1),p=t.getX(A+2);r.fromBufferAttribute(e,h),i.fromBufferAttribute(e,d),o.fromBufferAttribute(e,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,d),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let t=0,a=e.count;t<a;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const i=n[r].array,o=t.attributes[r],a=o.array,s=o.itemSize*e,l=Math.min(a.length,i.length-s);for(let t=0,e=s;t<l;t++,e++)i[e]=a[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Rn.fromBufferAttribute(t,e),Rn.normalize(),t.setXYZ(e,Rn.x,Rn.y,Rn.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let a=0,s=0;for(let i=0,l=e.length;i<l;i++){a=t.isInterleavedBufferAttribute?e[i]*t.data.stride+t.offset:e[i]*r;for(let t=0;t<r;t++)o[s++]=n[a++]}return new mn(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Un,n=this.index.array,r=this.attributes;for(const i in r){const o=t(r[i],n);e.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],a=i[r];for(let e=0,r=a.length;e<r;e++){const r=t(a[e],n);o.push(r)}e.morphAttributes[r]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const r=n[e];t.data.attributes[e]=r.toJSON(t.data)}const r={};let i=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];o.push(r.toJSON(t.data))}o.length>0&&(r[e]=o,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new Un).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const t in r){const n=r[t];this.setAttribute(t,n.clone(e))}const i=t.morphAttributes;for(const t in i){const n=[],r=i[t];for(let t=0,i=r.length;t<i;t++)n.push(r[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}Un.prototype.isBufferGeometry=!0;const On=new _e,Hn=new ve,Yn=new Ae,Qn=new jt,Nn=new jt,jn=new jt,Wn=new jt,Vn=new jt,zn=new jt,Gn=new jt,Kn=new jt,Zn=new jt,Xn=new Dt,qn=new Dt,Jn=new Dt,$n=new jt,tr=new jt;class er extends Ve{constructor(t=new Un,e=new dn){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Yn.copy(n.boundingSphere),Yn.applyMatrix4(i),!1===t.ray.intersectsSphere(Yn))return;if(On.copy(i).invert(),Hn.copy(t.ray).applyMatrix4(On),null!==n.boundingBox&&!1===Hn.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,a=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,A=n.groups,h=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,d=A.length;n<d;n++){const d=A[n],p=r[d.materialIndex];for(let n=Math.max(d.start,h.start),r=Math.min(d.start+d.count,h.start+h.count);n<r;n+=3){const r=i.getX(n),A=i.getX(n+1),h=i.getX(n+2);o=rr(this,p,t,Hn,a,s,l,c,u,r,A,h),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=d.materialIndex,e.push(o))}}else for(let n=Math.max(0,h.start),A=Math.min(i.count,h.start+h.count);n<A;n+=3){const A=i.getX(n),h=i.getX(n+1),d=i.getX(n+2);o=rr(this,r,t,Hn,a,s,l,c,u,A,h,d),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==a)if(Array.isArray(r))for(let n=0,i=A.length;n<i;n++){const i=A[n],d=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(i.start+i.count,h.start+h.count);n<r;n+=3)o=rr(this,d,t,Hn,a,s,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,e.push(o))}else for(let n=Math.max(0,h.start),i=Math.min(a.count,h.start+h.count);n<i;n+=3)o=rr(this,r,t,Hn,a,s,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function nr(t,e,n,r,i,o,a,s){let l;if(l=1===e.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==e.side,s),null===l)return null;tr.copy(s),tr.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(tr);return c<n.near||c>n.far?null:{distance:c,point:tr.clone(),object:t}}function rr(t,e,n,r,i,o,a,s,l,c,u,A){Qn.fromBufferAttribute(i,c),Nn.fromBufferAttribute(i,u),jn.fromBufferAttribute(i,A);const h=t.morphTargetInfluences;if(o&&h){Gn.set(0,0,0),Kn.set(0,0,0),Zn.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=h[t],n=o[t];0!==e&&(Wn.fromBufferAttribute(n,c),Vn.fromBufferAttribute(n,u),zn.fromBufferAttribute(n,A),a?(Gn.addScaledVector(Wn,e),Kn.addScaledVector(Vn,e),Zn.addScaledVector(zn,e)):(Gn.addScaledVector(Wn.sub(Qn),e),Kn.addScaledVector(Vn.sub(Nn),e),Zn.addScaledVector(zn.sub(jn),e)))}Qn.add(Gn),Nn.add(Kn),jn.add(Zn)}t.isSkinnedMesh&&(t.boneTransform(c,Qn),t.boneTransform(u,Nn),t.boneTransform(A,jn));const d=nr(t,e,n,r,Qn,Nn,jn,$n);if(d){s&&(Xn.fromBufferAttribute(s,c),qn.fromBufferAttribute(s,u),Jn.fromBufferAttribute(s,A),d.uv=nn.getUV($n,Qn,Nn,jn,Xn,qn,Jn,new Dt)),l&&(Xn.fromBufferAttribute(l,c),qn.fromBufferAttribute(l,u),Jn.fromBufferAttribute(l,A),d.uv2=nn.getUV($n,Qn,Nn,jn,Xn,qn,Jn,new Dt));const t={a:c,b:u,c:A,normal:new jt,materialIndex:0};nn.getNormal(Qn,Nn,jn,t.normal),d.face=t}return d}er.prototype.isMesh=!0;class ir extends Un{constructor(t=1,e=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let A=0,h=0;function d(t,e,n,r,i,o,d,p,f,m,g){const y=o/f,v=d/m,_=o/2,w=d/2,b=p/2,x=f+1,M=m+1;let L=0,C=0;const E=new jt;for(let o=0;o<M;o++){const a=o*v-w;for(let s=0;s<x;s++){const A=s*y-_;E[t]=A*r,E[e]=a*i,E[n]=b,l.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=p>0?1:-1,c.push(E.x,E.y,E.z),u.push(s/f),u.push(1-o/m),L+=1}}for(let t=0;t<m;t++)for(let e=0;e<f;e++){const n=A+e+x*t,r=A+e+x*(t+1),i=A+(e+1)+x*(t+1),o=A+(e+1)+x*t;s.push(n,r,o),s.push(r,i,o),C+=6}a.addGroup(h,C,g),h+=C,A+=L}d("z","y","x",-1,-1,n,e,t,o,i,0),d("z","y","x",1,-1,n,e,-t,o,i,1),d("x","z","y",1,1,t,n,e,r,o,2),d("x","z","y",1,-1,t,n,-e,r,o,3),d("x","y","z",1,-1,t,e,n,r,i,4),d("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Ln(l,3)),this.setAttribute("normal",new Ln(c,3)),this.setAttribute("uv",new Ln(u,2))}static fromJSON(t){return new ir(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function or(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ar(t){const e={};for(let n=0;n<t.length;n++){const r=or(t[n]);for(const t in r)e[t]=r[t]}return e}const sr={clone:or,merge:ar};class lr extends on{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=or(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}lr.prototype.isShaderMaterial=!0;class cr extends Ve{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new _e,this.projectionMatrix=new _e,this.projectionMatrixInverse=new _e}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}cr.prototype.isCamera=!0;class ur extends cr{constructor(t=50,e=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*bt*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*wt*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*bt*Math.atan(Math.tan(.5*wt*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*wt*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/a,r*=o.width/t,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}ur.prototype.isPerspectiveCamera=!0;const Ar=90;class hr extends Ve{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new ur(Ar,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new jt(1,0,0)),this.add(r);const i=new ur(Ar,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new jt(-1,0,0)),this.add(i);const o=new ur(Ar,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new jt(0,1,0)),this.add(o);const a=new ur(Ar,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new jt(0,-1,0)),this.add(a);const s=new ur(Ar,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new jt(0,0,1)),this.add(s);const l=new ur(Ar,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new jt(0,0,-1)),this.add(l)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,o,a,s,l]=this.children,c=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;const A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,i),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=A,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(u),t.xr.enabled=c}}class dr extends Rt{constructor(t,e,n,r,i,o,a,s,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:g,n,r,i,o,a=void 0!==a?a:O,s,l,c),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}dr.prototype.isCubeTexture=!0;class pr extends Ht{constructor(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),super(t,t,e),e=e||{},this.texture=new dr(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:S,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=H,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new ir(5,5,5),a=new lr({name:"CubemapFromEquirect",uniforms:or(n),vertexShader:r,fragmentShader:i,side:1,blending:0});a.uniforms.tEquirect.value=e;const s=new er(o,a),l=e.minFilter;return e.minFilter===D&&(e.minFilter=S),new hr(1,10,this).update(t,s),e.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,n,r){const i=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,n,r);t.setRenderTarget(i)}}pr.prototype.isWebGLCubeRenderTarget=!0;const fr=new jt,mr=new jt,gr=new It;class yr{constructor(t=new jt(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=fr.subVectors(n,e).cross(mr.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(fr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(n).multiplyScalar(i).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||gr.getNormalMatrix(t),r=this.coplanarPoint(fr).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}yr.prototype.isPlane=!0;const vr=new Ae,_r=new jt;class wr{constructor(t=new yr,e=new yr,n=new yr,r=new yr,i=new yr,o=new yr){this.planes=[t,e,n,r,i,o]}set(t,e,n,r,i,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],A=n[8],h=n[9],d=n[10],p=n[11],f=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,u-s,p-A,y-f).normalize(),e[1].setComponents(a+r,u+s,p+A,y+f).normalize(),e[2].setComponents(a+i,u+l,p+h,y+m).normalize(),e[3].setComponents(a-i,u-l,p-h,y-m).normalize(),e[4].setComponents(a-o,u-c,p-d,y-g).normalize(),e[5].setComponents(a+o,u+c,p+d,y+g).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),vr.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(vr)}intersectsSprite(t){return vr.center.set(0,0,0),vr.radius=.7071067811865476,vr.applyMatrix4(t.matrixWorld),this.intersectsSphere(vr)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(_r.x=r.normal.x>0?t.max.x:t.min.x,_r.y=r.normal.y>0?t.max.y:t.min.y,_r.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(_r)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function br(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function xr(t,e){const n=e.isWebGL2,r=new WeakMap;function i(e,r){const i=e.array,o=e.usage,a=t.createBuffer();t.bindBuffer(r,a),t.bufferData(r,i,o),e.onUploadCallback();let s=t.FLOAT;return i instanceof Float32Array?s=t.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=t.HALF_FLOAT:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=t.UNSIGNED_SHORT:i instanceof Int16Array?s=t.SHORT:i instanceof Uint32Array?s=t.UNSIGNED_INT:i instanceof Int32Array?s=t.INT:i instanceof Int8Array?s=t.BYTE:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=t.UNSIGNED_BYTE),{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function o(e,r,i){const o=r.array,a=r.updateRange;t.bindBuffer(i,e),-1===a.count?t.bufferSubData(i,0,o):(n?t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))},update:function(t,e){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);void 0===n?r.set(t,i(t,e)):n.version<t.version&&(o(n.buffer,t,e),n.version=t.version)}}}class Mr extends Un{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,o=e/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=t/a,A=e/s,h=[],d=[],p=[],f=[];for(let t=0;t<c;t++){const e=t*A-o;for(let n=0;n<l;n++){const r=n*u-i;d.push(r,-e,0),p.push(0,0,1),f.push(n/a),f.push(1-t/s)}}for(let t=0;t<s;t++)for(let e=0;e<a;e++){const n=e+l*t,r=e+l*(t+1),i=e+1+l*(t+1),o=e+1+l*t;h.push(n,r,o),h.push(r,i,o)}this.setIndex(h),this.setAttribute("position",new Ln(d,3)),this.setAttribute("normal",new Ln(p,3)),this.setAttribute("uv",new Ln(f,2))}static fromJSON(t){return new Mr(t.width,t.height,t.widthSegments,t.heightSegments)}}const Lr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in vec3 f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( f90 - f0 ) * fresnel + f0;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in vec3 f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, vec3( 1.0 ), dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\t#ifdef SPECULAR\n\t\tvec3 specularIntensityFactor = vec3( specularIntensity );\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularColorF90 = mix( specularIntensityFactor, vec3( 1.0 ), metalnessFactor );\n\t#else\n\t\tvec3 specularIntensityFactor = vec3( 1.0 );\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularColorF90 = vec3( 1.0 );\n\t#endif\n\tmaterial.specularColor = mix( min( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularColorF90 = vec3( 1.0 );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n\tvec3 specularColorF90;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), vec3( 1.0 ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularColorF90, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tnormal, v, roughnessFactor, material.diffuseColor, material.specularColor,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Cr={common:{diffuse:{value:new hn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new It},uv2Transform:{value:new It},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new hn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new hn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new It}},sprite:{diffuse:{value:new hn(16777215)},opacity:{value:1},center:{value:new Dt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new It}}},Er={basic:{uniforms:ar([Cr.common,Cr.specularmap,Cr.envmap,Cr.aomap,Cr.lightmap,Cr.fog]),vertexShader:Lr.meshbasic_vert,fragmentShader:Lr.meshbasic_frag},lambert:{uniforms:ar([Cr.common,Cr.specularmap,Cr.envmap,Cr.aomap,Cr.lightmap,Cr.emissivemap,Cr.fog,Cr.lights,{emissive:{value:new hn(0)}}]),vertexShader:Lr.meshlambert_vert,fragmentShader:Lr.meshlambert_frag},phong:{uniforms:ar([Cr.common,Cr.specularmap,Cr.envmap,Cr.aomap,Cr.lightmap,Cr.emissivemap,Cr.bumpmap,Cr.normalmap,Cr.displacementmap,Cr.fog,Cr.lights,{emissive:{value:new hn(0)},specular:{value:new hn(1118481)},shininess:{value:30}}]),vertexShader:Lr.meshphong_vert,fragmentShader:Lr.meshphong_frag},standard:{uniforms:ar([Cr.common,Cr.envmap,Cr.aomap,Cr.lightmap,Cr.emissivemap,Cr.bumpmap,Cr.normalmap,Cr.displacementmap,Cr.roughnessmap,Cr.metalnessmap,Cr.fog,Cr.lights,{emissive:{value:new hn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lr.meshphysical_vert,fragmentShader:Lr.meshphysical_frag},toon:{uniforms:ar([Cr.common,Cr.aomap,Cr.lightmap,Cr.emissivemap,Cr.bumpmap,Cr.normalmap,Cr.displacementmap,Cr.gradientmap,Cr.fog,Cr.lights,{emissive:{value:new hn(0)}}]),vertexShader:Lr.meshtoon_vert,fragmentShader:Lr.meshtoon_frag},matcap:{uniforms:ar([Cr.common,Cr.bumpmap,Cr.normalmap,Cr.displacementmap,Cr.fog,{matcap:{value:null}}]),vertexShader:Lr.meshmatcap_vert,fragmentShader:Lr.meshmatcap_frag},points:{uniforms:ar([Cr.points,Cr.fog]),vertexShader:Lr.points_vert,fragmentShader:Lr.points_frag},dashed:{uniforms:ar([Cr.common,Cr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lr.linedashed_vert,fragmentShader:Lr.linedashed_frag},depth:{uniforms:ar([Cr.common,Cr.displacementmap]),vertexShader:Lr.depth_vert,fragmentShader:Lr.depth_frag},normal:{uniforms:ar([Cr.common,Cr.bumpmap,Cr.normalmap,Cr.displacementmap,{opacity:{value:1}}]),vertexShader:Lr.normal_vert,fragmentShader:Lr.normal_frag},sprite:{uniforms:ar([Cr.sprite,Cr.fog]),vertexShader:Lr.sprite_vert,fragmentShader:Lr.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null}},vertexShader:Lr.background_vert,fragmentShader:Lr.background_frag},cube:{uniforms:ar([Cr.envmap,{opacity:{value:1}}]),vertexShader:Lr.cube_vert,fragmentShader:Lr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lr.equirect_vert,fragmentShader:Lr.equirect_frag},distanceRGBA:{uniforms:ar([Cr.common,Cr.displacementmap,{referencePosition:{value:new jt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lr.distanceRGBA_vert,fragmentShader:Lr.distanceRGBA_frag},shadow:{uniforms:ar([Cr.lights,Cr.fog,{color:{value:new hn(0)},opacity:{value:1}}]),vertexShader:Lr.shadow_vert,fragmentShader:Lr.shadow_frag}};function Br(t,e,n,r,i){const o=new hn(0);let a,s,l=0,c=null,u=0,A=null;function h(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,i)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),l=e,h(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(t){l=t,h(o,l)},render:function(n,i){let d=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=e.get(p));const f=t.xr,m=f.getSession&&f.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?h(o,l):p&&p.isColor&&(h(p,1),d=!0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.mapping===w)?(void 0===s&&(s=new er(new ir(1,1,1),new lr({name:"BackgroundCubeMaterial",uniforms:or(Er.cube.uniforms),vertexShader:Er.cube.vertexShader,fragmentShader:Er.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=p,s.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,c===p&&u===p.version&&A===t.toneMapping||(s.material.needsUpdate=!0,c=p,u=p.version,A=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):p&&p.isTexture&&(void 0===a&&(a=new er(new Mr(2,2),new lr({name:"BackgroundMaterial",uniforms:or(Er.background.uniforms),vertexShader:Er.background.vertexShader,fragmentShader:Er.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),a.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&u===p.version&&A===t.toneMapping||(a.material.needsUpdate=!0,c=p,u=p.version,A=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Sr(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null);let c=l;function u(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function A(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return r.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function d(t,e,n){const r=!0===n.wireframe;let i=s[t.id];void 0===i&&(i={},s[t.id]=i);let o=i[e.id];void 0===o&&(o={},i[e.id]=o);let a=o[r];return void 0===a&&(a=p(u()),o[r]=a),a}function p(t){const e=[],n=[],r=[];for(let t=0;t<i;t++)e[t]=0,n[t]=0,r[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function f(){const t=c.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function m(t){g(t,0)}function g(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==i&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function y(){const e=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function v(e,n,i,o,a,s){!0!==r.isWebGL2||i!==t.INT&&i!==t.UNSIGNED_INT?t.vertexAttribPointer(e,n,i,o,a,s):t.vertexAttribIPointer(e,n,i,a,s)}function _(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;f();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const e in c){const r=c[e];if(r>=0){const o=l[e];if(void 0!==o){const e=o.normalized,i=o.itemSize,a=n.get(o);if(void 0===a)continue;const l=a.buffer,c=a.type,u=a.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,a=n.stride,A=o.offset;n&&n.isInstancedInterleavedBuffer?(g(r,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):m(r),t.bindBuffer(t.ARRAY_BUFFER,l),v(r,i,c,e,a*u,A*u)}else o.isInstancedBufferAttribute?(g(r,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):m(r),t.bindBuffer(t.ARRAY_BUFFER,l),v(r,i,c,e,0,0)}else if("instanceMatrix"===e){const e=n.get(i.instanceMatrix);if(void 0===e)continue;const o=e.buffer,a=e.type;g(r+0,1),g(r+1,1),g(r+2,1),g(r+3,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(r+0,4,a,!1,64,0),t.vertexAttribPointer(r+1,4,a,!1,64,16),t.vertexAttribPointer(r+2,4,a,!1,64,32),t.vertexAttribPointer(r+3,4,a,!1,64,48)}else if("instanceColor"===e){const e=n.get(i.instanceColor);if(void 0===e)continue;const o=e.buffer,a=e.type;g(r,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(r,3,a,!1,12,0)}else if(void 0!==u){const n=u[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r,n);break;case 3:t.vertexAttrib3fv(r,n);break;case 4:t.vertexAttrib4fv(r,n);break;default:t.vertexAttrib1fv(r,n)}}}}y()}function w(){b(),c!==l&&(c=l,A(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(e,r,i,o,s){let l=!1;if(a){const t=d(o,i,r);c!==t&&(c=t,A(c.object)),l=function(t,e){const n=c.attributes,r=t.attributes;let i=0;for(const t in r){const e=n[t],o=r[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;i++}return c.attributesNum!==i||c.index!==e}(o,s),l&&function(t,e){const n={},r=t.attributes;let i=0;for(const t in r){const e=r[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,i++}c.attributes=n,c.attributesNum=i,c.index=e}(o,s)}else{const t=!0===r.wireframe;c.geometry===o.id&&c.program===i.id&&c.wireframe===t||(c.geometry=o.id,c.program=i.id,c.wireframe=t,l=!0)}!0===e.isInstancedMesh&&(l=!0),null!==s&&n.update(s,t.ELEMENT_ARRAY_BUFFER),l&&(_(e,r,i,o),null!==s&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(s).buffer))},reset:w,resetDefaultState:b,dispose:function(){w();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;const e=s[t.id];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete s[t.id]},releaseStatesOfProgram:function(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)h(r[t].object),delete r[t];delete n[t.id]}},initAttributes:f,enableAttribute:m,disableUnusedAttributes:y}}function Tr(t,e,n,r){const i=r.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function Dr(t,e,n){let r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||e.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=A>0,v=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:A,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:o?t.getParameter(t.MAX_SAMPLES):0}}function Ir(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new yr,s=new It,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(t,n,r,i){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const e=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,n=r;e!==o;++e,n+=4)a.copy(t[e]).applyMatrix4(i,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const a=0!==t.length||e||0!==r||i;return i=e,n=u(t,o,0),r=t.length,a},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(e,a,s){const A=e.clippingPlanes,h=e.clipIntersection,d=e.clipShadows,p=t.get(e);if(!i||null===A||0===A.length||o&&!d)o?u(null):c();else{const t=o?0:r,e=4*t;let i=p.clippingState||null;l.value=i,i=u(A,a,e,s);for(let t=0;t!==e;++t)i[t]=n[t];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=t}}}function Pr(t){let e=new WeakMap;function n(t,e){return e===v?t.mapping=g:e===_&&(t.mapping=y),t}function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===v||o===_){if(e.has(i))return n(e.get(i).texture,i.mapping);{const o=i.image;if(o&&o.height>0){const a=t.getRenderTarget(),s=new pr(o.height/2);return s.fromEquirectangularTexture(t,i),e.set(i,s),t.setRenderTarget(a),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i},dispose:function(){e=new WeakMap}}}Er.physical={uniforms:ar([Er.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Dt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new hn(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new hn(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new hn(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Lr.meshphysical_vert,fragmentShader:Lr.meshphysical_frag};class Fr extends cr{constructor(t=-1,e=1,n=1,r=-1,i=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,a-=e*this.view.offsetY,s=a-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Fr.prototype.isOrthographicCamera=!0;class kr extends lr{constructor(t){super(t),this.type="RawShaderMaterial"}}kr.prototype.isRawShaderMaterial=!0;const Rr=Math.pow(2,8),Ur=[.125,.215,.35,.446,.526,.582],Or=5+Ur.length,Hr=20,Yr={[st]:0,[lt]:1,[ut]:2,[At]:3,[ht]:4,[dt]:5,[ct]:6},Qr=new dn({side:1,depthWrite:!1,depthTest:!1}),Nr=new er(new ir,Qr),jr=new Fr,{_lodPlanes:Wr,_sizeLods:Vr,_sigmas:zr}=function(){const t=[],e=[],n=[];let r=8;for(let i=0;i<Or;i++){const o=Math.pow(2,r);e.push(o);let a=1/o;i>4?a=Ur[i-8+4-1]:0==i&&(a=0),n.push(a);const s=1/(o-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],A=6,h=6,d=3,p=2,f=1,m=new Float32Array(d*h*A),g=new Float32Array(p*h*A),y=new Float32Array(f*h*A);for(let t=0;t<A;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];m.set(r,d*h*t),g.set(u,p*h*t);const i=[t,t,t,t,t,t];y.set(i,f*h*t)}const v=new Un;v.setAttribute("position",new mn(m,d)),v.setAttribute("uv",new mn(g,p)),v.setAttribute("faceIndex",new mn(y,f)),t.push(v),r>4&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),Gr=new hn;let Kr=null;const Zr=(1+Math.sqrt(5))/2,Xr=1/Zr,qr=[new jt(1,1,1),new jt(-1,1,1),new jt(1,1,-1),new jt(-1,1,-1),new jt(0,Zr,Xr),new jt(0,Zr,-Xr),new jt(Xr,0,Zr),new jt(-Xr,0,Zr),new jt(Zr,Xr,0),new jt(-Zr,Xr,0)];function Jr(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);return t.multiplyScalar(Math.pow(2,-n)),(n+128)/255}class $r{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),n=new jt(0,1,0);return new kr({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Yr[st]},outputEncoding:{value:Yr[st]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(Hr),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Kr=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=ii(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=ri(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<Wr.length;t++)Wr[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Kr),t.scissorTest=!1,ni(t,0,0,t.width,t.height)}_fromTexture(t){Kr=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:C,minFilter:C,generateMipmaps:!1,type:I,format:Y,encoding:ti(t)?t.encoding:ut,depthBuffer:!1},n=ei(e);return n.depthBuffer=!t,this._pingPongRenderTarget=ei(e),n}_compileMaterial(t){const e=new er(Wr[0],t);this._renderer.compile(e,jr)}_sceneToCubeUV(t,e,n,r){const i=new ur(90,1,e,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.outputEncoding,u=s.toneMapping;s.getClearColor(Gr),s.toneMapping=0,s.outputEncoding=st,s.autoClear=!1;let A=!1;const h=t.background;if(h){if(h.isColor){Qr.color.copy(h).convertSRGBToLinear(),t.background=null;const e=Jr(Qr.color);Qr.opacity=e,A=!0}}else{Qr.color.copy(Gr).convertSRGBToLinear();const t=Jr(Qr.color);Qr.opacity=t,A=!0}for(let e=0;e<6;e++){const n=e%3;0==n?(i.up.set(0,o[e],0),i.lookAt(a[e],0,0)):1==n?(i.up.set(0,0,o[e]),i.lookAt(0,a[e],0)):(i.up.set(0,o[e],0),i.lookAt(0,0,a[e])),ni(r,n*Rr,e>2?Rr:0,Rr,Rr),s.setRenderTarget(r),A&&s.render(Nr,i),s.render(t,i)}s.toneMapping=u,s.outputEncoding=c,s.autoClear=l}_textureToCubeUV(t,e){const n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=ii()):null==this._equirectShader&&(this._equirectShader=ri());const r=t.isCubeTexture?this._cubemapShader:this._equirectShader,i=new er(Wr[0],r),o=r.uniforms;o.envMap.value=t,t.isCubeTexture||o.texelSize.value.set(1/t.image.width,1/t.image.height),o.inputEncoding.value=Yr[t.encoding],o.outputEncoding.value=Yr[e.texture.encoding],ni(e,0,0,3*Rr,2*Rr),n.setRenderTarget(e),n.render(i,jr)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let e=1;e<Or;e++){const n=Math.sqrt(zr[e]*zr[e]-zr[e-1]*zr[e-1]),r=qr[(e-1)%qr.length];this._blur(t,e-1,e,n,r)}e.autoClear=n}_blur(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new er(Wr[r],l),u=l.uniforms,A=Vr[n]-1,h=isFinite(i)?Math.PI/(2*A):2*Math.PI/39,d=i/h,p=isFinite(i)?1+Math.floor(3*d):Hr;p>Hr&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const f=[];let m=0;for(let t=0;t<Hr;++t){const e=t/d,n=Math.exp(-e*e/2);f.push(n),0==t?m+=n:t<p&&(m+=2*n)}for(let t=0;t<f.length;t++)f[t]=f[t]/m;u.envMap.value=t.texture,u.samples.value=p,u.weights.value=f,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=h,u.mipInt.value=8-n,u.inputEncoding.value=Yr[t.texture.encoding],u.outputEncoding.value=Yr[t.texture.encoding];const g=Vr[r];ni(e,3*Math.max(0,Rr-2*g),(0===r?0:2*Rr)+2*g*(r>4?r-8+4:0),3*g,2*g),s.setRenderTarget(e),s.render(c,jr)}}function ti(t){return void 0!==t&&t.type===I&&(t.encoding===st||t.encoding===lt||t.encoding===ct)}function ei(t){const e=new Ht(3*Rr,3*Rr,t);return e.texture.mapping=w,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function ni(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function ri(){const t=new Dt(1,1);return new kr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Yr[st]},outputEncoding:{value:Yr[st]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function ii(){return new kr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Yr[st]},outputEncoding:{value:Yr[st]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function oi(t){let e=new WeakMap,n=null;function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(i.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping,a=o===v||o===_,s=o===g||o===y;if(a||s){if(e.has(i))return e.get(i).texture;{const o=i.image;if(a&&o&&o.height>0||s&&o&&function(t){let e=0;const n=6;for(let r=0;r<n;r++)void 0!==t[r]&&e++;return e===n}(o)){const o=t.getRenderTarget();null===n&&(n=new $r(t));const s=a?n.fromEquirectangular(i):n.fromCubemap(i);return e.set(i,s),t.setRenderTarget(o),i.addEventListener("dispose",r),s.texture}return null}}}return i},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ai(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function si(t,e,n,r){const i={},o=new WeakMap;function a(t){const s=t.target;null!==s.index&&e.remove(s.index);for(const t in s.attributes)e.remove(s.attributes[t]);s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(e.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){const n=[],r=t.index,i=t.attributes.position;let a=0;if(null!==r){const t=r.array;a=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{const t=i.array;a=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}const s=new(En(n)>65535?xn:wn)(n,1);s.version=a;const l=o.get(t);l&&e.remove(l),o.set(t,s)}return{get:function(t,e){return!0===i[e.id]||(e.addEventListener("dispose",a),i[e.id]=!0,n.memory.geometries++),e},update:function(n){const r=n.attributes;for(const n in r)e.update(r[n],t.ARRAY_BUFFER);const i=n.morphAttributes;for(const n in i){const r=i[n];for(let n=0,i=r.length;n<i;n++)e.update(r[n],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function li(t,e,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(t){o=t},this.setIndex=function(t){a=t.type,s=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,a,e*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,A;if(i)u=t,A="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[A](o,l,a,r*s,c),n.update(l,o,c)}}function ci(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function ui(t,e){return t[0]-e[0]}function Ai(t,e){return Math.abs(e[1])-Math.abs(t[1])}function hi(t){const e={},n=new Float32Array(8),r=[];for(let t=0;t<8;t++)r[t]=[t,0];return{update:function(i,o,a,s){const l=i.morphTargetInfluences,c=void 0===l?0:l.length;let u=e[o.id];if(void 0===u||u.length!==c){u=[];for(let t=0;t<c;t++)u[t]=[t,0];e[o.id]=u}for(let t=0;t<c;t++){const e=u[t];e[0]=t,e[1]=l[t]}u.sort(Ai);for(let t=0;t<8;t++)t<c&&u[t][1]?(r[t][0]=u[t][0],r[t][1]=u[t][1]):(r[t][0]=Number.MAX_SAFE_INTEGER,r[t][1]=0);r.sort(ui);const A=o.morphAttributes.position,h=o.morphAttributes.normal;let d=0;for(let t=0;t<8;t++){const e=r[t],i=e[0],a=e[1];i!==Number.MAX_SAFE_INTEGER&&a?(A&&o.getAttribute("morphTarget"+t)!==A[i]&&o.setAttribute("morphTarget"+t,A[i]),h&&o.getAttribute("morphNormal"+t)!==h[i]&&o.setAttribute("morphNormal"+t,h[i]),n[t]=a,d+=a):(A&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),h&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const p=o.morphTargetsRelative?1:1-d;s.getUniforms().setValue(t,"morphTargetBaseInfluence",p),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function di(t,e,n,r){let i=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=e.get(a,l);return i.get(c)!==s&&(e.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),n.update(a.instanceMatrix,t.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,t.ARRAY_BUFFER)),c},dispose:function(){i=new WeakMap}}}class pi extends Rt{constructor(t=null,e=1,n=1,r=1){super(null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=M,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}pi.prototype.isDataTexture2DArray=!0;class fi extends Rt{constructor(t=null,e=1,n=1,r=1){super(null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=M,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}fi.prototype.isDataTexture3D=!0;const mi=new Rt,gi=new pi,yi=new fi,vi=new dr,_i=[],wi=[],bi=new Float32Array(16),xi=new Float32Array(9),Mi=new Float32Array(4);function Li(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=_i[i];if(void 0===o&&(o=new Float32Array(i),_i[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function Ci(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ei(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Bi(t,e){let n=wi[e];void 0===n&&(n=new Int32Array(e),wi[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Si(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ti(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ci(n,e))return;t.uniform2fv(this.addr,e),Ei(n,e)}}function Di(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ci(n,e))return;t.uniform3fv(this.addr,e),Ei(n,e)}}function Ii(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ci(n,e))return;t.uniform4fv(this.addr,e),Ei(n,e)}}function Pi(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Ci(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ei(n,e)}else{if(Ci(n,r))return;Mi.set(r),t.uniformMatrix2fv(this.addr,!1,Mi),Ei(n,r)}}function Fi(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Ci(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ei(n,e)}else{if(Ci(n,r))return;xi.set(r),t.uniformMatrix3fv(this.addr,!1,xi),Ei(n,r)}}function ki(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Ci(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ei(n,e)}else{if(Ci(n,r))return;bi.set(r),t.uniformMatrix4fv(this.addr,!1,bi),Ei(n,r)}}function Ri(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ui(t,e){const n=this.cache;Ci(n,e)||(t.uniform2iv(this.addr,e),Ei(n,e))}function Oi(t,e){const n=this.cache;Ci(n,e)||(t.uniform3iv(this.addr,e),Ei(n,e))}function Hi(t,e){const n=this.cache;Ci(n,e)||(t.uniform4iv(this.addr,e),Ei(n,e))}function Yi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Qi(t,e){const n=this.cache;Ci(n,e)||(t.uniform2uiv(this.addr,e),Ei(n,e))}function Ni(t,e){const n=this.cache;Ci(n,e)||(t.uniform3uiv(this.addr,e),Ei(n,e))}function ji(t,e){const n=this.cache;Ci(n,e)||(t.uniform4uiv(this.addr,e),Ei(n,e))}function Wi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||mi,i)}function Vi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||yi,i)}function zi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||vi,i)}function Gi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||gi,i)}function Ki(t,e){t.uniform1fv(this.addr,e)}function Zi(t,e){const n=Li(e,this.size,2);t.uniform2fv(this.addr,n)}function Xi(t,e){const n=Li(e,this.size,3);t.uniform3fv(this.addr,n)}function qi(t,e){const n=Li(e,this.size,4);t.uniform4fv(this.addr,n)}function Ji(t,e){const n=Li(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function $i(t,e){const n=Li(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function to(t,e){const n=Li(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function eo(t,e){t.uniform1iv(this.addr,e)}function no(t,e){t.uniform2iv(this.addr,e)}function ro(t,e){t.uniform3iv(this.addr,e)}function io(t,e){t.uniform4iv(this.addr,e)}function oo(t,e){t.uniform1uiv(this.addr,e)}function ao(t,e){t.uniform2uiv(this.addr,e)}function so(t,e){t.uniform3uiv(this.addr,e)}function lo(t,e){t.uniform4uiv(this.addr,e)}function co(t,e,n){const r=e.length,i=Bi(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTexture2D(e[t]||mi,i[t])}function uo(t,e,n){const r=e.length,i=Bi(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTextureCube(e[t]||vi,i[t])}function Ao(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Si;case 35664:return Ti;case 35665:return Di;case 35666:return Ii;case 35674:return Pi;case 35675:return Fi;case 35676:return ki;case 5124:case 35670:return Ri;case 35667:case 35671:return Ui;case 35668:case 35672:return Oi;case 35669:case 35673:return Hi;case 5125:return Yi;case 36294:return Qi;case 36295:return Ni;case 36296:return ji;case 35678:case 36198:case 36298:case 36306:case 35682:return Wi;case 35679:case 36299:case 36307:return Vi;case 35680:case 36300:case 36308:case 36293:return zi;case 36289:case 36303:case 36311:case 36292:return Gi}}(e.type)}function ho(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ki;case 35664:return Zi;case 35665:return Xi;case 35666:return qi;case 35674:return Ji;case 35675:return $i;case 35676:return to;case 5124:case 35670:return eo;case 35667:case 35671:return no;case 35668:case 35672:return ro;case 35669:case 35673:return io;case 5125:return oo;case 36294:return ao;case 36295:return so;case 36296:return lo;case 35678:case 36198:case 36298:case 36306:case 35682:return co;case 35680:case 36300:case 36308:case 36293:return uo}}(e.type)}function po(t){this.id=t,this.seq=[],this.map={}}ho.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Ei(e,t)},po.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}};const fo=/(\w+)(\])?(\[|\.)?/g;function mo(t,e){t.seq.push(e),t.map[e.id]=e}function go(t,e,n){const r=t.name,i=r.length;for(fo.lastIndex=0;;){const o=fo.exec(r),a=fo.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){mo(n,void 0===c?new Ao(s,t,e):new ho(s,t,e));break}{let t=n.map[s];void 0===t&&(t=new po(s),mo(n,t)),n=t}}}function yo(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r);go(n,t.getUniformLocation(e,n.name),this)}}function vo(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}yo.prototype.setValue=function(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)},yo.prototype.setOptional=function(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)},yo.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}},yo.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n};let _o=0;function wo(t){switch(t){case st:return["Linear","( value )"];case lt:return["sRGB","( value )"];case ut:return["RGBE","( value )"];case At:return["RGBM","( value, 7.0 )"];case ht:return["RGBM","( value, 16.0 )"];case dt:return["RGBD","( value, 256.0 )"];case ct:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function bo(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function xo(t,e){const n=wo(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Mo(t,e){const n=wo(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Lo(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Co(t){return""!==t}function Eo(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Bo(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const So=/^[ \t]*#include +<([\w\d./]+)>/gm;function To(t){return t.replace(So,Do)}function Do(t,e){const n=Lr[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return To(n)}const Io=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Po=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Fo(t){return t.replace(Po,Ro).replace(Io,ko)}function ko(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Ro(t,e,n,r)}function Ro(t,e,n,r){let i="";for(let t=parseInt(e);t<parseInt(n);t++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return i}function Uo(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Oo(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}function Ho(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=Oo(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case g:case y:e="ENVMAP_TYPE_CUBE";break;case w:case b:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case y:case b:e="ENVMAP_MODE_REFRACTION"}return e}(n),A=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),h=t.gammaFactor>0?t.gammaFactor:1,d=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission>0)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Co).join("\n")}(n),p=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),f=i.createProgram();let m,v,_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(m=[p].filter(Co).join("\n"),m.length>0&&(m+="\n"),v=[d,p].filter(Co).join("\n"),v.length>0&&(v+="\n")):(m=[Uo(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Co).join("\n"),v=[d,Uo(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+h,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+A:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Lr.tonemapping_pars_fragment:"",0!==n.toneMapping?Lo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Lr.encodings_pars_fragment,n.map?xo("mapTexelToLinear",n.mapEncoding):"",n.matcap?xo("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?xo("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?xo("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularTintMap?xo("specularTintMapTexelToLinear",n.specularTintMapEncoding):"",n.lightMap?xo("lightMapTexelToLinear",n.lightMapEncoding):"",Mo("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Co).join("\n")),a=To(a),a=Eo(a,n),a=Bo(a,n),s=To(s),s=Eo(s,n),s=Bo(s,n),a=Fo(a),s=Fo(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",m=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#define varying in",n.glslVersion===gt?"":"out highp vec4 pc_fragColor;",n.glslVersion===gt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const x=_+m+a,M=_+v+s,L=vo(i,i.VERTEX_SHADER,x),C=vo(i,i.FRAGMENT_SHADER,M);if(i.attachShader(f,L),i.attachShader(f,C),void 0!==n.index0AttributeName?i.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(f,0,"position"),i.linkProgram(f),t.debug.checkShaderErrors){const t=i.getProgramInfoLog(f).trim(),e=i.getShaderInfoLog(L).trim(),n=i.getShaderInfoLog(C).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(f,i.LINK_STATUS)){r=!1;const e=bo(i,L,"vertex"),n=bo(i,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(f,i.VALIDATE_STATUS),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:t,vertexShader:{log:e,prefix:m},fragmentShader:{log:n,prefix:v}})}let E,B;return i.deleteShader(L),i.deleteShader(C),this.getUniforms=function(){return void 0===E&&(E=new yo(i,f)),E},this.getAttributes=function(){return void 0===B&&(B=function(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i).name;n[r]=t.getAttribLocation(e,r)}return n}(i,f)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(f),this.program=void 0},this.name=n.shaderName,this.id=_o++,this.cacheKey=e,this.usedTimes=1,this.program=f,this.vertexShader=L,this.fragmentShader=C,this}function Yo(t,e,n,r,i,o,a){const s=[],l=i.isWebGL2,c=i.logarithmicDepthBuffer,u=i.floatVertexTextures,A=i.maxVertexUniforms,h=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function m(t){const e=t.skeleton.bones;if(u)return 1024;{const t=A,n=Math.floor((t-20)/4),r=Math.min(n,e.length);return r<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+r+"."),0):r}}function g(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=st,e}return{getParameters:function(o,s,A,f,y){const v=f.fog,_=o.isMeshStandardMaterial?f.environment:null,x=(o.isMeshStandardMaterial?n:e).get(o.envMap||_),M=p[o.type],L=y.isSkinnedMesh?m(y):0;let C,E;if(null!==o.precision&&(d=i.getMaxPrecision(o.precision),d!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",d,"instead.")),M){const t=Er[M];C=t.vertexShader,E=t.fragmentShader}else C=o.vertexShader,E=o.fragmentShader;const B=t.getRenderTarget();return{isWebGL2:l,shaderID:M,shaderName:o.type,vertexShader:C,fragmentShader:E,defines:o.defines,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:d,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==B?g(B.texture):t.outputEncoding,map:!!o.map,mapEncoding:g(o.map),matcap:!!o.matcap,matcapEncoding:g(o.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:g(x),envMapCubeUV:!!x&&(x.mapping===w||x.mapping===b),lightMap:!!o.lightMap,lightMapEncoding:g(o.lightMap),aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,emissiveMapEncoding:g(o.emissiveMap),bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:1===o.normalMapType,tangentSpaceNormalMap:0===o.normalMapType,clearcoatMap:!!o.clearcoatMap,clearcoatRoughnessMap:!!o.clearcoatRoughnessMap,clearcoatNormalMap:!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularTintMap:!!o.specularTintMap,specularTintMapEncoding:g(o.specularTintMap),alphaMap:!!o.alphaMap,gradientMap:!!o.gradientMap,sheen:!!o.sheen,transmission:!!o.transmission,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:o.normalMap&&y.geometry&&y.geometry.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&y.geometry&&y.geometry.attributes.color&&4===y.geometry.attributes.color.itemSize,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.displacementMap||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularTintMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmission||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularTintMap||!o.displacementMap),fog:!!v,useFog:o.fog,fogExp2:v&&v.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===y.isSkinnedMesh&&L>0,maxBones:L,useVertexTexture:u,morphTargets:y.geometry&&void 0!==y.geometry.morphAttributes.position,morphNormals:y.geometry&&void 0!==y.geometry.morphAttributes.normal,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&A.length>0,shadowMapType:t.shadowMap.type,toneMapping:o.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,alphaTest:o.alphaTest,doubleSided:2===o.side,flipSided:1===o.side,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<f.length;t++)n.push(e[f[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;if(e){const t=Er[e];n=sr.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let r;for(let t=0,e=s.length;t<e;t++){const e=s[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new Ho(t,n,e,o),s.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){const e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},programs:s}}function Qo(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function No(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function jo(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Wo(t){const e=[];let n=0;const r=[],i=[],o=[],a={id:-1};function s(r,i,o,s,l,c){let u=e[n];const A=t.get(o);return void 0===u?(u={id:r.id,object:r,geometry:i,material:o,program:A.program||a,groupOrder:s,renderOrder:r.renderOrder,z:l,group:c},e[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=A.program||a,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:r,transmissive:i,transparent:o,init:function(){n=0,r.length=0,i.length=0,o.length=0},push:function(t,e,n,a,l,c){const u=s(t,e,n,a,l,c);n.transmission>0?i.push(u):!0===n.transparent?o.push(u):r.push(u)},unshift:function(t,e,n,a,l,c){const u=s(t,e,n,a,l,c);n.transmission>0?i.unshift(u):!0===n.transparent?o.unshift(u):r.unshift(u)},finish:function(){for(let t=n,r=e.length;t<r;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){r.length>1&&r.sort(t||No),i.length>1&&i.sort(e||jo),o.length>1&&o.sort(e||jo)}}}function Vo(t){let e=new WeakMap;return{get:function(n,r){let i;return!1===e.has(n)?(i=new Wo(t),e.set(n,[i])):r>=e.get(n).length?(i=new Wo(t),e.get(n).push(i)):i=e.get(n)[r],i},dispose:function(){e=new WeakMap}}}function zo(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new jt,color:new hn};break;case"SpotLight":n={position:new jt,direction:new jt,color:new hn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new jt,color:new hn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new jt,skyColor:new hn,groundColor:new hn};break;case"RectAreaLight":n={color:new hn,position:new jt,halfWidth:new jt,halfHeight:new jt}}return t[e.id]=n,n}}}let Go=0;function Ko(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Zo(t,e){const n=new zo,r=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dt,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)i.probe.push(new jt);const o=new jt,a=new _e,s=new _e;return{setup:function(o){let a=0,s=0,l=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let c=0,u=0,A=0,h=0,d=0,p=0,f=0,m=0;o.sort(Ko);for(let t=0,e=o.length;t<e;t++){const e=o[t],g=e.color,y=e.intensity,v=e.distance,_=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)a+=g.r*y,s+=g.g*y,l+=g.b*y;else if(e.isLightProbe)for(let t=0;t<9;t++)i.probe[t].addScaledVector(e.sh.coefficients[t],y);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,i.directionalShadow[c]=n,i.directionalShadowMap[c]=_,i.directionalShadowMatrix[c]=e.shadow.matrix,p++}i.directional[c]=t,c++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(g).multiplyScalar(y),t.distance=v,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,i.spotShadow[A]=n,i.spotShadowMap[A]=_,i.spotShadowMatrix[A]=e.shadow.matrix,m++}i.spot[A]=t,A++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(g).multiplyScalar(y),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),i.rectArea[h]=t,h++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=r.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,i.pointShadow[u]=n,i.pointShadowMap[u]=_,i.pointShadowMatrix[u]=e.shadow.matrix,f++}i.point[u]=t,u++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(y),t.groundColor.copy(e.groundColor).multiplyScalar(y),i.hemi[d]=t,d++}}h>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=Cr.LTC_FLOAT_1,i.rectAreaLTC2=Cr.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Cr.LTC_HALF_1,i.rectAreaLTC2=Cr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=a,i.ambient[1]=s,i.ambient[2]=l;const g=i.hash;g.directionalLength===c&&g.pointLength===u&&g.spotLength===A&&g.rectAreaLength===h&&g.hemiLength===d&&g.numDirectionalShadows===p&&g.numPointShadows===f&&g.numSpotShadows===m||(i.directional.length=c,i.spot.length=A,i.rectArea.length=h,i.point.length=u,i.hemi.length=d,i.directionalShadow.length=p,i.directionalShadowMap.length=p,i.pointShadow.length=f,i.pointShadowMap.length=f,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=p,i.pointShadowMatrix.length=f,i.spotShadowMatrix.length=m,g.directionalLength=c,g.pointLength=u,g.spotLength=A,g.rectAreaLength=h,g.hemiLength=d,g.numDirectionalShadows=p,g.numPointShadows=f,g.numSpotShadows=m,i.version=Go++)},setupView:function(t,e){let n=0,r=0,l=0,c=0,u=0;const A=e.matrixWorldInverse;for(let e=0,h=t.length;e<h;e++){const h=t[e];if(h.isDirectionalLight){const t=i.directional[n];t.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(A),n++}else if(h.isSpotLight){const t=i.spot[l];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(A),t.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(A),l++}else if(h.isRectAreaLight){const t=i.rectArea[c];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(A),s.identity(),a.copy(h.matrixWorld),a.premultiply(A),s.extractRotation(a),t.halfWidth.set(.5*h.width,0,0),t.halfHeight.set(0,.5*h.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(h.isPointLight){const t=i.point[r];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(A),r++}else if(h.isHemisphereLight){const t=i.hemi[u];t.direction.setFromMatrixPosition(h.matrixWorld),t.direction.transformDirection(A),t.direction.normalize(),u++}}},state:i}}function Xo(t,e){const n=new Zo(t,e),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(t){n.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){i.push(t)}}}function qo(t,e){let n=new WeakMap;return{get:function(r,i=0){let o;return!1===n.has(r)?(o=new Xo(t,e),n.set(r,[o])):i>=n.get(r).length?(o=new Xo(t,e),n.get(r).push(o)):o=n.get(r)[i],o},dispose:function(){n=new WeakMap}}}class Jo extends on{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}Jo.prototype.isMeshDepthMaterial=!0;class $o extends on{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new jt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}$o.prototype.isMeshDistanceMaterial=!0;function ta(t,e,n){let r=new wr;const i=new Dt,o=new Dt,a=new Ot,s=new Jo({depthPacking:3201}),l=new $o,c={},u=n.maxTextureSize,A={0:1,1:0,2:2},h=new lr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Dt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new Un;p.setAttribute("position",new mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new er(p,h),m=this;function g(n,r){const i=e.update(f);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,h,f,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,d,f,null)}function y(e,n,r,i,o,a,u){let h=null;const d=!0===i.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(h=void 0!==d?d:!0===i.isPointLight?l:s,t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const t=h.uuid,e=r.uuid;let n=c[t];void 0===n&&(n={},c[t]=n);let i=n[e];void 0===i&&(i=h.clone(),n[e]=i),h=i}return h.visible=r.visible,h.wireframe=r.wireframe,h.side=3===u?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:A[r.side],h.clipShadows=r.clipShadows,h.clippingPlanes=r.clippingPlanes,h.clipIntersection=r.clipIntersection,h.wireframeLinewidth=r.wireframeLinewidth,h.linewidth=r.linewidth,!0===i.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(i.matrixWorld),h.nearDistance=o,h.farDistance=a),h}function v(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=e.update(n),i=n.material;if(Array.isArray(i)){const e=r.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],u=i[c.materialIndex];if(u&&u.visible){const e=y(n,0,u,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,c)}}}else if(i.visible){const e=y(n,0,i,a,o.near,o.far,s);t.renderBufferDirect(o,null,r,e,n,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)v(l[t],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,n,s){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),h=t.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(let l=0,c=e.length;l<c;l++){const c=e[l],A=c.shadow;if(void 0===A){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===A.autoUpdate&&!1===A.needsUpdate)continue;i.copy(A.mapSize);const d=A.getFrameExtents();if(i.multiply(d),o.copy(A.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/d.x),i.x=o.x*d.x,A.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/d.y),i.y=o.y*d.y,A.mapSize.y=o.y)),null===A.map&&!A.isPointLightShadow&&3===this.type){const t={minFilter:S,magFilter:S,format:H};A.map=new Ht(i.x,i.y,t),A.map.texture.name=c.name+".shadowMap",A.mapPass=new Ht(i.x,i.y,t),A.camera.updateProjectionMatrix()}if(null===A.map){const t={minFilter:C,magFilter:C,format:H};A.map=new Ht(i.x,i.y,t),A.map.texture.name=c.name+".shadowMap",A.camera.updateProjectionMatrix()}t.setRenderTarget(A.map),t.clear();const p=A.getViewportCount();for(let t=0;t<p;t++){const e=A.getViewport(t);a.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),h.viewport(a),A.updateMatrices(c,t),r=A.getFrustum(),v(n,s,A.camera,c,this.type)}A.isPointLightShadow||3!==this.type||g(A,s),A.needsUpdate=!1}m.needsUpdate=!1,t.setRenderTarget(l,c,A)}}function ea(t,e,m){const g=m.isWebGL2;const y=new function(){let e=!1;const n=new Ot;let r=null;const i=new Ot(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},v=new function(){let e=!1,n=null,r=null,i=null;return{setTest:function(e){e?q(t.DEPTH_TEST):J(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},_=new function(){let e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){e||(n?q(t.STENCIL_TEST):J(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&l===r||(t.stencilOp(e,n,r),a=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}};let w={},b=null,x={},M=null,L=!1,C=null,E=null,B=null,S=null,T=null,D=null,I=null,P=!1,F=null,k=null,R=null,U=null,O=null;const H=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,Q=0;const N=t.getParameter(t.VERSION);-1!==N.indexOf("WebGL")?(Q=parseFloat(/^WebGL (\d)/.exec(N)[1]),Y=Q>=1):-1!==N.indexOf("OpenGL ES")&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),Y=Q>=2);let j=null,W={};const V=t.getParameter(t.SCISSOR_BOX),z=t.getParameter(t.VIEWPORT),G=(new Ot).fromArray(V),K=(new Ot).fromArray(z);function Z(e,n,r){const i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let e=0;e<r;e++)t.texImage2D(n+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}const X={};function q(e){!0!==w[e]&&(t.enable(e),w[e]=!0)}function J(e){!1!==w[e]&&(t.disable(e),w[e]=!1)}X[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),X[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),y.setClear(0,0,0,1),v.setClear(1),_.setClear(0),q(t.DEPTH_TEST),v.setFunc(3),nt(!1),rt(1),q(t.CULL_FACE),et(0);const $={[n]:t.FUNC_ADD,[r]:t.FUNC_SUBTRACT,[i]:t.FUNC_REVERSE_SUBTRACT};if(g)$[103]=t.MIN,$[104]=t.MAX;else{const t=e.get("EXT_blend_minmax");null!==t&&($[103]=t.MIN_EXT,$[104]=t.MAX_EXT)}const tt={[o]:t.ZERO,[a]:t.ONE,[s]:t.SRC_COLOR,[c]:t.SRC_ALPHA,[f]:t.SRC_ALPHA_SATURATE,[d]:t.DST_COLOR,[A]:t.DST_ALPHA,[l]:t.ONE_MINUS_SRC_COLOR,[u]:t.ONE_MINUS_SRC_ALPHA,[p]:t.ONE_MINUS_DST_COLOR,[h]:t.ONE_MINUS_DST_ALPHA};function et(e,r,i,o,a,s,l,c){if(0!==e){if(!1===L&&(q(t.BLEND),L=!0),5===e)a=a||r,s=s||i,l=l||o,r===E&&a===T||(t.blendEquationSeparate($[r],$[a]),E=r,T=a),i===B&&o===S&&s===D&&l===I||(t.blendFuncSeparate(tt[i],tt[o],tt[s],tt[l]),B=i,S=o,D=s,I=l),C=e,P=null;else if(e!==C||c!==P){if(E===n&&T===n||(t.blendEquation(t.FUNC_ADD),E=n,T=n),c)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}B=null,S=null,D=null,I=null,C=e,P=c}}else!0===L&&(J(t.BLEND),L=!1)}function nt(e){F!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),F=e)}function rt(e){0!==e?(q(t.CULL_FACE),e!==k&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):J(t.CULL_FACE),k=e}function it(e,n,r){e?(q(t.POLYGON_OFFSET_FILL),U===n&&O===r||(t.polygonOffset(n,r),U=n,O=r)):J(t.POLYGON_OFFSET_FILL)}function ot(e){void 0===e&&(e=t.TEXTURE0+H-1),j!==e&&(t.activeTexture(e),j=e)}return{buffers:{color:y,depth:v,stencil:_},enable:q,disable:J,bindFramebuffer:function(e,n){return null===n&&null!==b&&(n=b),x[e]!==n&&(t.bindFramebuffer(e,n),x[e]=n,g&&(e===t.DRAW_FRAMEBUFFER&&(x[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(x[t.DRAW_FRAMEBUFFER]=n)),!0)},bindXRFramebuffer:function(e){e!==b&&(t.bindFramebuffer(t.FRAMEBUFFER,e),b=e)},useProgram:function(e){return M!==e&&(t.useProgram(e),M=e,!0)},setBlending:et,setMaterial:function(e,n){2===e.side?J(t.CULL_FACE):q(t.CULL_FACE);let r=1===e.side;n&&(r=!r),nt(r),1===e.blending&&!1===e.transparent?et(0):et(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),v.setFunc(e.depthFunc),v.setTest(e.depthTest),v.setMask(e.depthWrite),y.setMask(e.colorWrite);const i=e.stencilWrite;_.setTest(i),i&&(_.setMask(e.stencilWriteMask),_.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),_.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),it(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?q(t.SAMPLE_ALPHA_TO_COVERAGE):J(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:nt,setCullFace:rt,setLineWidth:function(e){e!==R&&(Y&&t.lineWidth(e),R=e)},setPolygonOffset:it,setScissorTest:function(e){e?q(t.SCISSOR_TEST):J(t.SCISSOR_TEST)},activeTexture:ot,bindTexture:function(e,n){null===j&&ot();let r=W[j];void 0===r&&(r={type:void 0,texture:void 0},W[j]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||X[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=W[j];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===G.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),G.copy(e))},viewport:function(e){!1===K.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),K.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),!0===g&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),w={},j=null,W={},b=null,x={},M=null,L=!1,C=null,E=null,B=null,S=null,T=null,D=null,I=null,P=!1,F=null,k=null,R=null,U=null,O=null,G.set(0,0,t.canvas.width,t.canvas.height),K.set(0,0,t.canvas.width,t.canvas.height),y.reset(),v.reset(),_.reset()}}}function na(t,e,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,A=i.maxSamples,h=new WeakMap;let d,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function f(t,e){return p?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function m(t,e,n,r){let i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const r=e?St:Math.floor,o=r(i*t.width),a=r(i*t.height);void 0===d&&(d=f(o,a));const s=n?f(o,a):d;return s.width=o,s.height=a,s.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return Et(t.width)&&Et(t.height)}function y(t,e){return t.generateMipmaps&&e&&t.minFilter!==C&&t.minFilter!==S}function v(e,n,i,o,a=1){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log2(Math.max(i,o,a))}function _(n,r,i){if(!1===s)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return r===t.RED&&(i===t.FLOAT&&(o=t.R32F),i===t.HALF_FLOAT&&(o=t.R16F),i===t.UNSIGNED_BYTE&&(o=t.R8)),r===t.RGB&&(i===t.FLOAT&&(o=t.RGB32F),i===t.HALF_FLOAT&&(o=t.RGB16F),i===t.UNSIGNED_BYTE&&(o=t.RGB8)),r===t.RGBA&&(i===t.FLOAT&&(o=t.RGBA32F),i===t.HALF_FLOAT&&(o=t.RGBA16F),i===t.UNSIGNED_BYTE&&(o=t.RGBA8)),o!==t.R16F&&o!==t.R32F&&o!==t.RGBA16F&&o!==t.RGBA32F||e.get("EXT_color_buffer_float"),o}function w(e){return e===C||e===E||e===B?t.NEAREST:t.LINEAR}function b(t){const e=t.target;e.removeEventListener("dispose",b),Y(e),e.isVideoTexture&&h.delete(e),a.memory.textures--}function I(t){const e=t.target;e.removeEventListener("dispose",I),j(e)}function Y(e){const n=r.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),r.remove(e))}function j(e){const n=e.texture,i=r.get(e),o=r.get(n);if(e){if(void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),a.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(i.__webglFramebuffer[e]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[e]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&t.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(let e=0,i=n.length;e<i;e++){const i=r.get(n[e]);i.__webglTexture&&(t.deleteTexture(i.__webglTexture),a.memory.textures--),r.remove(n[e])}r.remove(n),r.remove(e)}}let W=0;function V(e,i){const o=r.get(e);if(e.isVideoTexture&&function(t){const e=a.render.frame;h.get(t)!==e&&(h.set(t,e),t.update())}(e),e.version>0&&o.__version!==e.version){const t=e.image;if(void 0===t)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==t.complete)return void q(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function z(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?J(o,e,i):(n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture))}const G={[x]:t.REPEAT,[M]:t.CLAMP_TO_EDGE,[L]:t.MIRRORED_REPEAT},K={[C]:t.NEAREST,[E]:t.NEAREST_MIPMAP_NEAREST,[B]:t.NEAREST_MIPMAP_LINEAR,[S]:t.LINEAR,[T]:t.LINEAR_MIPMAP_NEAREST,[D]:t.LINEAR_MIPMAP_LINEAR};function Z(n,o,a){if(a?(t.texParameteri(n,t.TEXTURE_WRAP_S,G[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,G[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,G[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,K[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,K[o.minFilter])):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),o.wrapS===M&&o.wrapT===M||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,t.TEXTURE_MAG_FILTER,w(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,w(o.minFilter)),o.minFilter!==C&&o.minFilter!==S&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const a=e.get("EXT_texture_filter_anisotropic");if(o.type===k&&!1===e.has("OES_texture_float_linear"))return;if(!1===s&&o.type===R&&!1===e.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function X(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",b),e.__webglTexture=t.createTexture(),a.memory.textures++)}function q(e,r,i){let a=t.TEXTURE_2D;r.isDataTexture2DArray&&(a=t.TEXTURE_2D_ARRAY),r.isDataTexture3D&&(a=t.TEXTURE_3D),X(e,r),n.activeTexture(t.TEXTURE0+i),n.bindTexture(a,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const l=function(t){return!s&&(t.wrapS!==M||t.wrapT!==M||t.minFilter!==C&&t.minFilter!==S)}(r)&&!1===g(r.image),c=m(r.image,l,!1,u),A=g(c)||s,h=o.convert(r.format);let d,p=o.convert(r.type),f=_(r.internalFormat,h,p);Z(a,r,A);const w=r.mipmaps;if(r.isDepthTexture)f=t.DEPTH_COMPONENT,s?f=r.type===k?t.DEPTH_COMPONENT32F:r.type===F?t.DEPTH_COMPONENT24:r.type===U?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:r.type===k&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Q&&f===t.DEPTH_COMPONENT&&r.type!==P&&r.type!==F&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=P,p=o.convert(r.type)),r.format===N&&f===t.DEPTH_COMPONENT&&(f=t.DEPTH_STENCIL,r.type!==U&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=U,p=o.convert(r.type))),n.texImage2D(t.TEXTURE_2D,0,f,c.width,c.height,0,h,p,null);else if(r.isDataTexture)if(w.length>0&&A){for(let e=0,r=w.length;e<r;e++)d=w[e],n.texImage2D(t.TEXTURE_2D,e,f,d.width,d.height,0,h,p,d.data);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(t.TEXTURE_2D,0,f,c.width,c.height,0,h,p,c.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(let e=0,i=w.length;e<i;e++)d=w[e],r.format!==H&&r.format!==O?null!==h?n.compressedTexImage2D(t.TEXTURE_2D,e,f,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,e,f,d.width,d.height,0,h,p,d.data);e.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(t.TEXTURE_2D_ARRAY,0,f,c.width,c.height,c.depth,0,h,p,c.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(t.TEXTURE_3D,0,f,c.width,c.height,c.depth,0,h,p,c.data),e.__maxMipLevel=0;else if(w.length>0&&A){for(let e=0,r=w.length;e<r;e++)d=w[e],n.texImage2D(t.TEXTURE_2D,e,f,h,p,d);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(t.TEXTURE_2D,0,f,h,p,c),e.__maxMipLevel=0;y(r,A)&&v(a,r,c.width,c.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function J(e,r,i){if(6!==r.image.length)return;X(e,r),n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const a=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),l=r.image[0]&&r.image[0].isDataTexture,u=[];for(let t=0;t<6;t++)u[t]=a||l?l?r.image[t].image:r.image[t]:m(r.image[t],!1,!0,c);const A=u[0],h=g(A)||s,d=o.convert(r.format),p=o.convert(r.type),f=_(r.internalFormat,d,p);let w;if(Z(t.TEXTURE_CUBE_MAP,r,h),a){for(let e=0;e<6;e++){w=u[e].mipmaps;for(let i=0;i<w.length;i++){const o=w[i];r.format!==H&&r.format!==O?null!==d?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,f,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,f,o.width,o.height,0,d,p,o.data)}}e.__maxMipLevel=w.length-1}else{w=r.mipmaps;for(let e=0;e<6;e++)if(l){n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,f,u[e].width,u[e].height,0,d,p,u[e].data);for(let r=0;r<w.length;r++){const i=w[r].image[e].image;n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,f,i.width,i.height,0,d,p,i.data)}}else{n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,f,d,p,u[e]);for(let r=0;r<w.length;r++){const i=w[r];n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,f,d,p,i.image[e])}}e.__maxMipLevel=w.length}y(r,h)&&v(t.TEXTURE_CUBE_MAP,r,A.width,A.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function $(e,i,a,s,l){const c=o.convert(a.format),u=o.convert(a.type),A=_(a.internalFormat,c,u);l===t.TEXTURE_3D||l===t.TEXTURE_2D_ARRAY?n.texImage3D(l,0,A,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,A,i.width,i.height,0,c,u,null),n.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function tt(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer){let i=t.DEPTH_COMPONENT16;if(r){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===k?i=t.DEPTH_COMPONENT32F:e.type===F&&(i=t.DEPTH_COMPONENT24));const r=nt(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,r,i,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,i,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const e=nt(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,e,t.DEPTH24_STENCIL8,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,i=o.convert(e.format),a=o.convert(e.type),s=_(e.internalFormat,i,a);if(r){const e=nt(n);t.renderbufferStorageMultisample(t.RENDERBUFFER,e,s,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height)}t.bindRenderbuffer(t.RENDERBUFFER,null)}function et(e){const i=r.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),V(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Q)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==N)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,e)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=t.createRenderbuffer(),tt(i.__webglDepthbuffer[r],e,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),tt(i.__webglDepthbuffer,e,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function nt(t){return s&&t.isWebGLMultisampleRenderTarget?Math.min(A,t.samples):0}let rt=!1,it=!1;this.allocateTextureUnit=function(){const t=W;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),W+=1,t},this.resetTextureUnits=function(){W=0},this.setTexture2D=V,this.setTexture2DArray=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?q(o,e,i):(n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture))},this.setTexture3D=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?q(o,e,i):(n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_3D,o.__webglTexture))},this.setTextureCube=z,this.setupRenderTarget=function(e){const l=e.texture,c=r.get(e),u=r.get(l);e.addEventListener("dispose",I),!0!==e.isWebGLMultipleRenderTargets&&(u.__webglTexture=t.createTexture(),u.__version=l.version,a.memory.textures++);const A=!0===e.isWebGLCubeRenderTarget,h=!0===e.isWebGLMultipleRenderTargets,d=!0===e.isWebGLMultisampleRenderTarget,p=l.isDataTexture3D||l.isDataTexture2DArray,f=g(e)||s;if(!s||l.format!==O||l.type!==k&&l.type!==R||(l.format=H,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),A){c.__webglFramebuffer=[];for(let e=0;e<6;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else if(c.__webglFramebuffer=t.createFramebuffer(),h)if(i.drawBuffers){const n=e.texture;for(let e=0,i=n.length;e<i;e++){const i=r.get(n[e]);void 0===i.__webglTexture&&(i.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(d)if(s){c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,c.__webglColorRenderbuffer);const r=o.convert(l.format),i=o.convert(l.type),a=_(l.internalFormat,r,i),s=nt(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,s,a,e.width,e.height),n.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,c.__webglColorRenderbuffer),t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),tt(c.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(A){n.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture),Z(t.TEXTURE_CUBE_MAP,l,f);for(let n=0;n<6;n++)$(c.__webglFramebuffer[n],e,l,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n);y(l,f)&&v(t.TEXTURE_CUBE_MAP,l,e.width,e.height),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else if(h){const i=e.texture;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r.get(a);n.bindTexture(t.TEXTURE_2D,s.__webglTexture),Z(t.TEXTURE_2D,a,f),$(c.__webglFramebuffer,e,a,t.COLOR_ATTACHMENT0+o,t.TEXTURE_2D),y(a,f)&&v(t.TEXTURE_2D,a,e.width,e.height)}n.bindTexture(t.TEXTURE_2D,null)}else{let r=t.TEXTURE_2D;p&&(s?r=l.isDataTexture3D?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(r,u.__webglTexture),Z(r,l,f),$(c.__webglFramebuffer,e,l,t.COLOR_ATTACHMENT0,r),y(l,f)&&v(r,l,e.width,e.height,e.depth),n.bindTexture(r,null)}e.depthBuffer&&et(e)},this.updateRenderTargetMipmap=function(e){const i=g(e)||s,o=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,s=o.length;a<s;a++){const s=o[a];if(y(s,i)){const i=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),v(i,s,e.width,e.height),n.bindTexture(i,null)}}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(s){const i=e.width,o=e.height;let a=t.COLOR_BUFFER_BIT;e.depthBuffer&&(a|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(a|=t.STENCIL_BUFFER_BIT);const s=r.get(e);n.bindFramebuffer(t.READ_FRAMEBUFFER,s.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,s.__webglFramebuffer),t.blitFramebuffer(0,0,i,o,0,0,i,o,a,t.NEAREST),n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===rt&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),rt=!0),t=t.texture),V(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===it&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),it=!0),t=t.texture),z(t,e)}}function ra(t,e,n){const r=n.isWebGL2;return{convert:function(n){let i;if(n===I)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return t.UNSIGNED_SHORT_5_6_5;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===P)return t.UNSIGNED_SHORT;if(1013===n)return t.INT;if(n===F)return t.UNSIGNED_INT;if(n===k)return t.FLOAT;if(n===R)return r?t.HALF_FLOAT:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(1021===n)return t.ALPHA;if(n===O)return t.RGB;if(n===H)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===Q)return t.DEPTH_COMPONENT;if(n===N)return t.DEPTH_STENCIL;if(1028===n)return t.RED;if(1029===n)return t.RED_INTEGER;if(1030===n)return t.RG;if(1031===n)return t.RG_INTEGER;if(1032===n)return t.RGB_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(n===j||n===W||n===V||n===z){if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===j)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===W)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===V)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===z)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===G||n===K||n===Z||n===X){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===G)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===K)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Z)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===X)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((n===q||n===J)&&(i=e.get("WEBGL_compressed_texture_etc"),null!==i)){if(n===q)return i.COMPRESSED_RGB8_ETC2;if(n===J)return i.COMPRESSED_RGBA8_ETC2_EAC}return 37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n||37840===n||37841===n||37842===n||37843===n||37844===n||37845===n||37846===n||37847===n||37848===n||37849===n||37850===n||37851===n||37852===n||37853===n?(i=e.get("WEBGL_compressed_texture_astc"),null!==i?n:null):36492===n?(i=e.get("EXT_texture_compression_bptc"),null!==i?n:null):n===U?r?t.UNSIGNED_INT_24_8:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class ia extends ur{constructor(t=[]){super(),this.cameras=t}}ia.prototype.isArrayCamera=!0;class oa extends Ve{constructor(){super(),this.type="Group"}}oa.prototype.isGroup=!0;const aa={type:"move"};class sa{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new oa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new oa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new jt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new jt),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new oa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new jt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new jt),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==a&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(aa))),l&&t.hand){o=!0;for(const r of t.hand.values()){const t=e.getJointPose(r,n);if(void 0===l.joints[r.jointName]){const t=new oa;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[r.jointName]=t,l.add(t)}const i=l.joints[r.jointName];null!==t&&(i.matrix.fromArray(t.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=t.radius),i.visible=null!==t}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}class la extends yt{constructor(t,e){super();const n=this,r=t.state;let i=null,o=1,a=null,s="local-floor",l=null,c=null,u=null,A=null,h=null;const d=[],p=new Map,f=new ur;f.layers.enable(1),f.viewport=new Ot;const m=new ur;m.layers.enable(2),m.viewport=new Ot;const g=[f,m],y=new ia;y.layers.enable(1),y.layers.enable(2);let v=null,_=null;function w(t){const e=p.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function b(){p.forEach((function(t,e){t.disconnect(e)})),p.clear(),v=null,_=null,r.bindXRFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),B.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function x(t){const e=i.inputSources;for(let t=0;t<d.length;t++)p.set(e[t],d[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=p.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),p.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],r=p.get(n);r&&r.dispatchEvent({type:"connected",data:n})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=d[t];return void 0===e&&(e=new sa,d[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=d[t];return void 0===e&&(e=new sa,d[t]=e),e.getGripSpace()},this.getHand=function(t){let e=d[t];return void 0===e&&(e=new sa,d[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=async function(t){if(i=t,null!==i){i.addEventListener("select",w),i.addEventListener("selectstart",w),i.addEventListener("selectend",w),i.addEventListener("squeeze",w),i.addEventListener("squeezestart",w),i.addEventListener("squeezeend",w),i.addEventListener("end",b),i.addEventListener("inputsourceschange",x);const t=e.getContextAttributes();if(!0!==t.xrCompatible&&await e.makeXRCompatible(),void 0===i.renderState.layers){const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,e,n),i.updateRenderState({baseLayer:h})}else{let n=0;if(t.antialias){const n={antialias:!0,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,e,n),i.updateRenderState({layers:[h]})}else{t.depth&&(n=t.stencil?e.DEPTH_STENCIL:e.DEPTH_COMPONENT);const r={colorFormat:t.alpha?e.RGBA:e.RGB,depthFormat:n,scaleFactor:o};c=new XRWebGLBinding(i,e),A=c.createProjectionLayer(r),u=e.createFramebuffer(),i.updateRenderState({layers:[A]})}}a=await i.requestReferenceSpace(s),B.setContext(i),B.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const M=new jt,L=new jt;function C(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===i)return;y.near=m.near=f.near=t.near,y.far=m.far=f.far=t.far,v===y.near&&_===y.far||(i.updateRenderState({depthNear:y.near,depthFar:y.far}),v=y.near,_=y.far);const e=t.parent,n=y.cameras;C(y,e);for(let t=0;t<n.length;t++)C(n[t],e);y.matrixWorld.decompose(y.position,y.quaternion,y.scale),t.position.copy(y.position),t.quaternion.copy(y.quaternion),t.scale.copy(y.scale),t.matrix.copy(y.matrix),t.matrixWorld.copy(y.matrixWorld);const r=t.children;for(let t=0,e=r.length;t<e;t++)r[t].updateMatrixWorld(!0);2===n.length?function(t,e,n){M.setFromMatrixPosition(e.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);const r=M.distanceTo(L),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],A=(o[8]+1)/o[0],h=a*u,d=a*A,p=r/(-u+A),f=p*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(f),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const m=a+p,g=s+p,y=h-f,v=d+(r-f),_=l*s/g*m,w=c*s/g*m;t.projectionMatrix.makePerspective(y,v,_,w,m,g)}(y,f,m):y.projectionMatrix.copy(f.projectionMatrix)},this.getCamera=function(){return y},this.getFoveation=function(){return null!==A?A.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(t){null!==A&&(A.fixedFoveation=t),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=t)};let E=null;const B=new br;B.setAnimationLoop((function(t,n){if(l=n.getViewerPose(a),null!==l){const t=l.views;null!==h&&r.bindXRFramebuffer(h.framebuffer);let n=!1;t.length!==y.cameras.length&&(y.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const o=t[i];let a=null;if(null!==h)a=h.getViewport(o);else{const t=c.getViewSubImage(A,o);r.bindXRFramebuffer(u),void 0!==t.depthStencilTexture&&e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,t.depthStencilTexture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.colorTexture,0),a=t.viewport}const s=g[i];s.matrix.fromArray(o.transform.matrix),s.projectionMatrix.fromArray(o.projectionMatrix),s.viewport.set(a.x,a.y,a.width,a.height),0===i&&y.matrix.copy(s.matrix),!0===n&&y.cameras.push(s)}}const o=i.inputSources;for(let t=0;t<d.length;t++){const e=d[t],r=o[t];e.update(r,n,a)}E&&E(t,n)})),this.setAnimationLoop=function(t){E=t},this.dispose=function(){}}}function ca(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const r=t.get(n).envMap;if(r){e.envMap.value=r,e.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const i=t.get(r).__maxMipLevel;void 0!==i&&(e.maxMipLevel.value=i)}let i,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap?i=n.clearcoatRoughnessMap:n.specularIntensityMap?i=n.specularIntensityMap:n.specularTintMap&&(i=n.specularTintMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function r(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function i(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}function o(t,e,n){i(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),e.transmission>0&&(t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationTint.value.copy(e.attenuationTint),t.specularIntensity.value=e.specularIntensity,t.specularTint.value.copy(e.specularTint),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap),e.specularTintMap&&(t.specularTintMap.value=e.specularTintMap)}function a(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function s(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,l,c,u,A){l.isMeshBasicMaterial?e(t,l):l.isMeshLambertMaterial?(e(t,l),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,l)):l.isMeshToonMaterial?(e(t,l),r(t,l)):l.isMeshPhongMaterial?(e(t,l),n(t,l)):l.isMeshStandardMaterial?(e(t,l),l.isMeshPhysicalMaterial?o(t,l,A):i(t,l)):l.isMeshMatcapMaterial?(e(t,l),a(t,l)):l.isMeshDepthMaterial?(e(t,l),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,l)):l.isMeshDistanceMaterial?(e(t,l),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,l)):l.isMeshNormalMaterial?(e(t,l),s(t,l)):l.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,l),l.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,l)):l.isPointsMaterial?function(t,e,n,r){let i;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,l,c,u):l.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,l):l.isShadowMaterial?(t.color.value.copy(l.color),t.opacity.value=l.opacity):l.isShaderMaterial&&(l.uniformsNeedUpdate=!1)}}}function ua(t={}){const e=void 0!==t.canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let A=null,h=null;const d=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=st,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const f=this;let m=!1,g=0,y=0,v=null,_=-1,w=null;const b=new Ot,x=new Ot;let L=null,E=e.width,B=e.height,S=1,T=null,P=null;const F=new Ot(0,0,E,B),U=new Ot(0,0,E,B);let O=!1;const Y=[],Q=new wr;let N=!1,j=!1,W=null;const V=new _e,z=new jt,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function K(){return null===v?S:1}let Z,X,q,J,$,tt,et,nt,rt,it,ot,at,lt,ct,ut,At,ht,dt,pt,ft,mt,gt,yt,vt=n;function _t(t,n){for(let r=0;r<t.length;r++){const i=t[r],o=e.getContext(i,n);if(null!==o)return o}return null}try{const t={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",xt,!1),e.addEventListener("webglcontextrestored",Mt,!1),null===vt){const e=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&e.shift(),vt=_t(e,t),null===vt)throw _t(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===vt.getShaderPrecisionFormat&&(vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function wt(){Z=new ai(vt),X=new Dr(vt,Z,t),Z.init(X),gt=new ra(vt,Z,X),q=new ea(vt,Z,X),Y[0]=vt.BACK,J=new ci(vt),$=new Qo,tt=new na(vt,Z,q,$,X,gt,J),et=new Pr(f),nt=new oi(f),rt=new xr(vt,X),yt=new Sr(vt,Z,rt,X),it=new si(vt,rt,J,yt),ot=new di(vt,it,rt,J),pt=new hi(vt),At=new Ir($),at=new Yo(f,et,nt,Z,X,yt,At),lt=new ca($),ct=new Vo($),ut=new qo(Z,X),dt=new Br(f,et,q,ot,s),ht=new ta(f,ot,X),ft=new Tr(vt,Z,J,X),mt=new li(vt,Z,J,X),J.programs=at.programs,f.capabilities=X,f.extensions=Z,f.properties=$,f.renderLists=ct,f.shadowMap=ht,f.state=q,f.info=J}wt();const bt=new la(f,vt);function xt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const t=J.autoReset,e=ht.enabled,n=ht.autoUpdate,r=ht.needsUpdate,i=ht.type;wt(),J.autoReset=t,ht.enabled=e,ht.autoUpdate=n,ht.needsUpdate=r,ht.type=i}function Lt(t){const e=t.target;e.removeEventListener("dispose",Lt),function(t){(function(t){const e=$.get(t).programs;void 0!==e&&e.forEach((function(t){at.releaseProgram(t)}))})(t),$.remove(t)}(e)}this.xr=bt,this.getContext=function(){return vt},this.getContextAttributes=function(){return vt.getContextAttributes()},this.forceContextLoss=function(){const t=Z.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=Z.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return S},this.setPixelRatio=function(t){void 0!==t&&(S=t,this.setSize(E,B,!1))},this.getSize=function(t){return t.set(E,B)},this.setSize=function(t,n,r){bt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=t,B=n,e.width=Math.floor(t*S),e.height=Math.floor(n*S),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(E*S,B*S).floor()},this.setDrawingBufferSize=function(t,n,r){E=t,B=n,S=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(b)},this.getViewport=function(t){return t.copy(F)},this.setViewport=function(t,e,n,r){t.isVector4?F.set(t.x,t.y,t.z,t.w):F.set(t,e,n,r),q.viewport(b.copy(F).multiplyScalar(S).floor())},this.getScissor=function(t){return t.copy(U)},this.setScissor=function(t,e,n,r){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,n,r),q.scissor(x.copy(U).multiplyScalar(S).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(t){q.setScissorTest(O=t)},this.setOpaqueSort=function(t){T=t},this.setTransparentSort=function(t){P=t},this.getClearColor=function(t){return t.copy(dt.getClearColor())},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(t,e,n){let r=0;(void 0===t||t)&&(r|=vt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=vt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=vt.STENCIL_BUFFER_BIT),vt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",xt,!1),e.removeEventListener("webglcontextrestored",Mt,!1),ct.dispose(),ut.dispose(),$.dispose(),et.dispose(),nt.dispose(),ot.dispose(),yt.dispose(),bt.dispose(),bt.removeEventListener("sessionstart",Et),bt.removeEventListener("sessionend",Bt),W&&(W.dispose(),W=null),St.stop()},this.renderBufferImmediate=function(t,e){yt.initAttributes();const n=$.get(t);t.hasPositions&&!n.position&&(n.position=vt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=vt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=vt.createBuffer()),t.hasColors&&!n.color&&(n.color=vt.createBuffer());const r=e.getAttributes();t.hasPositions&&(vt.bindBuffer(vt.ARRAY_BUFFER,n.position),vt.bufferData(vt.ARRAY_BUFFER,t.positionArray,vt.DYNAMIC_DRAW),yt.enableAttribute(r.position),vt.vertexAttribPointer(r.position,3,vt.FLOAT,!1,0,0)),t.hasNormals&&(vt.bindBuffer(vt.ARRAY_BUFFER,n.normal),vt.bufferData(vt.ARRAY_BUFFER,t.normalArray,vt.DYNAMIC_DRAW),yt.enableAttribute(r.normal),vt.vertexAttribPointer(r.normal,3,vt.FLOAT,!1,0,0)),t.hasUvs&&(vt.bindBuffer(vt.ARRAY_BUFFER,n.uv),vt.bufferData(vt.ARRAY_BUFFER,t.uvArray,vt.DYNAMIC_DRAW),yt.enableAttribute(r.uv),vt.vertexAttribPointer(r.uv,2,vt.FLOAT,!1,0,0)),t.hasColors&&(vt.bindBuffer(vt.ARRAY_BUFFER,n.color),vt.bufferData(vt.ARRAY_BUFFER,t.colorArray,vt.DYNAMIC_DRAW),yt.enableAttribute(r.color),vt.vertexAttribPointer(r.color,3,vt.FLOAT,!1,0,0)),yt.disableUnusedAttributes(),vt.drawArrays(vt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=G);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=kt(t,e,r,i);q.setMaterial(r,a);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,A=1;!0===r.wireframe&&(l=it.getWireframeAttribute(n),A=2),void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||pt.update(i,n,r,s),yt.setup(i,r,s,n,l);let h=ft;null!==l&&(u=rt.get(l),h=mt,h.setIndex(u));const d=null!==l?l.count:c.count,p=n.drawRange.start*A,f=n.drawRange.count*A,m=null!==o?o.start*A:0,g=null!==o?o.count*A:1/0,y=Math.max(p,m),v=Math.min(d,p+f,m+g)-1,_=Math.max(0,v-y+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*K()),h.setMode(vt.LINES)):h.setMode(vt.TRIANGLES);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),q.setLineWidth(t*K()),i.isLineSegments?h.setMode(vt.LINES):i.isLineLoop?h.setMode(vt.LINE_LOOP):h.setMode(vt.LINE_STRIP)}else i.isPoints?h.setMode(vt.POINTS):i.isSprite&&h.setMode(vt.TRIANGLES);if(i.isInstancedMesh)h.renderInstances(y,_,i.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,_,t)}else h.render(y,_)}},this.compile=function(t,e){h=ut.get(t),h.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(h.pushLight(t),t.castShadow&&h.pushShadow(t))})),h.setupLights(),t.traverse((function(e){const n=e.material;if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++)Pt(n[r],t,e);else Pt(n,t,e)}))};let Ct=null;function Et(){St.stop()}function Bt(){St.start()}const St=new br;function Tt(t,e,n,r){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Q.intersectsSprite(t)){r&&z.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=ot.update(t),i=t.material;i.visible&&A.push(t,e,i,n,z.z,null)}}else if(t.isImmediateRenderObject)r&&z.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V),A.push(t,null,t.material,n,z.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==J.render.frame&&(t.skeleton.update(),t.skeleton.frame=J.render.frame),!t.frustumCulled||Q.intersectsObject(t))){r&&z.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=ot.update(t),i=t.material;if(Array.isArray(i)){const r=e.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&A.push(t,e,s,n,z.z,a)}}else i.visible&&A.push(t,e,i,n,z.z,null)}const i=t.children;for(let t=0,o=i.length;t<o;t++)Tt(i[t],e,n,r)}function Dt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;if(n.isArrayCamera){const i=n.cameras;for(let n=0,o=i.length;n<o;n++){const o=i[n];q.viewport(b.copy(o.viewport)),h.setupLightsView(o);for(let n=0,i=t.length;n<i;n++){const i=t[n],a=i.object,s=i.geometry,l=null===r?i.material:r,c=i.group;a.layers.test(o.layers)&&It(a,e,o,s,l,c)}}}else for(let i=0,o=t.length;i<o;i++){const o=t[i];It(o.object,e,n,o.geometry,null===r?o.material:r,o.group)}}function It(t,e,n,r,i,o){if(t.onBeforeRender(f,e,n,r,i,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const r=kt(n,e,i,t);q.setMaterial(i),yt.reset(),function(t,e){t.render((function(t){f.renderBufferImmediate(t,e)}))}(t,r)}else!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,f.renderBufferDirect(n,e,r,i,t,o),i.side=0,i.needsUpdate=!0,f.renderBufferDirect(n,e,r,i,t,o),i.side=2):f.renderBufferDirect(n,e,r,i,t,o);t.onAfterRender(f,e,n,r,i,o)}function Pt(t,e,n){!0!==e.isScene&&(e=G);const r=$.get(t),i=h.state.lights,o=h.state.shadowsArray,a=i.state.version,s=at.getParameters(t,i.state,o,e,n),l=at.getProgramCacheKey(s);let c=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?nt:et).get(t.envMap||r.environment),void 0===c&&(t.addEventListener("dispose",Lt),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Ft(t,s),u}else s.uniforms=at.getUniforms(t),t.onBuild(s,f),t.onBeforeCompile(s,f),u=at.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const A=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(A.clippingPlanes=At.uniform),Ft(t,s),r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=a,r.needsLights&&(A.ambientLightColor.value=i.state.ambient,A.lightProbe.value=i.state.probe,A.directionalLights.value=i.state.directional,A.directionalLightShadows.value=i.state.directionalShadow,A.spotLights.value=i.state.spot,A.spotLightShadows.value=i.state.spotShadow,A.rectAreaLights.value=i.state.rectArea,A.ltc_1.value=i.state.rectAreaLTC1,A.ltc_2.value=i.state.rectAreaLTC2,A.pointLights.value=i.state.point,A.pointLightShadows.value=i.state.pointShadow,A.hemisphereLights.value=i.state.hemi,A.directionalShadowMap.value=i.state.directionalShadowMap,A.directionalShadowMatrix.value=i.state.directionalShadowMatrix,A.spotShadowMap.value=i.state.spotShadowMap,A.spotShadowMatrix.value=i.state.spotShadowMatrix,A.pointShadowMap.value=i.state.pointShadowMap,A.pointShadowMatrix.value=i.state.pointShadowMatrix);const d=u.getUniforms(),p=yo.seqWithValue(d.seq,A);return r.currentProgram=u,r.uniformsList=p,u}function Ft(t,e){const n=$.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents}function kt(t,e,n,r){!0!==e.isScene&&(e=G),tt.resetTextureUnits();const i=e.fog,o=n.isMeshStandardMaterial?e.environment:null,a=null===v?f.outputEncoding:v.texture.encoding,s=(n.isMeshStandardMaterial?nt:et).get(n.envMap||o),l=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,c=r.geometry&&r.geometry.attributes.tangent,u=r.geometry&&r.geometry.morphAttributes.position,A=r.geometry&&r.geometry.morphAttributes.normal,d=$.get(n),p=h.state.lights;if(!0===N&&(!0===j||t!==w)){const e=t===w&&n.id===_;At.setState(n,t,e)}let m=!1;n.version===d.__version?d.needsLights&&d.lightsStateVersion!==p.state.version||d.outputEncoding!==a||r.isInstancedMesh&&!1===d.instancing?m=!0:r.isInstancedMesh||!0!==d.instancing?r.isSkinnedMesh&&!1===d.skinning?m=!0:r.isSkinnedMesh||!0!==d.skinning?d.envMap!==s||n.fog&&d.fog!==i?m=!0:void 0===d.numClippingPlanes||d.numClippingPlanes===At.numPlanes&&d.numIntersection===At.numIntersection?(d.vertexAlphas!==l||d.vertexTangents!==c||d.morphTargets!==u||d.morphNormals!==A)&&(m=!0):m=!0:m=!0:m=!0:(m=!0,d.__version=n.version);let g=d.currentProgram;!0===m&&(g=Pt(n,e,r));let y=!1,b=!1,x=!1;const M=g.getUniforms(),L=d.uniforms;if(q.useProgram(g.program)&&(y=!0,b=!0,x=!0),n.id!==_&&(_=n.id,b=!0),y||w!==t){if(M.setValue(vt,"projectionMatrix",t.projectionMatrix),X.logarithmicDepthBuffer&&M.setValue(vt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,b=!0,x=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=M.map.cameraPosition;void 0!==e&&e.setValue(vt,z.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&M.setValue(vt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&M.setValue(vt,"viewMatrix",t.matrixWorldInverse)}if(r.isSkinnedMesh){M.setOptional(vt,r,"bindMatrix"),M.setOptional(vt,r,"bindMatrixInverse");const t=r.skeleton;t&&(X.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),M.setValue(vt,"boneTexture",t.boneTexture,tt),M.setValue(vt,"boneTextureSize",t.boneTextureSize)):M.setOptional(vt,t,"boneMatrices"))}return(b||d.receiveShadow!==r.receiveShadow)&&(d.receiveShadow=r.receiveShadow,M.setValue(vt,"receiveShadow",r.receiveShadow)),b&&(M.setValue(vt,"toneMappingExposure",f.toneMappingExposure),d.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(L,x),i&&n.fog&&lt.refreshFogUniforms(L,i),lt.refreshMaterialUniforms(L,n,S,B,W),yo.upload(vt,d.uniformsList,L,tt)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(yo.upload(vt,d.uniformsList,L,tt),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(vt,"center",r.center),M.setValue(vt,"modelViewMatrix",r.modelViewMatrix),M.setValue(vt,"normalMatrix",r.normalMatrix),M.setValue(vt,"modelMatrix",r.matrixWorld),g}St.setAnimationLoop((function(t){Ct&&Ct(t)})),"undefined"!=typeof window&&St.setContext(window),this.setAnimationLoop=function(t){Ct=t,bt.setAnimationLoop(t),null===t?St.stop():St.start()},bt.addEventListener("sessionstart",Et),bt.addEventListener("sessionend",Bt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===m)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===bt.enabled&&!0===bt.isPresenting&&(!0===bt.cameraAutoUpdate&&bt.updateCamera(e),e=bt.getCamera()),!0===t.isScene&&t.onBeforeRender(f,t,e,v),h=ut.get(t,p.length),h.init(),p.push(h),V.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Q.setFromProjectionMatrix(V),j=this.localClippingEnabled,N=At.init(this.clippingPlanes,j,e),A=ct.get(t,d.length),A.init(),d.push(A),Tt(t,e,0,f.sortObjects),A.finish(),!0===f.sortObjects&&A.sort(T,P),!0===N&&At.beginShadows();const n=h.state.shadowsArray;ht.render(n,t,e),h.setupLights(),h.setupLightsView(e),!0===N&&At.endShadows(),!0===this.info.autoReset&&this.info.reset(),dt.render(A,t);const r=A.opaque,i=A.transmissive,o=A.transparent;r.length>0&&Dt(r,t,e),i.length>0&&function(t,e,n,r){if(null===W){const t=!0===a&&!0===X.isWebGL2;W=new(t?Qt:Ht)(1024,1024,{generateMipmaps:!0,type:null!==gt.convert(R)?R:I,minFilter:D,magFilter:C,wrapS:M,wrapT:M})}const i=f.getRenderTarget();f.setRenderTarget(W),f.clear();const o=f.toneMapping;f.toneMapping=0,Dt(t,n,r),f.toneMapping=o,tt.updateMultisampleRenderTarget(W),tt.updateRenderTargetMipmap(W),f.setRenderTarget(i),Dt(e,n,r)}(r,i,t,e),o.length>0&&Dt(o,t,e),null!==v&&(tt.updateMultisampleRenderTarget(v),tt.updateRenderTargetMipmap(v)),!0===t.isScene&&t.onAfterRender(f,t,e),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),yt.resetDefaultState(),_=-1,w=null,p.pop(),h=p.length>0?p[p.length-1]:null,d.pop(),A=d.length>0?d[d.length-1]:null},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTarget=function(t,e=0,n=0){v=t,g=e,y=n,t&&void 0===$.get(t).__webglFramebuffer&&tt.setupRenderTarget(t);let r=null,i=!1,o=!1;if(t){const n=t.texture;(n.isDataTexture3D||n.isDataTexture2DArray)&&(o=!0);const a=$.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=a[e],i=!0):r=t.isWebGLMultisampleRenderTarget?$.get(t).__webglMultisampledFramebuffer:a,b.copy(t.viewport),x.copy(t.scissor),L=t.scissorTest}else b.copy(F).multiplyScalar(S).floor(),x.copy(U).multiplyScalar(S).floor(),L=O;if(q.bindFramebuffer(vt.FRAMEBUFFER,r)&&X.drawBuffers){let e=!1;if(t)if(t.isWebGLMultipleRenderTargets){const n=t.texture;if(Y.length!==n.length||Y[0]!==vt.COLOR_ATTACHMENT0){for(let t=0,e=n.length;t<e;t++)Y[t]=vt.COLOR_ATTACHMENT0+t;Y.length=n.length,e=!0}}else 1===Y.length&&Y[0]===vt.COLOR_ATTACHMENT0||(Y[0]=vt.COLOR_ATTACHMENT0,Y.length=1,e=!0);else 1===Y.length&&Y[0]===vt.BACK||(Y[0]=vt.BACK,Y.length=1,e=!0);e&&(X.isWebGL2?vt.drawBuffers(Y):Z.get("WEBGL_draw_buffers").drawBuffersWEBGL(Y))}if(q.viewport(b),q.scissor(x),q.setScissorTest(L),i){const r=$.get(t.texture);vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_CUBE_MAP_POSITIVE_X+e,r.__webglTexture,n)}else if(o){const r=$.get(t.texture),i=e||0;vt.framebufferTextureLayer(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}},this.readRenderTargetPixels=function(t,e,n,r,i,o,a){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=$.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){q.bindFramebuffer(vt.FRAMEBUFFER,s);try{const a=t.texture,s=a.format,l=a.type;if(s!==H&&gt.convert(s)!==vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===R&&(Z.has("EXT_color_buffer_half_float")||X.isWebGL2&&Z.has("EXT_color_buffer_float"));if(!(l===I||gt.convert(l)===vt.getParameter(vt.IMPLEMENTATION_COLOR_READ_TYPE)||l===k&&(X.isWebGL2||Z.has("OES_texture_float")||Z.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");vt.checkFramebufferStatus(vt.FRAMEBUFFER)===vt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&vt.readPixels(e,n,r,i,gt.convert(s),gt.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const t=null!==v?$.get(v).__webglFramebuffer:null;q.bindFramebuffer(vt.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r);let a=gt.convert(e.format);X.isWebGL2&&(a===vt.RGB&&(a=vt.RGB8),a===vt.RGBA&&(a=vt.RGBA8)),tt.setTexture2D(e,0),vt.copyTexImage2D(vt.TEXTURE_2D,n,a,t.x,t.y,i,o,0),q.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r=0){const i=e.image.width,o=e.image.height,a=gt.convert(n.format),s=gt.convert(n.type);tt.setTexture2D(n,0),vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,n.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,n.unpackAlignment),e.isDataTexture?vt.texSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,i,o,a,s,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):vt.texSubImage2D(vt.TEXTURE_2D,r,t.x,t.y,a,s,e.image),0===r&&n.generateMipmaps&&vt.generateMipmap(vt.TEXTURE_2D),q.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,r,i=0){if(f.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=t.max.x-t.min.x+1,a=t.max.y-t.min.y+1,s=t.max.z-t.min.z+1,l=gt.convert(r.format),c=gt.convert(r.type);let u;if(r.isDataTexture3D)tt.setTexture3D(r,0),u=vt.TEXTURE_3D;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");tt.setTexture2DArray(r,0),u=vt.TEXTURE_2D_ARRAY}vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,r.flipY),vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),vt.pixelStorei(vt.UNPACK_ALIGNMENT,r.unpackAlignment);const A=vt.getParameter(vt.UNPACK_ROW_LENGTH),h=vt.getParameter(vt.UNPACK_IMAGE_HEIGHT),d=vt.getParameter(vt.UNPACK_SKIP_PIXELS),p=vt.getParameter(vt.UNPACK_SKIP_ROWS),m=vt.getParameter(vt.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;vt.pixelStorei(vt.UNPACK_ROW_LENGTH,g.width),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,g.height),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,t.min.x),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,t.min.y),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,t.min.z),n.isDataTexture||n.isDataTexture3D?vt.texSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),vt.compressedTexSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,g.data)):vt.texSubImage3D(u,i,e.x,e.y,e.z,o,a,s,l,c,g),vt.pixelStorei(vt.UNPACK_ROW_LENGTH,A),vt.pixelStorei(vt.UNPACK_IMAGE_HEIGHT,h),vt.pixelStorei(vt.UNPACK_SKIP_PIXELS,d),vt.pixelStorei(vt.UNPACK_SKIP_ROWS,p),vt.pixelStorei(vt.UNPACK_SKIP_IMAGES,m),0===i&&r.generateMipmaps&&vt.generateMipmap(u),q.unbindTexture()},this.initTexture=function(t){tt.setTexture2D(t,0),q.unbindTexture()},this.resetState=function(){g=0,y=0,v=null,q.reset(),yt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Aa extends ua{}Aa.prototype.isWebGL1Renderer=!0;class ha{constructor(t,e=25e-5){this.name="",this.color=new hn(t),this.density=e}clone(){return new ha(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}ha.prototype.isFogExp2=!0;class da{constructor(t,e=1,n=1e3){this.name="",this.color=new hn(t),this.near=e,this.far=n}clone(){return new da(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}da.prototype.isFog=!0;class pa extends Ve{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}pa.prototype.isScene=!0;class fa{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=ft,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xt()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}fa.prototype.isInterleavedBuffer=!0;const ma=new jt;class ga{constructor(t,e,n,r=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)ma.x=this.getX(e),ma.y=this.getY(e),ma.z=this.getZ(e),ma.applyMatrix4(t),this.setXYZ(e,ma.x,ma.y,ma.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)ma.x=this.getX(e),ma.y=this.getY(e),ma.z=this.getZ(e),ma.applyNormalMatrix(t),this.setXYZ(e,ma.x,ma.y,ma.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)ma.x=this.getX(e),ma.y=this.getY(e),ma.z=this.getZ(e),ma.transformDirection(t),this.setXYZ(e,ma.x,ma.y,ma.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new mn(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ga(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ga.prototype.isInterleavedBufferAttribute=!0;class ya extends on{constructor(t){super(),this.type="SpriteMaterial",this.color=new hn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let va;ya.prototype.isSpriteMaterial=!0;const _a=new jt,wa=new jt,ba=new jt,xa=new Dt,Ma=new Dt,La=new _e,Ca=new jt,Ea=new jt,Ba=new jt,Sa=new Dt,Ta=new Dt,Da=new Dt;class Ia extends Ve{constructor(t){if(super(),this.type="Sprite",void 0===va){va=new Un;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new fa(t,5);va.setIndex([0,1,2,0,2,3]),va.setAttribute("position",new ga(e,3,0,!1)),va.setAttribute("uv",new ga(e,2,3,!1))}this.geometry=va,this.material=void 0!==t?t:new ya,this.center=new Dt(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wa.setFromMatrixScale(this.matrixWorld),La.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),ba.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&wa.multiplyScalar(-ba.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;Pa(Ca.set(-.5,-.5,0),ba,o,wa,r,i),Pa(Ea.set(.5,-.5,0),ba,o,wa,r,i),Pa(Ba.set(.5,.5,0),ba,o,wa,r,i),Sa.set(0,0),Ta.set(1,0),Da.set(1,1);let a=t.ray.intersectTriangle(Ca,Ea,Ba,!1,_a);if(null===a&&(Pa(Ea.set(-.5,.5,0),ba,o,wa,r,i),Ta.set(0,1),a=t.ray.intersectTriangle(Ca,Ba,Ea,!1,_a),null===a))return;const s=t.ray.origin.distanceTo(_a);s<t.near||s>t.far||e.push({distance:s,point:_a.clone(),uv:nn.getUV(_a,Ca,Ea,Ba,Sa,Ta,Da,new Dt),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Pa(t,e,n,r,i,o){xa.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(Ma.x=o*xa.x-i*xa.y,Ma.y=i*xa.x+o*xa.y):Ma.copy(xa),t.copy(e),t.x+=Ma.x,t.y+=Ma.y,t.applyMatrix4(La)}Ia.prototype.isSprite=!0;const Fa=new jt,ka=new jt;class Ra extends Ve{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0){e=Math.abs(e);const n=this.levels;let r;for(r=0;r<n.length&&!(e<n[r].distance);r++);return n.splice(r,0,{distance:e,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,r;for(n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){Fa.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(Fa);this.getObjectForDistance(n).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Fa.setFromMatrixPosition(t.matrixWorld),ka.setFromMatrixPosition(this.matrixWorld);const n=Fa.distanceTo(ka)/t.zoom;let r,i;for(e[0].object.visible=!0,r=1,i=e.length;r<i&&n>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(this._currentLevel=r-1;r<i;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,r=n.length;t<r;t++){const r=n[t];e.object.levels.push({object:r.object.uuid,distance:r.distance})}return e}}const Ua=new jt,Oa=new Ot,Ha=new Ot,Ya=new jt,Qa=new _e;class Na extends er{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _e,this.bindMatrixInverse=new _e}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Ot,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,r=this.geometry;Oa.fromBufferAttribute(r.attributes.skinIndex,t),Ha.fromBufferAttribute(r.attributes.skinWeight,t),Ua.fromBufferAttribute(r.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const r=Ha.getComponent(t);if(0!==r){const i=Oa.getComponent(t);Qa.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(Ya.copy(Ua).applyMatrix4(Qa),r)}}return e.applyMatrix4(this.bindMatrixInverse)}}Na.prototype.isSkinnedMesh=!0;class ja extends Ve{constructor(){super(),this.type="Bone"}}ja.prototype.isBone=!0;class Wa extends Rt{constructor(t=null,e=1,n=1,r,i,o,a,s,l=C,c=C,u,A){super(null,o,a,s,l,c,r,i,u,A),this.image={data:t,width:e,height:n},this.magFilter=l,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Wa.prototype.isDataTexture=!0;const Va=new _e,za=new _e;class Ga{constructor(t=[],e=[]){this.uuid=xt(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new _e)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new _e;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=t.length;r<i;r++){const i=t[r]?t[r].matrixWorld:za;Va.multiplyMatrices(i,e[r]),Va.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ga(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=Bt(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Wa(e,t,t,H,k);return this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){const r=t.bones[n];let i=e[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new ja),this.bones.push(i),this.boneInverses.push((new _e).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let r=0,i=e.length;r<i;r++){const i=e[r];t.bones.push(i.uuid);const o=n[r];t.boneInverses.push(o.toArray())}return t}}const Ka=new _e,Za=new _e,Xa=[],qa=new er;class Ja extends er{constructor(t,e,n){super(t,e),this.instanceMatrix=new mn(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,r=this.count;if(qa.geometry=this.geometry,qa.material=this.material,void 0!==qa.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Ka),Za.multiplyMatrices(n,Ka),qa.matrixWorld=Za,qa.raycast(t,Xa);for(let t=0,n=Xa.length;t<n;t++){const n=Xa[t];n.instanceId=i,n.object=this,e.push(n)}Xa.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new mn(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Ja.prototype.isInstancedMesh=!0;class $a extends on{constructor(t){super(),this.type="LineBasicMaterial",this.color=new hn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}$a.prototype.isLineBasicMaterial=!0;const ts=new jt,es=new jt,ns=new _e,rs=new ve,is=new Ae;class os extends Ve{constructor(t=new Un,e=new $a){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)ts.fromBufferAttribute(e,t-1),es.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=ts.distanceTo(es);t.setAttribute("lineDistance",new Ln(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),is.copy(n.boundingSphere),is.applyMatrix4(r),is.radius+=i,!1===t.ray.intersectsSphere(is))return;ns.copy(r).invert(),rs.copy(t.ray).applyMatrix4(ns);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new jt,c=new jt,u=new jt,A=new jt,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes.position;if(null!==r)for(let n=Math.max(0,o.start),a=Math.min(r.count,o.start+o.count)-1;n<a;n+=h){const o=r.getX(n),a=r.getX(n+1);if(l.fromBufferAttribute(i,o),c.fromBufferAttribute(i,a),rs.distanceSqToSegment(l,c,A,u)>s)continue;A.applyMatrix4(this.matrixWorld);const h=t.ray.origin.distanceTo(A);h<t.near||h>t.far||e.push({distance:h,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}else for(let n=Math.max(0,o.start),r=Math.min(i.count,o.start+o.count)-1;n<r;n+=h){if(l.fromBufferAttribute(i,n),c.fromBufferAttribute(i,n+1),rs.distanceSqToSegment(l,c,A,u)>s)continue;A.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(A);r<t.near||r>t.far||e.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}os.prototype.isLine=!0;const as=new jt,ss=new jt;class ls extends os{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,r=e.count;t<r;t+=2)as.fromBufferAttribute(e,t),ss.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+as.distanceTo(ss);t.setAttribute("lineDistance",new Ln(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}ls.prototype.isLineSegments=!0;class cs extends os{constructor(t,e){super(t,e),this.type="LineLoop"}}cs.prototype.isLineLoop=!0;class us extends on{constructor(t){super(),this.type="PointsMaterial",this.color=new hn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}us.prototype.isPointsMaterial=!0;const As=new _e,hs=new ve,ds=new Ae,ps=new jt;class fs extends Ve{constructor(t=new Un,e=new us){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ds.copy(n.boundingSphere),ds.applyMatrix4(r),ds.radius+=i,!1===t.ray.intersectsSphere(ds))return;As.copy(r).invert(),hs.copy(t.ray).applyMatrix4(As);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){const i=n.index,a=n.attributes.position;if(null!==i)for(let n=Math.max(0,o.start),l=Math.min(i.count,o.start+o.count);n<l;n++){const o=i.getX(n);ps.fromBufferAttribute(a,o),ms(ps,o,s,r,t,e,this)}else for(let n=Math.max(0,o.start),i=Math.min(a.count,o.start+o.count);n<i;n++)ps.fromBufferAttribute(a,n),ms(ps,n,s,r,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function ms(t,e,n,r,i,o,a){const s=hs.distanceSqToPoint(t);if(s<n){const n=new jt;hs.closestPointToPoint(t,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:e,face:null,object:a})}}fs.prototype.isPoints=!0;class gs extends Rt{constructor(t,e,n,r,i,o,a,s,l){super(t,e,n,r,i,o,a,s,l),this.format=void 0!==a?a:O,this.minFilter=void 0!==o?o:S,this.magFilter=void 0!==i?i:S,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;0=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}gs.prototype.isVideoTexture=!0;class ys extends Rt{constructor(t,e,n,r,i,o,a,s,l,c,u,A){super(null,o,a,s,l,c,r,i,u,A),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}ys.prototype.isCompressedTexture=!0;class vs extends Rt{constructor(t,e,n,r,i,o,a,s,l){super(t,e,n,r,i,o,a,s,l),this.needsUpdate=!0}}vs.prototype.isCanvasTexture=!0;class _s extends Rt{constructor(t,e,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:Q)!==Q&&c!==N)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Q&&(n=P),void 0===n&&c===N&&(n=U),super(null,r,i,o,a,s,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:C,this.minFilter=void 0!==s?s:C,this.flipY=!1,this.generateMipmaps=!1}}_s.prototype.isDepthTexture=!0;class ws extends Un{constructor(t=1,e=8,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},e=Math.max(3,e);const i=[],o=[],a=[],s=[],l=new jt,c=new Dt;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let i=0,u=3;i<=e;i++,u+=3){const A=n+i/e*r;l.x=t*Math.cos(A),l.y=t*Math.sin(A),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[u]/t+1)/2,c.y=(o[u+1]/t+1)/2,s.push(c.x,c.y)}for(let t=1;t<=e;t++)i.push(t,t+1,0);this.setIndex(i),this.setAttribute("position",new Ln(o,3)),this.setAttribute("normal",new Ln(a,3)),this.setAttribute("uv",new Ln(s,2))}static fromJSON(t){return new ws(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class bs extends Un{constructor(t=1,e=1,n=1,r=8,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],A=[],h=[];let d=0;const p=[],f=n/2;let m=0;function g(n){const i=d,o=new Dt,p=new jt;let g=0;const y=!0===n?t:e,v=!0===n?1:-1;for(let t=1;t<=r;t++)u.push(0,f*v,0),A.push(0,v,0),h.push(.5,.5),d++;const _=d;for(let t=0;t<=r;t++){const e=t/r*s+a,n=Math.cos(e),i=Math.sin(e);p.x=y*i,p.y=f*v,p.z=y*n,u.push(p.x,p.y,p.z),A.push(0,v,0),o.x=.5*n+.5,o.y=.5*i*v+.5,h.push(o.x,o.y),d++}for(let t=0;t<r;t++){const e=i+t,r=_+t;!0===n?c.push(r,r+1,e):c.push(r+1,r,e),g+=3}l.addGroup(m,g,!0===n?1:2),m+=g}(function(){const o=new jt,g=new jt;let y=0;const v=(e-t)/n;for(let l=0;l<=i;l++){const c=[],m=l/i,y=m*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,i=e*s+a,l=Math.sin(i),p=Math.cos(i);g.x=y*l,g.y=-m*n+f,g.z=y*p,u.push(g.x,g.y,g.z),o.set(l,v,p).normalize(),A.push(o.x,o.y,o.z),h.push(e,1-m),c.push(d++)}p.push(c)}for(let t=0;t<r;t++)for(let e=0;e<i;e++){const n=p[e][t],r=p[e+1][t],i=p[e+1][t+1],o=p[e][t+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(m,y,0),m+=y})(),!1===o&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new Ln(u,3)),this.setAttribute("normal",new Ln(A,3)),this.setAttribute("uv",new Ln(h,2))}static fromJSON(t){return new bs(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class xs extends bs{constructor(t=1,e=1,n=8,r=1,i=!1,o=0,a=2*Math.PI){super(0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(t){return new xs(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Ms extends Un{constructor(t,e,n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const i=[],o=[];function a(t,e,n,r){const i=r+1,o=[];for(let r=0;r<=i;r++){o[r]=[];const a=t.clone().lerp(n,r/i),s=e.clone().lerp(n,r/i),l=i-r;for(let t=0;t<=l;t++)o[r][t]=0===t&&r===i?a:a.clone().lerp(s,t/l)}for(let t=0;t<i;t++)for(let e=0;e<2*(i-t)-1;e++){const n=Math.floor(e/2);e%2==0?(s(o[t][n+1]),s(o[t+1][n]),s(o[t][n])):(s(o[t][n+1]),s(o[t+1][n+1]),s(o[t+1][n]))}}function s(t){i.push(t.x,t.y,t.z)}function l(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function c(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function u(t){return Math.atan2(t.z,-t.x)}function A(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(function(t){const n=new jt,r=new jt,i=new jt;for(let o=0;o<e.length;o+=3)l(e[o+0],n),l(e[o+1],r),l(e[o+2],i),a(n,r,i,t)})(r),function(t){const e=new jt;for(let n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){const t=new jt;for(let e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];const n=u(t)/2/Math.PI+.5,r=A(t)/Math.PI+.5;o.push(n,1-r)}(function(){const t=new jt,e=new jt,n=new jt,r=new jt,a=new Dt,s=new Dt,l=new Dt;for(let A=0,h=0;A<i.length;A+=9,h+=6){t.set(i[A+0],i[A+1],i[A+2]),e.set(i[A+3],i[A+4],i[A+5]),n.set(i[A+6],i[A+7],i[A+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(t).add(e).add(n).divideScalar(3);const d=u(r);c(a,h+0,t,d),c(s,h+2,e,d),c(l,h+4,n,d)}})(),function(){for(let t=0;t<o.length;t+=6){const e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),a=Math.min(e,n,r);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}()}(),this.setAttribute("position",new Ln(i,3)),this.setAttribute("normal",new Ln(i.slice(),3)),this.setAttribute("uv",new Ln(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(t){return new Ms(t.vertices,t.indices,t.radius,t.details)}}class Ls extends Ms{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Ls(t.radius,t.detail)}}const Cs=new jt,Es=new jt,Bs=new jt,Ss=new nn;class Ts extends Un{constructor(t,e){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1,!0===t.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const n=Math.cos(wt*e),r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count,a=[0,0,0],s=["a","b","c"],l=new Array(3),c={},u=[];for(let t=0;t<o;t+=3){r?(a[0]=r.getX(t),a[1]=r.getX(t+1),a[2]=r.getX(t+2)):(a[0]=t,a[1]=t+1,a[2]=t+2);const{a:e,b:o,c:A}=Ss;if(e.fromBufferAttribute(i,a[0]),o.fromBufferAttribute(i,a[1]),A.fromBufferAttribute(i,a[2]),Ss.getNormal(Bs),l[0]=`${e.x},${e.y},${e.z}`,l[1]=`${o.x},${o.y},${o.z}`,l[2]=`${A.x},${A.y},${A.z}`,l[0]!==l[1]&&l[1]!==l[2]&&l[2]!==l[0])for(let t=0;t<3;t++){const e=(t+1)%3,r=l[t],i=l[e],o=Ss[s[t]],A=Ss[s[e]],h=`${r}_${i}`,d=`${i}_${r}`;d in c&&c[d]?(Bs.dot(c[d].normal)<=n&&(u.push(o.x,o.y,o.z),u.push(A.x,A.y,A.z)),c[d]=null):h in c||(c[h]={index0:a[t],index1:a[e],normal:Bs.clone()})}}for(const t in c)if(c[t]){const{index0:e,index1:n}=c[t];Cs.fromBufferAttribute(i,e),Es.fromBufferAttribute(i,n),u.push(Cs.x,Cs.y,Cs.z),u.push(Es.x,Es.y,Es.z)}this.setAttribute("position",new Ln(u,3))}}class Ds{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),i+=n.distanceTo(r),e.push(i),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let r=0;const i=n.length;let o;o=e||t*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(t,e){const n=1e-4;let r=t-n,i=t+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=e||(o.isVector2?new Dt:new jt);return s.copy(a).sub(o).normalize(),s}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new jt,r=[],i=[],o=[],a=new jt,s=new _e;for(let e=0;e<=t;e++){const n=e/t;r[e]=this.getTangentAt(n,new jt),r[e].normalize()}i[0]=new jt,o[0]=new jt;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),A=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),A<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let e=1;e<=t;e++){if(i[e]=i[e-1].clone(),o[e]=o[e-1].clone(),a.crossVectors(r[e-1],r[e]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(Mt(r[e-1].dot(r[e]),-1,1));i[e].applyMatrix4(s.makeRotationAxis(a,t))}o[e].crossVectors(r[e],i[e])}if(!0===e){let e=Math.acos(Mt(i[0].dot(i[t]),-1,1));e/=t,r[0].dot(a.crossVectors(i[0],i[t]))>0&&(e=-e);for(let n=1;n<=t;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],e*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Is extends Ds{constructor(t=0,e=0,n=1,r=1,i=0,o=2*Math.PI,a=!1,s=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(t,e){const n=e||new Dt,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+t*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*t-r*e+this.aX,l=n*e+r*t+this.aY}return n.set(s,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Is.prototype.isEllipseCurve=!0;class Ps extends Is{constructor(t,e,n,r,i,o){super(t,e,n,n,r,i,o),this.type="ArcCurve"}}function Fs(){let t=0,e=0,n=0,r=0;function i(i,o,a,s){t=i,e=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,a,s){let l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,c=(n-e)/a-(r-e)/(a+s)+(r-n)/s;l*=a,c*=a,i(e,n,l,c)},calc:function(i){const o=i*i;return t+e*i+n*o+r*(o*i)}}}Ps.prototype.isArcCurve=!0;const ks=new jt,Rs=new Fs,Us=new Fs,Os=new Fs;class Hs extends Ds{constructor(t=[],e=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t,e=new jt){const n=e,r=this.points,i=r.length,o=(i-(this.closed?0:1))*t;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?a=r[(l-1)%i]:(ks.subVectors(r[0],r[1]).add(r[0]),a=ks);const u=r[l%i],A=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(ks.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=ks),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(u),t),n=Math.pow(u.distanceToSquared(A),t),r=Math.pow(A.distanceToSquared(s),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),Rs.initNonuniformCatmullRom(a.x,u.x,A.x,s.x,e,n,r),Us.initNonuniformCatmullRom(a.y,u.y,A.y,s.y,e,n,r),Os.initNonuniformCatmullRom(a.z,u.z,A.z,s.z,e,n,r)}else"catmullrom"===this.curveType&&(Rs.initCatmullRom(a.x,u.x,A.x,s.x,this.tension),Us.initCatmullRom(a.y,u.y,A.y,s.y,this.tension),Os.initCatmullRom(a.z,u.z,A.z,s.z,this.tension));return n.set(Rs.calc(c),Us.calc(c),Os.calc(c)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new jt).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Ys(t,e,n,r,i){const o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function Qs(t,e,n,r){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function Ns(t,e,n,r,i){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}Hs.prototype.isCatmullRomCurve3=!0;class js extends Ds{constructor(t=new Dt,e=new Dt,n=new Dt,r=new Dt){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new Dt){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ns(t,r.x,i.x,o.x,a.x),Ns(t,r.y,i.y,o.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}js.prototype.isCubicBezierCurve=!0;class Ws extends Ds{constructor(t=new jt,e=new jt,n=new jt,r=new jt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new jt){const n=e,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ns(t,r.x,i.x,o.x,a.x),Ns(t,r.y,i.y,o.y,a.y),Ns(t,r.z,i.z,o.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Ws.prototype.isCubicBezierCurve3=!0;class Vs extends Ds{constructor(t=new Dt,e=new Dt){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Dt){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new Dt;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Vs.prototype.isLineCurve=!0;class zs extends Ds{constructor(t=new jt,e=new jt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new jt){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Gs extends Ds{constructor(t=new Dt,e=new Dt,n=new Dt){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Dt){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(Qs(t,r.x,i.x,o.x),Qs(t,r.y,i.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Gs.prototype.isQuadraticBezierCurve=!0;class Ks extends Ds{constructor(t=new jt,e=new jt,n=new jt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new jt){const n=e,r=this.v0,i=this.v1,o=this.v2;return n.set(Qs(t,r.x,i.x,o.x),Qs(t,r.y,i.y,o.y),Qs(t,r.z,i.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Ks.prototype.isQuadraticBezierCurve3=!0;class Zs extends Ds{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new Dt){const n=e,r=this.points,i=(r.length-1)*t,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(Ys(a,s.x,l.x,c.x,u.x),Ys(a,s.y,l.y,c.y,u.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Dt).fromArray(n))}return this}}Zs.prototype.isSplineCurve=!0;var Xs=Object.freeze({__proto__:null,ArcCurve:Ps,CatmullRomCurve3:Hs,CubicBezierCurve:js,CubicBezierCurve3:Ws,EllipseCurve:Is,LineCurve:Vs,LineCurve3:zs,QuadraticBezierCurve:Gs,QuadraticBezierCurve3:Ks,SplineCurve:Zs});const qs=function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Js(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,A,h,d;if(r&&(o=function(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Js(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(cl(c));for(i.sort(ol),o=0;o<i.length;o++)al(i[o],n),n=$s(n,n.next);return n}(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let e=n;e<i;e+=n)A=t[e],h=t[e+1],A<s&&(s=A),h<l&&(l=h),A>c&&(c=A),h>u&&(u=h);d=Math.max(c-s,u-l),d=0!==d?1/d:0}return tl(o,a,n,s,l,d),a};function Js(t,e,n,r,i){let o,a;if(i===function(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(t,e,n,r)>0)for(o=e;o<n;o+=r)a=vl(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=vl(o,t[o],t[o+1],a);return a&&dl(a,a.next)&&(_l(a),a=a.next),a}function $s(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!dl(r,r.next)&&0!==hl(r.prev,r,r.next))r=r.next;else{if(_l(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function tl(t,e,n,r,i,o,a){if(!t)return;!a&&o&&function(t,e,n,r){let i=t;do{null===i.z&&(i.z=ll(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,r);e++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);let s,l,c=t;for(;t.prev!==t.next;)if(s=t.prev,l=t.next,o?nl(t,r,i,o):el(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),_l(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?tl(t=rl($s(t),e,n),e,n,r,i,o,2):2===a&&il(t,e,n,r,i,o):tl($s(t),e,n,r,i,o,1);break}}function el(t){const e=t.prev,n=t,r=t.next;if(hl(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(ul(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&hl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function nl(t,e,n,r){const i=t.prev,o=t,a=t.next;if(hl(i,o,a)>=0)return!1;const s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,A=ll(s,l,e,n,r),h=ll(c,u,e,n,r);let d=t.prevZ,p=t.nextZ;for(;d&&d.z>=A&&p&&p.z<=h;){if(d!==t.prev&&d!==t.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&hl(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&hl(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=A;){if(d!==t.prev&&d!==t.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&hl(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&ul(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&hl(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function rl(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!dl(i,o)&&pl(i,r,r.next,o)&&gl(i,o)&&gl(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),_l(r),_l(r.next),r=t=o),r=r.next}while(r!==t);return $s(r)}function il(t,e,n,r,i,o){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&Al(a,t)){let s=yl(a,t);return a=$s(a,a.next),s=$s(s,s.next),tl(a,e,n,r,i,o),void tl(s,e,n,r,i,o)}t=t.next}a=a.next}while(a!==t)}function ol(t,e){return t.x-e.x}function al(t,e){if(e=function(t,e){let n=e;const r=t.x,i=t.y;let o,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const t=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>a){if(a=t,t===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(r===a)return o;const s=o,l=o.x,c=o.y;let u,A=1/0;n=o;do{r>=n.x&&n.x>=l&&r!==n.x&&ul(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),gl(n,t)&&(u<A||u===A&&(n.x>o.x||n.x===o.x&&sl(o,n)))&&(o=n,A=u)),n=n.next}while(n!==s);return o}(t,e)){const n=yl(e,t);$s(e,e.next),$s(n,n.next)}}function sl(t,e){return hl(t.prev,t,e.prev)<0&&hl(e.next,t,t.next)<0}function ll(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function cl(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ul(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Al(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&pl(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(gl(t,e)&&gl(e,t)&&function(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(hl(t.prev,t,e.prev)||hl(t,e.prev,e))||dl(t,e)&&hl(t.prev,t,t.next)>0&&hl(e.prev,e,e.next)>0)}function hl(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function dl(t,e){return t.x===e.x&&t.y===e.y}function pl(t,e,n,r){const i=ml(hl(t,e,n)),o=ml(hl(t,e,r)),a=ml(hl(n,r,t)),s=ml(hl(n,r,e));return i!==o&&a!==s||!(0!==i||!fl(t,n,e))||!(0!==o||!fl(t,r,e))||!(0!==a||!fl(n,t,r))||!(0!==s||!fl(n,e,r))}function fl(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ml(t){return t>0?1:t<0?-1:0}function gl(t,e){return hl(t.prev,t,t.next)<0?hl(t,e,t.next)>=0&&hl(t,t.prev,e)>=0:hl(t,e,t.prev)<0||hl(t,t.next,e)<0}function yl(t,e){const n=new wl(t.i,t.x,t.y),r=new wl(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function vl(t,e,n,r){const i=new wl(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _l(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function wl(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class bl{static area(t){const e=t.length;let n=0;for(let r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n}static isClockWise(t){return bl.area(t)<0}static triangulateShape(t,e){const n=[],r=[],i=[];xl(t),Ml(n,t);let o=t.length;e.forEach(xl);for(let t=0;t<e.length;t++)r.push(o),o+=e[t].length,Ml(n,e[t]);const a=qs(n,r);for(let t=0;t<a.length;t+=3)i.push(a.slice(t,t+3));return i}}function xl(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ml(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ll extends Un{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],i=[];for(let e=0,n=t.length;e<n;e++)o(t[e]);function o(t){const o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1;let l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,A=void 0!==e.bevelSize?e.bevelSize:u-2,h=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3;const p=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:Cl;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);let m,g,y,v,_,w=!1;p&&(m=p.getSpacedPoints(s),w=!0,c=!1,g=p.computeFrenetFrames(s,!1),y=new jt,v=new jt,_=new jt),c||(d=0,u=0,A=0,h=0);const b=t.extractPoints(a);let x=b.shape;const M=b.holes;if(!bl.isClockWise(x)){x=x.reverse();for(let t=0,e=M.length;t<e;t++){const e=M[t];bl.isClockWise(e)&&(M[t]=e.reverse())}}const L=bl.triangulateShape(x,M),C=x;for(let t=0,e=M.length;t<e;t++){const e=M[t];x=x.concat(e)}function E(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const B=x.length,S=L.length;function T(t,e,n){let r,i,o;const a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=a*a+s*s,A=a*c-s*l;if(Math.abs(A)>Number.EPSILON){const A=Math.sqrt(u),h=Math.sqrt(l*l+c*c),d=e.x-s/A,p=e.y+a/A,f=((n.x-c/h-d)*c-(n.y+l/h-p)*l)/(a*c-s*l);r=d+a*f-t.x,i=p+s*f-t.y;const m=r*r+i*i;if(m<=2)return new Dt(r,i);o=Math.sqrt(m/2)}else{let t=!1;a>Number.EPSILON?l>Number.EPSILON&&(t=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(s)===Math.sign(c)&&(t=!0),t?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new Dt(r/o,i/o)}const D=[];for(let t=0,e=C.length,n=e-1,r=t+1;t<e;t++,n++,r++)n===e&&(n=0),r===e&&(r=0),D[t]=T(C[t],C[n],C[r]);const I=[];let P,F=D.concat();for(let t=0,e=M.length;t<e;t++){const e=M[t];P=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),P[t]=T(e[t],e[r],e[i]);I.push(P),F=F.concat(P)}for(let t=0;t<d;t++){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=A*Math.sin(e*Math.PI/2)+h;for(let t=0,e=C.length;t<e;t++){const e=E(C[t],D[t],r);U(e.x,e.y,-n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];P=I[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],P[t],r);U(i.x,i.y,-n)}}}const k=A+h;for(let t=0;t<B;t++){const e=c?E(x[t],F[t],k):x[t];w?(v.copy(g.normals[0]).multiplyScalar(e.x),y.copy(g.binormals[0]).multiplyScalar(e.y),_.copy(m[0]).add(v).add(y),U(_.x,_.y,_.z)):U(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<B;e++){const n=c?E(x[e],F[e],k):x[e];w?(v.copy(g.normals[t]).multiplyScalar(n.x),y.copy(g.binormals[t]).multiplyScalar(n.y),_.copy(m[t]).add(v).add(y),U(_.x,_.y,_.z)):U(n.x,n.y,l/s*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=A*Math.sin(e*Math.PI/2)+h;for(let t=0,e=C.length;t<e;t++){const e=E(C[t],D[t],r);U(e.x,e.y,l+n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];P=I[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],P[t],r);w?U(i.x,i.y+m[s-1].y,m[s-1].x+n):U(i.x,i.y,l+n)}}}function R(t,e){let n=t.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=t.length-1);for(let t=0,n=s+2*d;t<n;t++){const n=B*t,o=B*(t+1);H(e+r+n,e+i+n,e+i+o,e+r+o)}}}function U(t,e,n){o.push(t),o.push(e),o.push(n)}function O(t,e,i){Y(t),Y(e),Y(i);const o=r.length/3,a=f.generateTopUV(n,r,o-3,o-2,o-1);Q(a[0]),Q(a[1]),Q(a[2])}function H(t,e,i,o){Y(t),Y(e),Y(o),Y(e),Y(i),Y(o);const a=r.length/3,s=f.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);Q(s[0]),Q(s[1]),Q(s[3]),Q(s[1]),Q(s[2]),Q(s[3])}function Y(t){r.push(o[3*t+0]),r.push(o[3*t+1]),r.push(o[3*t+2])}function Q(t){i.push(t.x),i.push(t.y)}(function(){const t=r.length/3;if(c){let t=0,e=B*t;for(let t=0;t<S;t++){const n=L[t];O(n[2]+e,n[1]+e,n[0]+e)}t=s+2*d,e=B*t;for(let t=0;t<S;t++){const n=L[t];O(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<S;t++){const e=L[t];O(e[2],e[1],e[0])}for(let t=0;t<S;t++){const e=L[t];O(e[0]+B*s,e[1]+B*s,e[2]+B*s)}}n.addGroup(t,r.length/3-t,0)})(),function(){const t=r.length/3;let e=0;R(C,e),e+=C.length;for(let t=0,n=M.length;t<n;t++){const n=M[t];R(n,e),e+=n.length}n.addGroup(t,r.length/3-t,1)}()}this.setAttribute("position",new Ln(r,3)),this.setAttribute("uv",new Ln(i,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){const r=t[e];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let r=0,i=t.shapes.length;r<i;r++){const i=e[t.shapes[r]];n.push(i)}const r=t.options.extrudePath;return void 0!==r&&(t.options.extrudePath=(new Xs[r.type]).fromJSON(r)),new Ll(n,t.options)}}const Cl={generateTopUV:function(t,e,n,r,i){const o=e[3*n],a=e[3*n+1],s=e[3*r],l=e[3*r+1],c=e[3*i],u=e[3*i+1];return[new Dt(o,a),new Dt(s,l),new Dt(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[3*n],s=e[3*n+1],l=e[3*n+2],c=e[3*r],u=e[3*r+1],A=e[3*r+2],h=e[3*i],d=e[3*i+1],p=e[3*i+2],f=e[3*o],m=e[3*o+1],g=e[3*o+2];return Math.abs(s-u)<Math.abs(a-c)?[new Dt(a,1-l),new Dt(c,1-A),new Dt(h,1-p),new Dt(f,1-g)]:[new Dt(s,1-l),new Dt(u,1-A),new Dt(d,1-p),new Dt(m,1-g)]}};class El extends Ms{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new El(t.radius,t.detail)}}class Bl extends Un{constructor(t,e=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e),r=Mt(r,0,2*Math.PI);const i=[],o=[],a=[],s=1/e,l=new jt,c=new Dt;for(let i=0;i<=e;i++){const u=n+i*s*r,A=Math.sin(u),h=Math.cos(u);for(let n=0;n<=t.length-1;n++)l.x=t[n].x*A,l.y=t[n].y,l.z=t[n].x*h,o.push(l.x,l.y,l.z),c.x=i/e,c.y=n/(t.length-1),a.push(c.x,c.y)}for(let n=0;n<e;n++)for(let e=0;e<t.length-1;e++){const r=e+n*t.length,o=r,a=r+t.length,s=r+t.length+1,l=r+1;i.push(o,a,l),i.push(a,s,l)}if(this.setIndex(i),this.setAttribute("position",new Ln(o,3)),this.setAttribute("uv",new Ln(a,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new jt,i=new jt,o=new jt,a=e*t.length*3;for(let e=0,s=0;e<t.length;e++,s+=3)r.x=n[s+0],r.y=n[s+1],r.z=n[s+2],i.x=n[a+s+0],i.y=n[a+s+1],i.z=n[a+s+2],o.addVectors(r,i).normalize(),n[s+0]=n[a+s+0]=o.x,n[s+1]=n[a+s+1]=o.y,n[s+2]=n[a+s+2]=o.z}}static fromJSON(t){return new Bl(t.points,t.segments,t.phiStart,t.phiLength)}}class Sl extends Ms{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Sl(t.radius,t.detail)}}class Tl extends Un{constructor(t,e,n){super(),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};const r=[],i=[],o=[],a=[],s=1e-5,l=new jt,c=new jt,u=new jt,A=new jt,h=new jt;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=e+1;for(let r=0;r<=n;r++){const d=r/n;for(let n=0;n<=e;n++){const r=n/e;t(r,d,c),i.push(c.x,c.y,c.z),r-s>=0?(t(r-s,d,u),A.subVectors(c,u)):(t(r+s,d,u),A.subVectors(u,c)),d-s>=0?(t(r,d-s,u),h.subVectors(c,u)):(t(r,d+s,u),h.subVectors(u,c)),l.crossVectors(A,h).normalize(),o.push(l.x,l.y,l.z),a.push(r,d)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*d+n,i=t*d+n+1,o=(t+1)*d+n+1,a=(t+1)*d+n;r.push(e,i,a),r.push(i,o,a)}this.setIndex(r),this.setAttribute("position",new Ln(i,3)),this.setAttribute("normal",new Ln(o,3)),this.setAttribute("uv",new Ln(a,2))}}class Dl extends Un{constructor(t=.5,e=1,n=8,r=1,i=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n);const a=[],s=[],l=[],c=[];let u=t;const A=(e-t)/(r=Math.max(1,r)),h=new jt,d=new Dt;for(let t=0;t<=r;t++){for(let t=0;t<=n;t++){const r=i+t/n*o;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(h.x/e+1)/2,d.y=(h.y/e+1)/2,c.push(d.x,d.y)}u+=A}for(let t=0;t<r;t++){const e=t*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new Ln(s,3)),this.setAttribute("normal",new Ln(l,3)),this.setAttribute("uv",new Ln(c,2))}static fromJSON(t){return new Dl(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Il extends Un{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(t))l(t);else for(let e=0;e<t.length;e++)l(t[e]),this.addGroup(a,s,e),a+=s,s=0;function l(t){const a=r.length/3,l=t.extractPoints(e);let c=l.shape;const u=l.holes;!1===bl.isClockWise(c)&&(c=c.reverse());for(let t=0,e=u.length;t<e;t++){const e=u[t];!0===bl.isClockWise(e)&&(u[t]=e.reverse())}const A=bl.triangulateShape(c,u);for(let t=0,e=u.length;t<e;t++){const e=u[t];c=c.concat(e)}for(let t=0,e=c.length;t<e;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=A.length;t<e;t++){const e=A[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new Ln(r,3)),this.setAttribute("normal",new Ln(i,3)),this.setAttribute("uv",new Ln(o,2))}toJSON(){const t=super.toJSON();return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let r=0,i=t.shapes.length;r<i;r++){const i=e[t.shapes[r]];n.push(i)}return new Il(n,t.curveSegments)}}class Pl extends Un{constructor(t=1,e=32,n=16,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new jt,A=new jt,h=[],d=[],p=[],f=[];for(let h=0;h<=n;h++){const m=[],g=h/n;let y=0;0==h&&0==o?y=.5/e:h==n&&s==Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const s=n/e;u.x=-t*Math.cos(r+s*i)*Math.sin(o+g*a),u.y=t*Math.cos(o+g*a),u.z=t*Math.sin(r+s*i)*Math.sin(o+g*a),d.push(u.x,u.y,u.z),A.copy(u).normalize(),p.push(A.x,A.y,A.z),f.push(s+y,1-g),m.push(l++)}c.push(m)}for(let t=0;t<n;t++)for(let r=0;r<e;r++){const e=c[t][r+1],i=c[t][r],a=c[t+1][r],l=c[t+1][r+1];(0!==t||o>0)&&h.push(e,i,l),(t!==n-1||s<Math.PI)&&h.push(i,a,l)}this.setIndex(h),this.setAttribute("position",new Ln(d,3)),this.setAttribute("normal",new Ln(p,3)),this.setAttribute("uv",new Ln(f,2))}static fromJSON(t){return new Pl(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Fl extends Ms{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Fl(t.radius,t.detail)}}class kl extends Ll{constructor(t,e={}){const n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Un;const r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),super(r,e),this.type="TextGeometry"}}class Rl extends Un{constructor(t=1,e=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new jt,u=new jt,A=new jt;for(let o=0;o<=n;o++)for(let h=0;h<=r;h++){const d=h/r*i,p=o/n*Math.PI*2;u.x=(t+e*Math.cos(p))*Math.cos(d),u.y=(t+e*Math.cos(p))*Math.sin(d),u.z=e*Math.sin(p),a.push(u.x,u.y,u.z),c.x=t*Math.cos(d),c.y=t*Math.sin(d),A.subVectors(u,c).normalize(),s.push(A.x,A.y,A.z),l.push(h/r),l.push(o/n)}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*t+e-1,i=(r+1)*(t-1)+e-1,a=(r+1)*(t-1)+e,s=(r+1)*t+e;o.push(n,i,s),o.push(i,a,s)}this.setIndex(o),this.setAttribute("position",new Ln(a,3)),this.setAttribute("normal",new Ln(s,3)),this.setAttribute("uv",new Ln(l,2))}static fromJSON(t){return new Rl(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Ul extends Un{constructor(t=1,e=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new jt,A=new jt,h=new jt,d=new jt,p=new jt,f=new jt,m=new jt;for(let a=0;a<=n;++a){const y=a/n*i*Math.PI*2;g(y,i,o,t,h),g(y+.01,i,o,t,d),f.subVectors(d,h),m.addVectors(d,h),p.crossVectors(f,m),m.crossVectors(p,f),p.normalize(),m.normalize();for(let t=0;t<=r;++t){const i=t/r*Math.PI*2,o=-e*Math.cos(i),d=e*Math.sin(i);u.x=h.x+(o*m.x+d*p.x),u.y=h.y+(o*m.y+d*p.y),u.z=h.z+(o*m.z+d*p.z),s.push(u.x,u.y,u.z),A.subVectors(u,h).normalize(),l.push(A.x,A.y,A.z),c.push(a/n),c.push(t/r)}}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,s=(r+1)*(t-1)+e;a.push(n,i,s),a.push(i,o,s)}function g(t,e,n,r,i){const o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Ln(s,3)),this.setAttribute("normal",new Ln(l,3)),this.setAttribute("uv",new Ln(c,2))}static fromJSON(t){return new Ul(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class Ol extends Un{constructor(t,e=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i};const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new jt,s=new jt,l=new Dt;let c=new jt;const u=[],A=[],h=[],d=[];function p(i){c=t.getPointAt(i/e,c);const l=o.normals[i],h=o.binormals[i];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);s.x=o*l.x+i*h.x,s.y=o*l.y+i*h.y,s.z=o*l.z+i*h.z,s.normalize(),A.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}(function(){for(let t=0;t<e;t++)p(t);p(!1===i?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=r;n++)l.x=t/e,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,a=(r+1)*(t-1)+e;d.push(n,i,a),d.push(i,o,a)}}()})(),this.setIndex(d),this.setAttribute("position",new Ln(u,3)),this.setAttribute("normal",new Ln(A,3)),this.setAttribute("uv",new Ln(h,2))}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new Ol((new Xs[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Hl extends Un{constructor(t){if(super(),this.type="WireframeGeometry",!0===t.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const e=[],n=new Set,r=new jt,i=new jt;if(null!==t.index){const o=t.attributes.position,a=t.index;let s=t.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let t=0,l=s.length;t<l;++t){const l=s[t],c=l.start;for(let t=c,s=c+l.count;t<s;t+=3)for(let s=0;s<3;s++){const l=a.getX(t+s),c=a.getX(t+(s+1)%3);r.fromBufferAttribute(o,l),i.fromBufferAttribute(o,c),!0===Yl(r,i,n)&&(e.push(r.x,r.y,r.z),e.push(i.x,i.y,i.z))}}}else{const o=t.attributes.position;for(let t=0,a=o.count/3;t<a;t++)for(let a=0;a<3;a++){const s=3*t+a,l=3*t+(a+1)%3;r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,l),!0===Yl(r,i,n)&&(e.push(r.x,r.y,r.z),e.push(i.x,i.y,i.z))}}this.setAttribute("position",new Ln(e,3))}}function Yl(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r,i),!0)}var Ql=Object.freeze({__proto__:null,BoxGeometry:ir,BoxBufferGeometry:ir,CircleGeometry:ws,CircleBufferGeometry:ws,ConeGeometry:xs,ConeBufferGeometry:xs,CylinderGeometry:bs,CylinderBufferGeometry:bs,DodecahedronGeometry:Ls,DodecahedronBufferGeometry:Ls,EdgesGeometry:Ts,ExtrudeGeometry:Ll,ExtrudeBufferGeometry:Ll,IcosahedronGeometry:El,IcosahedronBufferGeometry:El,LatheGeometry:Bl,LatheBufferGeometry:Bl,OctahedronGeometry:Sl,OctahedronBufferGeometry:Sl,ParametricGeometry:Tl,ParametricBufferGeometry:Tl,PlaneGeometry:Mr,PlaneBufferGeometry:Mr,PolyhedronGeometry:Ms,PolyhedronBufferGeometry:Ms,RingGeometry:Dl,RingBufferGeometry:Dl,ShapeGeometry:Il,ShapeBufferGeometry:Il,SphereGeometry:Pl,SphereBufferGeometry:Pl,TetrahedronGeometry:Fl,TetrahedronBufferGeometry:Fl,TextGeometry:kl,TextBufferGeometry:kl,TorusGeometry:Rl,TorusBufferGeometry:Rl,TorusKnotGeometry:Ul,TorusKnotBufferGeometry:Ul,TubeGeometry:Ol,TubeBufferGeometry:Ol,WireframeGeometry:Hl});class Nl extends on{constructor(t){super(),this.type="ShadowMaterial",this.color=new hn(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}Nl.prototype.isShadowMaterial=!0;class jl extends on{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new hn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}jl.prototype.isMeshStandardMaterial=!0;class Wl extends jl{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Dt(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=Mt(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new hn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new hn(1,1,1),this.specularTintMap=null,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new hn).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationTint.copy(t.attenuationTint),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularTint.copy(t.specularTint),this.specularTintMap=t.specularTintMap,this}}Wl.prototype.isMeshPhysicalMaterial=!0;class Vl extends on{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new hn(16777215),this.specular=new hn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Vl.prototype.isMeshPhongMaterial=!0;class zl extends on{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new hn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}zl.prototype.isMeshToonMaterial=!0;class Gl extends on{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}Gl.prototype.isMeshNormalMaterial=!0;class Kl extends on{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new hn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Kl.prototype.isMeshLambertMaterial=!0;class Zl extends on{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new hn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}Zl.prototype.isMeshMatcapMaterial=!0;class Xl extends $a{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}Xl.prototype.isLineDashedMaterial=!0;var ql=Object.freeze({__proto__:null,ShadowMaterial:Nl,SpriteMaterial:ya,RawShaderMaterial:kr,ShaderMaterial:lr,PointsMaterial:us,MeshPhysicalMaterial:Wl,MeshStandardMaterial:jl,MeshPhongMaterial:Vl,MeshToonMaterial:zl,MeshNormalMaterial:Gl,MeshLambertMaterial:Kl,MeshDepthMaterial:Jo,MeshDistanceMaterial:$o,MeshBasicMaterial:dn,MeshMatcapMaterial:Zl,LineDashedMaterial:Xl,LineBasicMaterial:$a,Material:on});const Jl={arraySlice:function(t,e,n){return Jl.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*e;for(let n=0;n!==e;++n)i[a++]=t[r+n]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],s=e.getValueSize(),l=[],c=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*i;if(!(o<n||o>=r)){l.push(e.times[t]);for(let n=0;n<s;++n)c.push(e.values[t*s+n])}}0!==l.length&&(e.times=Jl.convertArray(l,e.times.constructor),e.values=Jl.convertArray(c,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let t=0;t<o.tracks.length;++t)s>o.tracks[t].times[0]&&(s=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let e=0;e<i;++e){const r=n.tracks[e],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const a=t.tracks.find((function(t){return t.name===r.name&&t.ValueTypeName===i}));if(void 0===a)continue;let s=0;const l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const A=r.times.length-1;let h;if(o<=r.times[0]){const t=s,e=l-s;h=Jl.arraySlice(r.values,t,e)}else if(o>=r.times[A]){const t=A*l+s,e=t+l-s;h=Jl.arraySlice(r.values,t,e)}else{const t=r.createInterpolant(),e=s,n=l-s;t.evaluate(o),h=Jl.arraySlice(t.resultBuffer,e,n)}"quaternion"===i&&(new Nt).fromArray(h).normalize().conjugate().toArray(h);const d=a.times.length;for(let t=0;t<d;++t){const e=t*u+c;if("quaternion"===i)Nt.multiplyQuaternionsFlat(a.values,e,h,0,a.values,e);else{const t=u-2*c;for(let n=0;n<t;++n)a.values[e+n]-=h[n]}}}return t.blendMode=at,t}};class $l{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const a=e[1];t<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let t=0;t!==r;++t)e[t]=n[i+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}$l.prototype.beforeStart_=$l.prototype.copySampleValue_,$l.prototype.afterEnd_=$l.prototype.copySampleValue_;class tc extends $l{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nt,endingEnd:nt}}intervalChanged_(t,e,n){const r=this.parameterPositions;let i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case rt:i=t,a=2*e-n;break;case it:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case rt:o=t,s=2*n-e;break;case it:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,A=this._weightPrev,h=this._weightNext,d=(n-e)/(r-e),p=d*d,f=p*d,m=-A*f+2*A*p-A*d,g=(1+A)*f+(-1.5-2*A)*p+(-.5+A)*d+1,y=(-1-h)*f+(1.5+h)*p+.5*d,v=h*f-h*p;for(let t=0;t!==a;++t)i[t]=m*o[c+t]+g*o[l+t]+y*o[s+t]+v*o[u+t];return i}}class ec extends $l{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=(n-e)/(r-e),u=1-c;for(let t=0;t!==a;++t)i[t]=o[l+t]*u+o[s+t]*c;return i}}class nc extends $l{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class rc{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Jl.convertArray(e,this.TimeBufferType),this.values=Jl.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Jl.convertArray(t.times,Array),values:Jl.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new nc(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new ec(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new tc(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case $:e=this.InterpolantFactoryMethodDiscrete;break;case tt:e=this.InterpolantFactoryMethodLinear;break;case et:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $;case this.InterpolantFactoryMethodLinear:return tt;case this.InterpolantFactoryMethodSmooth:return et}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=Jl.arraySlice(n,i,o),this.values=Jl.arraySlice(this.values,i*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==i;e++){const r=n[e];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,r),t=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,r,o),t=!1;break}o=r}if(void 0!==r&&Jl.isTypedArray(r))for(let e=0,n=r.length;e!==n;++e){const n=r[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t}optimize(){const t=Jl.arraySlice(this.times),e=Jl.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===et,i=t.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=t[a];if(s!==t[a+1]&&(1!==a||s!==t[0]))if(r)i=!0;else{const t=a*n,r=t-n,o=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[r+a]||n!==e[o+a]){i=!0;break}}}if(i){if(a!==o){t[o]=t[a];const r=a*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,a=0;a!==n;++a)e[r+a]=e[t+a];++o}return o!==t.length?(this.times=Jl.arraySlice(t,0,o),this.values=Jl.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this}clone(){const t=Jl.arraySlice(this.times,0),e=Jl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}rc.prototype.TimeBufferType=Float32Array,rc.prototype.ValueBufferType=Float32Array,rc.prototype.DefaultInterpolation=tt;class ic extends rc{}ic.prototype.ValueTypeName="bool",ic.prototype.ValueBufferType=Array,ic.prototype.DefaultInterpolation=$,ic.prototype.InterpolantFactoryMethodLinear=void 0,ic.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends rc{}oc.prototype.ValueTypeName="color";class ac extends rc{}ac.prototype.ValueTypeName="number";class sc extends $l{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(r-e);let l=t*a;for(let t=l+a;l!==t;l+=4)Nt.slerpFlat(i,0,o,l-a,o,l,s);return i}}class lc extends rc{InterpolantFactoryMethodLinear(t){return new sc(this.times,this.values,this.getValueSize(),t)}}lc.prototype.ValueTypeName="quaternion",lc.prototype.DefaultInterpolation=tt,lc.prototype.InterpolantFactoryMethodSmooth=void 0;class cc extends rc{}cc.prototype.ValueTypeName="string",cc.prototype.ValueBufferType=Array,cc.prototype.DefaultInterpolation=$,cc.prototype.InterpolantFactoryMethodLinear=void 0,cc.prototype.InterpolantFactoryMethodSmooth=void 0;class uc extends rc{}uc.prototype.ValueTypeName="vector";class Ac{constructor(t,e=-1,n,r=ot){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=xt(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let t=0,i=n.length;t!==i;++t)e.push(hc(n[t]).scale(r));const i=new this(t.name,t.duration,e,t.blendMode);return i.uuid=t.uuid,i}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,r=n.length;t!==r;++t)e.push(rc.toJSON(n[t]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const i=e.length,o=[];for(let t=0;t<i;t++){let a=[],s=[];a.push((t+i-1)%i,t,(t+1)%i),s.push(0,1,0);const l=Jl.getKeyframeOrder(a);a=Jl.sortedArray(a,1,l),s=Jl.sortedArray(s,1,l),r||0!==a[0]||(a.push(i),s.push(s[0])),o.push(new ac(".morphTargetInfluences["+e[t].name+"]",a,s).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(i);if(o&&o.length>1){const t=o[1];let e=r[t];e||(r[t]=e=[]),e.push(n)}}const o=[];for(const t in r)o.push(this.CreateFromMorphTargetSequence(t,r[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,i){if(0!==n.length){const o=[],a=[];Jl.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.fps||30,a=t.blendMode;let s=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const i=l[t].keys;if(i&&0!==i.length)if(i[0].morphTargets){const t={};let e;for(e=0;e<i.length;e++)if(i[e].morphTargets)for(let n=0;n<i[e].morphTargets.length;n++)t[i[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let r=0;r!==i[e].morphTargets.length;++r){const r=i[e];t.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new ac(".morphTargetInfluence["+n+"]",t,o))}s=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(uc,o+".position",i,"pos",r),n(lc,o+".quaternion",i,"rot",r),n(uc,o+".scale",i,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function hc(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ac;case"vector":case"vector2":case"vector3":case"vector4":return uc;case"color":return oc;case"quaternion":return lc;case"bool":case"boolean":return ic;case"string":return cc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];Jl.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const dc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class pc{constructor(t,e,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===o&&void 0!==r.onStart&&r.onStart(t,a,s),o=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],r=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}}const fc=new pc;class mc{constructor(t){this.manager=void 0!==t?t:fc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const gc={};class yc extends mc{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=dc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;if(void 0!==gc[t])return void gc[t].push({onLoad:e,onProgress:n,onError:r});const a=t.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);r="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;r=e.parseFromString(s,n);break;case"json":r=JSON.parse(s);break;default:r=s}setTimeout((function(){e&&e(r),i.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{gc[t]=[],gc[t].push({onLoad:e,onProgress:n,onError:r}),s=new XMLHttpRequest,s.open("GET",t,!0),s.addEventListener("load",(function(e){const n=this.response,r=gc[t];if(delete gc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),dc.add(t,n);for(let t=0,e=r.length;t<e;t++){const e=r[t];e.onLoad&&e.onLoad(n)}i.manager.itemEnd(t)}else{for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onError&&n.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),s.addEventListener("progress",(function(e){const n=gc[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onProgress&&r.onProgress(e)}}),!1),s.addEventListener("error",(function(e){const n=gc[t];delete gc[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),s.addEventListener("abort",(function(e){const n=gc[t];delete gc[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)s.setRequestHeader(t,this.requestHeader[t]);s.send(null)}return i.manager.itemStart(t),s}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class vc extends mc{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=dc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),dc.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a}}class _c extends mc{constructor(t){super(t)}load(t,e,n,r){const i=new dr,o=new vc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(t[n],(function(t){i.images[n]=t,a++,6===a&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(let e=0;e<t.length;++e)s(e);return i}}class wc extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=new Wa,a=new yc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(t,(function(t){const n=i.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:M,o.wrapT=void 0!==n.wrapT?n.wrapT:M,o.magFilter=void 0!==n.magFilter?n.magFilter:S,o.minFilter=void 0!==n.minFilter?n.minFilter:S,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=D),1===n.mipmapCount&&(o.minFilter=S),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,e&&e(o,n))}),n,r),o}}class bc extends mc{constructor(t){super(t)}load(t,e,n,r){const i=new Rt,o=new vc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){i.image=n;const r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?O:H,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}class xc extends Ds{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Vs(e,t))}getPoint(t){const e=t*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=e){const t=n[r]-e,i=this.curves[r],o=i.getLength(),a=0===o?0:1-t/o;return i.getPointAt(a)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a);for(let t=0;t<s.length;t++){const r=s[t];n&&n.equals(r)||(e.push(r),n=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new Xs[n.type]).fromJSON(n))}return this}}class Mc extends xc{constructor(t){super(),this.type="Path",this.currentPoint=new Dt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new Vs(this.currentPoint.clone(),new Dt(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,r){const i=new Gs(this.currentPoint.clone(),new Dt(t,e),new Dt(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(t,e,n,r,i,o){const a=new js(this.currentPoint.clone(),new Dt(t,e),new Dt(n,r),new Dt(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new Zs(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+a,e+s,n,r,i,o),this}absarc(t,e,n,r,i,o){return this.absellipse(t,e,n,n,r,i,o),this}ellipse(t,e,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,n,r,i,o,a,s),this}absellipse(t,e,n,r,i,o,a,s){const l=new Is(t,e,n,r,i,o,a,s);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Lc extends Mc{constructor(t){super(t),this.uuid=xt(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new Mc).fromJSON(n))}return this}}class Cc extends Ve{constructor(t,e=1){super(),this.type="Light",this.color=new hn(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Cc.prototype.isLight=!0;class Ec extends Cc{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(Ve.DefaultUp),this.updateMatrix(),this.groundColor=new hn(e)}copy(t){return Cc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}Ec.prototype.isHemisphereLight=!0;const Bc=new _e,Sc=new jt,Tc=new jt;class Dc{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Dt(512,512),this.map=null,this.mapPass=null,this.matrix=new _e,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wr,this._frameExtents=new Dt(1,1),this._viewportCount=1,this._viewports=[new Ot(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Sc.setFromMatrixPosition(t.matrixWorld),e.position.copy(Sc),Tc.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Tc),e.updateMatrixWorld(),Bc.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bc),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Ic extends Dc{constructor(){super(new ur(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*bt*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}Ic.prototype.isSpotLightShadow=!0;class Pc extends Cc{constructor(t,e,n=0,r=Math.PI/3,i=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(Ve.DefaultUp),this.updateMatrix(),this.target=new Ve,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.shadow=new Ic}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Pc.prototype.isSpotLight=!0;const Fc=new _e,kc=new jt,Rc=new jt;class Uc extends Dc{constructor(){super(new ur(90,1,.5,500)),this._frameExtents=new Dt(4,2),this._viewportCount=6,this._viewports=[new Ot(2,1,1,1),new Ot(0,1,1,1),new Ot(3,1,1,1),new Ot(1,1,1,1),new Ot(3,0,1,1),new Ot(1,0,1,1)],this._cubeDirections=[new jt(1,0,0),new jt(-1,0,0),new jt(0,0,1),new jt(0,0,-1),new jt(0,1,0),new jt(0,-1,0)],this._cubeUps=[new jt(0,1,0),new jt(0,1,0),new jt(0,1,0),new jt(0,1,0),new jt(0,0,1),new jt(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,i=t.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),kc.setFromMatrixPosition(t.matrixWorld),n.position.copy(kc),Rc.copy(n.position),Rc.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Rc),n.updateMatrixWorld(),r.makeTranslation(-kc.x,-kc.y,-kc.z),Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Fc)}}Uc.prototype.isPointLightShadow=!0;class Oc extends Cc{constructor(t,e,n=0,r=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Uc}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}Oc.prototype.isPointLight=!0;class Hc extends Dc{constructor(){super(new Fr(-5,5,5,-5,.5,500))}}Hc.prototype.isDirectionalLightShadow=!0;class Yc extends Cc{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(Ve.DefaultUp),this.updateMatrix(),this.target=new Ve,this.shadow=new Hc}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Yc.prototype.isDirectionalLight=!0;class Qc extends Cc{constructor(t,e){super(t,e),this.type="AmbientLight"}}Qc.prototype.isAmbientLight=!0;class Nc extends Cc{constructor(t,e,n=10,r=10){super(t,e),this.type="RectAreaLight",this.width=n,this.height=r}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}Nc.prototype.isRectAreaLight=!0;class jc{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new jt)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*i),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*r*1.092548),e.addScaledVector(o[5],r*i*1.092548),e.addScaledVector(o[6],.315392*(3*i*i-1)),e.addScaledVector(o[7],n*i*1.092548),e.addScaledVector(o[8],.546274*(n*n-r*r)),e}getIrradianceAt(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*r),e.addScaledVector(o[2],1.023328*i),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*r),e.addScaledVector(o[5],.858086*r*i),e.addScaledVector(o[6],.743125*i*i-.247708),e.addScaledVector(o[7],.858086*n*i),e.addScaledVector(o[8],.429043*(n*n-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(t,e+3*r);return this}toArray(t=[],e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(t,e+3*r);return t}static getBasisAt(t,e){const n=t.x,r=t.y,i=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*i,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*i,e[6]=.315392*(3*i*i-1),e[7]=1.092548*n*i,e[8]=.546274*(n*n-r*r)}}jc.prototype.isSphericalHarmonics3=!0;class Wc extends Cc{constructor(t=new jc,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Wc.prototype.isLightProbe=!0;class Vc extends mc{constructor(t){super(t),this.textures={}}load(t,e,n,r){const i=this,o=new yc(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}parse(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const r=new ql[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new hn).setHex(t.sheen)),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.specularIntensity&&(r.specularIntensity=t.specularIntensity),void 0!==t.specularTint&&void 0!==r.specularTint&&r.specularTint.setHex(t.specularTint),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.thickness&&(r.thickness=t.thickness),void 0!==t.attenuationDistance&&(r.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationTint&&void 0!==r.attenuationTint&&r.attenuationTint.setHex(t.attenuationTint),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.shadowSide&&(r.shadowSide=t.shadowSide),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.alphaToCoverage&&(r.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(r.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const i=t.uniforms[e];switch(r.uniforms[e]={},i.type){case"t":r.uniforms[e].value=n(i.value);break;case"c":r.uniforms[e].value=(new hn).setHex(i.value);break;case"v2":r.uniforms[e].value=(new Dt).fromArray(i.value);break;case"v3":r.uniforms[e].value=(new jt).fromArray(i.value);break;case"v4":r.uniforms[e].value=(new Ot).fromArray(i.value);break;case"m3":r.uniforms[e].value=(new It).fromArray(i.value);break;case"m4":r.uniforms[e].value=(new _e).fromArray(i.value);break;default:r.uniforms[e].value=i.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)r.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),r.normalScale=(new Dt).fromArray(e)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.specularIntensityMap&&(r.specularIntensityMap=n(t.specularIntensityMap)),void 0!==t.specularTintMap&&(r.specularTintMap=n(t.specularTintMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Dt).fromArray(t.clearcoatNormalScale)),void 0!==t.transmissionMap&&(r.transmissionMap=n(t.transmissionMap)),void 0!==t.thicknessMap&&(r.thicknessMap=n(t.thicknessMap)),r}setTextures(t){return this.textures=t,this}}class zc{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}}class Gc extends Un{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}Gc.prototype.isInstancedBufferGeometry=!0;class Kc extends mn{constructor(t,e,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Kc.prototype.isInstancedBufferAttribute=!0;class Zc extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=new yc(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}parse(t){const e={},n={};function r(t,n){if(void 0!==e[n])return e[n];const r=t.interleavedBuffers[n],o=i(t,r.buffer),a=Sn(r.type,o),s=new fa(a,r.stride);return s.uuid=r.uuid,e[n]=s,s}function i(t,e){if(void 0!==n[e])return n[e];const r=t.arrayBuffers[e],i=new Uint32Array(r).buffer;return n[e]=i,i}const o=t.isInstancedBufferGeometry?new Gc:new Un,a=t.data.index;if(void 0!==a){const t=Sn(a.type,a.array);o.setIndex(new mn(t,1))}const s=t.data.attributes;for(const e in s){const n=s[e];let i;if(n.isInterleavedBufferAttribute){const e=r(t.data,n.data);i=new ga(e,n.itemSize,n.offset,n.normalized)}else{const t=Sn(n.type,n.array);i=new(n.isInstancedBufferAttribute?Kc:mn)(t,n.itemSize,n.normalized)}void 0!==n.name&&(i.name=n.name),void 0!==n.usage&&i.setUsage(n.usage),void 0!==n.updateRange&&(i.updateRange.offset=n.updateRange.offset,i.updateRange.count=n.updateRange.count),o.setAttribute(e,i)}const l=t.data.morphAttributes;if(l)for(const e in l){const n=l[e],i=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];let a;if(o.isInterleavedBufferAttribute){const e=r(t.data,o.data);a=new ga(e,o.itemSize,o.offset,o.normalized)}else{const t=Sn(o.type,o.array);a=new mn(t,o.itemSize,o.normalized)}void 0!==o.name&&(a.name=o.name),i.push(a)}o.morphAttributes[e]=i}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let t=0,e=c.length;t!==e;++t){const e=c[t];o.addGroup(e.start,e.count,e.materialIndex)}const u=t.data.boundingSphere;if(void 0!==u){const t=new jt;void 0!==u.center&&t.fromArray(u.center),o.boundingSphere=new Ae(t,u.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}const Xc={UVMapping:m,CubeReflectionMapping:g,CubeRefractionMapping:y,EquirectangularReflectionMapping:v,EquirectangularRefractionMapping:_,CubeUVReflectionMapping:w,CubeUVRefractionMapping:b},qc={RepeatWrapping:x,ClampToEdgeWrapping:M,MirroredRepeatWrapping:L},Jc={NearestFilter:C,NearestMipmapNearestFilter:E,NearestMipmapLinearFilter:B,LinearFilter:S,LinearMipmapNearestFilter:T,LinearMipmapLinearFilter:D};class $c extends mc{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=dc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){dc.add(t,n),e&&e(n),i.manager.itemEnd(t)})).catch((function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)}}$c.prototype.isImageBitmapLoader=!0;class tu{constructor(){this.type="ShapePath",this.color=new hn,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Mc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this}bezierCurveTo(t,e,n,r,i,o){return this.currentPath.bezierCurveTo(t,e,n,r,i,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,e){function n(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n],i=new Lc;i.curves=r.curves,e.push(i)}return e}function r(t,e){const n=e.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=e[i],a=e[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=e[o],s=-s,a=e[i],l=-l),t.y<n.y||t.y>a.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=l*(t.x-n.x)-s*(t.y-n.y);if(0===e)return!0;if(e<0)continue;r=!r}}else{if(t.y!==n.y)continue;if(a.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=a.x)return!0}}return r}const i=bl.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let a,s,l;const c=[];if(1===o.length)return s=o[0],l=new Lc,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=t?!u:u;const A=[],h=[];let d,p,f=[],m=0;h[m]=void 0,f[m]=[];for(let e=0,n=o.length;e<n;e++)s=o[e],d=s.getPoints(),a=i(d),a=t?!a:a,a?(!u&&h[m]&&m++,h[m]={s:new Lc,p:d},h[m].s.curves=s.curves,u&&m++,f[m]=[]):f[m].push({h:s,p:d[0]});if(!h[0])return n(o);if(h.length>1){let t=!1;const e=[];for(let t=0,e=h.length;t<e;t++)A[t]=[];for(let n=0,i=h.length;n<i;n++){const i=f[n];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<h.length;i++)r(a.p,h[i].p)&&(n!==i&&e.push({froms:n,tos:i,hole:o}),s?(s=!1,A[i].push(a)):t=!0);s&&A[n].push(a)}}e.length>0&&(t||(f=A))}for(let t=0,e=h.length;t<e;t++){l=h[t].s,c.push(l),p=f[t];for(let t=0,e=p.length;t<e;t++)l.holes.push(p[t].h)}return c}}class eu{constructor(t){this.type="Font",this.data=t}generateShapes(t,e=100){const n=[],r=function(t,e,n){const r=Array.from(t),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[];let s=0,l=0;for(let t=0;t<r.length;t++){const e=r[t];if("\n"===e)s=0,l-=o;else{const t=nu(e,i,s,l,n);s+=t.offsetX,a.push(t.path)}}return a}(t,e,this.data);for(let t=0,e=r.length;t<e;t++)Array.prototype.push.apply(n,r[t].toShapes());return n}}function nu(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");const a=new tu;let s,l,c,u,A,h,d,p;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=t.length;i<o;)switch(t[i++]){case"m":s=t[i++]*e+n,l=t[i++]*e+r,a.moveTo(s,l);break;case"l":s=t[i++]*e+n,l=t[i++]*e+r,a.lineTo(s,l);break;case"q":c=t[i++]*e+n,u=t[i++]*e+r,A=t[i++]*e+n,h=t[i++]*e+r,a.quadraticCurveTo(A,h,c,u);break;case"b":c=t[i++]*e+n,u=t[i++]*e+r,A=t[i++]*e+n,h=t[i++]*e+r,d=t[i++]*e+n,p=t[i++]*e+r,a.bezierCurveTo(A,h,d,p,c,u)}}return{offsetX:o.ha*e,path:a}}eu.prototype.isFont=!0;let ru;const iu={getContext:function(){return void 0===ru&&(ru=new(window.AudioContext||window.webkitAudioContext)),ru},setContext:function(t){ru=t}};class ou extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=new yc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);iu.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}}class au extends Wc{constructor(t,e,n=1){super(void 0,n);const r=(new hn).set(t),i=(new hn).set(e),o=new jt(r.r,r.g,r.b),a=new jt(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}}au.prototype.isHemisphereLightProbe=!0;class su extends Wc{constructor(t,e=1){super(void 0,e);const n=(new hn).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}su.prototype.isAmbientLightProbe=!0;const lu=new _e,cu=new _e;class uu{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Au(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Au();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Au(){return("undefined"==typeof performance?Date:performance).now()}const hu=new jt,du=new Nt,pu=new jt,fu=new jt;class mu extends Ve{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const gu=new jt,yu=new Nt,vu=new jt,_u=new jt;class wu{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class bu{constructor(t,e,n){let r,i,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,r=this.valueSize,i=t*r+r;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==r;++t)n[i+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,i,0,t,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const t=e*this._origIndex;this._mixBufferRegion(n,r,t,1-i,e)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let t=e,i=e+e;t!==i;++t)if(n[t]!==n[t+e]){a.setValue(n,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let t=n,i=r;t!==i;++t)e[t]=e[r+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)t[e+r]=t[n+r]}_slerp(t,e,n,r){Nt.slerpFlat(t,e,t,e,t,n,r)}_slerpAdditive(t,e,n,r,i){const o=this._workIndex*i;Nt.multiplyQuaternionsFlat(t,o,t,e,t,n),Nt.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=e+a;t[i]=t[i]*o+t[n+a]*r}}_lerpAdditive(t,e,n,r,i){for(let o=0;o!==i;++o){const i=e+o;t[i]=t[i]+t[n+o]*r}}}const xu="\\[\\]\\.:\\/",Mu=new RegExp("["+xu+"]","g"),Lu="[^"+xu+"]",Cu="[^"+xu.replace("\\.","")+"]",Eu=/((?:WC+[\/:])*)/.source.replace("WC",Lu),Bu=/(WCOD+)?/.source.replace("WCOD",Cu),Su=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Lu),Tu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Lu),Du=new RegExp("^"+Eu+Bu+Su+Tu+"$"),Iu=["material","materials","bones"];class Pu{constructor(t,e,n){this.path=e,this.parsedPath=n||Pu.parseTrackName(e),this.node=Pu.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new Pu.Composite(t,e,n):new Pu(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Mu,"")}static parseTrackName(t){const e=Du.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==Iu.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.node[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let i=e.propertyIndex;if(t||(t=Pu.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const o=t[r];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pu.Composite=class{constructor(t,e,n){const r=n||Pu.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Pu.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Pu.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Pu.prototype.GetterByBindingType=[Pu.prototype._getValue_direct,Pu.prototype._getValue_array,Pu.prototype._getValue_arrayElement,Pu.prototype._getValue_toArray],Pu.prototype.SetterByBindingTypeAndVersioning=[[Pu.prototype._setValue_direct,Pu.prototype._setValue_direct_setNeedsUpdate,Pu.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pu.prototype._setValue_array,Pu.prototype._setValue_array_setNeedsUpdate,Pu.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pu.prototype._setValue_arrayElement,Pu.prototype._setValue_arrayElement_setNeedsUpdate,Pu.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pu.prototype._setValue_fromArray,Pu.prototype._setValue_fromArray_setNeedsUpdate,Pu.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Fu{constructor(){this.uuid=xt(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a,s=t.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],A=u.uuid;let h=e[A];if(void 0===h){h=s++,e[A]=h,t.push(u);for(let t=0,e=o;t!==e;++t)i[t].push(new Pu(u,n[t],r[t]))}else if(h<l){a=t[h];const s=--l,c=t[s];e[c.uuid]=h,t[h]=c,e[A]=s,t[s]=u;for(let t=0,e=o;t!==e;++t){const e=i[t],o=e[s];let a=e[h];e[h]=o,void 0===a&&(a=new Pu(u,n[t],r[t])),e[s]=a}}else t[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=e[s];if(void 0!==l&&l>=i){const o=i++,c=t[o];e[c.uuid]=l,t[l]=c,e[s]=o,t[o]=a;for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[o],i=e[l];e[l]=r,e[o]=i}}}this.nCachedObjects_=i}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=t.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=e[s];if(void 0!==l)if(delete e[s],l<i){const a=--i,s=t[a],c=--o,u=t[c];e[s.uuid]=l,t[l]=s,e[u.uuid]=a,t[a]=u,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[a],i=e[c];e[l]=r,e[a]=i,e.pop()}}else{const i=--o,a=t[i];i>0&&(e[a.uuid]=l),t[l]=a,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t];e[l]=e[i],e.pop()}}}this.nCachedObjects_=i}subscribe_(t,e){const n=this._bindingsIndicesByPath;let r=n[t];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(u);for(let n=c,r=s.length;n!==r;++n){const r=s[n];u[n]=new Pu(r,t,e)}return u}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}Fu.prototype.isAnimationObjectGroup=!0;class ku{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const i=e.tracks,o=i.length,a=new Array(o),s={endingStart:nt,endingEnd:nt};for(let t=0;t!==o;++t){const e=i[t].createInterpolant(null);a[t]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,i=r/n,o=n/r;t.warp(1,i,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/o,l[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);const i=this._startTime;if(null!==i){const r=(t-i)*n;if(r<0||0===n)return;this._startTime=null,e=n*r}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===at)for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(a);else for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulate(r,a)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let r=this.time+t,i=this._loopCount;const o=2202===n;if(0===t)return-1===i||!o||1&~i?r:e-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=e||r<0){const n=Math.floor(r/e);r-=e*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===a){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&!(1&~i))return e-r}return r}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=rt,r.endingEnd=rt):(r.endingStart=t?this.zeroSlopeAtStart?rt:nt:it,r.endingEnd=e?this.zeroSlopeAtEnd?rt:nt:it)}_scheduleFading(t,e,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}}class Ru extends yt{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let t=0;t!==i;++t){const i=r[t],l=i.name;let u=c[l];if(void 0!==u)o[t]=u;else{if(u=o[t],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,l));continue}const r=e&&e._propertyBindings[t].binding.parsedPath;u=new bu(Pu.create(n,l,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,l),o[t]=u}a[t].resultBuffer=u.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const r=this._actions,i=this._actionsByClip;let o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i}_addInactiveBinding(t,e,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[e];void 0===o&&(o={},r[e]=o),o[n]=t,t._cacheIndex=i.length,i.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new ec(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i}clipAction(t,e,n){const r=e||this._root,i=r.uuid;let o="string"==typeof t?Ac.findByName(r,t):t;const a=null!==o?o.uuid:t,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:ot),void 0!==s){const t=s.actionByRoot[i];if(void 0!==t&&t.blendMode===n)return t;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new ku(this,o,e,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(t,e){const n=e||this._root,r=n.uuid,i="string"==typeof t?Ac.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1;for(let a=0;a!==n;++a)e[a]._update(r,t,i,o);const a=this._bindings,s=this._nActiveBindings;for(let t=0;t!==s;++t)a[t].apply(o);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const t=i.knownActions;for(let n=0,r=t.length;n!==r;++n){const r=t[n];this._deactivateAction(r);const i=r._cacheIndex,o=e[e.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,e[i]=o,e.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}Ru.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Uu{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Uu(void 0===this.value.clone?this.value:this.value.clone())}}class Ou extends fa{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}Ou.prototype.isInstancedInterleavedBuffer=!0;class Hu{constructor(t,e,n,r,i){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}Hu.prototype.isGLBufferAttribute=!0;function Yu(t,e){return t.distance-e.distance}function Qu(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)Qu(r[t],e,n,!0)}}const Nu=new Dt;class ju{constructor(t=new Dt(1/0,1/0),e=new Dt(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Nu.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Nu.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}ju.prototype.isBox2=!0;const Wu=new jt,Vu=new jt;class zu{constructor(t=new jt,e=new jt){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Wu.subVectors(t,this.start),Vu.subVectors(this.end,this.start);const n=Vu.dot(Vu);let r=Vu.dot(Wu)/n;return e&&(r=Mt(r,0,1)),r}closestPointToPoint(t,e,n){const r=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}class Gu extends Ve{constructor(t){super(),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}Gu.prototype.isImmediateRenderObject=!0;const Ku=new jt;const Zu=new jt,Xu=new _e,qu=new _e;class Ju extends ls{constructor(t){const e=$u(t),n=new Un,r=[],i=[],o=new hn(0,0,1),a=new hn(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Ln(r,3)),n.setAttribute("color",new Ln(i,3)),super(n,new $a({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");qu.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const i=e[t];i.parent&&i.parent.isBone&&(Xu.multiplyMatrices(qu,i.matrixWorld),Zu.setFromMatrixPosition(Xu),r.setXYZ(n,Zu.x,Zu.y,Zu.z),Xu.multiplyMatrices(qu,i.parent.matrixWorld),Zu.setFromMatrixPosition(Xu),r.setXYZ(n+1,Zu.x,Zu.y,Zu.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function $u(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,$u(t.children[n]));return e}const tA=new jt,eA=new hn,nA=new hn;class rA extends ls{constructor(t=10,e=10,n=4473924,r=8947848){n=new hn(n),r=new hn(r);const i=e/2,o=t/e,a=t/2,s=[],l=[];for(let t=0,c=0,u=-a;t<=e;t++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);const e=t===i?n:r;e.toArray(l,c),c+=3,e.toArray(l,c),c+=3,e.toArray(l,c),c+=3,e.toArray(l,c),c+=3}const c=new Un;c.setAttribute("position",new Ln(s,3)),c.setAttribute("color",new Ln(l,3)),super(c,new $a({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}const iA=new jt,oA=new jt,aA=new jt;const sA=new jt,lA=new cr;function cA(t,e,n,r,i,o,a){sA.set(i,o,a).unproject(r);const s=e[t];if(void 0!==s){const t=n.getAttribute("position");for(let e=0,n=s.length;e<n;e++)t.setXYZ(s[e],sA.x,sA.y,sA.z)}}const uA=new zt;class AA extends ls{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Un;i.setIndex(new mn(n,1)),i.setAttribute("position",new mn(r,3)),super(i,new $a({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&uA.setFromObject(this.object),uA.isEmpty())return;const e=uA.min,n=uA.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return ls.prototype.copy.call(this,t),this.object=t.object,this}}const hA=new jt;let dA,pA;class fA extends ls{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Un;n.setAttribute("position",new Ln(e,3)),n.setAttribute("color",new Ln([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new $a({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,n){const r=new hn,i=this.geometry.attributes.color.array;return r.set(t),r.toArray(i,0),r.toArray(i,3),r.set(e),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const mA=new Float32Array(1),gA=new Int32Array(mA.buffer);Ds.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ds.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Mc.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)},rA.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Ju.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},mc.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),zc.extractUrlBase(t)},mc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ju.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},ju.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ju.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},ju.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)},zt.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},zt.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},zt.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},zt.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},zt.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},Ae.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},wr.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},zu.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},It.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},It.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},It.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},It.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},It.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},It.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},_e.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},_e.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},_e.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new jt).setFromMatrixColumn(this,3)},_e.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},_e.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},_e.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_e.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_e.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},_e.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},_e.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_e.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},_e.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},_e.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},_e.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},_e.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},_e.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_e.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},_e.prototype.makeFrustum=function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)},_e.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},yr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Nt.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Nt.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ve.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},ve.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},ve.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},nn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},nn.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},nn.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},nn.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},nn.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},nn.barycoordFromPoint=function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),nn.getBarycoord(t,e,n,r,i)},nn.normal=function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),nn.getNormal(t,e,n,r)},Lc.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},Lc.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ll(this,t)},Lc.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Il(this,t)},Dt.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Dt.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},Dt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},jt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},jt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},jt.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},jt.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},jt.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},jt.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},jt.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},jt.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},jt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ot.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Ot.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ve.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},Ve.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Ve.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},Ve.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Ve.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Ve.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),er.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(er.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Na.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ur.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Cc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(mn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===mt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(mt)}}}),mn.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?mt:ft),this},mn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},mn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Un.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},Un.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new mn(arguments[1],arguments[2])))},Un.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},Un.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Un.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Un.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},Un.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Un.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),fa.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?mt:ft),this},fa.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ll.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ll.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ll.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},pa.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Uu.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(on.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new hn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(lr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),ua.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},ua.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},ua.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ua.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ua.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ua.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ua.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ua.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ua.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ua.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ua.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ua.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ua.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ua.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ua.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},ua.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ua.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ua.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ua.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ua.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ua.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ua.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ua.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ua.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ua.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ua.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?lt:st}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ta.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ht.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),mu.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new ou).load(t,(function(t){e.setBuffer(t)})),this},wu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},hr.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},hr.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)},Ft.crossOrigin=void 0,Ft.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new bc;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},Ft.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new _c;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},Ft.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ft.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const yA={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e),t.ACESFilmicToneMapping=4,t.AddEquation=n,t.AddOperation=2,t.AdditiveAnimationBlendMode=at,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AlwaysStencilFunc=519,t.AmbientLight=Qc,t.AmbientLightProbe=su,t.AnimationClip=Ac,t.AnimationLoader=class extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=new yc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}parse(t){const e=[];for(let n=0;n<t.length;n++){const r=Ac.parse(t[n]);e.push(r)}return e}},t.AnimationMixer=Ru,t.AnimationObjectGroup=Fu,t.AnimationUtils=Jl,t.ArcCurve=Ps,t.ArrayCamera=ia,t.ArrowHelper=class extends Ve{constructor(t=new jt(0,0,1),e=new jt(0,0,0),n=1,r=16776960,i=.2*n,o=.2*i){super(),this.type="ArrowHelper",void 0===dA&&(dA=new Un,dA.setAttribute("position",new Ln([0,0,0,0,1,0],3)),pA=new bs(0,.5,1,5,1),pA.translate(0,-.5,0)),this.position.copy(e),this.line=new os(dA,new $a({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new er(pA,new dn({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{hA.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(hA,e)}}setLength(t,e=.2*t,n=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}},t.Audio=mu,t.AudioAnalyser=wu,t.AudioContext=iu,t.AudioListener=class extends Ve{constructor(){super(),this.type="AudioListener",this.context=iu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uu}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hu,du,pu),fu.set(0,0,-1).applyQuaternion(du),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(hu.x,t),e.positionY.linearRampToValueAtTime(hu.y,t),e.positionZ.linearRampToValueAtTime(hu.z,t),e.forwardX.linearRampToValueAtTime(fu.x,t),e.forwardY.linearRampToValueAtTime(fu.y,t),e.forwardZ.linearRampToValueAtTime(fu.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(hu.x,hu.y,hu.z),e.setOrientation(fu.x,fu.y,fu.z,n.x,n.y,n.z)}},t.AudioLoader=ou,t.AxesHelper=fA,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new fA(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new wc(t)},t.Bone=ja,t.BooleanKeyframeTrack=ic,t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new AA(t,e)},t.Box2=ju,t.Box3=zt,t.Box3Helper=class extends ls{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Un;r.setIndex(new mn(n,1)),r.setAttribute("position",new Ln([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new $a({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}},t.BoxBufferGeometry=ir,t.BoxGeometry=ir,t.BoxHelper=AA,t.BufferAttribute=mn,t.BufferGeometry=Un,t.BufferGeometryLoader=Zc,t.ByteType=1010,t.Cache=dc,t.Camera=cr,t.CameraHelper=class extends ls{constructor(t){const e=new Un,n=new $a({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new hn(16755200),s=new hn(16711680),l=new hn(43775),c=new hn(16777215),u=new hn(3355443);function A(t,e,n){h(t,n),h(e,n)}function h(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}A("n1","n2",a),A("n2","n4",a),A("n4","n3",a),A("n3","n1",a),A("f1","f2",a),A("f2","f4",a),A("f4","f3",a),A("f3","f1",a),A("n1","f1",a),A("n2","f2",a),A("n3","f3",a),A("n4","f4",a),A("p","n1",s),A("p","n2",s),A("p","n3",s),A("p","n4",s),A("u1","u2",l),A("u2","u3",l),A("u3","u1",l),A("c","t",c),A("p","c",u),A("cn1","cn2",u),A("cn3","cn4",u),A("cf1","cf2",u),A("cf3","cf4",u),e.setAttribute("position",new Ln(r,3)),e.setAttribute("color",new Ln(i,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const t=this.geometry,e=this.pointMap;lA.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),cA("c",e,t,lA,0,0,-1),cA("t",e,t,lA,0,0,1),cA("n1",e,t,lA,-1,-1,-1),cA("n2",e,t,lA,1,-1,-1),cA("n3",e,t,lA,-1,1,-1),cA("n4",e,t,lA,1,1,-1),cA("f1",e,t,lA,-1,-1,1),cA("f2",e,t,lA,1,-1,1),cA("f3",e,t,lA,-1,1,1),cA("f4",e,t,lA,1,1,1),cA("u1",e,t,lA,.7,1.1,-1),cA("u2",e,t,lA,-.7,1.1,-1),cA("u3",e,t,lA,0,2,-1),cA("cf1",e,t,lA,-1,0,1),cA("cf2",e,t,lA,1,0,1),cA("cf3",e,t,lA,0,-1,1),cA("cf4",e,t,lA,0,1,1),cA("cn1",e,t,lA,-1,0,-1),cA("cn2",e,t,lA,1,0,-1),cA("cn3",e,t,lA,0,-1,-1),cA("cn4",e,t,lA,0,1,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.CanvasTexture=vs,t.CatmullRomCurve3=Hs,t.CineonToneMapping=3,t.CircleBufferGeometry=ws,t.CircleGeometry=ws,t.ClampToEdgeWrapping=M,t.Clock=uu,t.Color=hn,t.ColorKeyframeTrack=oc,t.CompressedTexture=ys,t.CompressedTextureLoader=class extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=[],a=new ys,s=new yc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(t[c],(function(t){const n=i.parse(t,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=S),a.image=o,a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,r)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)c(e);else s.load(t,(function(t){const n=i.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=S),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,r);return a}},t.ConeBufferGeometry=xs,t.ConeGeometry=xs,t.CubeCamera=hr,t.CubeReflectionMapping=g,t.CubeRefractionMapping=y,t.CubeTexture=dr,t.CubeTextureLoader=_c,t.CubeUVReflectionMapping=w,t.CubeUVRefractionMapping=b,t.CubicBezierCurve=js,t.CubicBezierCurve3=Ws,t.CubicInterpolant=tc,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=Ds,t.CurvePath=xc,t.CustomBlending=5,t.CustomToneMapping=5,t.CylinderBufferGeometry=bs,t.CylinderGeometry=bs,t.Cylindrical=class{constructor(t=1,e=0,n=0){return this.radius=t,this.theta=e,this.y=n,this}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return(new this.constructor).copy(this)}},t.DataTexture=Wa,t.DataTexture2DArray=pi,t.DataTexture3D=fi,t.DataTextureLoader=wc,t.DataUtils=class{static toHalfFloat(t){mA[0]=t;const e=gA[0];let n=e>>16&32768,r=e>>12&2047;const i=e>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&e,n):i<113?(r|=2048,n|=(r>>114-i)+(r>>113-i&1),n):(n|=i-112<<10|r>>1,n+=1&r,n)}},t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=fc,t.DepthFormat=Q,t.DepthStencilFormat=N,t.DepthTexture=_s,t.DirectionalLight=Yc,t.DirectionalLightHelper=class extends Ve{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);let r=new Un;r.setAttribute("position",new Ln([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const i=new $a({fog:!1,toneMapped:!1});this.lightPlane=new os(r,i),this.add(this.lightPlane),r=new Un,r.setAttribute("position",new Ln([0,0,0,0,0,1],3)),this.targetLine=new os(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){iA.setFromMatrixPosition(this.light.matrixWorld),oA.setFromMatrixPosition(this.light.target.matrixWorld),aA.subVectors(oA,iA),this.lightPlane.lookAt(oA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oA),this.targetLine.scale.z=aA.length()}},t.DiscreteInterpolant=nc,t.DodecahedronBufferGeometry=Ls,t.DodecahedronGeometry=Ls,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new mn(t,e).setUsage(mt)},t.DynamicCopyUsage=35050,t.DynamicDrawUsage=mt,t.DynamicReadUsage=35049,t.EdgesGeometry=Ts,t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ls(new Ts(t.geometry),new $a({color:void 0!==e?e:16777215}))},t.EllipseCurve=Is,t.EqualDepth=4,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=v,t.EquirectangularRefractionMapping=_,t.Euler=Te,t.EventDispatcher=yt,t.ExtrudeBufferGeometry=Ll,t.ExtrudeGeometry=Ll,t.FaceColors=1,t.FileLoader=yc,t.FlatShading=1,t.Float16BufferAttribute=Mn,t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ln(t,e)},t.Float32BufferAttribute=Ln,t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Cn(t,e)},t.Float64BufferAttribute=Cn,t.FloatType=k,t.Fog=da,t.FogExp2=ha,t.Font=eu,t.FontLoader=class extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=new yc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const r=i.parse(n);e&&e(r)}),n,r)}parse(t){return new eu(t)}},t.FrontSide=0,t.Frustum=wr,t.GLBufferAttribute=Hu,t.GLSL1="100",t.GLSL3=gt,t.GammaEncoding=ct,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=rA,t.Group=oa,t.HalfFloatType=R,t.HemisphereLight=Ec,t.HemisphereLightHelper=class extends Ve{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Sl(e);r.rotateY(.5*Math.PI),this.material=new dn({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new mn(o,3)),this.add(new er(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");eA.copy(this.light.color),nA.copy(this.light.groundColor);for(let t=0,n=e.count;t<n;t++){const r=t<n/2?eA:nA;e.setXYZ(t,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(tA.setFromMatrixPosition(this.light.matrixWorld).negate())}},t.HemisphereLightProbe=au,t.IcosahedronBufferGeometry=El,t.IcosahedronGeometry=El,t.ImageBitmapLoader=$c,t.ImageLoader=vc,t.ImageUtils=Ft,t.ImmediateRenderObject=Gu,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=Kc,t.InstancedBufferGeometry=Gc,t.InstancedInterleavedBuffer=Ou,t.InstancedMesh=Ja,t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new _n(t,e)},t.Int16BufferAttribute=_n,t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new bn(t,e)},t.Int32BufferAttribute=bn,t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new gn(t,e)},t.Int8BufferAttribute=gn,t.IntType=1013,t.InterleavedBuffer=fa,t.InterleavedBufferAttribute=ga,t.Interpolant=$l,t.InterpolateDiscrete=$,t.InterpolateLinear=tt,t.InterpolateSmooth=et,t.InvertStencilOp=5386,t.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},t.KeepStencilOp=pt,t.KeyframeTrack=rc,t.LOD=Ra,t.LatheBufferGeometry=Bl,t.LatheGeometry=Bl,t.Layers=De,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},t.LessDepth=2,t.LessEqualDepth=3,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=Cc,t.LightProbe=Wc,t.Line=os,t.Line3=zu,t.LineBasicMaterial=$a,t.LineCurve=Vs,t.LineCurve3=zs,t.LineDashedMaterial=Xl,t.LineLoop=cs,t.LinePieces=1,t.LineSegments=ls,t.LineStrip=0,t.LinearEncoding=st,t.LinearFilter=S,t.LinearInterpolant=ec,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=D,t.LinearMipmapNearestFilter=T,t.LinearToneMapping=1,t.Loader=mc,t.LoaderUtils=zc,t.LoadingManager=pc,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=on,t.MaterialLoader=Vc,t.Math=Tt,t.MathUtils=Tt,t.Matrix3=It,t.Matrix4=_e,t.MaxEquation=104,t.Mesh=er,t.MeshBasicMaterial=dn,t.MeshDepthMaterial=Jo,t.MeshDistanceMaterial=$o,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MeshLambertMaterial=Kl,t.MeshMatcapMaterial=Zl,t.MeshNormalMaterial=Gl,t.MeshPhongMaterial=Vl,t.MeshPhysicalMaterial=Wl,t.MeshStandardMaterial=jl,t.MeshToonMaterial=zl,t.MinEquation=103,t.MirroredRepeatWrapping=L,t.MixOperation=1,t.MultiMaterial=function(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=C,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=B,t.NearestMipmapNearestFilter=E,t.NeverDepth=0,t.NeverStencilFunc=512,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalAnimationBlendMode=ot,t.NormalBlending=1,t.NotEqualDepth=7,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=ac,t.Object3D=Ve,t.ObjectLoader=class extends mc{constructor(t){super(t)}load(t,e,n,r){const i=this,o=""===this.path?zc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const a=new yc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(n){let o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}const a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)}async loadAsync(t,e){const n=""===this.path?zc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const r=new yc(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(t,e),o=JSON.parse(i),a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);return await this.parseAsync(o)}parse(t,e){const n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,(function(){void 0!==e&&e(l)})),a=this.parseTextures(t.textures,o),s=this.parseMaterials(t.materials,a),l=this.parseObject(t.object,i,s,a,n),c=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,c),void 0!==e){let t=!1;for(const e in o)if(o[e]instanceof HTMLImageElement){t=!0;break}!1===t&&e(l)}return l}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,n),i=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,i),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,r,a,o,e),l=this.parseSkeletons(t.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(t){const e={};if(void 0!==t)for(let n=0,r=t.length;n<r;n++){const r=(new Lc).fromJSON(t[n]);e[r.uuid]=r}return e}parseSkeletons(t,e){const n={},r={};if(e.traverse((function(t){t.isBone&&(r[t.uuid]=t)})),void 0!==t)for(let e=0,i=t.length;e<i;e++){const i=(new Ga).fromJSON(t[e],r);n[i.uuid]=i}return n}parseGeometries(t,e){const n={};if(void 0!==t){const r=new Zc;for(let i=0,o=t.length;i<o;i++){let o;const a=t[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:a.type in Ql?o=Ql[a.type].fromJSON(a,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),!0===o.isBufferGeometry&&void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}}return n}parseMaterials(t,e){const n={},r={};if(void 0!==t){const i=new Vc;i.setTextures(e);for(let e=0,o=t.length;e<o;e++){const o=t[e];if("MultiMaterial"===o.type){const t=[];for(let e=0;e<o.materials.length;e++){const r=o.materials[e];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),t.push(n[r.uuid])}r[o.uuid]=t}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(t){const e={};if(void 0!==t)for(let n=0;n<t.length;n++){const r=t[n],i=Ac.parse(r);e[i.uuid]=i}return e}parseImages(t,e){const n=this,r={};let i;function o(t){if("string"==typeof t){const e=t;return function(t){return n.manager.itemStart(t),i.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:n.resourcePath+e)}return t.data?{data:Sn(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const n=new pc(e);i=new vc(n),i.setCrossOrigin(this.crossOrigin);for(let e=0,n=t.length;e<n;e++){const n=t[e],i=n.url;if(Array.isArray(i)){r[n.uuid]=[];for(let t=0,e=i.length;t<e;t++){const e=o(i[t]);null!==e&&(e instanceof HTMLImageElement?r[n.uuid].push(e):r[n.uuid].push(new Wa(e.data,e.width,e.height)))}}else{const t=o(n.url);null!==t&&(r[n.uuid]=t)}}}return r}async parseImagesAsync(t){const e=this,n={};let r;async function i(t){if("string"==typeof t){const n=t,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:e.resourcePath+n;return await r.loadAsync(i)}return t.data?{data:Sn(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){r=new vc(this.manager),r.setCrossOrigin(this.crossOrigin);for(let e=0,r=t.length;e<r;e++){const r=t[e],o=r.url;if(Array.isArray(o)){n[r.uuid]=[];for(let t=0,e=o.length;t<e;t++){const e=o[t],a=await i(e);null!==a&&(a instanceof HTMLImageElement?n[r.uuid].push(a):n[r.uuid].push(new Wa(a.data,a.width,a.height)))}}else{const t=await i(r.url);null!==t&&(n[r.uuid]=t)}}}return n}parseTextures(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}const r={};if(void 0!==t)for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=e[o.image];Array.isArray(s)?(a=new dr(s),6===s.length&&(a.needsUpdate=!0)):(a=s&&s.data?new Wa(s.data,s.width,s.height):new Rt(s),s&&(a.needsUpdate=!0)),a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,Xc)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],qc),a.wrapT=n(o.wrap[1],qc)),void 0!==o.format&&(a.format=o.format),void 0!==o.type&&(a.type=o.type),void 0!==o.encoding&&(a.encoding=o.encoding),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,Jc)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,Jc)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(a.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(a.unpackAlignment=o.unpackAlignment),r[o.uuid]=a}return r}parseObject(t,e,n,r,i){let o,a,s;function l(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),e.push(n[i])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}function u(t){return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined texture",t),r[t]}switch(t.type){case"Scene":o=new pa,void 0!==t.background&&(Number.isInteger(t.background)?o.background=new hn(t.background):o.background=u(t.background)),void 0!==t.environment&&(o.environment=u(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new da(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new ha(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new ur(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Fr(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new Qc(t.color,t.intensity);break;case"DirectionalLight":o=new Yc(t.color,t.intensity);break;case"PointLight":o=new Oc(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Nc(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Pc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Ec(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=(new Wc).fromJSON(t);break;case"SkinnedMesh":a=l(t.geometry),s=c(t.material),o=new Na(a,s),void 0!==t.bindMode&&(o.bindMode=t.bindMode),void 0!==t.bindMatrix&&o.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(o.skeleton=t.skeleton);break;case"Mesh":a=l(t.geometry),s=c(t.material),o=new er(a,s);break;case"InstancedMesh":a=l(t.geometry),s=c(t.material);const e=t.count,n=t.instanceMatrix,r=t.instanceColor;o=new Ja(a,s,e),o.instanceMatrix=new mn(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new mn(new Float32Array(r.array),r.itemSize));break;case"LOD":o=new Ra;break;case"Line":o=new os(l(t.geometry),c(t.material));break;case"LineLoop":o=new cs(l(t.geometry),c(t.material));break;case"LineSegments":o=new ls(l(t.geometry),c(t.material));break;case"PointCloud":case"Points":o=new fs(l(t.geometry),c(t.material));break;case"Sprite":o=new Ia(c(t.material));break;case"Group":o=new oa;break;case"Bone":o=new ja;break;default:o=new Ve}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(o.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children){const a=t.children;for(let t=0;t<a.length;t++)o.add(this.parseObject(a[t],e,n,r,i))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const n=e[t];o.animations.push(i[n])}}if("LOD"===t.type){void 0!==t.autoUpdate&&(o.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const n=e[t],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance)}}return o}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const n=e[t.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(n,t.bindMatrix)}}))}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}},t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=Sl,t.OctahedronGeometry=Sl,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Fr,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.PMREMGenerator=$r,t.ParametricBufferGeometry=Tl,t.ParametricGeometry=Tl,t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ia(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new us(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new fs(t,e)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new us(t)},t.Path=Mc,t.PerspectiveCamera=ur,t.Plane=yr,t.PlaneBufferGeometry=Mr,t.PlaneGeometry=Mr,t.PlaneHelper=class extends os{constructor(t,e=1,n=16776960){const r=n,i=new Un;i.setAttribute("position",new Ln([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new $a({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const o=new Un;o.setAttribute("position",new Ln([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new er(o,new dn({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}},t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new fs(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new us(t)},t.PointLight=Oc,t.PointLightHelper=class extends er{constructor(t,e,n){super(new Pl(e,4,2),new dn({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},t.Points=fs,t.PointsMaterial=us,t.PolarGridHelper=class extends ls{constructor(t=10,e=16,n=8,r=64,i=4473924,o=8947848){i=new hn(i),o=new hn(o);const a=[],s=[];for(let n=0;n<=e;n++){const r=n/e*(2*Math.PI),l=Math.sin(r)*t,c=Math.cos(r)*t;a.push(0,0,0),a.push(l,0,c);const u=1&n?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let e=0;e<=n;e++){const l=1&e?i:o,c=t-t/n*e;for(let t=0;t<r;t++){let e=t/r*(2*Math.PI),n=Math.sin(e)*c,i=Math.cos(e)*c;a.push(n,0,i),s.push(l.r,l.g,l.b),e=(t+1)/r*(2*Math.PI),n=Math.sin(e)*c,i=Math.cos(e)*c,a.push(n,0,i),s.push(l.r,l.g,l.b)}}const l=new Un;l.setAttribute("position",new Ln(a,3)),l.setAttribute("color",new Ln(s,3)),super(l,new $a({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}},t.PolyhedronBufferGeometry=Ms,t.PolyhedronGeometry=Ms,t.PositionalAudio=class extends mu{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(gu,yu,vu),_u.set(0,0,1).applyQuaternion(yu);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(gu.x,t),e.positionY.linearRampToValueAtTime(gu.y,t),e.positionZ.linearRampToValueAtTime(gu.z,t),e.orientationX.linearRampToValueAtTime(_u.x,t),e.orientationY.linearRampToValueAtTime(_u.y,t),e.orientationZ.linearRampToValueAtTime(_u.z,t)}else e.setPosition(gu.x,gu.y,gu.z),e.setOrientation(_u.x,_u.y,_u.z)}},t.PropertyBinding=Pu,t.PropertyMixer=bu,t.QuadraticBezierCurve=Gs,t.QuadraticBezierCurve3=Ks,t.Quaternion=Nt,t.QuaternionKeyframeTrack=lc,t.QuaternionLinearInterpolant=sc,t.REVISION=e,t.RGBADepthPacking=3201,t.RGBAFormat=H,t.RGBAIntegerFormat=1033,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_BPTC_Format=36492,t.RGBA_ETC2_EAC_Format=J,t.RGBA_PVRTC_2BPPV1_Format=X,t.RGBA_PVRTC_4BPPV1_Format=Z,t.RGBA_S3TC_DXT1_Format=W,t.RGBA_S3TC_DXT3_Format=V,t.RGBA_S3TC_DXT5_Format=z,t.RGBDEncoding=dt,t.RGBEEncoding=ut,t.RGBEFormat=Y,t.RGBFormat=O,t.RGBIntegerFormat=1032,t.RGBM16Encoding=ht,t.RGBM7Encoding=At,t.RGB_ETC1_Format=36196,t.RGB_ETC2_Format=q,t.RGB_PVRTC_2BPPV1_Format=K,t.RGB_PVRTC_4BPPV1_Format=G,t.RGB_S3TC_DXT1_Format=j,t.RGFormat=1030,t.RGIntegerFormat=1031,t.RawShaderMaterial=kr,t.Ray=ve,t.Raycaster=class{constructor(t,e,n=0,r=1/0){this.ray=new ve(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new De,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!1,n=[]){return Qu(t,this,n,e),n.sort(Yu),n}intersectObjects(t,e=!1,n=[]){for(let r=0,i=t.length;r<i;r++)Qu(t[r],this,n,e);return n.sort(Yu),n}},t.RectAreaLight=Nc,t.RedFormat=1028,t.RedIntegerFormat=1029,t.ReinhardToneMapping=2,t.RepeatWrapping=x,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=102,t.RingBufferGeometry=Dl,t.RingGeometry=Dl,t.SRGB8_ALPHA8_ASTC_10x10_Format=37851,t.SRGB8_ALPHA8_ASTC_10x5_Format=37848,t.SRGB8_ALPHA8_ASTC_10x6_Format=37849,t.SRGB8_ALPHA8_ASTC_10x8_Format=37850,t.SRGB8_ALPHA8_ASTC_12x10_Format=37852,t.SRGB8_ALPHA8_ASTC_12x12_Format=37853,t.SRGB8_ALPHA8_ASTC_4x4_Format=37840,t.SRGB8_ALPHA8_ASTC_5x4_Format=37841,t.SRGB8_ALPHA8_ASTC_5x5_Format=37842,t.SRGB8_ALPHA8_ASTC_6x5_Format=37843,t.SRGB8_ALPHA8_ASTC_6x6_Format=37844,t.SRGB8_ALPHA8_ASTC_8x5_Format=37845,t.SRGB8_ALPHA8_ASTC_8x6_Format=37846,t.SRGB8_ALPHA8_ASTC_8x8_Format=37847,t.Scene=pa,t.SceneUtils=yA,t.ShaderChunk=Lr,t.ShaderLib=Er,t.ShaderMaterial=lr,t.ShadowMaterial=Nl,t.Shape=Lc,t.ShapeBufferGeometry=Il,t.ShapeGeometry=Il,t.ShapePath=tu,t.ShapeUtils=bl,t.ShortType=1011,t.Skeleton=Ga,t.SkeletonHelper=Ju,t.SkinnedMesh=Na,t.SmoothShading=2,t.Sphere=Ae,t.SphereBufferGeometry=Pl,t.SphereGeometry=Pl,t.Spherical=class{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Mt(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},t.SphericalHarmonics3=jc,t.SplineCurve=Zs,t.SpotLight=Pc,t.SpotLightHelper=class extends Ve{constructor(t,e){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const n=new Un,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,n=32;t<n;t++,e++){const i=t/n*Math.PI*2,o=e/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Ln(r,3));const i=new $a({fog:!1,toneMapped:!1});this.cone=new ls(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Ku.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ku),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},t.Sprite=Ia,t.SpriteMaterial=ya,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StaticCopyUsage=35046,t.StaticDrawUsage=ft,t.StaticReadUsage=35045,t.StereoCamera=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),r=e.eyeSep/2,i=r*e.near/e.focus,o=e.near*Math.tan(wt*e.fov*.5)/e.zoom;let a,s;cu.elements[12]=-r,lu.elements[12]=r,a=-o*e.aspect+i,s=o*e.aspect+i,n.elements[0]=2*e.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraL.projectionMatrix.copy(n),a=-o*e.aspect-i,s=o*e.aspect-i,n.elements[0]=2*e.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(cu),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(lu)}},t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=cc,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=Fl,t.TetrahedronGeometry=Fl,t.TextBufferGeometry=kl,t.TextGeometry=kl,t.Texture=Rt,t.TextureLoader=bc,t.TorusBufferGeometry=Rl,t.TorusGeometry=Rl,t.TorusKnotBufferGeometry=Ul,t.TorusKnotGeometry=Ul,t.Triangle=nn,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=Ol,t.TubeGeometry=Ol,t.UVMapping=m,t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new wn(t,e)},t.Uint16BufferAttribute=wn,t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new xn(t,e)},t.Uint32BufferAttribute=xn,t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new yn(t,e)},t.Uint8BufferAttribute=yn,t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new vn(t,e)},t.Uint8ClampedBufferAttribute=vn,t.Uniform=Uu,t.UniformsLib=Cr,t.UniformsUtils=sr,t.UnsignedByteType=I,t.UnsignedInt248Type=U,t.UnsignedIntType=F,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=P,t.VSMShadowMap=3,t.Vector2=Dt,t.Vector3=jt,t.Vector4=Ot,t.VectorKeyframeTrack=uc,t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new jt(t,e,n)},t.VertexColors=2,t.VideoTexture=gs,t.WebGL1Renderer=Aa,t.WebGLCubeRenderTarget=pr,t.WebGLMultipleRenderTargets=Yt,t.WebGLMultisampleRenderTarget=Qt,t.WebGLRenderTarget=Ht,t.WebGLRenderTargetCube=function(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new pr(t,n)},t.WebGLRenderer=ua,t.WebGLUtils=ra,t.WireframeGeometry=Hl,t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ls(new Hl(t.geometry),new $a({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=it,t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new yc(t)},t.ZeroCurvatureEnding=nt,t.ZeroFactor=200,t.ZeroSlopeEnding=rt,t.ZeroStencilOp=0,t.sRGBEncoding=lt,Object.defineProperty(t,"__esModule",{value:!0})}(Jt);var $t=Jt,te=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ee(){throw new Error("setTimeout has not been defined")}function ne(){throw new Error("clearTimeout has not been defined")}var re=ee,ie=ne;function oe(t){if(re===setTimeout)return setTimeout(t,0);if((re===ee||!re)&&setTimeout)return re=setTimeout,setTimeout(t,0);try{return re(t,0)}catch(e){try{return re.call(null,t,0)}catch(e){return re.call(this,t,0)}}}"function"==typeof te.setTimeout&&(re=setTimeout),"function"==typeof te.clearTimeout&&(ie=clearTimeout);var ae,se=[],le=!1,ce=-1;function ue(){le&&ae&&(le=!1,ae.length?se=ae.concat(se):ce=-1,se.length&&Ae())}function Ae(){if(!le){var t=oe(ue);le=!0;for(var e=se.length;e;){for(ae=se,se=[];++ce<e;)ae&&ae[ce].run();ce=-1,e=se.length}ae=null,le=!1,function(t){if(ie===clearTimeout)return clearTimeout(t);if((ie===ne||!ie)&&clearTimeout)return ie=clearTimeout,clearTimeout(t);try{return ie(t)}catch(e){try{return ie.call(null,t)}catch(e){return ie.call(this,t)}}}(t)}}function he(t,e){this.fun=t,this.array=e}function de(){}he.prototype.run=function(){this.fun.apply(null,this.array)};var pe=de,fe=de,me=de,ge=de,ye=de,ve=de,_e=de,we=te.performance||{},be=we.now||we.mozNow||we.msNow||we.oNow||we.webkitNow||function(){return(new Date).getTime()},xe=new Date,Me={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];se.push(new he(t,e)),1!==se.length||le||oe(Ae)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:pe,addListener:fe,once:me,off:ge,removeListener:ye,removeAllListeners:ve,emit:_e,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*be.call(we),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-xe)/1e3}},Le={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Le.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Le.Bounce.In(2*t):.5*Le.Bounce.Out(2*t-1)+.5}}},Ce="undefined"==typeof self&&void 0!==Me&&Me.hrtime?function(){var t=Me.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},Ee=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=Ce()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!e;i&&!1===i.update(t,o)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Be={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Be.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Be.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Be.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Be.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},Se=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Te=new Ee,De=function(){function t(t,e){void 0===e&&(e=Te),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Le.Linear.None,this._interpolationFunction=Be.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Se.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?Ce()+parseFloat(t):t:Ce(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,r){for(var i in n){var o=t[i],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var c=n[i];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(c)}if("object"!==s&&!a||!o||l)void 0===e[i]&&(e[i]=o),a||(e[i]*=1),r[i]=l?n[i].slice().reverse():e[i]||0;else{for(var u in e[i]=a?[]:{},o)e[i][u]=o[u];r[i]=a?[]:{},this._setupProperties(o,e[i],n[i],r[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=Ce()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=Ce()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=Ce()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],s=Array.isArray(t[i]),l=Array.isArray(a);!s&&l?t[i]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(t[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Ie=Se.nextId,Pe=Te,Fe=Pe.getAll.bind(Pe),ke=Pe.removeAll.bind(Pe),Re=Pe.add.bind(Pe),Ue=Pe.remove.bind(Pe),Oe=Pe.update.bind(Pe),He={Easing:Le,Group:Ee,Interpolation:Be,now:Ce,Sequence:Se,nextId:Ie,Tween:De,VERSION:"18.6.4",getAll:Fe,removeAll:ke,add:Re,remove:Ue,update:Oe};const Ye={type:"change"},Qe={type:"start"},Ne={type:"end"};class je extends $t.EventDispatcher{constructor(t,e){super(),void 0===e&&console.warn('OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new $t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:$t.MOUSE.ROTATE,MIDDLE:$t.MOUSE.DOLLY,RIGHT:$t.MOUSE.PAN},this.touches={ONE:$t.TOUCH.ROTATE,TWO:$t.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",j),this._domElementKeyEvents=t},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.rotateUp=M,this.rotateLeft=x,this.rotateRight=function(t){s.theta+=t},this.rotateDown=function(t){s.phi+=t},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Ye),n.update(),i=r.NONE},this.update=function(){const e=new $t.Vector3,A=(new $t.Quaternion).setFromUnitVectors(t.up,new $t.Vector3(0,1,0)),h=A.clone().invert(),d=new $t.Vector3,p=new $t.Quaternion,f=2*Math.PI;return function(){const t=n.object.position;e.copy(t).sub(n.target),e.applyQuaternion(A),a.setFromVector3(e),n.autoRotate&&i===r.NONE&&x(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(a.theta+=s.theta*n.dampingFactor,a.phi+=s.phi*n.dampingFactor):(a.theta+=s.theta,a.phi+=s.phi);let m=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(m)&&isFinite(g)&&(m<-Math.PI?m+=f:m>Math.PI&&(m-=f),g<-Math.PI?g+=f:g>Math.PI&&(g-=f),a.theta=m<=g?Math.max(m,Math.min(g,a.theta)):a.theta>(m+g)/2?Math.max(m,a.theta):Math.min(g,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=l,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),e.setFromSpherical(a),e.applyQuaternion(h),t.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),c.set(0,0,0)),l=1,!!(u||d.distanceToSquared(n.object.position)>o||8*(1-p.dot(n.object.quaternion))>o)&&(n.dispatchEvent(Ye),d.copy(n.object.position),p.copy(n.object.quaternion),u=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",W),n.domElement.removeEventListener("pointerdown",O),n.domElement.removeEventListener("pointercancel",Q),n.domElement.removeEventListener("wheel",N),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",Y),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",j)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=r.NONE;const o=1e-6,a=new $t.Spherical,s=new $t.Spherical;let l=1;const c=new $t.Vector3;let u=!1;const A=new $t.Vector2,h=new $t.Vector2,d=new $t.Vector2,p=new $t.Vector2,f=new $t.Vector2,m=new $t.Vector2,g=new $t.Vector2,y=new $t.Vector2,v=new $t.Vector2,_=[],w={};function b(){return Math.pow(.95,n.zoomSpeed)}function x(t){s.theta-=t}function M(t){s.phi-=t}const L=function(){const t=new $t.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),c.add(t)}}(),C=function(){const t=new $t.Vector3;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),c.add(t)}}(),E=function(){const t=new $t.Vector3;return function(e,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;t.copy(o).sub(n.target);let a=t.length();a*=Math.tan(n.object.fov/2*Math.PI/180),L(2*e*a/i.clientHeight,n.object.matrix),C(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(L(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function B(t){n.object.isPerspectiveCamera?l/=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*t)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function S(t){n.object.isPerspectiveCamera?l*=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/t)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function T(t){A.set(t.clientX,t.clientY)}function D(t){p.set(t.clientX,t.clientY)}function I(){if(1===_.length)A.set(_[0].pageX,_[0].pageY);else{const t=.5*(_[0].pageX+_[1].pageX),e=.5*(_[0].pageY+_[1].pageY);A.set(t,e)}}function P(){if(1===_.length)p.set(_[0].pageX,_[0].pageY);else{const t=.5*(_[0].pageX+_[1].pageX),e=.5*(_[0].pageY+_[1].pageY);p.set(t,e)}}function F(){const t=_[0].pageX-_[1].pageX,e=_[0].pageY-_[1].pageY,n=Math.sqrt(t*t+e*e);g.set(0,n)}function k(t){try{if(1==_.length)h.set(t.pageX,t.pageY);else{const e=z(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);h.set(n,r)}d.subVectors(h,A).multiplyScalar(n.rotateSpeed);const e=n.domElement;x(2*Math.PI*d.x/e.clientHeight),M(2*Math.PI*d.y/e.clientHeight),A.copy(h)}catch(t){console.error(t)}}function R(t){try{if(1===_.length)f.set(t.pageX,t.pageY);else{const e=z(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);f.set(n,r)}m.subVectors(f,p).multiplyScalar(n.panSpeed),E(m.x,m.y),p.copy(f)}catch(t){console.error(t)}}function U(t){try{const e=z(t),r=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(r*r+i*i);y.set(0,o),v.set(0,Math.pow(y.y/g.y,n.zoomSpeed)),B(v.y),g.copy(y)}catch(t){console.error(t)}}function O(t){!1!==n.enabled&&(0===_.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",H),n.domElement.addEventListener("pointerup",Y)),function(t){_.push(t)}(t),"touch"===t.pointerType?function(t){if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else{switch(V(t),_.length){case 1:switch(n.touches.ONE){case $t.TOUCH.ROTATE:if(!1===n.enableRotate)return;I(),i=r.TOUCH_ROTATE;break;case $t.TOUCH.PAN:if(!1===n.enablePan)return;P(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(n.touches.TWO){case $t.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&F(),n.enablePan&&P(),i=r.TOUCH_DOLLY_PAN;break;case $t.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&F(),n.enableRotate&&I(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(Qe)}}(t):function(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case $t.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(t){g.set(t.clientX,t.clientY)}(t),i=r.DOLLY;break;case $t.MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;D(t),i=r.PAN}else{if(!1===n.enableRotate)return;T(t),i=r.ROTATE}break;case $t.MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;T(t),i=r.ROTATE}else{if(!1===n.enablePan)return;D(t),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&n.dispatchEvent(Qe)}(t))}function H(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else switch(V(t),i){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;k(t),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;R(t),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(t){n.enableZoom&&U(t),n.enablePan&&R(t)}(t),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(t){n.enableZoom&&U(t),n.enableRotate&&k(t)}(t),n.update();break;default:i=r.NONE}}(t):function(t){if(!1!==n.enabled)if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else switch(i){case r.ROTATE:if(!1===n.enableRotate)return;!function(t){h.set(t.clientX,t.clientY),d.subVectors(h,A).multiplyScalar(n.rotateSpeed);const e=n.domElement;x(2*Math.PI*d.x/e.clientHeight),M(2*Math.PI*d.y/e.clientHeight),A.copy(h),n.update()}(t);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(t){y.set(t.clientX,t.clientY),v.subVectors(y,g),v.y>0?B(b()):v.y<0&&S(b()),g.copy(y),n.update()}(t);break;case r.PAN:if(!1===n.enablePan)return;!function(t){f.set(t.clientX,t.clientY),m.subVectors(f,p).multiplyScalar(n.panSpeed),E(m.x,m.y),p.copy(f),n.update()}(t)}}(t))}function Y(t){!1!==n.enabled&&(t.pointerType,n.dispatchEvent(Ne),i=r.NONE,function(t){delete w[t.pointerId];for(let e=0;e<_.length;e++)if(_[e].pointerId==t.pointerId)return void _.splice(e,1)}(t),0===_.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",Y)))}function Q(t){_.length>0&&(n.dispatchEvent(Ne),i=r.NONE),_.splice(0,_.length)}function N(t){!1===n.enabled||!1===n.enableZoom||i!==r.NONE&&i!==r.ROTATE||(t.preventDefault(),n.dispatchEvent(Qe),function(t){t.deltaY<0?S(b()):t.deltaY>0&&B(b()),n.update()}(t),n.dispatchEvent(Ne))}function j(t){!1!==n.enabled&&!1!==n.enablePan&&function(t){let e=!1;switch(t.code){case n.keys.UP:E(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:E(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:E(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:E(-n.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),n.update())}(t)}function W(t){!1!==n.enabled&&t.preventDefault()}function V(t){let e=w[t.pointerId];void 0===e&&(e=new $t.Vector2,w[t.pointerId]=e),e.set(t.pageX,t.pageY)}function z(t){try{const e=t.pointerId===_[0].pointerId?_[1]:_[0];return w[e.pointerId]}catch(t){console.error(t)}}n.domElement.addEventListener("contextmenu",W),n.domElement.addEventListener("pointerdown",O),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",N,{passive:!1}),this.update()}}const We=t=>{let e=t.offsetLeft,n=t.offsetParent;for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e},Ve=t=>{for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e};var ze=Object.freeze({__proto__:null,getElementLeft:We,getElementTop:Ve});const Ge=t=>{if(null!==t){for(var e=0;e<t.children.length;e++)Ge(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&t.material.bumpMap.dispose(),t.material.envMap&&t.material.envMap.dispose(),t.material.lightMap&&t.material.lightMap.dispose(),t.material.map&&t.material.map.dispose(),t.material.normalMap&&t.material.normalMap.dispose(),t.material.specularMap&&t.material.specularMap.dispose(),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t.dispose&&t.dispose()},Ke={mode2d:"3D",mode3d:"2D",maxAngle:Math.PI/2,minAngle:Math.PI/2,defaultAngle:Math.PI/3};function Ze(t,e){return new RegExp(e).test(t),parseFloat(RegExp.$1)}var Xe=window&&"ActiveXObject"in window,qe=Xe&&!document.addEventListener,Je=window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"",$e=-1!==Je.indexOf("webkit"),tn=-1!==Je.indexOf("chrome"),en=-1!==Je.indexOf("phantom"),nn=-1!==Je.indexOf("android"),rn=-1!==Je.search("android [23]"),on=-1!==Je.indexOf("iphone"),an=-1!==Je.indexOf("symbianos"),sn=-1!==Je.indexOf("windows phone"),ln=-1!==Je.indexOf("ipad"),cn=on||sn||an||nn||ln,un=window&&window.navigator&&window.navigator&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints&&!window.PointerEvent,An=window&&window.PointerEvent&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints||un,hn=window&&"devicePixelRatio"in window&&1<window.devicePixelRatio||window&&"matchMedia"in window&&window.matchMedia("(min-resolution:144dppi)")&&window.matchMedia("(min-resolution:144dppi)").matches,dn=document.documentElement,pn=Xe&&dn&&"transition"in dn.style,fn=window&&"WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rn,mn=window&&dn&&"MozPerspective"in dn.style,gn=window&&dn&&"OTransition"in dn.style;const yn={ver:(vn=navigator.userAgent,/opera/i.test(vn)||/OPR/i.test(vn)?"Opera"+Ze(vn,"OPR/(\\d+\\.+\\d+)"):/compatible/i.test(vn)&&/MSIE/i.test(vn)?"IE"+Ze(vn,"MSIE (\\d+\\.+\\d+)"):/Edge/i.test(vn)?"Edge"+Ze(vn,"Edge/(\\d+\\.+\\d+)"):/Firefox/i.test(vn)?"Firefox"+Ze(vn,"Firefox/(\\d+\\.+\\d+)"):/Safari/i.test(vn)&&!/Chrome/i.test(vn)?"Safari"+Ze(vn,"Safari/(\\d+\\.+\\d+)"):/Chrome/i.test(vn)&&/Safari/i.test(vn)?"Chrome"+Ze(vn,"Chrome/(\\d+\\.+\\d+)"):window.ActiveXObject||"ActiveXObject"in window?"IE11":void 0),miniApp:!!window,ie:Xe,ielt9:qe,webkit:$e,android:nn,android23:rn,iphone:on,ipad:ln,symbian:an,winphone:sn,chrome:tn,ie3d:pn,webkit3d:fn,gecko3d:mn,opera3d:gn,mobile:cn,mobileWebkit:cn&&$e,mobileWebkit3d:cn&&fn,touch:en,msPointer:un,pointer:An,retina:hn};var vn;const _n=t=>t.map((t=>`${(t>>>4).toString(16)}${(15&t).toString(16)}`)).join("");var wn=Object.freeze({__proto__:null,highLowToInt:(t,e)=>e+(t<<8),bytesToHexString:_n}),bn="object"==typeof te&&te&&te.Object===Object&&te,xn="object"==typeof self&&self&&self.Object===Object&&self,Mn=bn||xn||Function("return this")(),Ln=Mn.Symbol,Cn=Object.prototype,En=Cn.hasOwnProperty,Bn=Cn.toString,Sn=Ln?Ln.toStringTag:void 0,Tn=Object.prototype.toString,Dn=Ln?Ln.toStringTag:void 0;function In(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Dn&&Dn in Object(t)?function(t){var e=En.call(t,Sn),n=t[Sn];try{t[Sn]=void 0;var r=!0}catch(t){}var i=Bn.call(t);return r&&(e?t[Sn]=n:delete t[Sn]),i}(t):function(t){return Tn.call(t)}(t)}function Pn(t){return null!=t&&"object"==typeof t}function Fn(t){return"symbol"==typeof t||Pn(t)&&"[object Symbol]"==In(t)}var kn=Array.isArray,Rn=1/0,Un=Ln?Ln.prototype:void 0,On=Un?Un.toString:void 0;function Hn(t){if("string"==typeof t)return t;if(kn(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,Hn)+"";if(Fn(t))return On?On.call(t):"";var e=t+"";return"0"==e&&1/t==-Rn?"-0":e}var Yn=/\s/,Qn=/^\s+/;function Nn(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var jn=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,Vn=/^0o[0-7]+$/i,zn=parseInt,Gn=1/0;function Kn(t){return t?(t=function(t){if("number"==typeof t)return t;if(Fn(t))return NaN;if(Nn(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Nn(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Yn.test(t.charAt(e)););return e}(t)+1).replace(Qn,""):t}(t);var n=Wn.test(t);return n||Vn.test(t)?zn(t.slice(2),n?2:8):jn.test(t)?NaN:+t}(t))===Gn||t===-Gn?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Zn(t){var e=Kn(t),n=e%1;return e==e?n?e-n:e:0}function Xn(t){return t}function qn(t){if(!Nn(t))return!1;var e=In(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Jn,$n=Mn["__core-js_shared__"],tr=(Jn=/[^.]+$/.exec($n&&$n.keys&&$n.keys.IE_PROTO||""))?"Symbol(src)_1."+Jn:"",er=Function.prototype.toString;function nr(t){if(null!=t){try{return er.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var rr=/^\[object .+?Constructor\]$/,ir=Function.prototype,or=Object.prototype,ar=ir.toString,sr=or.hasOwnProperty,lr=RegExp("^"+ar.call(sr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Nn(t)||(e=t,tr&&tr in e))&&(qn(t)?lr:rr).test(nr(t));var e}(n)?n:void 0}var ur=cr(Mn,"WeakMap"),Ar=Object.create,hr=function(){function t(){}return function(e){if(!Nn(e))return{};if(Ar)return Ar(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function dr(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pr=Date.now;function fr(t){return function(){return t}}var mr,gr,yr,vr=function(){try{var t=cr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),_r=vr,wr=_r?function(t,e){return _r(t,"toString",{configurable:!0,enumerable:!1,value:fr(e),writable:!0})}:Xn,br=(mr=wr,gr=0,yr=0,function(){var t=pr(),e=16-(t-yr);if(yr=t,e>0){if(++gr>=800)return arguments[0]}else gr=0;return mr.apply(void 0,arguments)}),xr=/^(?:0|[1-9]\d*)$/;function Mr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&xr.test(t))&&t>-1&&t%1==0&&t<e}function Lr(t,e,n){"__proto__"==e&&_r?_r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Cr(t,e){return t===e||t!=t&&e!=e}var Er=Object.prototype.hasOwnProperty;function Br(t,e,n){var r=t[e];Er.call(t,e)&&Cr(r,n)&&(void 0!==n||e in t)||Lr(t,e,n)}function Sr(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Lr(n,s,l):Br(n,s,l)}return n}var Tr=Math.max;function Dr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ir(t){return null!=t&&Dr(t.length)&&!qn(t)}function Pr(t,e,n){if(!Nn(n))return!1;var r=typeof e;return!!("number"==r?Ir(n)&&Mr(e,n.length):"string"==r&&e in n)&&Cr(n[e],t)}var Fr=Object.prototype;function kr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Fr)}function Rr(t){return Pn(t)&&"[object Arguments]"==In(t)}var Ur=Object.prototype,Or=Ur.hasOwnProperty,Hr=Ur.propertyIsEnumerable,Yr=Rr(function(){return arguments}())?Rr:function(t){return Pn(t)&&Or.call(t,"callee")&&!Hr.call(t,"callee")},Qr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nr=Qr&&t&&!t.nodeType&&t,jr=Nr&&Nr.exports===Qr?Mn.Buffer:void 0,Wr=(jr?jr.isBuffer:void 0)||function(){return!1},Vr={};function zr(t){return function(e){return t(e)}}Vr["[object Float32Array]"]=Vr["[object Float64Array]"]=Vr["[object Int8Array]"]=Vr["[object Int16Array]"]=Vr["[object Int32Array]"]=Vr["[object Uint8Array]"]=Vr["[object Uint8ClampedArray]"]=Vr["[object Uint16Array]"]=Vr["[object Uint32Array]"]=!0,Vr["[object Arguments]"]=Vr["[object Array]"]=Vr["[object ArrayBuffer]"]=Vr["[object Boolean]"]=Vr["[object DataView]"]=Vr["[object Date]"]=Vr["[object Error]"]=Vr["[object Function]"]=Vr["[object Map]"]=Vr["[object Number]"]=Vr["[object Object]"]=Vr["[object RegExp]"]=Vr["[object Set]"]=Vr["[object String]"]=Vr["[object WeakMap]"]=!1;var Gr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kr=Gr&&t&&!t.nodeType&&t,Zr=Kr&&Kr.exports===Gr&&bn.process,Xr=function(){try{return Kr&&Kr.require&&Kr.require("util").types||Zr&&Zr.binding&&Zr.binding("util")}catch(t){}}(),qr=Xr&&Xr.isTypedArray,Jr=qr?zr(qr):function(t){return Pn(t)&&Dr(t.length)&&!!Vr[In(t)]},$r=Object.prototype.hasOwnProperty;function ti(t,e){var n=kn(t),r=!n&&Yr(t),i=!n&&!r&&Wr(t),o=!n&&!r&&!i&&Jr(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!e&&!$r.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Mr(c,l))||s.push(c);return s}function ei(t,e){return function(n){return t(e(n))}}var ni=ei(Object.keys,Object),ri=Object.prototype.hasOwnProperty;function ii(t){return Ir(t)?ti(t):function(t){if(!kr(t))return ni(t);var e=[];for(var n in Object(t))ri.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var oi=Object.prototype.hasOwnProperty;function ai(t){return Ir(t)?ti(t,!0):function(t){if(!Nn(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=kr(t),n=[];for(var r in t)("constructor"!=r||!e&&oi.call(t,r))&&n.push(r);return n}(t)}var si=cr(Object,"create"),li=Object.prototype.hasOwnProperty,ci=Object.prototype.hasOwnProperty;function ui(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ai(t,e){for(var n=t.length;n--;)if(Cr(t[n][0],e))return n;return-1}ui.prototype.clear=function(){this.__data__=si?si(null):{},this.size=0},ui.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ui.prototype.get=function(t){var e=this.__data__;if(si){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return li.call(e,t)?e[t]:void 0},ui.prototype.has=function(t){var e=this.__data__;return si?void 0!==e[t]:ci.call(e,t)},ui.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=si&&void 0===e?"__lodash_hash_undefined__":e,this};var hi=Array.prototype.splice;function di(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}di.prototype.clear=function(){this.__data__=[],this.size=0},di.prototype.delete=function(t){var e=this.__data__,n=Ai(e,t);return!(n<0||(n==e.length-1?e.pop():hi.call(e,n,1),--this.size,0))},di.prototype.get=function(t){var e=this.__data__,n=Ai(e,t);return n<0?void 0:e[n][1]},di.prototype.has=function(t){return Ai(this.__data__,t)>-1},di.prototype.set=function(t,e){var n=this.__data__,r=Ai(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var pi=cr(Mn,"Map");function fi(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function mi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gi(t){return null==t?"":Hn(t)}function yi(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}mi.prototype.clear=function(){this.size=0,this.__data__={hash:new ui,map:new(pi||di),string:new ui}},mi.prototype.delete=function(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e},mi.prototype.get=function(t){return fi(this,t).get(t)},mi.prototype.has=function(t){return fi(this,t).has(t)},mi.prototype.set=function(t,e){var n=fi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var vi=ei(Object.getPrototypeOf,Object),_i=Function.prototype,wi=Object.prototype,bi=_i.toString,xi=wi.hasOwnProperty,Mi=bi.call(Object);function Li(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Ci=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ei(t){return Ci.test(t)}var Bi="\\ud800-\\udfff",Si="["+Bi+"]",Ti="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Di="\\ud83c[\\udffb-\\udfff]",Ii="[^"+Bi+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",Fi="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="(?:"+Ti+"|"+Di+")?",Ri="[\\ufe0e\\ufe0f]?",Ui=Ri+ki+"(?:\\u200d(?:"+[Ii,Pi,Fi].join("|")+")"+Ri+ki+")*",Oi="(?:"+[Ii+Ti+"?",Ti,Pi,Fi,Si].join("|")+")",Hi=RegExp(Di+"(?="+Di+")|"+Oi+Ui,"g");var Yi=Math.ceil,Qi=Math.max;function Ni(t){var e=this.__data__=new di(t);this.size=e.size}Ni.prototype.clear=function(){this.__data__=new di,this.size=0},Ni.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ni.prototype.get=function(t){return this.__data__.get(t)},Ni.prototype.has=function(t){return this.__data__.has(t)},Ni.prototype.set=function(t,e){var n=this.__data__;if(n instanceof di){var r=n.__data__;if(!pi||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mi(r)}return n.set(t,e),this.size=n.size,this};var ji="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wi=ji&&t&&!t.nodeType&&t,Vi=Wi&&Wi.exports===ji?Mn.Buffer:void 0,zi=Vi?Vi.allocUnsafe:void 0;function Gi(t,e){if(e)return t.slice();var n=t.length,r=zi?zi(n):new t.constructor(n);return t.copy(r),r}function Ki(){return[]}var Zi=Object.prototype.propertyIsEnumerable,Xi=Object.getOwnPropertySymbols,qi=Xi?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a)&&(o[i++]=a)}return o}(Xi(t),(function(e){return Zi.call(t,e)})))}:Ki,Ji=qi,$i=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)yi(e,Ji(t)),t=vi(t);return e}:Ki;function to(t,e,n){var r=e(t);return kn(t)?r:yi(r,n(t))}function eo(t){return to(t,ii,Ji)}function no(t){return to(t,ai,$i)}var ro=cr(Mn,"DataView"),io=cr(Mn,"Promise"),oo=cr(Mn,"Set"),ao="[object Map]",so="[object Promise]",lo="[object Set]",co="[object WeakMap]",uo="[object DataView]",Ao=nr(ro),ho=nr(pi),po=nr(io),fo=nr(oo),mo=nr(ur),go=In;(ro&&go(new ro(new ArrayBuffer(1)))!=uo||pi&&go(new pi)!=ao||io&&go(io.resolve())!=so||oo&&go(new oo)!=lo||ur&&go(new ur)!=co)&&(go=function(t){var e=In(t),n="[object Object]"==e?t.constructor:void 0,r=n?nr(n):"";if(r)switch(r){case Ao:return uo;case ho:return ao;case po:return so;case fo:return lo;case mo:return co}return e});var yo=go,vo=Object.prototype.hasOwnProperty,_o=Mn.Uint8Array;function wo(t){var e=new t.constructor(t.byteLength);return new _o(e).set(new _o(t)),e}var bo=/\w*$/,xo=Ln?Ln.prototype:void 0,Mo=xo?xo.valueOf:void 0;function Lo(t,e){var n=e?wo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Co(t){return"function"!=typeof t.constructor||kr(t)?{}:hr(vi(t))}var Eo=Xr&&Xr.isMap,Bo=Eo?zr(Eo):function(t){return Pn(t)&&"[object Map]"==yo(t)},So=Xr&&Xr.isSet,To=So?zr(So):function(t){return Pn(t)&&"[object Set]"==yo(t)},Do="[object Arguments]",Io="[object Function]",Po="[object Object]",Fo={};function ko(t,e,n,r,i,o){var a,s=1&e,l=2&e,c=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Nn(t))return t;var u=kn(t);if(u){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vo.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return dr(t,a)}else{var A=yo(t),h=A==Io||"[object GeneratorFunction]"==A;if(Wr(t))return Gi(t,s);if(A==Po||A==Do||h&&!i){if(a=l||h?{}:Co(t),!s)return l?function(t,e){return Sr(t,$i(t),e)}(t,function(t,e){return t&&Sr(e,ai(e),t)}(a,t)):function(t,e){return Sr(t,Ji(t),e)}(t,function(t,e){return t&&Sr(e,ii(e),t)}(a,t))}else{if(!Fo[A])return i?t:{};a=function(t,e,n){var r,i,o,a=t.constructor;switch(e){case"[object ArrayBuffer]":return wo(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var n=e?wo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Lo(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,bo.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=t,Mo?Object(Mo.call(r)):{}}}(t,A,s)}}o||(o=new Ni);var d=o.get(t);if(d)return d;o.set(t,a),To(t)?t.forEach((function(r){a.add(ko(r,e,n,r,t,o))})):Bo(t)&&t.forEach((function(r,i){a.set(i,ko(r,e,n,i,t,o))}));var p=u?void 0:(c?l?no:eo:l?ai:ii)(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(p||t,(function(r,i){p&&(r=t[i=r]),Br(a,i,ko(r,e,n,i,t,o))})),a}function Ro(t){return ko(t,5)}function Uo(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mi;++e<n;)this.add(t[e])}function Oo(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Fo[Do]=Fo["[object Array]"]=Fo["[object ArrayBuffer]"]=Fo["[object DataView]"]=Fo["[object Boolean]"]=Fo["[object Date]"]=Fo["[object Float32Array]"]=Fo["[object Float64Array]"]=Fo["[object Int8Array]"]=Fo["[object Int16Array]"]=Fo["[object Int32Array]"]=Fo["[object Map]"]=Fo["[object Number]"]=Fo[Po]=Fo["[object RegExp]"]=Fo["[object Set]"]=Fo["[object String]"]=Fo["[object Symbol]"]=Fo["[object Uint8Array]"]=Fo["[object Uint8ClampedArray]"]=Fo["[object Uint16Array]"]=Fo["[object Uint32Array]"]=!0,Fo["[object Error]"]=Fo[Io]=Fo["[object WeakMap]"]=!1,Uo.prototype.add=Uo.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Uo.prototype.has=function(t){return this.__data__.has(t)};function Ho(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var A=-1,h=!0,d=2&n?new Uo:void 0;for(o.set(t,e),o.set(e,t);++A<s;){var p=t[A],f=e[A];if(r)var m=a?r(f,p,A,e,t,o):r(p,f,A,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!Oo(e,(function(t,e){if(a=e,!d.has(a)&&(p===t||i(p,t,n,r,o)))return d.push(e);var a}))){h=!1;break}}else if(p!==f&&!i(p,f,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Yo(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Qo(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var No=Ln?Ln.prototype:void 0,jo=No?No.valueOf:void 0,Wo=Object.prototype.hasOwnProperty,Vo="[object Arguments]",zo="[object Array]",Go="[object Object]",Ko=Object.prototype.hasOwnProperty;function Zo(t,e,n,r,i){return t===e||(null==t||null==e||!Pn(t)&&!Pn(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=kn(t),s=kn(e),l=a?zo:yo(t),c=s?zo:yo(e),u=(l=l==Vo?Go:l)==Go,A=(c=c==Vo?Go:c)==Go,h=l==c;if(h&&Wr(t)){if(!Wr(e))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Ni),a||Jr(t)?Ho(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new _o(t),new _o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Cr(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Yo;case"[object Set]":var l=1&r;if(s||(s=Qo),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var u=Ho(s(t),s(e),r,i,o,a);return a.delete(t),u;case"[object Symbol]":if(jo)return jo.call(t)==jo.call(e)}return!1}(t,e,l,n,r,i,o);if(!(1&n)){var d=u&&Ko.call(t,"__wrapped__"),p=A&&Ko.call(e,"__wrapped__");if(d||p){var f=d?t.value():t,m=p?e.value():e;return o||(o=new Ni),i(f,m,n,r,o)}}return!!h&&(o||(o=new Ni),function(t,e,n,r,i,o){var a=1&n,s=eo(t),l=s.length;if(l!=eo(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:Wo.call(e,u)))return!1}var A=o.get(t),h=o.get(e);if(A&&h)return A==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<l;){var f=t[u=s[c]],m=e[u];if(r)var g=a?r(m,f,u,e,t,o):r(f,m,u,t,e,o);if(!(void 0===g?f===m||i(f,m,n,r,o):g)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,Zo,i))}var Xo=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t};function qo(t,e,n){(void 0!==n&&!Cr(t[e],n)||void 0===n&&!(e in t))&&Lr(t,e,n)}function Jo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function $o(t,e,n,r,i){t!==e&&Xo(e,(function(o,a){if(i||(i=new Ni),Nn(o))!function(t,e,n,r,i,o,a){var s=Jo(t,n),l=Jo(e,n),c=a.get(l);if(c)qo(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,A=void 0===u;if(A){var h=kn(l),d=!h&&Wr(l),p=!h&&!d&&Jr(l);u=l,h||d||p?kn(s)?u=s:function(t){return Pn(t)&&Ir(t)}(s)?u=dr(s):d?(A=!1,u=Gi(l,!0)):p?(A=!1,u=Lo(l,!0)):u=[]:function(t){if(!Pn(t)||"[object Object]"!=In(t))return!1;var e=vi(t);if(null===e)return!0;var n=xi.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bi.call(n)==Mi}(l)||Yr(l)?(u=s,Yr(s)?u=function(t){return Sr(t,ai(t))}(s):Nn(s)&&!qn(s)||(u=Co(l))):A=!1}A&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),qo(t,n,u)}}(t,e,a,n,$o,r,i);else{var s=r?r(Jo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),qo(t,a,s)}}),ai)}function ta(t,e){return Zo(t,e)}var ea,na=(ea=function(t,e,n){$o(t,e,n)},function(t,e){return br(function(t,e,n){return e=Tr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Tr(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,Xn),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=ea.length>3&&"function"==typeof i?(r--,i):void 0,o&&Pr(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&ea(t,a,n)}return t}))),ra=na,ia=Math.floor;function oa(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=ia(e/2))&&(t+=t)}while(e);return n}var aa=function(t){return null==t?void 0:t.length},sa="\\ud800-\\udfff",la="["+sa+"]",ca="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ua="\\ud83c[\\udffb-\\udfff]",Aa="[^"+sa+"]",ha="(?:\\ud83c[\\udde6-\\uddff]){2}",da="[\\ud800-\\udbff][\\udc00-\\udfff]",pa="(?:"+ca+"|"+ua+")?",fa="[\\ufe0e\\ufe0f]?",ma=fa+pa+"(?:\\u200d(?:"+[Aa,ha,da].join("|")+")"+fa+pa+")*",ga="(?:"+[Aa+ca+"?",ca,ha,da,la].join("|")+")",ya=RegExp(ua+"(?="+ua+")|"+ga+ma,"g");function va(t){return Ei(t)?function(t){for(var e=ya.lastIndex=0;ya.test(t);)++e;return e}(t):aa(t)}var _a=Math.ceil;function wa(t,e){var n=(e=void 0===e?" ":Hn(e)).length;if(n<2)return n?oa(e,t):e;var r=oa(e,_a(t/va(e)));return Ei(e)?function(t,e,n){var r=t.length;return(n=void 0===n?r:n)>=r?t:Li(t,0,n)}(function(t){return Ei(t)?function(t){return t.match(Hi)||[]}(t):function(t){return t.split("")}(t)}(r),0,t).join(""):r.slice(0,t)}function ba(t,e,n){t=gi(t);var r=(e=Zn(e))?va(t):0;return e&&r<e?wa(e-r,n)+t:t}const xa=t=>{let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){try{e=(0,eval)(`(${t})`)}catch(n){e=t}}else e=void 0===t?{}:t;return e};var Ma=Object.freeze({__proto__:null,parseJSON:xa});function La(t,e=2){let n=parseInt(t,10).toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(0,e),n}const Ca=(t,e)=>{const n=[],r=t.length;for(let i=0;i<r;i+=e)n.push(t.slice(i,i+e));return n},Ea=t=>{const e=t.trim(),n="0x"===e.substr(0,2).toLowerCase()?e.substr(2):e,r=n.length;if(r%2!=0)return"";let i;const o=[];for(let t=0;t<r;t+=2)i=parseInt(n.substr(t,2),16),o.push(String.fromCharCode(i));return o.join("")},Ba=(t,e)=>Number((e/10**t).toFixed(t)),Sa={0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"+":62,"/":63};var Ta=Object.freeze({__proto__:null,toFixed16:La,stringToAtHex:t=>{for(var e="",n=0;n<t.length;n++)""===e?e=t.charCodeAt(n).toString(16):e+=`${t.charCodeAt(n).toString(16)}`;return e},partition:Ca,hexStringToNumber:t=>Ca(t,2).map((t=>parseInt(t,16))),highLowToInt:(t,e)=>e+(t<<8),atHexToString:Ea,stringToBase36Arr:t=>{const e=[];if(!t)return e;for(let n=0;n<t.length;n++)e.push(`${t.charCodeAt(n).toString(36)}`);return e},base36ArrToString:t=>{const e=[];return t.forEach((t=>{e.push(String.fromCharCode(parseInt(t,36)))})),e.join("")},ASCIIToJson:t=>xa(Ea(t)),toJsonSafe:t=>xa(t.replace(/(\{.*\}).*/,"$1")),scaleNumber:Ba,shrinkValue:t=>Ba(1,t),DECToHex:function(t,e=2,n=!0){return null==t?"":n?function(t){return gi(t).toLowerCase()}(ba(Number(t).toString(16),e,"0")):n?void 0:function(t){return gi(t).toUpperCase()}(ba(Number(t).toString(16),e,"0"))},UTF8ToHex:t=>Array.from(t).map((t=>t.charCodeAt(0)<128?t.charCodeAt(0).toString(16).padStart(2,"0"):encodeURIComponent(t).replace(/\%/g,"").toLowerCase())).join(""),hexToUTF8:t=>{var e;return decodeURIComponent("%"+(null==(e=t.match(/.{1,2}/g))?void 0:e.join("%")))},dealPL:t=>t>32768?t-65536:t,DECNumberToHex:function(t,e){if(null==t)return"";const n=Number(t).toString(2);return La(parseInt(n+e,2))},base64to2:t=>{let e=.75*t.length;t=t.replace(/=*$/,"");const n=new Int8Array(e);let r,i,o,a,s=0;for(let e=0;e<t.length;e+=4)r=Sa[t[e]],i=Sa[t[e+1]],o=Sa[t[e+2]],a=Sa[t[e+3]],n[s++]=r<<2|i>>4,n[s++]=i<<4|o>>2,n[s++]=o<<6|a;return n},arrayBufferToBase64:t=>{let e="";const n=new Uint8Array(t),r=n.byteLength;for(var i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}}),Da=(t,e)=>{var n=0,r=document.createElement("div");function i(t){return r.appendChild(t.dom),t}function o(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";n=t}r.style.cssText="position:absolute;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener(e,(function(t){t.preventDefault(),o(++n%r.children.length)}),!1);var a=(performance||Date).now(),s=a,l=0,c=i(new Da.Panel("FPS","#0ff","#002",t)),u=i(new Da.Panel("MS","#0f0","#020",t));if(self&&self.performance&&self.performance.memory)var A=i(new Da.Panel("MB","#f08","#201",t));return o(0),{REVISION:16,dom:r,addPanel:i,showPanel:o,begin:function(){a=(performance||Date).now()},end:function(){l++;var t=(performance||Date).now();if(u.update(t-a,200),t>=s+1e3&&(c.update(1e3*l/(t-s),100),s=t,l=0,A)){var e=performance&&performance.memory;e&&A.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:r,setMode:o}};Da.Panel=function(t,e,n,r){var i=1/0,o=0,a=Math.round,s=a(r||1),l=80*s,c=48*s,u=3*s,A=2*s,h=3*s,d=15*s,p=74*s,f=30*s,m=document.createElement("canvas");m.width=l,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,l,c),g.fillStyle=e,g.fillText(t,u,A),g.fillRect(h,d,p,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,p,f),{dom:m,update:function(r,c){i=Math.min(i,r),o=Math.max(o,r),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,l,d),g.fillStyle=e,g.fillText(a(r)+" "+t+" ("+a(i)+"-"+a(o)+")",u,A),g.drawImage(m,h+s,d,p-s,f,h,d,p-s,f),g.fillRect(h+p-s,d,s,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+p-s,d,s,a((1-r/c)*f))}}};var Ia={exports:{}},Pa=function(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}(Object.freeze({__proto__:null,default:{}}));Ia.exports=function(){var t=t||function(t){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==r&&r.crypto&&(e=r.crypto),!e)try{e=Pa}catch(t){}var n=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),o={},a=o.lib={},s=a.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(n());return new l.init(e,t)}}),c=o.enc={},u=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},A=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(A.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return A.parse(unescape(encodeURIComponent(t)))}},d=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,o);if(c){for(var A=0;A<c;A+=a)this._doProcessBlock(i,A);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=d.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=o.algo={};return o}(Math);return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],d=t[e+2],p=t[e+3],f=t[e+4],m=t[e+5],g=t[e+6],y=t[e+7],v=t[e+8],_=t[e+9],w=t[e+10],b=t[e+11],x=t[e+12],M=t[e+13],L=t[e+14],C=t[e+15],E=o[0],B=o[1],S=o[2],T=o[3];E=c(E,B,S,T,a,7,s[0]),T=c(T,E,B,S,l,12,s[1]),S=c(S,T,E,B,d,17,s[2]),B=c(B,S,T,E,p,22,s[3]),E=c(E,B,S,T,f,7,s[4]),T=c(T,E,B,S,m,12,s[5]),S=c(S,T,E,B,g,17,s[6]),B=c(B,S,T,E,y,22,s[7]),E=c(E,B,S,T,v,7,s[8]),T=c(T,E,B,S,_,12,s[9]),S=c(S,T,E,B,w,17,s[10]),B=c(B,S,T,E,b,22,s[11]),E=c(E,B,S,T,x,7,s[12]),T=c(T,E,B,S,M,12,s[13]),S=c(S,T,E,B,L,17,s[14]),E=u(E,B=c(B,S,T,E,C,22,s[15]),S,T,l,5,s[16]),T=u(T,E,B,S,g,9,s[17]),S=u(S,T,E,B,b,14,s[18]),B=u(B,S,T,E,a,20,s[19]),E=u(E,B,S,T,m,5,s[20]),T=u(T,E,B,S,w,9,s[21]),S=u(S,T,E,B,C,14,s[22]),B=u(B,S,T,E,f,20,s[23]),E=u(E,B,S,T,_,5,s[24]),T=u(T,E,B,S,L,9,s[25]),S=u(S,T,E,B,p,14,s[26]),B=u(B,S,T,E,v,20,s[27]),E=u(E,B,S,T,M,5,s[28]),T=u(T,E,B,S,d,9,s[29]),S=u(S,T,E,B,y,14,s[30]),E=A(E,B=u(B,S,T,E,x,20,s[31]),S,T,m,4,s[32]),T=A(T,E,B,S,v,11,s[33]),S=A(S,T,E,B,b,16,s[34]),B=A(B,S,T,E,L,23,s[35]),E=A(E,B,S,T,l,4,s[36]),T=A(T,E,B,S,f,11,s[37]),S=A(S,T,E,B,y,16,s[38]),B=A(B,S,T,E,w,23,s[39]),E=A(E,B,S,T,M,4,s[40]),T=A(T,E,B,S,a,11,s[41]),S=A(S,T,E,B,p,16,s[42]),B=A(B,S,T,E,g,23,s[43]),E=A(E,B,S,T,_,4,s[44]),T=A(T,E,B,S,x,11,s[45]),S=A(S,T,E,B,C,16,s[46]),E=h(E,B=A(B,S,T,E,d,23,s[47]),S,T,a,6,s[48]),T=h(T,E,B,S,y,10,s[49]),S=h(S,T,E,B,L,15,s[50]),B=h(B,S,T,E,m,21,s[51]),E=h(E,B,S,T,x,6,s[52]),T=h(T,E,B,S,p,10,s[53]),S=h(S,T,E,B,w,15,s[54]),B=h(B,S,T,E,l,21,s[55]),E=h(E,B,S,T,v,6,s[56]),T=h(T,E,B,S,C,10,s[57]),S=h(S,T,E,B,g,15,s[58]),B=h(B,S,T,E,M,21,s[59]),E=h(E,B,S,T,f,6,s[60]),T=h(T,E,B,S,b,10,s[61]),S=h(S,T,E,B,d,15,s[62]),B=h(B,S,T,E,_,21,s[63]),o[0]=o[0]+E|0,o[1]=o[1]+B|0,o[2]=o[2]+S|0,o[3]=o[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function u(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function A(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),t}();var Fa=i(Ia.exports);const ka={listeners:{},on(t,e){ka.listeners[t]||(ka.listeners[t]=[]),ka.listeners[t].push(e)},off(t,e){if("function"==typeof e){const n=ka.listeners[t];if(n){const t=n.indexOf(e);t>=0&&n.splice(t,1)}}else delete ka.listeners[t]},emit(t,e){(ka.listeners[t]||[]).forEach((t=>{t(e)}))}},Ra=(t,e)=>{ka.on(t,e)},Ua=(t,e)=>{ka.off(t,e)};function Oa(t,e){Ra(t,(n=>{e(n),Ua(t)}))}const Ha=Ra,Ya=(t,e)=>{ka.emit(t,e)},Qa=Ua;let Na="() => {\n\tlet _canvasStore;\n\tconsole.log('ScreenshotWorkerRender: Thread has been started ');\n\n\t/**\n\t * \n\t * @param ctx \n\t * @param x \n\t * @param y \n\t * @param w \n\t * @param h \n\t * @returns \n\t */\n\tconst detectWhiteScreenWithPixel = data => {\n\t\ttry {\n\t\t const colorSet = new Set(data);\n\t\t const colorArr = Array.from(colorSet);\n\t\t if (colorArr.length === 1) {\n\t\t\tif (colorArr[0] === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t }\n\t\t return false;\n\t\t} catch (e) {\n\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot detectWhiteScreenWithPixel occur an error ==>', e);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'init') {\n\t\t\tinitRendererCanvas(msg.data);\n\t\t}\n\t\tif (msg.data.name === 'capture') {\n\t\t\toffScreenRender(msg.data)\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\n\tconst initRendererCanvas = data => {\n\t\tconst { parameters = {} } = data;\n\t\tconst\t{ canvas } = parameters;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\t};\n\n\tconst offScreenRender = data => {\n\t\ttry {\n\t\t\tconst endTimestamp = new Date().getTime();\n\t\t\tconst { parameters } = data;\n\t\t\tconst { imageData, pixelRatio, step, timestamp } = parameters;\n\n\t\t\tconst canvas = new OffscreenCanvas(_canvasStore.width, _canvasStore.height);\n\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\tif (!ctx) {\n\t\t\t\tconsole.warn('ScreenshotWorkerRender: Please provide canvas element params ');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot receive captured cmd use time ==>', endTimestamp - timestamp);\n\t\t\tlet snapshotImage = { image: '', width: 0, height: 0, step: step }; \n\n\t\t\tctx?.restore();\n\t\t\tctx?.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\tself.createImageBitmap(imageData).then(source => {\n\t\t\tctx?.translate(0, canvas.height);\n\t\t\tctx?.scale(1, -1);\n\t\t\tctx?.drawImage(source, 0, 0);\n\t\t\tctx?.restore();\n\t\t\tcanvas[canvas.convertToBlob ? 'convertToBlob' : 'toBlob']().then(blob => {\n\t\t\t\t\tconst isWhiteScreen = detectWhiteScreenWithPixel(imageData.data);\n\t\t\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot captured a white picture ==>', isWhiteScreen);\n\t\t\t\t\tif (!isWhiteScreen) {\n\t\t\t\t\t\tconst image = new FileReaderSync().readAsDataURL(blob);\n\t\t\t\t\t\tconst styleWidth = canvas.width / pixelRatio;\n\t\t\t\t\t\tconst styleHeight = canvas.height / pixelRatio;\n\t\t\t\t\t\tsnapshotImage =\t{ image: image, width: styleWidth, height: styleHeight, step: step }; \n\t\t\t\t\t}\n\t\t\t\t\tself.postMessage({ name: 'update', snapshotImage: snapshotImage });\n\t\t\t\t});\n\t\t\t});\n\t} catch (e) {\n\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot offScreenRender occur an error ==>', e);\n\t}\n}\n}";Na=Na.substring(Na.indexOf("{")+1,Na.lastIndexOf("}"));const ja=new Blob([Na],{type:"application/javascript"}),Wa=new class{constructor(){this.options={success:"#00cca3",error:"#FFaa00",info:"#5091F3"}}log(t,e,...n){console.log(`%c Robot Log: ${e}`,`background: ${t}; color: #FFFFFF; font-size: 20px`,...n)}success(t,...e){this.log(this.options.success,t,...e)}error(t,...e){this.log(this.options.error,t,...e)}info(t,...e){this.log(this.options.info,t,...e)}},Va=(t=Ft.webview)=>t!==Ft.mini&&"undefined"!=typeof window&&"function"==typeof Worker,za=(t=Ft.webview)=>t!==Ft.mini&&"function"==typeof document.createElement("canvas").transferControlToOffscreen,Ga=()=>"undefined"!=typeof window&&void 0!==window.indexedDB&&!0,Ka=t=>{if("undefined"!=typeof window&&"function"==typeof Worker)try{const e=window.URL||window.webkitURL,n=e.createObjectURL(t),r=new Worker(n),i=()=>{n&&e.revokeObjectURL(n),r.terminate()},o=t=>{r.onmessage=e=>{t(e.data)}};return{postMessage:r.postMessage.bind(r),onMessage:o,terminate:i}}catch(t){Wa.info(`Workers: createWorker error message: ${t.message}, stack: ${t.stack}`)}else Wa.info("Workers: the env does not support web worker.")};class Za{constructor(t){this.name=void 0,this.disabled=void 0,this.loggerInfo=void 0,this.options={performance:"#00cca3",error:"#f81c1c",info:"#5091f3",warn:"#ffaa00"},this.setLoggerInfo=t=>{t&&(this.loggerInfo=t)},this.setLoggerDisabled=t=>{this.disabled=t},this.name=t,this.disabled=!1,this.loggerInfo=void 0}log(t,e,n,...r){if(!this.disabled&&"function"==typeof this.loggerInfo)try{const t=`%c ${this.name} Log: ${n}`,i=`background: ${e}; color: #FFFFFF; font-size: 16px`;this.loggerInfo({info:t,theme:i,args:{...r}})}catch(t){console.error(`%c ${this.name} Log: ${n}`,`background: ${e}; color: #FFFFFF; font-size: 16px`,t)}}success(t,...e){this.log("info",this.options.performance,t,...e)}error(t,...e){this.log("error",this.options.error,t,...e)}info(t,...e){this.log("log",this.options.info,t,...e)}warn(t,...e){this.log("warn",this.options.warn,t,...e)}}class Xa{constructor(t=async()=>{}){this.name=void 0,this.then=void 0,this.logger=void 0,this.debug=void 0;const e=(async()=>(await t(),delete this.then,this))();this.name=this.constructor.name,this.logger=new Za(this.name),this.then=e.then.bind(e),this.debug={isDevMode:!1}}}const qa=["Failed to execute 'shaderSource' on 'WebGL2RenderingContext'"];class Ja extends Xa{constructor(t){super(),this.stats=void 0,this.enablePageReload=void 0,this.platform=void 0,this.isMobile=void 0,this.props=void 0,this.env=void 0,this.pixelRatio=void 0,this.statsMode=void 0,this.antialias=void 0,this.useWorker=void 0,this.fitWidth=void 0,this.fitHeight=void 0,this.logarithmicDepthBuffer=void 0,this.preserveDrawingBuffer=void 0,this.map=void 0,this.oath=void 0,this.onGestureChange=void 0,this.onClickMapView=void 0,this.onScreenSnapshot=void 0,this.onGlobalError=void 0,this.onRenderContextLost=void 0,this.onRenderContextRestored=void 0,this.onContainerVisibilityChange=void 0,this.onContainerPageReload=void 0,this.visibility=void 0,this.eventTap=void 0,this.eventTapUp=void 0,this.eventTapMove=void 0,this.container=void 0,this.snapshotCanvas=void 0,this.offscreenCanvas=void 0,this.bgColor=void 0,this.d3BgColor=void 0,this.offsetLeft=void 0,this.offsetTop=void 0,this.canvasWidth=void 0,this.canvasHeight=void 0,this.canvasWidthHalf=void 0,this.canvasHeightHalf=void 0,this.scene=void 0,this.sceneOrtho=void 0,this.cameraOrtho=void 0,this.camera=void 0,this.renderer=void 0,this.controls=void 0,this.dragControls=void 0,this.transFormControls=void 0,this.rayCaster=void 0,this.ambientLight=void 0,this.lightTop=void 0,this.lightFront=void 0,this.lightBack=void 0,this.lightLeft=void 0,this.lightRight=void 0,this.frameId=void 0,this.globalEvents=void 0,this.animateFn=void 0,this.frameList=void 0,this.clickFn=void 0,this.clickFnUp=void 0,this.clickFnMove=void 0,this.controlStartFn=void 0,this.controlEndFn=void 0,this.controlChangeFn=void 0,this.dragPlane=void 0,this.mousePoint=void 0,this.worldPoint=void 0,this.offset=void 0,this.worldPosition=void 0,this.inverseMatrix=void 0,this.intersection=void 0,this.draggableObjects=void 0,this.interactive=void 0,this.enableLayerMoveable=void 0,this.zoomLevel=void 0,this.moving=void 0,this.isEnablePan=void 0,this.shouldRender=void 0,this.staticFps=void 0,this.clock=void 0,this.timeStart=void 0,this.snapshotWorker=void 0,this.rendererTarget=void 0,this.isThread=void 0,this.originFov=void 0,this.enhanceSkills=void 0,this.isWebGLContextLost=void 0,this.duringHeavyTask=void 0,this.initRenderer=()=>new Promise(((t,e)=>{var n;const r="function"==typeof(null==(n=this.container)?void 0:n.getContext)?{canvas:this.container}:{};this.renderer&&(this.removeCanvasWebGLEvent(),this.renderer.dispose());const i=()=>{var e;if(this.renderer=new $t.WebGLRenderer({...r,antialias:this.antialias,logarithmicDepthBuffer:this.logarithmicDepthBuffer,alpha:!0,preserveDrawingBuffer:this.preserveDrawingBuffer}),!this.renderer.domElement)return console.log("retry create renderer"),void setTimeout((()=>{i()}),500);this.renderer.autoClear=!1,this.renderer.setClearColor(16777215,0),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.logger.info("set rendering element size: width, height ==>",this.renderer.domElement.width,this.renderer.domElement.height),this.renderer.setPixelRatio(this.pixelRatio),this.logger.info("setPixelRatio width, height, pixelRatio ==>",this.container.clientWidth,this.container.clientHeight,this.pixelRatio),this.logger.info("renderer rendering element width, height ==>",this.renderer.domElement.width,this.renderer.domElement.height),this.rendererTarget=new $t.WebGLRenderTarget(this.renderer.domElement.width,this.renderer.domElement.height),"function"!=typeof(null==(e=this.container)?void 0:e.getContext)&&(this.container.appendChild(this.renderer.domElement),this.renderer.domElement.addEventListener("webglcontextlost",this.onContextLost,!1),this.renderer.domElement.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.renderer.domElement.addEventListener("webglcontextcreationerror",this.onContextCreateError,!1)),this.isWebGLContextLost=!1,t(this.renderer)};i()})),this.setPixelRatio=t=>{this.pixelRatio=t,this.renderer.setPixelRatio(this.pixelRatio)},this.setDuringHeavyTask=t=>{t?this.renderer.setRenderTarget(this.rendererTarget):this.renderer.setRenderTarget(null),this.duringHeavyTask=t},this.onError=t=>{var e,n;const r=null==(e=t.error)?void 0:e.stack;let i=null==(n=t.error)?void 0:n.toString();r&&(i+="\n"+r),this.logger.error("onError",t,i);let o=-1;if(qa.forEach(((t,e)=>{-1!==i.indexOf(t)&&(o=e)})),-1!==o&&this.enablePageReload){this.logger.error("Starting reload this page...");const t={info:qa[o],timestamp:(new Date).getTime()};this.onContainerPageReload(t),window.location.reload()}this.onGlobalError(i)},this.onUnhandledRejection=t=>{var e,n;let r=(null==(e=t.reason)?void 0:e.message)||t.reason;const i=null==(n=t.reason)?void 0:n.stack;i&&(r+="\n"+i),this.logger.error("onUnhandledRejection ==>",r)},this.detectWhiteScreenWithPixel=t=>{const e=new Set(t.data),n=Array.from(e);return 1===n.length&&0===n[0]},this.getCacheInstance=()=>this.cacheInstance,this.getUnionId=()=>this.uuid,this.getVisibility=()=>this.visibility,this.checkOathPermission=()=>!!this.oath.auth||(this.logger.warn("Oops !!! You do not have permission to call this API"),!1),this.updateEnhanceSkills=t=>{JSON.stringify(this.enhanceSkills)!==JSON.stringify(t)&&(this.enhanceSkills=this.props.enhanceSkills,this.oath.auth=this.ca(t))},this.ca=t=>{try{if(0===t.length)return!1;const e=Ea(_n(t));return"f3fc5bf162d5f6be5a003157cb41b30a"===Fa.MD5(e).toString().toLowerCase()}catch(t){return this.logger("3d authorization failed"),!1}},this.forceFpsImprove=()=>{this.staticFps=60,this.redraw()},this.forceFpsDownToStaticFps=t=>{this.staticFps=t||this.props.staticFps||60,this.redraw()},this.enableInteractive=t=>{this.interactive=t},this.enableLayerMoveableEvent=t=>{this.enableLayerMoveable=t},this.worldToScreen=t=>{const e=(new $t.Vector3).copy(t).project(this.camera);return new $t.Vector2(Math.round(e.x*this.canvasWidthHalf+this.canvasWidthHalf),Math.round(-e.y*this.canvasHeightHalf+this.canvasHeightHalf))},this.setPlane=()=>{const t=new $t.Vector3,e=new $t.Plane;return e.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(e.normal),t),e},this.updateEvent=t=>{let e={x:0,y:0};"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type?(this.mousePoint.x=(t.changedTouches[0].clientX-this.offsetLeft)/this.canvasWidth*2-1,this.mousePoint.y=-(t.changedTouches[0].clientY-this.offsetTop)/this.canvasHeight*2+1,e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}):(this.mousePoint.x=(t.clientX-this.offsetLeft)/this.canvasWidth*2-1,this.mousePoint.y=-(t.clientY-this.offsetTop)/this.canvasHeight*2+1,e={x:t.clientX,y:t.clientY}),t.mousePoint=this.mousePoint,t.mouseClient=e},this.rotateAngle=(t,e)=>180*Math.atan2(e.x-t.x,e.y-t.y)/Math.PI*.2,this.rotateAngleByLength=(t,e,n)=>{const r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)),o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=(Math.pow(r,2)+Math.pow(i,2)-Math.pow(o,2))/(2*r*i);return Math.round(180*Math.acos(a)/Math.PI)},this.calculateDirection=(t,e,n)=>{const r=(new $t.Vector2).copy(t).sub(n),i=(new $t.Vector2).copy(e).sub(n);return r.cross(i)},this.resize=()=>{this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.display="block",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.canvasWidth=this.container.clientWidth,this.canvasWidthHalf=this.canvasWidth/2,this.canvasHeight=this.container.clientHeight,this.canvasHeightHalf=this.canvasHeight/2,this.offsetLeft=We(this.container),this.offsetTop=Ve(this.container),this.renderer.setSize(this.canvasWidth,this.canvasHeight),this.renderer.setPixelRatio(this.pixelRatio),this.setSnapshotCanvasSize(this.snapshotCanvas),this.updateCameraAspect(),this.autoFitScreen(this.fitWidth,this.fitHeight),this.redraw(),Ya(`${this.getUnionId()}_mapResize`,{fov:this.camera.fov})},this.setSnapshotCanvasSize=t=>{this.isThread?(t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height):(t.width=this.renderer.domElement.width,t.height=this.renderer.domElement.height,t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height)},this.redraw=()=>{this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera)},this.onScreenSnapshotThreadEvt=t=>{this.logger.info("onScreenSnapshotThreadEvt",t),"update"===t.name&&this.onScreenSnapshot(t.snapshotImage)},this.receiveRemoveEvt=()=>{this.snapshotWorker&&(this.snapshotWorker.terminate(),this.snapshotWorker=void 0)},this.screenSnapshot=(t,e,n="unknown")=>{this.logger.info("It has started snapshot");try{this.isThread&&(this.snapshotWorker||(this.snapshotWorker=Ka(ja),this.offscreenCanvas=this.snapshotCanvas.transferControlToOffscreen(),this.snapshotWorker.postMessage({name:"init",parameters:{canvas:this.offscreenCanvas}},[this.offscreenCanvas])));let r={image:"",width:0,height:0,step:n},i=new Uint8Array(this.renderer.domElement.width*this.renderer.domElement.height*4);this.renderer.setRenderTarget(this.rendererTarget),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera),this.renderer.readRenderTargetPixels(this.rendererTarget,0,0,this.renderer.domElement.width,this.renderer.domElement.height,i);const o=new ImageData(new Uint8ClampedArray(i),this.renderer.domElement.width,this.renderer.domElement.height);if(this.renderer.setRenderTarget(null),!this.snapshotWorker||t){const t=document.createElement("canvas");t.width=this.renderer.domElement.width,t.height=this.renderer.domElement.height,t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height;const i=t.getContext("2d");null==i||i.clearRect(0,0,t.width,t.height),null==i||i.drawImage(this.renderer.domElement,0,0);const a=this.detectWhiteScreenWithPixel(o);if(this.logger.info("screenSnapshot captured a white picture ==>",a),!a){const e=t.toDataURL("image/png",1);r={image:e,width:t.width/this.pixelRatio,height:t.height/this.pixelRatio,step:n}}return e&&this.onScreenSnapshot(r),r}this.offscreenCanvas&&o?(this.snapshotWorker.onMessage(this.onScreenSnapshotThreadEvt),this.snapshotWorker.postMessage({name:"capture",parameters:{imageData:o,pixelRatio:this.pixelRatio,step:n,timestamp:(new Date).getTime()}})):(this.logger.info("screenSnapshot captured with worker did not executed"),e&&this.onScreenSnapshot(r))}catch(t){return this.logger.error("It has been occur an error on screenSnapshot ==>",t),{image:"",width:0,height:0}}},this.onClickObject=t=>{try{if(t=t||window&&window.event,!this.interactive)return;this.updateEvent(t);const e=new $t.Vector3(this.mousePoint.x,this.mousePoint.y,1);e.unproject(this.camera),this.rayCaster.setFromCamera(this.mousePoint,this.camera),this.rayCaster.params.Points.threshold=2,this.rayCaster.set(this.camera.position,e.sub(this.camera.position).normalize());const n=[this.globalEvents[this.eventTap],this.globalEvents[this.eventTapMove],this.globalEvents[this.eventTapUp]],r=this.getVisibleList(n),i=this.rayCaster.intersectObjects(r,!0);if(i.length>0){this.controls.enablePan=!1;let e=0;const n=i.findIndex((t=>{var e;return!0!==(null==(e=t.object)||null==(e=e.userData)?void 0:e.enableFilter)}));-1!==n&&(e=n);let r=i[e].object;this.intersection=r,this.intersection.clickPoint=i[e].point;let o=this.intersection;this.intersection.draggerEnable=!0,this.intersection.type===It.indoorMapPoints&&(this.controls.enablePan=!0),this.isEnablePan&&(this.controls.enablePan=!0),this.intersection.parent&&this.intersection.parent.type===It.indoorMapWrapper&&(o=this.intersection.parent,o.childCopy=this.intersection),this.emitClickEvent(o),!this.intersection.parent||this.intersection.parent.type!==It.indoorMapWrapper&&this.intersection.parent.type!==It.indoorMapModel&&this.intersection.parent.type!==It.indoorMapInfoWindow&&this.intersection.parent.type!==It.indoorMapCustomLayer?this.intersection&&this.intersection[this.eventTap]&&this.intersection[this.eventTap].callback&&(0,this.intersection[this.eventTap].callback)(this.intersection,t,this.eventTap):(0,this.intersection.parent[this.eventTap].callback)(o,t,this.eventTap)}else this.onClickMapView({eventType:this.eventTap,data:{extend:null}})}catch(t){this.logger.error("onClickObject ==>",t)}},this.emitClickEvent=t=>{try{this.dragPlane.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(this.dragPlane.normal),this.worldPosition.setFromMatrixPosition(t.matrixWorld)),this.rayCaster.ray.intersectPlane(this.dragPlane,this.worldPoint)&&t.parent&&t.parent.matrixWorld&&(this.inverseMatrix.copy(t.parent.matrixWorld).invert(),this.offset.copy(this.worldPoint).sub(this.worldPosition.setFromMatrixPosition(t.matrixWorld)))}catch(t){this.logger.error("emitClickEvent",t)}},this.emitMoveEvent=(t,e)=>{try{let n=t;e&&(t.childCopy=e,n=e);const r=this.worldPoint.sub(this.offset).applyMatrix4(this.inverseMatrix);r.x=Math.round(r.x),r.y=Math.round(r.y),r.z=Math.round(r.z),t.beforePosition=(new $t.Vector3).copy(n.position),t.position.copy(r)}catch(t){this.logger.error("emitMoveEvent",t)}},this.getVisibleList=t=>{const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(const t in i){const r=i[t].object3d,o=i[t].eventType;var n;if(r[o]||(r[o]={}),r&&i[t].callback&&(r[o].callback=i[t].callback),r.visible&&(null==(n=r.userData)||!n.enableFilter))if(0===e.length)r.type===It.indoorMapPoints?r.geometry&&e.push(r):e.push(r);else{let t=!1;e.forEach((e=>{e.uuid===r.uuid&&(t=!0)})),t||(r.type===It.indoorMapPoints?r.geometry&&e.push(r):e.push(r))}}}return e},this.dispatchEvent=t=>{const e=this;Object.assign(t,{$on(t,n){e.globalEvents.hasOwnProperty(t)&&(e.globalEvents[t][this.id]={object3d:this,eventType:t,callback:n})},$off(t){if(!t)throw new Error("");e.globalEvents.hasOwnProperty(t)&&delete e.globalEvents[t][this.id]}})},this.sceneRender=(t=!0)=>{this.shouldRender=t,this.shouldRender&&this.resize()},this.checkIfIsContainerValid=()=>0===this.container.clientWidth||0===this.container.clientHeight,this.animate=()=>{if(this.frameId=requestAnimationFrame(this.animate),!this.shouldRender)return;if(this.isWebGLContextLost)return;if(this.duringHeavyTask)return;const t=this.clock.getDelta();this.timeStart=this.timeStart+t,this.timeStart>1/this.staticFps&&(this.stats&&this.stats.begin(),this.animateFn.forEach((t=>{"function"==typeof t.fn&&t.fn()})),this.controls.update(),He.update(),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera),this.timeStart=0,this.stats&&this.stats.end())},this.registerAnimateFn=(t,e)=>(this.animateFn.push({fnId:e,fn:t}),this.animateFn.length-1),this.removeAnimateFn=t=>{if(-1===t){const t=this.animateFn.length;return this.animateFn.length=0,this.animateFn=[],t}return this.animateFn.splice(t,1)},this.removeAnimateFnByFnId=t=>{this.animateFn.forEach(((e,n)=>{e.fnId===t&&this.animateFn.splice(n,1)}))},this.cancelAnimation=()=>{cancelAnimationFrame(this.frameId),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.renderLists.dispose(),this.renderer.dispose(),this.controls.dispose(),this.scene.clear(),this.resetGlobalEvents(),this.renderer.forceContextLoss(),this.renderer.domElement=null,this.renderer.content=null,this.renderer=null,this.scene=null,this.camera=null,this.lightFront=null,this.lightBack=null,this.dragPlane=null,this.rayCaster=null,$t.Cache.clear()},this.getMemoryInfo=()=>{const t=performance||window.performance;if(t&&t.memory){const{jsHeapSizeLimit:e,usedJSHeapSize:n,totalJSHeapSize:r}=t.memory;return{jsHeapSizeLimit:e,usedJSHeapSize:n,totalJSHeapSize:r,usePercentage:(n/e*100).toFixed(2)}}return this.logger.info("The program env does not support to get memory information"),{jsHeapSizeLimit:0,usedJSHeapSize:0,totalJSHeapSize:0,usePercentage:0}},this.setAxes=t=>{if(void 0!==t&&"number"!=typeof t)return null;const e=t||250,n=new $t.AxesHelper(e);n.type=It.indoorMapAxes,this.scene.add(n),this.redraw()},this.removeAxes=()=>this.scene?((t,e,n)=>{for(var r,i=null,o=t.children.length-1;o>=0;o--)(r=t.children[o])&&(null==n?r.type===e&&(null===i&&(i=0),i++,Ge(r),t.remove(r)):r.type===e&&r.class===n&&(null===i&&(i=0),i++,Ge(r),t.remove(r)));return i})(this.scene,It.indoorMapAxes):null,this.zoom=t=>{this.camera.position.z=100*t},this.setTopScene=()=>{this.controls.reset(),this.controls.maxPolarAngle=Ke.minAngle,this.controls.rotateUp(this.controls.maxPolarAngle),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=100*this.zoomLevel,this.controls.maxPolarAngle=0,this.resize()},this.rotateViewScene=t=>{t<0?this.controls.rotateLeft(-t):this.controls.rotateRight(t),this.resize()},this.rotateViewLeft=t=>{const e=t/(Math.PI/180);Math.abs(e)%90==0?(this.controls.rotateLeft(t),this.resize()):this.logger.warn("The input rotation angle must be an integer multiple of 90 degrees")},this.rotateViewRight=()=>{const t=rotateAngle/(Math.PI/180);Math.abs(t)%90==0?(this.controls.rotateRight(rotateAngle),this.resize()):this.logger.warn("The input rotation angle must be an integer multiple of 90 degrees")},this.setSideScene=()=>{this.controls.maxPolarAngle=Ke.defaultAngle,this.controls.rotateDown(this.controls.maxPolarAngle),this.controls.rotateRight(45*Math.PI/180),this.resize()},this.setIsEnablePan=t=>{this.isEnablePan=t,this.controls.enablePan=t},this.enable3dControls=t=>{this.controls.enableRotate=t,t?(this.controls.mouseButtons={LEFT:$t.MOUSE.PAN,MIDDLE:$t.MOUSE.DOLLY,RIGHT:$t.MOUSE.ROTATE},this.controls.touches={ONE:$t.TOUCH.PAN,TWO:$t.TOUCH.DOLLY_ROTATE}):(this.controls.mouseButtons={LEFT:$t.MOUSE.PAN,MIDDLE:$t.MOUSE.DOLLY,RIGHT:$t.MOUSE.ROTATE},this.controls.touches={ONE:$t.TOUCH.PAN,TWO:$t.TOUCH.DOLLY_PAN})},this.onVisibility=()=>{let t={};document.hidden?(this.visibility=!1,t={info:"container has been enter background",timestamp:(new Date).getTime()},this.logger.info("The Container has been enter background")):(this.visibility=!0,t={info:"container has been enter foreground",timestamp:(new Date).getTime()},this.logger.info("The Container has been enter foreground")),this.onContainerVisibilityChange(t)},this.onContextLost=t=>{t.preventDefault();const e={info:"context lost",timestamp:(new Date).getTime()};this.isWebGLContextLost=!0,this.onRenderContextLost(e),this.renderer.forceContextRestore(),setTimeout((()=>{this.isWebGLContextLost&&(this.debug.isDevMode&&this.logger.error("reset to an new renderer"),this.initRenderer())}),500),this.logger.error("onContextLost ==>",e)},this.onContextRestored=t=>{t.preventDefault(),this.resize();const e={info:"context restored",timestamp:(new Date).getTime()};this.isWebGLContextLost=!1,this.onRenderContextRestored(e),this.logger.error("onContextRestored ==>",e)},this.onContextCreateError=t=>{t.preventDefault();const e={info:"context create error",timestamp:(new Date).getTime()};this.logger.error("onContextCreateError ==>",e)},this.changeContainerColor=t=>{this.container.style.background=t},this.setD3ViewMode=t=>{t?(this.changeContainerColor(this.d3BgColor),this.enable3dControls(!0),this.setSideScene()):(this.changeContainerColor(this.bgColor),this.enable3dControls(!1),this.setTopScene())},this.calcFov=(t,e,n)=>{let r=e;return n<1&&(r/=n),2*Math.atan(r/t/2)*(180/Math.PI)},this.autoFitScreen=(t,e)=>{this.fitWidth=t,this.fitHeight=e;let n=this.fitWidth>this.fitHeight?this.fitWidth:this.fitHeight;n<235&&(n=235),this.camera.fov=Math.ceil(this.calcFov(100*this.zoomLevel,n,this.canvasWidth/this.canvasHeight)),this.updateCameraAspect()},this.updateCameraAspect=()=>{this.camera.aspect=this.canvasWidth/this.canvasHeight,this.camera.updateProjectionMatrix()},this.getFitScale=()=>{if(this.camera.fov>20){let t=Math.ceil(this.camera.fov/20*this.camera.aspect);return t>1.5&&(t/=1.5),isNaN(t)?1:t}return 1},this.setBgColor=(t="#F5F5F5")=>{this.bgColor=t,this.changeContainerColor(this.bgColor)},this.setD3BgColor=(t="#EBF6FD")=>{this.d3BgColor=t,this.changeContainerColor(this.d3BgColor)},this.removeCanvasWebGLEvent=()=>{this.renderer.domElement&&(this.renderer.domElement.removeEventListener("webglcontextlost",this.onContextLost,!1),this.renderer.domElement.removeEventListener("webglcontextrestored",this.onContextRestored,!1),this.renderer.domElement.removeEventListener("webglcontextcreationerror",this.onContextCreateError,!1))},this.removeIndoorMap2DEvent=()=>{var t;"function"==typeof(null==(t=this.container)?void 0:t.getContext)?(this.container.removeEventListener("webglcontextlost",this.onContextLost,!1),this.container.removeEventListener("webglcontextrestored",this.onContextRestored,!1),this.container.removeEventListener("webglcontextcreationerror",this.onContextCreateError,!1)):this.removeCanvasWebGLEvent(),this.snapshotWorker&&(this.snapshotWorker.terminate(),this.snapshotWorker=void 0),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("resize",this.resize,!1),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("error",this.onError,!1),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("unhandledrejection",this.onUnhandledRejection,!1),Qa(`${this.getUnionId()}_animationFrame`),this.controls.removeEventListener("start",this.controlStartFn),this.controls.removeEventListener("change",this.controlChangeFn),this.controls.removeEventListener("end",this.controlEndFn),this.container.removeEventListener(this.eventTap,this.clickFn,!1),this.container.removeEventListener(this.eventTapUp,this.clickFnUp,!1),this.container.removeEventListener(this.eventTapMove,this.clickFnMove,!1),document.removeEventListener("visibilitychange",this.onVisibility,!1)},this.setGestureEnable=t=>{this.controls&&(this.controls.enable=t,this.controls.update())},this.resetGlobalEvents=()=>{this.globalEvents={mousedown:{},mousemove:{},mouseup:{},touchstart:{},touchmove:{},touchend:{}}},this.props=t}async init(){var t;const{props:e}=this;this.logger.setLoggerInfo(e.onLoggerInfo),this.uuid=`uuid_${(new Date).getTime()}}`,this.onGestureChange=e.onGestureChange||(()=>{this.logger.warn("It seems not setup onGestureChange function")}),this.onClickMapView=e.onClickMapView||(()=>{this.logger.warn("It seems not setup onClickMapView function")}),this.onGlobalError=e.onGlobalError||(()=>{this.logger.warn("It seems not setup onGlobalError function")}),this.onScreenSnapshot=e.onScreenSnapshot||(()=>{this.logger.warn("It seems not setup onScreenSnapshot function")}),this.onRenderContextLost=e.onRenderContextLost||(()=>{this.logger.warn("It seems not setup onRenderContextLost function")}),this.onRenderContextRestored=e.onRenderContextRestored||(()=>{this.logger.warn("It seems not setup onRenderContextRestored function")}),this.onContainerVisibilityChange=e.onContainerVisibilityChange||(()=>{this.logger.warn("It seems not setup onContainerVisibilityChange function")}),this.onContainerPageReload=e.onContainerPageReload||(()=>{this.logger.warn("It seems not setup onContainerPageReload function")}),window&&"function"==typeof window.addEventListener&&window.addEventListener("error",this.onError,!1),window&&"function"==typeof window.addEventListener&&window.addEventListener("unhandledrejection",this.onUnhandledRejection,!1),this.enablePageReload=void 0!==e.enablePageReload&&e.enablePageReload,this.enhanceSkills=e.enhanceSkills||[],this.oath={auth:this.ca(this.enhanceSkills||[])},this.platform=void 0!==e.platform?e.platform:Pt.ios,this.env=void 0!==e.env?e.env:Ft.webview,this.shouldRender=!0,this.staticFps=e.staticFps||60,this.useWorker=void 0===e.useWorker||e.useWorker,this.isThread=Va(this.env)&&za(this.env),this.clock=new $t.Clock,this.timeStart=0,this.fitWidth=0,this.fitHeight=0,this.statsMode=void 0!==e.statsMode?e.statsMode:-1,this.antialias=void 0===e.antialias||e.antialias,this.isMobile=void 0!==e.isMobile?e.isMobile:yn.mobile,this.preserveDrawingBuffer=void 0===e.preserveDrawingBuffer||e.preserveDrawingBuffer,this.logarithmicDepthBuffer=void 0===e.logarithmicDepthBuffer||e.logarithmicDepthBuffer,this.interactive=!0,this.enableLayerMoveable=!0,this.zoomLevel=9,this.draggableObjects=[],this.dragPlane=new $t.Plane,this.mousePoint=new $t.Vector2,this.offset=new $t.Vector3,this.worldPosition=new $t.Vector3,this.inverseMatrix=new $t.Matrix4,this.worldPoint=new $t.Vector3,this.animateFn=[],this.frameList=[],this.visibility=!0,this.globalEvents={mousedown:{},mousemove:{},mouseup:{},touchstart:{},touchmove:{},touchend:{}},this.bgColor="#F5F5F5",this.d3BgColor="#EBF6FD",this.frameId=0,this.moving=!1,this.duringHeavyTask=!1,this.pixelRatio=e.pixelRatio||window&&window.devicePixelRatio||1,this.container=e.container||e.canvas,this.snapshotCanvas=document.createElement("canvas"),0!==this.container.clientWidth&&0!==this.container.clientHeight||this.logger.warn("the container width or height must not be zero"),this.offsetLeft=We(this.container),this.offsetTop=Ve(this.container),this.canvasWidth=this.container.clientWidth,this.canvasHeight=this.container.clientHeight,this.canvasWidthHalf=this.container.clientWidth/2,this.canvasHeightHalf=this.container.clientHeight/2,this.scene=new $t.Scene,this.eventTap=this.isMobile&&"ontouchstart"in window?"touchstart":"mousedown",this.eventTapUp=this.isMobile&&"ontouchstart"in window?"touchend":"mouseup",this.eventTapMove=this.isMobile&&"ontouchstart"in window?"touchmove":"mousemove",this.logger.info("SDK Version ==>","0.1.0-beta-2"),this.logger.info("Browser Version ==>",yn.ver),this.logger.info("Mobile Env ==>",this.isMobile),this.logger.info("Thread Env ==>",Va(this.env)),this.logger.info("isSupportOffScreenRender Env ==>",za(this.env)),this.logger.info("isSupportFunctionCallee Env ==>",((t=Ft.webview)=>t!==Ft.mini&&"undefined"!=typeof window&&"function"==typeof Function)(this.env)),this.logger.info("isSupportLocalCache Env ==>",Ga()),this.camera=new $t.PerspectiveCamera(20,this.canvasWidth/this.canvasHeight,.1,5e3),this.originFov=this.camera.fov,this.isWebGLContextLost=!1,await this.initRenderer(),this.controls=new je(this.camera,this.container),this.controls.enable=!0,this.controls.enableZoom=!0,this.controls.maxPolarAngle=Ke.minAngle,this.controls.maxDistance=2500,this.controls.minDistance=100,this.enable3dControls(!1),this.controlStartFn=()=>{this.duringHeavyTask&&this.renderer.setRenderTarget(null),this.resize(),this.moving=!0,this.forceFpsImprove(),Ya(`${this.getUnionId()}_mapMoving`,{moving:!0}),this.onGestureChange(!0)},this.controlChangeFn=()=>{this.duringHeavyTask&&this.redraw()},this.controlEndFn=()=>{this.moving=!1,this.forceFpsDownToStaticFps(),Ya(`${this.getUnionId()}_mapMoving`,{moving:!1}),this.onGestureChange(!1)},this.controls.addEventListener("start",this.controlStartFn),this.container.addEventListener("change",this.controlChangeFn),this.controls.addEventListener("end",this.controlEndFn),Ha(`${this.getUnionId()}_animationFrame`,(t=>{const{status:e=1,frameAnimationId:n=0}=t,r=this.frameList.findIndex((t=>t.frameAnimationId===n));1===e?-1===r&&this.frameList.push(t):0===e&&this.frameList.length>0&&r>0&&this.frameList.splice(r,1),this.frameList.length>0&&(this.staticFps=this.props.staticFps<30?60:this.props.staticFps),0===this.frameList.length&&(this.staticFps=this.props.staticFps||60),this.logger.info("Receive animation frame frameList, staticFps ==> ",this.frameList,this.staticFps)})),this.ambientLight=new $t.AmbientLight(16382459,1),this.scene.add(this.ambientLight),this.lightTop=new $t.SpotLight(16382459,.5),this.lightTop.position.set(0,500,0),this.scene.add(this.lightTop),this.rayCaster=new $t.Raycaster,this.clickFn=t=>{this.interactive&&this.onClickObject(t)},this.clickFnUp=t=>{this.controls.enablePan=!0,this.interactive&&this.intersection&&(this.updateEvent(t),this.intersection[this.eventTapUp]&&(0,this.intersection[this.eventTapUp].callback)(this.intersection,t,this.eventTapUp),this.intersection&&(this.intersection.transformRotate=!1),this.intersection&&(this.intersection.draggerEnable=!1),this.intersection=null)},this.clickFnMove=t=>{try{if(!this.interactive)return;if(!this.intersection)return;if(!this.enableLayerMoveable)return;if(this.updateEvent(t),this.intersection.draggerEnable){if(this.rayCaster.setFromCamera(this.mousePoint,this.camera),this.rayCaster.ray.intersectPlane(this.dragPlane,this.worldPoint)){if(this.intersection.type===It.indoorMapStable||this.intersection.type===It.indoorMapPoints||this.intersection.type===It.indoorMapTextLayer||this.intersection.type===It.indoorMapSplitLineLayer||this.intersection.type===It.indoorMapPolygonLineLayer||this.intersection.type===It.indoorMapMaterialLayer||this.intersection.type===It.indoorMapModel||this.intersection.type===It.indoorMapImgCloud||this.intersection.type===It.indoorMapDashEditLine||this.intersection.type===It.indoorMapFilter)return;if(this.intersection.parent&&this.intersection.parent.type===It.indoorMapWrapper){const e=this.intersection.parent;this.intersection.disableInnerDragger||this.emitMoveEvent(e,this.intersection),(0,this.intersection.parent[this.eventTapMove].callback)(e,t,this.eventTapMove)}else this.intersection.disableInnerDragger||this.emitMoveEvent(this.intersection)}this.intersection[this.eventTapMove]&&this.intersection[this.eventTapMove].callback&&(0,this.intersection[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove)}this.intersection.intersectionCopy&&this.intersection.intersectionCopy.draggerEnable&&this.intersection.intersectionCopy[this.eventTapMove]&&this.intersection.intersectionCopy[this.eventTapMove].callback&&(0,this.intersection.intersectionCopy[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove),this.intersection.transformRotate&&this.intersection[this.eventTapMove]&&this.intersection[this.eventTapMove].callback&&(0,this.intersection[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove)}catch(t){this.logger.error("clickFnMove ==>",t)}},this.container.addEventListener(this.eventTap,this.clickFn,!1),this.container.addEventListener(this.eventTapUp,this.clickFnUp,!1),this.container.addEventListener(this.eventTapMove,this.clickFnMove,!1),"function"==typeof(null==(t=this.container)?void 0:t.getContext)&&(this.container.addEventListener("webglcontextlost",this.onContextLost,!1),this.container.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.container.addEventListener("webglcontextcreationerror",this.onContextCreateError,!1)),document.addEventListener("visibilitychange",this.onVisibility,!1),this.platform===Pt.ios&&(document.documentElement.style.webkitUserSelect="none",document.documentElement.style.webkitTouchCallout="none"),this.statsMode>0&&(this.stats=new Da(this.pixelRatio,this.eventTap),this.stats.showPanel(this.statsMode),this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",this.stats.domElement.style.right="0px",this.stats.domElement.style.left="inherit",this.container.appendChild(this.stats.domElement)),window&&"function"==typeof window.addEventListener&&window.addEventListener("resize",this.resize,!1),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.display="block",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.snapshotCanvas.style.width=this.renderer.domElement.style.width,this.snapshotCanvas.style.height=this.renderer.domElement.style.height,this.snapshotCanvas.width=this.renderer.domElement.width,this.snapshotCanvas.height=this.renderer.domElement.height,this.animate()}}const $a=t=>{if(Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].x=t[e].x,t[e].y=-t[e].y;else t.x=t.x,t.y=-t.y},ts=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),es=(t,e)=>(t/10**e).toFixed(e),ns=["touchstart","touchmove","touchend","mousedown","mousemove","mouseup"];class rs extends Xa{constructor(){super(),this.layer=void 0,this.storage=void 0,this.bytesMemory=void 0,this.colorCache=void 0,this.dataInfo=void 0,this.paramsCache=void 0,this.estimateBytesUsedOnLayer=t=>{try{if(null!==t){if(t.children)for(let e=0;e<t.children.length;e++)this.estimateBytesUsedOnLayer(t.children[e]);t.geometry&&(this.bytesMemory+=function(t){let e=0;for(const n in t.attributes){const r=t.getAttribute(n);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}(t.geometry))}}catch(t){this.logger.error("estimateBytesUsedOnLayer function occur error ==>",t)}},this.getUsedMemory=()=>(this.bytesMemory=0,this.estimateBytesUsedOnLayer(this.layer),(this.bytesMemory/1048576).toFixed(1)),this.computed=()=>{this.layer&&this.layer.userData&&(this.layer.userData={...this.layer.userData,storage:{...this.storage}})},this.setStorage=t=>{this.storage={...this.storage,...t},this.computed()},this.setStorageByKey=(t,e)=>{this.storage={...this.storage,[t]:e},this.computed()},this.clearStorage=()=>{this.storage={}},this.getStorageByKey=t=>this.storage[t],this.getStorage=()=>this.storage,this.getUserData=()=>{var t;return(null==(t=this.layer)?void 0:t.userData)||{}},this.getDataInfo=()=>this.dataInfo,this.setDataInfo=t=>{this.dataInfo=t},this.setParamsCache=t=>{this.paramsCache=t},this.getParamsCache=()=>this.paramsCache,this.remove=()=>{try{if(this.layer){const t="function"==typeof this.layer.removeFromParent&&this.layer.removeFromParent();if(this.disposeEvent(this.layer),this.dispose(),t)return t.id}return-1}catch(t){this.logger.error("remove function occur error ==>",t)}},this.dispatchScope=t=>{t.scope=this},this.disposeEvent=t=>{try{if(null!==t){if(t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.disposeEvent(t.children[e]);"function"==typeof t.$off&&ns.forEach((e=>t.$off(e)))}}catch(t){this.logger.error("disposeEvent occur error ==>",t)}},this.dispose=()=>{this.dealloc(this.layer),this.layer.userData={},this.layer=null},this.dealloc=t=>{try{if(null!==t){if("function"==typeof t.removeFromParent&&t.removeFromParent(),t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.dealloc(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&(t.material.bumpMap.dispose(),t.material.bumpMap=void 0),t.material.envMap&&(t.material.envMap.dispose(),t.material.envMap=void 0),t.material.lightMap&&(t.material.lightMap.dispose(),t.material.lightMap=void 0),t.material.map&&(t.material.map.dispose(),t.material.map=void 0),t.material.normalMap&&(t.material.normalMap.dispose(),t.material.normalMap=void 0),t.material.specularMap&&(t.material.specularMap.dispose(),t.material.specularMap=void 0),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t&&"function"==typeof t.dispose&&t.dispose(),t&&"function"==typeof t.clear&&t.clear()}catch(t){this.logger.error("dealloc function occur error ==>",t)}},this.argb2Rgb=t=>{if(!this.colorCache[t]){const e=new $t.Color;if(t&&9===t.length&&0===t.indexOf("#")){const n=parseInt(t.substring(1),16),r=n>>>24,i=n>>16&255,o=n>>8&255,a=255&n;e.setRGB(Math.floor(i/2.55)/100,Math.floor(o/2.55)/100,Math.floor(a/2.55)/100);const s={colorFormat:e,alpha:Math.floor(r/2.55)/100};this.colorCache[t]=s}else{e.setRGB(1,1,1);const n={colorFormat:e,alpha:1};this.colorCache[t]=n,this.debug.isDevMode&&this.logger.error("argb2Rgb occur an unexpected format value")}}return this.colorCache[t]},this.calcHorizontalOnBase=(t,e,n,r)=>{let i=[],o=[],a=[];if(t.length<2)return t;a.push({x:2*t[0].x-t[1].x,y:2*t[0].y-t[1].y}),a.push(t[0]);for(let n=1,r=t.length-1;n<r;n++)Math.pow(t[n].y-t[n-1].y,2)+Math.pow(t[n].x-t[n-1].x,2)>e*e&&a.push(t[n]);a.push(t[t.length-1]),a.push({x:2*t[t.length-1].x-t[t.length-2].x,y:2*t[t.length-1].y-t[t.length-2].y});for(let t=1,n=a.length-1;t<n;t++){let n=a[t-1].x,r=a[t-1].y,s=a[t].x,l=a[t].y,c=a[t+1].x,u=n-s,A=r-l,h=s-c,d=l-a[t+1].y,p=0,f=0;0===h?(p=-Math.PI/2,d<0&&(p=-p)):p=Math.atan(d/h),0===u?(f=-Math.PI/2,A<0&&(f=-f)):f=Math.atan(A/u),c<s&&(p+=Math.PI),s<n&&(f+=Math.PI);let m=(f-p-Math.PI)/2,g=p+m,y=e/Math.sin(m),v=y*Math.cos(g),_=y*Math.sin(g),w=s+v,b=l+_,x=s-v,M=l-_;i.push({x:w,y:b}),o.push({x:x,y:M})}let s=i.concat(o.reverse());return s.push(i[0]),s=s.map((t=>({x:parseFloat(t.x.toFixed(2)),y:parseFloat(t.y.toFixed(2))}))),s},this.calculateCoordinatesBetweenPoints=(t,e,n,r,i)=>{const o=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y),s=t.x<e.x?1:-1,l=t.y<e.y?1:-1;let c=o-a,u=t.x,A=t.y;for(;i.push({x:u,y:A,colorHex:r,isRoom:n}),u!==e.x||A!==e.y;){const t=2*c;t>-a&&(c-=a,u+=s),t<o&&(c+=o,A+=l)}},this.calculateFlatVector3BetweenPoints=(t,e,n)=>{const r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y),o=t.x<e.x?1:-1,a=t.y<e.y?1:-1;let s=r-i,{x:l}=t,{y:c}=t;for(;n.push(l,c,0),l!==e.x||c!==e.y;){const t=2*s;t>-i&&(s-=i,l+=o),t<r&&(s+=r,c+=a)}},this.layer=null,this.storage={},this.bytesMemory=0,this.dataInfo={},this.paramsCache={},this.colorCache={}}}class is extends rs{constructor(t){super(),this.params=void 0,this.lineLayer=void 0,this.createCurveLines=t=>{const e=new $t.ArcCurve(0,0,t.radius,0,2*Math.PI).getPoints(50),n=t.lineParams.lineWidth,r=t.lineParams.lineColor,i=t.lineParams.dashSize,o=t.lineParams.gapSize,a=t.lineParams.isDash,s=t.lineParams.opacity,l=new $t.BufferGeometry;l.setFromPoints(e);let c=null;c=a?new $t.LineDashedMaterial({color:r,linewidth:n,dashSize:i,gapSize:o,opacity:s}):new $t.LineBasicMaterial({color:r,linewidth:n,opacity:s});const u=new $t.Line(l,c);return u.position.z=1,this.lineLayer=u,this.dispatchScope(u),u.type=It.indoorMapCircleLineLayer,u.computeLineDistances(),u},this.createCircles=t=>{const e=t.radius,n=t.segments,r=new $t.CircleGeometry(e,n),i=t.depthWrite,o=new $t.MeshBasicMaterial({color:t.color,transparent:t.transparent,opacity:t.opacity,depthWrite:i}),a=new $t.Mesh(r,o);a.position.set(t.point.x,t.point.y,t.height),a.type=It.indoorMapCircleLayer,this.dispatchScope(a);const s=this.createCurveLines(t);return a.add(s),a},this.updateCircleLayerPosition=t=>{var e;null==(e=this.layer)||e.position.set(t.x,-t.y,this.params.height)};const e=ra({color:"#000000",opacity:.3,transparent:!0,showLine:!0,depthWrite:!0,lineParams:{lineWidth:1,isDash:!0,dashSize:1.5,gapSize:1,lineColor:"#FFFFFF",opacity:1},height:2,radius:30,segments:100,point:{x:40,y:40}},t);$a(e.point),this.params=e,this.layer=this.createCircles(e)}}class os extends rs{constructor(t){super(),this.position=void 0,this.origin=void 0,this.bgColor=void 0,this.borderColor=void 0,this.createNearCircle=t=>{const{colorFormat:e,alpha:n}=this.argb2Rgb(this.bgColor),{colorFormat:r,alpha:i}=this.argb2Rgb(this.borderColor),o={color:e,opacity:n,point:{x:t.position.x+this.origin.x,y:t.position.y+this.origin.y},radius:20,lineParams:{lineColor:r,opacity:i}};return new is(o).layer},this.updateNearCirclePosition=t=>{this.layer.scope.updateCircleLayerPosition({x:t.x+this.origin.x,y:t.y+this.origin.y})},this.hideNearCircle=t=>{this.layer.visible=!t},this.removeNearCircle=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.position=t.position,this.origin=t.origin||{x:0,y:0},this.bgColor=t.bgColor||"#4d000000",this.borderColor=t.borderColor||"#FFFFFFFF",this.layer=this.createNearCircle(t)}}var as="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAM+ElEQVR4Ad1cXWhdWRU+N0mTpk3SSTJTcGbwJ2m1jJ1aEUXKiKXaTvFhHoQyKIoFkSkICqNYCs6T+tARZnR0tK3MQLEv1j4UH0oLpQzOVAISsa1YmTQtdOKMVtL0J/1Nk7i+0/Odrrvv2ufv3nvS3A0na+29115rfd/d+5x9zj25lWDhS6XBKcw32F8ud40Gkxa87HjMpzSSywCYJ0YeW5IFmYewPLY6Ria9KIAsztN8W/1WW5ZYFklWm/aV1q9tM+tFASQFSPOp+306/et+tkFaZOg2n659UNe2bCssfQkXcZjkS/dZutWWNQdNCHVK+PDprn9t5/ZlrmsgmQc5hkk+dB91U54+ffrJoaGhDUuWLFnT3t7+8ba2tlUSZ6BSqfSI7I1iXp+fn58W/fLc3Ny52dnZd2dmZv51/vz5v6xbt24isiExPgkz9kVDqkRSX5VhMyogxzrapJ1Hu+g4OuRYEh2dGzduXDo5Obn17t27vxNyxoSougp8wBd8wrfE6VTxEJt5MC9IK3d+4NJdbvElw4QJoIrIM2fODN+5c+fnwt57dTGYPPg9xEAsoSSNWB+OUtm0kkgkcmxs7CmZQW8KD3eTuWhor4S8+yZiFyS2FFLTyMSM5KzsPHjw4ICAelVommkoVfmczSAH5KKIZZ5YSZwMFramkWoFQxuTQWIxkaJ3XblyZZvgnsiHvanWE8gJucnBUwFyTiMVOBteLEJBJpKpInP37t29MiN+21Rq6nCO3JCj5O2SSmItrA0l1Apgkdk1Ojq6Sq64f6sDbylDkSNyFZYwW7H74ExtOqlZyMQn3XXhwoX1kujDtMQTPxzkipwjUoGh6aSmkYlPNiTz4sWLX5DsJxMRPJydk8hdkQpMPI1hFVocSHP+Yjlyl3lIpmxLPr1IyeRHPAkMQhEvVk2ZqS6hIJOEImBIZnTOXDTLnAy6EstfnVP18idul49cU9QdTKf6at61c+fOFTi5u8kt1jqwAFM0U/WFivhdXjKT6g7UMxOBsDSW3r59e89iJc+XNzABW4TRJdXlRcyqC4hyCwbp4joJ6/IQ4rmurq4XtGEr6MAEbILFxO1gdLkKz4mOTVXVHRAG2bt3b09/f/+rVZYtVAE2YBRIJFWjcznRfTU6HVBaS71blsUvfEumVdqBUdjplsPd+IMT8kMZE2kteXbCmIUDK6dOnRqWZfFddrSqBEZgFXwxdoVVc6Oa72+D2GAZ0RlsQn3NmjU/FB3bplYvHRHWGg4M4DF3vhkaG8hgOqyMjIw82dnZ+XXDYa6m0f/MBz87ORu89tfZ4NLNXEMTjSdvBcFvRmeDl0dmg3/8r/5vMoAVmCVozIFKQHMUN+tGV9dOQHzbzZs3f9rd3f1iPLqAAjJ/cHwmHtnXVQle+XJHsKpfh4+7MyvnpuaDF4/fC67deUDkr59dEqx9rD6/t27demXZsmU/lkTmogMB9MEcw8CcoTqqq6NekS/B2pYuXfo8RxeVR8eR14MCAkAECClaLDLh64gTq4h/YAZ2GRvyEEm6crnybps4GAND/ciRIxvlG8gn6Kmo7MFNnVPqIdVHJkL0YFteZwFmYBc3NZxYrjlDrT600UllcHDwqz6jPO1f+2R7gGXuliKkJpGJGM8/hTvl+kuEPeYiyaNLqEaqHVTkBP3FJEdZ+1YuC8JzZr2kppGJ8/IgdpENKBH2Kj6UW82ZueQ5MB5z/PjxJ+TFA+zJGlJwAQLgoqRmIbPei5wGCuzgQLeJXsMT+nmydWzDKgfggrTBMqinrSipZZNJjBEHMSdsd2TFXfLsx0CU0IFsGz5xv9rYv3lJXSgygTrigISiiRxBj4tFKA0pA3nfaHU8osFKVlIXkkxAdjggN5QxK2hgI3VKkI2jXV7KelvOI/gyq2klibAVcsXGLlVv2pkIzsONuDGgP5+Uh89/l5fY8N3TrBzeTb41Q+GTpIZS9mL9aGxm4UztNbZUV2Xzb5EJ2zLIBO6IgypeLD58hLq2fJ3QbW9oPST1Sx2BRaobKCRTbDGmpJKJgzRCw2zl08HD1lLK6gGZdSmkkkzYllUUB4lBLULdAW696RgqEjEpKPpgswDFjerWzY0984yN5Sk83houpSRdnJhAkdtUji0qHQ5iblx/1gx1bQLHWU1/oxqykMlYZZOalYNMhMqWYYpAmiWTyMTWyLpQlUlqVg4yESr70PFmEQm/aWRia+S7UJVFalYOkgiNn/jK+5RjzSI0C5nYGvHqX/SBSr35OxzE3Lh+LUJd4/nr16+/6w5sRD0rmYwVklrHUyr6KSIjDmq4cX1ZhGqb0MHJkydHdGMj9LxkMibvqMqeqYoDl1SmFkpc/rkFoA4JonngsXebnENGG/VMtCiZkkdcGuEjdpaiyAVpXO7jPyNmuIfX9/Kog2Ae3n0oDSgD+fbvbRlYd/nvjaDm20k6zfOgI8tMxdfKjSgKO/mgrHGvl7zPKGyfmJg4XDO6QMMf/jlrPujIQybDppGKWI0oEfZEfhhHE8o2DEShDCtbtmz5s0z998NKHX+mH3wlH3spQiYHJ5FqxeK4rBKYgd2xJzeUcbdFKDppCBke8h763PT09B/jkQWVZ4eqQ9ZDJlPwkfqV4epYtM8jgRnYZUzMRTSeHFW54/es1oUJhlUXqvXr14+vXbv2O9LOcVXOslQe76kET68E0ErwKZG7NnQEH+5j+CwebJuB7kqwZeh+Wh95pC34/mc76n5rRCLNHD58+IVDhw5dE919qGwlMk8klgRqfSDbNvnEfrV8+fJvWN5are3GjRu/7+np+Z7gsq7unLWAzdk6764JdtBIT/NQf+utt/De5D0YtHi5J1h/KRhrOIjaCF9zVrUHpYFe5tA5S8MZKvX2q1ev/qSvr6+l3xG9du3a6ytWrHhJ8HLfScmZqYkmdzUzNO4QhcxzIB3N7dq1a7dc/T6gcatJYANGwRVjjvhwOUmErmcmZiVmJF6sxStXeC0aL7bgq5A+OfrlH6W+Kc8IW7IAGzBGWIE5y6vhYvbgttOnc8lTkuhQyrJ4ube399uhpxb5Iw9B3pDT2Y8EDpc4pTtbgZgzNtZBjFVcQy57yNjxtm3bXpIfUTltOViMbcACTBqj6Bq7y0sqTHfZc0Zi2ePNTvxDlLw/Fy59/MdZ/4EDB56WByf/XuxrHxiABZjkADYsdWDVPwjDCzN40VxJ1S7aiMvcOpcul+H4nhqBB44dO7ZBTuSXFyupyB0YgCXCBGzAmOXcCZ4SiyYVnwRnafwPs9KGQAiIC9QjcgzIy/2bFyOpyBm5A0OEBZg0mWn/SCvmyUUTas1Sd+nHpOJTXkzLH7mqmYmJASzWUsdk4nJ3+UlmM+p1B+lZym2UPp/GpO7fv3+dfP9y6mFf/sgRuQpePTM1mbn+gy6NVYtQi1QsfV6kYlI3b978uPz6zBsPK6nIDTl6yPSdN4Hf5SWNx6p+dzAcalKx9LnhryFV+h49e/bst2RZvf+wEItckBNyk8OamSQz7bwJbnIXl1DUSSiv/GmkDm7fvv2jMiNeF1IX9IewkANyEQyDcmQl03feLESoxK2Z4i6p3J9aMzXcp0YAHpVf9fqc3IUcEGJL/ak2xERsyQOzEmRyn6kvQHpmAhOIbDiZ4jMsINE9fDOVFyq9Tw23VeIDYB7bt2/f+suXL7/WzN0AfCMGYiFmFJuzEh8095ncuGNC6GVemMysU9eyI8mSS0w4iGY7dVeG/StXrmw/evToM8PDw8/JA+tn5GvaITgqWoTE8/JA+J3x8fE/bd269Z1Lly7hHlzfNsa3zFE767DROlLgOOi6oD2xWET5Bli2JA9jqFOSSNSpU9Imlnv27PnQpk2bPi+/prBa/r9ylfy/+sfkPYB+OZbzZVc5XUzLRvyGHFPyc5YX5EcCzk1NTY2dOHFiZMeOHR9IHBLhShJGiX6t016aYx/QdYFNagGgrMVny/aYHHFo6V4ylT1y0f5Q9xUC1JLEWNIi0LVDLPpz4/raq+yYfFVjSsUawzZIV2cbpUsswrGPY9kG6SsaoCYG9rqeRKS2pQ6pi46j201dAzANPI3WOLZp6eqo+w6E0vYMzTbWNUDqWkJPOuCH/dS1hM5Cv6ynSjfZ1AHKwDeW7Vq6OupWG9yz3dVRZ9FAqZMkq+62wY9uo18t2a/bUnWdfKqxYeAbr9upQ6bpCKFtjJBxEwFTogM660k6ndCWdUpfO/u9ksl7DTJ0JPnQfdSzSoamPesuWNazSvihLX1qmdSn7UzdTdY0ytiY5Ev3WbrVljFsFTkkgxI+fLrrX9u5fZnrGkjmQSmGaT51v09nCN3PNkgLvG7z6doHdW3LtsLSl3Bhh2pgmm+r32pTLr2qRYrVph2k9WvbzDruWZtdipKUJ6885OSxzZNDaFsGWJ1U2fEYu6kkMgjkQgFsZg6lkadBUP8/4xtLtVlVRlMAAAAASUVORK5CYII=",ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAMp0lEQVR4AeVcXWgdxxXeK9mSYkuWJbtOm7imsuy2hNa4DYTWSakwNYhC81AwgdJiQwt1KbSh0Bo/BAp9cgtNfwix3SZU1E/uSymuf6hxHhIHQXHBcsAlsqzUUZPUoB/bEv65kdTzrfdbn507s3+6u/dKGVidMzNnzjnfd2dm9+7uVcVrfKnUOYXFOvvL5K7eYJKClx2P+ZRGchkAs8TIYkuyILMQlsVWx0il5wWQxnmSb1u/rS1NLBtJtjbtK6lf26bW8wKIC5DkU/e7dPrX/WyDtJGh21y69kFd27Itt3QlnMdhnC/dZ9NtbWlz0IRQp4QPl27613ZmX+q6BpJ6kGEY50P3UbfKkZGRzVu3bt21evXqz7a2tn66paVlm8TprVQqnSK7gpi3FxcXZ0WfWlhYuDo/P/92tVr997Vr197csWPHRGBDYlwSZuwLhkREXF/EsIgKyLEdLdLOo1V0HKvkWB0cbQMDAx2Tk5OD9+/f/4OQMypELanAB3zBJ3xLnDYVD7GZB/OCtOXOD1y6yy2uZJgwAUSIvHz5cv+9e/d+Jey9uyQG4we/ixiIJZQkEevCUSqbtiRiiRwdHX1CZtCrwsP9eC7q2ish77+K2DmJLYXUJDIxIzkr206cONEroF4Umqp1pSqbsypyQC6KWOaJlcTJYMNWGKm2YGhjMkgsJFL09pmZmb2CeyIb9kKtJ5ATcpODWwFyTiIVOOtebISCTCQTIfPw4cNdMiNeLpSaJThHbshR8jZJJbE2rHUl1BbARmb7xYsXt8kZ919LwFvKUOSIXIUlzFZcfXCmFk5qGjLxSbePj4/vlESbaYnHfjjIFTkHpAJD4aQmkYlP1ifz+vXrX5HsJ2MRNGfnJHJXpAITtzGsQhsH0py92ByZy9wnUy5LvrBMyeRHPAkMQhFPVoXMVJNQkElCEdAnM9gzl80yJ4OmxPJXe6pe/sRt8pFpipqD6VSfzdsPHjzYjc3dTG651oEFmIKZqk9UxG/ykppUc6CemQiEpdFx9+7dI8uVPFfewARsAUaTVJMXMYsWEGUWDNLFdOLX5SbEs+3t7d/XhitBByZgEyxW3AZGkyt/TzRsIlVzgB/k6NGjnT09PS9GLFdQBdiAUSCRVI3O5ET31eh0QGlb6o/IsviNa8mslHZgFHYekcO88Acn5IcyJNK25NkJYxYOrFy6dKlflsUP2bFSJTACq+ALsSusmhvV/MCYDaaRdgQd5LfIfcaX29ra9nFQo+UHc573/D+q3gezi9723hbv119b5XXhoqcORb7zDwmxPxBXC8GBu/n60FH8O/2uGarJDYkdHh7eLGR+S3tppK7JRB6jUwveT8596M1W65MVsAKzeAs5UJ41R2Gzi1AY0Emoy3ObA1LBpUTDy/TdhzNTJwNSr075k0U359VXB5hruHA5JKGabVP3nYnjlo6OjudcjspsxwxcL1eKX3yU6Uejt+HrR50KMAO7uCOpJj+M5LfbM3o4GMa+o1OnTg3IE8jHObpREsv8e3+vekMj895Pv9zqfb0/yt7+Ha3eExs15qVlCszALl58HgJvWo8EwHfyuMKBlQ0bNnwzzrCMPr1n/kkIRQGpKKfG5j2QiaPeJcD+mvglH849xSQUA1g42JeyQX+VHY2QmkzG16Q+/ckW7+nNOn1aLV0G2CN8iFeSinbq1m9KHBhmcu7cucflxYP+sKFkxUYmUwCpl/63WBiZiAPs4IAxA1nDk28rf9BhKxxQkU15l82gjLY4MhEfS3znoy4I9csw4CDkxOG5EndSwhjfwZo1az7jcFBocxoyi9gzbaACDkgoTKyfoo1QGlJ68r7RdluQItuaiUzgNDggN5QhFZpQdNYYoG3VqlWl7p/NRibYCjiw8qN504RiHAvJ9aVci/Wwo2jZjGQCc8BBhBcbFy5CTVu+Tmi217XerGQGIFNxkESoP8Xl08HN1kJLk5OJGUoOfE5cZNgINQeYdZev3O3NTqYCZnJh1q0X9hwfGstdeLw1XEhZLmQaHITcmKTYZqhp4xnOavrzNiwXMoEvLQepCJXn1dN5SXONm3Lcz6R9UTc66D+rTMtBKkLlxwFjWRNIsr9+c9F/bGGzazYykWNaDuIIDe+gyLOVURvwItqakUzgNDgIuTE5sBFqGi/evn37bXNgEfVmJRNYAw5quDF5MO+Hmv2+gwsXLgzv3Ys3qetXPt5ZidwMRn1wq+3zrV/MpXgCB8F4k9SIW5z+eQlAHRLIeOAWeIvsIRcbeU9UcmhYkRPSmPwY7UlJAI+T8aiAj5UhQTAP53UoDSi9O3fuvC4DP5JFYScflDV86DXmMvLbJyYm/loz+iPSEGCP5YdUcJmbdRCNPn+5Q27ZsqVV3kd/S5b9YzTOKt+RSyU8spiRa9AyCh4175M7+n3dgJKvyHJ/r6+v73Py2jiWOpc7JAjWS94P4DopwRhZ8FNZFIcLs7Ozf1m3bt2P/ZE5/vz89Q+9d2bgsrwyLvGGvpH/3QxgBnbJOOQiyN4KBDPR2mE48G1Onz79R2mX1wzylbJmps7u1j1dy6xXA8wYqAl1csa1YJM8y1P6y18+sd+vXbv225lTkwGv/WfB++0/seRd+eTx6h6zvqPiPf9UqzewBRCyl7m5uT93dnb+SEZihnK5Q+dBIKb0lzdIxYHoIA/bAd5jk53IWyMHbrB2nzx58km5UdDI321K+FJKFViBOcAODsCF+YMG8uZPSv+PGFGKGiEX7ZEZKvXWmzdv/kL20hX9juitW7de6u7ufkHwcmZSmvspZ6eYeouutQAjGlKno4VDhw4dlrPf+/CwEguwAaNgCzGLTh4AWeuoWwtmIw+97HGKxGvReD0ajwHWydEjP5T6TikLrwFBgA0YA6zAnObVcDGrXep+o2rnkqck0b6UZfHLrq6u73LQSpByE+QV2c5+Jli4xCnN2Qq4XMWhHrfkYYTC6U0ZOpYbJi/IP1EZeWC2/P8CCzAJkhCjBT+BajLZViO55M0ZiWWvz/hYBjj79Rw/fvzzcuPkvw1YmXUNCQzAAkwBNmDUZ3ZwwG+OmIiaK6naizYiqbyE0nvpWhnuX0aJ7D179uwu2cin6oqwRGfIHRiARQ5eJgFjmr0TPMUWTSo+CX+/FMnrUp6gEBAnqPVy9MrL/XuWI6nIGbkDQ4AFmDSZ5nVn6tkpfvyiCbXNUnPph6TiU15Oyx+5qpmJiQEstqWOycTlbvLjk5b0xxykZymXPr9BIYGQ1KGhoR3y/OVSiSs2VyjkiFwldz0zNZlYicC6ZDLFR2TD5Sy1kYo9Bht3hNQ9e/Y8Jv995pVcSEsYhNyQo+RtI9O1b5pLHbxkKrZZqknF0ud+WkOq9G28cuXKPllW75XAUaoQyAU5ITc54shM2jczkynxamYpZyr2Ep75k0jdsH///k/JjHhJEDfyhkoVOSAXyX2DHGnJdO2buQiVuImkYo9xkepfp0o/AGyU/+r1lHwLOS7Elvqv2hATsZFDkAuvM/UJiMscWICJk8a2zHOTKX79AgfmwaVvzlSeqPR1qn9ZJT5A7MeOHTu2c2pq6ndFXg3AN2IgFmIGsTkr9XUmL9yxdellnntmpmXbZkeSJZeQcP2JUjelP27Tpk2tZ86ceaa/v/9ZuWH9jDym3QpHeYuQeE1uCL8xNjb2t8HBwTdu3LiB7+D8ugxpfp1kXfdBR+G4B7WHf9n/sMXQbEQZJmHVZmsjlW0kEnXqlLQJ5ZEjRz6xe/fuL8l/U9guv6/cJj+r7pMHgj1yrOXLrrJdzMqF+Jwc0/Iz83H5JwFXp6enR8+fPz984MCB9yUOiTAlyaNEv9ZpD7BaR50F7YkFgNIWly3bQ3LEoU13kqnskYv2h7qrEKCWJMMmbQSadohFf2ZcV3vEjslHGhMqtjFsgzR1tlGaxCIc+ziWbZCuogFqYmCv63FEalvqkLroOLrdqmsAVgNHo20c27Q0ddRdB0Jpe4ZmG+saIHUtoccd8MN+6lpCZ6Ff1hOlmWziAGXgGst2LU0ddVsb3LPd1FFn0UCpkyRb3WyDH91Gv1qyX7cl6jr5RGOLgWu8bqcOmaQjhLaxhAybCJgSHdBZj9PphLasU7ra2e+UTN5pkKIjzofuo55WMjTtWTfBsp5Wwg9t6VPLuD5tZ9XNZK1GKRvjfOk+m25rSxk2Qg7JoIQPl27613ZmX+q6BpJ6UIJhkk/d79IZQvezDdIGXre5dO2DurZlW27pSji3QzUwybet39amXDpVGym2Nu0gqV/bptbxnbXokpekLHllISeLbZYcfNsywOqkyo7H2IWSyCCQjQJYZA6lkadBUP8/wjB08j9jWWkAAAAASUVORK5CYII=",ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAMvklEQVR4Ae1cbYxUZxW+M/sBLSyw1dC0paC7LGlNWWv6p+EjrgQChER/ABtNNRJiDCHG8EcxsdXUkihRA9HGLESlWH4QCgkxNMAPcbVIMCkoyw9WYMElS5sSt8vH8rU7s+N5LvMMZ9773q/ZOzO7sCe5Oec973nPe95nzvtx79yZlFN9SiUcQi5hf7HcJT2YsM4r3R/jqRjIlRhgnD7i2BIs8DiAxbHVfUSSSx1AFOdhvm31Nl2Uvmwg2XTaV1i9to0slzqAoA7CfOp6P5n+dT114DYwtM5P1j4oa1vqSuZ+AZfiMMiXrrPJNl3UGDQglMnhw082/Ws7sy5yWQ8kciPDMMiHrqMclbMb2rNsDpzlqBx+aEufmgfVaTurbAZrNQpQ+rXXesrgYTK60jYBXRdA0QBAZjlIpl/askzup2e9L2fwvgYBFX5tqdfclFG26dAd9aaMMkkPmDI4L9hRJtc6yppD1oR2sak2dosHDfSg6YI6zU0ZZb8Lflz7ffv2Pbdw4cJXGxoa5tXX17fU1NQ0p9PpxlQqNRUXDHO53KCwW8IHMplMz/Dw8IU7d+78p6ur68TSpUuvwsRyicrtwwaWqUMspg7tEycbIGnpBVeNXPiQcNXJVS/XJLkmy/WEXE/KBUAa5Jom13Rcs2fPbuzu7v7a4ODgrmw2e1FAGhXBx927d//Q19e3qrW1dYr0gb4RA2JBTIiNcSJmxm8bm1SXh2ydQcdgCGZUIGfs3bv3pRs3bmwXAK6OCsGAxiMjI32Sub8+efJki8TqB2wYqBhn4mQDlFlpA5MZiQxhRs4QufHQoUOvSDb+SXAYCsAi6aqh+/fv7zpz5sxLEgNiM7MVYyCwtrFKdXJk68AGpp7eABLTm1O7cePGjc9LRr4tSA0njVYMf8P37t3bvmPHjs9KbFwGuARUBNQoYOq1EusksxJrJLLyqQsXLnxLpvZHMQZeVlNZCq729/e3K1AxBqyrZQU1DEy9XnKKF2Xl8uXLn7l58+bvy4rOKJxLtnZs3rwZH7xeAsoCahiY+DSZmSaYblbu2bNn/tDQ0JlRjLciTSVbT586dWquArUsmWoCau7mgWAePXp0QTl376SRxmlAlqUvWUDluE08xDQ6mY3pFFMBnx6mOqaINTPliLJMAvw06UFXwF//lStXFufHpjcqjt/ERUyjkdkQDk0wsUPyoI6d3J3myMxxCiY/r/7Lly+/LONBwpigmriISTiZjUwwMdWtYO7evbt1PE1zImhyTP/8moqxjhpUDShTndmp100cjQqZuWzZsmfHwwZkgudXFlBPb926FTckGDM3KeKhMZLqh4QKTbaybkyHmgPs9PXr17dOnz59vXY23mV54NIhD2c2yThG5DIftujhFR6iABg/0uBqUCkT1NS5c+dWPWpgApS6uroNkihfFZFjJlYaG+pcjlQm2Yy0I8rgANPl69ata5g3b97P6SSIXxzIOb84kXV6rufw+C3I1JlSn3JWNaedja9gAlSPJFG2yePEv7S3t9+SKDBmkBk89K6OBjCyydAVwMvL7hQXmVP9Tel0o5RD6TvvZ5yLA5g90WlLW52zaJYOLXrbpCxl6m+Xqb9Z/AE0Tn+418C6ctiU50jATXBT8sk1CZjfhecohMyMS58Mxm8Tt48we5n635ND/9y8HbGwNiOgBA5GpkwHJk+vXLny+2Kvlw1rJ1SGTXPakTfItF88myFSWxVeO2fOnB9Iz8SAQZhY+YKhG1LWUz+1c+fO56ZOnYqnNYnQE7UpZ82LaacmHyLW0C8LmDNx6zAGSLL0tbNnz26ZP3/+FQmHQHqmT1h2EUwPX7NmzXpxjENvInQ3k3N6b+Scny6uLYCaiOPknNTJ5rtB3P1YLg+Q7MacT0Qe9R4QqZs5c2aNrJ2r6SQp/vcrI86bH2ScrG+4SfVUmh/ZmL7e1tbGmUonGjN3B2cFOYFkGZw6lx85cmSRfAv5rDYoRX6yrigW18UYB3XWgQMH2vJjJSZFQzfR1pVsQI46V25ubsZhd9S05oW0s+Rz3nPmWAZVvtrGzAQONkqZU55GbEAwi/iUKVMW0XA0PC1eX19Y43xlHIFaW1vblh8zMSqCwAYoDcnZAOVUR0fHM/LiQROVo+UEtW2ON5SxmKnyosVceZliVn7cJkZFa6gLmAUg6t3GS5YsedViE0mFo5AmlnFUemNRrTNeQG1qalqgxkF8XJU3LR5Y0oic7VONjY0tLMTluDcn4dCOcyYpDNR95+LdstJvObicSV8Qv8DGQ2HnUDYoNJ48eTJvwVgXmeNBR+vTaQe3k7gDMg/tBDWXyzh/kyOUpjOfjDjf+MLDD0DXVVqWJW+eX59hERaAFAdutk6aNOnzfs6i6PGgY7Xs7iaYbAtQfyKHe529qPuifBBjheTI6JtULkj5QCkjcsjgONPop0s18qbbh/IJPS/6shIO95jmyEyA2a5uS8vacQTn8kyiV0BFluIWhE+f3NsRggg3lAloEZBS7wIsXw2ck53uKTR4jKlfMMCNjQdQgBSL+H5mrEaPnjG+a7JSbECtXiaUBQRiAyrrB94cftwJX4dYKejY5C6y+VYFWdbQ27IpjYk1lBvXv2XjermCG1dQUtkABXjYoEgFMKEQQAcqscuz8yD+npwCdpzOuCb/vDridP8v7R65cPQqM32a91+EDXRhU143gJyTt4Av551VnXVdKz7842bgZwHPU6/dcZwD3SPO8T49rPjDkKS66NcqDFC2K0Qg71P6OqNxpXjrTG/4APWt496H1ABz/aFh57cfZpzXO4ed353KlhymvG503q+xN6IHlm42ikjO9rmBgYELLFSbr5XDvnlHhZg6e72gAujBoUJeOO/3FGd3nLHI18rdYv/QmWqsATXBoxn1roNjx46dZEW1ud9tKuIyQb2twES9WYYuKl26dOmEsiU+rkoDShsXOCmQa31uw4YNH0vKX6Ky2pyg2h79AdQt/8gm+h2V7PAX5bdPfflxmxj5fo0MQ+yV4J7r9u3bx6dNm9aUd1p1BlDxPNVxMm5m6oD++t+sO5BZvvc22jpclmcZnXkrD5jQI0OtFXm9BhP2brmnp+fPKIwlIqi2TD0moO6X3T0JunXr1gHx44uZ35Q3G2hgcytWrDguR4ePkggwSR8E1fYd1Z1hc0gl9dy3evXqznxLYlLkyARU98oGHn7t2rWs/IALn9SYI4CKL/5s36aONlh5oXhvZ2cnUt3EqeDaBLRQkRc8YOad5fbv3/9HkYfNBtUq45z5nkzrd7qyzrtnsw7WTNv3/qOIb/j8+fMd0l6D6XHHmzRyGFAGB+DkkIuekcp6sk3eb3pN9FUlHtr1OTNKQJ3frI9i5trI2XOXvDmCV3EAqM5SDXCOGVqkVL1A73eNHD58+DdS/+BmWjWqtPiBcWiP0r88141iRptMb2/vr6RALKj34EZAaaC5bkyZn4zL5a3eS7KW7tSNqiE/PTUWOG6IzTOit5HsfLulpYW33MTCOlQ/QE3k6QS8CNRNmzb9Unb8j63eK6TEF3/tL9a4r5GHdYnMnNuYdn60AKtXJLp68ODBt8SSGLCRxog6D8fHxgtg40LPeG0RC85kufhjL/zgtFGuz8iPFr4tdxCPJMmPFtbKGDF2YMA9BLgQp6JULyrkjYQVSDeCTJA1dzuZ+FnNA8wAjCZbGjPVyTHleUHnymvXrn1D1pou7Ww8yzLd/rVt27Yfyhg4bnJzWNAHki0rkYW4WbZN/Wmid3/nOfHTRH9cw0DFD0v1eloAdeLHs3ZQbYBiedCZClAnft5tx8+qDQMVO58vqBN/QODF1AQUZWYpMzUQ1Im/yIgPKjcpW6a659SJP3GJDyp2f2YqN6qJvxny4likiTL9ka3c/bFZTfwRVhGE3kJUUJmtPAEwW3m04l+1vSuH50r/Vds7Y+Wv2gCvDVBuVNys9OFfZyvv//FVGYDF+vrY/5mgYOCSDVgAqkGNA+wj9XeXAKcUsrWjTnNTRtnvQhyufRn/kJX33fq+XOtMLFhn6n3LHLCvQUCFX1vqNTdllG06dEe9KaNM0gOlDM4LdpTJtY6y5pA1oV1s0sHHbiwN/NprPWXwMBkxaBuU/YgDJoddEHi0I6e9zb+2sdX76hi8r0GEiiAfuo5yVM6uac+yOViWo3L4oS19ah5Up+2sshms1SiiMsiXrrPJNl3EbovAIRjk8OEnm/61nVkXuawHErlRiGGYT13vJ7MLXU8duG3wWucnax+UtS11JXO/gEt2qBqG+bbV23TKpa9oA8Wm0w7C6rVtZBlPjcpNpYIUJ6444MSxjRODa1uJweqgKt0f+y4riOwEvFoDLGcMFQNPD4Ly/wHSqj6IYELXcgAAAABJRU5ErkJggg==",cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAA2FBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////9+0yGE1Svo99fn99aR2ULv+eTA6ZOO2D2t43Kr4m+e3li654i25oJ/0yL7/fn0++yC1CeN2DvL7aac3VWx5Hmu43Tl9tKB1CeO2Dya3FL2/PC554eK1zby+unO7qzI7KHc88OA0yTr+N2G1S+X202B1Cb8/vug3lz4/PSz5X3J7KLi9c2h317w+eWv43aZ3FAtIvOvAAAAF3RSTlMACU6Pt9vs+RFgr/UKfPIDZuYbyzdc9yj9kOwAAAHySURBVHhenZbndtpAEEYXAcKAKTKYu2r04u703uv7v1FOSBTxacVxju5vFul+Mzsj41Dz6o2m32r5zUbdq5kHOGl3uuTQ7bRPzHFOe30c+r1TU85gGAAQTRfLJAyT5WIaARAMB6aEsxFAtJ7ZA2brCGB0ZhzGAZDON7bAZp4CwdgUOJ/AdnVhS7hYbWFyXvg9sLu2R7jeAXJiPIH40h7lMobJ+MA3gDi0Bb7ZnDCG4J/5YAQ75/8fX8kzdjDK0h3C1nn/Z89v1WMLw7/1DeCpLfD+K4+ssILgT817kDp5XpEW002ht++3PsxtgRt4YQvMof+7E9sQbYrCW7h1ah5B2xjTgbUjDHsFZQ0dY2pdmDnCkFqHGXRrxoPYESZTUGLwTB2mjjCZgjKFumnAwhHOFYQFNEwTliqM8NLmLKFpfEhUWHj12uYk4JsWhCIsvHlrDwihlR9Q3gHwJLHOAX0lfdKHj1ZIwM+lhfATwGe7R6Q1Vq3Fl9JYs8IpdxKQFM6DyFXOAlIi8PLmE2UJSJsva29VloCkvUsv0I0EJBeo/IreSUByRbMhcC/KEpAOgWzMrERZApIxUzrIwu8SkAyy0lH5QwKSUVk+jH/aHB3GFcZ9hYWiK+v+gZVVYSlWXLu62ON8scey2Kt8OlT/OPn/z59frKW0mxwtEXcAAAAASUVORK5CYII=",us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAB7CAYAAAD0WJeRAAAH3UlEQVR4Ae1dA7QsuxLNxbdt3m/btm3bSnoOU31uf9u2bdt+tq5tm/vNXq/Xu0fDnEkyPdlr1eOdrklNr0qqaldFxYZagesawZPqYjOLTxuLH2nBv4xgqbHYrQV76rLDCLbUZYMWrKrL/4zge3V5X5bjdUOCx+gC1ywfmQBgXi3H/Y2F0YLva4sVdcEcyXFjcbYRfCazeP5wgRuqQUN90fcyOT5sLNa6G7QDwwv+nuV4zeh7cQ1VVWQWNzOCdxiLJVx4SDGCQ3X5KV2MqgpGC9zcCL6gLQ7XBbGJEZxUm8BT6cb61cC3NBZfNoIjPg3nYPCz9AServoFRYErasHHghnYXX5FN6dihs7xUB7DAhvKXQT7jEWtKLAwtrf4ykbwKe7sXg3iwX+PFLipigEjOe5oBMtDGcODsbfUBI9SIcHjkRbs4hequBzNLEaDnEyM4LUBNrygkgm+UhSY7y1sNjk+SMWDKEbwrR/8AAtUr5EJPkCFAy2C7/f0RMIjzwmFydg98dmZxUunHt+SZDnePtcb3xOqvvE5pGKfPVcpzRsbi+3JqE2iyBx3d4345huLvzRXlsQw9fsRXMHFLw+3pywJCxndRX0F7sEEeXuKkhjBMVPgfp0HJYLTOlSWRHDeJz6By3WS7nxBMlzXYbpudwO8rFM2LrmQTSx+qFYwOd7iqCyJYKhlAl9bbE7Gcs9h05aqEch5iHwBBzRJNoKL6rIn8uPe25qF2idFFt7+3whyEm6KAlefEbW+H1dhhScTvFUL/hxTmsAIzmh00rhzJF/yMDl3DP1VhyADyQgWk6MXw1qGCtxtthToxyM4Gn2XhBvliKzAtUvKw7HAm+LH1GR8/vO4jBFsC0nRIgu0B+W2J5B5GtDYm6cUCIZyPDDkDk1GqeoRdIFbGYvzg61vclhuBDbUKaI0ck9Bbga51EHcocXoZP/8pxCnilqO5/ikCjN3HCCF+rsTIbfF/gC/9KcDUCReHWBD3EM/HcY/C3bwZBCAujZfW5weoLZ47yC/srEwKhDMBB7ue73MhjLsfqfvDbDMAwSDEZzi2diitOAbnpX+LII2j1HfVDJlBH/zvAm+WAXGkODWPtdMGytmw7zG/4JFKjy47vUe171M+Q5RiwKXVwEQMlNpBOv4y271qHCbigRsf/NZ3lL8i0eFS6MxtMUXvb5gXn2VYI+KBDz9eIwbdtNHr/Hpo1kVicR1nOL1BfPdMpwVuEMkb/RGn9w8vtG/93x4f7MKDP7YnlMOf1HsD/ScUPprBG/zhOeA5euKFWTfrWQcfhLYP5/lOXv3Tip9QgDOw/tVIIRYL/ky3uP+Ug6y2h0gH70wSP1Q8LiSoosNAZT/UHkG3WQI3vSlRQ4t+Fog2tRbvGXscjw4ELH+5Mnh6HND9VjXJvBE1WOQcuCQ03GTHO+e/EWuyUUHYvPsoQ/r4Xi3Ozmlgt3z7w9Rk6EF/wnZ/8GqRw988rOMxd6A3Vq7yQKb/qV0BMTAX/AUpBwx/m7cQFt8PgJG6c9nsnneh6vFwDkm9bYuXzAWN+mG3GgE75lElAm9lqc0ytF+Mqp2Mov/ZhbjJsddZ+sLqX0QVyr50bqsfR6NqMnzQh6dGxYtY26sp89jJqwu59ZlZ+TdCa9tlXD5lbOiJJvZstxypFoylPPbXLRbT/tBl0qSCHaNvQfXUe1Avws36u4EkqTjzgU2JXaoJIngHx2P/2FEw909GbB98qYpcJvu8gSCh7V33EvinELIBB9qqSi9zac5j2dj64W2ODUZtHH2MStwu7lptBHctkEWLAnZ/HMJLXjlDCVJPqt6Adb5TihJfrmDsT5dNbWvTuPXsLPnhHoWOZmOHPC5Sc/wRUJ5xwC/zR/1SkQJWWMMJoL/MWL2fpFNVGPnPbD2g12swMu+BmWqLvknoZnzXx+AoOS9UdzBogUXVDn1Wc70Dw8OvuIoiipOZYzuHkST4xVVm55bXnQTH8hKrZChF8d+89s5FfDLf/RwsY1zSvX2/ZxSZd+2Q4+N9/P1C/v1TizmclQ/gWzOPnybR1S/geMiAgyKcpFf9e29s2xp6It8iGBV31/Yzpt3Ijf04VqO+6oqwAg+EXES/62qKiinRf4/wiT+j1TVwFxusBa0BtNw2E6iqgi2uYUenl3KwfIiserCCIro2x6qAOYQOIwloJG/rQYFbFMLwQ/hZIMAc1HDgmdXr03wgn1slVODCCN4o0f+8kvVIINXgnhwGV9Wgw52v/IewB5ufmeVPX8JLBaQ0N2LTttpfSUJOsfzemDo56oEh+ST260YCWXL3X/d/TJOKUniCU0vfBdscbl6pCa4hUpojWwCj+42+ZQJnqYSOvLXuYdL0BNYKNUWv+nAZfynS5J4AgumRrCyDUNv7WAGUwJbNt5c4Krj47geKzJD78SioUuKu4ebkcQ5ZJV/lp/hZ/mMaS3DyT28rcDVaSAOAsxy3HM20RbvbZbHaPQ5PpPPpg7qGsg3174LN+L0LxqkHZnVXwtO5s1q7XyeuqiTugfFyNfk7cJcfCfC6wDfJlg62S9rwWM6fQ518ztU3shcbNcieEbJVD2aWbzG5VmVNvZkP9ytmHGM6HF8xPU5/C7J0G6SDD02hmvFYmi6jrQZOojDZpiOdw7S6HiXAhYXSQGLQwjOeuJIjjvX5a7ky016Q+/O/8b/xz8Tewh+Mb8B7arZ/2x5AAAAAElFTkSuQmCC",As="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAkCAYAAABmMXGeAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACOSURBVHgB7dbRCYAgEAbgX9dxj0ZwjzbICRqgDdynEZzDzrin0Ci9XuJ+OASFj0PhEODknF0pSIWwQJW4AkbDHaZLrRiIbez7EdgaY3ZaozR8pgCVa0gKK6zwL2GDzjDgK0eTxQfpQm+63HiUvgdFH0pBBRV8CAZp0ImCaE+pSNNmxkioq0Wiwxos9j0/AOTf6rSzAxp9AAAAAElFTkSuQmCC";class hs extends rs{constructor(t){super(),this.animate=void 0,this.params=void 0,this.point=void 0,this.initImgCloud=(t,e)=>{try{const n=t.isScale,r=t.scale;if("number"!=typeof t.size||t.size<=0)throw new Error("Invalid size parameter");const i=(new $t.TextureLoader).load(t.image,(()=>{i.needsUpdate=!0,i.magFilter=$t.LinearFilter,i.minFilter=$t.LinearFilter}));let o,a,s=null;if(n){const e=t.size/2,n=4*t.size;o=new $t.CircleGeometry(e,n),a=new $t.MeshBasicMaterial({map:i,transparent:!0,opacity:1,depthTest:!1,alphaTest:.1}),s=new $t.Mesh(o,a)}else a=new $t.SpriteMaterial({map:i,transparent:!0,opacity:1,sizeAttenuation:!1,alphaTest:.1}),s=new $t.Sprite(a),s&&s.scale.set(r,r,r);return a&&(a.needsUpdate=!0),s&&(s.position.set(t.point.x,t.point.y,t.height),s.type=e,s.point=new $t.Vector3(t.point.x,t.point.y,t.height),s.params=t),s}catch(t){this.logger.error("initImgCloud ==>",t)}},this.updateImgCloudPosition=t=>{this.layer.position.set(t.x,-t.y,this.params.height)},this.hideLayer=t=>{this.layer&&(this.layer.visible=!t)};const e={class:"",image:us,animate:!1,animateOptions:{duration:500,delay:10,distance:30},popup:!0,isScale:!0,scale:.02,popupOptions:{direction:"up",multiple:!1,size:[80,30],data:{name:"react-indoor-map"},container:"",callback:function(){},closeCallback:function(){}},size:16,height:5,point:{x:0,y:0}};this.point=t.point;const n=ra(e,t);$a(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud),this.dispatchScope(this.layer)}}let ds="() => {\n\ttry {\n\t\tlet requestFrameId;\n\t\tlet point;\n\t\tlet color;\n\t\tlet borderColor;\n\t\tlet context;\n\t\tlet size;\n\t\tlet ratio;\n\t\tlet parameters;\n\t\tlet radius;\n\t\tlet isAdd;\n\t\tlet durationStep;\n\t\tlet lineWidth;\n\n\t\tconsole.log('BreatheWorkerRender: Thread has been started');\n\n\t\tconst evtFunc = msg => {\n\t\t\tif (msg.data.name === 'render') {\n\t\t\t\tbreatheAnimationOffScreenRender(msg.data)\n\t\t\t}\n\t\t\tif (msg.data.name === 'remove') {\n\t\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\t\tself.postMessage('remove');\n\t\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\t\tconsole.log('BreatheWorkerRender: Thread has been disposed');\n\t\t\t}\n\n\t\t\tif (msg.data.name === 'stop') {\n\t\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\t\tconsole.log('BreatheWorkerRender: Thread has been stopped');\n\t\t\t}\n\n\t\t\tif (msg.data.name === 'resume') {\n\t\t\t\tdrawBreatheWithoutCompositeOperation();\n\t\t\t}\n\t\t}\n\n\t\tself.addEventListener('message', evtFunc, false);\n\n\t\tconst drawBreatheWithoutCompositeOperation = () => {\n\t\t\t\t//\n\t\t\t\tconst drawCircle = (context, width, height) => {\n\t\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t\t\tcontext.beginPath();\n\t\t\t\t\tcontext.arc(point.x, point.y, radius, 0, Math.PI * 2);\n\t\t\t\t\tcontext.closePath();\n\t\t\t\t\tcontext.fillStyle = color;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.lineWidth = lineWidth;\n\t\t\t\t\tcontext.strokeStyle = borderColor; \n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tif (isAdd) {\n\t\t\t\t\t\tradius += durationStep;\n\t\t\t\t\t\tif (radius >= size / 2 - lineWidth) {\n\t\t\t\t\t\t\tisAdd = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tradius -= durationStep;\n\t\t\t\t\t\tif (radius <= size / 4 - lineWidth) {\n\t\t\t\t\t\t\tisAdd = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tself.postMessage('update');\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconst render = (context, width, height) => {\n\t\t\t\t\tdrawCircle(context, width, height);\n\t\t\t\t};\n\n\t\t\t\tconst run = () => { \n\t\t\t\t\trender(context, size * ratio, size * ratio);\n\t\t\t\t\tif (parameters.animate) {\n\t\t\t\t\t\tif (parameters.duration !== 0) {\n\t\t\t\t\t\t\trequestFrameId = requestAnimationFrame(run);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\trun();\n\t\t\t}\n\n\t\t/**\n\t\t * \n\t\t */\n\t\tconst breatheAnimationOffScreenRender = data => {\n\t\t\tconst { canvas, parameters: params, pixelRatio } = data;\n\t\t\tif (!canvas) {\n\t\t\t\tconsole.warn('BreatheWorkerRender: Please provide an offscreenCanvas\tparams');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontext = canvas.getContext('2d');\n\t\t\tif (!context) {\n\t\t\t\tconsole.warn('BreatheWorkerRender: Please provide canvas element params');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparameters = params;\n\t\t\tratio = pixelRatio;\n\t\t\tsize = parameters.isScale ? parameters.size : parameters.size / parameters.scale;\n\t\t\tcanvas.width = size * ratio;\n\t\t\tcanvas.height = size * ratio;\n\t\t\tcontext?.scale(ratio, ratio);\n\t\t\tlineWidth = parameters.borderWidth;\n\t\t\tradius = size / 2 - lineWidth;\n\t\t\tisAdd = true;\n\t\t\tdurationStep = parameters.isScale ?\t(0.1 / parameters.duration) : (0.1 / parameters.duration) / parameters.scale;\n\n\t\t\tpoint = {x: size / 2, y: size / 2};\n\t\t\tcolor = parameters.color;\n\t\t\tborderColor = parameters.borderColor;\n\t\t\t\n\t\t\tdrawBreatheWithoutCompositeOperation();\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e); \n\t}\n}";ds=ds.substring(ds.indexOf("{")+1,ds.lastIndexOf("}"));const ps=new Blob([ds],{type:"application/javascript"});class fs extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.worker=void 0,this.texture=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.requestFrameId=void 0,this.frameAnimationId=void 0,this.useWorker=void 0,this.point=void 0,this.params=void 0,this.initImgCloud=(t,e)=>{if(t.animationType===Vt.normal&&(this.texture=this.createBreathAnimateCanvasWithoutCompositeOperation(t)),this.texture){if("number"!=typeof t.size||t.size<=0)throw new Error("Invalid size parameter");const{rate:n=2,scale:r=.02}=t,i=t.size/2,o=4*t.size;let a=null;if(t.isScale){const t=new $t.CircleGeometry(i,o),e=new $t.MeshBasicMaterial({map:this.texture,transparent:!0,opacity:1});a=new $t.Mesh(t,e)}else{const t=new $t.SpriteMaterial({map:this.texture,transparent:!0,opacity:1,sizeAttenuation:!1});a=new $t.Sprite(t),a.scale.set(r*n,r*n,r*n)}return a.position.set(t.point.x,t.point.y,t.height),a.type=e,a.point=new $t.Vector3(t.point.x,t.point.y,t.height),a.params=t,a}return new $t.Object3D},this.createBreathAnimateCanvasWithoutCompositeOperation=t=>{const e=document.createElement("canvas"),n=t.isScale?t.size:t.size/t.scale;e.style.width=n+"px",e.style.height=n+"px",e.width=n,e.height=n;const r=new $t.Texture(e);if(this.worker){this.offScreenCanvas=e.transferControlToOffscreen();const n={name:"render",canvas:this.offScreenCanvas,parameters:{...t,indoorMap2d:{}},pixelRatio:this.indoorMap2d.pixelRatio};this.worker.postMessage(n,[this.offScreenCanvas]),this.logger.info("Start thread to animate"),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const i=e.getContext("2d"),o=t.borderWidth;let a=n/2-o,s=!0;const l=t.isScale?.1/t.duration:.1/t.duration/t.scale,c=(e,c,u)=>{const A=()=>{((t,i,A)=>{((t,i,A)=>{t.clearRect(0,0,i,A),t.beginPath(),t.arc(e.x,e.y,a,0,2*Math.PI),t.closePath(),t.fillStyle=c,t.fill(),t.lineWidth=o,t.strokeStyle=u,t.stroke(),s?(a+=l,a>=n/2-o&&(s=!1)):(a-=l,a<=n/4-o&&(s=!0)),r.needsUpdate=!0})(t,i,A)})(i,n,n),t.animate&&0!==t.duration&&(this.requestFrameId=requestAnimationFrame(A))};A()};c({x:n/2,y:n/2},t.color,t.borderColor)}return r.magFilter=$t.LinearFilter,r.minFilter=$t.LinearFilter,r},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Ya(`${this.indoorMap2d.getUnionId()}_BreatheLayer_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=void 0,this.worker=void 0,this.workerStatus=!1)},this.getFrameAnimationId=()=>this.frameAnimationId,this.removeBreathe=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{Oa(`${this.indoorMap2d.getUnionId()}_BreatheLayer_remove`,(()=>{this.logger.info("BreatheLayer has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{this.requestFrameId&&cancelAnimationFrame(this.requestFrameId),t(this.remove())})),this.show=()=>{this.layer&&(this.worker&&this.worker.postMessage({name:"resume"}),this.layer.visible=!0)},this.hide=()=>{this.layer&&(this.worker&&this.worker.postMessage({name:"stop"}),this.layer.visible=!1)};const e={animate:!0,color:"#000000",borderColor:"#000000",duration:2,animationType:Vt.normal,borderWidth:1,size:16,height:2,rate:2,isScale:!1,scale:.02,point:{x:0,y:0}};this.point=t.point,this.workerStatus=!1,this.indoorMap2d=t.indoorMap2d,this.frameAnimationId=(new Date).getTime(),this.requestFrameId=0,this.useWorker=void 0===t.useWorker||t.useWorker,Va(this.indoorMap2d.env)&&za(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Ka(ps),this.logger.info("Start thread for breath animation"));const n=ra(e,t);$a(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud)}}const ms=255,gs=/^rgb/,ys=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*([\.\d]+))?\)/,vs=/^#/,_s=(t,e=2)=>(t+="").length<e?"0".repeat(e-t.length)+t:t.slice(0,e),ws=(t,e,n)=>Math.min(n,Math.max(e,t));function bs(t){let e;if(/^rgb/.test(t)){const n=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*([\.\d]+))?\)/)||[];e=[n[1],n[2],n[3]].map((t=>parseInt(t)));let r=n[4];return void 0!==r&&(r=r>1?1:r<0?0:r,e.push(r)),e}const n=(t=t.replace(/^#/,"")).length;return 6!==n&&3!==n&&(t="000000"),e=3===n?t.split("").map((t=>`${t}${t}`)):t.match(/[0-9a-f]{2}/gi)||[],e.map((t=>((t=parseInt(t,16))<0&&(t=0),t>ms&&(t=ms),t)))}function xs(t){let[e,n,r]=bs(t);e/=ms,n/=ms,r/=ms;const i=Math.max(e,n,r),o=i-Math.min(e,n,r);let a,s,l;return a=0==o?0:i===e?(n-r)/o%6:i===n?(r-e)/o+2:(e-n)/o+4,a*=60,a<0&&(a+=360),l=i,s=0===o?0:o/l,s*=100,l*=100,[a,s,l]}function Ms(t,e,n){let r=Math.round(65536*t)+Math.round(256*e)+Math.round(n);r=r.toString(16,6);const i=r.length;if(i<6)for(let t=0;t<6-i;t++)r=`0${r}`;return r=r.toUpperCase(),`#${r}`}function Ls(t,e,n,r){let i,o,a;i=t+1.4075*(n-128),o=t-.3455*(e-128)-.7169*(n-128),a=t+1.779*(e-128),i=i<0?0:i,i=i>ms?ms:i,o=o<0?0:o,o=o>ms?ms:o,a=a<0?0:a,a=a>ms?ms:a;const s=[i,o,a];return void 0!==r&&s.push(r>1?1:r<0?0:r),s}function Cs(t=0,e=0,n=0,r){const i=[t,e,n].map(((t,e)=>{let n=t;return n&&(n=parseFloat(n)),0===e?(n%=360)<0?n+360:n:ws(Math.round(t),0,100)})),o=Math.round(i[2]/100*255);if(0==i[1])return[o,o,o];const a=i[0],s=a%60,l=Math.round(i[2]*(100-i[1])/1e4*255),c=Math.round(i[2]*(6e3-i[1]*s)/6e5*255),u=Math.round(i[2]*(6e3-i[1]*(60-s))/6e5*255);let A;switch(Math.floor(a/60)){case 0:A=[o,u,l];break;case 1:A=[c,o,l];break;case 2:A=[l,o,u];break;case 3:A=[l,c,o];break;case 4:A=[u,l,o];break;default:A=[o,l,c]}return void 0!==r&&A.push(ws(Number(r),0,1)),A}function Es(t=0,e=0,n=0){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>255&&(t=255),e>255&&(e=255),n>255&&(n=255),t/=255,e/=255,n/=255;const r=Math.max(t,e,n),i=r-Math.min(t,e,n);let o,a,s;return o=0==i?0:r==t?(e-n)/i%6:r==e?(n-t)/i+2:(t-e)/i+4,o*=60,o<0&&(o+=360),s=r,a=0==i?0:i/s,a*=100,s*=100,[o,a,s]}function Bs(t,e,n){const r=Cs(t,e,n).map((t=>Math.round(t)));return Ms.apply(this,r)}function Ss(t=0,e=0,n=0,r){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>=360&&(t=359),e>100&&(e=100),n>100&&(n=100),e/=100,n/=100;const i=(1-Math.abs(2*n-1))*e,o=t/60,a=i*(1-Math.abs(o%2-1));let s=0,l=0,c=0;o>=0&&o<1?(s=i,l=a):o>=1&&o<2?(s=a,l=i):o>=2&&o<3?(l=i,c=a):o>=3&&o<4?(l=a,c=i):o>=4&&o<5?(s=a,c=i):(s=i,c=a);const u=n-i/2;s+=u,l+=u,c+=u,s*=ms,l*=ms,c*=ms;const A=[s,l,c];return void 0!==r&&A.push(r>1?1:r<0?0:r),A}function Ts(t,e,n,r){return Ps(Cs(t,e,n,r))}function Ds(...t){return Ts.apply(this,t)}function Is(t){const e=t/100;let n,r,i;return e<66?n=255:(n=e-55,n=351.97690566805693+.114206453784165*n-40.25366309332127*Math.log(n),n<0&&(n=0),n>255&&(n=255)),e<66?(r=e-2,r=-155.25485562709179-.44596950469579133*r+104.49216199393888*Math.log(r),r<0&&(r=0),r>255&&(r=255)):(r=e-50,r=325.4494125711974+.07943456536662342*r-28.0852963507957*Math.log(r),r<0&&(r=0),r>255&&(r=255)),e>=66?i=255:e<=20?i=0:(i=e-10,i=.8274096064007395*i-254.76935184120902+115.67994401066147*Math.log(i),i<0&&(i=0),i>255&&(i=255)),[n,r,i]}function Ps(t,e){const n=t.length;return 4===n&&(e=t.pop()),t=t.map((t=>Math.round(t))),4===n?(t.push(e),`rgba(${t.join(", ")})`):void 0!==e&&3===t.length?(t.push(e>1?1:e<0?0:e),`rgba(${t.join(", ")})`):`rgb(${t.join(", ")})`}function Fs(t,e){return e?Fs(e,t%e):t}function ks(t,e){let n,r,i,o;return 0===e?[1,0]:(n=ks(e,t%e),i=n[0],o=n[1],r=[o,i-Math.floor(t/e)*o],i=r[0],o=r[1],r)}function Rs(t,e,n){let r,i,o,a,s,l;return t*e!=0&&(r=Fs(t,n),r%e==0&&1!==e?(a=ks(t,n),o=a[0],a[1],l=o*(e/r),function(){let t,e,o;for(o=[],i=t=0,e=n;0<=e?t<e:t>e;i=0<=e?++t:--t)(s=l+i*Math.floor(n/r)>0)&&o.push(s);return o}().slice(0,r)):[e])}function Us(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Os(t){const{length:e}=t;let n=[];for(let r=0;r<e/2;r++){const e=2*r,i=t[e],o=t[e+1];n[r]=i+o}return n}function Hs(t){if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(3),n=(parseInt(t.slice(1,3),16)/255).toFixed(1),r=new $t.Color;return r.setHex(Number(e)),`rgba(${Math.round(255*r.r)},${Math.round(255*r.g)},${Math.round(255*r.b)},${n})`}if(7===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(1),n=new $t.Color;return n.setHex(Number(e)),`rgb(${Math.round(255*n.r)},${Math.round(255*n.g)},${Math.round(255*n.b)})`}return"rgb"===t.slice(0,3)||"rgba"===t.slice(0,4)?t:"rgba(255,255,255,1)"}function Ys(t){let e,n=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),r=(n&&n[4]||"").trim(),i=n?(256|n[1]).toString(16).slice(1)+(256|n[2]).toString(16).slice(1)+(256|n[3]).toString(16).slice(1):t;return e=""!==r?r:1,i+=e,i}var Qs=Object.freeze({__proto__:null,decode:bs,hex2hsv:xs,hex2hsb:function(t){return xs(t)},rgb2hex:Ms,hex2hsl:function(t){let[e,n,r]=bs(t);e/=ms,n/=ms,r/=ms;const i=Math.max(e,n,r),o=Math.min(e,n,r),a=i-o;let s,l,c;return s=0==a?0:i===e?(n-r)/a%6:i===n?(r-e)/a+2:(e-n)/a+4,s*=60,s<0&&(s+=360),l=(i+o)/2,c=0==a?0:a/(1-Math.abs(2*l-1)),c*=100,l*=100,[s,c,l]},hex2yuv:function(t){const[e,n,r]=bs(t);return[.299*e+.587*n+.114*r,-.168736*e+-.331264*n+.5*r+128,.5*e+-.418688*n+-.081312*r+128]},yuv2rgb:Ls,hsv2rgb:Cs,hsb2rgb:function(t,e,n,r){return Cs(t,e,n,r)},rgb2hsv:Es,rgb2hsb:function(t,e,n){return Es(t,e,n)},hsv2hex:Bs,hsb2hex:function(t,e,n){return Bs(t,e,n)},rgb2hsl:function(t=0,e=0,n=0){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>255&&(t=255),e>255&&(e=255),n>255&&(n=255),t/=255,e/=255,n/=255;const r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i;let a,s,l;return a=0==o?0:r==t?(e-n)/o%6:r==e?(n-t)/o+2:(t-e)/o+4,a*=60,a<0&&(a+=360),l=(r+i)/2,s=0==o?0:o/(1-Math.abs(2*l-1)),s*=100,l*=100,a=a.toFixed(0),s=s.toFixed(0),l=l.toFixed(0),[a,s,l]},hsl2rgb:Ss,hsl2hex:function(t,e,n){return Ms(...Ss(t,e,n))},randomRgb:function(t=0,e=255){const n=(n,r)=>{let i=e,o=t;return i<o&&(i=n,o=r),Math.random()*(i-o)+o};return[n(t,e),n(t,e),n(t,e)]},randomHsb:function(){const t=(t,e)=>{let n=e,r=t;return n<r&&(n=t,r=e),Math.random()*(n-r)+r};return[t(0,360),t(0,100),t(0,100)]},complement:function(t){const e=bs(t).map((t=>Math.round(t))),n=Math.min(...e)+Math.max(...e);return Ms(...e.map((t=>n-t)))},reversed:function(t){return Ms(...bs(t).map((t=>Math.round(t))).map((t=>ms-t)))},hex2RgbString:function(t,e){return Ps(bs(t),e)},hsv2RgbString:Ts,hsb2RgbString:Ds,hsl2RgbString:function(t,e,n,r){return Ps(Ss(t,e,n,r))},yuv2RgbString:function(t,e,n,r){return Ps(Ls(t,e,n,r))},encodeColorData:function(t){let e=t.slice(0,3),n=t.slice(3);if(e=e.map((t=>t<0?0:t>255?255:t)),0===n.length)n=Array(4).fill(0);else{let t=n[0];t=t%360?t%360:t,t=t<0?360+t:t;const e=parseInt(t/256,10),r=parseInt(t%256,10);n.splice(1,0,r),n[0]=e}return e.concat(n).map((t=>_s(Math.round(t).toString(16),2))).join("")},decodeColorData:function(t=""){const e=t.match(/[a-z\d]{2}/gi)||[],n=7-e.length,r=Array(n<0?0:n).fill("00"),i=e.concat(r),o=i.slice(3);return[...i.slice(0,3).map((t=>parseInt(t,16))),parseInt(o[0]+o[1],16),parseInt(o[2],16),parseInt(o[3],16)]},decodeColorDataWithPosition:function(t=""){const e=t.match(/[a-z\d]{2}/gi)||[],n=7-e.length,r=Array(n<0?0:n).fill("00"),i=e.concat(r).map((t=>parseInt(t,16)));return i[3]/=100,i[4]/=100,i},encodeColorDataWithPosition:function(t){let e=t.slice(0,3),n=t.slice(3);e=e.map((t=>t<0?0:t>255?255:t));let r=4-n.length;r=r<0?0:r,n=n.concat(Array(r).fill(0));const[i,o]=n;return n[0]=100*i,n[1]=100*o,e.concat(n).map((t=>_s(Math.round(t).toString(16),2))).join("")},encodeSceneData:function(t){if(0===t.length)return"";const e=(t,n)=>t.reduce(((t,n)=>n.concat?e(n,t):t+_s(Math.round(n).toString(16),2)),n);return e(t,"")},decodeSceneData:function(t){if(!t)return[];const e=t.match(/[a-z\d]{2}/gi),[n,r,i,o,...a]=e,s=[n,r,i,o].map((t=>parseInt(t,16))),l=[],c=Math.min(s[3],a.length/3)||1;s[3]=c;for(let t=0;t<c;t++){const e=3*t-1;l.push([a[e+1],a[e+2],a[e+3]].map((t=>parseInt(t,16))))}return s.concat(l)},decodeSceneDataWithMode:function(t){if(!t)return[];const e=t.match(/[a-z\d]{2}/gi),[n,r,i,o,...a]=e,s=[n,r,i,o].map((t=>parseInt(t,16))),l=[],c=Math.min(s[3],a.length/8);s[3]=c;for(let t=0;t<c;t++){const e=8*t-1,n=[];let r=1;for(;r<9;)n.push(a[e+r]),r++;l.push(n.map((t=>parseInt(t,16))))}return s.concat(l)},kelvin2rgbUsingTH:function(t){const e=t/100;let n,r,i;return e<=66?n=255:(n=e-60,n=329.698727446*Math.pow(n,-.1332047592),n<0&&(n=0),n>255&&(n=255)),e<=66?(r=e,r=99.4708025861*Math.log(r)-161.1195681661,r<0&&(r=0),r>255&&(r=255)):(r=e-60,r=288.1221695283*Math.pow(r,-.0755148492),r<0&&(r=0),r>255&&(r=255)),e>=66?i=255:e<=19?i=0:(i=e-10,i=138.5177312231*Math.log(i)-305.0447927307,i<0&&(i=0),i>255&&(i=255)),[n,r,i]},kelvin2rgb:Is,rgb2kelvin:function([t,,e]){let n,r=1e3,i=4e4;for(;i-r>.4;){n=(i+r)/2;const[o,,a]=Is(n);a/o>=e/t?i=n:r=n}return Math.round(n)},toRgbString:Ps,calculateWhiteColorForView:(t,e)=>Ds(36.8,60*e/100,100,.6+t/100*.4),_gcd:Fs,_gcdEx:ks,getSolutionOfLinearConguenceEquation:Rs,hsvToRgb:function(t,e,n){let r,i,o,a,s,l,c,u;switch(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(1,e)),n=Math.max(0,Math.min(1,n)),a=(Rs(1,Math.floor(t/60),6)||[0])[0],s=t/60-a,l=n*(1-e),c=n*(1-s*e),u=n*(1-(1-s)*e),a%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c}return{r:Math.round(255*r),g:Math.round(255*i),b:Math.round(255*o)}},rgbToHsv:function(t,e,n){let r,i,o;const a=Math.min(t,e,n),s=Math.max(t,e,n),l=s-a;return o=s/255,0===s?{h:-1,s:0,v:o}:(i=l/s,r=t===s?(e-n)/l:e===s?2+(n-t)/l:4+(t-e)/l,r*=60,r<0&&(r+=360),{h:Math.round(r),s:i,v:o})},_hueToRgb:Us,hslToRgb:function(t,e,n){const r=(t%360+360)%360/360,i=n<.5?n*(1+e):n+e-n*e,o=2*n-i,a=Us(o,i,r+1/3),s=Us(o,i,r),l=Us(o,i,r-1/3);return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*l)}},rgbToHsl:function(t,e,n){let r,i,o,a,s,l,c,u;switch(r=parseFloat(t)/255,i=parseFloat(e)/255,o=parseFloat(n)/255,c=Math.min(r,i,o),u=Math.max(r,i,o),l=(u+c)/2,u===c?(s=0,a=Number.NaN):s=l<.5?(u-c)/(u+c):(u-c)/(2-u-c),u){case r:a=(i-o)/(u-c);break;case i:a=2+(o-r)/(u-c);break;case o:a=4+(r-i)/(u-c)}return a*=60,a+=a<0?360:0,{h:a,s:s,l:l}},hex2ahexUpcase:function(t){return(function(t,e=1){return`#${La(Math.round(255*e).toString())}${t.replace(vs,"")}`.toUpperCase()}(t)||"#000000").toUpperCase()},hex2rgba:function(t,e=1){const n=La(Math.round(255*e).toString());return`${t.replace(vs,"")}${n}`.toUpperCase()},getRgb:Os,hex2Rgba:Hs,hex8toHex6:function(t){return Ys(Hs(t))},rgba2hex:Ys,decodeColor:function(t){let e;if(gs.test(t)){const n=t.match(ys)||[];e=[n[1],n[2],n[3]].map((t=>parseInt(t)));let r=n[4];return void 0!==r&&(r=r>1?1:r<0?0:r,r=Math.floor(255*r),e.push(r)),e}const n=(t=t.replace(vs,"")).length;return 6!==n&&3!==n&&8!==n&&(t="000000"),e=3===n?t.split("").map((t=>`${t}${t}`)):Os(t),e=e.map((t=>{let e=parseInt(t,16);return e<0&&(e=0),e>255&&(e=255),e})),3===e.length&&e.push(255),e}});class Ns extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.is3d=void 0,this.origin=void 0,this.position=void 0,this.directionAngle=void 0,this.isScale=void 0,this.scale=void 0,this.params=void 0,this.animation=void 0,this.breatheLayer=void 0,this.markerLayer=void 0,this.createPilePosition=t=>{if(this.is3d){const e=new $t.Object3D;return e.position.set(t.position.x+this.origin.x,-(t.position.y+this.origin.y),0),this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.indoorMap2d.map.modelLoader.loadModelLayer({value:t.pileModelHref||`${this.indoorMap2d.map.getStaticPrefix()}/app/robot/models/pilePosition.gltf`,unionId:String((new Date).getTime())},{info:{id:"002",parent:"pilePosition",type:"pilePosition",name:"pilePosition",preview:""},infoKey:"pilePosition",scale:.8,rotate:0,point:{x:0,y:0,z:0},origin:this.origin},!1,"pilePosition").then((t=>{t&&(this.markerLayer=t.layer,e.add(this.markerLayer))})),e}{const e=new $t.Object3D;e.position.set(t.position.x+this.origin.x,-(t.position.y+this.origin.y),0);const n={point:{x:0,y:0},image:t.pileIcon||cs,size:t.size||8,height:Rt.pilePosition,isScale:this.isScale,scale:this.scale},r=new hs(n);return this.markerLayer=r.layer,e.add(r.layer),e}},this.createBreathe=t=>{const{rate:e=2,borderWidth:n=1,borderColor:r="#00000000",color:i="#FF000000",duration:o=2,animationType:a=Vt.normal}=t,s={point:{x:0,y:0},indoorMap2d:this.indoorMap2d,size:this.params.size||8,rate:e,animate:!0,color:Hs(i),borderColor:Hs(r),duration:o,borderWidth:n,animationType:a,isScale:this.isScale,scale:this.scale,height:Rt.pilePosition-.01,useWorker:this.indoorMap2d.useWorker};return new fs(s)},this.getAnimationConfig=()=>this.animation,this.setAnimationConfig=t=>{this.animation=t,this.showBreathe(!1,t)},this.showBreathe=async(t,e)=>{if(e&&(this.animation=e),t){if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}if(this.animation){this.breatheLayer=this.createBreathe(this.animation),this.layer&&this.layer.add(this.breatheLayer.layer);const t=this.breatheLayer.getFrameAnimationId();return void Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}!this.animation&&this.logger.warn("If you want to setup to show breathe animation, please set the params")}},this.updatePilePosition=(t,e)=>{if(e&&(this.origin={...e}),this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition)this.layer.scope.updateImgCloudPosition({x:t.x+this.origin.x,y:t.y+this.origin.y});else{const e=this.layer.position.z;this.layer.position.set(t.x+this.origin.x,-(t.y+this.origin.y),e)}},this.updatePilePositionDirection=t=>{this.is3d?this.layer.rotation.z=-t:this.markerLayer.type===It.indoorMapImgCloud&&(this.markerLayer.isSprite?this.markerLayer.material.rotation=-t:this.markerLayer.rotation.z=-t),this.directionAngle=t},this.getPilePositionDirectionAngle=()=>this.directionAngle,this.hidePilePosition=t=>{this.layer.visible=!t},this.removePilePosition=async()=>{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}return this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.is3d=t.is3d,this.origin=t.origin||{x:0,y:0},this.position=t.position,this.directionAngle=0,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.animation=t.animation||void 0,this.params=t,this.breatheLayer=null,this.markerLayer=null,this.layer=this.createPilePosition(t)}}const js=(t,e)=>{void 0===e&&(e={});const n=e.hasOwnProperty("fontFace")?e.fontFace:"Arial",r=e.hasOwnProperty("fontSize")?e.fontSize:16,i=e.hasOwnProperty("borderThickness")?e.borderThickness:2;!e.hasOwnProperty("borderColor")||e.borderColor,!e.hasOwnProperty("backgroundColor")||e.backgroundColor;const o=e.hasOwnProperty("color")?e.color:"#000000";let a=e.fontScale||.3;a>1&&(a=1);const s=document.createElement("canvas"),l=s.getContext("2d");if(l){const c=e.bold?"Bold ":" ",u=((t,e)=>{if(!t)return window&&window.devicePixelRatio||1;const n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e||window&&window.devicePixelRatio||1)/n})(l,e.pixelRatio||1);l.font=c+r+"px "+n;const A=l.measureText(t).width+2*i,h=A;s.style.width=A+"px",s.style.height=h+"px",s.width=A*u,s.height=h*u,l.scale(u,u),l.fillStyle=o,l.textAlign="center",l.textBaseline="middle",l.fillText(t,A/2,h/2);const d=new $t.CanvasTexture(s);d.magFilter=$t.LinearFilter,d.minFilter=$t.LinearFilter,d.needsUpdate=!0;const p=new $t.PlaneGeometry(A,h),f=new $t.MeshBasicMaterial({map:d,transparent:!0});f.depthTest=!1;const m=new $t.Mesh(p,f);return m.scale.set(a,a,1),m}return null},Ws=new $t.Box3,Vs=new $t.Vector3;class zs extends $t.InstancedBufferGeometry{constructor(){super(),this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new $t.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new $t.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(t){const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==e&&(e.applyMatrix4(t),n.applyMatrix4(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new $t.InstancedInterleavedBuffer(e,6,1);return this.setAttribute("instanceStart",new $t.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new $t.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new $t.InstancedInterleavedBuffer(e,6,1);return this.setAttribute("instanceColorStart",new $t.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new $t.InterleavedBufferAttribute(n,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new $t.WireframeGeometry(t.geometry)),this}fromLineSegments(t){const e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new $t.Box3);const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),Ws.setFromBufferAttribute(e),this.boundingBox.union(Ws))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $t.Sphere),null===this.boundingBox&&this.computeBoundingBox();const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let i=0,o=t.count;i<o;i++)Vs.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(Vs)),Vs.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(Vs));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}zs.prototype.isLineSegmentsGeometry=!0,$t.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new $t.Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},$t.ShaderLib.line={uniforms:$t.UniformsUtils.merge([$t.UniformsLib.common,$t.UniformsLib.fog,$t.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass\tendcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class Gs extends $t.ShaderMaterial{constructor(t){super({type:"LineMaterial",uniforms:$t.UniformsUtils.clone($t.ShaderLib.line.uniforms),vertexShader:$t.ShaderLib.line.vertexShader,fragmentShader:$t.ShaderLib.line.fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){!0===t?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),!0===t?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),!0===t?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(t)}}Gs.prototype.isLineMaterial=!0;const Ks=new $t.Vector3,Zs=new $t.Vector3,Xs=new $t.Vector4,qs=new $t.Vector4,Js=new $t.Vector4,$s=new $t.Vector3,tl=new $t.Matrix4,el=new $t.Line3,nl=new $t.Vector3,rl=new $t.Box3,il=new $t.Sphere,ol=new $t.Vector4;function al(t,e,n,r){return ol.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),ol.multiplyScalar(1/ol.w),ol.x=n/r.width,ol.y=n/r.height,ol.applyMatrix4(t.projectionMatrixInverse),ol.multiplyScalar(1/ol.w),Math.abs(Math.max(ol.x,ol.y))}class sl extends $t.Mesh{constructor(t=new zs,e=new Gs({color:16777215*Math.random()})){super(t,e),this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,r=new Float32Array(2*e.count);for(let t=0,i=0,o=e.count;t<o;t++,i+=2)Ks.fromBufferAttribute(e,t),Zs.fromBufferAttribute(n,t),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+Ks.distanceTo(Zs);const i=new $t.InstancedInterleavedBuffer(r,2,1);return t.setAttribute("instanceDistanceStart",new $t.InterleavedBufferAttribute(i,1,0)),t.setAttribute("instanceDistanceEnd",new $t.InterleavedBufferAttribute(i,1,1)),this}raycast(t,e){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');const n=void 0!==t.params.Line2&&t.params.Line2.threshold||0,r=t.ray,i=t.camera,o=i.projectionMatrix,a=this.matrixWorld,s=this.geometry,l=this.material,c=l.resolution,u=l.linewidth+n,A=s.attributes.instanceStart,h=s.attributes.instanceEnd,d=-i.near;null===s.boundingSphere&&s.computeBoundingSphere(),il.copy(s.boundingSphere).applyMatrix4(a);const p=al(i,Math.max(i.near,il.distanceToPoint(r.origin)),u,c);if(il.radius+=p,!1===t.ray.intersectsSphere(il))return;null===s.boundingBox&&s.computeBoundingBox(),rl.copy(s.boundingBox).applyMatrix4(a);const f=al(i,Math.max(i.near,rl.distanceToPoint(r.origin)),u,c);if(rl.max.x+=f,rl.max.y+=f,rl.max.z+=f,rl.min.x-=f,rl.min.y-=f,rl.min.z-=f,!1!==t.ray.intersectsBox(rl)){r.at(1,Js),Js.w=1,Js.applyMatrix4(i.matrixWorldInverse),Js.applyMatrix4(o),Js.multiplyScalar(1/Js.w),Js.x*=c.x/2,Js.y*=c.y/2,Js.z=0,$s.copy(Js),tl.multiplyMatrices(i.matrixWorldInverse,a);for(let t=0,n=A.count;t<n;t++){if(Xs.fromBufferAttribute(A,t),qs.fromBufferAttribute(h,t),Xs.w=1,qs.w=1,Xs.applyMatrix4(tl),qs.applyMatrix4(tl),Xs.z>d&&qs.z>d)continue;if(Xs.z>d){const t=Xs.z-qs.z,e=(Xs.z-d)/t;Xs.lerp(qs,e)}else if(qs.z>d){const t=qs.z-Xs.z,e=(qs.z-d)/t;qs.lerp(Xs,e)}Xs.applyMatrix4(o),qs.applyMatrix4(o),Xs.multiplyScalar(1/Xs.w),qs.multiplyScalar(1/qs.w),Xs.x*=c.x/2,Xs.y*=c.y/2,qs.x*=c.x/2,qs.y*=c.y/2,el.start.copy(Xs),el.start.z=0,el.end.copy(qs),el.end.z=0;const n=el.closestPointToPointParameter($s,!0);el.at(n,nl);const i=$t.MathUtils.lerp(Xs.z,qs.z,n),s=i>=-1&&i<=1,l=$s.distanceTo(nl)<.5*u;if(s&&l){el.start.fromBufferAttribute(A,t),el.end.fromBufferAttribute(h,t),el.start.applyMatrix4(a),el.end.applyMatrix4(a);const n=new $t.Vector3,i=new $t.Vector3;r.distanceSqToSegment(el.start,el.end,i,n),e.push({point:i,pointOnLine:n,distance:r.origin.distanceTo(i),object:this,face:null,faceIndex:t,uv:null,uv2:null})}}}}}sl.prototype.isLineSegments2=!0;class ll extends zs{constructor(){super(),this.type="LineGeometry"}setPositions(t){for(var e=t.length-3,n=new Float32Array(2*e),r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setPositions(n),this}setColors(t){for(var e=t.length-3,n=new Float32Array(2*e),r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setColors(n),this}fromLine(t){var e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}}ll.prototype.isLineGeometry=!0;class cl extends sl{constructor(t=new ll,e=new Gs({color:16777215*Math.random()})){super(t,e),this.type="Line2"}}cl.prototype.isLine2=!0;class ul extends rs{constructor(t){super(),this.params=void 0,this.lineLayer=void 0,this.lineCoverLayer=void 0,this.unitLayer=void 0,this.sideLayer=void 0,this.sideVertexEvent=void 0,this.vertexLayers=void 0,this.vertexPoints=void 0,this.d3VertexPoints=void 0,this.vertexEvents=void 0,this.center=void 0,this.minY=void 0,this.maxX=void 0,this.innerWidth=void 0,this.innerHeight=void 0,this.vertexEventEnable=void 0,this.isHideVertex=void 0,this.isHideUniText=void 0,this.isHideLayer=void 0,this.createLines=t=>{let e=[];const n=[];for(let r=0,i=t.points.length;r<i;r++){let i=t.points[r];e.push(new $t.Vector3(i.x,i.y,t.height)),n.push(i.x,i.y,t.height)}this.vertexPoints=e;let r=null,i=null,o=null,a=null;const s=t.lineWidth,l=t.color,c=t.opacity,u=t.dashSize,A=t.gapSize,h=t.isDash,d=t.shouldExtendLine,p=t.extendTimes,f=t.depthWrite,m=t.isFatLine;if(t.is3d){var g,y,v;const e=this.calcHorizontalOnBase(t.points,.5);this.d3VertexPoints=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];this.d3VertexPoints.push(new $t.Vector2(n.x,n.y))}const n={depth:t.d3Height,bevelEnabled:!1},i=new $t.MeshBasicMaterial({color:l,opacity:c,transparent:!0}),o=new $t.Shape(this.d3VertexPoints),a=new $t.ExtrudeGeometry(o,n);null==(g=a.boundingBox)||g.getCenter(this.center),this.minY=null==(y=a.boundingBox)?void 0:y.min.y,this.maxX=null==(v=a.boundingBox)?void 0:v.max.x,r=new $t.Mesh(a,i)}else{var _,w,b;const e=new ll;if(e.setPositions(n),e.computeBoundingBox(),null==(_=e.boundingBox)||_.getCenter(this.center),this.minY=null==(w=e.boundingBox)?void 0:w.min.y,this.maxX=null==(b=e.boundingBox)?void 0:b.max.x,h?o=new Gs({color:d?"#ffffff":l,dashed:h,linewidth:d?s*p:s,alphaToCoverage:!0,transparent:!0,opacity:d?0:c,dashSize:u,gapSize:A,depthWrite:f,vertexColors:!1}):m?(o=new Gs({color:d?"#ffffff":l,linewidth:d?s*p:s,transparent:!0,opacity:d?0:c,depthWrite:!0,colorWrite:!1,stencilWrite:!0,stencilRef:1,stencilZPass:$t.ReplaceStencilOp}),a=new Gs({color:d?"#ffffff":l,dashed:h,linewidth:d?s*p:s,transparent:!0,opacity:d?0:c,depthWrite:!0,vertexColors:!1,stencilWrite:!0,stencilRef:0,stencilFunc:$t.NotEqualStencilFunc,stencilFail:$t.ReplaceStencilOp,stencilZPass:$t.ReplaceStencilOp}),o.needsUpdate=!0,a.needsUpdate=!0,a.resolution.set(this.innerWidth/2,this.innerHeight/2),i=new cl(e,a),i.scale.set(1,1,1),i.computeLineDistances(),i.renderOrder=2):(o=new Gs({color:d?"#ffffff":l,dashed:!0,gapSize:0,dashOffset:0,dashSize:100,alphaToCoverage:!0,linewidth:d?s*p:s,transparent:!0,opacity:d?0:c,depthWrite:f,vertexColors:!1}),o.needsUpdate=!0),o.resolution.set(this.innerWidth/2,this.innerHeight/2),r=new cl(e,o),r.scale.set(1,1,1),r.computeLineDistances(),i&&(r.add(i),r.renderOrder=1,r.fatLine=i,r.fatLineMaterial=a),d){const t=new ll;t.setPositions(n);let e=null;e=new Gs(h?{color:l,linewidth:s,vertexColors:!1,alphaToCoverage:!0,dashed:h,dashSize:u,gapSize:A}:{color:l,alphaToCoverage:!0,dashed:!0,dashSize:100,gapSize:0,dashOffset:0,linewidth:s,vertexColors:!1}),e.resolution.set(this.innerWidth/2,this.innerHeight/2);const i=new cl(t,e);i.type="IndoorMapLineLayer",i.computeLineDistances(),this.lineCoverLayer=i,r.add(i)}if(0===t.vertexParams.showVertexIndex.length&&(t.vertexParams.showVertexIndex=new Array(t.points.length).fill("").map(((t,e)=>e))),!t.noVertices)for(let e=0,n=t.points.length;e<n;e++)if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){let n=null;n="circle"===t.vertexParams.vertexType?this.createCircles(t,e):this.createSquares(t,e),this.isHideVertex=!1,n&&(n.position.set(this.vertexPoints[e].x,this.vertexPoints[e].y,this.vertexPoints[e].z+1),r.add(n))}if(!t.noUnitText){const e={text:t.unitText,unitTextFontStyle:t.unitTextFontStyle},n=this.createUnitTextLayer(e);this.isHideUniText=!1,this.unitLayer=n,r.add(n)}if(t.showSideVertex){const e=this.createSideCircles(t);this.sideLayer=e,e.position.set(this.center.x,this.center.y+100*t.sideParams.radius*this.params.sideParams.scale,this.params.height),r.add(e)}}return this.lineLayer=r,this.dispatchScope(r),r.type="IndoorMapLineLayer",r},this.createUnitTextLayer=t=>{const e=js(t.text,t.unitTextFontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.position.set(this.center.x,this.center.y,0),e},this.updateUnitText=t=>{if(this.unitLayer){const n=js(t,this.params.unitTextFontStyle);this.dispatchScope(n);const r=this.vertexPoints[0],i=this.vertexPoints[1];if(r&&i){var e;const t=this.calcDegrees(i,r);n.type=It.indoorMapTextLayer,n.position.set(this.center.x,this.center.y-5,0),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.rotateZ(t),null==(e=this.layer)||e.add(this.unitLayer)}}},this.updateSquareVertexDegree=t=>{const e=this.vertexLayers[0],n=this.vertexLayers[1];if(void 0===t){const t=this.vertexPoints[0],r=this.vertexPoints[1];if(t&&r){const i=this.calcDegrees(r,t);e&&n&&(e.rotateZ(i),n.rotateZ(i))}}else{const r=t*Math.PI/180;e&&n&&(e.rotateZ(r),n.rotateZ(r))}},this.updateSideLayer=()=>{if(this.sideLayer){const t=this.calcSidePoints(this.center,this.vertexPoints[0],100*this.params.sideParams.radius*this.params.sideParams.scale);this.sideLayer.position.set(t.x,t.y,this.params.height)}},this.calcSidePoints=(t,e,n)=>{const r=this.calcDegrees(t,e)+Math.PI/2;return this.movePoint(t,r,n)},this.calcDegrees=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),this.movePoint=(t,e,n)=>{const r=n*Math.sin(e),i=n*Math.cos(e);return new $t.Vector3(t.x+i,t.y+r)},this.updateLinePoints=t=>{let e=[];this.params.points=t;const n=t;$a(n);const r=[];for(let t=0,i=n.length;t<i;t++){let i=n[t];e.push(new $t.Vector3(i.x,i.y,this.params.height)),r.push(i.x,i.y,this.params.height)}this.vertexPoints=e,this.layer.geometry.setPositions(r)},this.createCircles=(t,e)=>{const n=t.vertexParams.radius,r=t.vertexParams.segments,i=t.vertexParams.vertexImages;let o=null,a=null;if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){const n=(new $t.TextureLoader).load(i[e]||cs,(()=>{n.needsUpdate=!0,n.magFilter=$t.LinearFilter,n.minFilter=$t.LinearFilter}));o=new $t.SpriteMaterial({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1}),a=new $t.Sprite(o);const r=t.vertexParams.scale;a.scale.set(r,r,r)}else{const e=new $t.CircleGeometry(n,r);o=new $t.MeshBasicMaterial({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});const i=new $t.Mesh(e,o);i.type=It.indoorMapStable;const s=new $t.CircleGeometry(n*t.vertexParams.extendTimes,r),l=new $t.MeshBasicMaterial({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});a=new $t.Mesh(s,l),a.add(i)}return a.type="IndoorMapLineLayerCircle",a.userIndex=e,this.vertexLayers.push(a),this.dispatchScope(a),a},this.createSideCircles=t=>{const e=t.sideParams.radius,n=t.sideParams.segments,r=t.sideParams.sideVertexImage;let i=null,o=null;if(t.sideParams.showSideVertexImage&&!t.sideParams.isScale){const e=(new $t.TextureLoader).load(r||cs,(()=>{e.needsUpdate=!0,e.magFilter=$t.LinearFilter,e.minFilter=$t.LinearFilter}));i=new $t.SpriteMaterial({map:e,transparent:!0,color:t.sideParams.sideVertexColor,opacity:t.sideParams.opacity,sizeAttenuation:!1}),o=new $t.Sprite(i);const n=t.sideParams.scale;o.scale.set(n,n,n)}else{const r=new $t.CircleGeometry(e,n);i=new $t.MeshBasicMaterial({color:t.sideParams.sideVertexColor,transparent:!0,opacity:t.sideParams.opacity}),o=new $t.Mesh(r,i)}return o.type="IndoorMapLineLayerCircle",o.userIndex=-1,this.dispatchScope(o),o},this.createSquares=(t,e)=>{const n=t.vertexParams.radius,r=t.vertexParams.vertexImages;let i=null,o=null;if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){const n=(new $t.TextureLoader).load(r[e]||cs,(()=>{n.needsUpdate=!0,n.magFilter=$t.LinearFilter,n.minFilter=$t.LinearFilter}));i=new $t.SpriteMaterial({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1}),o=new $t.Sprite(i);const a=t.vertexParams.scale;o.scale.set(a,a,a)}else{const e=new $t.PlaneGeometry(2*n,2*n);i=new $t.MeshBasicMaterial({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});const r=new $t.Mesh(e,i);r.type=It.indoorMapStable;const a=new $t.PlaneGeometry(2*n*t.vertexParams.extendTimes,2*n*t.vertexParams.extendTimes),s=new $t.MeshBasicMaterial({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});o=new $t.Mesh(a,s),o.add(r)}return o.type="IndoorMapLineLayerCircle",o.userIndex=e,this.vertexLayers.push(o),this.dispatchScope(o),o},this.removeLineLayer=()=>this.remove(),this.disableEnableFilter=t=>{this.layer.userData.enableFilter=t},this.hideVertex=t=>{this.vertexEventEnable=!t,this.isHideVertex=t,this.vertexLayers.forEach((e=>{e&&(e.visible=!t)})),this.sideLayer&&(this.sideLayer.visible=!t)},this.getIsHideVertex=()=>this.isHideVertex,this.getIsHideUniText=()=>this.isHideUniText,this.getVertexEventEnable=()=>this.vertexEventEnable,this.hideUnitText=t=>{this.unitLayer&&(this.isHideUniText=t,this.unitLayer.visible=!t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.hideLayer=(t,e=!1)=>{this.layer&&(e?this.layer.visible=!t:(this.isHideLayer&&(this.layer.visible=!t),this.isHideLayer=e))},this.vertexLayers=[],this.vertexPoints=[],this.d3VertexPoints=[],this.center=new $t.Vector3,this.isHideUniText=!0,this.isHideVertex=!0,this.isHideLayer=!1;const e={class:"",is3d:!1,d3Height:5,color:"#BC2121",opacity:.5,transparent:!0,height:5,noVertices:!1,depthWrite:!0,noUnitText:!1,unitText:"0.0m",lineWidth:1,isDash:!0,dashSize:1,gapSize:.5,shouldExtendLine:!0,extendTimes:6,showSideVertex:!1,sideParams:{isScale:!1,scale:.02,sideVertexImage:"",sideVertexEvent:()=>{this.logger.info("It seems not set up sideVertexEvent")},showSideVertexImage:!0,radius:4,segments:32,sideVertexColor:"#BC2121",opacity:1},vertexParams:{isScale:!1,scale:.02,vertexImages:[],vertexEvents:[],showVertexIndex:[],showVertexImage:!1,vertexType:"circle",extendTimes:2,radius:4,segments:32,vertexColor:"#BC2121",opacity:1},fontStyle:{color:"#000000",fontSize:24,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1},unitTextFontStyle:{color:"#000000",fontSize:24,fontScale:.3,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1},points:[{x:0,y:0},{x:0,y:0}],isFatLine:!1},n=ra(e,t);$a(n.points),n.is3d&&(n.height=0),this.params=n,this.d3Height=n.d3Height||5,this.innerWidth=n.innerWidth,this.innerHeight=n.innerHeight,this.vertexEvents=n.vertexParams.vertexEvents,this.sideVertexEvent=n.sideParams.sideVertexEvent,this.vertexEventEnable=!0,this.layer=this.createLines(n)}}let Al="() => {\n\tlet requestFrameId;\n\n\tconsole.log('SleepWorkerRender: Thread has been started ');\n\n\tconst evtFunc = msg => {\n\t\n\t\tif (msg.data.name === 'render') {\n\t\t\tbreatheAnimationOffScreenRender(msg.data)\n\t\t}\n\t\tif (msg.data.name === 'remove') {\n\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tconsole.log('SleepWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\t/**\n\t * \n\t */\n\tconst breatheAnimationOffScreenRender = (data) => {\n\t\tconst { canvas, parameters, pixelRatio } = data;\n\t\tif (!canvas) { \n\t\t\tconsole.warn('SleepWorkerRender: Please provide an offscreenCanvas\tparams ');\n\t\t\treturn;\n\t\t}\n\t\tconst context = canvas.getContext('2d');\n\t\tif (!context) {\n\t\t\tconsole.warn('SleepWorkerRender: Please provide canvas element params ');\n\t\t\treturn;\n\t\t}\n\t\tconst ratio = pixelRatio;\n\t\t\tconst fontSize = 32;\n\t\t\tconst size = parameters.size * fontSize;\n\t\t\tcontext?.scale(ratio, ratio);\n\t\t\tcontext.lineWidth = 4;\n\t\t\tcontext.strokeStyle = '#FFFFFF';\n\t\t\tcontext.textBaseline = \"middle\";\n\t\t\tcontext.fillStyle = '#000000';\n\t\t\tcontext.translate(size / 4 * 2.5, size / 8);\n\n\t\t\tconst run = () => {\n\t\t\t\tconst sleepText = 'zzz';\n\t\t\t\tconst sleepArr = sleepText.split('');\n\t\t\t\tlet index = 0;\n\t\t\t\tconst length = sleepArr.length;\n\t\t\t\trequestFrameId = setInterval(() => {\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tcontext.clearRect(0, 0, size * ratio, size * ratio);\n\t\t\t\t\t}\n\t\t\t\t\tconst text = sleepArr[index];\n\t\t\t\t\tcontext.font = fontSize + index * 2 + 'px sans-serif';\n\t\t\t\t\tconst width = context.measureText(text).width * 2;\n\t\t\t\t\tconst height = fontSize + 2;\n\t\t\t\t\tconst xOffSet = width * index + 1;\n\t\t\t\t\tconst yOffSet = height * (length - index);\n\t\t\t\t\tcontext.strokeText(text, xOffSet, yOffSet);\n\t\t\t\t\tcontext.fillText(text, xOffSet, yOffSet);\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tself.postMessage('update');\n\t\t\t\t\t});\n\t\t\t\t\tif (index >= length - 1) {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}, 400);\n\t\t\t}\n\t\n\t\t\trun();\n\t}\n }";Al=Al.substring(Al.indexOf("{")+1,Al.lastIndexOf("}"));const hl=new Blob([Al],{type:"application/javascript"});class dl extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.requestFrameId=void 0,this.frameAnimationId=void 0,this.worker=void 0,this.texture=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.useWorker=void 0,this.initImgCloud=(t,e)=>{this.texture=this.createSleepAnimateCanvas(t);let n=null;if(t.isScale){const e=new $t.PlaneGeometry(t.size,t.size),r=new $t.MeshBasicMaterial({map:this.texture,transparent:!0,opacity:1});n=new $t.Mesh(e,r)}else{const e=new $t.SpriteMaterial({map:this.texture,transparent:!0,opacity:1,sizeAttenuation:!1});n=new $t.Sprite(e),n.scale.set(t.scale*t.rate,t.scale*t.rate,t.scale*t.rate)}return n.position.set(t.point.x,t.point.y,t.height),n.type=e,n.point=new $t.Vector3(t.point.x,t.point.y,t.height),n.params=t,n},this.createSleepAnimateCanvas=t=>{const e=document.createElement("canvas"),n=this.indoorMap2d.pixelRatio,r=32*t.size;e.width=r*n,e.height=r*n,e.style.width=r+"px",e.style.height=r+"px";const i=new $t.Texture(e);if(this.worker){this.offScreenCanvas=e.transferControlToOffscreen();const n={name:"render",canvas:this.offScreenCanvas,parameters:{...t,indoorMap2d:{}},pixelRatio:this.indoorMap2d.pixelRatio};this.worker.postMessage(n,[this.offScreenCanvas]),this.logger.info("Start thread to animate"),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const t=e.getContext("2d");null==t||t.scale(n,n),t.lineWidth=4,t.strokeStyle="#FFFFFF",t.textBaseline="middle",t.fillStyle="#000000",t.translate(r/4*2.5,r/8);const o=()=>{const e="zzz".split("");let o=0;const a=e.length;this.requestFrameId=setInterval((()=>{0===o&&t.clearRect(0,0,r*n,r*n);const s=e[o];t.font=32+2*o+"px sans-serif";const l=2*t.measureText(s).width*o+1,c=34*(a-o);t.strokeText(s,l,c),t.fillText(s,l,c),i.needsUpdate=!0,o>=a-1?o=0:o+=1}),400)};o()}return i.magFilter=$t.LinearFilter,i.minFilter=$t.LinearFilter,i},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Ya(`${this.indoorMap2d.getUnionId()}_Sleep_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.worker=null,this.workerStatus=!1)},this.getFrameAnimationId=()=>this.frameAnimationId,this.removeSleepBreathe=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{Oa(`${this.indoorMap2d.getUnionId()}_Sleep_remove`,(()=>{this.logger.info("Sleep has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{this.requestFrameId&&cancelAnimationFrame(this.requestFrameId),t(this.remove())})),this.logger.setLoggerInfo(t.onLoggerInfo),this.point=t.point,this.workerStatus=!1,this.frameAnimationId=(new Date).getTime(),this.indoorMap2d=t.indoorMap2d,this.useWorker=void 0===t.useWorker||t.useWorker,Va(this.indoorMap2d.env)&&za(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Ka(hl));const e=ra({duration:.4,size:16,rate:2,height:2,isScale:!1,scale:.02,point:{x:0,y:0}},t);$a(e.point),this.params=e,this.layer=this.initImgCloud(e,It.indoorMapImgCloud)}}class pl extends rs{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.is3d=void 0,this.origin=void 0,this.position=void 0,this.directionAngle=void 0,this.markerLayer=void 0,this.breatheLayer=void 0,this.sleepLayer=void 0,this.params=void 0,this.isScale=void 0,this.scale=void 0,this.animation=void 0,this.breatheHidden=void 0,this.createRobot=t=>{if(this.is3d){const e=new $t.Object3D;e.position.set(t.position.x,-t.position.y,0);const n=String((new Date).getTime());return this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.indoorMap2d.map.modelLoader.loadModelLayer({value:`${this.indoorMap2d.map.getStaticPrefix()}/app/robot/models/robot.gltf`,unionId:n},{info:{id:"001",parent:"robot",type:"robot",name:"robot",preview:""},infoKey:"robot",scale:.8,rotate:0,point:{x:0,y:0,z:0},origin:this.origin},!1,"robot").then((t=>{t&&(this.markerLayer=t.layer,e.add(this.markerLayer))})),e}{const e=new $t.Object3D;e.position.set(t.position.x,-t.position.y,0);const n={point:{x:0,y:0},image:t.markerIcon||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAhFBMVEUAAAD////p7P/i5f/o6v/v8P/29v/8/P/////j5//m6P/6+v/////j5f/5+f/////j5//09P/29v/r7f/r7//k5v/7+/9xe/+UnP+Gjv+lq/93gf+VnP9zff////+Rmf/Lzv+utP+Xnv94gf/Lz//R1f/9/f/29v/e4P+HkP/19v+kq/+FqXFRAAAAF3RSTlMACV2y2/X8/hF21P4Kmv0Dfvoc6z9x/kOizgoAAAFjSURBVHhelZbXroMwDIbNHi2U0JGwR+d4//c7UpyiHlbq/8Y3/pDxDExkmJbtuJ7nOrZlGqCRH4Sb+kubMPBXgG0U1xPF0XYB2CWsnhVLdnNAuq8XtU+nwIHVK2KHMXA8DQ6vSy6y4pyJ/PIaiNNx5D+4X8uKD6rK64D8Iw6f7z8aPlLzUMDpK6pUxX/r+Iy6GxIsHfKp8nPv+az6u8rVJ7uJ8n/yBT0Vkaj6Moyn54vqMSqGNY8Q7/iKOvSJZL/FmB++KsxV7ANAgHCzDjToFQBAiPXiGmEFQwAD+7/UASXOhwEm9k+lAyrsKxMsaVuuVSsBC2xp33ogl4ANjrRCDwgJOOBKm+mBTAIueNIWeqCQgKeAsx44I0AOif7TmNb857T+XrgLFo7cGuTmo7Y3eYDII0pdAuQ1Q15k9FVJX8b0dU8/KNOT1b5FVhSZyNvRySIfRfrZpR92+tOB/jghP3/+AKjht2PUfiypAAAAAElFTkSuQmCC",size:t.size||8,height:Rt.robot,isScale:this.isScale,scale:this.scale},r=new hs(n);return this.markerLayer=r.layer,e.add(this.markerLayer),e}},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.createBreathe=t=>{const{rate:e=2,borderColor:n="#00000000",borderWidth:r=1,color:i="#FF000000",duration:o=2,animationType:a=Vt.normal}=t,s={point:{x:0,y:0},size:this.params.size||8,rate:e,animate:!0,color:Hs(i),borderColor:Hs(n),borderWidth:r,indoorMap2d:this.indoorMap2d,duration:o,animationType:a,height:Rt.robot-.01,isScale:this.isScale,scale:this.scale,useWorker:this.indoorMap2d.useWorker};return new fs(s)},this.createSleep=()=>{var t;const e={point:{x:0,y:0},size:2*(this.params.size||8),rate:2*((null==(t=this.animation)?void 0:t.rate)||2),duration:.4,indoorMap2d:this.indoorMap2d,height:Rt.robot+.01,isScale:this.isScale,scale:this.scale,useWorker:this.indoorMap2d.useWorker};return new dl(e)},this.getAnimationConfig=()=>this.animation,this.getCurrentRobotPosition=()=>({position:{x:this.position.x-this.origin.x,y:this.position.y-this.origin.y},originPosition:{x:this.position.x,y:this.position.y}}),this.getCurrentRobotOrigin=()=>this.origin,this.setAnimationConfig=t=>{this.animation=t,this.showBreathe(!1,t)},this.setStoreParams=(t,e)=>{this.origin=e,this.position=t},this.updateRobotPosition=(t,e)=>{if(this.position.x!==t.x||this.position.y!==t.y){if(this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition)this.layer.scope.updateImgCloudPosition({x:t.x,y:t.y});else{const e=this.layer.position.z;this.layer.position.set(t.x,-t.y,e)}this.setStoreParams(t,e)}},this.updateLinearRobotPosition=(t,e,n=1e3,r,i)=>{if(this.position.x===t.x&&this.position.y===t.y)return;if(9999===this.position.x&&9999===this.position.y)return void this.updateRobotPosition(t,e);const o=this.position;if(this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition){const a=new He.Tween(o).to(t,n).easing(He.Easing.Linear.None);a.start().onUpdate((()=>{this.layer.scope.updateImgCloudPosition({x:o.x,y:o.y}),"function"==typeof r&&r()})).onComplete((()=>{"function"==typeof i&&i(),this.setStoreParams(t,e),He.remove(a)}))}else{const r=this.layer.position.z;let a={x:o.x,y:-o.y},s={x:t.x,y:-t.y};const l=new He.Tween(a).to(s,n).easing(He.Easing.Linear.None);l.start().onUpdate((()=>{this.layer.position.set(a.x,a.y,r)})).onComplete((()=>{"function"==typeof i&&i(),this.setStoreParams(t,e),He.remove(l)}))}},this.updateRobotDirection=t=>{this.markerLayer&&(this.markerLayer.type===It.indoorMapImgCloud?this.markerLayer.isSprite?this.markerLayer.material.rotation=-t:this.markerLayer.rotation.z=-t:this.layer.rotation.z=-t,this.directionAngle=t)},this.getRobotDirectionAngle=()=>this.directionAngle,this.getPointAtDistance=(t,e,n)=>({x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}),this.linearizePoints=(t,e,n)=>{const r=[],i=e.x-t.x,o=e.y-t.y;for(let e=0;e<n;e++){const a=e/(n-1),s=t.x-i*a,l=t.y-o*a;r.push({x:s,y:l})}return r},this.getPointsBySlopeAndCurrentRobotPosition=t=>{const e=this.getRobotDirectionAngle(),n=this.getPointAtDistance(this.position,e,t);return this.linearizePoints(this.position,n,t)},this.getCurrentRobotNDCPosition=()=>this.layer?{x:this.layer.position.x-this.origin.x,y:-this.layer.position.y-this.origin.y}:null,this.showBreathe=async(t,e)=>{if(!(this.is3d||this.breatheHidden===t&&this.animation&&JSON.stringify(this.animation)===JSON.stringify(e)))if("boolean"==typeof t&&(this.breatheHidden=t),e&&(this.animation=e),t){if(this.breatheLayer){this.breatheLayer.hide();const t=this.breatheLayer.getFrameAnimationId();Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.breatheLayer){this.breatheLayer.show();const t=this.breatheLayer.getFrameAnimationId();Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}else if(this.animation){this.breatheLayer=this.createBreathe(this.animation),this.layer&&this.layer.add(this.breatheLayer.layer);const t=this.breatheLayer.getFrameAnimationId();return void Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}!this.animation&&this.logger.warn("If you want to setup to show breathe animation, please set the params")}},this.showSleepBreathe=async t=>{if(!this.is3d)if(t){if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}this.sleepLayer=this.createSleep(),this.layer&&this.layer.add(this.sleepLayer.layer);const t=this.sleepLayer.getFrameAnimationId();Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}},this.removeRobot=async()=>{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}return this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.class="robot",this.indoorMap2d=t.indoorMap2d,this.origin=t.origin||{x:0,y:0},this.is3d=t.is3d,this.position=t.position,this.params=t,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.breatheHidden=!0,this.markerLayer=null,this.breatheLayer=null,this.sleepLayer=null,this.directionAngle=0,this.animation=t.animation||void 0,this.layer=this.createRobot(t),this.getInfo(this.layer)}}function fl(){return function(t,e){if(!Array.isArray(t)||0===t.length)return{};const n=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),r=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];if(t.length>=2)for(let n=1;n<t.length;n++){const i={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};[t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===i.type?r[r.length-1].push(i):r.push([i])}return{robot:n,pathArray:r}}(...arguments)}function ml(){return function(t,e,n,r,i){let o=!1;const a=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),s=n.length>=1&&t.length-n.length>0?n.length:1;let l;r[r.length-1]&&r[r.length-1].length&&t.length-n.length>=0&&t.length>=2?t[s].type===t[s-1].type?(l=[Object.assign([],r[r.length-1])],i&&r[r.length-1].length>1&&(o=!0)):l=[]:l=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];for(let n=s;n<t.length;n++){const r={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};if([t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===r.type){const t=l[l.length-1];t[t.length-1].type===r.type?l[l.length-1].push(r):l.push([r])}else l.push([r])}return{robot:a,pathArray:l,flag:o}}(...arguments)}function gl(){return function(t,e){if(!Array.isArray(t)||0===t.length)return{};const n=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),r=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];if(t.length>=2)for(let n=1;n<t.length;n++){const i={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};[t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===i.type?r[r.length-1].push(i):r.push([i])}const i=[];for(let t=0;t<r.length;t++){const e=r[t];e.length%2==1&&e.push(e[e.length-1]);const n=[];for(let t=1;t<e.length;t++){const r=[e[t-1],e[t]];n.push(r)}i.push(n)}return{robot:n,pathArray:i}}(...arguments)}function yl(){return function(t,e,n,r,i){const o=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),a=n.length>=1&&t.length>=n.length?n.length-1:0,s=[[{type:t[a].type,x:e.x+t[a].x,y:e.y+t[a].y}]];for(let n=a+1;n<t.length;n++){const r={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y},i={type:t[n-1].type,x:e.x+t[n-1].x,y:e.y+t[n-1].y};if(r.type===i.type){const t=s[s.length-1];t[t.length-1].type===r.type?s[s.length-1].push(r):s.push([r])}else s.push([r])}const l=[];for(let t=0;t<s.length;t++){const e=s[t];e.length%2==1&&e.push(e[e.length-1]);const n=[];for(let t=1;t<e.length;t++){const r=[e[t-1],e[t]];n.push(r)}l.push(n)}return{robot:o,pathArray:l,flag:!1,uuid:i}}(...arguments)}fl.toString(),ml.toString(),yl.toString(),gl.toString();let vl="() => {\n\tconst evtFunc = msg => {\n\n\t\tfunction convertPathWithTypeFn() {\n\t\t\tfunction convertPathWithType(points, origin) {\n\t\t\t\tif (!Array.isArray(points) || points.length === 0) return {};\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst firstPoint = {\ttype: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tif ( points.length >= 2 ) {\n\t\t\t\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn { robot: robot, pathArray: result };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithType(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeIncrementalFn() {\n\t\t\tfunction convertPathWithTypeIncremental(\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * 1.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]\n\t\t\t\t * 2.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'transition'}]\n\t\t\t\t * 3.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'common'}, {x: 0, y: 4, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpoints,\n\t\t\t\torigin,\n\t\t\t\t /**\n\t\t\t\t * \n\t\t\t\t * 1. []\n\t\t\t\t * 2. [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]\n\t\t\t\t * 3. [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpathData,\n\t\t\t\t /**\n\t\t\t\t * \n\t\t\t\t * 1. [[]]\n\t\t\t\t * 2. [[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]]\n\t\t\t\t * 3. [[{x: 0, y: 2, type: 'common'}, [{x: 0, y: 3, type: 'transition'}]]] \n\t\t\t\t */\n\t\t\t\tpathArray,\n\t\t\t\tuuid\n\t\t\t) {\n\t\t\t\tlet flag = false;\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst startIndex = pathData.length >= 1 && points.length - pathData.length > 0 ? pathData.length : 1;\n\t\t\t\tlet result;\n\t\t\n\t\t\t\t// 0\n\t\t\t\tif (pathArray[pathArray.length - 1] && pathArray[pathArray.length - 1].length && points.length - pathData.length >= 0 && points.length >= 2) {\n\t\t\t\t\t// \n\t\t\t\t\tif (points[startIndex].type === points[startIndex - 1].type) {\n\t\t\t\t\t\tconst temp = Object.assign([], pathArray[pathArray.length - 1]);\n\t\t\t\t\t\tresult = [temp];\n\t\t\t\t\t\tif (uuid && pathArray[pathArray.length - 1].length > 1) {\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = [];\n\t\t\t\t\t} \n\t\t\t\t} else {\n\t\t\t\t\tconst tempPoint =\t{ type: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y }\n\t\t\t\t\tresult = [[tempPoint]];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (let i = startIndex; i < points.length; i++) {\n\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\tconst lastGroup = result[result.length - 1];\n\t\t\t\t\t\tif (lastGroup[lastGroup.length - 1].type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn { robot, pathArray: result, flag };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeIncremental(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeLinearFn() {\n\t\t\tfunction convertPathWithTypeLinear(points, origin) {\n\t\t\t\tif (!Array.isArray(points) || points.length === 0) return {};\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst firstPoint = {\ttype: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tif (points.length >= 2) {\n\t\t\t\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t // , \n\t\t\t\t const list = [];\n\t\t\t\t for (let i = 0; i < result.length; i++) {\n\t\t\t\t\t const item = result[i];\n\t\t\t\t\t // , \n\t\t\t\t\t if (item.length % 2 === 1) {\n\t\t\t\t\t\t item.push(item[item.length - 1]);\n\t\t\t\t\t }\n\t\t\t\t\t const second = [];\n\t\t\t\t\t for (let j = 1; j < item.length; j++) {\n\t\t\t\t\t\t const previous = item[j - 1];\n\t\t\t\t\t\t const current = item[j];\n\t\t\t\t\t\t const third = [previous, current];\n\t\t\t\t\t\t second.push(third);\n\t\t\t\t\t }\n\t\t\t\t\t list.push(second);\n\t\t\t\t }\n\t\t\t\treturn { robot: robot, pathArray: list };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeLinear(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeIncrementalLinearFn() {\n\t\t\tfunction convertPathWithTypeIncrementalLinear(\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpoints,\n\t\t\t\torigin,\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpathData,\n\t\t\t\t/**\n\t\t\t\t * [\n\t\t\t\t * [\n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}],\n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t * ], \n\t\t\t\t * [\n\t\t\t\t * [{x: 0, y: 0, type: 'common'}, {x: 0, y: 0, type: 'common'}],\n\t\t\t\t * [{x: 0, y: 0, type: 'common'}, {x: 0, y: 0, type: 'common'}]\n\t\t\t\t * ],\n\t\t\t\t * ]\n\t\t\t\t */\n\t\t\t\tpathArray,\n\t\t\t\tuuid\n\t\t\t) {\n\t\t\t\tlet flag = false;\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\t// \n\t\t\t\tconst startIndex = pathData.length >= 1 && points.length >= pathData.length ? pathData.length - 1 : 0;\n\t\t\t\tconst firstPoint =\t{ type: points[startIndex].type, x: origin.x + points[startIndex].x, y: origin.y + points[startIndex].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tfor (let i = startIndex + 1; i < points.length; i++) {\n\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\tif (currentPoint.type === prePoint.type) {\n\t\t\t\t\t\tconst lastGroup = result[result.length - 1];\n\t\t\t\t\t\tif (lastGroup[lastGroup.length - 1].type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// , \n\t\t\t\tconst list = [];\n\t\t\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\t\t\tconst item = result[i];\n\t\t\t\t\t// , \n\t\t\t\t\tif (item.length % 2 === 1) {\n\t\t\t\t\t\titem.push(item[item.length - 1]);\n\t\t\t\t\t}\n\t\t\t\t\tconst second = [];\n\t\t\t\t\tfor (let j = 1; j < item.length; j++) {\n\t\t\t\t\t\tconst previous = item[j - 1];\n\t\t\t\t\t\tconst current = item[j];\n\t\t\t\t\t\tconst third = [previous, current];\n\t\t\t\t\t\tsecond.push(third);\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(second);\n\t\t\t\t}\n\t\t\t\treturn { robot, pathArray: list, flag, uuid };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeIncrementalLinear(...arguments);\n\t\t}\n\n\n\t\tconst { name } = msg.data;\n\t\tconst FunctionCallee = Function || window.Function;\n\t\t\n\t\tif (name === 'updatePath') {\n\t\t\tconst { pathLinearAnimate, points, origin, timestamp } = msg.data;\n\n\t\t\tconst convertPathWithTypeLinearFnStr = convertPathWithTypeLinearFn.toString();\n\t\t\tconst convertPathWithTypeFnStr =convertPathWithTypeFn.toString();\n\t\t\tconst fnStr = pathLinearAnimate ? convertPathWithTypeLinearFnStr.substring(\n\t\t\t\tconvertPathWithTypeLinearFnStr.indexOf('{') + 1,\n\t\t\t\tconvertPathWithTypeLinearFnStr.lastIndexOf('}')) : convertPathWithTypeFnStr.substring(\n\t\t\t\t\tconvertPathWithTypeFnStr.indexOf('{') + 1,\n\t\t\t\t\tconvertPathWithTypeFnStr.lastIndexOf('}'));\n\n\t\t\tconst fn = new FunctionCallee(fnStr);\n\t\t\tconst result = fn(points, origin);\n\t\t\tresult.name = 'updatePath';\n\t\t\tresult.timestamp = timestamp;\n\t\t\tself.postMessage(result);\n\t\t}\n\n\t\tif (name === 'updatePathIncrement') {\n\t\t\tconst { pathLinearAnimate, points, origin, pathData, pathArray, uuid, timestamp } = msg.data;\n\n\t\t\tconst convertPathWithTypeIncrementalLinearFnStr = convertPathWithTypeIncrementalLinearFn.toString();\n\t\t\tconst convertPathWithTypeIncrementalFnStr = convertPathWithTypeIncrementalFn.toString();\n\n\t\t\tconst fnStr = pathLinearAnimate ?\tconvertPathWithTypeIncrementalLinearFnStr.substring(\n\t\t\t\tconvertPathWithTypeIncrementalLinearFnStr.indexOf('{') + 1,\n\t\t\t\tconvertPathWithTypeIncrementalLinearFnStr.lastIndexOf('}')) : convertPathWithTypeIncrementalFnStr.substring(\n\t\t\t\t\tconvertPathWithTypeIncrementalFnStr.indexOf('{') + 1,\n\t\t\t\t\tconvertPathWithTypeIncrementalFnStr.lastIndexOf('}'));\n\n\t\t\tconst fn = new FunctionCallee(fnStr)\n\t\t\tconst result = fn(points, origin, pathData, pathArray, uuid);\n\t\t\tresult.name = 'updatePathIncrement';\n\t\t\tresult.timestamp = timestamp;\n\t\t\tself.postMessage(result);\n\t\t}\n\n\t\tif (name === 'remove') {\n\t\t\tself.postMessage({ name: 'remove' });\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t}\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";vl=vl.substring(vl.indexOf("{")+1,vl.lastIndexOf("}"));const _l=new Blob([vl],{type:"application/javascript"});class wl extends rs{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.lineLayers=void 0,this.robotLayer=void 0,this.pathLinearAnimate=void 0,this.pathWidth=void 0,this.origin=void 0,this.is3d=void 0,this.pathData=void 0,this.pathArray=void 0,this.uuid=void 0,this.moving=void 0,this.pathWorker=void 0,this.useWorker=void 0,this.isAddEventListenerUpdate=void 0,this.isAddEventListenerUpdateIncrement=void 0,this.lastPathData=void 0,this.shouldUpdate=void 0,this.pathVisible=void 0,this.distanceToCamera=void 0,this.onRobotPositionChange=void 0,this.onPathInitThreadEnd=void 0,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.class="cleanPath",this.markerIcon=t.markerIcon,this.indoorMap2d=t.indoorMap2d,Va(this.indoorMap2d.env)&&this.useWorker&&(this.pathWorker=Ka(_l)),this.is3d=t.is3d,this.pathLinearAnimate=t.pathLinearAnimate,this.pathWidth=t.pathWidth,this.origin=t.origin||{x:0,y:0},this.distanceToCamera=t.distanceToCamera||0,this.pathVisible=void 0===t.pathVisible||t.pathVisible,this.setParamsCache(t),this.lineLayers={},this.onRobotPositionChange=t.onRobotPositionChange||(()=>{this.logger.warn("It seems not setup onRobotPositionChange function")}),this.onPathInitThreadEnd=t.onPathInitThreadEnd||(()=>{this.logger.warn("It seems not setup onPathInitThreadEnd function")}),Ha(`${this.indoorMap2d.getUnionId()}_mapMoving`,(t=>{const{moving:e}=t;this.moving=e,!e&&this.lastPathData&&this.shouldUpdate&&(this.shouldUpdate=!1,this.updateCleanPathPoints(this.lastPathData))})),this.pathData=Array.isArray(t.pathData)&&t.pathData||[],this.lastPathData=Array.isArray(t.pathData)&&t.pathData||[],this.pathArray=[[]],this.layer=new $t.Object3D;const{robot:e,pathArray:n}=fl(t.pathData,this.origin);this.initRenderPath(t,n,e),this.getInfo(this.layer)},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.initRenderPath=(t,e,n)=>{try{if(!n)return;this.pathArray=e&&e.length>0?e:[[]];const{dataColors:m={},dataTypes:g={}}=n;if(e&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(n.length>1){var r;const i=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(r=this.layer)||r.add(i.layer),t===e.length-1&&(this.uuid=i.layer.uuid)}else{let r=!1;if(e[t+1]?(n.push(e[t+1][0]),r=!0):e[t-1],r){var i;const r=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(i=this.layer)||i.add(r.layer),t===e.length-1&&(this.uuid=r.layer.uuid)}}}const y={color:n.bgColor,borderColor:n.borderColor||"#00000000",borderWidth:void 0!==n.borderWidth?n.borderWidth:1,duration:void 0!==n.duration?n.duration:2,animationType:n.animationType||Vt.normal,rate:n.rate||2};if(t.robot&&void 0!==n){var o,a,s;this.robotLayer=t.robot,null==(o=this.robotLayer)||o.showBreathe(n.hidden,y),null==(a=this.robotLayer)||a.updateRobotPosition(new $t.Vector2(n.x,n.y),this.origin);const{theta:e=0}=n,r=e*Math.PI/180;null==(s=this.robotLayer)||s.updateRobotDirection(r),this.onRobotPositionChange({directionAngle:r,position:{x:n.x-this.origin.x,y:n.y-this.origin.y},originPosition:{x:n.x,y:n.y}})}if(!this.robotLayer){var l,c,u,A,h,d,p,f;const t="string"!=typeof this.markerIcon,e=t?null==(l=this.markerIcon)?void 0:l.markerIcon:this.markerIcon,r=t&&void 0!==(null==(c=this.markerIcon)||null==(c=c.iconParams)?void 0:c.scale)?null==(u=this.markerIcon)||null==(u=u.iconParams)?void 0:u.scale:.01,i=!!t&&void 0!==(null==(A=this.markerIcon)||null==(A=A.iconParams)?void 0:A.isScale)&&(null==(h=this.markerIcon)||null==(h=h.iconParams)?void 0:h.isScale),o={indoorMap2d:this.indoorMap2d,origin:this.indoorMap2d.map.origin,markerIcon:e,position:new $t.Vector2(n.x,n.y),isScale:i,scale:r*this.indoorMap2d.getFitScale(),is3d:this.is3d},a=new pl(o);this.putRobotIntoMap(a),null==(d=this.robotLayer)||d.showBreathe(n.hidden,y),null==(p=this.robotLayer)||p.updateRobotPosition(new $t.Vector2(n.x,n.y),this.origin);const{theta:s=0}=n,m=s*Math.PI/180;null==(f=this.robotLayer)||f.updateRobotDirection(m),this.onRobotPositionChange({directionAngle:m,position:{x:n.x-this.origin.x,y:n.y-this.origin.y},originPosition:{x:n.x,y:n.y}})}this.onPathInitThreadEnd(!0)}catch(t){this.logger.warn("initRenderPath occur error ==>",t)}},this.createCleanPath=(t,e,n)=>{let r=1;const{colorFormat:i,alpha:o}=this.argb2Rgb(e);1===this.pathWidth?r=this.pathWidth/6:this.pathWidth>1&&(r=this.pathWidth/12);const a={color:i,opacity:o,points:t.length>1?t:[],lineWidth:r,shouldExtendLine:!1,noUnitText:!0,noVertices:!0,isDash:!1,depthWrite:!0,height:this.is3d?.2:Rt.cleanPath,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},s=new ul(a);if(s.layer.userData.enableFilter=!0,n===zt.smear){const t=new ul({...a,isFatLine:!0,color:16777215,opacity:.5,lineWidth:3,isDash:!1});t.layer.position.set(0,-.1,0),s.layer.add(t.layer);const e=this.indoorMap2d.camera.position.distanceTo(t.layer.position),n=this.distanceToCamera/e,r=3*n>12?12:3*n;t.layer.fatLineMaterial.linewidth=r,t.layer.material.linewidth=r,this.indoorMap2d.registerAnimateFn((()=>{const e=this.indoorMap2d.camera.position.distanceTo(t.layer.position),n=this.distanceToCamera/e,r=3*n>12?12:3*n;t.layer.fatLineMaterial.linewidth=r,t.layer.material.linewidth=r}),t.layer.uuid)}return 0!==o&&this.pathVisible||(s.layer.visible=!1),s},this.updateParamsCacheWithNewPathData=t=>{const e=this.getParamsCache(),n=Object.assign(e,{pathData:t});return this.setParamsCache(n),n},this.updateParamsCacheWithNewOrigin=t=>{const e=this.getParamsCache(),n=Object.assign(e,{origin:t});return this.setParamsCache(n),n},this.updateCleanPathPoints=(t,e=!1,n=!1)=>{if(this.lastPathData=Array.isArray(t)&&t||[],!this.indoorMap2d.getVisibility())return void this.logger.warn("Due to the visibility, the updateCleanPathPoints function has called return");if(this.indoorMap2d.map&&this.indoorMap2d.map.mapFreeze)return void this.logger.warn("Due to the mapFreeze, the updateCleanPathPoints function has called return");if(this.moving)return this.shouldUpdate=!0,void this.logger.warn("Due to the gesture has been moving, the updateCleanPathPoints function has called return");if(!e&&this.pathData.length===t.length&&JSON.stringify(this.pathData)===JSON.stringify(t))return;if(0===t.length)return this.removeCleanPathChild(),this.pathArray=[[]],this.pathData=[],void(this.uuid=void 0);let r=!0;if(this.indoorMap2d.map&&(r=JSON.stringify(this.origin)===JSON.stringify(this.indoorMap2d.map.origin),r||(this.origin=this.indoorMap2d.map.origin,this.updateParamsCacheWithNewOrigin(this.origin))),this.pathWorker&&this.useWorker&&(this.isAddEventListenerUpdate||(this.isAddEventListenerUpdate=!0,this.pathWorker.onMessage(this.pathCallbackEvt))),t.length>this.pathData.length&&r)if(this.pathWorker&&this.useWorker&&!n){const e=(new Date).getTime();this.pathWorker.postMessage({name:"updatePathIncrement",pathLinearAnimate:this.pathLinearAnimate,points:t,origin:this.origin,pathData:this.pathData,pathArray:this.pathArray,uuid:this.uuid,timestamp:e})}else{const e=(new Date).getTime(),n=this.pathLinearAnimate?yl:ml,{robot:r,pathArray:i,flag:o}=n(t,this.origin,this.pathData,this.pathArray,this.uuid);o&&(this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(this.uuid),this.uuid=void 0),this.updateCleanPathRender(t,r,i);const a=(new Date).getTime();this.logger.info("synchronous updatePathIncrement time ==>",a-e),this.indoorMap2d.sceneRender(!0)}else if(this.pathArray=[[]],this.pathData=[],this.uuid=void 0,this.pathWorker&&this.useWorker&&!n){const e=(new Date).getTime();this.pathWorker.postMessage({name:"updatePath",pathLinearAnimate:this.pathLinearAnimate,points:t,origin:this.origin,timestamp:e})}else{const e=(new Date).getTime(),n=this.pathLinearAnimate?gl:fl,{robot:r,pathArray:i}=n(t,this.origin);this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(),this.updateCleanPathRender(t,r,i);const o=(new Date).getTime();this.logger.info("synchronous updatePathFull time ==>",o-e),this.indoorMap2d.sceneRender(!0)}},this.updateCleanPathOnOriginChange=t=>{JSON.stringify(t)!==JSON.stringify(this.origin)&&(this.logger.info(`updateCleanPathOnOriginChange ==> this.origin = ${JSON.stringify(this.origin)}, newOrigin = ${JSON.stringify(t)}`),this.updateCleanPathPoints(this.lastPathData,!0,!0))},this.pathCallbackEvt=t=>{const{robot:e,pathArray:n,name:r,flag:i,timestamp:o=(new Date).getTime()}=t;if("remove"!==r){if("updatePath"==r){this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(),this.updateCleanPathRender(this.lastPathData,e,n);const t=(new Date).getTime();return this.logger.info("asynchronous updatePathFull time ==>",t-o),void this.indoorMap2d.sceneRender(!0)}if("updatePathIncrement"===r){i&&(this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(this.uuid),this.uuid=void 0),this.updateCleanPathRender(this.lastPathData,e,n);const t=(new Date).getTime();return this.logger.info("asynchronous updatePathIncrement time ==>",t-o),void this.indoorMap2d.sceneRender(!0)}}else this.removeThreadEvt()},this.updateCleanPathRender=(t,e,n)=>{try{var r,i;if(!e)return;this.pathArray=n||[[]],this.pathData=t;const p={color:e.bgColor,borderColor:e.borderColor||"#00000000",borderWidth:void 0!==e.borderWidth?e.borderWidth:1,duration:void 0!==e.duration?e.duration:2,animationType:e.animationType||Vt.normal,rate:e.rate||2};if(!this.robotLayer){var o,a,s,l,c;const t="string"!=typeof this.markerIcon,n=t?null==(o=this.markerIcon)?void 0:o.markerIcon:this.markerIcon,r=t&&void 0!==(null==(a=this.markerIcon)||null==(a=a.iconParams)?void 0:a.scale)?null==(s=this.markerIcon)||null==(s=s.iconParams)?void 0:s.scale:.01,i=!!t&&void 0!==(null==(l=this.markerIcon)||null==(l=l.iconParams)?void 0:l.isScale)&&(null==(c=this.markerIcon)||null==(c=c.iconParams)?void 0:c.isScale),u={indoorMap2d:this.indoorMap2d,markerIcon:n,origin:this.indoorMap2d.map.origin,is3d:this.is3d,isScale:i,scale:r*this.indoorMap2d.getFitScale(),animation:p,position:new $t.Vector2(e.x,e.y)},A=new pl(u);this.putRobotIntoMap(A)}null==(r=this.robotLayer)||r.showBreathe(e.hidden,p);const{theta:f=0,dataColors:m={},dataTypes:g={}}=e,y=f*Math.PI/180;if(null==(i=this.robotLayer)||i.updateRobotDirection(y),this.pathLinearAnimate){if(n&&n.length>0)for(let t=0;t<n.length;t++){const r=n[t];for(let t=0;t<r.length;t++){const n=r[t];if(n.length>=2){var u;const t=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(u=this.robotLayer)||u.updateLinearRobotPosition(new $t.Vector2(e.x,e.y),this.origin,500,(()=>{}),(()=>{var e;null==(e=this.layer)||e.add(t.layer)}))}}}}else{var A;if(n&&n.length>0)for(let t=0;t<n.length;t++){const e=n[t];if(e.length>1){var h;const r=this.createCleanPath(e,m[e[1].type],g[e[1].type]||zt.laser);null==(h=this.layer)||h.add(r.layer),t===n.length-1&&(this.uuid=r.layer.uuid)}else if(1===e.length&&(n[t+1]?e.push(n[t+1][0]):n[t-1],e.length>1)){var d;const r=this.createCleanPath(e,m[e[1].type],g[e[1].type]||zt.laser);null==(d=this.layer)||d.add(r.layer),t===n.length-1&&(this.uuid=r.layer.uuid)}}null==(A=this.robotLayer)||A.updateRobotPosition(new $t.Vector2(e.x,e.y),this.origin)}this.onRobotPositionChange({directionAngle:y,position:{x:e.x-this.origin.x,y:e.y-this.origin.y},originPosition:{x:e.x,y:e.y}})}catch(t){this.logger.warn("updateCleanPathRender occur error ==>",t)}},this.getRobotLayer=()=>this.robotLayer,this.putRobotIntoMap=t=>(this.removeCleanPathRobotLayer(),this.robotLayer=t,this.indoorMap2d.map.addSweepLayer(this.robotLayer),this.robotLayer),this.removeCleanPathRobotLayer=()=>{if(this.robotLayer)this.indoorMap2d.map&&this.indoorMap2d.map.removeFromAreaInfoWithClassType("robot"),this.robotLayer.removeRobot(),this.robotLayer=null;else if(this.indoorMap2d.map){const t=this.indoorMap2d.map.removeFromAreaInfoWithClassType("robot");this.logger.warn("removeCleanPathRobotLayer function exceeds the set logic and is automatically corrected.",t)}},this.removeThreadEvt=()=>{try{Va(this.indoorMap2d.env)&&this.pathWorker&&(this.pathWorker.terminate(),this.pathWorker=null)}catch(t){this.logger.warn("removeThreadEvt occur error ==>",t)}},this.removeCleanPath=()=>(this.pathWorker&&(this.pathWorker.postMessage({name:"remove"}),this.removeThreadEvt()),this.removeCleanPathChild(),this.remove()),this.removeCleanPathChild=t=>{var e,n,r,i;if(t)for(let e=null!=(r=this.layer)&&null!=(r=r.children)&&r.length?(null==(i=this.layer)?void 0:i.children.length)-1:-1;e>=0;e--){var o;if((null==(o=this.layer)?void 0:o.children[e].uuid)===t){var a,s,l;for(let t=null!=(a=this.layer)&&null!=(a=a.children[e].children)&&a.length?(null==(s=this.layer)?void 0:s.children[e].children.length)-1:-1;t>=0;t--){var c;this.indoorMap2d.removeAnimateFnByFnId(null==(c=this.layer)?void 0:c.children[e].children[t].uuid)}const t=null==(l=this.layer)?void 0:l.children[e].removeFromParent();this.dealloc(t)}}else for(let t=null!=(e=this.layer)&&null!=(e=e.children)&&e.length?(null==(n=this.layer)?void 0:n.children.length)-1:-1;t>=0;t--){var u,A,h;for(let e=null!=(u=this.layer)&&null!=(u=u.children[t].children)&&u.length?(null==(A=this.layer)?void 0:A.children[t].children.length)-1:-1;e>=0;e--){var d;this.indoorMap2d.removeAnimateFnByFnId(null==(d=this.layer)?void 0:d.children[t].children[e].uuid)}const e=null==(h=this.layer)?void 0:h.children[t].removeFromParent();this.dealloc(e)}},this.useWorker=void 0===t.useWorker||t.useWorker,this.isAddEventListenerUpdate=!1,this.shouldUpdate=!1,this.init(t)}}class bl extends rs{constructor(t){super(),this.textLayer=void 0,this.origin=void 0,this.defaultHeight=void 0,this.is3d=void 0,this.factor=void 0,this.font=void 0,this.color=void 0,this.bgColor=void 0,this.points=void 0,this.indoorMap2d=void 0,this.class=void 0,this.id=void 0,this.type=void 0,this.content=void 0,this.extend=void 0,this.showEditable=void 0,this.showVertexImage=void 0,this.vertexImages=void 0,this.vertexType=void 0,this.vertexColor=void 0,this.showUnitText=void 0,this.vertexExtendTimes=void 0,this.unitTextFontSize=void 0,this.unitTextColor=void 0,this.radius=void 0,this.lineWidth=void 0,this.isDash=void 0,this.dashSize=void 0,this.gapSize=void 0,this.sideVertex=void 0,this.visible=void 0,this.onLaserMapPoints=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.updateUnitText=t=>{if(t)return void this.layer.scope.updateUnitText(t);const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1],r=(ts(e,n)*this.factor).toFixed(1)+"m";this.layer.scope.updateUnitText(r)},this.updateSquareVertexDegree=(t=!1)=>{if("square"===this.vertexType){const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1];if(e&&n){const r=180*this.layer.scope.calcDegrees(n,e)/Math.PI,i=0===r||90===r||-90===r||180===r?45:t?45+r:void 0;this.layer.scope.updateSquareVertexDegree(i)}}},this.updateSideLayer=()=>{this.layer.scope.updateSideLayer()},this.hideVertex=t=>{this.layer.scope.disableEnableFilter(t),this.layer.scope.hideVertex(t),this.layer.position.z=t?this.defaultHeight:Rt.otherArea},this.hideUnitText=t=>{this.layer.scope.hideUnitText(t)},this.removeVirtualWall=()=>(this.removeVirtualWallEvent(),this.remove()),this.hideVirtualWall=t=>{this.layer.scope.hideLayer(t)},this.hideLayer=t=>{this.layer&&this.layer.scope.hideLayer(t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.getIsHideVertex=()=>this.layer.scope.getIsHideVertex(),this.getIsHideUniText=()=>this.layer.scope.getIsHideUniText(),this.getIsEditable=()=>!(this.layer.scope.getIsHideUniText()||this.layer.scope.getIsHideVertex()),this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.defaultHeight=Rt.virtualWall,this.class="virtualWall",this.type=Nt.VirtualWall,this.origin=Ro(t.origin||{x:0,y:0}),this.is3d=t.is3d,this.id=t.id||"-1",this.factor=t.factor||.05,this.font=t.font||12,this.color=t.color||"#00000000",this.bgColor=t.bgColor||"#f81c1c",this.showEditable="boolean"!=typeof t.showEditable||t.showEditable,this.vertexType=t.vertexType||"circle",this.vertexImages=t.vertexImages||[],this.vertexColor=t.vertexColor||"#ffffffff",this.showUnitText=void 0===t.showUnitText||t.showUnitText,this.unitTextFontSize=t.unitTextFontSize?t.unitTextFontSize:t.font?t.font:12,this.unitTextColor=t.unitTextColor?t.unitTextColor:t.color?t.color:"#00000000",this.radius=t.radius||6,this.lineWidth=void 0!==t.lineWidth?t.lineWidth:1,this.isDash=void 0===t.isDash||t.isDash,this.dashSize=void 0!==t.dashSize?t.dashSize:4,this.gapSize=void 0!==t.gapSize?t.gapSize:2,this.vertexExtendTimes=void 0!==t.vertexExtendTimes?t.vertexExtendTimes:2,this.showVertexImage=void 0===t.showVertexImage||t.showVertexImage,this.sideVertex=void 0!==t.sideVertex?t.sideVertex:{showSideVertex:!1,showSideVertexImage:!0,sideVertexImage:as,sideVertexColor:"#ffffffff",radius:6},this.visible=void 0===t.visible||t.visible;const e=[];t.points&&t.points.forEach((t=>{const n={x:t.x+this.origin.x,y:t.y+this.origin.y};e.push(n)})),this.points=e,this.extend=t.extend||{},this.content=t.content||{text:null},this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{this.logger.warn("It seems not setup onVirtualInfoOutOfBoundingBox function")}),2===this.points.length?(this.layer=this.createVirtualWall(),this.layer.scope.hideVertexAndUnitText(!t.showEditable),this.updateUnitText(),this.updateSquareVertexDegree(!0),this.updateSideLayer(),this.createVirtualWallEvent(),this.getInfo(this.layer.scope,"add")):this.logger.warn("You must set 2 points for virtualWall")},this.createVirtualWall=()=>{const t=t=>{if(!t)return;if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=this.getInfo(t,"remove");this.removeVirtualWall(),this.onLaserMapPoints(e,"remove"),this.indoorMap2d.map.removeFromAreaInfo(e.target)},e=t=>{if(!t)return;if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=t.userIndex,n=t.scope.vertexPoints[e].z,r=new $t.Vector3(t.position.x,t.position.y,n);t.scope.vertexPoints[e].copy(r),this.redrawVirtualWall(t.scope)},{colorFormat:n,alpha:r}=this.argb2Rgb(this.vertexColor),{colorFormat:i,alpha:o}=this.argb2Rgb(this.sideVertex.sideVertexColor),a={noUnitText:!this.showUnitText,unitText:"1.0m",points:this.points,lineWidth:this.lineWidth,isDash:this.isDash,dashSize:this.dashSize,gapSize:this.gapSize,shouldExtendLine:!0,is3d:this.is3d,color:this.bgColor,height:this.defaultHeight,depthWrite:!1,showSideVertex:this.sideVertex.showSideVertex,sideParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showSideVertexImage:this.sideVertex.showSideVertex,sideVertexEvent:t,sideVertexImage:this.sideVertex.sideVertexImage,radius:this.sideVertex.radius,segments:32,sideVertexColor:i,opacity:o},vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showVertexImage:this.showVertexImage,vertexEvents:this.sideVertex.showSideVertex?[e,e]:[t,e],vertexImages:0!==this.vertexImages.length?this.vertexImages:[as,ls],vertexType:this.vertexType,radius:this.radius,segments:32,vertexColor:n,extendTimes:this.vertexExtendTimes,opacity:r},unitTextFontStyle:{fontSize:this.unitTextFontSize,fontScale:.4*this.indoorMap2d.getFitScale(),color:Hs(this.unitTextColor),pixelRatio:this.indoorMap2d.pixelRatio},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},s=new ul(a);return this.visible||s.hideLayer(!0,!0),s.layer},this.updateOriginAndPosition=t=>{this.redrawVirtualWall(void 0,t),this.origin=Object.assign({},t)},this.redrawVirtualWall=(t,e)=>{const n=t||this.layer.scope;if(this.is3d){var r,i,o;const t={depth:this.d3Height,bevelEnabled:!1},e=new $t.Shape(this.d3VertexPoints),a=new $t.ExtrudeGeometry(e,t);n.geometry=a,null==(r=a.boundingBox)||r.getCenter(n.center),this.minY=null==(i=n.geometry.boundingBox)?void 0:i.min.y,this.maxX=null==(o=n.geometry.boundingBox)?void 0:o.max.x}else{var a,s,l,c;const t=n.lineLayer.geometry,r=[];n.vertexPoints.forEach(((t,i)=>{e&&(t.x=t.x-this.origin.x+e.x,t.y=t.y+this.origin.y-e.y,n.vertexLayers[i].position.set(t.x,t.y,t.z)),r.push(t.x,t.y,t.z)})),t.setPositions(r),n.lineCoverLayer&&(n.lineCoverLayer.geometry.setPositions(r),n.lineCoverLayer.computeLineDistances()),t.computeBoundingBox(),null==(a=t.boundingBox)||a.getCenter(n.center),n.lineLayer.computeLineDistances(),this.minY=null==(s=t.boundingBox)?void 0:s.min.y,this.maxX=null==(l=t.boundingBox)?void 0:l.max.x,null==(c=n.unitLayer)||c.position.set(n.center.x,n.center.y,0),this.updateUnitText(),this.updateSideLayer()}const u=this.getInfo(n,"resize");this.onLaserMapPoints(u,"resize");const A=this.judgeIsOutOfBoundingBox(u);this.onVirtualInfoOutOfBoundingBox({...u,isOutOfBoundingBox:A})},this.createVirtualWallEvent=()=>{var t,e;this.removeVirtualWallEvent();const n=this.layer.scope,r=this.indoorMap2d,i=n.vertexLayers[0],o=n.vertexLayers[1],a=n.sideLayer;this.layer&&r.dispatchEvent(this.layer),i&&r.dispatchEvent(i),o&&r.dispatchEvent(o),a&&r.dispatchEvent(a),this.sideVertex.showSideVertex?null==i||i.$on(r.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})):null==i||i.$on(r.eventTap,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}})),null==o||o.$on(r.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})),null==a||a.$on(r.eventTap,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);t.userIndex;const e=t.scope.sideVertexEvent;"function"==typeof e&&e(t.scope)}})),null==(t=this.layer)||t.$on(r.eventTap,((t,e)=>{(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())&&(t.draggerEnable=!1)})),null==(e=this.layer)||e.$on(r.eventTapMove,((t,e)=>{if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const n=this.getInfo(t.scope,"move");this.onLaserMapPoints(n,"move");const r=this.judgeIsOutOfBoundingBox(n);this.onVirtualInfoOutOfBoundingBox({...n,isOutOfBoundingBox:r})}))},this.judgeIsOutOfBoundingBox=t=>{const{points:e}=t.data,{width:n,height:r}=this.indoorMap2d.map.getMapDataWidthHeight();let i=!1;return e.forEach((t=>{(t.x>n||t.y>r||t.x<0||t.y<0)&&(i=!0)})),i},this.removeVirtualWallEvent=()=>{var t;const e=this.layer.scope,n=this.indoorMap2d,r=e.vertexLayers[0],i=e.vertexLayers[1],o=e.sideLayer;this.sideVertex.showSideVertex?r&&"function"==typeof r.$off&&r.$off(n.eventTapMove):r&&"function"==typeof r.$off&&r.$off(n.eventTap),i&&"function"==typeof i.$off&&i.$off(n.eventTapMove),o&&"function"==typeof o.$off&&o.$off(n.eventTap),"function"==typeof(null==(t=this.layer)?void 0:t.$off)&&(this.layer.$off(n.eventTap),this.layer.$off(n.eventTapMove))},this.getInfo=(t,e)=>{const n=[];this.indoorMap2d.scene.updateMatrixWorld(!0);const r=new $t.Vector3;t.layer.getWorldPosition(r),r.setFromMatrixPosition(t.layer.matrixWorld),0===r.x&&0===r.y?t.vertexPoints.forEach(((t,e)=>{const r={x:t.x,y:-t.y};n.push(r)})):t.vertexPoints.forEach(((e,r)=>{const i={x:e.x+t.lineLayer.position.x,y:-(e.y+t.lineLayer.position.y)};n.push(i)}));const i={operation:e,target:t.layer.id,type:this.type,data:{id:this.id,content:this.content,extend:this.extend,points:n}};return this.setDataInfo(i),i},this.checkEditable=()=>[Ut.normal,Ut.virtualArea,Ut.areaSet,Ut.pressToRun,Ut.mapSplit,Ut.mapSelect,Ut.mapTimerSelect].some((t=>this.indoorMap2d.map.state===t)),this.logger.setLoggerInfo(t.onLoggerInfo),this.init(t)}}class xl extends rs{constructor(t){super(),this.points=void 0,this.imagePadding=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.height=void 0,this.createPlaneMaterial=t=>{const e=new $t.Shape(t.points);let n;if(t.uri){const e=(new $t.TextureLoader).load(t.uri,(()=>{e.magFilter=$t.LinearFilter,e.minFilter=$t.LinearFilter,e.mapping=$t.UVMapping,e.needsUpdate=!0}));n=new $t.MeshBasicMaterial({color:16777215,map:e,opacity:1,transparent:!0,depthWrite:!0,alphaTest:.1})}else n=new $t.MeshBasicMaterial({color:16777215,opacity:1,depthWrite:!0,transparent:!0});const r=new $t.Vector3,i=new $t.ShapeGeometry(e);i.computeVertexNormals(),i.computeBoundingBox(),i.boundingBox.getCenter(r),i.attributes.uv.array=new Float32Array([1,1,0,1,0,0,1,0]);const o=i.boundingBox.max.x-i.boundingBox.min.x,a=i.boundingBox.max.y-i.boundingBox.min.y,s=2*this.imagePadding,l=(o-s>0?o-s:0)/o,c=(a-s>0?a-s:0)/a;i.attributes.uv.needsUpdate=!0;const u=new $t.Mesh(i,n);return u.type="IndoorMapPlaneMaterialLayer",u.scale.set(l,c,1),u.position.x-=r.x*(l-1),u.position.y-=r.y*(c-1),u.position.z=this.height,this.dispatchScope(u),u},this.updatePlanePoints=t=>{const e=new $t.Vector3,n=new $t.Shape(t),r=new $t.ShapeGeometry(n);r.computeVertexNormals(),r.computeBoundingBox(),r.boundingBox.getCenter(e),r.attributes.uv.array=new Float32Array([1,1,0,1,0,0,1,0]),r.attributes.uv.needsUpdate=!0,this.layer.geometry.dispose(),this.layer.geometry=r;const i=r.boundingBox.max.x-r.boundingBox.min.x,o=r.boundingBox.max.y-r.boundingBox.min.y,a=2*this.imagePadding,s=(i-a>0?i-a:0)/i,l=(o-a>0?o-a:0)/o;this.layer.scale.set(s,l,1),this.layer.position.x=0-e.x*(s-1),this.layer.position.y=0-e.y*(l-1),this.layer.userData.enableFilter=!0},this.removePlaneMaterial=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="planeMaterial",this.type=t.type||Nt.PlaneMaterial,this.points=t.points,this.uri=t.uri||"",this.imagePadding=void 0!==t.imagePadding?t.imagePadding:10,this.height=t.height||.002,this.layer=this.createPlaneMaterial(t)}}class Ml extends rs{constructor(t){super(),this.params=void 0,this.center=void 0,this.maxX=void 0,this.minY=void 0,this.maxY=void 0,this.minX=void 0,this.minAreaWidth=void 0,this.maxAreaWidth=void 0,this.minAreaHeight=void 0,this.maxAreaHeight=void 0,this.imagePadding=void 0,this.useImageSizeAsAreaSizeLimit=void 0,this.faceLayer=void 0,this.center=void 0,this.lineLayer=void 0,this.textLayer=void 0,this.unitLayer=void 0,this.imageIconLayer=void 0,this.vertexLayers=void 0,this.vertexPoints=void 0,this.vertexEvents=void 0,this.dashLineEditLayer=void 0,this.innerWidth=void 0,this.innerHeight=void 0,this.vertexEventEnable=void 0,this.isHideVertex=void 0,this.isHideUniText=void 0,this.isHideLayer=void 0,this.changePivot=t=>{if(this.faceLayer&&this.faceLayer.geometry){const e=new $t.Vector3;this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(e),this.center=e,this.faceLayer.position.set(-this.center.x,-this.center.y,this.params.height),t&&(this.layer=new $t.Object3D,this.layer&&this.layer.position.set(this.center.x,this.center.y,this.params.height),this.layer.add(this.faceLayer),this.layer.type=It.indoorMapWrapper,this.dispatchScope(this.layer))}},this.refreshLayerPosition=()=>{if(this.layer&&this.faceLayer){const t=new $t.Vector3;this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(t),this.center=t,this.layer.position.set(this.center.x,this.center.y,this.params.height)}},this.initPolygonLayer=t=>{const e=(t=>{const e=[];for(var n=0,r=t.length;n<r;n++){const r=new $t.Vector2(t[n].x,t[n].y);if(n>0){let t=e[e.length-1];r.x===t.x&&r.y===t.y||e.push(r)}else e.push(r)}return e})(t.points);for(let t=0;t<e.length-1;t++){const n=e[t];for(let r=t+1;r<e.length;r++){const t=e[r],i=ts(n,t);(i<this.minAreaWidth||i<this.minAreaHeight)&&this.logger.warn("The size you set seems to be smaller than the minimum size of the polygon"),(i>this.maxAreaWidth||i>this.maxAreaHeight)&&this.logger.warn("The size you set seems to be larger than the maximum size of the polygon")}}this.vertexPoints=e,0===t.vertexParams.showVertexIndex.length&&(t.vertexParams.showVertexIndex=new Array(e.length).fill("").map(((t,e)=>e)));let n=null;const r=new $t.MeshBasicMaterial({color:t.color,opacity:t.opacity,transparent:t.transparent,depthWrite:!1});if(t.is3d){const i={depth:t.d3Height,bevelEnabled:!1},o=new $t.Shape(e),a=new $t.ExtrudeGeometry(o,i);n=new $t.Mesh(a,r),n.type="IndoorMapPolygonLayer",n.position.set(0,0,t.height),this.dispatchScope(n)}else{const a=new $t.Shape(e),s=new $t.ShapeGeometry(a);n=new $t.Mesh(s,r),n.type="IndoorMapPolygonLayer",n.position.set(0,0,t.height);const l=new $t.Vector3;if(n.geometry.computeBoundingBox(),n.geometry.boundingBox.getCenter(l),this.center=l,this.minY=n.geometry.boundingBox.min.y,this.maxY=n.geometry.boundingBox.max.y,this.minX=n.geometry.boundingBox.min.x,this.maxX=n.geometry.boundingBox.max.x,this.dispatchScope(n),!t.noLines){const e=this.createLines(this.vertexPoints,t);n.add(e)}if(!t.noVertices)for(let r=0,i=e.length;r<i;r++){let e=null;e="circle"===t.vertexParams.vertexType?this.createCircles(t,r):this.createSquares(t,r),this.isHideVertex=!1,e&&(e.position.set(this.vertexPoints[r].x,this.vertexPoints[r].y,.1),n.add(e))}if(!t.noUnitText){var i,o;const e={point:{x:l.x,y:l.y-(null==(i=t.unitTextFontStyle)?void 0:i.fontSize)*(null==(o=t.unitTextFontStyle)?void 0:o.fontScale)/2-2},text:t.unitText,fontStyle:t.unitTextFontStyle},r=this.createUnitTextLayer(e);this.isHideUniText=!1,this.unitLayer=r,n.add(r)}}const a=new $t.Vector3;if(n.geometry.computeBoundingBox(),n.geometry.boundingBox.getCenter(a),this.center=a,this.minY=n.geometry.boundingBox.min.y,this.maxX=n.geometry.boundingBox.max.x,this.minX=n.geometry.boundingBox.min.x,this.maxX=n.geometry.boundingBox.max.x,!t.noImageIcon)if("static"===t.imageMode){const e={image:t.image,size:t.imageStyle.imageSize,isScale:t.imageStyle.isScale,scale:t.imageStyle.scale,point:{x:a.x,y:a.y}},r=new hs(e);r.layer.userData.enableFilter=!0,this.imageIconLayer=r.layer,n.add(r.layer)}else if("dynamic"===t.imageMode){const r={uri:t.image,points:e,imagePadding:this.imagePadding,height:.002},i=new xl(r);i.layer.userData.enableFilter=!0,this.imageIconLayer=i.layer,n.add(i.layer)}if(!t.noText){const e=t.noImageIcon?0:t.imageStyle.imageSize,r={point:{x:a.x,y:a.y-e},text:t.text,fontStyle:t.fontStyle},i=this.createTextLayer(r);this.textLayer=i,n.add(i)}return this.faceLayer=n,n},this.createCircles=(t,e)=>{const n=t.vertexParams.radius,r=t.vertexParams.segments,i=t.vertexParams.vertexImages,o=t.vertexParams.extendTimes;let a=null,s=null;if(t.vertexParams.showVertexImage){const n=(new $t.TextureLoader).load(i[e]||cs,(()=>{n.needsUpdate=!0,n.magFilter=$t.LinearFilter,n.minFilter=$t.LinearFilter}));a=new $t.SpriteMaterial({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1})}else a=new $t.MeshBasicMaterial({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){s=new $t.Sprite(a);const e=t.vertexParams.scale;s.scale.set(e,e,e)}else{const t=new $t.CircleGeometry(n,r),e=new $t.Mesh(t,a);e.type=It.indoorMapStable;const i=new $t.CircleGeometry(n*o,r),l=new $t.MeshBasicMaterial({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});s=new $t.Mesh(i,l),s.add(e)}this.dispatchScope(s),s.type=It.indoorMapPolygonLayerCircle,s.userIndex=e,this.vertexLayers.push(s)}else this.vertexLayers.push(s);return s},this.createSquares=(t,e)=>{let n=null,r=null;const i=t.vertexParams.radius,o=t.vertexParams.vertexImages,a=t.vertexParams.extendTimes;if(t.vertexParams.showVertexImage){const r=(new $t.TextureLoader).load(o[e]||cs,(()=>{r.needsUpdate=!0,r.magFilter=$t.LinearFilter,r.minFilter=$t.LinearFilter}));n=new $t.SpriteMaterial({map:r,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1})}else n=new $t.MeshBasicMaterial({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){r=new $t.Sprite(n);const e=t.vertexParams.scale;r.scale.set(e,e,e)}else{const t=new $t.PlaneGeometry(2*i,2*i),e=new $t.Mesh(t,n);e.type=It.indoorMapStable;const o=new $t.PlaneGeometry(2*i*a,2*i*a),s=new $t.MeshBasicMaterial({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});r=new $t.Mesh(o,s),r.add(e)}this.dispatchScope(r),r.type=It.indoorMapPolygonLayerCircle,r.userIndex=e,this.vertexLayers.push(r)}else this.vertexLayers.push(r);return r},this.createLines=(t,e)=>{try{const{lineWidth:n,color:r,dashSize:i,gapSize:o,isDash:a,opacity:s}=e.lineParams;let l,c=[];for(let e=0,n=t.length;e<=n;e++)l=e===n?t[0]:t[e],c.push(new $t.Vector2(l.x,-l.y));const u={noUnitText:!0,unitText:"",color:r,opacity:s,points:c,lineWidth:n,dashSize:i,gapSize:o,isDash:a,shouldExtendLine:!1,is3d:!1,noVertices:!0,height:.1,innerWidth:this.innerWidth,innerHeight:this.innerHeight},A=new ul(u);return this.lineLayer=A.layer,this.dispatchScope(A.layer),A.layer.type=It.indoorMapPolygonLineLayer,A.layer}catch(t){this.logger.error("createLines ==>",t)}},this.createTextLayer=t=>{const e=js(t.text,t.fontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.userData.enableFilter=!0,e.position.set(t.point.x,t.point.y,.1),e},this.updateTextLayer=t=>{var e;const n=this.params.noImageIcon?0:this.params.imageStyle.imageSize,r=(null==(e=this.params.fontStyle)?void 0:e.fontSize)/2-2,{position:i}=this.params.fontStyle,o=js(t,this.params.fontStyle);this.dispatchScope(o),o.type=It.indoorMapTextLayer,o.userData.enableFilter=!0;let a=this.center.x,s=this.center.y-n;i===Gt.bottom?s=this.minY-r:i===Gt.top&&(s=this.maxY+r),o.position.set(a,s,.1),this.textLayer&&this.textLayer.removeFromParent(),this.textLayer=o,this.faceLayer.add(this.textLayer)},this.updateTextLayerDynamic=()=>{var t,e;const n=this.params.noImageIcon?0:this.params.imageStyle.imageSize,r=(null==(t=this.params.fontStyle)?void 0:t.fontSize)/2-2,{position:i}=this.params.fontStyle;this.computedCenterDynamic();let o=this.center.x,a=this.center.y-n;i===Gt.bottom?a=this.minY-r:i===Gt.top&&(this.vertexPoints[0],this.vertexPoints[1],a=this.maxY+r),null==(e=this.textLayer)||e.position.set(o,a,.1)},this.computedCenterDynamic=()=>{const t=new $t.Vector3;return this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(t),this.minY=this.faceLayer.geometry.boundingBox.min.y,this.maxX=this.faceLayer.geometry.boundingBox.max.x,this.minX=this.faceLayer.geometry.boundingBox.min.x,this.maxY=this.faceLayer.geometry.boundingBox.max.y,this.center=t,t},this.createUnitTextLayer=t=>{const e=js(t.text,t.unitTextFontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.userData.enableFilter=!0,e.position.set(t.point.x,t.point.y,-.1),e},this.updateUnitText=t=>{if(this.unitLayer){var e;const n=js(t,this.params.unitTextFontStyle);this.dispatchScope(n),n.type=It.indoorMapTextLayer,n.userData.enableFilter=!0;const r=this.vertexPoints[0],i=this.vertexPoints[1],o=this.vertexPoints[2],a=this.vertexPoints[3],s=(null==(e=this.params.unitTextFontStyle)?void 0:e.fontSize)/2-2,{position:l}=this.params.unitTextFontStyle;if(l===Gt.bottom){if(o&&a){const t={x:(o.x+a.x)/2,y:(o.y+a.y)/2-s},e=this.calcDegrees(o,a);n.position.set(t.x,t.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.rotateZ(e),this.faceLayer.add(this.unitLayer)}}else if(l===Gt.top){if(r&&i){const t={x:(r.x+i.x)/2,y:(r.y+i.y)/2+s},e=this.calcDegrees(i,r);n.position.set(t.x,t.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.userData.enableFilter=!0,this.unitLayer.rotateZ(e),this.faceLayer.add(this.unitLayer)}}else if(l===Gt.center&&r&&o&&a){const t=this.params.noImageIcon?0:this.params.imageStyle.imageSize,e={x:(o.x+a.x)/2,y:(r.y+o.y)/2-t},i=this.calcDegrees(o,a);n.position.set(e.x,e.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.userData.enableFilter=!0,this.unitLayer.rotateZ(i),this.faceLayer.add(this.unitLayer)}}},this.updateUnitTextPositionDynamic=()=>{var t,e;const n=this.computedCenterDynamic(),r=this.params.noImageIcon?0:this.params.imageStyle.imageSize,{position:i}=this.params.unitTextFontStyle,o=(null==(t=this.params.unitTextFontStyle)?void 0:t.fontSize)/2-2;let a=this.minY-o;i===Gt.top?a=this.maxY+o:i===Gt.center&&(a=n.y-r),null==(e=this.unitLayer)||e.position.set(n.x,a,-.1)},this.updateImageIconPositionDynamic=()=>{if("static"===this.params.imageMode){var t;const e=this.computedCenterDynamic();null==(t=this.imageIconLayer)||t.position.set(e.x,e.y,.001)}},this.updateDynamicModeImageSize=t=>{"dynamic"===this.params.imageMode&&this.imageIconLayer&&this.imageIconLayer.scope.updatePlanePoints(t)},this.updateDashEditLine=(t,e)=>{if(void 0===this.dashLineEditLayer){const n=[t,e];$a(n);const r={color:this.params.lineParams.color,lineWidth:this.params.lineParams.lineWidth,is3d:!1,isDash:!0,innerHeight:this.innerWidth,innerWidth:this.innerHeight,dashSize:this.params.lineParams.dashSize,gapSize:this.params.lineParams.gapSize,height:.001,noVertices:!0,noUnitText:!0,points:n,shouldExtendLine:!1};this.dashLineEditLayer=new ul(r),this.dashLineEditLayer.layer.type=It.indoorMapDashEditLine,this.dashLineEditLayer.layer.enableFilter=!0,this.faceLayer.add(this.dashLineEditLayer.layer)}else{const n=[t.x,t.y,.001,e.x,e.y,.001];this.dashLineEditLayer.layer.geometry.setPositions(n),this.dashLineEditLayer.layer.computeLineDistances()}},this.redrawVertexPointsPosition=()=>{this.vertexPoints.forEach(((t,e)=>{var n;null==(n=this.vertexLayers[e])||n.position.set(t.x,t.y,t.z)}))},this.hideDashEditLine=t=>{if(this.dashLineEditLayer)return this.dashLineEditLayer.layer.visible=!t,void this.changeLineDashType(t)},this.hideLineOnDynamicImageMode=t=>{"dynamic"===this.params.imageMode&&this.lineLayer&&(this.lineLayer.visible=!t)},this.calcDegrees=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),this.disableEnableFilter=t=>{this.layer.userData.enableFilter=t},this.hideVertex=t=>{this.hideDashEditLine(t),this.isHideVertex=t,this.vertexEventEnable=!t,this.vertexLayers.forEach((e=>{e&&(e.visible=!t)}))},this.getIsHideVertex=()=>this.isHideVertex,this.getIsHideUniText=()=>this.isHideUniText,this.getVertexEventEnable=()=>this.vertexEventEnable,this.hideUnitText=t=>{this.unitLayer&&(this.isHideUniText=!0,this.unitLayer.visible=!t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.changeLineDashType=t=>{if(this.lineLayer){this.lineLayer.removeFromParent();const e=Ro(this.params);e.lineParams.isDash=t;const n=this.createLines(this.vertexPoints,e);this.faceLayer.add(n)}},this.hideLine=t=>{this.lineLayer&&(this.lineLayer.visible=!t)},this.hideLayer=(t,e=!1)=>{this.layer&&(e?this.layer.visible=!t:(this.isHideLayer&&(this.layer.visible=!t),this.isHideLayer=e))},this.vertexPoints=[],this.vertexLayers=[],this.vertexEvents=[],this.isHideUniText=!0,this.isHideVertex=!0,this.isHideLayer=!1;const e={class:"",is3d:!1,d3Height:5,color:"#BC2121",opacity:.5,transparent:!0,height:5,minAreaWidth:10,minAreaHeight:10,maxAreaHeight:1/0,maxAreaWidth:1/0,noVertices:!1,noLines:!1,noText:!1,noUnitText:!1,noImageIcon:!0,text:"",unitText:"",image:"",imageMode:"static",useImageSizeAsAreaSizeLimit:!1,imagePadding:0,imageStyle:{isScale:!1,scale:.02,imageSize:8},vertexParams:{vertexType:"circle",vertexImages:[],vertexEvents:[],showVertexIndex:[],showVertexImage:!1,vertexColor:"#BC2121",extendTimes:2,radius:6,segments:32,opacity:1,isScale:!1,scale:.02},lineParams:{color:"#ffffff",opacity:1,lineWidth:1,isDash:!0,dashSize:1,gapSize:.5},fontStyle:{color:"#000000",fontSize:24,fontScale:.2,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1,position:Gt.center},unitTextFontStyle:{color:"#000000",fontSize:24,fontScale:.3,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1,position:Gt.bottom},points:[{x:0,y:0}]};this.points=t.points;const n=ra(e,t);$a(n.points),n.is3d&&(n.height=0),this.params=n,this.minAreaWidth=this.params.minAreaWidth,this.maxAreaWidth=this.params.maxAreaWidth,this.minAreaHeight=this.params.minAreaHeight,this.maxAreaHeight=this.params.maxAreaHeight,this.imagePadding=this.params.imagePadding,this.useImageSizeAsAreaSizeLimit=this.params.useImageSizeAsAreaSizeLimit,this.vertexEvents=n.vertexParams.vertexEvents,this.innerWidth=n.innerWidth,this.innerHeight=n.innerHeight,this.vertexEventEnable=!0,this.layer=this.initPolygonLayer(n),this.layer&&this.changePivot(!0)}}class Ll{constructor(t,e,n,r){this.tl=void 0,this.tr=void 0,this.br=void 0,this.bl=void 0,this.boundingBox=void 0,this.tl=[t||0,e||0],this.br=[n||0,r||0],this.tr=[n||0,e||0],this.bl=[t||0,r||0]}}const Cl=(t,e=!0)=>{const n=new Ll;if(t.length<1)return n;let r=9999999,i=9999999,o=-9999999,a=-9999999;for(let n=t.length-1;n>=0;n--){const s={x:t[n].x,y:e?-t[n].y:t[n].y};s.x>o&&(o=s.x),s.x<r&&(r=s.x),s.y>a&&(a=s.y),s.y<i&&(i=s.y)}n.tl=[r,i],n.tr=[o,i],n.bl=[r,a],n.br=[o,a];const s=Math.sqrt(Math.pow(n.tr[0]-n.tl[0],2)+Math.pow(n.tr[1]-n.tl[1],2)),l=Math.sqrt(Math.pow(n.br[0]-n.bl[0],2)+Math.pow(n.br[1]-n.bl[1],2));return n.boundingBox={minX:r,minY:i,maxX:o,maxY:a,width:s,height:l},n};function El(t,e){this.start=t,this.end=e,this.x=this.end.x-this.start.x,this.y=this.end.y-this.start.y,this.cosx=0===this.x&&0===this.y?2:this.x/Math.sqrt(this.x*this.x+this.y*this.y),this.cross=function(t){return this.x*t.y-t.x*this.y}}const Bl=t=>{if(null!=t&&t.length>0){let e=t[0];for(let n=1;n<t.length;n++)(t[n].y<e.y||t[n].y===e.y&&t[n].x<e.x)&&(e=t[n]);return e}return null},Sl=(t,e,n,r)=>{let i=n,o=r,a=e[n],s=new El(t,a);for(;i<o;){for(;i<o&&s.cosx>new El(t,e[o]).cosx;)o--;for(i<o&&(e[i++]=e[o]);i<o&&s.cosx<new El(t,e[i]).cosx;)i++;i<o&&(e[o--]=e[i])}return e[i]=a,n<i&&Sl(t,e,n,i-1),r>i&&Sl(t,e,i+1,r),e},Tl=(t,e,n,r)=>{const i=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-r.x)*(e.y-r.y)-(t.y-r.y)*(e.x-r.x);if(i*o>=0)return!1;const a=(n.x-t.x)*(r.y-t.y)-(n.y-t.y)*(r.x-t.x);if(a*(a+i-o)>=0)return!1;const s=a/(o-i),l=s*(e.x-t.x),c=s*(e.y-t.y);return{x:t.x+l,y:t.y+c}},Dl=(t,e,n)=>{const r=(e.y-t.y)/(e.x-t.x);return{x:n,y:t.y+(n-t.x)*r}};var Il,Pl,Fl=Object.freeze({__proto__:null,getBoundingRect:Cl,getCenterOfBounding:t=>[(t.boundingBox.minX+t.boundingBox.maxX)/2,(t.boundingBox.minY+t.boundingBox.maxY)/2],LineVector:El,translateCoord:(t,e)=>{const n=t[0],r=t[1];return[n-e[0],r-e[1]]},getMultipleRectCenter:t=>{const e=[-999999,-999999];let n=0,r=0;for(let e=0,i=t.length;e<i;e++){const i=t[e];n+=void 0!==i.x?i.x:i[0],r+=void 0!==i.y?i.y:i[1]}return e[0]=n/t.length,e[1]=r/t.length,e},getBasePoint:Bl,quickSort:Sl,lineSegmentsIntersection:Tl,pointAtX:Dl});!function(t){t[t.areaSet=2]="areaSet",t[t.forbid=3]="forbid"}(Il||(Il={}));class kl extends rs{constructor(t){super(),this.class=void 0,this.type=void 0,this.text=void 0,this.points=void 0,this.origin=void 0,this.defaultHeight=void 0,this.id=void 0,this.is3d=void 0,this.renameEnable=void 0,this.deleteEnable=void 0,this.isRotate=void 0,this.minAreaWidth=void 0,this.minAreaHeight=void 0,this.maxAreaWidth=void 0,this.maxAreaHeight=void 0,this.useImageSizeAsAreaSizeLimit=void 0,this.indoorMap2d=void 0,this.factor=void 0,this.font=void 0,this.color=void 0,this.bgColor=void 0,this.borderColor=void 0,this.textColor=void 0,this.textSize=void 0,this.textPosition=void 0,this.image=void 0,this.imageMode=void 0,this.imagePadding=void 0,this.imageSize=void 0,this.imageScale=void 0,this.imageIsScale=void 0,this.content=void 0,this.extend=void 0,this.areaType=void 0,this.vertexType=void 0,this.vertexImages=void 0,this.showVertexImage=void 0,this.vertexColor=void 0,this.vertexExtendTimes=void 0,this.showUnitText=void 0,this.unitTextColor=void 0,this.unitTextFontSize=void 0,this.unitPosition=void 0,this.radius=void 0,this.lineWidth=void 0,this.isDash=void 0,this.dashSize=void 0,this.gapSize=void 0,this.viewType=void 0,this.dashLineEditLayer=void 0,this.type=void 0,this.initial=void 0,this.showEditable=void 0,this.visible=void 0,this.onLongPressInAreaView=void 0,this.onLaserMapPoints=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.updateOriginAndPosition=t=>{this.redrawForbidArea(void 0,t),this.origin=Object.assign({},t)},this.updateUnitText=t=>{if(t)return void this.layer.scope.updateUnitText(t);const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1],r=this.layer.scope.vertexPoints[2],i=this.useImageSizeAsAreaSizeLimit?2*this.imagePadding:0,o=ts(e,n)-i>0?ts(e,n)-i:0,a=ts(n,r)-i>0?ts(n,r)-i:0,s=(o*this.factor).toFixed(1)+"m x "+(a*this.factor).toFixed(1)+"m";this.layer.scope.updateUnitText(s)},this.updateText=t=>{var e;this.layer.scope.updateTextLayer(t);const n=this.getDataInfo();void 0!==(null==n||null==(e=n.data)||null==(e=e.content)?void 0:e.text)&&(n.data.content.text=t,this.setDataInfo(n))},this.hideVertex=t=>{this.layer.scope.disableEnableFilter(t),this.layer.scope.hideDashEditLine(t),this.layer.scope.hideLineOnDynamicImageMode(t),this.layer.scope.vertexLayers.forEach(((e,n)=>{e&&(e.visible=!t,this.isRotate||1!==n||(e.visible=!1),this.renameEnable||3!==n||(e.visible=!1),this.deleteEnable||0!==n||(e.visible=!1))})),this.layer.position.z=t?this.defaultHeight:Rt.otherArea},this.hideUnitText=t=>{this.layer.scope.hideUnitText(t)},this.removeForbidArea=()=>(this.removeForbidAreaEvent(),this.remove()),this.hideForbidArea=t=>{this.layer.scope.hideLayer(t)},this.hideLayer=t=>{this.layer.scope.hideLayer(t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.getIsHideVertex=()=>this.layer.scope.getIsHideVertex(),this.getIsHideUniText=()=>this.layer.scope.getIsHideUniText(),this.getIsEditable=()=>!(this.layer.scope.getIsHideUniText()||this.layer.scope.getIsHideVertex()),this.init=t=>{this.origin=Ro(t.origin||{x:0,y:0}),this.minAreaWidth=t.minAreaWidth||10,this.minAreaHeight=t.minAreaHeight||10,this.maxAreaWidth=t.maxAreaWidth||1/0,this.maxAreaHeight=t.maxAreaHeight||1/0,this.initial=!0,this.is3d=t.is3d,this.d3Height=t.d3Height||5,this.class="forbidArea",this.type=t.type||Nt.ForbidArea,this.text=t.text||"",this.textPosition=void 0!==t.textPosition?t.textPosition:Gt.center,this.areaType=t.areaType||0,this.defaultHeight=this.areaType===Il.areaSet?Rt.areaSet:this.areaType===Il.forbid?Rt.forbidArea:Rt.otherArea,this.content=t.content||{text:""},this.extend=t.extend||{},this.id=t.id||"-1",this.indoorMap2d=t.indoorMap2d,this.factor=t.factor||.05,this.font=t.font||12,this.vertexType=t.vertexType||"circle",this.vertexImages=t.vertexImages||[],this.vertexColor=t.vertexColor||"#ffffffff",this.radius=t.radius||6,this.lineWidth=void 0!==t.lineWidth?t.lineWidth:1,this.isDash=void 0===t.isDash||t.isDash,this.dashSize=void 0!==t.dashSize?t.dashSize:4,this.gapSize=void 0!==t.gapSize?t.gapSize:2,this.showVertexImage=void 0===t.showVertexImage||t.showVertexImage,this.vertexExtendTimes=void 0!==t.vertexExtendTimes?t.vertexExtendTimes:3,this.showUnitText=void 0===t.showUnitText||t.showUnitText,this.unitPosition=void 0!==t.unitPosition?t.unitPosition:Gt.bottom,this.unitTextColor=t.unitTextColor?t.unitTextColor:t.color?t.color:"#00000000",this.unitTextFontSize=t.unitTextFontSize?t.unitTextFontSize:t.font?t.font:12,this.color=t.color||"#00000000",this.renameEnable=t.renameEnable||!1,this.deleteEnable=t.deleteEnable||!1,this.isRotate="boolean"!=typeof t.isRotate||t.isRotate,this.borderColor=t.borderColor||"#ffffffff",this.bgColor=t.bgColor||"#7ff81c1c",this.textColor=t.textColor||"#ff000000",this.textSize=t.textSize||12,this.image=t.image||"",this.imageMode=t.imageMode||"static",this.imagePadding=void 0!==t.imagePadding?t.imagePadding:10,this.useImageSizeAsAreaSizeLimit=void 0!==t.useImageSizeAsAreaSizeLimit&&t.useImageSizeAsAreaSizeLimit,this.imageSize=t.imageSize||8,this.imageScale=t.imageScale||.02,this.imageIsScale=void 0===t.imageIsScale||t.imageIsScale,this.showEditable="boolean"!=typeof t.showEditable||t.showEditable,this.viewType=t.viewType||Wt.normal,this.visible=void 0===t.visible||t.visible;const e=[];t.points&&t.points.forEach((t=>{const n={x:t.x+this.origin.x,y:t.y+this.origin.y};e.push(n)})),this.points=e,this.onLongPressInAreaView=t.onLongPressInAreaView||(()=>{this.logger.warn("It seems not setup onLongPressInAreaView function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{this.logger.warn("It seems not setup onVirtualInfoOutOfBoundingBox function")}),4===this.points.length?(this.layer=this.createForbidArea(),this.layer&&(this.layer.scope.hideVertexAndUnitText(!t.showEditable),this.updateUnitText(),this.createForbidAreaEvent(),this.getInfo(this.layer.scope,!0),this.updateText(this.text))):this.logger.warn("You must setting 4 points for forbidArea")},this.rotateInstead=(t,e)=>{let n;if(this.is3d){const t=this.calcHorizontal(this.points,.5);e.points=t,n=new Ml(e)}else{const r=t.vertexPoints[1],i=t.vertexPoints[2],o=t.vertexPoints[3],a=parseInt(Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))),s=parseInt(Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))),l={x:t.center.x-s/2,y:-t.center.y-a/2},c={x:t.center.x+s/2,y:-t.center.y-a/2},u={x:t.center.x+s/2,y:-t.center.y+a/2},A={x:t.center.x-s/2,y:-t.center.y+a/2},h=t.calcDegrees(i,o);t.layer.rotateZ(-h),e.points=[l,c,u,A],n=new Ml(e),n.layer.rotateZ(h),t=null}const r=n.vertexPoints[0],i=n.vertexPoints[2];return this.viewType===Wt.dashEdit&&n.updateDashEditLine(r,i),n},this.createForbidArea=()=>{const t=[0,1,2,3];this.isRotate||(t[1]=-1),this.renameEnable||(t[3]=-1),this.deleteEnable||(t[0]=-1);let e=this.points;const{data:{length:n=0}}=this.indoorMap2d.map.getLaserMapPointsInfo(this.areaType),{colorFormat:r,alpha:i}=this.argb2Rgb(this.vertexColor),{colorFormat:o,alpha:a}=this.argb2Rgb(this.bgColor),{colorFormat:s,alpha:l}=this.argb2Rgb(this.borderColor),c={color:o,opacity:a,is3d:this.is3d,d3Height:this.d3Height,transparent:!0,noText:!this.renameEnable,noUnitText:!this.showUnitText,minAreaWidth:this.minAreaWidth,maxAreaWidth:this.maxAreaWidth,minAreaHeight:this.minAreaHeight,maxAreaHeight:this.maxAreaHeight,text:this.text,imageMode:this.imageMode,imagePadding:this.imagePadding,image:this.image,noImageIcon:!this.image,imageStyle:{imageSize:this.imageSize,scale:this.imageScale*this.indoorMap2d.getFitScale(),isScale:this.imageIsScale},fontStyle:{fontSize:this.textSize,fontScale:.3*this.indoorMap2d.getFitScale(),color:Hs(this.textColor),pixelRatio:this.indoorMap2d.pixelRatio,position:this.textPosition},unitTextFontStyle:{fontSize:this.unitTextFontSize,fontScale:.4*this.indoorMap2d.getFitScale(),color:Hs(this.unitTextColor),pixelRatio:this.indoorMap2d.pixelRatio,position:this.unitPosition},lineParams:{isDash:this.isDash,lineWidth:this.lineWidth,dashSize:this.dashSize,gapSize:this.gapSize,color:s,opacity:l},unitText:"0.0m",vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showVertexImage:this.showVertexImage,vertexImages:0===this.vertexImages.length?[as,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAASEElEQVR4AdVcCZBdRRXtv0wmezKTBbIJZC+gAkGJMRCNkEBCGajSIiyV0pSahBJXoiKlllappahoKWWZhEXRCIJlSYGQIBGQNZigJCEFJplEk8lKZibLZJ35/3vOm3ff3N+/33/v/VnIdNWbe7v79u17z7uvu9/r/pMy731KdbIJhU7Wl0hdZzsT1Xl39yf2dBvI3eFgkj6SyApYpEkASyKr+4jFV+pAHOVRul31rrI4fblAcpVpXVH1WjY2X6kD5TqI0qnrw3jRr+uljNQFhi4L47UO4bWslFVMwwyuRGE5XbrOxbvK4tqgARFeKHWE8bZ+LWfXxc5rR2I3sgTL6dB1wjvppk2bRo8dO3ZGVVXV5EwmMzGdTo9HP7WpVKo/6AC/z2OFQqEZfGM+n9+ey+W2trS0vLNjx45Xp0yZUu/LCDBhlGJS5zcpIuXqigS7IkNwXFca5XJlwPPK4qryr16zZs3q3dDQMPfMmTP3AZxtAKpDiTqoizqpG/30Uv2xb7FD7CJ12S43HNXdm8KMEYPFgSIgN2/ePO706dM/AXq7O4Rg+ca72Qf7AiRRwIb50a1ouowoC+S2bdsuRAQ9CBzOlMeiU2vR5ZkH2XeFwHYLqFFgMiIlKns99thjtXDq54CppVOhSqashTbQFgWs2MknSYLB5VuXgerqjGViDA0LgARfffjw4Rvhd30y37tUup420TZcMhTQ5ihQ6WenJxegBJPGFIF59913D0BE/LpLoemActpGG2G3DaoA6/K1UwF1deACs/qNN94Yjxn3Xx3wt1ua0kbaCpQYrVx9SKR2OahxwOSdrt65c+elMPRsesTL3hzaSpt9UOlDl4MaBSbvrAfmrl27ZsL6hrIenJ2VDbRdgUqfZBjjU+jCAMXJk0uR/Zh7YGJZMrWHgim3uIE+ACKZrLokUm1ACaYAyg49MP0xs8c85oKgTfn4qzFVP/7it41HohC1G4tSPZtX33nnnYM4uNvG9dQ8faFPfqTqiUr8t3GJDardUEcmO+Kj0fvUqVPLeyp4YXbTJ/rm+2iDauMCseJEATvZZbYS5tP4CHF9bW3to3ZjO//PfQXz6u686Y+H6IaJGTOsry3hzjecNObNA3mz+2jBHDtjzNHTBrRgsri15/RLmXN59U+Zi4elTA3d78TU2Nh405AhQ56Ayjwufn2yL91b0dcpGzwK6jLhSXkxUlMrVqwYsHjx4o34tDYS+dD0wq68+e6LrSaNlnl0W9MnZVZdX2X68b470psHCua5/+XNhr15s7e53c6MbwW9S3lmFDx9VEHdU89Jm9kXpM3M96VN/xDdju5CixC9e++7775Lli5degxCNEQDy3btxhXzReBR0DedrJeY15c3luCx+GF1dfWXfJlQ8u1/tJpX9+RNjub46fuzqsyVo4u7WY8o/u2mnNnybt4QvBxltcnSOITKDeuNqfKmCzPmZlx9OG12IOFr1S969+59F1TQeg0oLbOtC/IEKCxprwNQN27cOA5g3h7WSJfzUdVgso6PrSQCuWR1q/na31vMO4faUM+5zJUGIZTRz3S6NWUewo1Z8JcW8+d3cCPbu2oTSPCXPtJXNAl8V801Nqq47RGWApeQKKOMx0+ePPmr4Dt0/wnAin/nPCDrGhWQYolPGXmulEEYuOoKfuA046bdu6HVfPXvraYZN7XClPV9LcHAoS+wNAyYQACNRWFq3bp1o3v16nWrQ2HsoiOnjLljbas34bCRHUXy+FZjgXbZiLS5aGjaDMCaYgAmNdbtxwbIfoyvdYcL5q2DeQ9CaSNGFPzI5KS2ZHWL+clVVWaUbKKIUAxKX+HzD6ZPn74b4oKJxD3zwgfaRIgFNs+8XN7YeeLEie/36dPnjqB1BPPlZ9uBE1FvUkkhlixT0ughj2CdBhBvxBg49ZyUN6NLOxc9jJn/JUx8T23Pm3ca8gA8hcmqWDHB7lOVMr+YkzXja7SLLo2lZSdPnvxZ3759v4UaPkq82IG+kPWS17GMobonm2c+hU2wNAbpm/zGFZO0A0wqu2BQ2qy4rsr8+OqsuXxENJhsMxiRO39C2iyflzXfmZk1QxxLMg4vJ1sK5q7nW80R3ICkiT7Td7TzcPCpqLGx8pZBUqmpNGaZxz/99NOzsEwapYUq4fUjLtbcelHGrLwuaybVSklyzR89L23+cEOVmTeOL3NM7boI6qGTBfPdl1qD5VabTPRf+kzffYWilFT4IiUSoUWFKiMNU1joflyVdwLbZs9XpmXNkqkZb7nUUaW94M2dH8qY2y7LwlvvCQxUciT49/68eRCrgKTJ9z3Aolx7G1CNulaQwgD9kXKKktcVzM2IzA9jMd6EiUoujosdTTdfmDZfuNw93/5xS868eyJZD77vRXgoDRoz5/JHGgZt1q5dOwoHD7gm69T0CJzjZad+mEQ+f3nGzBtr329bMjz/8UlpU9eUwYRVrJ9Dzqq3cuYr02RoCNchNfSdGMyePZuzvSQBsuhRoMVSIYJCBVhOSDOksDvoCUwiP32t1TQicjuSCNrogSlv9hc9fPT/ui1n9h+XknjUxyDAJKRVKiwEBGRPAZYNk0IUlC3uhSDIYCmTNPGWM5L2Hiu6+UnVeMuupVOzJUsprn2eBKhJko+BAMqmTsdcgIqgUIPzRhOSdC6ylwxPA5jkoLStHY05f3BggqhMTGeOSZmJQ9KG69wgwaR1e5LZZWEghgkNVOuRm5UlAizLZrMVjZ8LMDkcPp0xL2LxfVy9wwe9OxgsU8yYQSmz5NJMp3w5Yhfzx6fNPa8zLtsSoaxrysO2trWslJejPgZOfPx23h3SgGp9Aq5H4WSNrozLVyEqbn9/xrvitukKuemjdHi297BhX97MPt9d1y7VxvkYFOGCmpIwj6et/Tih3U+PyPOj9tjBcFXFF4f2eny8TpBifQ2IAtQzAXeHZzR7dDoP47F2luM0dwHiJoWBui2lrXUfUms3sPMi16NoLbZJbEcqeLe3Vdj5optmAxQIY0uAp4Z7dBpUnSr6VMj3e/2xO8o5C4MAG7udK0JtGXxq6/mAHsfLAh9zSWnEa98E+09xMYgFKParm8SQnkoPHC+Y4neMghnaVyEc4VhcDGIBih8H1EX0d9ZX78Wgpfe3+CY2FLuwcVNcDMLWoewnWFPgPOU2bFrF7btI7ij2dO5/M2d2YsviitFp7EryYevexMlnu793pXse6vggres1TwxUPsBGlXmsC1AKa58Lx44d2zpgQKxlWJF+RsGX/tZq/nekbe9nM/aAmlsy5rOXxP/SU6SwwgzPB3ASstOF2K+Km4gBZG0tdr7sLM++vAavvPLKurgda7mtjQVEZpsz8kr/aAXfI7XOSvi/1bXtN+m2wzF+jkywulYYlICo9ca6RQsWLNiDQTnxODoYSxU7cRz7TQVfzW09cfOMzi3Y89ebdzxMMS3kddSll74TA1edXRYGKO+Cvgx2/16yG0flRyACuIuplyv8RLGmLmf+01D2RkepjlV/stWYe9fnir6HsiGHovefW3qzw5Qq3zUmTgc0oCJs6/XK6+vrH7cr4uQ/g69G9vhFV7gL2dEPyFH93/N6zjRgc05HJ2/uMDzuV4zRrpfX5PteFh/R4NIqyAv1ZK+55poXEfp7pWFcOmlIyszA7K6jlBFy+HTBfPOFVsMo6orEkylrd5Z+RObN/Ry+gHFDL06iz/TdkhVshAbVYWpFkNS7cA4939zc/KegZQKGu5D8lKcX1nSM55k+t6bVHEy4aVauaxp7/0b3XhU/Ml80LG245Rw30Wf6DvkAC78t8yWJmp0VfnmRktWrV9+P8pYSLREF7xtozDdmZEtOi1A5l1SLn2oxPEfa0cQPxstwzGfV5tLI5M1kVC77YKIlW4vvM03TWIQZW5CR2UUJtr5oSRp37N5+/fotZA9JEx9D1y6nHMP54Mi0uf0DWcMbkCSdAn6P/ydv/oDdTL6zu8ZsDjk/whknnkqJm44fP/77/v37fxHyjFDeJVJ9CbABlduleyEveeEDOmPGjK0TJ078NGQIdqJ02blps+NIwezCpZOsUffhENjjW3M4SFYwp2H2cJxSDjvnSdC2HCqYJ3Cu6Xsv58yr9XlzBm1El9ZP/q4rsubDCSYiNGl99tlnFz/88MON4GkwgSSVC6yXmA+SBk4KA/BQQF6i1ItQ5DNHjhz53sCBA2OdERWlQtn7Sj9SqbzIGl9IH/qq7Z3CybmUGYGLUcZPbvwwzGOQJzChUQf/uID0Tj6jjqdTPoZ9pSTp6NGjvxo0aNC30UYiU6gNrHahEBah0rdnLzJFFJ1tmDdv3s34ip34fZSKPoC1Kc/Hv4bTzcxri9ixznMVcPBEwfwXUb2jqYAz98YcQL6FbpVJ1DsMfdxzdZX5UIJFPFViZt+3bNmyRevXr+fJAJqjQaQIy7SZLPOSAMWMzTMvV0mU4odSHxs/fvzvPC0V/iFIK/HhhD9q8I6CO01MppxRzOHg6vMz5g5MQGHn+ctp3b59+ycnTJjwV8hIVArVwNqgetbbIEo/Uk5KMIWSDx59ROqP8dHkM9KoUvrWuwWz/F858xbO2DMJKHH10TjO4nzsP4Il0cKLMxWdBWV/+AjyAIazr4MVEIUKmEIp7oFIBqksoBTw7FRUojQA9dprr+3z5JNPrsEhgCls0NG0C48z9/Cfxy9BuG8uiQDTGEYeeWb0t80ajLME8hOTMmZMwhWC9EGKfwizaf78+XOfeeYZ/KjHe8w1mAIkgZOLzSSVAMoKmitJeFI7SgNQV61aNfqWW25ZgwNVI6VhZ9B9+CD8Nk4lH8Kin2c7SY/i7WogPrjwoO0ggHhOP2Mm403sPByMEGMr7ZtvRI888sjchQsX1kMHwXOBKaCyGw9AMkiabyvx/9IufQlw/G7KHRh+Ze6DC654//qHP+OrxR2dAYMase/SIxNtpw/0BRd94mRLH+krfabvxECGO41R5L3UwgRUg8oflWpQ+YANxlWLw/1zeiKotJm20wffF/qkwaTPGkzioTFCtnzSwuQ1oLxT7IA/BuQGAj/RBqDyLmPvZU9PCVPaqiKTgUFf6BN9o4/0tUPRifZeigKVUeoE9aGHHpqC/ZeNZzuotJG2wg8dmRrMDj/qbVC2/XUBakeqPPolkTpnzpyR+O8zD5ytoNI22hgCZti4aT/qxChRigJVj6cloKKnoW+//fan8FjtPVuApS20ibbhckWmgBk1biYGk8jbgDIvUcrZjgN1FKhDFi1adD4i4lcA9T39R1i0gbbA5iG44oIZNqtXBCj6jQRVJinX48/lB8+V0oGh+K9e0/AWsgrAduu/amOf7Js2+LbQJtqmJyAdmfSJQHY6mNDppSSRKhOVXqd6yypoIrDDVq5ceSl+4P/LrlwNUDf7YF/s0+9bolKvM2U2Z0Dox7xiMOOGrktOgIYtQSTrgVt4m3rthg8fnlmzZs2V48aNux4frK/E/wwdS0WVJoC4Ax+EX66rq3ti7ty5Lx88eJBvOnyDkUvecmzKeikjzyRt2nLtf6W+vcTiXEBZIkHWJesCVcoESOaFFyoyAV2+fPmIq666anpNTc0E/L5yPI7+XIDX2Rpc/eSwK4aLZizEj+Nqwj8I2Il/hLC9qalp23PPPbfutttu24d+BAibCmBCWa95kaezmmdeEssjEx2Km8JkpTwABwpdfCiYSp62aH3MhyVxUFMBw0VdANpy7Ev02f2GlRfJifFFhREZVxspI7V5KRNqA8vupE7aShlpWNIOamAor/PlgNSywpPqpPvR5U5eO+AUCCl0tZMyTW2e+bCLXWl56VrKJK8dFF5T8uUu6pF64TUlL0n0Sj6S2sZGNlACYW2lXFObZ95VRvVSbvPMS9KOCi8gufJ2GfXoMtGrqdTrskheGx8p7BAIa6/LhSeN4tmFlnF0GRSJw0JZQV7y5XhRIrKSFxpWLvWhVIwPFYhRUU6HrhM+LpWuRV7ytrOSj0upR2RFp6bl6rSck7eNdQrFLCynS9e5eFdZzG6LwBEwhFJHGG/r13J2Xey8diR2owjBKJ26PoyXLnS9lJG6nNdlYbzWIbyWlbKKaZjBFStUDaN0u+pdZUplKOsCxVWmFUTVa9nYPN9ZuzpVClISu5KAk0Q2iQ2ebHc4q43q7v6k7y4FUTohfa8c7Eobug087YTw/wdgP+9agCZhjgAAAABJRU5ErkJggg==",ls,ss]:this.vertexImages,vertexType:this.vertexType,extendTimes:this.vertexExtendTimes,vertexColor:r,opacity:i,radius:this.radius,vertexEvents:[t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.deleteEnable)return;const e=this.getInfo(t,!1,"remove");this.removeForbidArea(),this.onLaserMapPoints(e,"remove"),this.indoorMap2d.map.removeFromAreaInfo(e.target)},(t,e,n)=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.isRotate)return;const r=this.indoorMap2d;if(n===r.eventTap){const t=r.intersection;r.intersection=r.intersection.scope.layer,r.intersection.intersectionCopy=t;const n=new $t.Vector3(r.intersection.position.x-this.indoorMap2d.map.center.x,r.intersection.position.z,-r.intersection.position.y+this.indoorMap2d.map.center.y);r.intersection.center=r.worldToScreen(n),r.intersection.transformRotate=!0,r.intersection.draggerEnable=!1,r.intersection.startPosition=new $t.Vector2(e.mouseClient.x,e.mouseClient.y),r.intersection.angle=0,r.intersection.angleStart=r.rotateAngle(r.intersection.startPosition,r.intersection.center)}if(n===r.eventTapMove){r.intersection.endPosition=new $t.Vector2(e.mouseClient.x,e.mouseClient.y),r.intersection.angleEnd=r.rotateAngleByLength(r.intersection.startPosition,r.intersection.endPosition,r.intersection.center);const n=r.calculateDirection(new $t.Vector2(r.intersection.startPosition.x,r.intersection.startPosition.y),new $t.Vector2(r.intersection.endPosition.x,r.intersection.endPosition.y),new $t.Vector2(r.intersection.center.x,r.intersection.center.y));let i=r.intersection.angleEnd;r.intersection.angle=n<0?i:-i,r.intersection.rotateZ(.02*r.intersection.angle),r.intersection.startPosition=(new $t.Vector2).copy(r.intersection.endPosition);const o=this.getInfo(t.scope,!1,"rotate");this.onLaserMapPoints(o,"rotate");const a=this.judgeIsOutOfBoundingBox(o);this.onVirtualInfoOutOfBoundingBox({...o,isOutOfBoundingBox:a})}},t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=t.userIndex,n=new $t.Vector2(t.position.x,t.position.y),r=new $t.Vector2(n.x-t.beforePosition.x,n.y-t.beforePosition.y),i={0:[1,2],1:[0,2],2:[3,1],3:[0,1]},o=i[e];let a=!1,s=!1,l=!1,c=!1;const u=this.minAreaWidth,A=this.maxAreaWidth,h=this.minAreaHeight,d=this.maxAreaHeight;if(o.forEach((o=>{if(o===i[e][0]){const e=t.scope.vertexPoints[o],i=e.x,l=e.y,c=new $t.Vector2(i,l+r.y);let h=ts(n,c);void 0===t.scope.distance_2&&(t.scope.distance_2=h),h<=t.scope.distance_2&&h<u&&(a=!0),h>=t.scope.distance_2&&h>A&&(s=!0),t.scope.distance_2=a?u:s?A:h}else if(o===i[e][1]){const e=t.scope.vertexPoints[o],i=e.x,a=e.y,s=new $t.Vector2(i+r.x,a);let u=ts(n,s);void 0===t.scope.distance_3&&(t.scope.distance_3=u),u<=t.scope.distance_3&&u<h&&(l=!0),u>=t.scope.distance_3&&u>d&&(c=!0),t.scope.distance_3=l?h:c?d:u}})),a||s||l||c)return this.logger.info("lock move position",t.beforePosition),t.position.copy(t.beforePosition),t.draggerEnable=!1,!1;o.forEach((n=>{const o=t.scope.vertexPoints[n],a=o.x,s=o.y,l=new $t.Vector2;n===i[e][0]?l.set(a,s+r.y):n===i[e][1]?l.set(a+r.x,s):l.set(a,s),t.scope.vertexPoints[n].copy(l);const c=new $t.Vector3(t.scope.vertexPoints[n].x,t.scope.vertexPoints[n].y,.1);t.scope.vertexLayers[n]&&t.scope.vertexLayers[n].position.copy(c)})),t.scope.vertexPoints[e].copy(n),this.redrawForbidArea(t.scope)},t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.renameEnable)return;const e=this.getInfo(t.scope,!1,"edit"),n={id:this.id,info:e};this.onLongPressInAreaView({data:n})}],showVertexIndex:t},points:e,height:"static"===this.imageMode?this.defaultHeight+(n+1)/100:0,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight};this.defaultHeight=this.defaultHeight+(n+1)/100;const u=new Ml(c),A=this.rotateInstead(u,c);return this.visible||A.hideLayer(!0,!0),A.layer},this.redrawForbidArea=(t,e)=>{try{const n=t||this.layer.scope;e&&n.vertexPoints.forEach((t=>{t.x=t.x-this.origin.x+e.x,t.y=t.y+this.origin.y-e.y}));const r=n.vertexPoints;if(n.redrawVertexPointsPosition(),this.is3d){const t={depth:this.d3Height,bevelEnabled:!1},e=new $t.Shape(n.vertexPoints),r=new $t.ExtrudeGeometry(e,t);n.geometry=r}else{const t=new $t.Shape(n.vertexPoints);n.faceLayer.geometry.dispose(),n.faceLayer.geometry=new $t.ShapeGeometry(t);const e=[];let i;for(let t=0,n=r.length;t<=n;t++)i=t===n?r[0]:r[t],e.push(i.x,i.y,0);n.lineLayer.geometry.setPositions(e),n.lineLayer.computeLineDistances(),n.lineLayer.position.z=0,this.viewType===Wt.dashEdit&&n.updateDashEditLine(r[0],r[2]),n.updateImageIconPositionDynamic(),n.updateDynamicModeImageSize(n.vertexPoints),n.updateTextLayerDynamic(),n.updateUnitTextPositionDynamic(),this.updateUnitText()}n.changePivot(!1),e&&n.refreshLayerPosition();const i=this.getInfo(n,!1,"resize");this.onLaserMapPoints(i,"resize");const o=this.judgeIsOutOfBoundingBox(i);this.onVirtualInfoOutOfBoundingBox({...i,isOutOfBoundingBox:o})}catch(t){throw this.logger.error("redrawForbidArea ==>",t),new Error(t)}},this.createForbidAreaEvent=()=>{var t,e;this.removeForbidAreaEvent();const n=this.layer.scope,r=this.indoorMap2d,i=n.vertexLayers[3],o=n.vertexLayers[2],a=n.vertexLayers[1],s=n.vertexLayers[0];this.layer&&r.dispatchEvent(this.layer),i&&r.dispatchEvent(i),s&&r.dispatchEvent(s),o&&r.dispatchEvent(o),a&&r.dispatchEvent(a),null==s||s.$on(r.eventTap,((t,e)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}})),null==o||o.$on(r.eventTapMove,((t,e)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const n=t.userIndex,r=t.scope.vertexEvents[n];"function"==typeof r&&r(t,e)}})),null==a||a.$on(r.eventTap,((t,e,n)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const r=t.userIndex,i=t.scope.vertexEvents[r];"function"==typeof i&&i(t,e,n)}})),null==a||a.$on(r.eventTapMove,((t,e,n)=>{if(t.intersectionCopy&&t.intersectionCopy.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const r=t.intersectionCopy.userIndex,i=t.intersectionCopy.scope.vertexEvents[r];"function"==typeof i&&i(t,e,n)}})),null==i||i.$on(r.eventTap,((t,e,n)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);t.draggerEnable=!1;const r=t.userIndex,i=t.scope.vertexEvents[r];"function"==typeof i&&i(t,e,n)}})),null==(t=this.layer)||t.$on(r.eventTap,((t,e)=>{(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())&&t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1)})),null==(e=this.layer)||e.$on(r.eventTapMove,((t,e)=>{(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())&&t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo(t.scope,!1,"move");this.onLaserMapPoints(n,"move");const r=this.judgeIsOutOfBoundingBox(n);this.onVirtualInfoOutOfBoundingBox({...n,isOutOfBoundingBox:r})}))},this.judgeIsOutOfBoundingBox=t=>{const{points:e}=t.data,{width:n,height:r}=this.indoorMap2d.map.getMapDataWidthHeight();let i=!1;return e.forEach((t=>{(t.x>n||t.y>r||t.x<0||t.y<0)&&(i=!0)})),i},this.removeForbidAreaEvent=()=>{const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[3],r=t.vertexLayers[2],i=t.vertexLayers[1],o=t.vertexLayers[0];o&&"function"==typeof o.$off&&o.$off(e.eventTap),r&&"function"==typeof r.$off&&r.$off(e.eventTapMove),i&&"function"==typeof i.$off&&i.$off(e.eventTap),i&&"function"==typeof i.$off&&i.$off(e.eventTapMove),n&&"function"==typeof n.$off&&n.$off(e.eventTap),this.layer&&"function"==typeof this.layer.$off&&(this.layer.$off(e.eventTap),this.layer.$off(e.eventTapMove))},this.calcAngle=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI),this.rotatePolygon=(t,e)=>{const n=(t[0].x+t[1].x+t[2].x+t[3].x)/4,r=(t[0].y+t[1].y+t[2].y+t[3].y)/4,i=e*(Math.PI/180);return t.map((t=>{const e=t.x-n,o=t.y-r;return{x:n+(e*Math.cos(i)-o*Math.sin(i)),y:r+(e*Math.sin(i)+o*Math.cos(i))}}))},this.calculateDistance=(t,e)=>{const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},this.getInnerPolygon=(t,e)=>{let n=0,r=0;t.forEach((t=>{n+=t.x,r+=t.y})),n/=t.length,r/=t.length;const i=10*es(this.calculateDistance(t[0],t[1]),1),o=10*es(this.calculateDistance(t[3],t[0]),1),a=[{x:n-i/2+e,y:r-o/2+e},{x:n+i/2-e,y:r-o/2+e},{x:n+i/2-e,y:r+o/2-e},{x:n-i/2+e,y:r+o/2-e}],s=this.calcAngle(t[2],t[3]);return this.rotatePolygon(a,s)},this.getOuterPolygon=(t,e)=>{let n=0,r=0;t.forEach((t=>{n+=t.x,r+=t.y})),n/=t.length,r/=t.length;const i=10*es(this.calculateDistance(t[0],t[1]),1),o=10*es(this.calculateDistance(t[3],t[0]),1),a=[{x:n-i/2-e,y:r-o/2-e},{x:n+i/2+e,y:r-o/2-e},{x:n+i/2+e,y:r+o/2+e},{x:n-i/2-e,y:r+o/2+e}],s=this.calcAngle(t[2],t[3]);return this.rotatePolygon(a,s)},this.roundToPrecision=(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},this.getInfo=(t,e=!1,n)=>{let r=[];const i=this.indoorMap2d.map.center;this.indoorMap2d.scene.updateMatrixWorld(!0);const o=new $t.Vector3;t.changePivot(!1),t.faceLayer.getWorldPosition(o),o.setFromMatrixPosition(t.faceLayer.matrixWorld),0===o.x&&0===o.y||e?t.vertexPoints.forEach(((e,n)=>{const i=t.faceLayer.geometry.attributes.position,o=(new $t.Vector3).fromBufferAttribute(i,n);o.applyMatrix4(t.faceLayer.matrixWorld),o.x=this.roundToPrecision(o.x,1),o.y=this.roundToPrecision(o.y,1),o.z=this.roundToPrecision(o.z,1);const a={x:o.x,y:-o.y};r.push(a)})):t.vertexPoints.forEach(((e,n)=>{const o=t.faceLayer.geometry.attributes.position,a=(new $t.Vector3).fromBufferAttribute(o,n);a.applyMatrix4(t.faceLayer.matrixWorld),a.x=this.roundToPrecision(a.x,1),a.y=this.roundToPrecision(a.y,1),a.z=this.roundToPrecision(a.z,1);const s={x:a.x+i.x,y:a.z-i.y};r.push(s)}));const a=this.getInnerPolygon(r,this.imagePadding),s={operation:n,target:t.layer.id,type:this.type,data:{id:this.id,extend:this.extend,areaType:this.areaType,content:{text:this.text},points:r,imagePoints:this.useImageSizeAsAreaSizeLimit?a:[]}};return this.setDataInfo(s),s},this.checkEditable=()=>[Ut.normal,Ut.virtualWall,Ut.pressToRun,Ut.mapSplit,Ut.mapSelect,Ut.mapTimerSelect].some((t=>this.indoorMap2d.map.state===t)),this.checkForbid=()=>this.indoorMap2d.map.state===Ut.areaSet&&this.type===Il.forbid,this.calcHorizontal=(t,e)=>{let n=[],r=[],i=[],o=[];if(t.length<2)return t;if(4!==t.length)return this.logger.warn("You must setting 4 points for forbidArea"),t;const a=t.length-1,s=Bl(t),l={x:(t=Sl(s,t,0,a))[0].x-e,y:t[0].y};t.push(l),t[0]={x:t[0].x,y:t[0].y+e},i.push({x:2*t[0].x-t[1].x,y:2*t[0].y-t[1].y}),i.push(t[0]);for(let n=1,r=t.length-1;n<r;n++)Math.pow(t[n].y-t[n-1].y,2)+Math.pow(t[n].x-t[n-1].x,2)>e*e&&i.push(t[n]);i.push(t[t.length-1]),i.push({x:2*t[t.length-1].x-t[t.length-2].x,y:2*t[t.length-1].y-t[t.length-2].y});for(let t=1,o=i.length-1;t<o;t++){let o=i[t-1].x,a=i[t-1].y,s=i[t].x,l=i[t].y,c=i[t+1].x,u=o-s,A=a-l,h=s-c,d=l-i[t+1].y,p=0,f=0;0===h?(p=-Math.PI/2,d<0&&(p=-p)):p=Math.atan(d/h),0===u?(f=-Math.PI/2,A<0&&(f=-f)):f=Math.atan(A/u),c<s&&(p+=Math.PI),s<o&&(f+=Math.PI);let m=(f-p-Math.PI)/2,g=p+m,y=e/Math.sin(m),v=y*Math.cos(g),_=y*Math.sin(g),w=s+v,b=l+_,x=s-v,M=l-_;n.push({x:w,y:b}),r.push({x:x,y:M})}return o=n.concat(r.reverse()),o.push(n[0]),o},this.logger.setLoggerInfo(t.onLoggerInfo),this.init(t)}}class Rl extends rs{constructor(t){super(),this.id=void 0,this.indoorMap2d=void 0,this.class=void 0,this.params=void 0,this.position=void 0,this.realPosition=void 0,this.appointIcon=void 0,this.animate=void 0,this.origin=void 0,this.is3d=void 0,this.type=void 0,this.isScale=void 0,this.scale=void 0,this.markerLayer=void 0,this.rangeLayer=void 0,this.frameAnimationId=void 0,this.posParams=void 0,this.visible=void 0,this.onPosPoints=void 0,this.createPosPosition=t=>{const e=!!this.posParams,n={point:e?{x:0,y:0}:{x:t.position.x+this.origin.x,y:t.position.y+this.origin.y},image:t.appointIcon||us,size:t.size||12,height:Rt.posPosition,isScale:t.isScale,scale:t.scale},r=new hs(n);if(r.layer.type=It.indoorMapPosLayer,e){const t=this.createRangeLayer(),e=t.scope.center;return r.layer.position.set(e.x,e.y,.1),t.scope.faceLayer.add(r.layer),this.rangeLayer=t,this.markerLayer=r.layer,this.updateUnitText(),this.createRangeLayerEvent(),this.rangeLayer}return this.animate&&!e?(this.realPosition.copy(r.layer.position),r.layer.position.y=5e3):this.realPosition.copy(r.layer.position),this.markerLayer=r.layer,this.visible||r.hideLayer(!0),this.markerLayer},this.getInfo=t=>{const e=this.getPosPosition();if(e){const n={extend:null,id:void 0!==this.id?this.id:"appoint_0",points:e,target:this.layer.id,type:this.type},r={operation:t,type:this.type,target:this.layer.id,data:n};return this.setDataInfo(r),r}},this.createRangeLayer=()=>{var t,e,n,r,i,o,a,s,l,c;const u=((null==(t=this.posParams)?void 0:t.meter)||1.5)/((null==(e=this.posParams)?void 0:e.factor)||.05),A=this.position.x+this.origin.x,h=-(this.position.y+this.origin.y),d=[{x:A-u/2,y:-h-u/2},{x:A+u/2,y:-h-u/2},{x:A+u/2,y:u/2-h},{x:A-u/2,y:u/2-h}],{colorFormat:p,alpha:f}=this.argb2Rgb((null==(n=this.posParams)?void 0:n.bgColor)||"#FFBC2121"),{colorFormat:m,alpha:g}=this.argb2Rgb((null==(r=this.posParams)?void 0:r.borderColor)||"#ffffffff"),y={color:p,opacity:f,is3d:this.is3d,transparent:!0,noText:!1,noLines:!1,unitTextFontStyle:{fontSize:(null==(i=this.posParams)||null==(i=i.unit)?void 0:i.textSize)||12,fontScale:.4*this.indoorMap2d.getFitScale(),color:Hs((null==(o=this.posParams)||null==(o=o.unit)?void 0:o.textColor)||"#00000000"),pixelRatio:this.indoorMap2d.pixelRatio},lineParams:{isDash:(null==(a=this.posParams)?void 0:a.isDash)||!1,lineWidth:(null==(s=this.posParams)?void 0:s.lineWidth)||1,dashSize:(null==(l=this.posParams)?void 0:l.dashSize)||4,gapSize:(null==(c=this.posParams)?void 0:c.gapSize)||2,color:m,opacity:g},unitText:"",noVertices:!0,points:d,visible:!0,height:Rt.posPosition,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},v=new Ml(y);return this.visible||v.hideLayer(!0,!0),v.layer},this.createRangeLayerEvent=()=>{var t,e;const n=!!this.posParams;var r,i;this.removeRangeLayerEvent(),this.rangeLayer&&this.indoorMap2d.dispatchEvent(this.rangeLayer),null==(t=this.rangeLayer)||t.$on(this.indoorMap2d.eventTap,((t,e)=>{this.indoorMap2d.map.state===Ut.pressToRun||this.indoorMap2d.map.edit||t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo("move");this.onPosPoints(n,"move")})),null==(e=this.rangeLayer)||e.$on(this.indoorMap2d.eventTapMove,((t,e)=>{this.indoorMap2d.map.state===Ut.pressToRun||this.indoorMap2d.map.edit||t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo("move");this.onPosPoints(n,"move")})),n&&(this.markerLayer&&this.indoorMap2d.dispatchEvent(this.markerLayer),null==(r=this.markerLayer)||r.$on(this.indoorMap2d.eventTap,((t,e)=>{if(this.indoorMap2d.map.state!==Ut.pressToRun&&!this.indoorMap2d.map.edit)return void(t.draggerEnable=!1);t.disableInnerDragger=!0;const n=t.parent.parent;this.indoorMap2d.emitClickEvent(n);const r=this.getInfo("move");this.onPosPoints(r,"move")})),null==(i=this.markerLayer)||i.$on(this.indoorMap2d.eventTapMove,((t,e)=>{if(this.indoorMap2d.map.state!==Ut.pressToRun&&!this.indoorMap2d.map.edit)return void(t.draggerEnable=!1);const n=t.parent.parent;this.indoorMap2d.emitMoveEvent(n,t.parent);const r=this.getInfo("move");this.onPosPoints(r,"move")})))},this.removeRangeLayerEvent=()=>{this.rangeLayer&&"function"==typeof this.rangeLayer.$off&&(this.rangeLayer.$off(this.indoorMap2d.eventTap),this.rangeLayer.$off(this.indoorMap2d.eventTapMove)),this.markerLayer&&"function"==typeof this.markerLayer.$off&&(this.markerLayer.$off(this.indoorMap2d.eventTap),this.markerLayer.$off(this.indoorMap2d.eventTapMove))},this.redrawPosPosition=t=>{if(this.posParams){const e=this.rangeLayer.scope;e.vertexPoints.forEach((e=>{e.x=e.x-this.origin.x+t.x,e.y=e.y+this.origin.y-t.y}));const n=e.vertexPoints;e.redrawVertexPointsPosition();const r=new $t.Shape(e.vertexPoints);e.faceLayer.geometry=new $t.ShapeGeometry(r);const i=[];let o;for(let t=0,e=n.length;t<=e;t++)o=t===e?n[0]:n[t],i.push(o.x,o.y,0);e.lineLayer.geometry.setPositions(i),e.lineLayer.computeLineDistances(),e.lineLayer.position.z=0,e.updateTextLayerDynamic(),e.updateUnitTextPositionDynamic(),e.changePivot(!1),t&&e.refreshLayerPosition();const a=this.rangeLayer.scope.center;this.markerLayer.position.set(a.x,a.y,.1)}else this.layer&&(this.layer.scope.updateImgCloudPosition({x:this.position.x+t.x,y:this.position.y+t.y}),this.realPosition.copy(this.layer.position));this.getInfo("resize")},this.getFrameAnimationId=()=>this.frameAnimationId,this.updateUnitText=()=>{if(this.rangeLayer){var t;const e=(null==(t=this.posParams)?void 0:t.meter)||1.5,n=e+"m x "+e+"m";this.rangeLayer.scope.updateUnitText(n)}},this.hideUnitText=t=>{this.rangeLayer&&this.rangeLayer.scope.hideUnitText(t)},this.updateOriginAndPosition=t=>{this.redrawPosPosition(t),this.origin=Object.assign({},t)},this.getPosPosition=()=>{const t=!!this.posParams;if(this.layer&&!t){const t=this.realPosition;return{x:t.x,y:-t.y}}if(this.rangeLayer){const t=[],e=this.indoorMap2d.map.center,n=this.rangeLayer.scope;this.indoorMap2d.scene.updateMatrixWorld(!0);const r=new $t.Vector3;n.changePivot(!1),n.faceLayer.getWorldPosition(r),r.setFromMatrixPosition(n.faceLayer.matrixWorld),0===r.x&&0===r.y?n.vertexPoints.forEach(((e,r)=>{const i=n.faceLayer.geometry.attributes.position,o=(new $t.Vector3).fromBufferAttribute(i,r);o.applyMatrix4(n.faceLayer.matrixWorld);const a={x:o.x,y:-o.y};t.push(a)})):n.vertexPoints.forEach(((r,i)=>{const o=n.faceLayer.geometry.attributes.position,a=(new $t.Vector3).fromBufferAttribute(o,i);a.applyMatrix4(n.faceLayer.matrixWorld);const s={x:a.x+e.x,y:a.z-e.y};t.push(s)}));let i=0,o=0;return t.forEach((t=>{i+=t.x,o+=t.y})),{x:i/t.length,y:o/t.length}}return null},this.startAnimate=(t=1e3)=>{this.animate?new He.Tween(this.layer.position).to(this.realPosition,t).easing(He.Easing.Quadratic.Out).start().onUpdate((()=>{})):this.logger.warn("It seems not enable the animate in props")},this.removePosPosition=()=>{const t=this.getInfo("remove");return this.onPosPoints(t,"remove"),this.removeRangeLayerEvent(),this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.class="posPosition",this.type=Nt.PosPosition,this.params=t,this.id=t.id,this.indoorMap2d=t.indoorMap2d,this.frameAnimationId=(new Date).getTime(),this.position=t.position,this.realPosition=new $t.Vector3,this.appointIcon=t.appointIcon,this.animate=t.animate||!1,this.is3d=t.is3d||!1,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.posParams=t.posParams,this.origin=t.origin||{x:0,y:0},this.visible=void 0===t.visible||t.visible,this.layer=this.createPosPosition(t),this.onPosPoints=t.onPosPoints||(()=>{this.logger.warn("It seems not setup onPosPoints function")});const e=this.getInfo("add");this.onPosPoints(e,"add")}}!function(t){t.texture="texture",t.pixelPoints="pixelPoints"}(Pl||(Pl={}));class Ul extends rs{constructor(t){super(),this.params=void 0,this.class=void 0,this.shape=void 0,this.center=void 0,this.minX=void 0,this.minY=void 0,this.maxX=void 0,this.maxY=void 0,this.isFoldable=void 0,this.infoId=void 0,this.freezeUpdate=void 0,this.shapeWireframe=void 0,this.multiply=(t,e,n)=>(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y),this.generateWireframeData=(t,e)=>{const n=[];for(let e=1,r=t.length;e<r;e++){const r=t[e-1],i=t[e];this.calculateFlatVector3BetweenPoints(r,i,n)}const r=n.length/3,i=[];for(let t=0;t<r;t++)i.push(e.r,e.g,e.b);return{_pointsArray:n,_colorsArray:i}},this.createPointsLayer=t=>{const{useContour:e,color:n,points:r,pointsArray:i,colorsArray:o,pointSize:a,pointStep:s,colorStep:l,showColor:c,pointsAttribute:u,depthWrite:A,depthTest:h,transparent:d,center:p={x:0,y:0},opacity:f}=t;if(e){var m,g,y,v;let e=this.freezeUpdate?[]:r;this.shape=new $t.Shape,e.length&&this.shape.setFromPoints(e);const i=new $t.ShapeGeometry(this.shape),o=new $t.MeshBasicMaterial({color:n,opacity:f,depthWrite:A,depthTest:h,transparent:!0});o.needsUpdate=!0,i.computeBoundingSphere(),i.computeBoundingBox(),this.center.x=p.x,this.center.y=p.y,this.center.z=0,this.maxX=null==(m=i.boundingBox)?void 0:m.max.x,this.maxY=null==(g=i.boundingBox)?void 0:g.max.y,this.minX=null==(y=i.boundingBox)?void 0:y.min.x,this.minY=null==(v=i.boundingBox)?void 0:v.min.y;const _=new $t.Mesh(i,o);_.position.z=t.height,_.type=It.indoorMapPoints,_.userData=u;const{_pointsArray:w,_colorsArray:b}=this.generateWireframeData(e,new $t.Color(n)),x=new $t.Float32BufferAttribute(w,s),M=new $t.PointsMaterial({size:a,transparent:d,opacity:f,vertexColors:c,sizeAttenuation:!0,depthWrite:A,depthTest:h});M.needsUpdate=!0;const L=new $t.BufferGeometry;L.setAttribute("color",new $t.BufferAttribute(new Float32Array(b),l)),L.setAttribute("position",x);const C=new $t.Points(L,M);return C.type=It.indoorMapFilter,C.userData.enableFilter=!0,this.shapeWireframe=C,_.add(C),this.dispatchScope(_),_}{var _,w,b,x;0!==i.length&&0!==o.length||this.debug.isDevMode&&this.logger.warn("createPointsLayer occur a warning : pointsArray or colorsArray is empty");let e,n=this.freezeUpdate?[]:i,r=this.freezeUpdate?[]:o;const m=new $t.BufferGeometry,g=new $t.Float32BufferAttribute(n,s);if(m.setAttribute("position",g),t.showTexture){const n=(new $t.TextureLoader).load(t.textureImage,(()=>{n.needsUpdate=!0,n.minFilter=$t.LinearFilter,n.magFilter=$t.LinearFilter}));e=new $t.PointsMaterial({size:a,map:n,transparent:d,sizeAttenuation:!1,depthWrite:A,depthTest:h})}else m.setAttribute("color",new $t.BufferAttribute(new Float32Array(r),l)),e=new $t.PointsMaterial({size:a,transparent:d,opacity:f,vertexColors:c,sizeAttenuation:!0,depthWrite:A,depthTest:h});e.needsUpdate=!0,m.computeBoundingSphere(),m.computeBoundingBox(),this.center.x=p.x,this.center.y=p.y,this.center.z=0,this.maxX=null==(_=m.boundingBox)?void 0:_.max.x,this.maxY=null==(w=m.boundingBox)?void 0:w.max.y,this.minX=null==(b=m.boundingBox)?void 0:b.min.x,this.minY=null==(x=m.boundingBox)?void 0:x.min.y;const y=new $t.Points(m,e);return y.position.z=t.height,y.type=It.indoorMapPoints,y.userData=u,this.dispatchScope(y),y}},this.getConvexHullPoints=()=>{try{if(this.params.useContour){const{vertexDataOuter:t=[]}=this.params.pointsAttribute;return t.map((t=>({x:t.x,y:t.y})))}let t,e=0;const n=function(t,e){e=void 0===e?1:Qi(Zn(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var r=0,i=0,o=Array(Yi(n/e));r<n;)o[i++]=Li(t,r,r+=e);return o}(this.params.pointsArray,3),r=n.map((t=>new $t.Vector3(t[0],t[1],t[2])));let i=r.length;for(let t=0;t<i;t++)(r[t].y<r[e].y||r[t].y===r[e].y&&r[t].x<r[e].x)&&(e=t);t=r[0],r[0]=r[e],r[e]=t,r.sort(((t,e)=>{let n=Math.atan2(t.y-r[0].y,t.x-r[0].x),i=Math.atan2(e.y-r[0].y,e.x-r[0].x);return n!==i?n-i:t.distanceTo(r[0])-e.distanceTo(r[0])}));let o=[];o.push(r[0],r[1],r[2]);for(let t=3;t<i;t++){for(;this.multiply(r[t],o[o.length-1],o[o.length-2])>0;)o.pop();o.push(r[t])}return o.filter((t=>null!=t)).map((t=>({x:t.x,y:-t.y})))}catch(t){return this.logger.error("getConvexHullPoints throw error: ",t),[]}},this.updatePointsLayer=t=>{const{points:e,color:n,opacity:r,pointsArray:i,colorsArray:o,pointStep:a=3,colorStep:s=3,pointsAttribute:l,depthWrite:c,depthTest:u,center:A={x:0,y:0},useContour:h}=t;if(this.layer){var d,p,f,m;const g=Object.assign(this.params,t);if(this.params=g,this.freezeUpdate=g.freezeUpdate,h){let t=this.freezeUpdate?[]:e;this.logger.info("updatePoints ==>",t,n,r),this.shape=new $t.Shape,t.length&&this.shape.setFromPoints(t);const i=new $t.ShapeGeometry(this.shape),o=new $t.MeshBasicMaterial({color:n,opacity:r,depthWrite:c,depthTest:u,transparent:!0});if(o.needsUpdate=!0,this.layer.geometry=i,this.layer.material=o,this.shapeWireframe){const{_pointsArray:e,_colorsArray:r}=this.generateWireframeData(t,new $t.Color(n)),i=new $t.Float32BufferAttribute(e,a);this.shapeWireframe.geometry.setAttribute("color",new $t.BufferAttribute(new Float32Array(r),s)),this.shapeWireframe.geometry.setAttribute("position",i)}}else{if(0===i.length||0===o.length)return void this.logger.warn("updatePointsLayer occur a warning : pointsArray or colorsArray is empty");let t=this.freezeUpdate?[]:i,e=this.freezeUpdate?[]:o;const n=new $t.Float32BufferAttribute(t,a);this.layer.geometry.setAttribute("position",n),this.layer.geometry.setAttribute("color",new $t.BufferAttribute(new Float32Array(e),s))}this.layer.geometry.computeBoundingSphere(),this.layer.geometry.computeBoundingBox(),this.center.x=A.x,this.center.y=A.y,this.center.z=0,this.layer.position.z=t.height,this.maxX=null==(d=this.layer.geometry.boundingBox)?void 0:d.max.x,this.maxY=null==(p=this.layer.geometry.boundingBox)?void 0:p.max.y,this.minX=null==(f=this.layer.geometry.boundingBox)?void 0:f.min.x,this.minY=null==(m=this.layer.geometry.boundingBox)?void 0:m.min.y,this.layer.userData=l}},this.updatePointsLayerSize=t=>{if(this.params.useContour){if(this.shapeWireframe){this.params.pointSize=t;const e=new $t.PointsMaterial({size:this.params.pointSize,transparent:this.params.transparent,opacity:this.params.opacity,vertexColors:this.params.showColor,sizeAttenuation:!0,depthWrite:this.params.depthWrite,depthTest:this.params.depthTest});e.needsUpdate=!0,this.shapeWireframe.material=e}}else if(this.layer){this.params.pointSize=t;const e=new $t.PointsMaterial({size:this.params.pointSize,transparent:this.params.transparent,opacity:this.params.opacity,vertexColors:this.params.showColor,sizeAttenuation:!0,depthWrite:this.params.depthWrite,depthTest:this.params.depthTest});e.needsUpdate=!0,this.layer.material=e}},this.removePointsLayer=()=>this.remove(),this.shapeWireframe=void 0,this.center=new $t.Vector3,this.isFoldable=!1,this.infoId="",this.minX=0,this.minY=0,this.maxX=0,this.maxY=0;const e={class:Pl.pixelPoints,useContour:!1,freezeUpdate:!1,points:[],color:new $t.Color(1,1,1),pointsArray:[],colorsArray:[],center:{x:0,y:0},pointSize:1,pointStep:3,colorStep:3,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0,showColor:!0,pointsAttribute:{},showTexture:!1,textureImage:cs,height:0},n=Object.assign(e,t);this.params=n,this.freezeUpdate=n.freezeUpdate,this.class=n.class,this.layer=this.createPointsLayer(n)}}class Ol extends rs{constructor(t){super(),this.useContour=void 0,this.useStructuredMode=void 0,this.onlyEndPoints=void 0,this.textLayer=void 0,this.indoorMap2d=void 0,this.params=void 0,this.splitLinePoints=void 0,this.colorHex=void 0,this.splitColor=void 0,this.vertexParams=void 0,this.pixelPointsStore=void 0,this.wrapperPointsStore=void 0,this.onSplitLine=void 0,this.getSplitLineRealPoints=()=>this.splitLinePoints&&this.splitLinePoints.length>0?this.useContour?this.useStructuredMode?this.splitLinePoints.map((t=>({x:t.x,y:t.y}))):this.splitLinePoints.map((t=>({x:t.x,y:-t.y}))):this.splitLinePoints:[],this.getLineListFromContour=t=>{const e=[];let n=[].concat(t);n.push(t[0]);for(let t=0;t<n.length-1;t++){const r={x:n[t].x,y:-n[t].y},i={x:n[t+1].x,y:-n[t+1].y};e.push([r,i])}return e},this.getInfo=t=>{const e={operation:t,type:Ot.split,data:[{points:this.getSplitLineRealPoints(),pixel:this.colorHex}]};return this.setDataInfo(e),e},this.removeSplitLine=()=>{const t=this.getInfo("remove");return this.onSplitLine(t,"remove"),this.removeSplitLineEvent(),this.remove()},this.createSplitLine=t=>{var e,n,r,i;const o=e=>{var n,r,i,o;if(!e)return;const a=e.userIndex,s=e.scope.vertexPoints[a].z,l=new $t.Vector3(e.position.x,e.position.y,s);e.scope.vertexPoints[a].copy(l);const c=e.scope.lineLayer.geometry,u=[];e.scope.vertexPoints.forEach((t=>{u.push(t.x,t.y,t.z)})),c.setPositions(u);const A=new $t.Vector2(e.scope.vertexPoints[0].x,-e.scope.vertexPoints[0].y),h=new $t.Vector2(e.scope.vertexPoints[1].x,-e.scope.vertexPoints[1].y),d=this.rayCasting(A,t.boundingBox),p=this.rayCasting(h,t.boundingBox);let f=[];if(f=this.useContour?this.calculatePointsInContours(A,h,this.params,!1):this.calculatePoints(A,h,this.params,!1),2===f.length){const t=new $t.Vector3(f[0].x,-f[0].y,s),n=new $t.Vector3(f[1].x,-f[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([t.x,t.y,t.z,n.x,n.y,n.z]);else{const r=this.createRealLine([t,n]);e.scope.realLayer=r.layer,e.scope.lineLayer.add(r.layer)}}if(0===f.length&&!1===d&&!1===p&&e.scope.realLayer&&(e.scope.realLayer.visible=!1),0===f.length&&!0===d&&!0===p){let t=[];if(t=this.useContour?this.calculatePointsInContours(A,h,this.params,!0):this.calculatePoints(A,h,this.params,!0),2===t.length){const n=new $t.Vector3(t[0].x,-t[0].y,s),r=new $t.Vector3(t[1].x,-t[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([n.x,n.y,n.z,r.x,r.y,r.z]);else{const t=this.createRealLine([n,r]);e.scope.realLayer=t.layer,e.scope.lineLayer.add(t.layer)}}}if(1===f.length){let t=[];if(t=this.useContour?this.calculatePointsInContours(A,h,this.params,!0):this.calculatePoints(A,h,this.params,!0),2===t.length){const n=new $t.Vector3(t[0].x,-t[0].y,s),r=new $t.Vector3(t[1].x,-t[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([n.x,n.y,n.z,r.x,r.y,r.z]);else{const t=this.createRealLine([n,r]);e.scope.realLayer=t.layer,e.scope.lineLayer.add(t.layer)}}}c.computeBoundingBox(),null==(n=c.boundingBox)||n.getCenter(e.scope.center),this.minY=null==(r=c.boundingBox)?void 0:r.min.y,this.maxX=null==(i=c.boundingBox)?void 0:i.max.x,null==(o=e.scope.unitLayer)||o.position.set(e.scope.center.x,e.scope.center.y,0);const m=this.getInfo("resize");this.onSplitLine(m,"resize")},a=new $t.Vector2(t.points[0].x,t.points[0].y),s=new $t.Vector2(t.points[1].x,t.points[1].y);let l=[];l=this.useContour?this.calculatePointsInContours(a,s,t,!1):this.calculatePoints(a,s,t,!1);const c=this.vertexParams.vertexType?this.vertexParams.vertexType:"circle";let u=null!=(e=this.vertexParams)&&e.vertexColor?this.vertexParams.vertexColor:this.splitColor,A=1;if(-1===u.indexOf("rgb")||-1===u.indexOf("rgba")){let{colorFormat:t,alpha:e}=this.argb2Rgb(u);A=e,u=t}const h=null!=(n=this.vertexParams)&&n.vertexExtendTimes?null==(r=this.vertexParams)?void 0:r.vertexExtendTimes:2,d=null!=(i=this.vertexParams)&&i.radius?this.vertexParams.radius:4,p={isDash:!0,dashSize:4,gapSize:2,noUnitText:!0,unitText:"0.0m",points:t.points,noVertices:!1,lineWidth:1,shouldExtendLine:!1,color:this.splitColor,depthWrite:!1,vertexParams:{showVertexImage:!1,vertexEvents:[o,o],vertexImages:[as,ls],vertexType:c,radius:d*this.indoorMap2d.getFitScale(),extendTimes:h,segments:32,vertexColor:u,opacity:A},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},f=new ul(p);if(2===l.length){const t=this.createRealLine(l);f.realLayer=t.layer,f.layer.add(t.layer)}return f.layer},this.createRealLine=t=>{const e={isDash:!1,noUnitText:!0,lineWidth:2,unitText:"0.0m",points:[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}],noVertices:!0,shouldExtendLine:!1,color:this.splitColor,opacity:1,depthWrite:!1,vertexParams:{showVertexImage:!1,vertexEvents:[()=>{},()=>{}],vertexImages:[as,ls],radius:2,segments:32,color:this.splitColor,opacity:1},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},n=new ul(e);return n.layer.type=It.indoorMapSplitLineLayer,n},this.createSplitLineEvent=()=>{this.removeSplitLineEvent();const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[0],r=t.vertexLayers[1];n&&e.dispatchEvent(n),r&&e.dispatchEvent(r),null==n||n.$on(e.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})),null==r||r.$on(e.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}}))},this.removeSplitLineEvent=()=>{const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[0],r=t.vertexLayers[1];"function"==typeof n.$off&&n.$off(e.eventTapMove),"function"==typeof r.$off&&r.$off(e.eventTapMove)},this.calculatePointsInContours=(t,e,n,r=!1)=>{n.boundingBox;let i=null,o=null;r?(i=this.pointAtX(t,e,-9999),o=this.pointAtX(t,e,9999)):(i=t,o=e);const a=this.getLineListFromContour(n.contours),s=[];for(let t=0;t<a.length;t++){const e=this.lineSegmentsIntersection(i,o,a[t][0],a[t][1]);e&&s.push(e)}const l=[].concat(s),c=[];return l.forEach((t=>{const e={x:t.x,y:t.y};c.push(e)})),this.splitLinePoints=c,l},this.calculatePoints=(t,e,n,r=!1)=>{const i=n.boundingBox;let o=null,a=null;r?(o=this.pointAtX(t,e,-9999),a=this.pointAtX(t,e,9999)):(o=t,a=e);const s=i.min,l=i.max,c=s.x-3,u=l.x+3,A=s.y-3,h=l.y+3,d=new $t.Vector2(c,A),p=new $t.Vector2(u,A),f=new $t.Vector2(c,h),m=new $t.Vector2(u,h),g=[],y=this.lineSegmentsIntersection(o,a,d,f),v=this.lineSegmentsIntersection(o,a,p,m),_=this.lineSegmentsIntersection(o,a,d,p),w=this.lineSegmentsIntersection(o,a,f,m);y&&g.push(y),v&&g.push(v),_&&g.push(_),w&&g.push(w);const b=[c,A,u,h],x=[];let M=[],L=[],C=g;if(2===g.length){if(g[0].x-g[1].x>g[0].y-g[1].y)for(let t=s.y;t<l.y;t++){const e=this.pointAtY(g[0],g[1],t);e.y=-e.y,e.x=e.x;const n=new $t.Vector2(Math.ceil(e.x),Math.ceil(e.y)),r=new $t.Vector2(Math.floor(e.x),Math.floor(e.y));if(x.push(n,r),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t=new $t.Vector2(Math.ceil(e.x),Math.floor(e.y)),n=new $t.Vector2(Math.floor(e.x),Math.ceil(e.y));x.push(t,n)}}else for(let t=s.x;t<l.x;t++){const e=this.pointAtX(g[0],g[1],t);e.y=-e.y,e.x=e.x;const n=new $t.Vector2(Math.ceil(e.x),Math.ceil(e.y)),r=new $t.Vector2(Math.floor(e.x),Math.floor(e.y));if(x.push(n,r),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t=new $t.Vector2(Math.ceil(e.x),Math.floor(e.y)),n=new $t.Vector2(Math.floor(e.x),Math.ceil(e.y));x.push(t,n)}}if(0===this.pixelPointsStore.length&&(this.pixelPointsStore=n.pixelPoints||[]),0===this.wrapperPointsStore.length){const t=[];for(let e=0;e<n.wrapperPoints.length;e++){const r=n.wrapperPoints[e];this.isPointInRectangle({x:r.x,y:-r.y},b)&&t.push(r)}this.wrapperPointsStore=t}const r=new Map(this.pixelPointsStore.map((t=>[`${t.x},${t.y}`,t]))),i=new Map(this.wrapperPointsStore.map((t=>[`${t.x},${t.y}`,t])));if(L=x.filter((t=>r.has(`${t.x},${t.y}`))),M=x.filter((t=>i.has(`${t.x},${t.y}`))),L.sort(((t,e)=>t.x-t.y-(e.x-e.y))),M.sort(((t,e)=>t.x-t.y-(e.x-e.y))),C=[],L.length>=2){const n=L[0],r=L[L.length-1],i=this.getSlope(n,r),o=this.onlyEndPoints?[]:M.filter((t=>{t={x:t.x,y:t.y};const e=n.x,o=n.y,a=r.x,s=r.y;if(i<=0){if(t.x<=a&&t.x>=e&&t.y<=o&&t.y>=s)return!0}else if(t.x<=a&&t.x>=e&&t.y<=s&&t.y>=o)return!0;return!1}));if(o.length>0){const a=o[0],s=o[o.length-1];i>=0?t.x>=a.x&&t.y<=-a.y?(C.push(new $t.Vector2(r.x,-r.y)),C.push(new $t.Vector2(s.x,-s.y))):(C.push(new $t.Vector2(n.x,-n.y)),C.push(new $t.Vector2(a.x,-a.y))):e.x<=s.x&&e.y<=-s.y?(C.push(new $t.Vector2(n.x,-n.y)),C.push(new $t.Vector2(a.x,-a.y))):(C.push(new $t.Vector2(r.x,-r.y)),C.push(new $t.Vector2(s.x,-s.y)))}else C.push(new $t.Vector2(n.x,-n.y)),C.push(new $t.Vector2(r.x,-r.y))}}const E=[];return C.forEach((t=>{const e={x:t.x,y:t.y};E.push(e)})),this.splitLinePoints=E,C},this.getSlope=(t,e)=>t.x-e.x==0?1/0:t.y-e.y==0?0:(t.y-e.y)/(t.x-e.x),this.updateSquareVertexDegree=(t=!1)=>{if("square"===this.vertexParams.vertexType){const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1];if(e&&n){const r=180*this.layer.scope.calcDegrees(n,e)/Math.PI,i=0===r||90===r||-90===r||180===r?45:t?45+r:void 0;this.layer.scope.updateSquareVertexDegree(i)}}},this.lineSegmentsIntersection=(t,e,n,r)=>{const i=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-r.x)*(e.y-r.y)-(t.y-r.y)*(e.x-r.x);if(i*o>=0)return!1;const a=(n.x-t.x)*(r.y-t.y)-(n.y-t.y)*(r.x-t.x);if(a*(a+i-o)>=0)return!1;const s=a/(o-i),l=s*(e.x-t.x),c=s*(e.y-t.y);return new $t.Vector2(t.x+l,t.y+c)},this.rayCasting=(t,e)=>{const n=e.min,r=e.max;let i=!1;return t.x>=n.x&&t.x<=r.x&&t.y>=n.y&&t.y<=r.y&&(i=!i),i},this.pointAtX=(t,e,n)=>{const r=(e.y-t.y)/(e.x-t.x),i=t.y+(n-t.x)*r;return new $t.Vector2(n,i)},this.pointAtY=(t,e,n)=>{if(t.x===e.x)return new $t.Vector2(t.x,n);const r=(e.y-t.y)/(e.x-t.x),i=(n-(t.y-r*t.x))/r;return new $t.Vector2(i,n)},this.isPointInRectangle=(t,e)=>{const{x:n,y:r}=t,[i,o,a,s]=e;return n>=i&&n<=a&&r>=o&&r<=s},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.useContour=void 0!==t.useContour&&t.useContour,this.useStructuredMode=void 0!==t.useStructuredMode&&t.useStructuredMode,this.onlyEndPoints=Boolean(t.onlyEndPoints),this.splitColor=t.splitColor,this.vertexParams=t.vertexParams,this.colorHex=t.colorHex,this.pixelPointsStore=[],this.wrapperPointsStore=[],this.onSplitLine=t.onSplitLine||(()=>{this.logger.warn("It seems not setup onSplitLine function")}),this.layer=this.createSplitLine(t),this.updateSquareVertexDegree(!0),this.layer.type=It.indoorMapSplitLineLayer,this.params=t,this.createSplitLineEvent();const e=this.getInfo("add");this.onSplitLine(e,"add")}}class Hl extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.params=void 0,this.initImgCloud=(t,e)=>{const n=this.createOrderCanvas(t),r=t.isScale,i=t.scale;t.size;const o=new $t.CanvasTexture(n);o.needsUpdate=!0,o.magFilter=$t.LinearFilter,o.minFilter=$t.LinearFilter;let a,s,l=null;if(r){const e=t.size/2,n=4*t.size;a=new $t.CircleGeometry(e,n),s=new $t.MeshBasicMaterial({map:o,transparent:!0,opacity:1}),l=new $t.Mesh(a,s)}else s=new $t.SpriteMaterial({map:o,transparent:!0,opacity:1,sizeAttenuation:!1}),l=new $t.Sprite(s),l.scale.set(i,i,i);return s&&(s.needsUpdate=!0),l.position.set(t.point.x,t.point.y,t.height),l.type=e,l.point=new $t.Vector3(t.point.x,t.point.y,t.height),l.params=t,l},this.createOrderCanvas=t=>{const e=document.createElement("canvas"),n=e.getContext("2d"),r=t.radius,i=r/5;e.width=2*r,e.height=2*(r+r/3),e.style.width=r+"px",e.style.height=r+r/3+"px",n.fillStyle=t.color,n.scale(2,2),n.translate(r/2,r+r/3),n.beginPath(),n.moveTo(0,0),n.quadraticCurveTo(r/2,-r/2,r/2,-(r-i)),n.arc(0,-(r-i),r/2,0,Math.PI,!0),n.quadraticCurveTo(-r/2,-r/2,0,0),n.fill(),n.beginPath(),n.arc(0,-(r-i),t.innerRadius/2,0,2*Math.PI),n.fillStyle=t.innerColor,n.fill(),n.fillStyle=t.textColor,n.font=t.bold+" "+2*t.fontSize+"px "+t.fontFace;const o=n.measureText(t.orderNum).width;return n.fillText(t.orderNum,0-o/2,2*-r/2+(2*t.fontSize+2)),e},this.updateOrderNum=t=>{this.params.orderNum=t;const e=this.createOrderCanvas(this.params),n=new $t.CanvasTexture(e);n.needsUpdate=!0,n.magFilter=$t.LinearFilter,n.minFilter=$t.LinearFilter;const r=new $t.SpriteMaterial({map:n,transparent:!0,opacity:1,sizeAttenuation:!1});r.needsUpdate=!0,this.layer.material=r},this.removeOrderLayer=()=>this.remove(),this.point=t.point,this.indoorMap2d=t.indoorMap2d;const e=ra({color:"#000000",innerColor:"#ffffff",radius:100,innerRadius:70,textColor:"#000000",fontFace:"Arial",fontSize:16,bold:"Bold ",size:16,height:2,orderNum:0,scale:.02,isScale:!1,point:{x:0,y:0}},t);$a(e.point),this.params=e,this.layer=this.initImgCloud(e,It.indoorMapImgCloud,!1),this.dispatchScope(this.layer)}}class Yl extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.colorHex=void 0,this.position=void 0,this.class=void 0,this.type=void 0,this.content=void 0,this.extend=void 0,this.order=void 0,this.orderParams=void 0,this.createSelected=t=>{var e;if(t.orderParams&&"waterDroplets"===(null==(e=t.orderParams)?void 0:e.orderType)){var n,r,i,o,a,s,l,c;const e={indoorMap2d:this.indoorMap2d,point:{x:t.position.x,y:t.position.y},color:Hs((null==(n=t.orderParams.iconParams)?void 0:n.color)||"#ff000000"),innerColor:Hs((null==(r=t.orderParams.iconParams)?void 0:r.innerColor)||"#ffffffff"),textColor:Hs((null==(i=t.orderParams.iconParams)?void 0:i.textColor)||"#ff000000"),isScale:(null==(o=t.orderParams.iconParams)?void 0:o.isScale)||!1,scale:(null==(a=t.orderParams.iconParams)?void 0:a.scale)||.02,radius:(null==(s=t.orderParams.iconParams)?void 0:s.radius)||100,innerRadius:(null==(l=t.orderParams.iconParams)?void 0:l.innerRadius)||70,fontSize:(null==(c=t.orderParams.iconParams)?void 0:c.fontSize)||16,bold:"Bold",orderNum:t.order,size:t.size||3,height:Rt.selected},u=new Hl(e);return u.layer.type=It.indoorMapSelectedLayer,u.layer}{const e={point:{x:t.position.x,y:t.position.y},image:t.image||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAvVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9nid10k+D5+v7r8Pumuuv9/f9vkN/e5fjb4/eetOqjuOuBneP8/f/y9f3AzvFtjt+JpOXj6vmasOloit6Xruiit+twkN+bsem/uLr7AAAAJnRSTlMADkJqkbjS3+z5A0OHyfwvjOdMx1PQKL28BoUiyyHwdgGOn3eN07429XsAAAHtSURBVHherdjnktpAEIXRK5QZJfISDMuCrzY75/D+j2Vv6YcLCzFBfR7gK8GUStONy7yBH4RRnKRpEkdh4A88uBqqLC/4nyLP1BD2ymrEDqOqhJ3xhBdNxjA3nVFrNoWZ+YJGrubQW65SGkpXS2isN7SweYWLplta2U5xwY7WduhyvaeD/XVH7YZObs739nS0xxkHOjugZcoeWue73rKH7Ronlhv2sjl9P1bsaXXy1qfsKZ3jnwV7u9KcqvvpzihghgbGFDFGY0IRk6ZWUkiJF0cKqQBgOKKQ0RCAohgFIKOLDzwjA5DT3scv39+xLQe8wqH2vq7re7YUHpRj7faObQq+W+3pmWf4CARrDBAK1hjitWCNEWLBGmMk7PDm7SfbGhOkXc/xua4fLGtMO3Nf678e7GpMu3/st6ZnU2PSfRSPP5qeRY0xImp6FjVGCKnrmdcYIqC2Z1xjAJ/6nmmNPhT1vZ8vtV/6GgfwCoOe2bOx8ICc2p7hszEHkFHXM60xM/kwPv6ub41qVGaf7fs78882KgqphK88shcy4eui7GVW+KotOggshMcU2SFKeMSTHUBlx2PR4X0nu1qQX3zIr2VE/r+D7EpLdOG2ll0HCi4rF3PRVarsotdOeexeQx9L2SW5K0+drvCVh4v+AK9Bxm8JOWoRAAAAAElFTkSuQmCC",isScale:t.isScale||!0,scale:t.scale||.02,size:t.size||6,height:Rt.selected},n=new hs(e);return n.layer.type=It.indoorMapSelectedLayer,n.layer}},this.updateSelectedOrder=t=>{var e;this.order=t,this.orderParams&&"default"===(null==(e=this.orderParams)?void 0:e.orderType)||this.layer.scope.updateOrderNum(this.order)},this.removeSelected=()=>this.remove(),this.getInfo=(t,e)=>{const n={target:t.id,type:this.type,operation:e,data:{order:this.order,content:this.content,extend:this.extend,pixel:this.colorHex}};return this.setDataInfo(n),n},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="selected",this.type=t.type||Nt.Selected,this.position=t.position,this.colorHex=t.colorHex,this.content=t.content||{text:""},this.extend=t.extend||{},this.order=t.order||0,this.orderParams=t.orderParams||{orderType:"default"},this.layer=this.createSelected(t),this.getInfo(this.layer,"add")}}class Ql extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.id=void 0,this.position=void 0,this.center=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.extends=void 0,this.isScale=void 0,this.scale=void 0,this.width=void 0,this.height=void 0,this.onClickMaterial=void 0,this.createMaterial=t=>{const e={point:{x:t.position.x,y:t.position.y},image:t.uri,size:t.size||6,height:Rt.material,isScale:t.isScale||!1,scale:t.scale||.02},n=new hs(e);return n.layer.type=It.indoorMapMaterialLayer,n.layer},this.createMaterialEvent=()=>{this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(t=>{const e=t.clickPoint.x+this.center.x,n=t.clickPoint.z-this.center.y,r=this.getInfo(this.layer,"click");this.onClickMaterial(Object.assign({clickPoint:{x:e,y:n}},r))})))},this.removeMaterialEvent=()=>{this.layer&&"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.removeMaterial=()=>(this.removeMaterialEvent(),this.remove()),this.getInfo=(t,e)=>{const n={operation:e,target:t.id,type:this.type,data:{extends:this.extends,uri:this.uri}};return this.setDataInfo(n),n},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="material",this.id=t.id,this.type=t.type||Nt.Material,this.position=t.position,this.center=t.center,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.extends="string"==typeof t.extends?JSON.parse(t.extends):t.extends||{},this.uri=t.uri,this.width=t.width,this.height=t.height,this.onClickMaterial=t.onClickMaterial||(()=>{this.logger.warn("It seems not setup onClickMaterial function")}),this.layer=this.createMaterial(t),this.createMaterialEvent(),this.getInfo(this.layer,"add")}}const Nl={};class jl extends $t.Loader{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=$t.Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;if(void 0!==Nl[t])return void Nl[t].push({onLoad:e,onProgress:n,onError:r});const a=t.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);r="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;r=e.parseFromString(s,n);break;case"json":r=JSON.parse(s);break;default:r=s}setTimeout((function(){e&&e(r),i.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{Nl[t]=[],Nl[t].push({onLoad:e,onProgress:n,onError:r}),s=void 0===XMLHttpRequest?new window.XMLHttpRequest:new XMLHttpRequest,s.open("GET",t,!0),s.addEventListener("load",(function(e){const n=this.response,r=Nl[t];if(delete Nl[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$t.Cache.add(t,n);for(let t=0,e=r.length;t<e;t++){const e=r[t];e.onLoad&&e.onLoad(n)}i.manager.itemEnd(t)}else{for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onError&&n.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),s.addEventListener("progress",(function(e){const n=Nl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onProgress&&r.onProgress(e)}}),!1),s.addEventListener("error",(function(e){const n=Nl[t];delete Nl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),s.addEventListener("abort",(function(e){const n=Nl[t];delete Nl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)s.setRequestHeader(t,this.requestHeader[t]);s.send(null)}return i.manager.itemStart(t),s}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Wl extends $t.Loader{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new Zl(t)})),this.register((function(t){return new tc(t)})),this.register((function(t){return new ec(t)})),this.register((function(t){return new Xl(t)})),this.register((function(t){return new ql(t)})),this.register((function(t){return new Jl(t)})),this.register((function(t){return new $l(t)})),this.register((function(t){return new Gl(t)})),this.register((function(t){return new nc(t)}))}load(t,e,n,r){const i=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:$t.LoaderUtils.extractUrlBase(t),this.manager.itemStart(t);const a=function(e){r?r(e):console.error(e),i.manager.itemError(t),i.manager.itemEnd(t)},s=new jl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){try{i.parse(n,o,(function(r){r&&(r.arraybuffer=n),e(r),i.manager.itemEnd(t)}),a)}catch(t){a(t)}}),n,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,r){let i;const o={},a={};if("string"==typeof t)i=t;else if($t.LoaderUtils.decodeText(new Uint8Array(t,0,4))===rc){try{o[zl.KHR_BINARY_GLTF]=new ic(t)}catch(t){return void(r&&r(t))}i=o[zl.KHR_BINARY_GLTF].content}else i=$t.LoaderUtils.decodeText(new Uint8Array(t));const s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Ec(s,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){const e=this.pluginCallbacks[t](l);a[e.name]=e,o[e.name]=!0}if(s.extensionsUsed)for(let t=0;t<s.extensionsUsed.length;++t){const e=s.extensionsUsed[t],n=s.extensionsRequired||[];switch(e){case zl.KHR_MATERIALS_UNLIT:o[e]=new Kl;break;case zl.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[e]=new lc;break;case zl.KHR_DRACO_MESH_COMPRESSION:o[e]=new oc(s,this.dracoLoader);break;case zl.KHR_TEXTURE_TRANSFORM:o[e]=new ac;break;case zl.KHR_MESH_QUANTIZATION:o[e]=new cc;break;default:n.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,r)}}function Vl(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const zl={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Gl{constructor(t){this.parser=t,this.name=zl.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,r=e.length;n<r;n++){const r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let r=e.cache.get(n);if(r)return r;const i=e.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let a;const s=new $t.Color(16777215);void 0!==o.color&&s.fromArray(o.color);const l=void 0!==o.range?o.range:0;switch(o.type){case"directional":a=new $t.DirectionalLight(s),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new $t.PointLight(s),a.distance=l;break;case"spot":a=new $t.SpotLight(s),a.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=e.createUniqueName(o.name||"light_"+t),r=Promise.resolve(a),e.cache.add(n,r),r}createNodeAttachment(t){const e=this,n=this.parser,r=n.json.nodes[t],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(t){return n._getNodeRef(e.cache,i,t)}))}}class Kl{constructor(){this.name=zl.KHR_MATERIALS_UNLIT}getMaterialType(){return $t.MeshBasicMaterial}extendParams(t,e,n){const r=[];t.color=new $t.Color(1,1,1),t.opacity=1;const i=e.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const e=i.baseColorFactor;t.color.fromArray(e),t.opacity=e[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(t,"map",i.baseColorTexture))}return Promise.all(r)}}class Zl{constructor(t){this.parser=t,this.name=zl.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?$t.MeshPhysicalMaterial:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const t=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new $t.Vector2(t,t)}return Promise.all(i)}}class Xl{constructor(t){this.parser=t,this.name=zl.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?$t.MeshPhysicalMaterial:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class ql{constructor(t){this.parser=t,this.name=zl.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?$t.MeshPhysicalMaterial:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&i.push(n.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return e.attenuationTint=new $t.Color(a[0],a[1],a[2]),Promise.all(i)}}class Jl{constructor(t){this.parser=t,this.name=zl.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?$t.MeshPhysicalMaterial:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class $l{constructor(t){this.parser=t,this.name=zl.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?$t.MeshPhysicalMaterial:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&i.push(n.assignTexture(e,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return e.specularTint=new $t.Color(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&i.push(n.assignTexture(e,"specularTintMap",o.specularColorTexture).then((function(t){t.encoding=$t.sRGBEncoding}))),Promise.all(i)}}class tc{constructor(t){this.parser=t,this.name=zl.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=n.images[i.source],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o,a)}}class ec{constructor(t){this.parser=t,this.name=zl.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,r=n.json,i=r.textures[t];if(!i.extensions||!i.extensions[e])return null;const o=i.extensions[e],a=r.images[o.source];let s=n.textureLoader;if(a.uri){const t=n.options.manager.getHandler(a.uri);null!==t&&(s=t)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(t,a,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=document.createElement("img");e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class nc{constructor(t){this.name=zl.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const t=n.extensions[this.name],r=this.parser.getDependency("buffer",t.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,i.ready]).then((function(e){const n=t.byteOffset||0,r=t.byteLength||0,o=t.count,a=t.byteStride,s=new ArrayBuffer(o*a),l=new Uint8Array(e[0],n,r);return i.decodeGltfBuffer(new Uint8Array(s),o,a,l,t.mode,t.filter),s}))}return null}}const rc="glTF";class ic{constructor(t){this.name=zl.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:$t.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==rc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(t,12);let i=0;for(;i<n;){const e=r.getUint32(i,!0);i+=4;const n=r.getUint32(i,!0);if(i+=4,1313821514===n){const n=new Uint8Array(t,12+i,e);this.content=$t.LoaderUtils.decodeText(n)}else if(5130562===n){const n=12+i;this.body=t.slice(n,n+e)}i+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class oc{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=zl.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},s={},l={};for(const t in o){const e=gc[t]||t.toLowerCase();a[e]=o[t]}for(const e in t.attributes){const r=gc[e]||e.toLowerCase();if(void 0!==o[e]){const i=n.accessors[t.attributes[e]],o=dc[i.componentType];l[r]=o,s[r]=!0===i.normalized}}return e.getDependency("bufferView",i).then((function(t){return new Promise((function(e){r.decodeDracoFile(t,(function(t){for(const e in t.attributes){const n=t.attributes[e],r=s[e];void 0!==r&&(n.normalized=r)}e(t)}),a,l)}))}))}}class ac{constructor(){this.name=zl.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class sc extends $t.MeshStandardMaterial{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new $t.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(t){for(const e in a)t.uniforms[e]=a[e];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(t){a.specular.value=t}},specularMap:{get:function(){return a.specularMap.value},set:function(t){a.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(t){a.glossiness.value=t}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(t){a.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class lc{constructor(){this.name=zl.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return sc}extendParams(t,e,n){const r=e.extensions[this.name];t.color=new $t.Color(1,1,1),t.opacity=1;const i=[];if(Array.isArray(r.diffuseFactor)){const e=r.diffuseFactor;t.color.fromArray(e),t.opacity=e[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new $t.Color(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new $t.Color(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const e=r.specularGlossinessTexture;i.push(n.assignTexture(t,"glossinessMap",e)),i.push(n.assignTexture(t,"specularMap",e))}return Promise.all(i)}createMaterial(t){const e=new sc(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=$t.TangentSpaceNormalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}class cc{constructor(){this.name=zl.KHR_MESH_QUANTIZATION}}class uc extends $t.Interpolant{constructor(t,e,n,r){super(t,e,n,r)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r*3+r;for(let t=0;t!==r;t++)e[t]=n[i+t];return e}}uc.prototype.beforeStart_=uc.prototype.copySampleValue_,uc.prototype.afterEnd_=uc.prototype.copySampleValue_,uc.prototype.interpolate_=function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=r-e,u=(n-e)/c,A=u*u,h=A*u,d=t*l,p=d-l,f=-2*h+3*A,m=h-A,g=1-f,y=m-A+u;for(let t=0;t!==a;t++){const e=o[p+t+a],n=o[p+t+s]*c,r=o[d+t+a],l=o[d+t]*c;i[t]=g*e+y*n+f*r+m*l}return i};const Ac=new $t.Quaternion;class hc extends uc{interpolate_(t,e,n,r){const i=super.interpolate_(t,e,n,r);return Ac.fromArray(i).normalize().toArray(i),i}}const dc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pc={9728:$t.NearestFilter,9729:$t.LinearFilter,9984:$t.NearestMipmapNearestFilter,9985:$t.LinearMipmapNearestFilter,9986:$t.NearestMipmapLinearFilter,9987:$t.LinearMipmapLinearFilter},fc={33071:$t.ClampToEdgeWrapping,33648:$t.MirroredRepeatWrapping,10497:$t.RepeatWrapping},mc={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gc={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},vc={CUBICSPLINE:void 0,LINEAR:$t.InterpolateLinear,STEP:$t.InterpolateDiscrete};function _c(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function wc(t,e,n){for(const r in n.extensions)void 0===t[r]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function bc(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function xc(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let e=0,r=n.length;e<r;e++)t.morphTargetDictionary[n[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Mc(t){const e=t.extensions&&t.extensions[zl.KHR_DRACO_MESH_COMPRESSION];let n;return n=e?"draco:"+e.bufferView+":"+e.indices+":"+Lc(e.attributes):t.indices+":"+Lc(t.attributes)+":"+t.mode,n}function Lc(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Cc(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Ec{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Vl,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new $t.ImageBitmapLoader(this.options.manager):this.textureLoader=new $t.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new jl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(e){const o={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};wc(i,o,r),bc(o,r),Promise.all(n._invokeAll((function(t){return t.afterRoot&&t.afterRoot(o)}))).then((function(){t(o)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=e.length;n<r;n++){const r=e[n].joints;for(let e=0,n=r.length;e<n;e++)t[r[e]].isBone=!0}for(let e=0,r=t.length;e<r;e++){const r=t[e];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const r=n.clone(),i=(t,e)=>{const n=this.associations.get(t);null!=n&&this.associations.set(e,n);for(const[n,r]of t.children.entries())i(r,e.children[n])};return i(n,r),r.name+="_instance_"+t.uses[e]++,r}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const r=t(e[n]);if(r)return r}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);i&&n.push(i)}return n}getDependency(t,e){const n=t+":"+e;let r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":r=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":r=this.loadSkin(e);break;case"animation":r=this.loadAnimation(e);break;case"camera":r=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,r=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(r.map((function(e,r){return n.getDependency(t,r)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[zl.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(t,i){n.load(_c(e.uri,r.path),t,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const n=e.byteLength||0,r=e.byteOffset||0;return t.slice(r,r+n)}))}loadAccessor(t){const e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(t){const i=t[0],o=mc[r.type],a=dc[r.componentType],s=a.BYTES_PER_ELEMENT,l=s*o,c=r.byteOffset||0,u=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,A=!0===r.normalized;let h,d;if(u&&u!==l){const t=Math.floor(c/u),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+t+":"+r.count;let l=e.cache.get(n);l||(h=new a(i,t*u,r.count*u/s),l=new $t.InterleavedBuffer(h,u/s),e.cache.add(n,l)),d=new $t.InterleavedBufferAttribute(l,o,c%u/s,A)}else h=null===i?new a(r.count*o):new a(i,c,r.count*o),d=new $t.BufferAttribute(h,o,A);if(void 0!==r.sparse){const e=mc.SCALAR,n=dc[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,c=new n(t[1],s,r.sparse.count*e),u=new a(t[2],l,r.sparse.count*o);null!==i&&(d=new $t.BufferAttribute(d.array.slice(),d.itemSize,d.normalized));for(let t=0,e=c.length;t<e;t++){const e=c[t];if(d.setX(e,u[t*o]),o>=2&&d.setY(e,u[t*o+1]),o>=3&&d.setZ(e,u[t*o+2]),o>=4&&d.setW(e,u[t*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return d}))}loadTexture(t){const e=this.json,n=this.options,r=e.textures[t],i=e.images[r.source];let o=this.textureLoader;if(i.uri){const t=n.manager.getHandler(i.uri);null!==t&&(o=t)}return this.loadTextureImage(t,i,o)}loadTextureImage(t,e,n){const r=this,i=this.json,o=this.options,a=i.textures[t],s=(e.uri||e.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];const l=window.URL||window.webkitURL;let c=e.uri||"",u=!1;if(void 0!==e.bufferView)c=r.getDependency("bufferView",e.bufferView).then((function(t){u=!0;const n=new Blob([t],{type:e.mimeType});return c=l.createObjectURL(n),c}));else if(void 0===e.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const A=Promise.resolve(c).then((function(t){return new Promise((function(e,r){let i=e;!0===n.isImageBitmapLoader&&(i=function(t){const n=new $t.Texture(t);n.needsUpdate=!0,e(n)}),n.load(_c(t,o.path),i,void 0,r)}))})).then((function(e){!0===u&&l.revokeObjectURL(c),e.flipY=!1,a.name&&(e.name=a.name);const n=(i.samplers||{})[a.sampler]||{};return e.magFilter=pc[n.magFilter]||$t.LinearFilter,e.minFilter=pc[n.minFilter]||$t.LinearMipmapLinearFilter,e.wrapS=fc[n.wrapS]||$t.RepeatWrapping,e.wrapT=fc[n.wrapT]||$t.RepeatWrapping,r.associations.set(e,{textures:t}),e})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=A,A}assignTexture(t,e,n){const r=this;return this.getDependency("texture",n.index).then((function(i){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===e&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),r.extensions[zl.KHR_TEXTURE_TRANSFORM]){const t=void 0!==n.extensions?n.extensions[zl.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=r.associations.get(i);i=r.extensions[zl.KHR_TEXTURE_TRANSFORM].extendTexture(i,t),r.associations.set(i,e)}}return t[e]=i,i}))}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const r=void 0===e.attributes.tangent,i=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new $t.PointsMaterial,$t.Material.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,e.sizeAttenuation=!1,this.cache.add(t,e)),n=e}else if(t.isLine){const t="LineBasicMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new $t.LineBasicMaterial,$t.Material.prototype.copy.call(e,n),e.color.copy(n.color),this.cache.add(t,e)),n=e}if(r||i||o){let t="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),r&&(t+="derivative-tangents:"),i&&(t+="vertex-colors:"),o&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=n.clone(),i&&(e.vertexColors=!0),o&&(e.flatShading=!0),r&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(n))),n=e}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return $t.MeshStandardMaterial}loadMaterial(t){const e=this,n=this.json,r=this.extensions,i=n.materials[t];let o;const a={},s=i.extensions||{},l=[];if(s[zl.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const t=r[zl.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=t.getMaterialType(),l.push(t.extendParams(a,i,e))}else if(s[zl.KHR_MATERIALS_UNLIT]){const t=r[zl.KHR_MATERIALS_UNLIT];o=t.getMaterialType(),l.push(t.extendParams(a,i,e))}else{const n=i.pbrMetallicRoughness||{};if(a.color=new $t.Color(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;a.color.fromArray(t),a.opacity=t[3]}void 0!==n.baseColorTexture&&l.push(e.assignTexture(a,"map",n.baseColorTexture)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(l.push(e.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),l.push(e.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),o=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),l.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)}))))}!0===i.doubleSided&&(a.side=$t.DoubleSide);const c=i.alphaMode||"OPAQUE";if("BLEND"===c?(a.transparent=!0,a.depthWrite=!1):(a.format=$t.RGBFormat,a.transparent=!1,"MASK"===c&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&o!==$t.MeshBasicMaterial&&(l.push(e.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new $t.Vector2(1,1),void 0!==i.normalTexture.scale)){const t=i.normalTexture.scale;a.normalScale.set(t,t)}return void 0!==i.occlusionTexture&&o!==$t.MeshBasicMaterial&&(l.push(e.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&o!==$t.MeshBasicMaterial&&(a.emissive=(new $t.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&o!==$t.MeshBasicMaterial&&l.push(e.assignTexture(a,"emissiveMap",i.emissiveTexture)),Promise.all(l).then((function(){let n;return n=o===sc?r[zl.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new o(a),i.name&&(n.name=i.name),n.map&&(n.map.encoding=$t.sRGBEncoding),n.emissiveMap&&(n.emissiveMap.encoding=$t.sRGBEncoding),bc(n,i),e.associations.set(n,{materials:t}),i.extensions&&wc(r,n,i),n}))}createUniqueName(t){const e=$t.PropertyBinding.sanitizeNodeName(t||"");let n=e;for(let t=1;this.nodeNamesUsed[n];++t)n=e+"_"+t;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,r=this.primitiveCache;function i(t){return n[zl.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return Sc(n,t,e)}))}const o=[];for(let n=0,a=t.length;n<a;n++){const a=t[n],s=Mc(a),l=r[s];if(l)o.push(l.promise);else{let t;t=a.extensions&&a.extensions[zl.KHR_DRACO_MESH_COMPRESSION]?i(a):Sc(new $t.BufferGeometry,a,e),r[s]={primitive:a,promise:t},o.push(t)}}return Promise.all(o)}loadMesh(t){const e=this,n=this.json,r=this.extensions,i=n.meshes[t],o=i.primitives,a=[];for(let t=0,e=o.length;t<e;t++){const e=void 0===o[t].material?(void 0===(s=this.cache).DefaultMaterial&&(s.DefaultMaterial=new $t.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$t.FrontSide})),s.DefaultMaterial):this.getDependency("material",o[t].material);a.push(e)}var s;return a.push(e.loadGeometries(o)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let n=0,c=s.length;n<c;n++){const c=s[n],u=o[n];let A;const h=a[n];if(4===u.mode||5===u.mode||6===u.mode||void 0===u.mode)A=!0===i.isSkinnedMesh?new $t.SkinnedMesh(c,h):new $t.Mesh(c,h),!0!==A.isSkinnedMesh||A.geometry.attributes.skinWeight.normalized||A.normalizeSkinWeights(),5===u.mode?A.geometry=Tc(A.geometry,$t.TriangleStripDrawMode):6===u.mode&&(A.geometry=Tc(A.geometry,$t.TriangleFanDrawMode));else if(1===u.mode)A=new $t.LineSegments(c,h);else if(3===u.mode)A=new $t.Line(c,h);else if(2===u.mode)A=new $t.LineLoop(c,h);else{if(0!==u.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);A=new $t.Points(c,h)}Object.keys(A.geometry.morphAttributes).length>0&&xc(A,i),A.name=e.createUniqueName(i.name||"mesh_"+t),bc(A,i),u.extensions&&wc(r,A,u),e.assignFinalMaterial(A),l.push(A)}for(let n=0,r=l.length;n<r;n++)e.associations.set(l[n],{meshes:t,primitives:n});if(1===l.length)return l[0];const c=new $t.Group;e.associations.set(c,{meshes:t});for(let t=0,e=l.length;t<e;t++)c.add(l[t]);return c}))}loadCamera(t){let e;const n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new $t.PerspectiveCamera($t.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new $t.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),bc(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))}loadAnimation(t){const e=this.json.animations[t],n=[],r=[],i=[],o=[],a=[];for(let t=0,s=e.channels.length;t<s;t++){const s=e.channels[t],l=e.samplers[s.sampler],c=s.target,u=void 0!==c.node?c.node:c.id,A=void 0!==e.parameters?e.parameters[l.input]:l.input,h=void 0!==e.parameters?e.parameters[l.output]:l.output;n.push(this.getDependency("node",u)),r.push(this.getDependency("accessor",A)),i.push(this.getDependency("accessor",h)),o.push(l),a.push(c)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a)]).then((function(n){const r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=[];for(let t=0,e=r.length;t<e;t++){const e=r[t],n=i[t],c=o[t],u=a[t],A=s[t];if(void 0===e)continue;let h;switch(e.updateMatrix(),e.matrixAutoUpdate=!0,yc[A.path]){case yc.weights:h=$t.NumberKeyframeTrack;break;case yc.rotation:h=$t.QuaternionKeyframeTrack;break;default:h=$t.VectorKeyframeTrack}const d=e.name?e.name:e.uuid,p=void 0!==u.interpolation?vc[u.interpolation]:$t.InterpolateLinear,f=[];yc[A.path]===yc.weights?e.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&f.push(t.name?t.name:t.uuid)})):f.push(d);let m=c.array;if(c.normalized){const t=Cc(m.constructor),e=new Float32Array(m.length);for(let n=0,r=m.length;n<r;n++)e[n]=m[n]*t;m=e}for(let t=0,e=f.length;t<e;t++){const e=new h(f[t]+"."+yc[A.path],n.array,m,p);"CUBICSPLINE"===u.interpolation&&(e.createInterpolant=function(t){return new(this instanceof $t.QuaternionKeyframeTrack?hc:uc)(this.times,this.values,this.getValueSize()/3,t)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(e)}}const c=e.name?e.name:"animation_"+t;return new $t.AnimationClip(c,void 0,l)}))}createNodeMesh(t){const e=this.json,n=this,r=e.nodes[t];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(t){const e=n._getNodeRef(n.meshCache,r.mesh,t);return void 0!==r.weights&&e.traverse((function(t){if(t.isMesh)for(let e=0,n=r.weights.length;e<n;e++)t.morphTargetInfluences[e]=r.weights[e]})),e}))}loadNode(t){const e=this.json,n=this.extensions,r=this,i=e.nodes[t],o=i.name?r.createUniqueName(i.name):"";return function(){const e=[],n=r._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return n&&e.push(n),void 0!==i.camera&&e.push(r.getDependency("camera",i.camera).then((function(t){return r._getNodeRef(r.cameraCache,i.camera,t)}))),r._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)}().then((function(e){let a;if(a=!0===i.isBone?new $t.Bone:e.length>1?new $t.Group:1===e.length?e[0]:new $t.Object3D,a!==e[0])for(let t=0,n=e.length;t<n;t++)a.add(e[t]);if(i.name&&(a.userData.name=i.name,a.name=o),bc(a,i),i.extensions&&wc(n,a,i),void 0!==i.matrix){const t=new $t.Matrix4;t.fromArray(i.matrix),a.applyMatrix4(t)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=t,a}))}loadScene(t){const e=this.json,n=this.extensions,r=this.json.scenes[t],i=this,o=new $t.Group;r.name&&(o.name=i.createUniqueName(r.name)),bc(o,r),r.extensions&&wc(n,o,r);const a=r.nodes||[],s=[];for(let t=0,n=a.length;t<n;t++)s.push(Bc(a[t],o,e,i));return Promise.all(s).then((function(){return i.associations=(t=>{const e=new Map;for(const[t,n]of i.associations)(t instanceof $t.Material||t instanceof $t.Texture)&&e.set(t,n);return t.traverse((t=>{const n=i.associations.get(t);null!=n&&e.set(t,n)})),e})(o),o}))}}function Bc(t,e,n,r){const i=n.nodes[t];return r.getDependency("node",t).then((function(t){if(void 0===i.skin)return t;let e;return r.getDependency("skin",i.skin).then((function(t){e=t;const n=[];for(let t=0,i=e.joints.length;t<i;t++)n.push(r.getDependency("node",e.joints[t]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(!t.isMesh)return;const r=[],i=[];for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o){r.push(o);const n=new $t.Matrix4;void 0!==e.inverseBindMatrices&&n.fromArray(e.inverseBindMatrices.array,16*t),i.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}t.bind(new $t.Skeleton(r,i),t.matrixWorld)})),t}))})).then((function(t){e.add(t);const o=[];if(i.children){const e=i.children;for(let i=0,a=e.length;i<a;i++){const a=e[i];o.push(Bc(a,t,n,r))}}return Promise.all(o)}))}function Sc(t,e,n){const r=e.attributes,i=[];function o(e,r){return n.getDependency("accessor",e).then((function(e){t.setAttribute(r,e)}))}for(const e in r){const n=gc[e]||e.toLowerCase();n in t.attributes||i.push(o(r[e],n))}if(void 0!==e.indices&&!t.index){const r=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));i.push(r)}return bc(t,e),function(t,e,n){const r=e.attributes,i=new $t.Box3;if(void 0===r.POSITION)return;{const t=n.json.accessors[r.POSITION],e=t.min,o=t.max;if(void 0===e||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new $t.Vector3(e[0],e[1],e[2]),new $t.Vector3(o[0],o[1],o[2])),t.normalized){const e=Cc(dc[t.componentType]);i.min.multiplyScalar(e),i.max.multiplyScalar(e)}}const o=e.targets;if(void 0!==o){const t=new $t.Vector3,e=new $t.Vector3;for(let r=0,i=o.length;r<i;r++){const i=o[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],o=r.min,a=r.max;if(void 0!==o&&void 0!==a){if(e.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),e.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),e.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),r.normalized){const t=Cc(dc[r.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(t)}t.boundingBox=i;const a=new $t.Sphere;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=a}(t,e,n),Promise.all(i).then((function(){return void 0!==e.targets?function(t,e,n){let r=!1,i=!1;for(let t=0,n=e.length;t<n;t++){const n=e[t];if(void 0!==n.POSITION&&(r=!0),void 0!==n.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(t);const o=[],a=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(r){const e=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):t.attributes.position;o.push(e)}if(i){const e=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):t.attributes.normal;a.push(e)}}return Promise.all([Promise.all(o),Promise.all(a)]).then((function(e){const n=e[0],o=e[1];return r&&(t.morphAttributes.position=n),i&&(t.morphAttributes.normal=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function Tc(t,e){let n=t.getIndex();if(null===n){const e=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<r.count;t++)e.push(t);t.setIndex(e),n=t.getIndex()}const r=n.count-2,i=[];if(e===$t.TriangleFanDrawMode)for(let t=1;t<=r;t++)i.push(n.getX(0)),i.push(n.getX(t)),i.push(n.getX(t+1));else for(let t=0;t<r;t++)t%2==0?(i.push(n.getX(t)),i.push(n.getX(t+1)),i.push(n.getX(t+2))):(i.push(n.getX(t+2)),i.push(n.getX(t+1)),i.push(n.getX(t)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o}const Dc=new WeakMap;class Ic extends $t.Loader{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,n,r){const i=new jl(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,(t=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,n).then(e).catch(r)}),n,r)}decodeDracoFile(t,e,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(t,i).then(e)}decodeGeometry(t,e){for(const t in e.attributeTypes){const n=e.attributeTypes[t];void 0!==n.BYTES_PER_ELEMENT&&(e.attributeTypes[t]=n.name)}const n=JSON.stringify(e);if(Dc.has(t)){const e=Dc.get(t);if(e.key===n)return e.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,o=t.byteLength,a=this._getWorker(i,o).then((n=>(r=n,new Promise(((n,o)=>{r._callbacks[i]={resolve:n,reject:o},r.postMessage({type:"decode",id:i,taskConfig:e,buffer:t},[t])}))))).then((t=>this._createGeometry(t.geometry)));return a.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),Dc.set(t,{key:n,promise:a}),a}_createGeometry(t){const e=new $t.BufferGeometry;t.index&&e.setIndex(new $t.BufferAttribute(t.index.array,1));for(let n=0;n<t.attributes.length;n++){const r=t.attributes[n],i=r.name,o=r.array,a=r.itemSize;e.setAttribute(i,new $t.BufferAttribute(o,a))}return e}_loadLibrary(t,e){const n=new jl(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise(((e,r)=>{n.load(t,e,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then((e=>{const n=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const r=Pc.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(t,e){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(e){const n=e.data;switch(n.type){case"decode":t._callbacks[n.id].resolve(n);break;case"error":t._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[t]=e,n._taskLoad+=e,n}))}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map((t=>t._taskLoad)))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function Pc(){let t,e;function n(t,e,n,r,i,o){const a=o.num_components(),s=n.num_points()*a,l=s*i.BYTES_PER_ELEMENT,c=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,i),u=t._malloc(l);e.GetAttributeDataArrayForAllPoints(n,o,c,l,u);const A=new i(t.HEAPF32.buffer,u,s).slice();return t._free(u),{name:r,array:A,itemSize:a}}onmessage=function(r){const i=r.data;switch(i.type){case"init":t=i.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":const r=i.buffer,o=i.taskConfig;e.then((t=>{const e=t.draco,a=new e.Decoder,s=new e.DecoderBuffer;s.Init(new Int8Array(r),r.byteLength);try{const t=function(t,e,r,i){const o=i.attributeIDs,a=i.attributeTypes;let s,l;const c=e.GetEncodedGeometryType(r);if(c===t.TRIANGULAR_MESH)s=new t.Mesh,l=e.DecodeBufferToMesh(r,s);else{if(c!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new t.PointCloud,l=e.DecodeBufferToPointCloud(r,s)}if(!l.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const r in o){const l=self[a[r]];let c,A;if(i.useUniqueIDs)A=o[r],c=e.GetAttributeByUniqueId(s,A);else{if(A=e.GetAttributeId(s,t[o[r]]),-1===A)continue;c=e.GetAttribute(s,A)}u.attributes.push(n(t,e,s,r,l,c))}return c===t.TRIANGULAR_MESH&&(u.index=function(t,e,n){const r=3*n.num_faces(),i=4*r,o=t._malloc(i);e.GetTrianglesUInt32Array(n,i,o);const a=new Uint32Array(t.HEAPF32.buffer,o,r).slice();return t._free(o),{array:a,itemSize:1}}(t,e,s)),t.destroy(s),u}(e,a,s,o),r=t.attributes.map((t=>t.array.buffer));t.index&&r.push(t.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:t},r)}catch(t){console.error(t),self.postMessage({type:"error",id:i.id,error:t.message})}finally{e.destroy(s),e.destroy(a)}}))}}}const Fc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,kc=Object.keys,Rc=Array.isArray;function Uc(t,e){return"object"!=typeof e||kc(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||Fc.Promise||(Fc.Promise=Promise);const Oc=Object.getPrototypeOf,Hc={}.hasOwnProperty;function Yc(t,e){return Hc.call(t,e)}function Qc(t,e){"function"==typeof e&&(e=e(Oc(t))),("undefined"==typeof Reflect?kc:Reflect.ownKeys)(e).forEach((n=>{jc(t,n,e[n])}))}const Nc=Object.defineProperty;function jc(t,e,n,r){Nc(t,e,Uc(n&&Yc(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Wc(t){return{from:function(e){return t.prototype=Object.create(e.prototype),jc(t.prototype,"constructor",t),{extend:Qc.bind(null,t.prototype)}}}}const Vc=Object.getOwnPropertyDescriptor;function zc(t,e){let n;return Vc(t,e)||(n=Oc(t))&&zc(n,e)}const Gc=[].slice;function Kc(t,e,n){return Gc.call(t,e,n)}function Zc(t,e){return e(t)}function Xc(t){if(!t)throw new Error("Assertion Failed")}function qc(t){Fc.setImmediate?setImmediate(t):setTimeout(t,0)}function Jc(t,e){return t.reduce(((t,n,r)=>{var i=e(n,r);return i&&(t[i[0]]=i[1]),t}),{})}function $c(t,e){if("string"==typeof e&&Yc(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,i=e.length;r<i;++r){var o=$c(t,e[r]);n.push(o)}return n}var a=e.indexOf(".");if(-1!==a){var s=t[e.substr(0,a)];return null==s?void 0:$c(s,e.substr(a+1))}}function tu(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){Xc("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)tu(t,e[r],n[r])}else{var o=e.indexOf(".");if(-1!==o){var a=e.substr(0,o),s=e.substr(o+1);if(""===s)void 0===n?Rc(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var l=t[a];l&&Yc(t,a)||(l=t[a]={}),tu(l,s,n)}}else void 0===n?Rc(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function eu(t){var e={};for(var n in t)Yc(t,n)&&(e[n]=t[n]);return e}const nu=[].concat;function ru(t){return nu.apply([],t)}const iu="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ru([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>Fc[t])),ou=iu.map((t=>Fc[t]));Jc(iu,(t=>[t,!0]));let au=null;function su(t){au="undefined"!=typeof WeakMap&&new WeakMap;const e=lu(t);return au=null,e}function lu(t){if(!t||"object"!=typeof t)return t;let e=au&&au.get(t);if(e)return e;if(Rc(t)){e=[],au&&au.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(lu(t[n]))}else if(ou.indexOf(t.constructor)>=0)e=t;else{const n=Oc(t);for(var i in e=n===Object.prototype?{}:Object.create(n),au&&au.set(t,e),t)Yc(t,i)&&(e[i]=lu(t[i]))}return e}const{toString:cu}={};function uu(t){return cu.call(t).slice(8,-1)}const Au="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",hu="symbol"==typeof Au?function(t){var e;return null!=t&&(e=t[Au])&&e.apply(t)}:function(){return null},du={};function pu(t){var e,n,r,i;if(1===arguments.length){if(Rc(t))return t.slice();if(this===du&&"string"==typeof t)return[t];if(i=hu(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const fu="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var mu="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function gu(t,e){mu=t,yu=e}var yu=()=>!0;const vu=!new Error("").stack;function _u(){if(vu)try{throw _u.arguments,new Error}catch(t){return t}return new Error}function wu(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(yu).map((t=>"\n"+t)).join("")):""}var bu=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(bu),Mu={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Lu(t,e){this._e=_u(),this.name=t,this.message=e}function Cu(t,e){return t+". Errors: "+Object.keys(e).map((t=>e[t].toString())).filter(((t,e,n)=>n.indexOf(t)===e)).join("\n")}function Eu(t,e,n,r){this._e=_u(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Cu(t,e)}function Bu(t,e){this._e=_u(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=Cu(t,e)}Wc(Lu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+wu(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Wc(Eu).from(Lu),Wc(Bu).from(Lu);var Su=xu.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const Tu=Lu;var Du=xu.reduce(((t,e)=>{var n=e+"Error";function r(t,r){this._e=_u(),this.name=n,t?"string"==typeof t?(this.message=`${t}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=Mu[e]||n,this.inner=null)}return Wc(r).from(Tu),t[e]=r,t}),{});Du.Syntax=SyntaxError,Du.Type=TypeError,Du.Range=RangeError;var Iu=bu.reduce(((t,e)=>(t[e+"Error"]=Du[e],t)),{}),Pu=xu.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Du[e]),t)),{});function Fu(){}function ku(t){return t}function Ru(t,e){return null==t||t===ku?e:function(n){return e(t(n))}}function Uu(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Ou(t,e){return t===Fu?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Uu(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Uu(i,this.onerror):i),void 0!==o?o:n}}function Hu(t,e){return t===Fu?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Uu(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Uu(r,this.onerror):r)}}function Yu(t,e){return t===Fu?e:function(n){var r=t.apply(this,arguments);Uc(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Uu(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Uu(o,this.onerror):o),void 0===r?void 0===a?void 0:a:Uc(r,a)}}function Qu(t,e){return t===Fu?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function Nu(t,e){return t===Fu?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return e.apply(r,o)}))}return e.apply(this,arguments)}}Pu.ModifyError=Eu,Pu.DexieError=Lu,Pu.BulkError=Bu;var ju={};const[Wu,Vu,zu]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,Oc(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Oc(e),t]})(),Gu=Vu&&Vu.then,Ku=Wu&&Wu.constructor,Zu=!!zu;var Xu=!1,qu=zu?()=>{zu.then(_A)}:Fc.setImmediate?setImmediate.bind(null,_A):Fc.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{_A(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(_A,0)},Ju=function(t,e){sA.push([t,e]),tA&&(qu(),tA=!1)},$u=!0,tA=!0,eA=[],nA=[],rA=null,iA=ku,oA={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:VA,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{VA(t[0],t[1])}catch(t){}}))}},aA=oA,sA=[],lA=0,cA=[];function uA(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fu,this._lib=!1;var e=this._PSD=aA;if(mu&&(this._stackHolder=_u(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==ju)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&pA(this,this._value))}this._state=null,this._value=null,++e.ref,dA(this,t)}const AA={get:function(){var t=aA,e=TA;function n(n,r){var i=!t.global&&(t!==aA||e!==TA);const o=i&&!FA();var a=new uA(((e,a)=>{mA(this,new hA(NA(n,t,i,o),NA(r,t,i,o),e,a,t))}));return mu&&vA(a,this),a}return n.prototype=ju,n},set:function(t){jc(this,"then",t&&t.prototype===ju?AA:{get:function(){return t},set:AA.set})}};function hA(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function dA(t,e){try{e((e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&wA();e&&"function"==typeof e.then?dA(t,((t,n)=>{e instanceof uA?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,fA(t)),n&&bA()}}),pA.bind(null,t))}catch(e){pA(t,e)}}function pA(t,e){if(nA.push(e),null===t._state){var n=t._lib&&wA();e=iA(e),t._state=!1,t._value=e,mu&&null!==e&&"object"==typeof e&&!e._promise&&function(t){try{t.apply(null,void 0)}catch(t){}}((()=>{var n=zc(e,"stack");e._promise=t,jc(e,"stack",{get:()=>Xu?n&&(n.get?n.get.apply(e):n.value):t.stack})})),function(t){eA.some((e=>e._value===t._value))||eA.push(t)}(t),fA(t),n&&bA()}}function fA(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)mA(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===lA&&(++lA,Ju((()=>{0==--lA&&xA()}),[]))}function mA(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++lA,Ju(gA,[n,t,e])}else t._listeners.push(e)}function gA(t,e,n){try{rA=e;var r,i=e._value;e._state?r=t(i):(nA.length&&(nA=[]),r=t(i),-1===nA.indexOf(i)&&function(t){for(var e=eA.length;e;)if(eA[--e]._value===t._value)return void eA.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{rA=null,0==--lA&&xA(),--n.psd.ref||n.psd.finalize()}}function yA(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var i,o,a=t._value;null!=a?(i=a.name||"Error",o=a.message||a,r=wu(a,0)):(i=a,o=""),e.push(i+(o?": "+o:"")+r)}return mu&&((r=wu(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&yA(t._prev,e,n)),e}function vA(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function _A(){wA()&&bA()}function wA(){var t=$u;return $u=!1,tA=!1,t}function bA(){var t,e,n;do{for(;sA.length>0;)for(t=sA,sA=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(sA.length>0);$u=!0,tA=!0}function xA(){var t=eA;eA=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)}));for(var e=cA.slice(0),n=e.length;n;)e[--n]()}function MA(t){return new uA(ju,!1,t)}function LA(t,e){var n=aA;return function(){var r=wA(),i=aA;try{return OA(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{OA(i,!1),r&&bA()}}}Qc(uA.prototype,{then:AA,_then:function(t,e){mA(this,new hA(null,null,t,e,aA))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(t=>t instanceof e?n(t):MA(t))):this.then(null,(t=>t&&t.name===e?n(t):MA(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),MA(e))))},stack:{get:function(){if(this._stack)return this._stack;try{Xu=!0;var t=yA(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Xu=!1}}},timeout:function(t,e){return t<1/0?new uA(((n,r)=>{var i=setTimeout((()=>r(new Du.Timeout(e))),t);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&jc(uA.prototype,Symbol.toStringTag,"Dexie.Promise"),oA.env=HA(),Qc(uA,{all:function(){var t=pu.apply(null,arguments).map(kA);return new uA((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(((i,o)=>uA.resolve(i).then((n=>{t[o]=n,--r||e(t)}),n)))}))},resolve:t=>{if(t instanceof uA)return t;if(t&&"function"==typeof t.then)return new uA(((e,n)=>{t.then(e,n)}));var e=new uA(ju,!0,t);return vA(e,rA),e},reject:MA,race:function(){var t=pu.apply(null,arguments).map(kA);return new uA(((e,n)=>{t.map((t=>uA.resolve(t).then(e,n)))}))},PSD:{get:()=>aA,set:t=>aA=t},totalEchoes:{get:()=>TA},newPSD:IA,usePSD:YA,scheduler:{get:()=>Ju,set:t=>{Ju=t}},rejectionMapper:{get:()=>iA,set:t=>{iA=t}},follow:(t,e)=>new uA(((n,r)=>IA(((e,n)=>{var r=aA;r.unhandleds=[],r.onunhandled=n,r.finalize=Uu((function(){!function(t){cA.push((function e(){t(),cA.splice(cA.indexOf(e),1)})),++lA,Ju((()=>{0==--lA&&xA()}),[])}((()=>{0===this.unhandleds.length?e():n(this.unhandleds[0])}))}),r.finalize),t()}),e,n,r)))}),Ku&&(Ku.allSettled&&jc(uA,"allSettled",(function(){const t=pu.apply(null,arguments).map(kA);return new uA((e=>{0===t.length&&e([]);let n=t.length;const r=new Array(n);t.forEach(((t,i)=>uA.resolve(t).then((t=>r[i]={status:"fulfilled",value:t}),(t=>r[i]={status:"rejected",reason:t})).then((()=>--n||e(r)))))}))})),Ku.any&&"undefined"!=typeof AggregateError&&jc(uA,"any",(function(){const t=pu.apply(null,arguments).map(kA);return new uA(((e,n)=>{0===t.length&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach(((t,o)=>uA.resolve(t).then((t=>e(t)),(t=>{i[o]=t,--r||n(new AggregateError(i))}))))}))})));const CA={awaits:0,echoes:0,id:0};var EA=0,BA=[],SA=0,TA=0,DA=0;function IA(t,e,n,r){var i=aA,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++DA;var a=oA.env;o.env=Zu?{Promise:uA,PromiseProp:{value:uA,configurable:!0,writable:!0},all:uA.all,race:uA.race,allSettled:uA.allSettled,any:uA.any,resolve:uA.resolve,reject:uA.reject,nthen:jA(a.nthen,o),gthen:jA(a.gthen,o)}:{},e&&Uc(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=YA(o,t,n,r);return 0===o.ref&&o.finalize(),s}function PA(){return CA.id||(CA.id=++EA),++CA.awaits,CA.echoes+=100,CA.id}function FA(){return!!CA.awaits&&(0==--CA.awaits&&(CA.id=0),CA.echoes=100*CA.awaits,!0)}function kA(t){return CA.echoes&&t&&t.constructor===Ku?(PA(),t.then((t=>(FA(),t)),(t=>(FA(),zA(t))))):t}function RA(t){++TA,CA.echoes&&0!=--CA.echoes||(CA.echoes=CA.id=0),BA.push(aA),OA(t,!0)}function UA(){var t=BA[BA.length-1];BA.pop(),OA(t,!1)}function OA(t,e){var n=aA;if((e?!CA.echoes||SA++&&t===aA:!SA||--SA&&t===aA)||QA(e?RA.bind(null,t):UA),t!==aA&&(aA=t,n===oA&&(oA.env=HA()),Zu)){var r=oA.env.Promise,i=t.env;Vu.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(Fc,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function HA(){var t=Fc.Promise;return Zu?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Fc,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Vu.then,gthen:t.prototype.then}:{}}function YA(t,e,n,r,i){var o=aA;try{return OA(t,!0),e(n,r,i)}finally{OA(o,!1)}}function QA(t){Gu.call(Wu,t)}function NA(t,e,n,r){return"function"!=typeof t?t:function(){var i=aA;n&&PA(),OA(e,!0);try{return t.apply(this,arguments)}finally{OA(i,!1),r&&QA(FA)}}}function jA(t,e){return function(n,r){return t.call(this,NA(n,e),NA(r,e))}}-1===(""+Gu).indexOf("[native code]")&&(PA=FA=Fu);const WA="unhandledrejection";function VA(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,i={promise:e,reason:t};if(Fc.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(WA,!0,!0),Uc(r,i)):Fc.CustomEvent&&Uc(r=new CustomEvent(WA,{detail:i}),i),r&&Fc.dispatchEvent&&(dispatchEvent(r),!Fc.PromiseRejectionEvent&&Fc.onunhandledrejection))try{Fc.onunhandledrejection(r)}catch(t){}mu&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(t){}}var zA=uA.reject;function GA(t,e,n,r){if(t.idbdb&&(t._state.openComplete||aA.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Su.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>GA(t,e,n,r)))):zA(i)}return i._promise(e,((t,e)=>IA((()=>(aA.trans=i,r(t,e,i)))))).then((t=>i._completion.then((()=>t))))}if(t._state.openComplete)return zA(new Du.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return zA(new Du.DatabaseClosed);t.open().catch(Fu)}return t._state.dbReadyPromise.then((()=>GA(t,e,n,r)))}const KA="3.2.7",ZA=String.fromCharCode(65535),XA=-1/0,qA="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",JA="String expected.",$A=[],th="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),eh=th,nh=th,rh=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),ih="__dbnames",oh="readonly",ah="readwrite";function sh(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const lh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ch(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=su(e))[t],e)}class uh{_trans(t,e,n){const r=this._tx||aA.trans,i=this.name;function o(t,n,r){if(!r.schema[i])throw new Du.NotFound("Table "+i+" not part of transaction");return e(r.idbtrans,r)}const a=wA();try{return r&&r.db===this.db?r===aA.trans?r._promise(t,o,n):IA((()=>r._promise(t,o,n)),{trans:r,transless:aA.transless||aA}):GA(this.db,t,[this.name],o)}finally{a&&bA()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(Rc(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=kc(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((t=>{if(t.compound&&e.every((e=>t.keyPath.indexOf(e)>=0))){for(let n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1})).sort(((t,e)=>t.keyPath.length-e.keyPath.length))[0];if(n&&this.db._maxKey!==ZA){const r=n.keyPath.slice(0,e.length);return this.where(r).equals(r.map((e=>t[e])))}!n&&mu&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:r}=this.schema,i=this.db._deps.indexedDB;function o(t,e){try{return 0===i.cmp(t,e)}catch(t){return!1}}const[a,s]=e.reduce((([e,n],i)=>{const a=r[i],s=t[i];return[e||a,e||!a?sh(n,a&&a.multi?t=>{const e=$c(t,i);return Rc(e)&&e.some((t=>o(s,t)))}:t=>o(s,$c(t,i))):n]}),[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(s):n?this.filter(s):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Rc(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const n=Object.create(t.prototype);for(var r in e)if(Yc(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){Uc(this,t)}))}add(t,e){const{auto:n,keyPath:r}=this.schema.primKey;let i=t;return r&&n&&(i=ch(r)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[i]}))).then((t=>t.numFailures?uA.reject(t.failures[0]):t.lastResult)).then((e=>{if(r)try{tu(t,r,e)}catch(t){}return e}))}update(t,e){if("object"!=typeof t||Rc(t))return this.where(":id").equals(t).modify(e);{const n=$c(t,this.schema.primKey.keyPath);if(void 0===n)return zA(new Du.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?kc(e).forEach((n=>{tu(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}}put(t,e){const{auto:n,keyPath:r}=this.schema.primKey;let i=t;return r&&n&&(i=ch(r)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[i],keys:null!=e?[e]:null}))).then((t=>t.numFailures?uA.reject(t.failures[0]):t.lastResult)).then((e=>{if(r)try{tu(t,r,e)}catch(t){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?uA.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:lh}))).then((t=>t.numFailures?uA.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,n){const r=Array.isArray(e)?e:void 0,i=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Du.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new Du.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let s=o&&n?t.map(ch(o)):t;return this.core.mutate({trans:e,type:"add",keys:r,values:s,wantResults:i}).then((({numFailures:t,results:e,lastResult:n,failures:r})=>{if(0===t)return i?e:n;throw new Bu(`${this.name}.bulkAdd(): ${t} of ${a} operations failed`,r)}))}))}bulkPut(t,e,n){const r=Array.isArray(e)?e:void 0,i=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Du.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new Du.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let s=o&&n?t.map(ch(o)):t;return this.core.mutate({trans:e,type:"put",keys:r,values:s,wantResults:i}).then((({numFailures:t,results:e,lastResult:n,failures:r})=>{if(0===t)return i?e:n;throw new Bu(`${this.name}.bulkPut(): ${t} of ${a} operations failed`,r)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:n,failures:r})=>{if(0===t)return n;throw new Bu(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,r)}))}}function Ah(t){var e={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return e[n].subscribe.apply(null,o),t}if("string"==typeof n)return e[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(t,r,i){if("object"!=typeof t){var a;r||(r=Qu),i||(i=Fu);var s={subscribers:[],fire:i,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=r(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter((function(e){return e!==t})),s.fire=s.subscribers.reduce(r,i)}};return e[t]=n[t]=s,s}kc(a=t).forEach((function(t){var e=a[t];if(Rc(e))o(t,a[t][0],a[t][1]);else{if("asap"!==e)throw new Du.InvalidArgument("Invalid event config");var n=o(t,ku,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){qc((function(){t.apply(null,e)}))}))}))}}))}}function hh(t,e){return Wc(e).from({prototype:t}),e}function dh(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ph(t,e){t.filter=sh(t.filter,e)}function fh(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>sh(r(),e()):e,t.justLimit=n&&!r}function mh(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new Du.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function gh(t,e,n){const r=mh(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function yh(t,e,n,r){const i=t.replayFilter?sh(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(t,n,r)=>{if(!i||i(n,r,(t=>n.stop(t)),(t=>n.fail(t)))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),Yc(o,s)||(o[s]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),vh(gh(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return vh(gh(t,r,n),sh(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function vh(t,e,n,r){var i=r?(t,e,i)=>n(r(t),e,i):n,o=LA(i);return t.then((t=>{if(t)return t.start((()=>{var n=()=>t.continue();e&&!e(t,(t=>n=t),(e=>{t.stop(e),n=Fu}),(e=>{t.fail(e),n=Fu}))||o(t.value,t,(t=>n=t)),n()}))}))}function _h(t,e){try{const n=wh(t),r=wh(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const n=t.length,r=e.length,i=n<r?n:r;for(let n=0;n<i;++n)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return n===r?0:n<r?-1:1}(bh(t),bh(e));case"Array":return function(t,e){const n=t.length,r=e.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=_h(t[n],e[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}function wh(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const n=uu(t);return"ArrayBuffer"===n?"binary":n}function bh(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class xh{_read(t,e){var n=this._ctx;return n.error?n.table._trans(null,zA.bind(null,n.error)):n.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,zA.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=sh(e.algorithm,t)}_iterate(t,e){return yh(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&Uc(n,t),e._ctx=n,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((n=>yh(e,t,n,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx,n=e.table.core;if(dh(e,!0))return n.count({trans:t,query:{index:mh(e,n.schema),range:e.range}}).then((t=>Math.min(t,e.limit)));var r=0;return yh(e,(()=>(++r,!1)),t,n).then((()=>r))})).then(t)}sortBy(t,e){const n=t.split(".").reverse(),r=n[0],i=n.length-1;function o(t,e){return e?o(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function s(t,e){var n=o(t,i),r=o(e,i);return n<r?-a:n>r?a:0}return this.toArray((function(t){return t.sort(s)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&dh(e,!0)&&e.limit>0){const{valueMapper:n}=e,r=mh(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:r,range:e.range}}).then((({result:t})=>n?t.map(n):t))}{const n=[];return yh(e,(t=>n.push(t)),t,e.table.core).then((()=>n))}}),t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,dh(e)?fh(e,(()=>{var e=t;return(t,n)=>0===e||(1===e?(--e,!1):(n((()=>{t.advance(e),e=0})),!1))})):fh(e,(()=>{var e=t;return()=>--e<0}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),fh(this._ctx,(()=>{var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this}until(t,e){return ph(this._ctx,(function(n,r,i){return!t(n.value)||(r(i),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,n;return ph(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=sh(e.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&dh(e,!0)&&e.limit>0)return this._read((t=>{var n=mh(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return ph(this._ctx,(function(t){var e=t.primaryKey.toString(),r=Yc(n,e);return n[e]=!0,!r})),this}modify(t){var e=this._ctx;return this._write((n=>{var r;if("function"==typeof t)r=t;else{var i=kc(t),o=i.length;r=function(e){for(var n=!1,r=0;r<o;++r){var a=i[r],s=t[a];$c(e,a)!==s&&(tu(e,a,s),n=!0)}return n}}const a=e.table.core,{outbound:s,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let A=0;const h=[],d=(t,e)=>{const{failures:n,numFailures:r}=e;A+=t-r;for(let t of kc(n))u.push(n[t])};return this.clone().primaryKeys().then((i=>{const o=u=>{const A=Math.min(c,i.length-u);return a.getMany({trans:n,keys:i.slice(u,u+A),cache:"immutable"}).then((h=>{const p=[],f=[],m=s?[]:null,g=[];for(let t=0;t<A;++t){const e=h[t],n={value:su(e),primKey:i[u+t]};!1!==r.call(n,n.value,n)&&(null==n.value?g.push(i[u+t]):s||0===_h(l(e),l(n.value))?(f.push(n.value),s&&m.push(i[u+t])):(g.push(i[u+t]),p.push(n.value)))}const y=dh(e)&&e.limit===1/0&&("function"!=typeof t||t===Mh)&&{index:e.index,range:e.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((t=>{for(let e in t.failures)g.splice(parseInt(e),1);d(p.length,t)}))).then((()=>(f.length>0||y&&"object"==typeof t)&&a.mutate({trans:n,type:"put",keys:m,values:f,criteria:y,changeSpec:"function"!=typeof t&&t}).then((t=>d(f.length,t))))).then((()=>(g.length>0||y&&t===Mh)&&a.mutate({trans:n,type:"delete",keys:g,criteria:y}).then((t=>d(g.length,t))))).then((()=>i.length>u+A&&o(u+c)))}))};return o(0).then((()=>{if(u.length>0)throw new Eu("Error modifying one or more objects",u,A,h);return i.length}))}))}))}delete(){var t=this._ctx,e=t.range;return dh(t)&&(t.isPrimKey&&!nh||3===e.type)?this._write((n=>{const{primaryKey:r}=t.table.core.schema,i=e;return t.table.core.count({trans:n,query:{index:r,range:i}}).then((e=>t.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:t,lastResult:n,results:r,numFailures:i})=>{if(i)throw new Eu("Could not delete some values",Object.keys(t).map((e=>t[e])),e-i);return e-i}))))})):this.modify(Mh)}}const Mh=(t,e)=>e.value=null;function Lh(t,e){return t<e?-1:t===e?0:1}function Ch(t,e){return t>e?-1:t===e?0:1}function Eh(t,e,n){var r=t instanceof Ph?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Bh(t){return new t.Collection(t,(()=>Ih(""))).limit(0)}function Sh(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),s=-1,l=0;l<a;++l){var c=e[l];if(c!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;i(t[l],c)<0&&(s=l)}return a<r.length&&"next"===o?t+n.substr(t.length):a<t.length&&"prev"===o?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function Th(t,e,n,r){var i,o,a,s,l,c,u,A=n.length;if(!n.every((t=>"string"==typeof t)))return Eh(t,JA);function h(t){i=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),o=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),a="next"===t?Lh:Ch;var e=n.map((function(t){return{lower:o(t),upper:i(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));s=e.map((function(t){return t.upper})),l=e.map((function(t){return t.lower})),c=t,u="next"===t?"":r}h("next");var d=new t.Collection(t,(()=>Dh(s[0],l[A-1]+r)));d._ondirectionchange=function(t){h(t)};var p=0;return d._addAlgorithm((function(t,n,r){var i=t.key;if("string"!=typeof i)return!1;var h=o(i);if(e(h,l,p))return!0;for(var d=null,f=p;f<A;++f){var m=Sh(i,h,s[f],l[f],a,c);null===m&&null===d?p=f+1:(null===d||a(d,m)>0)&&(d=m)}return n(null!==d?function(){t.continue(d+u)}:r),!1})),d}function Dh(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Ih(t){return{type:1,lower:t,upper:t}}class Ph{get Collection(){return this._ctx.table.db.Collection}between(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?Bh(this):new this.Collection(this,(()=>Dh(t,e,!n,!r)))}catch(t){return Eh(this,qA)}}equals(t){return null==t?Eh(this,qA):new this.Collection(this,(()=>Ih(t)))}above(t){return null==t?Eh(this,qA):new this.Collection(this,(()=>Dh(t,void 0,!0)))}aboveOrEqual(t){return null==t?Eh(this,qA):new this.Collection(this,(()=>Dh(t,void 0,!1)))}below(t){return null==t?Eh(this,qA):new this.Collection(this,(()=>Dh(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?Eh(this,qA):new this.Collection(this,(()=>Dh(void 0,t)))}startsWith(t){return"string"!=typeof t?Eh(this,JA):this.between(t,t+ZA,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):Th(this,((t,e)=>0===t.indexOf(e[0])),[t],ZA)}equalsIgnoreCase(t){return Th(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=pu.apply(du,arguments);return 0===t.length?Bh(this):Th(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=pu.apply(du,arguments);return 0===t.length?Bh(this):Th(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,ZA)}anyOf(){const t=pu.apply(du,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return Eh(this,qA)}if(0===t.length)return Bh(this);const n=new this.Collection(this,(()=>Dh(t[0],t[t.length-1])));n._ondirectionchange=n=>{e="next"===n?this._ascending:this._descending,t.sort(e)};let r=0;return n._addAlgorithm(((n,i,o)=>{const a=n.key;for(;e(a,t[r])>0;)if(++r,r===t.length)return i(o),!1;return 0===e(a,t[r])||(i((()=>{n.continue(t[r])})),!1)})),n}notEqual(t){return this.inAnyRange([[XA,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=pu.apply(du,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Eh(this,qA)}const e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[XA,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const n=this._cmp,r=this._ascending,i=this._descending,o=this._min,a=this._max;if(0===t.length)return Bh(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&r(t[0],t[1])<=0)))return Eh(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Du.InvalidArgument);const s=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers;let c,u=r;function A(t,e){return u(t[0],e[0])}try{c=t.reduce((function(t,e){let r=0,i=t.length;for(;r<i;++r){const i=t[r];if(n(e[0],i[1])<0&&n(e[1],i[0])>0){i[0]=o(i[0],e[0]),i[1]=a(i[1],e[1]);break}}return r===i&&t.push(e),t}),[]),c.sort(A)}catch(t){return Eh(this,qA)}let h=0;const d=l?t=>r(t,c[h][1])>0:t=>r(t,c[h][1])>=0,p=s?t=>i(t,c[h][0])>0:t=>i(t,c[h][0])>=0;let f=d;const m=new this.Collection(this,(()=>Dh(c[0][0],c[c.length-1][1],!s,!l)));return m._ondirectionchange=t=>{"next"===t?(f=d,u=r):(f=p,u=i),c.sort(A)},m._addAlgorithm(((t,e,n)=>{for(var i=t.key;f(i);)if(++h,h===c.length)return e(n),!1;return!!function(t){return!d(t)&&!p(t)}(i)||(0===this._cmp(i,c[h][1])||0===this._cmp(i,c[h][0])||e((()=>{u===r?t.continue(c[h][0]):t.continue(c[h][1])})),!1)})),m}startsWithAnyOf(){const t=pu.apply(du,arguments);return t.every((t=>"string"==typeof t))?0===t.length?Bh(this):this.inAnyRange(t.map((t=>[t,t+ZA]))):Eh(this,"startsWithAnyOf() only works with strings")}}function Fh(t){return LA((function(e){return kh(e),t(e.target.error),!1}))}function kh(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Rh="storagemutated",Uh="x-storagemutated-1",Oh=Ah(null,Rh);class Hh{_lock(){return Xc(!aA.global),++this._reculock,1!==this._reculock||aA.global||(aA.lockOwnerFor=this),this}_unlock(){if(Xc(!aA.global),0==--this._reculock)for(aA.global||(aA.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{YA(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&aA.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,n=this.db._state.dbOpenError;if(Xc(!this.idbtrans),!t&&!e)switch(n&&n.name){case"DatabaseClosedError":throw new Du.DatabaseClosed(n);case"MissingAPIError":throw new Du.MissingAPI(n.message,n);default:throw new Du.OpenFailed(n)}if(!this.active)throw new Du.TransactionInactive;return Xc(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=LA((e=>{kh(e),this._reject(t.error)})),t.onabort=LA((e=>{kh(e),this.active&&this._reject(new Du.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=LA((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Oh.storagemutated.fire(t.mutatedParts)})),this}_promise(t,e,n){if("readwrite"===t&&"readwrite"!==this.mode)return zA(new Du.ReadOnly("Transaction is readonly"));if(!this.active)return zA(new Du.TransactionInactive);if(this._locked())return new uA(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(t,e,n).then(r,i)},aA])}));if(n)return IA((()=>{var t=new uA(((t,n)=>{this._lock();const r=e(t,n,this);r&&r.then&&r.then(t,n)}));return t.finally((()=>this._unlock())),t._lib=!0,t}));var r=new uA(((t,n)=>{var r=e(t,n,this);r&&r.then&&r.then(t,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const n=uA.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((()=>n));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var i=e._waitingFor;return new uA(((t,r)=>{n.then((n=>e._waitingQueue.push(LA(t.bind(null,n)))),(t=>e._waitingQueue.push(LA(r.bind(null,t))))).finally((()=>{e._waitingFor===i&&(e._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Du.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(Yc(e,t))return e[t];const n=this.schema[t];if(!n)throw new Du.NotFound("Table "+t+" not part of transaction");const r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r}}function Yh(t,e,n,r,i,o,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Qh(e)}}function Qh(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Nh(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Jc(n,(t=>[t.name,t]))}}let jh=t=>{try{return t.only([[]]),jh=()=>[[]],[[]]}catch(t){return jh=()=>ZA,ZA}};function Wh(t){return null==t?()=>{}:"string"==typeof t?function(t){return 1===t.split(".").length?e=>e[t]:e=>$c(e,t)}(t):e=>$c(e,t)}function Vh(t){return[].slice.call(t)}let zh=0;function Gh(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function Kh({_novip:t},e){const n=e.db,r=function(t,e,{IDBKeyRange:n,indexedDB:r},i){const o=function(t,e){return e.reduce(((t,{create:e})=>({...t,...e(t)})),t)}(function(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=t;return void 0===n?void 0===r?null:e.upperBound(r,!!o):void 0===r?e.lowerBound(n,!!i):e.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:o}=function(t,e){const n=Vh(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((t=>e.objectStore(t))).map((t=>{const{keyPath:e,autoIncrement:n}=t,r=Rc(e),i=null==e,o={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:Wh(e)},indexes:Vh(t.indexNames).map((e=>t.index(e))).map((t=>{const{name:e,unique:n,multiEntry:r,keyPath:i}=t,a={name:e,compound:Rc(i),keyPath:i,unique:n,multiEntry:r,extractKey:Wh(i)};return o[Gh(i)]=a,a})),getIndexByKeyPath:t=>o[Gh(t)]};return o[":id"]=a.primaryKey,null!=e&&(o[Gh(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=i.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:n,keys:i,values:o,range:a}){return new Promise(((s,l)=>{s=LA(s);const c=t.objectStore(e),u=null==c.keyPath,A="put"===n||"add"===n;if(!A&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const p=[],f=[];let m=0;const g=t=>{++m,kh(t)};if("deleteRange"===n){if(4===a.type)return s({numFailures:m,failures:f,results:[],lastResult:void 0});3===a.type?p.push(d=c.clear()):p.push(d=c.delete(r(a)))}else{const[t,e]=A?u?[o,i]:[o,null]:[i,null];if(A)for(let r=0;r<h;++r)p.push(d=e&&void 0!==e[r]?c[n](t[r],e[r]):c[n](t[r])),d.onerror=g;else for(let e=0;e<h;++e)p.push(d=c[n](t[e])),d.onerror=g}const y=t=>{const e=t.target.result;p.forEach(((t,e)=>null!=t.error&&(f[e]=t.error))),s({numFailures:m,failures:f,results:"delete"===n?i:p.map((t=>t.result)),lastResult:e})};d.onerror=t=>{g(t),y(t)},d.onsuccess=y}))},getMany:({trans:t,keys:n})=>new Promise(((r,i)=>{r=LA(r);const o=t.objectStore(e),a=n.length,s=new Array(a);let l,c=0,u=0;const A=t=>{const e=t.target;s[e._pos]=e.result,++u===c&&r(s)},h=Fh(i);for(let t=0;t<a;++t)null!=n[t]&&(l=o.get(n[t]),l._pos=t,l.onsuccess=A,l.onerror=h,++c);0===c&&r(s)})),get:({trans:t,key:n})=>new Promise(((r,i)=>{r=LA(r);const o=t.objectStore(e).get(n);o.onsuccess=t=>r(t.target.result),o.onerror=Fh(i)})),query:function(t){return n=>new Promise(((i,o)=>{i=LA(i);const{trans:a,values:s,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:A,range:h}=c,d=a.objectStore(e),p=A.isPrimaryKey?d:d.index(A.name),f=r(h);if(0===l)return i({result:[]});if(t){const t=s?p.getAll(f,u):p.getAllKeys(f,u);t.onsuccess=t=>i({result:t.target.result}),t.onerror=Fh(o)}else{let t=0;const e=s||!("openKeyCursor"in p)?p.openCursor(f):p.openKeyCursor(f),n=[];e.onsuccess=r=>{const o=e.result;return o?(n.push(s?o.value:o.primaryKey),++t===l?i({result:n}):void o.continue()):i({result:n})},e.onerror=Fh(o)}}))}(o),openCursor:function({trans:t,values:n,query:i,reverse:o,unique:a}){return new Promise(((s,l)=>{s=LA(s);const{index:c,range:u}=i,A=t.objectStore(e),h=c.isPrimaryKey?A:A.index(c.name),d=o?a?"prevunique":"prev":a?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(r(u),d):h.openKeyCursor(r(u),d);p.onerror=Fh(l),p.onsuccess=LA((e=>{const n=p.result;if(!n)return void s(null);n.___id=++zh,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const o=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=t,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=LA(l),n.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},n.start=t=>{const e=new Promise(((t,e)=>{t=LA(t),p.onerror=Fh(e),n.fail=e,n.stop=e=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,t(e)}})),s=()=>{if(p.result)try{t()}catch(t){n.fail(t)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=LA((t=>{p.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=i,n.advance=o,s(),e},s(n)}),l)}))},count({query:t,trans:n}){const{index:i,range:o}=t;return new Promise(((t,a)=>{const s=n.objectStore(e),l=i.isPrimaryKey?s:s.index(i.name),c=r(o),u=c?l.count(c):l.count();u.onsuccess=LA((e=>t(e.target.result))),u.onerror=Fh(a)}))}}}(t))),s={};return a.forEach((t=>s[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!s[t])throw new Error(`Table '${t}' not found`);return s[t]},MIN_KEY:-1/0,MAX_KEY:jh(e),schema:i}}(e,n,i),t.dbcore);return{dbcore:o}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach((e=>{const n=e.name;t.core.schema.tables.some((t=>t.name===n))&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))}))}function Zh({_novip:t},e,n,r){n.forEach((n=>{const i=r[n];e.forEach((e=>{const r=zc(e,n);(!r||"value"in r&&void 0===r.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?jc(e,n,{get(){return this.table(n)},set(t){Nc(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,i))}))}))}function Xh({_novip:t},e){e.forEach((e=>{for(let n in e)e[n]instanceof t.Table&&delete e[n]}))}function qh(t,e){return t._cfg.version-e._cfg.version}function Jh(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],o=e[r];if(i){const t={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!th)t.recreate=!0,n.change.push(t);else{const e=i.idxByName,r=o.idxByName;let a;for(a in e)r[a]||t.del.push(a);for(a in r){const n=e[a],i=r[a];n?n.src!==i.src&&t.change.push(i):t.add.push(i)}(t.del.length>0||t.add.length>0||t.change.length>0)&&n.change.push(t)}}else n.add.push([r,o])}return n}function $h(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((t=>td(i,t))),i}function td(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ed(t,e,n){const r={};return Kc(e.objectStoreNames,0).forEach((t=>{const e=n.objectStore(t);let i=e.keyPath;const o=Yh(Qh(i),i||"",!1,!1,!!e.autoIncrement,i&&"string"!=typeof i,!0),a=[];for(let t=0;t<e.indexNames.length;++t){const n=e.index(e.indexNames[t]);i=n.keyPath;var s=Yh(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(s)}r[t]=Nh(t,o,a)})),r}function nd({_novip:t},e,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(let t=0;t<a.indexNames.length;++t){const n=a.indexNames[t],r=a.index(n).keyPath,i="string"==typeof r?r:"["+Kc(r).join("+")+"]";if(e[o]){const t=e[o].idxByName[i];t&&(t.name=n,delete e[o].idxByName[i],e[o].idxByName[n]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Fc.WorkerGlobalScope&&Fc instanceof Fc.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class rd{_parseStoresSpec(t,e){kc(t).forEach((n=>{if(null!==t[n]){var r=t[n].split(",").map(((t,e)=>{const n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Yh(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Rc(r),0===e)})),i=r.shift();if(i.multi)throw new Du.Schema("Primary key cannot be multi-valued");r.forEach((t=>{if(t.auto)throw new Du.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Du.Schema("Index must have a name and cannot be an empty string")})),e[n]=Nh(n,i,r)}}))}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?Uc(this._cfg.storesSource,t):t;const n=e._versions,r={};let i={};return n.forEach((t=>{Uc(r,t._cfg.storesSource),i=t._cfg.dbschema={},t._parseStoresSpec(r,i)})),e._dbSchema=i,Xh(e,[e._allTables,e,e.Transaction.prototype]),Zh(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],kc(i),i),e._storeNames=kc(i),this}upgrade(t){return this._cfg.contentUpgrade=Nu(this._cfg.contentUpgrade||Fu,t),this}}function id(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Cd(ih,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function od(t){return t&&"function"==typeof t.databases}function ad(t){return IA((function(){return aA.letThrough=!0,t()}))}function sd(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function ld(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?zA(e.dbOpenError):t));mu&&(e.openCanceller._stackHolder=_u()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new Du.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,s=!1;const l=()=>new uA(((r,o)=>{if(i(),!n)throw new Du.MissingAPI;const l=t.name,c=e.autoSchema?n.open(l):n.open(l,Math.round(10*t.verno));if(!c)throw new Du.MissingAPI;c.onerror=Fh(o),c.onblocked=LA(t._fireOnBlocked),c.onupgradeneeded=LA((r=>{if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=kh,a.abort(),c.result.close();const t=n.deleteDatabase(l);t.onsuccess=t.onerror=LA((()=>{o(new Du.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=Fh(o);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=i<1,t._novip.idbdb=c.result,function(t,e,n,r){const i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=aA.transless||aA;IA((()=>{aA.trans=o,aA.transless=s,0===e?(kc(i).forEach((t=>{$h(n,t,i[t].primKey,i[t].indexes)})),Kh(t,n),uA.follow((()=>t.on.populate.fire(o))).catch(a)):function({_novip:t},e,n,r){const i=[],o=t._versions;let a=t._dbSchema=ed(0,t.idbdb,r),s=!1;const l=o.filter((t=>t._cfg.version>=e));return l.forEach((o=>{i.push((()=>{const i=a,l=o._cfg.dbschema;nd(t,i,r),nd(t,l,r),a=t._dbSchema=l;const c=Jh(i,l);c.add.forEach((t=>{$h(r,t[0],t[1].primKey,t[1].indexes)})),c.change.forEach((t=>{if(t.recreate)throw new Du.Upgrade("Not yet support for changing primary key");{const e=r.objectStore(t.name);t.add.forEach((t=>td(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),td(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const u=o._cfg.contentUpgrade;if(u&&o._cfg.version>e){Kh(t,r),n._memoizedTables={},s=!0;let e=eu(l);c.del.forEach((t=>{e[t]=i[t]})),Xh(t,[t.Transaction.prototype]),Zh(t,[t.Transaction.prototype],kc(e),e),n.schema=e;const o=fu(u);let a;o&&PA();const A=uA.follow((()=>{if(a=u(n),a&&o){var t=FA.bind(null,null);a.then(t,t)}}));return a&&"function"==typeof a.then?uA.resolve(a):A.then((()=>a))}})),i.push((e=>{s&&eh||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((n=>null==t[n]&&e.db.deleteObjectStore(n)))}(o._cfg.dbschema,e),Xh(t,[t.Transaction.prototype]),Zh(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema}))})),function t(){return i.length?uA.resolve(i.shift()(n.idbtrans)).then(t):uA.resolve()}().then((()=>{var t,e;e=r,kc(t=a).forEach((n=>{e.db.objectStoreNames.contains(n)||$h(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,o,n).catch(a)}))}(t,i/10,a,o)}}),o),c.onsuccess=LA((()=>{a=null;const n=t._novip.idbdb=c.result,i=Kc(n.objectStoreNames);if(i.length>0)try{const r=n.transaction(1===(o=i).length?o[0]:o,"readonly");e.autoSchema?function({_novip:t},e,n){t.verno=e.version/10;const r=t._dbSchema=ed(0,e,n);t._storeNames=Kc(e.objectStoreNames,0),Zh(t,[t._allTables],kc(r),r)}(t,n,r):(nd(t,t._dbSchema,r),function(t,e){const n=Jh(ed(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((t=>t.add.length||t.change.length)))}(t,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Kh(t,r)}catch(t){}var o;$A.push(t),n.onversionchange=LA((n=>{e.vcFired=!0,t.on("versionchange").fire(n)})),n.onclose=LA((e=>{t.on("close").fire(e)})),s&&function({indexedDB:t,IDBKeyRange:e},n){!od(t)&&n!==ih&&id(t,e).put({name:n}).catch(Fu)}(t._deps,l),r()}),o)})).catch((t=>t&&"UnknownError"===t.name&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):uA.reject(t)));return uA.race([r,("undefined"==typeof navigator?uA.resolve():sd()).then(l)]).then((()=>(i(),e.onReadyBeingFired=[],uA.resolve(ad((()=>t.on.ready.fire(t.vip)))).then((function n(){if(e.onReadyBeingFired.length>0){let r=e.onReadyBeingFired.reduce(Nu,Fu);return e.onReadyBeingFired=[],uA.resolve(ad((()=>r(t.vip)))).then(n)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((n=>{e.dbOpenError=n;try{a&&a.abort()}catch(t){}return r===e.openCanceller&&t._close(),zA(n)})).finally((()=>{e.openComplete=!0,o()}))}function cd(t){var e=e=>t.next(e),n=i(e),r=i((e=>t.throw(e)));function i(t){return e=>{var i=t(e),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):Rc(o)?Promise.all(o).then(n,r):n(o)}}return i(e)()}function ud(t,e,n){var r=arguments.length;if(r<2)throw new Du.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,ru(i),n]}function Ad(t,e,n,r,i){return uA.resolve().then((()=>{const o=aA.transless||aA,a=t._createTransaction(e,n,t._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===Su.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>Ad(t,e,n,null,i)))):zA(r)}const l=fu(i);let c;l&&PA();const u=uA.follow((()=>{if(c=i.call(a,a),c)if(l){var t=FA.bind(null,null);c.then(t,t)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=cd(c))}),s);return(c&&"function"==typeof c.then?uA.resolve(c).then((t=>a.active?t:zA(new Du.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((t=>(r&&a._resolve(),a._completion.then((()=>t))))).catch((t=>(a._reject(t),zA(t))))}))}function hd(t,e,n){const r=Rc(t)?t.slice():[t];for(let t=0;t<n;++t)r.push(e);return r}const dd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},o=[];function a(t,e,n){const r=Gh(t),s=i[r]=i[r]||[],l=null==t?0:"string"==typeof t?1:t.length,c=e>0,u={...n,isVirtual:c,keyTail:e,keyLength:l,extractKey:Wh(t),unique:!c&&n.unique};return s.push(u),u.isPrimaryKey||o.push(u),l>1&&a(2===l?t[0]:t.slice(0,l-1),e+1,n),s.sort(((t,e)=>t.keyTail-e.keyTail)),u}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const t of r.indexes)a(t.keyPath,0,t);function l(e,n){return{type:1===e.type?2:e.type,lower:hd(e.lower,e.lowerOpen?t.MAX_KEY:t.MIN_KEY,n),lowerOpen:!0,upper:hd(e.upper,e.upperOpen?t.MIN_KEY:t.MAX_KEY,n),upperOpen:!0}}function c(t){const e=t.query.index;return e.isVirtual?{...t,query:{index:e,range:l(t.query.range,e.keyTail)}}:t}const u={...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(t){const e=i[Gh(t)];return e&&e[0]}},count:t=>n.count(c(t)),query:t=>n.query(c(t)),openCursor(e){const{keyTail:r,isVirtual:i,keyLength:o}=e.query.index;return i?n.openCursor(c(e)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(hd(i,e.reverse?t.MAX_KEY:t.MIN_KEY,r)):e.unique?n.continue(n.key.slice(0,o).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(e,i){n.continuePrimaryKey(hd(e,t.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const t=n.key;return 1===o?t[0]:t.slice(0,o)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(e)}};return u}}}};function pd(t,e,n,r){return n=n||{},r=r||"",kc(t).forEach((i=>{if(Yc(e,i)){var o=t[i],a=e[i];if("object"==typeof o&&"object"==typeof a&&o&&a){const t=uu(o);t!==uu(a)?n[r+i]=e[i]:"Object"===t?pd(o,a,n,r+i+"."):o!==a&&(n[r+i]=e[i])}else o!==a&&(n[r+i]=e[i])}else n[r+i]=void 0})),kc(e).forEach((i=>{Yc(t,i)||(n[r+i]=e[i])})),n}const fd={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema,i={...n,mutate(t){const i=aA.trans,{deleting:o,creating:a,updating:s}=i.table(e).hook;switch(t.type){case"add":if(a.fire===Fu)break;return i._promise("readwrite",(()=>l(t)),!0);case"put":if(a.fire===Fu&&s.fire===Fu)break;return i._promise("readwrite",(()=>l(t)),!0);case"delete":if(o.fire===Fu)break;return i._promise("readwrite",(()=>l(t)),!0);case"deleteRange":if(o.fire===Fu)break;return i._promise("readwrite",(()=>function(t){return c(t.trans,t.range,1e4)}(t)),!0)}return n.mutate(t);function l(t){const e=aA.trans,i=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!i)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:i}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,i).then((l=>{const c=i.map(((n,i)=>{const c=l[i],u={onerror:null,onsuccess:null};if("delete"===t.type)o.fire.call(u,n,c,e);else if("add"===t.type||void 0===c){const o=a.fire.call(u,n,t.values[i],e);null==n&&null!=o&&(n=o,t.keys[i]=n,r.outbound||tu(t.values[i],r.keyPath,n))}else{const r=pd(c,t.values[i]),o=s.fire.call(u,r,n,c,e);if(o){const e=t.values[i];Object.keys(o).forEach((t=>{Yc(e,t)?e[t]=o[t]:tu(e,t,o[t])}))}}return u}));return n.mutate(t).then((({failures:e,results:n,numFailures:r,lastResult:o})=>{for(let r=0;r<i.length;++r){const o=n?n[r]:i[r],a=c[r];null==o?a.onerror&&a.onerror(e[r]):a.onsuccess&&a.onsuccess("put"===t.type&&l[r]?t.values[r]:o)}return{failures:e,results:n,numFailures:r,lastResult:o}})).catch((t=>(c.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}))}function c(t,e,i){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:i}).then((({result:n})=>l({type:"delete",keys:n,trans:t}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(t,{...e,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function md(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;const r=[];for(let i=0,o=0;i<e.keys.length&&o<t.length;++i)0===_h(e.keys[i],t[o])&&(r.push(n?su(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch(t){return null}}const gd={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:t=>{if(!t.cache)return n.getMany(t);const e=md(t.keys,t.trans._cache,"clone"===t.cache);return e?uA.resolve(e):n.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?su(e):e},e)))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),n.mutate(t))}}})};function yd(t){return!("from"in t)}const vd=function(t,e){if(!this){const e=new vd;return t&&"d"in t&&Uc(e,t),e}Uc(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function _d(t,e,n){const r=_h(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(yd(t))return Uc(t,{from:e,to:n,d:1});const i=t.l,o=t.r;if(_h(n,t.from)<0)return i?_d(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},xd(t);if(_h(e,t.to)>0)return o?_d(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},xd(t);_h(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),_h(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;i&&!t.l&&wd(t,i),o&&a&&wd(t,o)}function wd(t,e){yd(e)||function t(e,{from:n,to:r,l:i,r:o}){_d(e,n,r),i&&t(e,i),o&&t(e,o)}(t,e)}function bd(t){let e=yd(t)?null:{s:0,n:t};return{next(t){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&_h(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||_h(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function xd(t){var e,n;const r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const e="r"===i?"l":"r",n={...t},r=t[i];t.from=r.from,t.to=r.to,t[i]=r[i],n[i]=r[e],t[e]=n,n.d=Md(n)}t.d=Md(t)}function Md({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Qc(vd.prototype,{add(t){return wd(this,t),this},addKey(t){return _d(this,t,t),this},addKeys(t){return t.forEach((t=>_d(this,t,t))),this},[Au](){return bd(this)}});const Ld={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new vd(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const i=t.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,c={...i,mutate:t=>{const a=t.trans,s=a.mutatedParts||(a.mutatedParts={}),l=t=>{const n=`idb://${e}/${r}/${t}`;return s[n]||(s[n]=new vd)},c=l(""),u=l(":dels"),{type:A}=t;let[h,d]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const p=t.trans._cache;return i.mutate(t).then((t=>{if(Rc(h)){"delete"!==A&&(h=t.results),c.addKeys(h);const e=md(h,p);e||"add"===A||u.addKeys(h),(e||d)&&function(t,e,n,r){e.indexes.forEach((function(e){const i=t(e.name||"");function o(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&Rc(t)?t.forEach((t=>i.addKey(t))):i.addKey(t);(n||r).forEach(((t,e)=>{const i=n&&o(n[e]),s=r&&o(r[e]);0!==_h(i,s)&&(null!=i&&a(i),null!=s&&a(s))}))}))}(l,o,e,d)}else if(h){const t={from:h.lower,to:h.upper};u.add(t),c.add(t)}else c.add(n),u.add(n),o.indexes.forEach((t=>l(t.name).add(n)));return t}))}},u=({query:{index:e,range:n}})=>{var r,i;return[e,new vd(null!==(r=n.lower)&&void 0!==r?r:t.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:t.MAX_KEY)]},A={get:t=>[a,new vd(t.key)],getMany:t=>[a,(new vd).addKeys(t.keys)],count:u,query:u,openCursor:u};return kc(A).forEach((t=>{c[t]=function(o){const{subscr:a}=aA;if(a){const c=t=>{const n=`idb://${e}/${r}/${t}`;return a[n]||(a[n]=new vd)},u=c(""),h=c(":dels"),[d,p]=A[t](o);if(c(d.name||"").add(p),!d.isPrimaryKey){if("count"!==t){const e="query"===t&&l&&o.values&&i.query({...o,values:!1});return i[t].apply(this,arguments).then((n=>{if("query"===t){if(l&&o.values)return e.then((({result:t})=>(u.addKeys(t),n)));const t=o.values?n.result.map(s):n.result;o.values?u.addKeys(t):h.addKeys(t)}else if("openCursor"===t){const t=n,e=o.values;return t&&Object.create(t,{key:{get:()=>(h.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return h.addKey(e),e}},value:{get:()=>(e&&u.addKey(t.primaryKey),t.value)}})}return n}))}h.add(n)}}return i[t].apply(this,arguments)}})),c}}}};class Cd{constructor(t,e){this._middlewares={},this.verno=0;const n=Cd.dependencies;this._options=e={addons:Cd.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:r}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fu,dbReadyPromise:null,cancelOpen:Fu,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new uA((t=>{i.dbReadyResolve=t})),i.openCanceller=new uA(((t,e)=>{i.cancelOpen=e})),this._state=i,this.name=t,this.on=Ah(this,"populate","blocked","versionchange","close",{ready:[Nu,Fu]}),this.on.ready.subscribe=Zc(this.on.ready.subscribe,(t=>(e,n)=>{Cd.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||uA.resolve().then(e),n&&t(e);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(e),n&&t(e);else{t(e);const r=this;n||t((function t(){r.on.ready.unsubscribe(e),r.on.ready.unsubscribe(t)}))}}))})),this.Collection=(o=this,hh(xh.prototype,(function(t,e){this.db=o;let n=lh,r=null;if(e)try{n=e()}catch(t){r=t}const i=t._ctx,a=i.table,s=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:s!==ku?s:null}}))),this.Table=function(t){return hh(uh.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Ah(null,{creating:[Ou,Fu],reading:[Ru,ku],updating:[Yu,Fu],deleting:[Hu,Fu]})}))}(this),this.Transaction=function(t){return hh(Hh.prototype,(function(e,n,r,i,o){this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Ah(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new uA(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),zA(t)}))}))}(this),this.Version=function(t){return hh(rd.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return hh(Ph.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};const i=t._deps.indexedDB;if(!i)throw new Du.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(t,e)=>i.cmp(e,t),this._max=(t,e)=>i.cmp(t,e)>0?t:e,this._min=(t,e)=>i.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)})),this._maxKey=jh(e.IDBKeyRange),this._createTransaction=(t,e,n,r)=>new this.Transaction(t,e,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=t=>{this.on("blocked").fire(t),$A.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(dd),this.use(fd),this.use(Ld),this.use(gd),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((t=>t(this)))}version(t){if(isNaN(t)||t<.1)throw new Du.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Du.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var n=e.filter((e=>e._cfg.version===t))[0];return n||(n=new this.Version(t),e.push(n),e.sort(qh),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||aA.letThrough||this._vip)?t():new uA(((t,e)=>{if(this._state.openComplete)return e(new Du.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new Du.DatabaseClosed);this.open().catch(Fu)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:n,name:r}){r&&this.unuse({stack:t,name:r});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:e,level:null==n?10:n,name:r}),i.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>n?t.create!==n:!!e&&t.name!==e))),this}open(){return ld(this)}_close(){const t=this._state,e=$A.indexOf(this);if(e>=0&&$A.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new uA((e=>{t.dbReadyResolve=e})),t.openCanceller=new uA(((e,n)=>{t.cancelOpen=n}))}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Du.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new uA(((n,r)=>{const i=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=LA((()=>{!function({indexedDB:t,IDBKeyRange:e},n){!od(t)&&n!==ih&&id(t,e).delete(n).catch(Fu)}(this._deps,this.name),n()})),t.onerror=Fh(r),t.onblocked=this._fireOnBlocked};if(t)throw new Du.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return kc(this._allTables).map((t=>this._allTables[t]))}transaction(){const t=ud.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,n){let r=aA.trans;r&&r.db===this&&-1===t.indexOf("!")||(r=null);const i=-1!==t.indexOf("?");let o,a;t=t.replace("!","").replace("?","");try{if(a=e.map((t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===oh)o=oh;else{if("rw"!=t&&t!=ah)throw new Du.InvalidArgument("Invalid transaction mode: "+t);o=ah}if(r){if(r.mode===oh&&o===ah){if(!i)throw new Du.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((t=>{if(r&&-1===r.storeNames.indexOf(t)){if(!i)throw new Du.SubTransaction("Table "+t+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,((e,n)=>{n(t)})):zA(t)}const s=Ad.bind(null,this,o,a,r,n);return r?r._promise(o,s,"lock"):aA.trans?YA(aA.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(t){if(!Yc(this._allTables,t))throw new Du.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Ed="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Bd{constructor(t){this._subscribe=t}subscribe(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}[Ed](){return this}}function Sd(t,e){return kc(e).forEach((n=>{wd(t[n]||(t[n]=new vd),e[n])})),t}let Td;try{Td={indexedDB:Fc.indexedDB||Fc.mozIndexedDB||Fc.webkitIndexedDB||Fc.msIndexedDB,IDBKeyRange:Fc.IDBKeyRange||Fc.webkitIDBKeyRange}}catch(Je){Td={indexedDB:null,IDBKeyRange:null}}const Dd=Cd;function Id(t){let e=Pd;try{Pd=!0,Oh.storagemutated.fire(t)}finally{Pd=e}}Qc(Dd,{...Pu,delete:t=>new Dd(t,{addons:[]}).delete(),exists:t=>new Dd(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return od(t)?Promise.resolve(t.databases()).then((t=>t.map((t=>t.name)).filter((t=>t!==ih)))):id(t,e).toCollection().primaryKeys()}(Dd.dependencies).then(t)}catch(t){return zA(new Du.MissingAPI)}},defineClass:()=>function(t){Uc(this,t)},ignoreTransaction:t=>aA.trans?YA(aA.transless,t):t(),vip:ad,async:function(t){return function(){try{var e=cd(t.apply(this,arguments));return e&&"function"==typeof e.then?e:uA.resolve(e)}catch(t){return zA(t)}}},spawn:function(t,e,n){try{var r=cd(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:uA.resolve(r)}catch(t){return zA(t)}},currentTransaction:{get:()=>aA.trans||null},waitFor:function(t,e){const n=uA.resolve("function"==typeof t?Dd.ignoreTransaction(t):t).timeout(e||6e4);return aA.trans?aA.trans.waitFor(n):n},Promise:uA,debug:{get:()=>mu,set:t=>{gu(t,"dexie"===t?()=>!0:rh)}},derive:Wc,extend:Uc,props:Qc,override:Zc,Events:Ah,on:Oh,liveQuery:function(t){let e,n=!1;const r=new Bd((r=>{const i=fu(t);let o=!1,a={},s={};const l={get closed(){return o},unsubscribe:()=>{o=!0,Oh.storagemutated.unsubscribe(h)}};r.start&&r.start(l);let c=!1,u=!1;function A(){return kc(s).some((t=>a[t]&&function(t,e){const n=bd(e);let r=n.next();if(r.done)return!1;let i=r.value;const o=bd(t);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(_h(s.from,i.to)<=0&&_h(s.to,i.from)>=0)return!0;_h(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}(a[t],s[t])))}const h=t=>{Sd(a,t),A()&&d()},d=()=>{if(c||o)return;a={};const p={},f=function(e){i&&PA();const n=()=>IA(t,{subscr:e,trans:null}),r=aA.trans?YA(aA.transless,n):n();return i&&r.then(FA,FA),r}(p);u||(Oh(Rh,h),u=!0),c=!0,Promise.resolve(f).then((t=>{n=!0,e=t,c=!1,o||(A()?d():(a={},s=p,r.next&&r.next(t)))}),(t=>{c=!1,n=!1,r.error&&r.error(t),l.unsubscribe()}))};return d(),l}));return r.hasValue=()=>n,r.getValue=()=>e,r},extendObservabilitySet:Sd,getByKeyPath:$c,setByKeyPath:tu,delByKeyPath:function(t,e){"string"==typeof e?tu(t,e,void 0):"length"in e&&[].map.call(e,(function(e){tu(t,e,void 0)}))},shallowClone:eu,deepClone:su,getObjectDiff:pd,cmp:_h,asap:qc,minKey:XA,addons:[],connections:$A,errnames:Su,dependencies:Td,semVer:KA,version:KA.split(".").map((t=>parseInt(t))).reduce(((t,e,n)=>t+e/Math.pow(10,2*n)))}),Dd.maxKey=jh(Dd.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Oh(Rh,(t=>{if(!Pd){let e;th?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Uh,!0,!0,t)):e=new CustomEvent(Uh,{detail:t}),Pd=!0,dispatchEvent(e),Pd=!1}})),addEventListener(Uh,(({detail:t})=>{Pd||Id(t)})));let Pd=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel(Uh);"function"==typeof t.unref&&t.unref(),Oh(Rh,(e=>{Pd||t.postMessage(e)})),t.onmessage=t=>{t.data&&Id(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Oh(Rh,(t=>{try{Pd||("undefined"!=typeof localStorage&&localStorage.setItem(Uh,JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:Uh,changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{if(t.key===Uh){const e=JSON.parse(t.newValue);e&&Id(e.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:t}){t&&t.type===Uh&&Id(t.changedParts)}))}var Fd;uA.rejectionMapper=function(t,e){if(!t||t instanceof Lu||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Iu[t.name])return t;var n=new Iu[t.name](e||t.message,t);return"stack"in t&&jc(n,"stack",{get:function(){return this.inner.stack}}),n},gu(mu,rh);class kd extends Xa{constructor(t){super(),this.db=void 0,this.get=(t,e)=>new Promise((async(n,r)=>{try{if(this.db){const r=performance.now(),i=await this.db[t].where("key").equalsIgnoreCase(e).toArray(),o=performance.now();if(this.logger.info("CacheFactory get function cost time ==>",e,o-r),i&&i.length){const{value:t}=i[0];n(t)}}n(null)}catch(t){console.error(t),r(null)}})),this.put=(t,e,n)=>new Promise((async(r,i)=>{try{if(this.db){const i=performance.now();await this.db[t].put({key:n,value:e});const o=performance.now();this.logger.info("CacheFactory put function cost time ==>",o-i),r(n)}r(null)}catch(t){console.error(t),i(null)}})),Ga()&&(this.db=new Cd(t.name),this.db.version(t.version).stores({bundleBinaryCache:"key, value",modelCache:"key, value",generateCache:"key, value",mapStateCache:"key, value"})),this.logger.setLoggerDisabled(!1)}}Fd=kd,kd.cacheFactoryInstance=new Fd({name:"KTIndoorMap",version:3});class Rd extends Xa{constructor(t){super(),this.keyStore=void 0,this.instance=void 0,this.getItem=async t=>{try{if(Ga()&&void 0===this.instance[t]){const e=await kd.cacheFactoryInstance.get(this.keyStore,t);e&&(this.instance[t]=e)}return this.instance[t]}catch(e){return this.debug.isDevMode&&this.logger.error("getItem occur an error ==>",e),this.instance[t]}},this.setItem=async(t,e)=>{try{return Ga()&&await kd.cacheFactoryInstance.put(this.keyStore,e,t),this.instance[t]=e,!0}catch(t){return this.debug.isDevMode&&this.logger.error("setItem occur an error ==>",t),!1}},this.instance={},this.keyStore=t}arrayBufferToOctetStream(t){const e=new Uint8Array(t);let n="";for(let t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return`data:application/octet-stream;base64,${window.btoa(n)}`}getLocalUrl(t){const e=window.atob(t.split("data:application/octet-stream;base64,")[1]),n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);const i=URL.createObjectURL(new Blob([r]));return this.debug.isDevMode&&this.logger.info("getLocalUrl ==>",i),i}}class Ud extends Xa{constructor(t){super(),this.indoorMap2d=void 0,this.d3EditWrapperParams=void 0,this.selected=void 0,this.pointers=void 0,this.modelClickLock=void 0,this.currentClick=void 0,this.dataInfo=void 0,this.type=void 0,this.modelCache=void 0,this.origin=void 0,this.staticPrefix=void 0,this.onClickModel=void 0,this.onModelLoadingProgress=void 0,this.onLaserMapPoints=void 0,this.loader=void 0,this.dracoLoader=void 0,this.loadModelLayer=(t,e,n=!0,r="")=>(this.currentClick=-1,new Promise((async(i,o)=>{try{let{value:o}=t;const a=await this.modelCache.getItem(o);a&&(o=this.modelCache.getLocalUrl(a)),this.loader.load(o,(a=>{o=null;const s=this.origin;let l=n?30:e.point.z||0,c=n;if(!n&&this.indoorMap2d.map.d3EditMode&&(l=30,c=!0),a.arraybuffer){const e=this.modelCache.arrayBufferToOctetStream(a.arraybuffer);this.modelCache.setItem(t.value,e)}a.arraybuffer=new ArrayBuffer(0);const u=a.scene;u.type=It.indoorMapModel+r,this.changeMaterial(u);const A=this.calcScale(),h=e.scale||1;if(u.scale.set(A*h,A*h,A*h),u.rotateOnAxis(new $t.Vector3(1,0,0),Math.PI/2),r)u.position.set(0,0,0),i({layer:u});else{this.createModelEvent(u);const r=this.createEditWrapper(u,c);u.position.set(0,0,0),r.layer.add(u),r.layer.position.set(e.point.x+s.x,e.point.y+s.y,l),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,e.point),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,r.layer.position,s),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,r.layer.position),r.layer.scope.infoKey=e.infoKey||"",r.layer.scope.info=e.info,r.layer.scope.unionId=t.unionId,r.layer.scope.rotate=e.rotate,r.layer.scope.scale=e.scale,r.layer.scope.origin=e.origin,r.layer.scope.point={x:e.point.x,y:e.point.y},r.layer.scope.editable=n,r.layer.rotation.z=e.rotate,n||(r.hideLine(!0),r.hideVertex(!0)),i(r)}}),(t=>{const n=t.loaded/t.total*100;this.onModelLoadingProgress({key:e.infoKey,progress:n}),o=null}),(t=>{this.logger.error("loadModelLayer ==>",t),o=null,i(null)}))}catch(t){value=null,this.logger.error("loadModelLayer ==>",t),i(null)}}))),this.getModelSize=t=>(new $t.Box3).setFromObject(t).getSize(new $t.Vector3),this.getBoundingPoints=t=>{this.indoorMap2d.scene.updateMatrixWorld(!0);const e=new $t.Box3;e.setFromObject(t);const{min:n,max:r}=e,i={x:n.x-10,y:-(n.y-10)},o={x:r.x+10,y:-(n.y-10)},a={x:n.x-10,y:-(r.y+10)},s=[i,o,{x:r.x+10,y:-(r.y+10)},a];for(let e=0;e<s.length;e++){const n=s[e];n.x,t.position.x,n.y,t.position.y}return s},this.calcScale=(t=.3)=>(this.indoorMap2d.map.factor/t).toFixed(1),this.getModelRotationZ=t=>t.rotation.z,this.removeModelLayer=t=>{if(t){this.removeEditWrapperEvent(t),this.removeModelLayerEvent(t);const e=t.removeFromParent();return this.debug.isDevMode&&this.logger.info("Model has been remove ==>",null==e?void 0:e.id),this.dealloc(t),e?e.id:-1}},this.lockModelClick=t=>{this.modelClickLock=t},this.updateOrigin=t=>{this.origin=Object.assign({},t)},this.changeMaterial=t=>{t.children.length&&t.children.forEach((t=>{let e=null;e=this.indoorMap2d.checkOathPermission()?new $t.MeshPhongMaterial({color:14803425,specular:1118481,shininess:50,reflectivity:1}):new $t.MeshLambertMaterial({color:15856113}),t.material=e,t.type=It.indoorMapModel,this.changeMaterial(t)}))},this.createEditWrapper=(t,e)=>{const{content:n,vertex:r,box:i}=this.d3EditWrapperParams,o=void 0===i?1:(null==i?void 0:i.lineWidth)||1,a=void 0!==i&&((null==i?void 0:i.isDash)||!1),s=void 0===i?"#FF000000":(null==i?void 0:i.borderColor)||"#FF000000",{colorFormat:l,alpha:c}=this.argb2Rgb(s),u=void 0===i?"#00FFFFFF":(null==i?void 0:i.bgColor)||"#00FFFFFF",{colorFormat:A,alpha:h}=this.argb2Rgb(u),d=void 0===r||(null==r?void 0:r.showVertexImage)||!0,p=void 0!==n&&((null==n?void 0:n.deleteEnable)||!1),f=void 0===r?1:(null==r?void 0:r.vertexExtendTimes)||1,m=void 0===r?"circle":(null==r?void 0:r.vertexType)||"circle",g=void 0===r?"#FFFFFFFF":(null==r?void 0:r.vertexColor)||"#FFFFFFFF",{colorFormat:y,alpha:v}=this.argb2Rgb(g),_=[ss,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAI10lEQVR4Ae1cS2hVRxiepHmYm9woiYj1BdGkiouiVqwLrS5EQReiC3cVEnThorQg4saF4EYQInVRIRCL7qogCgq+0IggVowvEExTXZhoEGwEo0bzmv7feOZ0zsy598x5JfeWOzA5d+ac+R/fmfnnn3/mhLFSyotAWd676d4E73IngxPKUh5Ov5GRJpwsy6Jysv5IgSaDH8CooPyVk8PyBkDjTh6jK4BLPYUVMqxAAKXSyYLX2bNnv169evX3tbW1i6uqqloqKiqay8vLG8rKyrL0HDLSEOd8aGJiYnBsbOzvkZGR3g8fPvTcuXPnz+3btw98eUT0sFH6jTwpYDl8E7mgp2QoZxsaGuqfPXu2mRTsGB8f/4sUj5VAA7RAE7TBw+EFngWfIGQt5ez58+cXv3v37ggp1BcLkTyNQRs8wAs8Hd4FCRSGkugx165d+5becCcNj5E8uiV6C7zAE7wdoCALZCqIVEVSZPft2zf7/fv37STsaKLahyAG3pABskAmypBtyhKMrug1/f39O6i794fQJdVHIQtkIvmkfUp7MjJeAqbqum3btjVS1/4tVW1jEIdskBGyUobMk5JgBIURHh0d7Y4h/6Q0hYyKEU/dgAtwyB/5Ls3ZKWnkICtkxoulnBpIApzHjx//QMbwn6SVSJseZIbsaYGE8ZvFWyhGcCT4kF3pSYnZJMwAdRjHxTSsJCj6FTo4NgmGO/bsJqZyzATFYJB1MHKVoYszu8FNiZWEE1jIU3kuEILqoRMhE8uZhKuehcMVxKxY7yvOZKRlSQYuO43ZgvGQk34R0M1ZloQeamJKx7omaaEKjR50dIaar3+Uq2tV08q4KZPJ/BTLghVBY+gIXUnUaj9x/aY5IFlDRuxXatzq1yhO3fDwMDt48CB7+/Yt6+joCCRFb5itXbuW9fX1BT47Y8YMdv36dbZgwYLAZ9UHPn78+DtFOH+mumHKCOfmTRn4CeRUJR7PuXHjBm9ububZbJY/ffrUarQ9fPhQBvADr42NjZwMrxVd9SHo6vhGgbZIzFyI0qkEkvjd3t7OKe4slDx9+rQ1SVuA5syZw588eWJNV38QOlO3wbSfy+yIXlWNOG/SHvPx48fdt79jRzivwQagpqYmTjFqXedQZejsxLh9bZEcc3UIhoeiHPDwyZMn3Z5DOxi8p6cnoIX3tg1Ae/fu9TaKWILuBASWIL5JDC8yzh0R6RvNnj9/zqdNm+b2ntbWVuOZoAobgDB0z507F0Qq8D50J2RyDjOxrKCuFntrRkqydetWFxxizLu6uuQt66sNQKBdX18funfqQkB3ByDfWHYNbep9ozeKWr58+bIHnFmzZnESIDQ5P4AwVAGKnmlDMjR9vQEwILo1lI1U9+rVqx/1BlHLa9as8Siwc+fOSKR0gFatWsUfPHjAyUfz0CdtRDlKL1UFAwZEy7VDckqDw1iG7WADtggVb968Ybdv3/a0XLJkiaccpUCgM/J62bJly9iBAwd8SRw5gtk6enIwEHioVETEkLzcP1Q0o/7GzEXEPfnMmTORyMHxoz18vmHDBk5G1KXx+fNnTh6zhwd4wmDbOqEuMeUHMCA6MNQi4ih7kLjiIAHdiJ0uXLhg0Jg9G3t54dPcuXPZwMAAu3LlCqNh5RIg0FhbW5tblj9IV3bz5k1ZDH1VMBCYSIAEIZyyCE3RpwH5E0YtRfGMOtsKcuAY9QzjcQBEMhv19+/fN+psK3QMJHXBnYRA14qdhoaGDBo0JIy6uBXz589nK1euNMjEAUjBQGDiAYg4pQYQzQ6GIklU+AHU29sbh7TEwANQHIJGW4Q09NTd3a1XJVL2A6imxteNicRP9iDMBkjm2PhSH+pvS0uL8XxaAMGI66muznVj9Fs2ZYmBwMQDEM0A8qYNoZzPLF++3Lh379499vLlS6M+bgWt9QwScQBSMPAAJJhQ4GjQ4Bahwg8gWmYw8o8MasRTRBeNG5YVmO71tGjRIr3KuqxjIHuQOASJA5PWlPI8uG7dOt+7nZ2djHi49zDbrV+/nmGYwPuOkl6/fm0027Jli1FnW6FgIDDxAITTpLaE8j23dOlStmnTJuMRCn+wY8eOiXrEpMk7Zrdu3WIw6oOD0Tqv7nPBX9q8GWGdaEnBQACkUkl0sXr16lWMYSMjHv3o0SNO6ynPvbCBNLk62L17t4dO3BW9vlhVAUo03AEFVqxY4RFeAuYXrogCENkLPm/ePA+PixcvSuwiXfOFO2DtskkGzBBEpxnFo4AESb9GAeju3bse2jS0IoEiG/kFzKQNInm/7Ad9+vSpC4UkEmwRDHNa6dSpUy7pyspKdvToUbcc5Yei+38ziUYo8aA93s6ePXs8b5p4GuWwPejFixe8urrapUObkLIjRL4GBe2BVeLbPojN0KLSVcQPHNSFBWjXrl0uTey5xU00vKy2fTDkskltHCI0ilh0LlDU+jAAXbp0iVNYQtA9dOhQXGxEe9uNQ5KZJbL1jC2f6dOnW4EDoGwBoj16PnPmTBFNBFBJJJoNc249iyU9UFFSIocXEHLYuHEj84sNKbzEz4ULFwqHkWyKfsso79+/n1HolR0+fJjFWXOphOnwwgmKRf9CdVaHF9C2Fh+GELJT9t1FEj3DhgZ0hK7QGYrbJvSibOkAVX64Skfw8uMjjoGUDnEGgCSWH2QUC/aLHhs74/cMdIIZoWwGlAJA0W9nSgfJdUi8ZbgCpU8RvJgYJbE1XfqYxcDFUyGm/tLnUB5MjIIACT0Jizs/41eIdZBV+QwKOqSaBEg4NlsMXwBBRueIL2as1MGRyMMmlT7qlWjkuGJ2w3kU4UxSNw5/gjul8QhZlC95IKPfojyHWslWg7FwJgv4HwtMGTgq1Ai0id6ElTF5qScQY0mpgxhkwQs8nVU5bA1kUePtqqxT+htGEGGD0j83CXgNAEr0KBzvRzCc3nBR/nuctMcnunlR/4OltAFSOxrAQs+Ci4Acljfi2/+7f9FFOuVMAAigSWOKsgRNBvvRGIcIkFFXSoWGwL9LRFyOvWgSxgAAAABJRU5ErkJggg==",ls,as],w=void 0===r?6:(null==r?void 0:r.radius)||6,b=void 0===r?_:(null==r?void 0:r.vertexImages)||_,x=[-1,1,-1,3];!p&&(x[3]=-1);const M=this.getBoundingPoints(t),L={opacity:h,color:A,is3d:!1,lineParams:{lineWidth:o,isDash:a,color:l,opacity:c},transparent:!0,noText:!0,unitText:"0.0m",noUnitText:!0,vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),radius:w,showVertexImage:d,vertexImages:b,vertexExtendTimes:f,vertexType:m,vertexColor:y,opacity:v,vertexEvents:[t=>{},(e,n,r)=>{if(!e)return;const i=this.indoorMap2d;if(r===i.eventTap){const e=i.intersection;i.intersection=i.intersection.scope.layer,i.intersection.intersectionCopy=e;const r=new $t.Vector3(i.intersection.position.x-this.indoorMap2d.map.center.x,i.intersection.position.z,-i.intersection.position.y+this.indoorMap2d.map.center.y);i.intersection.center=i.worldToScreen(r),i.intersection.transformRotate=!0,i.intersection.draggerEnable=!1,i.intersection.startPosition=new $t.Vector2(n.mouseClient.x,n.mouseClient.y),t.angle=0,i.intersection.angleStart=i.rotateAngle(i.intersection.startPosition,i.intersection.center)}if(r===i.eventTapMove){i.intersection.endPosition=new $t.Vector2(n.mouseClient.x,n.mouseClient.y),i.intersection.angleEnd=i.rotateAngleByLength(i.intersection.startPosition,i.intersection.endPosition,i.intersection.center);const t=i.calculateDirection(new $t.Vector2(i.intersection.startPosition.x,i.intersection.startPosition.y),new $t.Vector2(i.intersection.endPosition.x,i.intersection.endPosition.y),new $t.Vector2(i.intersection.center.x,i.intersection.center.y));let e=i.intersection.angleEnd;i.intersection.angle=t<0?e:-e,i.intersection.rotateZ(.02*i.intersection.angle),i.intersection.startPosition=(new $t.Vector2).copy(i.intersection.endPosition)}const o=this.getInfo(e.scope.layer,"rotate");this.onLaserMapPoints(o,"rotate")},t=>{},t=>{if(!t)return;const e=this.getInfo(t.layer,"remove");e.target&&this.indoorMap2d.map.removeModelLayer(e.target),this.onLaserMapPoints(e,"remove")}],showVertexIndex:x},points:M,height:e?30:.1,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},C=new Ml(L);return this.createEditWrapperEvent(C.layer),t.editWrapper=C.layer,this.currentClick=C.layer.id,C.modelLayer=t,C.layer.modelLayer=t,C},this.createEditWrapperEvent=t=>{this.removeEditWrapperEvent(t);const e=t.scope,n=this.indoorMap2d,r=e.vertexLayers[0],i=e.vertexLayers[1],o=e.vertexLayers[3];t&&n.dispatchEvent(t),r&&n.dispatchEvent(r),o&&n.dispatchEvent(o),i&&n.dispatchEvent(i),null==o||o.$on(n.eventTap,((t,e)=>{try{const e=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!e)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}}catch(t){this.logger.error("delete event error ==>",t)}})),null==i||i.$on(n.eventTap,((t,e,r)=>{try{const i=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!i)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){this.indoorMap2d.setIsEnablePan(!1);const n=t.userIndex,i=t.scope.vertexEvents[n];"function"==typeof i&&i(t,e,r)}}catch(t){this.logger.error("rotate event error ==>",t)}})),null==i||i.$on(n.eventTapMove,((t,e,r)=>{try{const i=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!i)return void(t.draggerEnable=!1);if(!t.intersectionCopy)return;if(t.intersectionCopy.type===It.indoorMapPolygonLayerCircle){const n=t.intersectionCopy.userIndex,i=t.intersectionCopy.scope.vertexEvents[n];"function"==typeof i&&i(t,e,r)}}catch(t){this.logger.error("rotate event error ==>",t)}})),null==r||r.$on(n.eventTap,((t,e,r)=>{try{if(!n.map.d3EditMode)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){t.draggerEnable=!1;const n=t.userIndex,i=t.scope.vertexEvents[n];"function"==typeof i&&i(t,e,r)}}catch(t){this.logger.error("edit event error ==>",t)}})),null==t||t.$on(n.eventTap,((t,e)=>{try{if(n.map.d3EditMode&&this.currentClick===t.id||t.childCopy&&(t.childCopy.draggerEnable=!1),!n.map.d3EditMode)return;if(this.modelClickLock)return;this.indoorMap2d.setIsEnablePan(!1);const e=n.map.getModelInfo(t.id);void 0!==e.target&&(n.map.getModelLayerList().forEach((e=>{const n=e.layer;Number(n.id)!==Number(t.id)?(n.scope.hideLine&&n.scope.hideLine(!0),n.scope.hideVertex&&n.scope.hideVertex(!0)):(n.scope.hideLine&&n.scope.hideLine(!1),n.scope.hideVertex&&n.scope.hideVertex(!1))})),this.onClickModel(e),this.currentClick=t.id)}catch(t){this.logger.error("createEditWrapperEvent ==>",t)}})),null==t||t.$on(n.eventTapMove,((t,e)=>{n.map.d3EditMode||t.childCopy&&(t.childCopy.draggerEnable=!1);const r=this.getInfo(t.scope.layer,"move");this.onLaserMapPoints(r,"move")}))},this.createModelEvent=t=>{this.removeModelLayerEvent(t);const e=this.indoorMap2d;e.dispatchEvent(t),t.$on(e.eventTap,((t,n)=>{try{const n=t.parent.editWrapper||t.editWrapper,r=n.id;if(!n)return;if(e.map.d3EditMode&&this.currentClick===t.id||n.childCopy&&(n.childCopy.draggerEnable=!1),!e.map.d3EditMode)return;if(this.modelClickLock)return;const i=e.map.getModelInfo(r);void 0!==i.target&&(e.map.getModelLayerList().forEach((t=>{const e=t.layer;Number(e.id)!==Number(r)?(e.scope.hideLine&&e.scope.hideLine(!0),e.scope.hideVertex&&e.scope.hideVertex(!0)):(e.scope.hideLine&&e.scope.hideLine(!1),e.scope.hideVertex&&e.scope.hideVertex(!1))})),this.currentClick=r,this.onClickModel(i))}catch(t){this.logger.error("createModelEvent",t)}}))},this.removeModelLayerEvent=t=>{const e=t.modelLayer||t;e&&"function"==typeof e.$off&&e.$off(this.indoorMap2d.eventTapUp)},this.removeEditWrapperEvent=t=>{const e=t.scope,n=this.indoorMap2d;if(!e.vertexLayers)return null;const r=e.vertexLayers[0],i=e.vertexLayers[2],o=e.vertexLayers[3];o&&"function"==typeof o.$off&&o.$off(n.eventTap),i&&"function"==typeof i.$off&&i.$off(n.eventTap),i&&"function"==typeof i.$off&&i.$off(n.eventTapMove),r&&"function"==typeof r.$off&&r.$off(n.eventTap),t&&"function"==typeof t.$off&&(t.$off(n.eventTap),t.$off(n.eventTapMove))},this.dispose=()=>{this.dracoLoader&&this.dracoLoader.dispose()},this.getInfo=(t,e)=>{if(t){this.indoorMap2d.scene.updateMatrixWorld(!0);const n=this.getModelRotationZ(t),r=t.scope,i={infoKey:r.infoKey,info:r.info,point:{x:Number(t.position.x),y:Number(t.position.y),z:0},rotate:n,scale:r.scale,origin:r.origin,unionId:r.unionId,target:t.id},o={operation:e,target:t.id,type:this.type,data:i};return this.dataInfo=o,o}return{}},this.argb2Rgb=t=>{const e=new $t.Color;if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const n="0x"+t.slice(3),r=Number((parseInt(t.slice(1,3),16)/255).toFixed(2));return e.setHex(Number(n)),{colorFormat:e.lerp(e,r),alpha:Number(r)}}return e.setHex(Number("0xffffff")),{colorFormat:e.lerp(e,1),alpha:1}},this.dealloc=t=>{try{if(null!==t){if("function"==typeof t.removeFromParent&&t.removeFromParent(),t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.dealloc(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&(t.material.bumpMap.dispose(),t.material.bumpMap=void 0),t.material.envMap&&(t.material.envMap.dispose(),t.material.envMap=void 0),t.material.lightMap&&(t.material.lightMap.dispose(),t.material.lightMap=void 0),t.material.map&&(t.material.map.dispose(),t.material.map=void 0),t.material.normalMap&&(t.material.normalMap.dispose(),t.material.normalMap=void 0),t.material.specularMap&&(t.material.specularMap.dispose(),t.material.specularMap=void 0),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t&&"function"==typeof t.dispose&&t.dispose(),t&&"function"==typeof t.clear&&t.clear()}catch(t){this.logger.error("dealloc function occur error ==>",t)}},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.staticPrefix=t.staticPrefix||"",this.origin=t.origin||{x:0,y:0},this.d3EditWrapperParams=t.d3EditWrapperParams||{},this.modelClickLock=!1,this.pointers=[],this.currentClick=-1,this.type=t.type||Nt.D3Model,this.modelCache=new Rd("modelCache"),this.onClickModel=t.onClickModel||(()=>{this.logger.warn("It seems not setup onClickModel function")}),this.onModelLoadingProgress=t.onModelLoadingProgress||(()=>{this.logger.warn("It seems not setup onModelLoadingProgress function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.loader=new Wl,this.dracoLoader=new Ic,this.dracoLoader.setDecoderPath(this.staticPrefix+"/robot/js/"),this.dracoLoader.setDecoderConfig({type:"js"}),this.loader.setDRACOLoader(this.dracoLoader),this.loader.setCrossOrigin("anonymous")}}class Od extends Xa{constructor(t){super(),this.renderingElement=void 0,this.context=void 0,this.renderingId=void 0,this.width=void 0,this.height=void 0,this.pixelRatio=void 0,this.lineWidth=void 0,this.strokeStyle=void 0,this.textBaseline=void 0,this.fillStyle=void 0,this.font=void 0,this.textAlign=void 0,this.shadowOffsetX=void 0,this.shadowOffsetY=void 0,this.shadowColor=void 0,this.init=t=>{this.pixelRatio=t.pixelRatio||2,this.width=t.width||0,this.height=t.height||0,this.renderingId=t.renderingId||(new Date).getTime(),this.renderingElement=document.createElement("canvas"),this.renderingElement.style.width=this.width+"px",this.renderingElement.style.height=this.height+"px",this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.height=this.height*this.pixelRatio,this.context=this.renderingElement.getContext("2d",{willReadFrequently:!0}),this.context&&this.context.scale(this.pixelRatio,this.pixelRatio)},this.getRenderingId=()=>this.renderingId,this.getRenderingElement=()=>this.renderingElement,this.getRenderingContext=()=>this.context,this.setPixelRatio=t=>{this.pixelRatio=t,this.context&&(this.context.resetTransform(),this.context.scale(this.pixelRatio,this.pixelRatio))},this.setWidth=t=>{this.width=t,this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.style.width=this.width+"px"},this.setHeight=t=>{this.height=t,this.renderingElement.height=this.height*this.pixelRatio,this.renderingElement.style.height=this.height+"px"},this.getWidth=()=>this.width*this.pixelRatio,this.getHeight=()=>this.height*this.pixelRatio,this.getStyleWidth=()=>this.width,this.getStyleHeight=()=>this.height,this.setFont=t=>{this.font=t,this.context&&(this.context.font=this.font)},this.setTextAlign=t=>{this.textAlign=t,this.context&&(this.context.textAlign=this.textAlign)},this.setLineWidth=t=>{this.lineWidth=t,this.context&&(this.context.lineWidth=this.lineWidth)},this.setStrokeStyle=t=>{this.strokeStyle=t,this.context&&(this.context.strokeStyle=this.strokeStyle)},this.setTextBaseLine=t=>{this.textBaseline=t,this.context&&(this.context.textBaseline=this.textBaseline)},this.setFillStyle=t=>{this.fillStyle=t,this.context&&(this.context.fillStyle=this.fillStyle)},this.setShadowOffsetX=t=>{this.shadowOffsetX=t,this.context&&(this.context.shadowOffsetX=t)},this.setShadowOffsetY=t=>{this.shadowOffsetY=t,this.context&&(this.context.shadowOffsetY=t)},this.setShadowColor=t=>{this.shadowColor=t,this.context&&(this.context.shadowColor=t)},this.strokeText=(t,e,n,r)=>{this.context&&this.context.strokeText(t,e,n,r)},this.stroke=()=>{this.context&&this.context.stroke()},this.fillText=(t,e,n,r)=>{this.context&&this.context.fillText(t,e,n,r)},this.measureTextWidth=t=>{if(this.context)return this.context.measureText(t||"").width},this.getTextMetrics=t=>{if(this.context)return this.context.measureText(t||"")},this.beginPath=()=>{this.context&&this.context.beginPath()},this.moveTo=(t,e)=>{this.context&&this.context.moveTo(t,e)},this.lineTo=(t,e)=>{this.context&&this.context.lineTo(t,e)},this.closePath=()=>{this.context&&this.context.closePath()},this.arc=(t,e,n,r,i,o)=>{this.context&&this.context.arc(t,e,n,r,i,o)},this.fill=t=>{this.context&&this.context.fill(t)},this.fillRect=(t,e,n,r)=>{this.context&&this.context.fillRect(t,e,n,r)},this.drawImage=(t,e,n,r,i)=>{this.context&&this.context.drawImage(t,e,n,r,i)},this.drawImageInRange=(t,e,n,r,i,o,a,s,l)=>{this.context&&this.context.drawImage(t,e,n,r,i,o,a,s,l)},this.putImageData=(t,e,n)=>{this.context&&this.context.putImageData(t,e,n)},this.getImageData=(t,e,n,r)=>{if(this.context)return this.context.getImageData(t,e,n,r)},this.clearRenderingContext=()=>{this.context&&this.context.clearRect(0,0,this.width,this.height)},this.disposeRendering2D=()=>{var t;this.clearRenderingContext(),this.context=null,null==(t=this.renderingElement)||t.remove(),this.renderingElement=null},this.init(t)}}class Hd extends Xa{constructor(t){super(),this.is3d=void 0,this.renderingElement=void 0,this.renderingElement2d=void 0,this.isWebGLContextLost=void 0,this.context=void 0,this.context2d=void 0,this.program=void 0,this.renderingId=void 0,this.width=void 0,this.height=void 0,this.pixelRatio=void 0,this.clearColor=void 0,this.clearColor2d=void 0,this.errorCode=void 0,this.colorBuffer=void 0,this.positionBuffer=void 0,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.errorCode=0,this.is3d=void 0===t.is3d||t.is3d,this.pixelRatio=t.pixelRatio||2,this.width=t.width||0,this.height=t.height||0,this.isWebGLContextLost=!1,this.clearColor=t.clearColor||[1,1,1,0],this.clearColor2d=t.clearColor2d||[1,1,1,0],this.renderingId=t.renderingId||(new Date).getTime(),this.renderingElement2d=document.createElement("canvas"),this.is3d&&(this.renderingElement=document.createElement("canvas"),this.renderingElement.style.width=this.width+"px",this.renderingElement.style.height=this.height+"px",this.renderingElement2d.style.width=this.width+"px",this.renderingElement2d.style.height=this.height+"px",this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.height=this.height*this.pixelRatio,this.context=this.renderingElement.getContext("webgl")||this.renderingElement.getContext("experimental-webgl"),this.registerContextEvent(),this.context?(Array.isArray(this.clearColor)&&this.context.clearColor(...this.clearColor),this.context.isEnabled(this.context.SAMPLE_ALPHA_TO_COVERAGE)&&this.context.enable(this.context.SAMPLE_ALPHA_TO_COVERAGE),this.program=this.context.createProgram()):this.logger.warn("Your browser does not support gl")),this.renderingElement2d.width=this.width*this.pixelRatio,this.renderingElement2d.height=this.height*this.pixelRatio,this.context2d=this.renderingElement2d.getContext("2d"),this.context2d.scale(this.pixelRatio,this.pixelRatio),this.colorBuffer=null,this.positionBuffer=null},this.onContextLost=t=>{t.preventDefault(),this.isWebGLContextLost=!0,this.debug.isDevMode&&this.logger.error("IRendering3D onContextLost")},this.onContextRestored=t=>{t.preventDefault(),this.isWebGLContextLost=!1,this.debug.isDevMode&&this.logger.error("IRendering3D onContextLost")},this.registerContextEvent=()=>{this.renderingElement&&(this.renderingElement.addEventListener("webglcontextlost",this.onContextLost,!1),this.renderingElement.addEventListener("webglcontextrestored",this.onContextRestored,!1))},this.removeContextEvent=()=>{this.renderingElement&&(this.renderingElement.removeEventListener("webglcontextlost",this.onContextLost,!1),this.renderingElement.removeEventListener("webglcontextrestored",this.onContextRestored,!1))},this.initDrawPointsProgram=(t,e)=>{if(this.context){const n=this.context.createShader(this.context.VERTEX_SHADER);this.context.shaderSource(n,t),this.context.compileShader(n),this.context.getShaderParameter(n,this.context.COMPILE_STATUS)||this.logger.warn("Compile vertex occur an error",this.context.getShaderInfoLog(n));const r=this.context.createShader(this.context.FRAGMENT_SHADER);this.context.shaderSource(r,e),this.context.compileShader(r),this.context.getShaderParameter(r,this.context.COMPILE_STATUS)||this.logger.warn("Compile fragment occur an error",this.context.getShaderInfoLog(r)),this.context.attachShader(this.program,n),this.context.attachShader(this.program,r),this.context.linkProgram(this.program),this.context.getProgramParameter(this.program,this.context.LINK_STATUS)||this.logger.warn("Link program occur an error",this.context.getProgramInfoLog(this.program)),this.context.useProgram(this.program)}},this.detectWhiteScreenWithPixel=t=>{const e=new Set(t.data),n=Array.from(e);return!(1!==n.length&&2!==n.length||0!==n[0]&&1!==n[0])},this.getRenderingId=()=>this.renderingId,this.getRenderingElement=()=>this.renderingElement,this.getRenderingElement2d=()=>this.renderingElement2d,this.getRenderingContext=()=>this.context,this.getRenderingContext2d=()=>this.context2d,this.setPixelRatio=t=>{this.pixelRatio=t},this.setWidth=t=>{this.width=t,this.renderingElement&&(this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.style.width=this.width+"px"),this.renderingElement2d&&(this.renderingElement2d.width=this.width*this.pixelRatio,this.renderingElement2d.style.width=this.width+"px")},this.setHeight=t=>{this.height=t,this.renderingElement&&(this.renderingElement.height=this.height*this.pixelRatio,this.renderingElement.style.height=this.height+"px"),this.renderingElement2d&&(this.renderingElement2d.height=this.height*this.pixelRatio,this.renderingElement2d.style.height=this.height+"px")},this.getWidth=()=>this.width*this.pixelRatio,this.getHeight=()=>this.height*this.pixelRatio,this.getStyleWidth=()=>this.width,this.getStyleHeight=()=>this.height,this.setClearColor=t=>{this.clearColor=t,Array.isArray(this.clearColor)&&4===this.clearColor.length&&this.context&&this.context.clearColor(...this.clearColor)},this.setClearColor2d=t=>{this.clearColor2d=t,Array.isArray(this.clearColor2d)&&4===this.clearColor2d.length&&this.context2d&&(this.context2d.fillStyle=`rgba(${parseInt(255*t[0])}, ${parseInt(255*t[1])}, ${parseInt(255*t[2])}, ${t[3]})`,this.context2d.fillRect(0,0,this.renderingElement2d.width,this.renderingElement2d.height))},this.clearRenderingContext=()=>{this.context&&this.context.clear(this.context.COLOR_BUFFER_BIT),this.clearRenderingContext2d()},this.clearRenderingContext2d=()=>{this.context2d&&this.context2d.clearRect(0,0,this.width,this.height)},this.initDrawPointSource=()=>{this.initDrawPointsProgram("\n\t\t\t\tprecision lowp float;\n\t\t\t\tattribute vec3 a_position;\n\t\t\t\tattribute float a_pointSize;\n\t\t\t\tattribute float a_alpha;\n\t\t\t\tattribute vec3 a_screenSize;\n\t\t\t\tattribute vec3 a_color;\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec3 position = (a_position / a_screenSize) * 2.0 - 1.0;\n\t\t\t\t\tposition = position * vec3(1.0, 1.0, 0.0);\n\t\t\t\t\tgl_Position = vec4(position, 1.0);\n\t\t\t\t\tv_color = vec4(a_color, a_alpha);\n\t\t\t\t\tgl_PointSize = a_pointSize;\n\t\t\t\t}\n\t\t","\n\t\t\t\tprecision mediump float;\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 color = v_color;\n\t\t\t\t\tgl_FragColor = color;\n\t\t\t\t}\n\t\t")},this.drawPoints=(t,e,n=1)=>{try{if(this.context&&this.program)if(0===this.errorCode){if(!this.isWebGLContextLost){this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height);const r=t.map((t=>Math.abs(t)));let i=!1,o=!1;if(!this.colorBuffer){this.colorBuffer=this.context.createBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.colorBuffer),i=!0;const t=new Float32Array(e);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW),o=!0;const n=this.context.getAttribLocation(this.program,"a_color");this.context.enableVertexAttribArray(n),this.context.vertexAttribPointer(n,3,this.context.FLOAT,!1,0,0)}if(!this.positionBuffer){this.positionBuffer=this.context.createBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.positionBuffer);const t=new Float32Array(r);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW);const e=this.context.getAttribLocation(this.program,"a_position");this.context.enableVertexAttribArray(e),this.context.vertexAttribPointer(e,3,this.context.FLOAT,!1,0,0)}if(this.screenSize||(this.screenSize=this.context.getAttribLocation(this.program,"a_screenSize"),this.context.vertexAttrib3f(this.screenSize,this.renderingElement.width/this.pixelRatio,this.renderingElement.height/this.pixelRatio,1)),this.pointSizeAttributeLocation||(this.pointSizeAttributeLocation=this.context.getAttribLocation(this.program,"a_pointSize"),this.context.vertexAttrib1f(this.pointSizeAttributeLocation,1*this.pixelRatio)),this.alphaAttributeLocation||(this.alphaAttributeLocation=this.context.getAttribLocation(this.program,"a_alpha"),this.context.vertexAttrib1f(this.alphaAttributeLocation,1*n)),!i){const t=new Float32Array(e);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW)}if(!o){const t=new Float32Array(r);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW)}const a=t.length/3;this.context.drawArrays(this.context.POINTS,0,a);const s=this.context.getError();0!==s&&(this.logger.warn("Get GL Error",s),this.errorCode=s,this.drawPointsWith2d(t,e,n,!0))}}else this.drawPointsWith2d(t,e,n,!0)}catch(t){this.logger.error("drawPoints occur an error =>",t)}},this.drawPointsWith2d=(t,e,n=1,r=!0)=>{if(this.context2d){const i=this.pixelRatio,o=performance.now(),a=e[0],s=e[1],l=e[2];this.context2d.fillStyle=`rgba(${parseInt(255*a)}, ${parseInt(255*s)}, ${parseInt(255*l)}, ${n})`;for(let e=0,n=t.length;e<n;e+=3){const n=Math.abs(t[e]),o=r?this.height-Math.abs(t[e+1]):Math.abs(t[e+1]);this.context2d.fillRect(n*i,o*i,i,i)}const c=performance.now();this.debug.isDevMode&&this.logger.info("drawPointsWith2d cost time ==>",c-o+" / ms")}},this.getCurrentErrorCode=()=>this.errorCode,this.toCanvas2d=(t=!0)=>{if(this.is3d&&this.context2d&&0===this.errorCode){const e=performance.now();if(t)this.context2d.drawImage(this.renderingElement,0,0,this.renderingElement.width,this.renderingElement.height);else{let t=new Uint8Array(this.renderingElement2d.width*this.renderingElement2d.height*4);this.context.readPixels(0,0,this.renderingElement.width,this.renderingElement.height,this.context.RGBA,this.context.UNSIGNED_BYTE,t);const e=this.context2d.createImageData(this.renderingElement2d.width,this.renderingElement2d.height);e.data.set(t),this.context2d.putImageData(e,0,0)}const n=performance.now();this.debug.isDevMode&&this.logger.info("toCanvas2d cost time ==>",n-e+" / ms")}return this.renderingElement2d},this.toDataURL=(t="image/png",e=1)=>{let n="data:,";return this.is3d?this.renderingElement&&(n=this.renderingElement.toDataURL(t,e)):this.renderingElement2d&&(n=this.renderingElement2d.toDataURL(t,e)),n},this.disposeRendering3D=()=>{if(this.renderingElement){if(this.clearRenderingContext(),this.context){this.context.bindBuffer(this.context.ARRAY_BUFFER,null),this.context.deleteBuffer(this.colorBuffer),this.context.deleteBuffer(this.positionBuffer);const t=this.context.getExtension("WEBGL_lose_context");t&&t.loseContext(),this.context=null,this.logger.info("dispose IRendering3D")}this.removeContextEvent(),this.renderingElement.remove(),this.renderingElement=null}},this.disposeRendering2D=()=>{this.renderingElement2d&&(this.clearRenderingContext2d(),this.context2d=null,this.renderingElement2d.remove(),this.renderingElement2d=null)},this.init(t)}}function Yd(t){const e=t.sizes.shift(),n=Math.max(Math.ceil(e[0]),1),r=Math.max(Math.ceil(e[1]),1),i=[n-1,r-1,1,1],o=Date.now(),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,s="undefined"!=typeof OffscreenCanvas;let l,c;a&&s?(l=new OffscreenCanvas(1,1),c=new OffscreenCanvas(n,r)):(l=document.createElement("canvas"),l.width=1,l.height=1,c=document.createElement("canvas"),c.width=n,c.height=r);const u=l.getContext("2d"),A=c.getContext("2d");A&&(A.fillRect.apply(A,i),u.drawImage(c,n-1,r-1,1,1,0,0,1,1));const h=u&&0!==u.getImageData(0,0,1,1).data[3],d=Date.now()-o;return a?(postMessage({width:n,height:r,benchmark:d,isTestPass:h}),!h&&t.sizes.length&&Yd(t)):h?t.onSuccess(n,r,d):(t.onError(n,r,d),t.sizes.length&&Yd(t)),h}const Qd={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},Nd={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},jd={};function Wd(t){const e=t.width===t.height,n=1===t.height,r=1===t.width,i=[];if(t.width&&t.height){const o=t.min||Nd.min,a=t.step||Nd.step;let s=Math.max(t.width,t.height);for(;s>=o;){const t=e||n?s:1,o=e||r?s:1;i.push([t,o]),s-=a}}else t.sizes.forEach((t=>{const o=e||n?t:1,a=e||r?t:1;i.push([o,a])}));return i}function Vd(t){const e=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),{onError:i,onSuccess:o,...a}=t;let s=null;if(!e)return!1;if(t.useWorker&&n){const t=`\n\t\t\t\t\t\tvar canvasTest = ${Yd.toString()};\n\t\t\t\t\t\tonmessage = function(e) {\n\t\t\t\t\t\t\t\tcanvasTest(e.data);\n\t\t\t\t\t\t};\n\t\t\t\t`,e=new Blob([t],{type:"application/javascript"}),n=URL.createObjectURL(e);s=new Worker(n),URL.revokeObjectURL(n),s.onmessage=function(t){const{width:e,height:n,benchmark:i,isTestPass:o}=t.data;o?(jd[r].onSuccess(e,n,i),delete jd[r]):jd[r].onError(e,n,i)}}return t.usePromise?new Promise(((e,n)=>{const l={...t,onError(e,r,o){let a;if(0===t.sizes.length)a=!0;else{const[[n,i]]=t.sizes.slice(-1);a=e===n&&r===i}i(e,r,o),a&&n({width:e,height:r,benchmark:o})},onSuccess(t,n,r){o(t,n,r),e({width:t,height:n,benchmark:r})}};if(s){const{onError:t,onSuccess:e}=l;jd[r]={onError:t,onSuccess:e},s.postMessage(a)}else Yd(l)})):s?(jd[r]={onError:i,onSuccess:o},void s.postMessage(a)):Yd(t)}const zd={maxArea(t={}){const e=Wd({width:t.max,height:t.max,min:t.min,step:t.step,sizes:[...Qd.area]});return Vd({...Nd,...t,sizes:e})},maxHeight(t={}){const e=Wd({width:1,height:t.max,min:t.min,step:t.step,sizes:[...Qd.height]});return Vd({...Nd,...t,sizes:e})},maxWidth(t={}){const e=Wd({width:t.max,height:1,min:t.min,step:t.step,sizes:[...Qd.width]});return Vd({...Nd,...t,sizes:e})},test(t={}){const e={...Nd,...t};return e.sizes=[...e.sizes],e.width&&e.height&&(e.sizes=[[e.width,e.height]]),Vd(e)}};let Gd="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('FluorescenceWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'render') {\n\t\t\toffScreenRender(msg.data)\n\t\t}\n\n\t\tif (msg.data.name === 'resize') {\n\t\t\tcanvasResize(msg.data);\n\t\t}\n\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t}\n\t\t\tconsole.log('FluorescenceWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\tconst canvasResize = (data) => {\n\t\t\tconst { canvas, parameters } = data;\n\t\t\tif (!_canvasStore) {\n\t\t\t\t_canvasStore = canvas;\n\t\t\t}\t\n\t\t\tif (!_canvasStore) {\n\t\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide an offscreenCanvas\tparams');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\tif (!context) {\n\t\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide canvas element params');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { radio } = parameters;\n\t\t\tcontext.scale(radio, radio);\n\t} \n\n\tconst offScreenRender = (data) => {\n\t\tconst { canvas, parameters, init } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide an offscreenCanvas params');\n\t\t\treturn;\n\t\t}\n\n\t \n\t\tconst context = _canvasStore.getContext('2d');\n\n\t\tif (!context) {\n\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide canvas element params');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { size, points, radio, width, height, color, shadowColor, shadowSize } = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\tif (init) {\n\t\t\tcontext.scale(radio, radio);\n\t\t}\n\t\tcontext.clearRect(0, 0, _width, _height);\n\n\t\tcontext.beginPath();\n\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\tcontext.fillStyle = color;\n\t\t\tcontext.shadowColor = shadowColor;\n\t\t\tcontext.shadowBlur = shadowSize;\n\t\t\tcontext.fillRect(points[i].x, points[i].y, size, size);\n\t\t\tcontext.fill();\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\tself.postMessage('update');\n\t\t});\n\t}\n\n}";Gd=Gd.substring(Gd.indexOf("{")+1,Gd.lastIndexOf("}"));const Kd=new Blob([Gd],{type:"application/javascript"}),Zd=2500;class Xd extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.canvas=void 0,this.width=void 0,this.height=void 0,this.class=void 0,this.type=void 0,this.points=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.useWorker=void 0,this.positionHeight=void 0,this.color=void 0,this.shadowColor=void 0,this.shadowSize=void 0,this.texture=void 0,this.createFluorescence=()=>{try{const t=this.indoorMap2d.pixelRatio;let e=!1;if(e=this.width*t<Zd||this.height*t<Zd||zd.test({width:this.width*t,height:this.height*t}),e){this.canvas.width=this.width*t,this.canvas.height=this.height*t,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px";const e=this.drawFluorescence();return e.type=It.indoorMapFluorescenceLayer,e.userData.enableFilter=!0,this.dispatchScope(e),e}return null}catch(t){return this.logger.error("createFluorescence occur error",t),null}},this.drawFluorescence=()=>{const t=this.indoorMap2d.pixelRatio;if(this.worker){this.offScreenCanvas=this.canvas.transferControlToOffscreen();const e={points:this.points,radio:t,size:1,shadowColor:this.shadowColor,shadowSize:this.shadowSize,color:this.color,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:e,init:!0},[this.offScreenCanvas]),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const e=this.canvas.getContext("2d");if(e.scale(t,t),e){e.clearRect(0,0,this.canvas.width,this.canvas.height),e.beginPath();for(let t=0;t<this.points.length;t++)e.fillStyle=this.color,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowSize,e.fillRect(this.points[t].x,this.points[t].y,1,1),e.fill()}}this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const e=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1}),n=new $t.PlaneGeometry(this.width,this.height);return new $t.Mesh(n,e)},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideFluorescence=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.updateFluorescence=t=>{try{this.color=t.color,this.shadowColor=t.shadowColor,this.shadowSize=t.shadowSize,this.points=t.points;const e=this.indoorMap2d.pixelRatio,n=()=>{if(this.worker){const t={points:this.points,radio:e,size:1,shadowColor:this.shadowColor,shadowSize:this.shadowSize,color:this.color,width:this.canvas.width,height:this.canvas.height};this.logger.info("thread start update carpet"),this.worker.postMessage({name:"render",parameters:t})}else{const t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.beginPath();for(let e=0;e<this.points.length;e++)t.fillStyle=this.color,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowSize,t.fillRect(this.points[e].x,this.points[e].y,1,1),t.fill()}if(this.layer)if(this.texture){const t=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const t=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1});this.layer.material=t}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let r=!1;if(r=this.width*e<Zd||this.height*e<Zd||zd.test({width:this.width*e,height:this.height*e}),r&&(this.canvas.width=this.width*e,this.canvas.height=this.height*e,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.worker?this.worker.postMessage({name:"resize",canvas:this.offScreenCanvas,parameters:{radio:e}}):this.canvas.getContext("2d").scale(e,e),n(),this.layer)){const t=new $t.PlaneGeometry(this.width,this.height);this.layer.geometry=t}}else n()}catch(t){this.logger.error("updateFluorescence ==>",t)}},this.receiveRemoveEvt=()=>{this.worker&&(Ya(`${this.indoorMap2d.getUnionId()}_Fluorescence_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.canvas=null,this.worker=void 0,this.workerStatus=!1)},this.removeFluorescence=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{Oa(`${this.indoorMap2d.getUnionId()}_Fluorescence_remove`,(()=>{this.logger.info("Fluorescence has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{t(this.remove())})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="fluorescence",this.indoorMap2d=t.indoorMap2d,this.type=t.type||Nt.Fluorescence,this.width=t.width||0,this.height=t.height||0,this.workerStatus=!1,this.positionHeight=0,this.useWorker=void 0===t.useWorker||t.useWorker,this.canvas=document.createElement("canvas"),Va(this.indoorMap2d.env)&&za(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Ka(Kd)),this.points=t.points||[],this.shadowColor=t.shadowColor,this.color=t.color,this.shadowSize=t.shadowSize,this.layer=this.createFluorescence()}}class qd extends rs{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.floorColor=void 0,this.depth=void 0,this.points=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.framePoints=void 0,this.pointsList=void 0,this.showTexture=void 0,this.image=void 0,this.rendering=void 0,this.detectedRendering=void 0,this.object=void 0,this.floorMaterial=void 0,this.layerSetting=void 0,this.init=()=>{this.object=new $t.Object3D;const t=this.color,e=this.floorColor,{colorFormat:n,alpha:r}=this.argb2Rgb(t),{colorFormat:i,alpha:o}=this.argb2Rgb(e),a={depth:this.depth,bevelEnabled:!1};if(this.floorMaterial=new $t.MeshBasicMaterial({color:i,opacity:o,transparent:!0}),this.floorMaterial.needsUpdate=!0,this.layerSetting=new $t.MeshLambertMaterial({color:n,opacity:r,transparent:!0}),this.showTexture){const t=new $t.TextureLoader,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=$t.RepeatWrapping,n.repeat.set(.005,.005)}));this.layerSetting=new $t.MeshLambertMaterial({map:n})}const s=[],l=[];for(let t=0,e=this.framePoints.length;t<e;t++){const e=new $t.Shape(this.framePoints[t]);l.push(e);const n=new $t.Shape(this.pointsList[t]);s.push(n)}const c=new $t.ExtrudeGeometry(l,a),u=new $t.Mesh(c,this.layerSetting.clone());u.type=It.indoorMapD3FrameLayer,this.object.add(u);const A=new $t.ExtrudeGeometry(s,{depth:.01,bevelEnabled:!1}),h=new $t.Mesh(A,this.floorMaterial);return h.type=It.indoorMapD3FrameFloorLayer,h.position.z=this.depth,this.object.add(h),this.object.position.x=0,this.object.position.y=0,this.object.position.z=this.depth,this.object.rotateOnAxis(new $t.Vector3(1,0,0),-Math.PI),this.object},this.regularD3ShapePoints=()=>{const t=[],e=[];try{if(window.cv&&window.cv.Mat){const t=(new Date).getTime(),e=this.regularD3ShapePointsFunc(),n=(new Date).getTime();return this.logger.info("regular times ==>",n-t),e}return this.logger.warn("regular 3d points: the bundle don't exist"),{parallelList:t,pointsList:e}}catch(n){return this.logger.error("regular 3d points occur an error",n),{parallelList:t,pointsList:e}}},this.regularD3ShapePointsFunc=()=>{const t=[],e=[];try{const n=1;this.rendering.setWidth(this.boundingWidth),this.rendering.setHeight(this.boundingHeight),this.rendering.setPixelRatio(1),this.rendering.clearRenderingContext(),this.rendering.setFillStyle("#000000"),this.rendering.fillRect(0,0,this.rendering.getWidth(),this.rendering.getHeight());for(let t=0;t<this.points.length;t++)this.rendering.setFillStyle("#FFFFFF"),this.rendering.fillRect(this.points[t].x,this.points[t].y,n,n);const{cv:r}=window;if(r&&r.Mat&&this.detectedRendering){let n=r.imread(this.rendering.getRenderingElement()),i=new r.Mat;r.cvtColor(n,i,r.COLOR_RGBA2GRAY);let o=new r.Mat;r.Canny(i,o,50,150);let a=r.getStructuringElement(r.MORPH_RECT,new r.Size(8,8)),s=new r.Mat;r.morphologyEx(o,s,r.MORPH_CLOSE,a);let l=new r.MatVector,c=new r.Mat;r.findContours(s,l,c,r.RETR_EXTERNAL,r.CHAIN_APPROX_SIMPLE),this.detectedRendering.clearRenderingContext();for(let n=0;n<l.size();n++){let r=l.get(n);const i=[];let o,a=r.data32S;this.detectedRendering.beginPath(),this.detectedRendering.setStrokeStyle("#FF0000");for(let t=0;t<a.length;t+=2){const e=new $t.Vector2(a[t],a[t+1]);i.push(e),0===t?(o=e,this.detectedRendering.moveTo(e.x,e.y)):this.detectedRendering.lineTo(e.x,e.y)}o&&(i.push(o),this.detectedRendering.lineTo(o.x,o.y)),this.detectedRendering.stroke(),this.detectedRendering.closePath();const s=i.concat([]),c=this.calcHorizontalOnBase(s,.75);t.push(c),e.push(i.concat([]))}return l.delete(),c.delete(),i.delete(),{parallelList:t,pointsList:e}}}catch(t){this.logger.error("regularD3ShapePointsFunc occur an error")}return{parallelList:t,pointsList:e}},this.removeChildFromObject=()=>{if(this.object)for(let t=0;t<this.object.children.length;t++){const e=this.object.children[t].removeFromParent();this.dealloc(e)}},this.updateD3FrameRegularPoints=t=>{this.center=t.center||this.center,this.points=t.points,this.color=t.color||this.color,this.depth=t.depth||this.depth,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"";const{parallelList:e,pointsList:n}=this.regularD3ShapePoints();this.framePoints=e,this.pointsList=n;const r=this.color,{colorFormat:i,alpha:o}=this.argb2Rgb(r),a={depth:this.depth,bevelEnabled:!1},s=[],l=[];if(this.removeChildFromObject(),t.floorColor!==this.floorColor){this.floorColor=t.floorColor||this.floorColor;const e=this.floorColor,{colorFormat:n,alpha:r}=this.argb2Rgb(e);this.floorMaterial.color=n,this.floorMaterial.opacity=r}if(this.layerSetting||(this.layerSetting=new $t.MeshLambertMaterial({color:i,opacity:o,transparent:!0})),this.showTexture){const t=new $t.TextureLoader,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=$t.RepeatWrapping,n.repeat.set(.005,.005)}));this.layerSetting=new $t.MeshLambertMaterial({map:n})}for(let t=0,e=this.framePoints.length;t<e;t++){const e=new $t.Shape(this.framePoints[t]);l.push(e);const n=new $t.Shape(this.pointsList[t]);s.push(n)}const c=new $t.ExtrudeGeometry(l,a),u=new $t.Mesh(c,this.layerSetting.clone());u.type=It.indoorMapD3FrameLayer,this.object.add(u);const A=new $t.ExtrudeGeometry(s,{depth:.01,bevelEnabled:!1}),h=new $t.Mesh(A,this.floorMaterial);h.type=It.indoorMapD3FrameFloorLayer,h.position.z=this.depth,this.object.add(h),this.object.position.x=0,this.object.position.y=0,this.object.position.z=this.depth},this.removeD3Frame=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.color=t.color||"#FFE1E1E1",this.floorColor=t.floorColor||"#FFCACBD2",this.depth=t.depth||10,this.points=t.points||[],this.center=t.center||{x:0,y:0},this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.rendering=new Od({pixelRatio:1}),this.detectedRendering=new Od({pixelRatio:1});const{parallelList:e,pointsList:n}=this.regularD3ShapePoints();this.framePoints=e,this.pointsList=n,this.layer=this.init()}}class Jd{constructor(t){this.top=0,this.array=void 0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y,this.array[this.top++]=t.z}}class $d{constructor(t){this.top=0,this.array=void 0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y}}class tp{constructor(t){this.polygons=void 0,this.plane=void 0,this.front=void 0,this.back=void 0,this.plane=null,this.front=null,this.back=null,this.polygons=[],t&&this.build(t)}clone(){const t=new tp;return t.plane=this.plane&&this.plane.clone(),t.front=this.front&&this.front.clone(),t.back=this.back&&this.back.clone(),t.polygons=this.polygons.map((t=>t.clone())),t}invert(){for(let t=0;t<this.polygons.length;t++)this.polygons[t].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const t=this.front;this.front=this.back,this.back=t}clipPolygons(t){if(!this.plane)return t.slice();let e=new Array,n=new Array;for(let r=0;r<t.length;r++)this.plane.splitPolygon(t[r],e,n,e,n);return this.front&&(e=this.front.clipPolygons(e)),n=this.back?this.back.clipPolygons(n):[],e.concat(n)}clipTo(t){this.polygons=t.clipPolygons(this.polygons),this.front&&this.front.clipTo(t),this.back&&this.back.clipTo(t)}allPolygons(){let t=this.polygons.slice();return this.front&&(t=t.concat(this.front.allPolygons())),this.back&&(t=t.concat(this.back.allPolygons())),t}build(t){if(!t.length)return;this.plane||(this.plane=t[0].plane.clone());const e=[],n=[];for(let r=0;r<t.length;r++)this.plane.splitPolygon(t[r],this.polygons,this.polygons,e,n);e.length&&(this.front||(this.front=new tp),this.front.build(e)),n.length&&(this.back||(this.back=new tp),this.back.build(n))}}class ep{constructor(t=0,e=0,n=0){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t,this.y=e,this.z=n}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new ep(this.x,this.y,this.z)}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}times(t){return this.x*=t,this.y*=t,this.z*=t,this}dividedBy(t){return this.x/=t,this.y/=t,this.z/=t,this}lerp(t,e){return this.add((new ep).copy(t).sub(this).times(e))}unit(){return this.dividedBy(this.length())}length(){return Math.sqrt(this.x**2+this.y**2+this.z**2)}normalize(){return this.unit()}cross(t){const e=this.clone(),n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}toVector3(){return new $t.Vector3(this.x,this.y,this.z)}}class np{constructor(t,e){this.normal=void 0,this.w=void 0,this.normal=t,this.w=e,this.normal=t,this.w=e}clone(){return new np(this.normal.clone(),this.w)}flip(){this.normal.negate(),this.w=-this.w}splitPolygon(t,e,n,r,i){let o=0;const a=[];for(let e=0;e<t.vertices.length;e++){const n=this.normal.dot(t.vertices[e].pos)-this.w,r=n<-np.EPSILON?2:n>np.EPSILON?1:0;o|=r,a.push(r)}switch(o){case 0:(this.normal.dot(t.plane.normal)>0?e:n).push(t);break;case 1:r.push(t);break;case 2:i.push(t);break;case 3:{const e=[],n=[];for(let r=0;r<t.vertices.length;r++){const i=(r+1)%t.vertices.length,o=a[r],s=a[i],l=t.vertices[r],c=t.vertices[i];if(2!=o&&e.push(l),1!=o&&n.push(2!=o?l.clone():l),3==(o|s)){const t=(this.w-this.normal.dot(l.pos))/this.normal.dot((new ep).copy(c.pos).sub(l.pos)),r=l.interpolate(c,t);e.push(r),n.push(r.clone())}}e.length>=3&&r.push(new rp(e,t.shared)),n.length>=3&&i.push(new rp(n,t.shared));break}}}static fromPoints(t,e,n){const r=(new ep).copy(e).sub(t).cross((new ep).copy(n).sub(t)).normalize();return new np(r.clone(),r.dot(t))}}np.EPSILON=1e-5;class rp{constructor(t,e){this.vertices=void 0,this.shared=void 0,this.plane=void 0,this.vertices=t,this.shared=e,this.plane=np.fromPoints(t[0].pos,t[1].pos,t[2].pos)}clone(){return new rp(this.vertices.map((t=>t.clone())),this.shared)}flip(){this.vertices.reverse().map((t=>t.flip())),this.plane.flip()}}class ip{constructor(t,e,n,r){this.pos=void 0,this.normal=void 0,this.uv=void 0,this.color=void 0,this.pos=(new ep).copy(t),this.normal=(new ep).copy(e),this.uv=(new ep).copy(n),this.uv.z=0,r&&(this.color=(new ep).copy(r))}clone(){return new ip(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(t,e){return new ip(this.pos.clone().lerp(t.pos,e),this.normal.clone().lerp(t.normal,e),this.uv.clone().lerp(t.uv,e),this.color&&t.color&&this.color.clone().lerp(t.color,e))}}class op{constructor(){this.polygons=[]}static fromPolygons(t){const e=new op;return e.polygons=t,e}static fromGeometry(t,e){let n=[];const r=t.attributes.position,i=t.attributes.normal,o=t.attributes.uv,a=t.attributes.color,s=t.groups;let l;if(t.index)l=t.index.array;else{l=new Array(r.array.length/r.itemSize|0);for(let t=0;t<l.length;t++)l[t]=t}const c=l.length/3|0;n=new Array(c);for(let t=0,c=0,u=l.length;t<u;t+=3,c++){const u=new Array(3);for(let e=0;e<3;e++){const n=l[t+e],s=3*n,c=2*n,A=r.array[s],h=r.array[s+1],d=r.array[s+2],p=i.array[s],f=i.array[s+1],m=i.array[s+2],g=null==o?void 0:o.array[c],y=null==o?void 0:o.array[c+1];u[e]=new ip(new ep(A,h,d),new ep(p,f,m),new ep(g,y,0),a&&new ep(a.array[s],a.array[s+1],a.array[s+2]))}if(void 0===e&&s&&s.length>0)for(const e of s)t>=e.start&&t<e.start+e.count&&(n[c]=new rp(u,e.materialIndex));else n[c]=new rp(u,e)}return op.fromPolygons(n.filter((t=>!Number.isNaN(t.plane.normal.x))))}static toGeometry(t,e){let n=0;const r=t.polygons;for(const t of r)n+=t.vertices.length-2;const i=new $t.BufferGeometry,o=new Jd(3*n*3),a=new Jd(3*n*3),s=new $d(2*n*3);let l;const c=[],u=[];for(const t of r){const e=t.vertices,r=e.length;void 0!==t.shared&&(c[t.shared]||(c[t.shared]=[])),r&&void 0!==e[0].color&&(l||(l=new Jd(3*n*3)));for(let n=3;n<=r;n++)(void 0===t.shared?u:c[t.shared]).push(o.top/3,o.top/3+1,o.top/3+2),o.write(e[0].pos),o.write(e[n-2].pos),o.write(e[n-1].pos),a.write(e[0].normal),a.write(e[n-2].normal),a.write(e[n-1].normal),s&&(s.write(e[0].uv),s.write(e[n-2].uv),s.write(e[n-1].uv)),l&&(l.write(e[0].color),l.write(e[n-2].color),l.write(e[n-1].color))}i.setAttribute("position",new $t.BufferAttribute(o.array,3)),i.setAttribute("normal",new $t.BufferAttribute(a.array,3)),s&&i.setAttribute("uv",new $t.BufferAttribute(s.array,2)),l&&i.setAttribute("color",new $t.BufferAttribute(l.array,3));for(let t=0;t<c.length;t++)void 0===c[t]&&(c[t]=[]);if(c.length){let t=[],e=0;for(let n=0;n<c.length;n++)i.addGroup(e,c[n].length,n),e+=c[n].length,t=t.concat(c[n]);i.addGroup(e,u.length,c.length),t=t.concat(u),i.setIndex(t)}const A=(new $t.Matrix4).copy(e).invert();return i.applyMatrix4(A),i.computeBoundingSphere(),i.computeBoundingBox(),i}static fromMesh(t,e){const n=op.fromGeometry(t.geometry,e),r=new $t.Vector3,i=new $t.Matrix3;i.getNormalMatrix(t.matrix);for(let e=0;e<n.polygons.length;e++){const o=n.polygons[e];for(let e=0;e<o.vertices.length;e++){const n=o.vertices[e];n.pos.copy(r.copy(n.pos.toVector3()).applyMatrix4(t.matrix)),n.normal.copy(r.copy(n.normal.toVector3()).applyMatrix3(i))}}return n}static toMesh(t,e,n){const r=op.toGeometry(t,e),i=new $t.Mesh(r,n);return i.matrix.copy(e),i.matrix.decompose(i.position,i.quaternion,i.scale),i.rotation.setFromQuaternion(i.quaternion),i.updateMatrixWorld(),i.castShadow=i.receiveShadow=!0,i}static union(t,e){const n=op.fromMesh(t),r=op.fromMesh(e);return op.toMesh(n.union(r),t.matrix,t.material)}static subtract(t,e){const n=op.fromMesh(t),r=op.fromMesh(e);return op.toMesh(n.subtract(r),t.matrix,t.material)}static intersect(t,e){const n=op.fromMesh(t),r=op.fromMesh(e);return op.toMesh(n.intersect(r),t.matrix,t.material)}clone(){const t=new op;return t.polygons=this.polygons.map((t=>t.clone())).filter((t=>Number.isFinite(t.plane.w))),t}toPolygons(){return this.polygons}union(t){const e=new tp(this.clone().polygons),n=new tp(t.clone().polygons);return e.clipTo(n),n.clipTo(e),n.invert(),n.clipTo(e),n.invert(),e.build(n.allPolygons()),op.fromPolygons(e.allPolygons())}subtract(t){const e=new tp(this.clone().polygons),n=new tp(t.clone().polygons);return e.invert(),e.clipTo(n),n.clipTo(e),n.invert(),n.clipTo(e),n.invert(),e.build(n.allPolygons()),e.invert(),op.fromPolygons(e.allPolygons())}intersect(t){const e=new tp(this.clone().polygons),n=new tp(t.clone().polygons);return e.invert(),n.clipTo(e),n.invert(),e.clipTo(n),n.clipTo(e),e.build(n.allPolygons()),e.invert(),op.fromPolygons(e.allPolygons())}inverse(){const t=this.clone();for(const e of t.polygons)e.flip();return t}toMesh(t,e){return op.toMesh(this,t,e)}toGeometry(t){return op.toGeometry(this,t)}}class ap extends rs{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.floorColor=void 0,this.depth=void 0,this.points=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.pointsList=void 0,this.gaps=void 0,this.gapsCache=void 0,this.showTexture=void 0,this.image=void 0,this.floorMaterial=void 0,this.floorMesh=void 0,this.layerSetting=void 0,this.layerMesh=void 0,this.gapsMesh=void 0,this.init=()=>{const t=new $t.Object3D,e=this.color,n=this.floorColor,{colorFormat:r,alpha:i}=this.argb2Rgb(e),{colorFormat:o,alpha:a}=this.argb2Rgb(n),s={depth:this.depth,bevelEnabled:!1},l=[];if(this.floorMaterial=new $t.MeshBasicMaterial({color:o,opacity:a,transparent:!0}),this.floorMaterial.needsUpdate=!0,this.layerSetting=new $t.MeshLambertMaterial({color:r,opacity:i,transparent:!0}),this.showTexture){const t=new $t.TextureLoader,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=$t.RepeatWrapping,n.repeat.set(.005,.005)}));this.layerSetting=new $t.MeshLambertMaterial({map:n})}const c=[];for(let t=0,e=this.points.length;t<e;t++){if(this.points[t].length>0){const e=new $t.Shape(this.points[t]);c.push(e)}if(this.pointsList[t].length>0){const e=new $t.Shape(this.pointsList[t]);l.push(e)}}const u=new $t.ExtrudeGeometry(c,s);this.layerMesh=new $t.Mesh(u,this.layerSetting.clone()),this.layerMesh.type=It.indoorMapD3FrameLayer;const A=[];if(this.gaps.length){for(let t=0,e=this.gaps.length;t<e;t++){const e=this.gaps[t];if(e.length){const t=new $t.Shape(e);A.push(t)}}if(A.length){const e=new $t.ExtrudeGeometry(A,s);this.gapsMesh=new $t.Mesh(e,this.layerSetting.clone()),this.layerMesh=op.subtract(this.layerMesh,this.gapsMesh),this.gapsMesh.visible=!1,t.add(this.layerMesh)}}else t.add(this.layerMesh);const h=new $t.ExtrudeGeometry(l,{depth:.01,bevelEnabled:!1});return this.floorMesh||(this.floorMesh=new $t.Mesh(h,this.floorMaterial),this.floorMesh.position.z=this.depth+.1,t.add(this.floorMesh)),t.position.x=0,t.position.y=0,t.position.z=this.depth,t.rotateOnAxis(new $t.Vector3(1,0,0),-Math.PI),this.gapsCache=[].concat(this.gaps),t},this.getCrossList=t=>{const e={};for(let n=0;n<t.length;n++){const r=t[n];for(let i=0;i<t.length;i++)if(n!==i){const o=t[i],a=op.intersect(r,o);this.checkIfCross(a)&&(void 0===e[n]&&(e[n]=[]),e[n].push(o))}}return e},this.getSubtract=(t,e)=>{const n=Object.keys(t),r=[];for(let i=0;i<n.length;i++){const o=n[i];let a=e[i];for(let e=0;e<t[o].length;e++)a=op.subtract(a,t[o][e]);r.push(a)}return r},this.checkIfCross=t=>0!==t.toJSON().geometries[0].data.attributes.normal.array.length,this.removeChildFromObject=()=>{if(this.layer)for(let t=0;t<this.layer.children.length;t++){const e=this.layer.children[t].removeFromParent();this.dealloc(e)}},this.getSingleD3FrameEdgePointsParallelList=()=>this.points,this.getSingleD3FrameEdgePointsList=()=>this.pointsList,this.updateSingleD3FrameRegularPoints=t=>{this.center=t.center||this.center,this.color=t.color||this.color,this.depth=t.depth||this.depth,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.points=t.points,this.pointsList=t.pointsList,this.gaps=t.gaps||[[]];const e=this.color,{colorFormat:n,alpha:r}=this.argb2Rgb(e),i={depth:this.depth,bevelEnabled:!1},o=[];if(t.floorColor!==this.floorColor){this.floorColor=t.floorColor||this.floorColor;const e=this.floorColor,{colorFormat:n,alpha:r}=this.argb2Rgb(e);this.floorMaterial.color=n,this.floorMaterial.opacity=r}if(this.layerSetting||(this.layerSetting=new $t.MeshLambertMaterial({color:n,opacity:r,transparent:!0})),this.showTexture){const t=new $t.TextureLoader,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=$t.RepeatWrapping,n.repeat.set(.005,.005)}));this.layerSetting=new $t.MeshLambertMaterial({map:n})}const a=[];for(let t=0,e=this.points.length;t<e;t++){if(this.points[t].length>0){const e=new $t.Shape(this.points[t]);a.push(e)}if(this.pointsList[t].length>0){const e=new $t.Shape(this.pointsList[t]);o.push(e)}}const s=new $t.ExtrudeGeometry(a,i);this.layerMesh?(this.layer.remove(this.layerMesh),this.layerMesh.geometry.dispose(),this.layerMesh.geometry=s):(this.layerMesh=new $t.Mesh(s,this.layerSetting.clone()),this.layerMesh.type=It.indoorMapD3FrameLayer,this.layerMesh.type=It.indoorMapD3FrameFloorLayer);const l=[],c=JSON.stringify(this.gaps)===JSON.stringify(this.gapsCache);if(this.gaps.length)if(c)this.debug.isDevMode&&this.logger.info("gaps is equal before cache ==>",this.gaps,this.gapsCache),this.layerMesh=op.subtract(this.layerMesh,this.gapsMesh),this.layer.add(this.layerMesh);else{for(let t=0,e=this.gaps.length;t<e;t++){const e=this.gaps[t];if(e.length){const t=new $t.Shape(e);l.push(t)}}if(l.length){const t=new $t.ExtrudeGeometry(l,i);this.gapsMesh?(this.gapsMesh.geometry.dispose(),this.gapsMesh.geometry=t):(this.gapsMesh=new $t.Mesh(t,this.layerSetting.clone()),this.gapsMesh.visible=!1),this.layerMesh=op.subtract(this.layerMesh,this.gapsMesh),this.layer.add(this.layerMesh)}}else this.layer.add(this.layerMesh);const u=new $t.ExtrudeGeometry(o,{depth:.01,bevelEnabled:!1});this.floorMesh?(this.floorMesh.geometry.dispose(),this.floorMesh.geometry=u):(this.floorMesh=new $t.Mesh(u,this.floorMaterial),this.layer.add(this.floorMesh)),this.floorMesh.position.z=this.depth+.1,this.layer.position.x=0,this.layer.position.y=0,this.layer.position.z=this.depth,this.gapsCache=[].concat(this.gaps),this.logger.info("singleD3Frame children length ==>",this.layer.children.length)},this.removeSingleD3Frame=()=>(this.gapsMesh&&this.dealloc(this.gapsMesh),this.removeChildFromObject(),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.color=t.color||"#FFE1E1E1",this.floorColor=t.floorColor||"#FFCACBD2",this.depth=t.depth||10,this.points=t.points||[],this.pointsList=t.pointsList||[],this.gaps=t.gaps||[[]],this.gapsCache=t.gaps||[[]],this.center=t.center||{x:0,y:0},this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.layer=this.init()}}class sp extends rs{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.pointsList=void 0,this.image=void 0,this.object=void 0,this.material=void 0,this.floorMesh=void 0,this.init=()=>{this.object=new $t.Object3D;const t=new $t.TextureLoader,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=$t.RepeatWrapping,n.repeat.set(.05,.05)}));this.material=new $t.MeshLambertMaterial({map:n});const r=[];for(let t=0,e=this.pointsList.length;t<e;t++){const e=new $t.Shape(this.pointsList[t]);r.push(e)}const i=new $t.ExtrudeGeometry(r,{depth:.01,bevelEnabled:!1});return this.floorMesh=new $t.Mesh(i,this.material),this.object.add(this.floorMesh),this.object.position.z=-.01,this.object.rotateOnAxis(new $t.Vector3(1,0,0),-Math.PI),this.object},this.getCarpetMaterialPointsList=()=>this.pointsList,this.updateD3CarpetMaterial=t=>{this.center=t.center||this.center,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0;const e=t.image||"";if(this.pointsList=t.pointsList,e!==this.image){const t=(new $t.TextureLoader).load(e,(()=>{t.needsUpdate=!0,t.wrapS=t.wrapT=$t.RepeatWrapping,t.repeat.set(.05,.05)}));this.material=new $t.MeshLambertMaterial({map:t})}const n=[];for(let t=0,e=this.pointsList.length;t<e;t++){const e=new $t.Shape(this.pointsList[t]);n.push(e)}const r=new $t.ExtrudeGeometry(n,{depth:.001,bevelEnabled:!1});this.floorMesh?(this.floorMesh.geometry.dispose(),this.floorMesh.geometry=r,this.floorMesh.material=this.material):(this.floorMesh=new $t.Mesh(r,this.material),this.object.add(this.floorMesh)),this.object.position.z=-.01},this.removeChildFromObject=()=>{if(this.object)for(let t=0;t<this.object.children.length;t++){const e=this.object.children[t].removeFromParent();this.dealloc(e)}},this.removeD3CarpetMaterial=()=>(this.floorMesh&&this.dealloc(this.floorMesh),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.pointsList=t.pointsList||[],this.center=t.center||{x:0,y:0},this.color="#ffffff",this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.image=t.image||"",this.layer=this.init()}}class lp extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.class=void 0,this.type=void 0,this.width=void 0,this.height=void 0,this.pointsArray=void 0,this.colorsArray=void 0,this.opacity=void 0,this.visible=void 0,this.positionHeight=void 0,this.renderingElement=void 0,this.element=void 0,this.drawSmearPoints=t=>(this.renderingElement.drawPointsWith2d(t.pointsArray,t.colorsArray,t.opacity,!1),this.renderingElement.getRenderingElement2d()),this.createSmearMaterial=t=>{const e=this.drawSmearPoints(t);this.element=e;const n=new $t.CanvasTexture(this.element);n.magFilter=$t.LinearFilter,n.minFilter=$t.LinearFilter,n.needsUpdate=!0;const r=new $t.MeshBasicMaterial({map:n,opacity:1,transparent:!0,depthWrite:!1}),i=new $t.PlaneGeometry(this.width,this.height),o=new $t.Mesh(i,r);return o.userData=t.pointsAttribute||{},o.position.z=this.positionHeight,o.visible=this.visible,o.type=It.indoorMapSmearMaterial,this.dispatchScope(o),o},this.updateSmearMaterial=t=>{this.renderingElement&&(t.width===this.width&&t.height===this.height||(this.renderingElement.setWidth(t.width),this.renderingElement.setHeight(t.height),this.renderingElement.setPixelRatio(this.indoorMap2d.pixelRatio),this.width=t.width,this.height=t.height),this.element&&(this.element=this.drawSmearPoints(t)),this.layer&&(this.layer.userData=t.pointsAttribute||{},this.layer.position.z=this.positionHeight,this.layer.visible=this.visible))},this.getSmearMaterialWidth=()=>this.width,this.getSmearMaterialHeight=()=>this.height,this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideSmearMaterial=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.removeSmearMaterial=()=>this.remove(),this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="smearMaterial",this.type=t.type||Nt.SmearMaterial,this.width=t.width||0,this.height=t.height||0,this.pointsArray=t.pointsArray||[],this.colorsArray=t.colorsArray||[],this.opacity=t.opacity||1,this.visible=void 0===typeof t.visible||t.visible,this.positionHeight=t.positionHeight||0,this.renderingElement=new Hd({is3d:!1,pixelRatio:this.indoorMap2d.pixelRatio,width:this.width,height:this.height,onLoggerInfo:t.onLoggerInfo}),this.renderingElement.setWidth(t.width),this.renderingElement.setHeight(t.height),this.renderingElement.setPixelRatio(this.indoorMap2d.pixelRatio),this.element=null,this.layer=this.createSmearMaterial(t),this.getInfo(this.layer)}}class cp extends rs{constructor(t){super(),this.point=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.zIndex=void 0,this.createPlaneFloorMaterial=t=>{const e=new $t.Shape(t.point);let n;if(t.uri){const e=(new $t.TextureLoader).load(t.uri,(()=>{e.needsUpdate=!0,e.wrapS=$t.RepeatWrapping,e.wrapT=$t.RepeatWrapping,e.repeat.set(.008,.008),e.magFilter=$t.LinearFilter,e.minFilter=$t.LinearFilter}));n=new $t.MeshBasicMaterial({map:e,opacity:1,transparent:!0,depthWrite:!1})}else n=new $t.MeshBasicMaterial({color:"#ffffff",opacity:0,depthWrite:!1,transparent:!0});const r=new $t.ShapeGeometry(e);r.computeVertexNormals();const i=new $t.Mesh(r,n);return i.position.z=this.zIndex,i.type=It.indoorMapPlaneFloorMaterialLayer,this.dispatchScope(i),i},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.removePlaneFloorMaterial=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="planeFloorMaterial",this.type=t.type||Nt.PlaneFloorMaterial,this.point=t.point,this.uri=t.uri||"",this.zIndex=void 0!==t.zIndex?t.zIndex:-2,this.layer=this.createPlaneFloorMaterial(t),this.getInfo(this.layer)}}let up="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('FloorMaterialWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\t\tif (msg.data.name === 'render') {\n\t\t\toffScreenRender(msg.data);\n\t\t}\n\n\t\tif (msg.data.name === 'resize') {\n\t\t\tcanvasResize(msg.data);\n\t\t}\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t}\n\t\t\tconsole.log('FloorMaterialWorkerRender: Thread has been disposed');\n\t\t}\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n\n\tconst canvasResize = data => {\n\t\tconst { canvas, parameters } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide an offscreenCanvas\tparams'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tconst ctx = _canvasStore.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide canvas element params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tconst { radio } = parameters;\n\t\tctx.scale(radio, radio);\n\t};\n\n\tconst offScreenRender = data => {\n\t\tconst { canvas, parameters, isInit } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide an offscreenCanvas params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst ctx = _canvasStore.getContext('2d');\n\n\t\tif (!ctx) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide canvas element params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tscale,\n\t\t\timageData,\n\t\t\tminX,\n\t\t\tmaxX,\n\t\t\tminY,\n\t\t\tmaxY,\n\t\t\tpoints,\n\t\t\tradio,\n\t\t\twidth,\n\t\t\theight,\n\t\t} = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\t\t\n\t\tctx.clearRect(0, 0, width, height);\n\n\t\tif (isInit) {\n\t\t\tctx.scale(scale, scale);\n\t\t} else {\n\t\t\tctx.scale(1 / radio, 1 / radio);\n\t\t}\n\n\t\tself.createImageBitmap(imageData).then((image) => {\n\t\t\tconst pattern = ctx.createPattern(image, 'repeat');\n\t\t\tctx.fillStyle = pattern;\n\n\t\t\tctx.fillRect(\n\t\t\t\tminX * radio,\n\t\t\t\tMath.abs(maxY) * radio,\n\t\t\t\t(maxX - minX) * radio,\n\t\t\t\t(maxY - minY) * radio\n\t\t\t);\n\n\t\t\tctx.scale(radio, radio);\n\n\t\t\tconst pointsMap = new Map(\n\t\t\t\tpoints.map((item) => [item.x + ',' + item.y, item])\n\t\t\t);\n\n\t\t\tfor (let i = minX; i <= maxX; i++) {\n\t\t\t\tfor (let j = Math.abs(maxY); j <= Math.abs(minY); j++) {\n\t\t\t\t\tif (!pointsMap.has(i + ',' + j)) {\n\t\t\t\t\t\tctx.clearRect(i, j, 1, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tself.postMessage('update');\n\t\t\t});\n\t\t});\n\t};\n}";up=up.substring(up.indexOf("{")+1,up.lastIndexOf("}"));const Ap=new Blob([up],{type:"application/javascript"}),hp=(t,e)=>{if(t===e)return!0;if("object"==typeof t&&null!=t&&"object"==typeof e&&null!=e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){if(!e.hasOwnProperty(n))return!1;if(!hp(t[n],e[n]))return!1}return!0}return!1},dp=()=>{const t=(window.navigator.userAgent||"").match(/OS (\d+)_?(\d+)?/);return t?{major:parseInt(t[1],10),minor:t[2]?parseInt(t[2],10):0}:null};var pp=Object.freeze({__proto__:null,deepEqual:hp,getiOSVersion:dp});const fp=2500;class mp extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.loader=void 0,this.useContour=void 0,this.points=void 0,this.class=void 0,this.uri=void 0,this.zIndex=void 0,this.minX=void 0,this.maxX=void 0,this.minY=void 0,this.maxY=void 0,this.height=void 0,this.width=void 0,this.imageSource=void 0,this.opacity=void 0,this.radio=void 0,this.useWorker=void 0,this.texture=void 0,this.material=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.canvas=void 0,this.patternCanvas=void 0,this.createRoomFloorMaterial=()=>{try{if(this.useContour){this.texture=this.loader.load(this.imageSource,(()=>{this.texture.needsUpdate=!0,this.texture.wrapS=this.texture.wrapT=$t.RepeatWrapping,this.texture.repeat.set(this.radio/1e3,this.radio/1e3)})),this.material=new $t.MeshBasicMaterial({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0});const t=new $t.Shape(this.points),e=new $t.ShapeGeometry(t);e.computeVertexNormals(),e.computeBoundingBox();const n=new $t.Mesh(e,this.material);return n.type="IndoorMapRoomFloorMaterialLayer",n.userData.enableFilter=!0,this.dispatchScope(n),n}{let t=!1;const{radio:e}=this;if(t=this.width*e*1<fp||this.height*e*1<fp||zd.test({width:this.width*e*1,height:this.height*e*1}),t){this.canvas.width=this.width*e*1,this.canvas.height=this.height*e*1,this.canvas.style.width=1*this.width+"px",this.canvas.style.height=1*this.height+"px";const t=this.drawFloor();return t.type="IndoorMapRoomFloorMaterialLayer",t.userData.enableFilter=!0,this.dispatchScope(t),t}}return null}catch(t){return this.logger.error("RoomFloorMaterialcreateRoomFloorMaterial occur error",t),null}},this.drawFloor=()=>{try{const{radio:t}=this,e=new Image;e.src=this.imageSource,e.onload=()=>{const{minX:n,minY:r,maxX:i,maxY:o}=this,a=e.width,s=e.height,l=this.patternCanvas.getContext("2d");if(l.clearRect(0,0,this.patternCanvas.width,this.patternCanvas.height),this.patternCanvas.width=a,this.patternCanvas.height=s,l.drawImage(e,0,0,a,s),this.worker){const e=l.getImageData(0,0,a,s);this.offScreenCanvas=this.canvas.transferControlToOffscreen();const c={minX:n,maxX:i,minY:r,maxY:o,points:this.points,radio:t,scale:1,imageData:e,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:c,isInit:!0},[this.offScreenCanvas]),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const e=this.canvas.getContext("2d",{});e.scale(1,1);const a=e.createPattern(this.patternCanvas,"repeat");e.fillStyle=a,e.fillRect(n*t,Math.abs(o)*t,(i-n)*t,(o-r)*t),e.scale(t,t);const s=new Map(this.points.map((t=>[`${t.x},${t.y}`,t])));for(let t=n;t<=i;t++)for(let n=Math.abs(o);n<=Math.abs(r);n++)s.has(`${t},${n}`)||e.clearRect(t,n,1,1);this.layer&&(this.texture.needsUpdate=!0)}},this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const n=new $t.MeshBasicMaterial({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0}),r=new $t.PlaneGeometry(this.width,this.height);return new $t.Mesh(r,n)}catch(t){return this.logger.error("drawFloor ==>",t),new $t.Object3D}},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Ya(`${this.indoorMap2d.getUnionId()}_FloorMaterial_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.worker=void 0,this.workerStatus=!1)},this.setPosition=t=>{this.layer&&this.layer.position.set(t.x,t.y,t.z)},this.updateFloorMaterial=t=>{try{const{minX:e,maxX:n,minY:r,maxY:i,width:o,height:a,points:s,radio:l=4,opacity:c,imageSource:u}=t;if(this.minX=e?e-1:0,this.maxX=n?n+1:0,this.minY=r?r-1:0,this.maxY=i?i+1:0,this.height=a||0,this.width=o||0,this.opacity=c||1,this.radio=l||4,this.useContour){if(u!==this.imageSource&&(this.texture=this.loader.load(u,(()=>{this.imageSource=u,this.texture.needsUpdate=!0,this.texture.wrapS=this.texture.wrapT=$t.RepeatWrapping,this.texture.repeat.set(this.radio/1e3,this.radio/1e3)})),this.material=new $t.MeshBasicMaterial({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0})),u!==this.imageSource||JSON.stringify(this.points)!==JSON.stringify(s)){this.points=s;const t=new $t.Shape(this.points),e=new $t.ShapeGeometry(t);e.computeVertexNormals(),e.computeBoundingBox(),this.layer.geometry.dispose(),this.layer.geometry=e,this.layer.material=this.material}}else{this.points=s;const e=t=>{const{minX:e,minY:n,maxX:r,maxY:i,width:o,height:a,opacity:s,radio:l,points:c}=this,A=new Image;A.src=u,A.onload=()=>{const o=A.width,a=A.height,c=this.patternCanvas.getContext("2d");if(c.clearRect(0,0,this.patternCanvas.width,this.patternCanvas.height),this.patternCanvas.width=o,this.patternCanvas.height=a,c.drawImage(A,0,0,o,a),this.worker){const t=c.getImageData(0,0,o,a),s={minX:e,maxX:r,minY:n,maxY:i,points:this.points,radio:l,scale:1,imageData:t,width:this.canvas.width,height:this.canvas.height};this.logger.info("thread start update roomFloor"),this.worker.postMessage({name:"render",parameters:s})}else{const t=this.canvas.getContext("2d",{});t.scale(1/l,1/l),t.clearRect(0,0,this.canvas.width,this.canvas.height);const o=t.createPattern(this.patternCanvas,"repeat");t.fillStyle=o,t.fillRect(e*l,Math.abs(i)*l,(r-e)*l,(i-n)*l),t.scale(l,l);const a=new Map(this.points.map((t=>[`${t.x},${t.y}`,t])));for(let o=e;o<=r;o++)for(let e=Math.abs(i);e<=Math.abs(n);e++)a.has(`${o},${e}`)||t.clearRect(o,e,1,1)}if(this.layer)if(this.texture){const t=new $t.MeshBasicMaterial({map:this.texture,opacity:s,transparent:!0,depthWrite:!1});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const t=new $t.MeshBasicMaterial({map:this.texture,opacity:s,transparent:!0,depthWrite:!1});this.layer.material=t}null==t||t()}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let n=!1;n=this.width*l<fp||this.height*l<fp||zd.test({width:this.width*l,height:this.height*l}),n&&(this.canvas.width=this.width*l*1,this.canvas.height=this.height*l*1,this.canvas.style.width=1*this.width+"px",this.canvas.style.height=1*this.height+"px",e((()=>{if(this.layer){const t=new $t.PlaneGeometry(this.width,this.height);this.layer.geometry=t}})))}else e((()=>{}))}}catch(t){this.logger.error("updateRoomFloorMaterial ==>",t)}},this.removeRoomFloorMaterial=()=>this.useContour?new Promise((t=>{const e=this.remove();this.canvas=null,this.loader=null,this.material=null,this.texture=null,this.patternCanvas=null,t(e)})):this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{Oa(`${this.indoorMap2d.getUnionId()}_RoomFloorMaterial_remove`,(()=>{this.logger.info("RoomFloorMaterial has been removed");const e=this.remove();this.canvas=null,this.patternCanvas=null,t(e)}))}))):new Promise((t=>{const e=this.remove();this.canvas=null,this.patternCanvas=null,t(e)})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="roomFloorMaterial",this.useContour=t.useContour||!1,this.indoorMap2d=t.indoorMap2d,this.minX=t.minX?t.minX-1:0,this.maxX=t.maxX?t.maxX+1:0,this.minY=t.minY?t.minY-1:0,this.maxY=t.maxY?t.maxY+1:0,this.height=t.height||0,this.width=t.width||0,this.opacity=t.opacity||1,this.radio=t.radio||4,this.points=t.points||[],this.imageSource=t.imageSource,this.uri=t.uri||"",this.zIndex=void 0!==t.zIndex?t.zIndex:-2,this.texture=null,this.workerStatus=!1,this.useWorker=void 0===t.useWorker||t.useWorker;const e=dp();e&&18===e.major&&(this.useWorker=!1),this.useContour&&(this.useWorker=!1,this.loader=new $t.TextureLoader),this.canvas=document.createElement("canvas"),this.patternCanvas=document.createElement("canvas"),Va(this.indoorMap2d.env)&&za(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Ka(Ap)),this.layer=this.createRoomFloorMaterial()}}class gp extends rs{constructor(t){super(),this.params=void 0,this.point=void 0,this.initImgCloud=(t,e,n)=>{var r,i;const o=new $t.CanvasTexture(t.image);o.needsUpdate=!0,o.magFilter=$t.LinearFilter,o.minFilter=$t.LinearFilter;const a=new $t.SpriteMaterial({map:o,transparent:!0,opacity:1,sizeAttenuation:!1,depthWrite:!0,alphaTest:.1});a.needsUpdate=!0;const s=new $t.Sprite(a);return s.center.set(.5,0),s.scale.set(t.scale*(null==(r=t.size)?void 0:r.width),t.scale*(null==(i=t.size)?void 0:i.height),t.scale),s.position.set(t.point.x,t.point.y,t.height),s.type=e,s.point=new $t.Vector3(t.point.x,t.point.y,t.height),s.params=t,s},this.updateImgCloudPosition=t=>{this.layer.position.set(t.x,-t.y,this.params.height)},this.dispatchScope=t=>{t.scope=this};const e={class:"",image:us,size:{width:40,height:20},height:15,scale:.001,point:{x:0,y:0}};this.point=t.point;const n=ra(e,t);$a(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud,!1),this.dispatchScope(this.layer)}}class yp extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.dataRoom=void 0,this.dataName=void 0,this.dataOrder=void 0,this.attributes=void 0,this.position=void 0,this.size=void 0,this.moreRoomPropertiesEvent=void 0,this.onClickRoomMoreProperties=void 0,this.onClickRoomProperties=void 0,this.enableMoreEvent=void 0,this.createLabelPosition=t=>{const e={point:{x:t.position.x,y:t.position.y},image:t.labelImage||cs,size:t.size||{width:40,height:20},height:Rt.roomLabel};return new gp(e).layer},this.updateLabelInfo=t=>{if(t.dataRoom&&(this.dataRoom=t.dataRoom),t.dataName&&(this.dataName=t.dataName),t.dataOrder&&(this.dataOrder=t.dataOrder),t.size&&(this.size={...t.size}),t.labelImage&&this.layer){const e=this.layer.visible;this.removeLabelPosition();const n={point:{x:this.position.x,y:this.position.y},image:t.labelImage||cs,size:this.size||{width:40,height:20},height:Rt.roomLabel},r=new gp(n);this.layer=r.layer,this.indoorMap2d.map.layer.add(this.layer),this.hideLabelPosition(!e)}},this.enableMoreRoomPropertiesEvent=t=>{this.enableMoreEvent=t},this.registerMoreRoomPropertiesEvent=()=>{this.moreRoomPropertiesEvent||this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{this.enableMoreEvent&&(this.onClickRoomMoreProperties({properties:this.attributes}),this.onClickRoomProperties({properties:this.attributes}))})),this.moreRoomPropertiesEvent=!0)},this.registerRoomPropertiesEvent=()=>{this.layer&&(this.enableMoreEvent||("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{this.onClickRoomProperties({properties:this.attributes})}))))},this.removeMoreRoomPropertiesEvent=()=>{this.moreRoomPropertiesEvent&&(this.moreRoomPropertiesEvent=!1,"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap))},this.removeRoomPropertiesEvent=()=>{"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.updateLabelPosition=t=>{this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition?this.layer.scope.updateImgCloudPosition({x:t.x,y:t.y}):this.layer.position.set(t.x,-t.y,0),this.position={...t}},this.hideLabelPosition=t=>{this.layer.visible=!t},this.removeLabelPosition=()=>(this.removeMoreRoomPropertiesEvent(),this.removeRoomPropertiesEvent(),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.position=t.position,this.dataRoom=t.dataRoom,this.dataName=t.dataName,this.dataOrder=t.dataOrder,this.attributes=t.attributes||{},this.size={...t.size},this.layer=this.createLabelPosition(t),this.moreRoomPropertiesEvent=null,this.enableMoreEvent=!1,this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{this.logger.warn("It seems no setup the onClickRoomMoreProperties function")}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{this.logger.warn("It seems no setup the onClickRoomProperties function")})}}let vp="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('CarpetWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'render') {\n\t\t\tcarpetOffScreenRender(msg.data)\n\t\t}\n\t\t\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, _width, _height);\n\t\t\t}\n\t\t\tconsole.log('CarpetWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\n\tconst carpetOffScreenRender = data => {\n\t\tconst { canvas, parameters, init } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn('CarpetWorkerRender: Please provide an offscreenCanvas params');\n\t\t\treturn;\n\t\t}\n\n\t \n\t\tconst context = _canvasStore.getContext('2d');\n\n\t\tif (!context) {\n\t\t\tconsole.warn('CarpetWorkerRender: Please provide canvas element params');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { imageSource, iconWidth, points, radio, scale, width, height } = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\t\t\n\t\t\tif (init) {\n\t\t\t\tcontext.scale(radio * scale, radio * scale);\n\t\t\t}\n\t\t context.clearRect(0, 0, _width, _height);\n\t\t self.createImageBitmap(imageSource).then((image) => {\n\t\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\t\tcontext.drawImage(\n\t\t\t\t\timage,\n\t\t\t\t\tpoints[i].x * iconWidth,\n\t\t\t\t\tpoints[i].y * iconWidth,\n\t\t\t\t\ticonWidth,\n\t\t\t\t\ticonWidth\n\t\t\t\t);\n\t\t\t}\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tself.postMessage('update');\n\t\t\t});\n\t\t });\n\t}\n\n}";vp=vp.substring(vp.indexOf("{")+1,vp.lastIndexOf("}"));const _p=new Blob([vp],{type:"application/javascript"}),wp=2500;class bp extends rs{constructor(t){super(),this.indoorMap2d=void 0,this.canvas=void 0,this.textureImage=void 0,this.width=void 0,this.height=void 0,this.class=void 0,this.type=void 0,this.imageSource=void 0,this.textureObjectPoints=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.texture=void 0,this.useWorker=void 0,this.positionHeight=void 0,this.createCarpetMaterial=()=>{try{const t=5,e=1;let n=!1;if(n=this.width*e*t<wp||this.height*e*t<wp||zd.test({width:this.width*e*t,height:this.height*e*t}),n){this.canvas.width=this.width*e*t,this.canvas.height=this.height*e*t,this.canvas.style.width=this.width*t+"px",this.canvas.style.height=this.height*t+"px";const n=this.drawCarpetBitmap(!0);return n.type="IndoorMapCarpetMaterialLayer",n.userData.enableFilter=!0,this.dispatchScope(n),n}return null}catch(t){return this.logger.error("createCarpetMaterial occur error",t),null}},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.createImageData=t=>{const e=this.indoorMap2d.pixelRatio,n=36,r=document.createElement("canvas");r.width=n,r.height=n,r.style.width=n*e+"px",r.style.height=n*e+"px";const i=r.getContext("2d");return null==i||i.scale(e,e),null==i||i.drawImage(t,0,0,n,n,0,0,n,n),i.getImageData(0,0,n,n)},this.drawCarpetBitmap=(t=!1)=>{try{const e=5,n=1,r=r=>{if(this.worker&&t){if(r){this.worker.onMessage(this.onThreadEvt);const t={imageSource:this.createImageData(r),iconWidth:1,points:this.textureObjectPoints,radio:n,scale:e,width:this.canvas.width,height:this.canvas.height};this.offScreenCanvas=this.canvas.transferControlToOffscreen(),this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:t,init:!0},[this.offScreenCanvas]),this.workerStatus=!0}}else{const t=this.canvas.getContext("2d");if(t.scale(n*e,n*e),t&&r){t.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.textureObjectPoints.length;e++)t.drawImage(r,1*this.textureObjectPoints[e].x,1*this.textureObjectPoints[e].y,1,1)}}if(this.layer){this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const t=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.layer.material=t}};this.syncLoadImage(this.textureImage,r);const i=new $t.CanvasTexture(this.canvas);i.magFilter=$t.LinearFilter,i.minFilter=$t.LinearFilter,i.needsUpdate=!0;const o=new $t.MeshBasicMaterial({color:"#fff",map:i,opacity:1,transparent:!0,depthWrite:!0}),a=new $t.PlaneGeometry(this.width,this.height);return new $t.Mesh(a,o)}catch(t){return this.logger.error("drawCarpetBitmap ==>",t),new $t.Object3D}},this.syncLoadImage=(t,e)=>{try{const n=new Promise((e=>{const n=document.createElement("img");n.crossOrigin="*",n.src=t,n.onload=function(){e(n)}}));Promise.all([n]).then((t=>{this.imageSource=t[0],e(t[0])}))}catch(t){this.logger.error("syncLoadImage ==>",t)}},this.getCarpetMaterialWidth=()=>this.width,this.getCarpetMaterialHeight=()=>this.height,this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideCarpetMaterial=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.updateCarpetTexture=t=>{try{this.textureObjectPoints=t.textureObjectPoints;const e=1,n=5,r=t=>{if(this.worker){if(t){const r={imageSource:this.createImageData(t),iconWidth:1,points:this.textureObjectPoints,radio:e,scale:n,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",parameters:r})}}else{const e=this.canvas.getContext("2d");if(e&&t){e.clearRect(0,0,this.canvas.width,this.canvas.height);for(let n=0;n<this.textureObjectPoints.length;n++)e.drawImage(t,1*this.textureObjectPoints[n].x,1*this.textureObjectPoints[n].y,1,1)}}if(this.layer)if(this.texture){const t=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new $t.CanvasTexture(this.canvas),this.texture.magFilter=$t.LinearFilter,this.texture.minFilter=$t.LinearFilter,this.texture.needsUpdate=!0;const t=new $t.MeshBasicMaterial({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.layer.material=t}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let i=!1;if(i=this.width*e*n<wp||this.height*e*n<wp||zd.test({width:this.width*e*n,height:this.height*e*n}),i&&(this.worker||(this.canvas.width=this.width*e*n,this.canvas.height=this.height*e*n,this.canvas.style.width=this.width*n+"px",this.canvas.style.height=this.height*n+"px",this.canvas.getContext("2d").scale(e*n,e*n)),t.textureImage===this.textureImage?r(this.imageSource):(this.textureImage=t.textureImage,this.syncLoadImage(this.textureImage,r)),this.layer)){const t=new $t.PlaneGeometry(this.width,this.height);this.layer.geometry=t}}else t.textureImage===this.textureImage?r(this.imageSource):(this.textureImage=t.textureImage,this.syncLoadImage(this.textureImage,r))}catch(t){this.logger.error("updateCarpetTexture ==>",t)}},this.receiveRemoveEvt=()=>{this.worker&&(Ya(`${this.indoorMap2d.getUnionId()}_CarpetMaterial_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.canvas=null,this.worker=void 0,this.workerStatus=!1)},this.removeCarpetMaterial=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{Oa(`${this.indoorMap2d.getUnionId()}_CarpetMaterial_remove`,(()=>{this.logger.info("CarpetMaterial has been removed");const e=this.remove();this.canvas=null,this.offScreenCanvas=null,t(e)}))}))):new Promise((t=>{const e=this.remove();this.canvas=null,this.offScreenCanvas=null,t(e)})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="carpetMaterial",this.indoorMap2d=t.indoorMap2d,this.type=t.type||Nt.Carpet,this.width=t.width||0,this.height=t.height||0,this.textureImage=t.textureImage||"",this.imageSource=null,this.workerStatus=!1,this.texture=null,this.positionHeight=0,this.useWorker=void 0===t.useWorker||t.useWorker;const e=dp();e&&18===e.major&&(this.useWorker=!1),this.canvas=document.createElement("canvas"),Va(this.indoorMap2d.env)&&za(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Ka(_p)),this.textureObjectPoints=t.textureObjectPoints||[],this.layer=this.createCarpetMaterial()}}function xp(t){let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){e=t}else e=void 0===t?{}:t;return e}function Mp(t,e){const n=xp(t),r=[];return Array.isArray(n)&&n.forEach((t=>{const n=t.url,i=t.pointList||[];if(i.length>0){const t=Object.assign({},e,{textureImage:n,textureObjectPoints:i});r.push(t)}})),r}function Lp(t,e){const n=xp(t),{materialMaps:r,materials:i}=n,o=[];return Array.isArray(i)&&i.forEach((t=>{if(t.extends&&void 0!==t.extends.x&&void 0!==t.extends.y&&(t.extends.x=t.extends.x+e.x,t.extends.y=t.extends.x+e.y),r[t.type]){const n={id:t.id,x:t.x+e.x,y:t.y+e.y,uri:r[t.type].uri,width:r[t.type].width,height:r[t.type].height,isScale:r[t.type].isScale||!1,scale:r[t.type].scale||.02,extends:t.extends};o.push(n)}})),o}function Cp(){function t(t,e,n,r){const i=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-r.x)*(e.y-r.y)-(t.y-r.y)*(e.x-r.x);if(i*o>=0)return!1;const a=(n.x-t.x)*(r.y-t.y)-(n.y-t.y)*(r.x-t.x);if(a*(a+i-o)>=0)return!1;const s=a/(o-i),l=s*(e.x-t.x),c=s*(e.y-t.y);return{x:t.x+l,y:t.y+c}}function e(t,e,n){const r=(e.y-t.y)/(e.x-t.x);return{x:n,y:t.y+(n-t.x)*r}}function n(t,e){let n=t.length/2%8,r=0;for(;n--;)e(t[r++],r,t);n=Math.floor(t.length/2/8);do{e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t),e(t[r++],r,t)}while(--n)}function r(t){let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){e=t}else e=void 0===t?{}:t;return e}const i={};function o(t){if(!i[t])if(t&&9===t.length&&0===t.indexOf("#")){const e=parseInt(t.substring(1),16),n=e>>>24,r=e>>16&255,o=e>>8&255,a=255&e;i[t]={colorFormat:{r:Math.floor(r/2.55)/100,g:Math.floor(o/2.55)/100,b:Math.floor(a/2.55)/100},alpha:Math.floor(n/2.55)/100}}else i[t]={colorFormat:{r:1,g:1,b:1},alpha:1};return i[t]}function a(t){const e={tl:[0,0],tr:[0,0],br:[0,0],bl:[0,0],_tl:[0,0],_tr:[0,0],_br:[0,0],_bl:[0,0],boundingBox:{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},_boundingBox:{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}};if(t.length<1)return e;let n=9999999,r=9999999,i=-9999999,o=-9999999,a=9999999,s=9999999,l=-9999999,c=-9999999;for(let e=t.length-1;e>=0;e--){const u={x:t[e].x,y:-t[e].y},A={x:t[e].x,y:t[e].y};u.x>i&&(i=u.x),u.x<n&&(n=u.x),u.y>o&&(o=u.y),u.y<r&&(r=u.y),A.x>l&&(l=A.x),A.x<a&&(a=A.x),A.y>c&&(c=A.y),A.y<s&&(s=A.y)}e.tl=[n,r],e.tr=[i,r],e.bl=[n,o],e.br=[i,o],a-=1,s-=1,l+=1,c+=1,e._tl=[a,s],e._tr=[l,s],e._bl=[a,c],e._br=[l,c];const u=Math.sqrt(Math.pow(e.tr[0]-e.tl[0],2)+Math.pow(e.tr[1]-e.tl[1],2)),A=Math.sqrt(Math.pow(e.br[0]-e.bl[0],2)+Math.pow(e.br[1]-e.bl[1],2)),h=Math.sqrt(Math.pow(e._tr[0]-e._tl[0],2)+Math.pow(e._tr[1]-e._tl[1],2)),d=Math.sqrt(Math.pow(e._br[0]-e._bl[0],2)+Math.pow(e._br[1]-e._bl[1],2));return e.boundingBox={minX:n,minY:r,maxX:i,maxY:o,width:u,height:A},e._boundingBox={minX:a,minY:s,maxX:l,maxY:c,width:h,height:d},e}function s(t){return[(t.boundingBox.minX+t.boundingBox.maxX)/2,(t.boundingBox.minY+t.boundingBox.maxY)/2]}return function(i,l,c,u,A,h,d){let p=[],f=[i.width/2,i.height/2],m={},g=[],y=[],v=[],_=[],w=[],b=0;const x=i.origin||{x:0,y:0},M=function(i,l,c){const u=(new Date).getTime(),A=r(i.roomInfo),h={},d=[];Object.keys(A).forEach((t=>{const e=A[t],n=r(e.extend),u=e.roomProperty||[];h[t]||(h[t]={});const p=h[t];p.name=e.name,p.extend=n;let f=n.highlightColor,m=n.normalColor,g=n.pixelPathColor;l&&(f=c,m=c);const{colorFormat:y,alpha:v}=o(f),{colorFormat:_,alpha:w}=o(m),{colorFormat:b,alpha:x}=o(g);p.normalColor=m,p.highlightColor=f,p.colorAlpha=v,p.normalColorAlpha=w,p.pixelPathColorAlpha=x,p.colors=[y.r,y.g,y.b],p.normalColors=[_.r,_.g,_.b],p.pixelPathColorData=[b.r,b.g,b.b],p.pixelPathData=[];const M=n.vertexDataOuter||[],L=n.vertexDataInner||[];p.vertexDataOuter=M,p.vertexDataInner=L;let C=0,E=0,B=0,S=0;const T=[],D=[];M.forEach((t=>{const n={x:t.x,y:-t.y};C+=n.x,E+=-n.y,i.useContour&&(d.push({x:n.x,y:n.y,type:e.pixelType}),T.push({x:n.x,y:-n.y}))})),L.forEach((t=>{const e={x:t.x,y:-t.y};B+=e.x,S+=-e.y,D.push({x:e.x,y:-e.y})})),M.length,L.length;const I=s(a(T));s(a(D)),p.sumOuterX=C,p.sumOuterY=E,p.sumInnerX=B,p.sumInnerY=S,p.vertexDataOuterPoints=T,p.vertexDataInnerPoints=D,p.vertexDataOuterCenter={x:I[0],y:I[1]},p.vertexDataInnerCenter={x:I[0],y:I[1]},p.roomProperty=u,p.roomFloorMaterial2d=e.roomFloorMaterial2d,p.roomFloorMaterial3d=e.roomFloorMaterial3d,p.defaultOrder=e.defaultOrder||"0",p.isFoldable=e.isFoldable,p.roomNameTextColor=e.roomNameTextColor,p.roomNameTextFont=e.roomNameTextFont,p.roomNameTextSize=e.roomNameTextSize,p.roomNameTextStroke=e.roomNameTextStroke,p.roomPropertyBgColor=e.roomPropertyBgColor,p.roomPropertyStyle=e.roomPropertyStyle,p.roomPropertyTextColor=e.roomPropertyTextColor,p.pixelType=e.pixelType||n.pixelType||"",p.pixelMode=e.pixelMode||n.pixelMode||"",p.pixelPathColor=e.pixelPathColor||n.pixelPathColor||"#FFFFFFFF"}));const p={};i.width,i.height;const f=i.width,m=i.version,g=new Set(i.map.toLowerCase().match(/.{1,2}/g)),y=Array.from(g),v=[];let _=0,w=0;i.useContour?n(i.map.toLowerCase(),((t,e,n)=>{const r=e-1;if(0!==r&&r%f==0&&_++,_>i.height)return;const o=""+n[w++]+n[w++];if("undefinedundefined"!==o&&void 0!==h[o]){const t={x:r%f,y:_,z:0};"path"===h[o].pixelMode&&"sweep"===h[o].pixelType&&h[o].pixelPathData.push(t.x,t.y,t.z)}})):n(i.map.toLowerCase(),((t,e,n)=>{const r=e-1;if(0!==r&&r%f==0&&_++,_>i.height)return;const o=""+n[w++]+n[w++];if("undefinedundefined"!==o){if(void 0!==A[o]){const t={x:r%f,y:_,type:A[o].pixelType||""},e={x:t.x,y:-t.y,z:0};let n=A[o]?A[o].highlightColor:"",i=A[o]?A[o].normalColor:"";""!==n&&""!==i?(p[o]||(p[o]={sumX:0,sumY:0,center:[-999999,-999999],pointsArray:[],pixelPoints:[],points:[],normalColors:[],colors:[],highlightColor:"",normalColor:"",pixelType:"",pixelMode:"",pixelPathColor:"#FFFFFFFF",boundingRect:{}}),p[o].pointsArray.push(e.x,e.y,e.z),p[o].points.push({x:e.x,y:-e.y}),p[o].sumX+=e.x,p[o].sumY+=e.y,p[o].pixelPoints.push({x:e.x,y:e.y}),d.push(t)):console.warn("[MapParse] colorKeyIndex in roomInfoMap was not found",o)}if(m>=2&&"010"===function(t){let e=t;const n=t.length;if(n<8){const t=8-n;for(let n=0;n<t;n++)e="0"+e;return e}if(n>8){const t=n-8;return e=e.slice(t),e}return e}(parseInt(o,16).toString(2)).slice(5)){const t={x:r%f,y:_};v.push(t)}}}));const b=[],x=i.useContour?A:p;try{Object.keys(x).forEach((n=>{const r=x[n],o=h[n];if(o){const s={...r,...o},l=[];let c=1,u=[0,0];if(i.useContour?(c=s.vertexDataOuterPoints.length||1,u=[s.sumOuterX/c,s.sumOuterY/c],s.center={x:u[0],y:u[1]},s.boundingRect=a(s.vertexDataInnerPoints)):(c=s.pixelPoints.length||1,u=[s.sumX/c,s.sumY/c],s.center={x:u[0],y:u[1]},s.boundingRect=a(s.points)),!i.useContour){const n=s.boundingRect.boundingBox.minX,r=s.boundingRect.boundingBox.maxX,i=-s.boundingRect.boundingBox.maxY,o=-s.boundingRect.boundingBox.minY,a={x:n,y:i},c={x:r,y:i},u={x:n,y:o},A={x:r,y:o},h={x:n-10,y:-s.center.y},d={x:r+10,y:-s.center.y},p=t(h,d,a,u),f=t(h,d,c,A);if(p&&f){for(let t=n;t<r;t++){const n=e(p,f,t);n.y=-n.y,n.x=n.x;const r={x:Math.ceil(n.x),y:Math.ceil(n.y)},i={x:Math.floor(n.x),y:Math.floor(n.y)};if(l.push(r,i),Math.floor(n.x)!==Math.ceil(n.x)&&Math.floor(n.y)!==Math.ceil(n.y)){const t={x:Math.ceil(n.x),y:Math.floor(n.y)},e={x:Math.floor(n.x),y:Math.ceil(n.y)};l.push(t,e)}}const t=new Map(s.pixelPoints.map((t=>[t.x+","+t.y,t]))),i=l.filter((e=>{const n=e.x+","+e.y;return t.has(n)}));if(i.sort(((t,e)=>t.x-t.y-(e.x-e.y))),i.length>=2){const t=i[0],e=i[i.length-1];s.center={x:(t.x+e.x)/2,y:(t.y+e.y)/2}}}}const A={useContour:i.useContour,pointsArray:s.pointsArray||[],pixelPathData:s.pixelPathData||[],center:s.center,pointsAttribute:{...s,colorHex:n,newColorConfig:{normalColor:"",highlightColor:""},allInInner:l}};i.useContour?(s.extend.roomId>=0||"path"===s.pixelMode)&&(s.extend.roomId>=0||A.pointsAttribute.pixelPathData&&A.pointsAttribute.pixelPathData.length)&&b.push(A):b.push(A)}}))}catch(t){console.error(t)}const M=a(d),L=s(M),C=(new Date).getTime()-u;return{fragmentMapArray:b,center:L,boundingBox:M,pixelCoords:d,carpetPointsList:v,keySetArray:y,parseTime:C}}(i,l,c);return p=M.fragmentMapArray,f=M.center,m=M.boundingBox,v=M.pixelCoords,b=M.parseTime,_=M.keySetArray,w=M.carpetPointsList,g=function(t,e){const n=r(t),{materialMaps:i,materials:o}=n,a=[];return Array.isArray(o)&&o.forEach((t=>{if(t.extends&&void 0!==t.extends.x&&void 0!==t.extends.y&&(t.extends.x=t.extends.x+e.x,t.extends.y=t.extends.x+e.y),i[t.type]){const n={id:t.id,x:t.x+e.x,y:t.y+e.y,uri:i[t.type].uri,width:i[t.type].width,height:i[t.type].height,isScale:i[t.type].isScale||!1,scale:i[t.type].scale||.02,extends:t.extends};a.push(n)}})),a}(i.materialObject,x),Array.isArray(i.textureObject)&&(y=function(t,e){const n=r(t),i=[];return Array.isArray(n)&&n.forEach((t=>{const n=t.url,r=t.pointList||[];if(r.length>0){const t=Object.assign({},e,{textureImage:n,textureObjectPoints:r});i.push(t)}})),i}(i.textureObject.map((t=>void 0===t.pointList?Object.assign(t,{pointList:w}):t)),{width:i.width,height:i.height})),{textureList:y,fragmentMapArray:p,center:f,keySetArray:_,boundingBox:m,pixelCoords:v,materialList:g,name:u,identifyId:A,timestamp:h,parseTime:b,is3d:l,d3WallColor:c,hashCode:d}}(...arguments)}Cp.toString();let Ep='() => {\n\tconst evtFunc = msg => {\n\t\t// ============= start =============\n\t\tfunction parseDataFn() {\n\t\t\tfunction parseData(mapState,\tis3d, d3WallColor, name, identifyId, timestamp, hashCode) {\n\t\t\n\t\t\t\tlet fragmentMapArray = [];\n\t\t\t\tlet center = [mapState.width / 2, mapState.height / 2];\n\t\t\t\tlet boundingBox = {};\n\t\t\t\tlet materialList = [];\n\t\t\t\tlet textureList = [];\n\t\t\t\tlet pixelCoords = [];\n\t\t\t\tlet keySetArray = [];\n\t\t\t\tlet carpetPointsList = [];\n\t\t\t\tlet parseTime = 0; \n\t\t\t\tconst newOrigin = mapState.origin || { x: 0, y: 0 };\n\t\t\t\tconst origin = newOrigin;\n\t\t\n\t\t\t\tconst mapData = parseMap(mapState, is3d, d3WallColor);\n\t\t\t\tfragmentMapArray = mapData.fragmentMapArray;\n\t\t\t\tcenter = mapData.center;\n\t\t\t\tboundingBox = mapData.boundingBox;\n\t\t\t\tpixelCoords = mapData.pixelCoords;\n\t\t\t\tparseTime = mapData.parseTime;\n\t\t\t\tkeySetArray = mapData.keySetArray;\n\t\t\t\tcarpetPointsList = mapData.carpetPointsList;\n\n\t\t\t\tmaterialList = parseMaterial(mapState.materialObject, origin);\n\t\t\t\tif (Array.isArray(mapState.textureObject)) {\n\t\t\t\t\tconst textureObjectList = mapState.textureObject.map((textureObject) => {\n\t\t\t\t\t if (textureObject.pointList === undefined) {\n\t\t\t\t\t\t\tconst texture = Object.assign(textureObject, { pointList: carpetPointsList })\n\t\t\t\t\t\t\treturn texture;\n\t\t\t\t\t }\n\t\t\t\t\t return textureObject;\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\ttextureList = parseTextureObject(textureObjectList, {\n\t\t\t\t\t\twidth: mapState.width,\n\t\t\t\t\t\theight: mapState.height,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\n\t\t\n\t\t\t\tconst laserMap = {\n\t\t\t\t\ttextureList,\n\t\t\t\t\tfragmentMapArray,\n\t\t\t\t\tcenter,\n\t\t\t\t\tkeySetArray,\n\t\t\t\t\tboundingBox,\n\t\t\t\t\tpixelCoords,\n\t\t\t\t\tmaterialList,\n\t\t\t\t\tname,\n\t\t\t\t\tidentifyId,\n\t\t\t\t\ttimestamp,\n\t\t\t\t\tparseTime,\n\t\t\t\t\tis3d,\n\t\t\t\t\td3WallColor,\n\t\t\t\t\thashCode\n\t\t\t\t};\n\t\t\t\treturn laserMap;\n\t\t\t}\n\t\t\t/**\n\t\t\t * \n\t\t\t */\n\t\t\tfunction defaultStorePoint() {\n\t\t\t\treturn {\n\t\t\t\t\tsumX: 0,\n\t\t\t\t\tsumY: 0,\n\t\t\t\t\tcenter: [-999999, -999999],\n\t\t\t\t\tpointsArray: [],\n\t\t\t\t\tpixelPoints: [],\n\t\t\t\t\tpoints: [],\n\t\t\t\t\tnormalColors: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\thighlightColor: "",\n\t\t\t\t\tnormalColor: "",\n\t\t\t\t\tpixelType: "",\n\t\t\t\t\tpixelMode: "",\n\t\t\t\t\tpixelPathColor: "#FFFFFFFF",\n\t\t\t\t\tboundingRect: {},\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction lineSegmentsIntersection(a, b, c,\td) {\n\t\t\n\t\t\t\tconst area_abc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);\n\t\t\n\t\t\t\tconst area_abd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);\n\t\t\n\t\t\t\tif (area_abc * area_abd >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tconst area_cda = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);\n\t\t\n\t\t\t\tconst area_cdb = area_cda + area_abc - area_abd;\n\t\t\t\tif (area_cda * area_cdb >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tconst t = area_cda / (area_abd - area_abc);\n\t\t\t\tconst dx = t * (b.x - a.x),\n\t\t\t\t\tdy = t * (b.y - a.y);\n\t\t\t\treturn { x: a.x + dx, y: a.y + dy} ;\n\t\t\t};\n\t\t\n\t\t\tfunction pointAtX(a, b, x) {\n\t\t\t\tconst k = (b.y - a.y) / (b.x - a.x);\n\t\t\t\tconst y = a.y + (x - a.x) * k;\n\t\t\t\treturn { x: x, y: y };\n\t\t\t};\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * \n\t\t\t * @param items\n\t\t\t * @param executed\n\t\t\t */\n\t\t\tfunction duffEvery(items, executed) {\n\t\t\t\tlet iterations = (items.length / 2) % 8;\n\t\t\t\tlet i = 0;\n\t\t\t\twhile (iterations--) {\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t}\n\t\t\t\titerations = Math.floor(items.length / 2 / 8);\n\t\t\t\tdo {\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t} while (--iterations);\n\t\t\t}\n\t\t\n\t\t\tfunction parseMap(mapState, is3d, d3WallColor) {\n\t\t\t\tconst startTime = new Date().getTime();\n\t\t\t\tconst roomInfoMap = parseJSON(mapState.roomInfo);\n\t\t\t\tconst roomInfoSet = {};\n\t\t\t\tconst rectPoints = [];\n\t\t\n\t\t\t\tObject.keys(roomInfoMap).forEach((key) => {\n\t\t\t\t\tconst item = roomInfoMap[key];\n\t\t\t\t\tconst extend = parseJSON(item.extend);\n\t\t\t\t\tconst roomProperty = item.roomProperty || [];\n\t\t\t\t\tif (!roomInfoSet[key]) roomInfoSet[key] = {};\n\t\t\t\t\tconst instance = roomInfoSet[key];\n\t\t\t\t\tinstance["name"] = item.name;\n\t\t\t\t\tinstance["extend"] = extend;\n\t\t\t\t\t// For color\n\t\t\t\t\tlet originColor = extend.highlightColor;\n\t\t\t\t\tlet normalOriginColor = extend.normalColor;\n\t\t\t\t\tlet pixelPathColor = extend.pixelPathColor;\n\t\t\n\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\toriginColor = d3WallColor;\n\t\t\t\t\t\tnormalOriginColor = d3WallColor;\n\t\t\t\t\t}\n\t\t\t\t\tconst { colorFormat, alpha: colorAlpha } = argb2Rgb(originColor);\n\t\t\t\t\tconst { colorFormat: normalColorFormat, alpha: normalColorAlpha } =\n\t\t\t\t\t\targb2Rgb(normalOriginColor);\n\t\t\n\t\t\t\t\tconst { colorFormat: pathColorFormat, alpha: pathColorAlpha } = argb2Rgb(pixelPathColor);\n\t\t\t\t\t\n\t\t\t\t\tinstance["normalColor"] = normalOriginColor;\n\t\t\t\t\tinstance["highlightColor"] = originColor;\n\t\t\t\t\tinstance["colorAlpha"] = colorAlpha;\n\t\t\t\t\tinstance["normalColorAlpha"] = normalColorAlpha;\n\t\t\t\t\tinstance["pixelPathColorAlpha"] = pathColorAlpha;\n\t\t\t\t\tinstance["colors"] = [\n\t\t\t\t\t\tcolorFormat.r,\n\t\t\t\t\t\tcolorFormat.g,\n\t\t\t\t\t\tcolorFormat.b,\n\t\t\t\t\t];\n\t\t\t\t\tinstance["normalColors"] = [\n\t\t\t\t\t\tnormalColorFormat.r,\n\t\t\t\t\t\tnormalColorFormat.g,\n\t\t\t\t\t\tnormalColorFormat.b,\n\t\t\t\t\t];\n\t\t\n\t\t\t\t\tinstance["pixelPathColorData"] = [\n\t\t\t\t\t\tpathColorFormat.r,\n\t\t\t\t\t\tpathColorFormat.g,\n\t\t\t\t\t\tpathColorFormat.b,\n\t\t\t\t\t];\n\t\t\n\t\t\t\t\tinstance["pixelPathData"] = [];\n\t\t\n\t\t\t\t\tconst vertexDataOuter = extend.vertexDataOuter || [];\n\t\t\t\t\tconst vertexDataInner = extend.vertexDataInner || [];\n\t\t\t\t\t// For contour\n\t\t\t\t\tinstance["vertexDataOuter"] = vertexDataOuter;\n\t\t\t\t\tinstance["vertexDataInner"] = vertexDataInner;\n\t\t\t\t\t// Contour Center\n\t\t\t\t\tlet sumOuterX = 0;\n\t\t\t\t\tlet sumOuterY = 0;\n\t\t\t\t\tlet sumInnerX = 0;\n\t\t\t\t\tlet sumInnerY = 0;\n\t\t\t\t\tconst vertexDataOuterPoints = [];\n\t\t\t\t\tconst vertexDataInnerPoints = [];\n\t\t\t\t\tvertexDataOuter.forEach(coord => {\n\t\t\t\t\t\tconst realPoints = { x: coord.x, y: -coord.y };\n\t\t\t\t\t\tsumOuterX += realPoints.x;\n\t\t\t\t\t\tsumOuterY += -realPoints.y;\n\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\trectPoints.push({\n\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\ty: realPoints.y,\n\t\t\t\t\t\t\t\ttype: item.pixelType,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvertexDataOuterPoints.push({ x: realPoints.x, y: -realPoints.y })\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvertexDataInner.forEach(coord => {\n\t\t\t\t\t\tconst realPoints = { x: coord.x, y: -coord.y };\n\t\t\t\t\t\tsumInnerX += realPoints.x;\n\t\t\t\t\t\tsumInnerY += -realPoints.y;\n\t\t\t\t\t\tvertexDataInnerPoints.push({ x: realPoints.x, y: -realPoints.y })\n\t\t\t\t\t});\n\t\t\t\t\tconst outerLength = vertexDataOuter.length|| 1;\n\t\t\t\t\tconst innerLength = vertexDataInner.length || 1;\n\t\t\t\t\tconst boundingOuter = getBoundingRect(vertexDataOuterPoints);\n\t\t\t\t\tconst outerCenter = getCenterOfBounding(boundingOuter);\n\t\t\t\t\tconst boundingInner = getBoundingRect(vertexDataInnerPoints);\n\t\t\t\t\tconst innerCenter = getCenterOfBounding(boundingInner);\n\t\t\t\t\tinstance["sumOuterX"] = sumOuterX;\n\t\t\t\t\tinstance["sumOuterY"] = sumOuterY;\n\t\t\t\t\tinstance["sumInnerX"] = sumInnerX;\n\t\t\t\t\tinstance["sumInnerY"] = sumInnerY;\n\t\t\t\t\tinstance["vertexDataOuterPoints"] = vertexDataOuterPoints;\n\t\t\t\t\tinstance["vertexDataInnerPoints"] = vertexDataInnerPoints;\n\t\t\t\t\tinstance["vertexDataOuterCenter"] = { x: outerCenter[0], y: outerCenter[1] };\n\t\t\t\t\tinstance["vertexDataInnerCenter"] = { x: outerCenter[0], y: outerCenter[1] };\n\t\t\t\t\tinstance["roomProperty"] = roomProperty;\n\t\t\t\t\tinstance["roomFloorMaterial2d"] = item.roomFloorMaterial2d;\n\t\t\t\t\tinstance["roomFloorMaterial3d"] = item.roomFloorMaterial3d;\n\t\t\t\t\tinstance["defaultOrder"] = item.defaultOrder || "0";\n\t\t\t\t\tinstance["isFoldable"] = item.isFoldable;\n\t\t\t\t\tinstance["roomNameTextColor"] = item.roomNameTextColor;\n\t\t\t\t\tinstance["roomNameTextFont"] = item.roomNameTextFont;\n\t\t\t\t\tinstance["roomNameTextSize"] = item.roomNameTextSize;\n\t\t\t\t\tinstance["roomNameTextStroke"] = item.roomNameTextStroke;\n\t\t\t\t\tinstance["roomPropertyBgColor"] = item.roomPropertyBgColor;\n\t\t\t\t\tinstance["roomPropertyStyle"] = item.roomPropertyStyle;\n\t\t\t\t\tinstance["roomPropertyTextColor"] = item.roomPropertyTextColor;\n\t\t\t\t\tinstance["pixelType"] = item.pixelType || extend.pixelType || "";\n\t\t\t\t\tinstance["pixelMode"] = item.pixelMode || extend.pixelMode || "";\n\t\t\t\t\tinstance["pixelPathColor"] = item.pixelPathColor || extend.pixelPathColor || "#FFFFFFFF";\n\t\t\t\t});\n\t\t\n\t\t\t\t// +++++++++++++++++++++++++++++\n\t\t\t\tconst colorStorePoints = {};\n\t\t\t\tconst length = mapState.width * mapState.height;\n\t\t\t\tconst width = mapState.width;\n\t\t\t\tconst version = mapState.version;\n\t\t\t\tconst keySet = new Set(mapState.map.toLowerCase().match(/.{1,2}/g));\n\t\t\t\tconst keySetArray = Array.from(keySet);\n\t\t\t\tconst carpetPointsList = [];\n\t\t\n\t\t\t\tlet jIndex = 0;\n\t\t\t\tlet count = 0;\n\t\t\t\tconst executed = (item, index, items) => {\n\t\t\t\t\tconst sIndex = index - 1;\n\t\t\t\t\tif (sIndex !== 0 && sIndex % width === 0) {\n\t\t\t\t\t\tjIndex++;\n\t\t\t\t\t}\n\t\t\t\t\tif (jIndex > mapState.height) return;\n\t\t\t\t\tconst colorKeyIndex = "" + items[count++] + items[count++];\n\t\t\t\t\tif (colorKeyIndex !== "undefinedundefined") {\n\t\t\t\t\t\tif (roomInfoMap[colorKeyIndex] !== undefined) {\n\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\ttype: roomInfoMap[colorKeyIndex].pixelType || "",\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconst realPoints = { x: point.x, y: -point.y, z: 0 };\n\t\t\t\t\t\t\tlet originColor = roomInfoMap[colorKeyIndex]\n\t\t\t\t\t\t\t\t? roomInfoMap[colorKeyIndex].highlightColor\n\t\t\t\t\t\t\t\t: "";\n\t\t\t\t\t\t\tlet normalOriginColor = roomInfoMap[colorKeyIndex]\n\t\t\t\t\t\t\t\t? roomInfoMap[colorKeyIndex].normalColor\n\t\t\t\t\t\t\t\t: "";\n\t\t\t\t\t\t\tif (originColor !== "" && normalOriginColor !== "") {\n\t\t\t\t\t\t\t\tif (!colorStorePoints[colorKeyIndex]) {\n\t\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex] = defaultStorePoint();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].pointsArray.push(\n\t\t\t\t\t\t\t\t\trealPoints.x,\n\t\t\t\t\t\t\t\t\trealPoints.y,\n\t\t\t\t\t\t\t\t\trealPoints.z\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].points.push({\n\t\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\t\ty: -realPoints.y,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].sumX += realPoints.x;\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].sumY += realPoints.y;\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].pixelPoints.push({\n\t\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\t\ty: realPoints.y,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\trectPoints.push(point);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn(\'[MapParse] colorKeyIndex in roomInfoMap was not found\', colorKeyIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// , SDK\n\t\t\t\t\t\tif (version >= 2) {\n\t\t\t\t\t\t\tconst pointInfo = padStart(parseInt(colorKeyIndex, 16).toString(2), 8, \'0\').slice(5);\n\t\t\t\t\t\t\tif (pointInfo === \'010\') {\n\t\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcarpetPointsList.push(point);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tconst executedPath = (item, index, items) => {\n\t\t\t\t\tconst sIndex = index - 1;\n\t\t\t\t\tif (sIndex !== 0 && sIndex % width === 0) {\n\t\t\t\t\t\tjIndex++;\n\t\t\t\t\t}\n\t\t\t\t\tif (jIndex > mapState.height) return;\n\t\t\t\t\tconst colorKeyIndex = "" + items[count++] + items[count++];\n\t\t\t\t\tif (colorKeyIndex !== "undefinedundefined") {\n\t\t\t\t\t\tif (roomInfoSet[colorKeyIndex] !== undefined) {\n\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\tz: 0,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (roomInfoSet[colorKeyIndex].pixelMode === \'path\' && roomInfoSet[colorKeyIndex].pixelType === \'sweep\') {\n\t\t\t\t\t\t\t\troomInfoSet[colorKeyIndex].pixelPathData.push(point.x, point.y, point.z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tif (!mapState.useContour)\t{\n\t\t\t\t\t// \n\t\t\t\t\t// \n\t\t\t\t\tduffEvery(mapState.map.toLowerCase(), executed);\n\t\t\t\t} else {\n\t\t\t\t\tduffEvery(mapState.map.toLowerCase(), executedPath);\n\t\t\t\t}\n\t\t\n\t\t\t\tconst fragmentMapArray = [];\n\t\t\t\tconst loopItems = mapState.useContour ? roomInfoMap : colorStorePoints;\n\t\t\t\t// +++++++++++++++++++++++++++++\n\t\t\t\ttry {\n\t\t\t\t\tObject.keys(loopItems).forEach((key) => {\n\t\t\t\t\t\tconst defaultItem = loopItems[key];\n\t\t\t\t\t\tconst beforeItem = roomInfoSet[key];\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (beforeItem) {\n\t\t\t\t\t\t\tconst item = { ...defaultItem, ...beforeItem };\n\t\t\t\t\t\t\tconst allInLine = [];\n\t\t\t\t\t\t\tlet pointsLength = 1;\n\t\t\t\t\t\t\tlet center = [0, 0];\n\t\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\t\tpointsLength = item.vertexDataOuterPoints.length || 1;\n\t\t\t\t\t\t\t\tcenter = [item.sumOuterX / pointsLength, item.sumOuterY / pointsLength];\n\t\t\t\t\t\t\t\titem.center = { x: center[0], y: center[1] };\n\t\t\t\t\t\t\t\titem.boundingRect = getBoundingRect(item.vertexDataInnerPoints);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpointsLength = item.pixelPoints.length || 1;\n\t\t\t\t\t\t\t\tcenter = [item.sumX / pointsLength, item.sumY / pointsLength];\n\t\t\t\t\t\t\t\titem.center = { x: center[0], y: center[1] };\n\t\t\t\t\t\t\t\titem.boundingRect = getBoundingRect(item.points);\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif (!mapState.useContour) {\n\t\t\t\t\t\t\t\t// check center points\n\t\t\t\t\t\t\t\tconst minX = item.boundingRect.boundingBox.minX;\n\t\t\t\t\t\t\t\tconst maxX = item.boundingRect.boundingBox.maxX;\n\t\t\t\t\t\t\t\tconst minY = -item.boundingRect.boundingBox.maxY;\n\t\t\t\t\t\t\t\tconst maxY = -item.boundingRect.boundingBox.minY;\n\t\t\t\t\t\t\t\tconst topLeftPoint = { x: minX, y: minY };\n\t\t\t\t\t\t\t\tconst topRightPoint = { x: maxX, y: minY\t};\n\t\t\t\t\t\t\t\tconst bottomLeftPoint = { x: minX, y: maxY };\n\t\t\t\t\t\t\t\tconst bottomRightPoint = { x: maxX, y: maxY };\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst leftPoint = {\n\t\t\t\t\t\t\t\t\tx: minX - 10,\n\t\t\t\t\t\t\t\t\ty: -item.center.y,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst rightPoint = {\n\t\t\t\t\t\t\t\t\tx: maxX + 10,\n\t\t\t\t\t\t\t\t\ty: -item.center.y,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\t\t\t\tconst crossLeft = lineSegmentsIntersection(leftPoint, rightPoint, topLeftPoint, bottomLeftPoint);\n\t\t\t\t\t\t\t\tconst crossRight = lineSegmentsIntersection(leftPoint, rightPoint, topRightPoint, bottomRightPoint);\n\t\t\n\t\t\t\t\t\t\t\tif (crossLeft && crossRight) {\n\t\t\t\t\t\t\t\t\tfor (let i = minX; i < maxX; i++) {\n\t\t\t\t\t\t\t\t\t\tconst dot = pointAtX(crossLeft, crossRight, i);\n\t\t\t\t\t\t\t\t\t\tdot.y = -dot.y;\n\t\t\t\t\t\t\t\t\t\tdot.x = dot.x;\n\t\t\t\t\t\t\t\t\t\tconst a = { x: Math.ceil(dot.x), y: Math.ceil(dot.y) };\n\t\t\t\t\t\t\t\t\t\tconst b = { x: Math.floor(dot.x), y: Math.floor(dot.y) };\n\t\t\t\t\t\t\t\t\t\tallInLine.push(a, b);\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tMath.floor(dot.x) !== Math.ceil(dot.x) &&\n\t\t\t\t\t\t\t\t\t\t\tMath.floor(dot.y) !== Math.ceil(dot.y)\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tconst c = { x: Math.ceil(dot.x), y: Math.floor(dot.y) };\n\t\t\t\t\t\t\t\t\t\t\tconst d = { x: Math.floor(dot.x), y: Math.ceil(dot.y) };\n\t\t\t\t\t\t\t\t\t\t\tallInLine.push(c, d);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\t\tconst pixelPointsStoreMap = new Map(\n\t\t\t\t\t\t\t\t\t\titem.pixelPoints.map((v) => {\n\t\t\t\t\t\t\t\t\t\t\tconst str = v.x + \',\' + v.y;\n\t\t\t\t\t\t\t\t\t\t\treturn [str, v]\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst allInInner = allInLine.filter((v) => {\n\t\t\t\t\t\t\t\t\t\tconst str = v.x + \',\' + v.y;\n\t\t\t\t\t\t\t\t\t\treturn pixelPointsStoreMap.has(str);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t// \n\t\t\t\t\t\t\t\t\tallInInner.sort((a, b) => {\n\t\t\t\t\t\t\t\t\t\treturn a.x - a.y - (b.x - b.y);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (allInInner.length >= 2 ) {\n\t\t\t\t\t\t\t\t\t\tconst p0 = allInInner[0];\n\t\t\t\t\t\t\t\t\t\tconst p1 = allInInner[allInInner.length - 1];\n\t\t\t\t\t\t\t\t\t\titem.center = { x: (p0.x + p1.x) / 2, y: (p0.y + p1.y) / 2 };\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tconst fragmentElement = {\n\t\t\t\t\t\t\t\tuseContour: mapState.useContour,\n\t\t\t\t\t\t\t\tpointsArray: item.pointsArray || [],\n\t\t\t\t\t\t\t\tpixelPathData: item.pixelPathData || [],\n\t\t\t\t\t\t\t\tcenter: item.center,\n\t\t\t\t\t\t\t\tpointsAttribute: {\n\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\tcolorHex: key,\n\t\t\t\t\t\t\t\t\tnewColorConfig: { normalColor: "", highlightColor: "" },\n\t\t\t\t\t\t\t\t\tallInInner: allInLine,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\n\t\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\t\tif (item.extend.roomId >= 0 || item.pixelMode === \'path\') {\n\t\t\t\t\t\t\t\t\tif (item.extend.roomId >= 0 || (fragmentElement.pointsAttribute.pixelPathData && fragmentElement.pointsAttribute.pixelPathData.length)) {\n\t\t\t\t\t\t\t\t\t\tfragmentMapArray.push(fragmentElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfragmentMapArray.push(fragmentElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\n\t\t\t\tconst boundRect = getBoundingRect(rectPoints);\n\t\t\t\tconst boundCenter = getCenterOfBounding(boundRect);\n\t\t\n\t\t\t\tconst endTime = new Date().getTime();\n\t\t\n\t\t\t\tconst parseTime = endTime - startTime;\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfragmentMapArray,\n\t\t\t\t\tcenter: boundCenter,\n\t\t\t\t\tboundingBox: boundRect,\n\t\t\t\t\tpixelCoords: rectPoints,\n\t\t\t\t\tcarpetPointsList,\n\t\t\t\t\tkeySetArray,\n\t\t\t\t\tparseTime, \n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction padStart(str, length, chars) {\n\t\t\t\tlet result = str;\n\t\t\t\tconst len = str.length;\n\t\t\t\tif (len < length) {\n\t\t\t\t\tconst addCount = length - len;\n\t\t\t\t\tfor (let i = 0; i < addCount; i++) {\n\t\t\t\t\t\tresult = \'\' + chars + result;\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tif (len > length) {\n\t\t\t\t\tconst subCount = len - length;\n\t\t\t\t\tresult = result.slice(subCount);\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\n\t\t\tfunction parseMaterial(materialData, origin) {\n\t\t\t\tconst materialObject = parseJSON(materialData);\n\t\t\t\tconst { materialMaps, materials } = materialObject;\n\t\t\t\tconst materialList = [];\n\t\t\t\tArray.isArray(materials) &&\n\t\t\t\t\tmaterials.forEach((material) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tmaterial.extends &&\n\t\t\t\t\t\t\tmaterial.extends.x !== undefined &&\n\t\t\t\t\t\t\tmaterial.extends.y !== undefined\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmaterial.extends.x = material.extends.x + origin.x;\n\t\t\t\t\t\t\tmaterial.extends.y = material.extends.x + origin.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (materialMaps[material.type]) {\n\t\t\t\t\t\t\tconst formatMaterial = {\n\t\t\t\t\t\t\t\tid: material.id,\n\t\t\t\t\t\t\t\tx: material.x + origin.x,\n\t\t\t\t\t\t\t\ty: material.y + origin.y,\n\t\t\t\t\t\t\t\turi: materialMaps[material.type].uri,\n\t\t\t\t\t\t\t\twidth: materialMaps[material.type].width,\n\t\t\t\t\t\t\t\theight: materialMaps[material.type].height,\n\t\t\t\t\t\t\t\tisScale: materialMaps[material.type].isScale || false,\n\t\t\t\t\t\t\t\tscale: materialMaps[material.type].scale || 0.02,\n\t\t\t\t\t\t\t\textends: material.extends,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmaterialList.push(formatMaterial);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\treturn materialList;\n\t\t\t}\n\t\t\n\t\t\tfunction parseTextureObject(textureData, opt) {\n\t\t\t\tconst textureObjects = parseJSON(textureData);\n\t\t\t\tconst textureList = [];\n\t\t\n\t\t\t\tArray.isArray(textureObjects) &&\n\t\t\t\t\ttextureObjects.forEach((texture) => {\n\t\t\t\t\t\tconst textureImage = texture.url;\n\t\t\t\t\t\tconst textureObjectPoints = texture.pointList || [];\n\t\t\t\t\t\tif (textureObjectPoints.length > 0) {\n\t\t\t\t\t\t\tconst textureObject = Object.assign({}, opt, {\n\t\t\t\t\t\t\t\ttextureImage,\n\t\t\t\t\t\t\t\ttextureObjectPoints,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttextureList.push(textureObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\treturn textureList;\n\t\t\t}\n\t\t\n\t\t\tfunction parseJSON(str) {\n\t\t\t\tlet rst;\n\t\t\t\tif (str && {}.toString.call(str) === "[object String]") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\trst = JSON.parse(str);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\trst = str;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trst = typeof str === "undefined" ? {} : str;\n\t\t\t\t}\n\t\t\t\treturn rst;\n\t\t\t}\n\t\t\n\t\t\t// \n\t\t\tconst colorCache = {};\n\t\t\n\t\t\tfunction argb2Rgb(color) {\n\t\t\t\tif (!colorCache[color]) {\n\t\t\t\t\tif (color && color.length === 9 && color.indexOf("#") === 0) {\n\t\t\t\t\t\tconst colorInt = parseInt(color.substring(1), 16);\n\t\t\t\t\t\tconst a = colorInt >>> 24; \n\t\t\t\t\t\tconst r = (colorInt >> 16) & 0xff;\n\t\t\t\t\t\tconst g = (colorInt >> 8) & 0xff;\n\t\t\t\t\t\tconst b = colorInt & 0xff;\n\t\t\n\t\t\t\t\t\tcolorCache[color] = {\n\t\t\t\t\t\t\tcolorFormat: {\n\t\t\t\t\t\t\t\tr: Math.floor(r / 2.55) / 100,\n\t\t\t\t\t\t\t\tg: Math.floor(g / 2.55) / 100,\n\t\t\t\t\t\t\t\tb: Math.floor(b / 2.55) / 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\talpha: Math.floor(a / 2.55) / 100,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolorCache[color] = { colorFormat: { r: 1, g: 1, b: 1 }, alpha: 1 };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn colorCache[color];\n\t\t\t}\n\t\t\n\t\t\tfunction getBoundingRect(points) {\n\t\t\t\tconst rect = {\n\t\t\t\t\ttl: [0, 0],\n\t\t\t\t\ttr: [0, 0],\n\t\t\t\t\tbr: [0, 0],\n\t\t\t\t\tbl: [0, 0],\n\t\t\t\t\t_tl: [0, 0],\n\t\t\t\t\t_tr: [0, 0],\n\t\t\t\t\t_br: [0, 0],\n\t\t\t\t\t_bl: [0, 0],\n\t\t\t\t\tboundingBox: {\n\t\t\t\t\t\tminX: 0,\n\t\t\t\t\t\tminY: 0,\n\t\t\t\t\t\tmaxX: 0,\n\t\t\t\t\t\tmaxY: 0,\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0,\n\t\t\t\t\t},\n\t\t\t\t\t_boundingBox: {\n\t\t\t\t\t\tminX: 0,\n\t\t\t\t\t\tminY: 0,\n\t\t\t\t\t\tmaxX: 0,\n\t\t\t\t\t\tmaxY: 0,\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tif (points.length < 1) {\n\t\t\t\t\treturn rect;\n\t\t\t\t}\n\t\t\n\t\t\t\tlet minX = 9999999,\n\t\t\t\t\tminY = 9999999,\n\t\t\t\t\tmaxX = -9999999,\n\t\t\t\t\tmaxY = -9999999;\n\t\t\t\t\n\t\t\t\tlet _minX = 9999999,\n\t\t\t\t\t_minY = 9999999,\n\t\t\t\t\t_maxX = -9999999,\n\t\t\t\t\t_maxY = -9999999;\n\t\t\n\t\t\t\tfor (let i = points.length - 1; i >= 0; i--) {\n\t\t\t\t\tconst point = { x: points[i].x, y: -points[i].y };\n\t\t\t\t\tconst coord = { x: points[i].x, y: points[i].y };\n\t\t\t\t\tif (point.x > maxX) {\n\t\t\t\t\t\tmaxX = point.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.x < minX) {\n\t\t\t\t\t\tminX = point.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.y > maxY) {\n\t\t\t\t\t\tmaxY = point.y;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.y < minY) {\n\t\t\t\t\t\tminY = point.y;\n\t\t\t\t\t}\n\t\t\t\t\t// \n\t\t\t\t\tif (coord.x > _maxX) {\n\t\t\t\t\t\t_maxX = coord.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.x < _minX) {\n\t\t\t\t\t\t_minX = coord.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.y > _maxY) {\n\t\t\t\t\t\t_maxY = coord.y;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.y < _minY) {\n\t\t\t\t\t\t_minY = coord.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trect.tl = [minX, minY];\n\t\t\t\trect.tr = [maxX, minY];\n\t\t\t\trect.bl = [minX, maxY];\n\t\t\t\trect.br = [maxX, maxY];\n\t\t\n\t\t\t\t_minX = _minX - 1;\n\t\t\t\t_minY = _minY - 1;\n\t\t\t\t_maxX = _maxX + 1;\n\t\t\t\t_maxY = _maxY + 1;\n\t\t\n\t\t\t\trect._tl = [_minX, _minY];\n\t\t\t\trect._tr = [_maxX, _minY];\n\t\t\t\trect._bl = [_minX, _maxY];\n\t\t\t\trect._br = [_maxX, _maxY];\n\t\t\n\t\t\t\tconst width = Math.sqrt(\n\t\t\t\t\tMath.pow(rect.tr[0] - rect.tl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect.tr[1] - rect.tl[1], 2)\n\t\t\t\t);\n\t\t\t\tconst height = Math.sqrt(\n\t\t\t\t\tMath.pow(rect.br[0] - rect.bl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect.br[1] - rect.bl[1], 2)\n\t\t\t\t);\n\t\t\n\t\t\t\tconst _width = Math.sqrt(\n\t\t\t\t\tMath.pow(rect._tr[0] - rect._tl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect._tr[1] - rect._tl[1], 2)\n\t\t\t\t);\n\t\t\t\tconst _height = Math.sqrt(\n\t\t\t\t\tMath.pow(rect._br[0] - rect._bl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect._br[1] - rect._bl[1], 2)\n\t\t\t\t);\n\t\t\n\t\t\t\trect.boundingBox = {\n\t\t\t\t\tminX: minX,\n\t\t\t\t\tminY: minY,\n\t\t\t\t\tmaxX: maxX,\n\t\t\t\t\tmaxY: maxY,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t};\n\t\t\n\t\t\t\trect._boundingBox = {\n\t\t\t\t\tminX: _minX,\n\t\t\t\t\tminY: _minY,\n\t\t\t\t\tmaxX: _maxX,\n\t\t\t\t\tmaxY: _maxY,\n\t\t\t\t\twidth: _width,\n\t\t\t\t\theight: _height,\n\t\t\t\t};\n\t\t\n\t\t\t\treturn rect;\n\t\t\t}\n\t\t\n\t\t\tfunction getCenterOfBounding(rect) {\n\t\t\t\tconst minX = rect.boundingBox.minX;\n\t\t\t\tconst maxX = rect.boundingBox.maxX;\n\t\t\t\tconst minY = rect.boundingBox.minY;\n\t\t\t\tconst maxY = rect.boundingBox.maxY;\n\t\t\t\tconst cx = (minX + maxX) / 2;\n\t\t\t\tconst cy = (minY + maxY) / 2;\n\t\t\n\t\t\t\treturn [cx, cy];\n\t\t\t}\n\t\t\n\t\t\tfunction isEqual(target, source) {\n\t\t\t\tif (typeof target === "string" && typeof source === "string") {\n\t\t\t\t\treturn target === source;\n\t\t\t\t} else if (\n\t\t\t\t\tObject.prototype.toString.call(target) === "[object Object]" &&\n\t\t\t\t\tObject.prototype.toString.call(source) === "[object Object]"\n\t\t\t\t) {\n\t\t\t\t\treturn JSON.stringify(target) === JSON.stringify(source);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\n\t\t\treturn parseData(...arguments);\n\t\t}\n\t\t\n\n\t\t// ============= end =============\n\n\n\t\tconst { name } = msg.data;\n\t\t\t\t\t\n\t\tconst parseDataFnStr = parseDataFn.toString();\n\t\tconst fnStr = parseDataFnStr.substring(\n\t\t\tparseDataFnStr.indexOf(\'{\') + 1,\n\t\t\tparseDataFnStr.lastIndexOf(\'}\'));\n\n\n\t\tif (name === \'parseData\') {\n\t\t\tconst { mapState, is3d, d3WallColor, identifyId, timestamp, hashCode } =\n\t\t\t\tmsg.data;\n\t\t\tconst FunctionCallee = Function || window.Function;\n\n\t\t\tconst fn = new FunctionCallee(fnStr);\n\t\t\tconst result = fn(\n\t\t\t\tmapState,\n\t\t\t\tis3d,\n\t\t\t\td3WallColor,\n\t\t\t\tname,\n\t\t\t\tidentifyId,\n\t\t\t\ttimestamp,\n\t\t\t\thashCode\n\t\t\t);\n\t\t\tself.postMessage(result);\n\t\t}\n\t\tif (name === \'remove\') {\n\t\t\tself.postMessage({ name: \'remove\' });\n\t\t\tself.removeEventListener(\'message\', evtFunc, false);\n\t\t}\n\t};\n\n\tself.addEventListener(\'message\', evtFunc, false);\n}';Ep=Ep.substring(Ep.indexOf("{")+1,Ep.lastIndexOf("}"));const Bp=new Blob([Ep],{type:"application/javascript"});var Sp={exports:{}};Sp.exports=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}for(var a=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find((function(t){return 0!==t.width}));return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),s=function(t,e){return a.fromClientRect(t,e.getBoundingClientRect())},l=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<64;h++)A[u.charCodeAt(h)]=h;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<64;f++)p[d.charCodeAt(f)]=f;for(var m=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},g=function(){function t(t,e,n,r,i,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256),_=0;_<64;_++)v[y.charCodeAt(_)]=_;var w=10,b=13,x=15,M=17,L=18,C=19,E=20,B=21,S=22,T=24,D=25,I=26,P=27,F=28,k=30,R=32,U=33,O=34,H=35,Y=37,Q=38,N=39,j=40,W=42,V=[9001,65288],z="",G="",K=function(t){var e=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),u=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=p[t.charCodeAt(e)],r=p[t.charCodeAt(e+1)],i=p[t.charCodeAt(e+2)],o=p[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}(t),n=Array.isArray(e)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}(e):new Uint32Array(e),r=Array.isArray(e)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n}(e):new Uint16Array(e),i=m(r,12,n[4]/2),o=2===n[5]?m(r,(24+n[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(n,Math.ceil((24+n[4])/4));return new g(n[0],n[1],n[2],n[3],i,o)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Z=[k,36],X=[1,2,3,5],q=[w,8],J=[P,I],$=X.concat(q),tt=[Q,N,j,O,H],et=[x,b],nt=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(var o=n;o<=r.length;){if((l=r[++o])===e)return!0;if(l!==w)break}if(i===w)for(o=n;o>0;){var a=r[--o];if(Array.isArray(t)?-1!==t.indexOf(a):t===a)for(var s=n;s<=r.length;){var l;if((l=r[++s])===e)return!0;if(l!==w)break}if(a!==w)break}return!1},rt=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r!==w)return r;n--}return 0},it=function(t,e,n,r,i){if(0===n[r])return z;var o=r-1;if(Array.isArray(i)&&!0===i[o])return z;var a=o-1,s=o+1,l=e[o],c=a>=0?e[a]:0,u=e[s];if(2===l&&3===u)return z;if(-1!==X.indexOf(l))return"!";if(-1!==X.indexOf(u))return z;if(-1!==q.indexOf(u))return z;if(8===rt(o,e))return G;if(11===K.get(t[o]))return z;if((l===R||l===U)&&11===K.get(t[s]))return z;if(7===l||7===u)return z;if(9===l)return z;if(-1===[w,b,x].indexOf(l)&&9===u)return z;if(-1!==[M,L,C,T,F].indexOf(u))return z;if(rt(o,e)===S)return z;if(nt(23,S,o,e))return z;if(nt([M,L],B,o,e))return z;if(nt(12,12,o,e))return z;if(l===w)return G;if(23===l||23===u)return z;if(16===u||16===l)return G;if(-1!==[b,x,B].indexOf(u)||14===l)return z;if(36===c&&-1!==et.indexOf(l))return z;if(l===F&&36===u)return z;if(u===E)return z;if(-1!==Z.indexOf(u)&&l===D||-1!==Z.indexOf(l)&&u===D)return z;if(l===P&&-1!==[Y,R,U].indexOf(u)||-1!==[Y,R,U].indexOf(l)&&u===I)return z;if(-1!==Z.indexOf(l)&&-1!==J.indexOf(u)||-1!==J.indexOf(l)&&-1!==Z.indexOf(u))return z;if(-1!==[P,I].indexOf(l)&&(u===D||-1!==[S,x].indexOf(u)&&e[s+1]===D)||-1!==[S,x].indexOf(l)&&u===D||l===D&&-1!==[D,F,T].indexOf(u))return z;if(-1!==[D,F,T,M,L].indexOf(u))for(var A=o;A>=0;){if((h=e[A])===D)return z;if(-1===[F,T].indexOf(h))break;A--}if(-1!==[P,I].indexOf(u))for(A=-1!==[M,L].indexOf(l)?a:o;A>=0;){var h;if((h=e[A])===D)return z;if(-1===[F,T].indexOf(h))break;A--}if(Q===l&&-1!==[Q,N,O,H].indexOf(u)||-1!==[N,O].indexOf(l)&&-1!==[N,j].indexOf(u)||-1!==[j,H].indexOf(l)&&u===j)return z;if(-1!==tt.indexOf(l)&&-1!==[E,I].indexOf(u)||-1!==tt.indexOf(u)&&l===P)return z;if(-1!==Z.indexOf(l)&&-1!==Z.indexOf(u))return z;if(l===T&&-1!==Z.indexOf(u))return z;if(-1!==Z.concat(D).indexOf(l)&&u===S&&-1===V.indexOf(t[s])||-1!==Z.concat(D).indexOf(u)&&l===L)return z;if(41===l&&41===u){for(var d=n[o],p=1;d>0&&41===e[--d];)p++;if(p%2!=0)return z}return l===R&&u===U?z:G},ot=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],r=[],i=[];return t.forEach((function(t,o){var a=K.get(t);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(k);var s=n[o-1];return-1===$.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(k))}return r.push(o),31===a?n.push("strict"===e?B:Y):a===W||29===a?n.push(k):43===a?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(Y):n.push(k):void n.push(a)})),[r,n,i]}(t,e.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map((function(t){return-1!==[D,k,W].indexOf(t)?Y:t})));var a="keep-all"===e.wordBreak?o.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0;return[r,i,a]},at=function(){function t(t,e,n,r){this.codePoints=t,this.required="!"===e,this.start=n,this.end=r}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),st=45,lt=43,ct=-1,ut=function(t){return t>=48&&t<=57},At=function(t){return ut(t)||t>=65&&t<=70||t>=97&&t<=102},ht=function(t){return 10===t||9===t||32===t},dt=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},pt=function(t){return dt(t)||ut(t)||t===st},ft=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},mt=function(t,e){return 92===t&&10!==e},gt=function(t,e,n){return t===st?dt(e)||mt(e,n):!!dt(t)||!(92!==t||!mt(t,e))},yt=function(t,e,n){return t===lt||t===st?!!ut(e)||46===e&&ut(n):ut(46===t?e:t)},vt=function(t){var e=0,n=1;t[e]!==lt&&t[e]!==st||(t[e]===st&&(n=-1),e++);for(var r=[];ut(t[e]);)r.push(t[e++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;46===t[e]&&e++;for(var o=[];ut(t[e]);)o.push(t[e++]);var a=o.length,s=a?parseInt(c.apply(void 0,o),10):0;69!==t[e]&&101!==t[e]||e++;var l=1;t[e]!==lt&&t[e]!==st||(t[e]===st&&(l=-1),e++);for(var u=[];ut(t[e]);)u.push(t[e++]);var A=u.length?parseInt(c.apply(void 0,u),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,l*A)},_t={type:2},wt={type:3},bt={type:4},xt={type:13},Mt={type:8},Lt={type:21},Ct={type:9},Et={type:10},Bt={type:11},St={type:12},Tt={type:14},Dt={type:23},It={type:1},Pt={type:25},Ft={type:24},kt={type:26},Rt={type:27},Ut={type:28},Ot={type:29},Ht={type:31},Yt={type:32},Qt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(l(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Yt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(pt(e)||mt(n,r)){var i=gt(e,n,r)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),xt;break;case 39:return this.consumeStringToken(39);case 40:return _t;case 41:return wt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Tt;break;case lt:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return bt;case st:var o=t,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(yt(o,a,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(gt(o,a,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(a===st&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Ft;break;case 46:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(l===ct)return this.consumeToken()}break;case 58:return kt;case 59:return Rt;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),Pt;break;case 64:var u=this.peekCodePoint(0),A=this.peekCodePoint(1),h=this.peekCodePoint(2);if(gt(u,A,h))return{type:7,value:this.consumeName()};break;case 91:return Ut;case 92:if(mt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Ot;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Mt;break;case 123:return Bt;case 125:return St;case 117:case 85:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d!==lt||!At(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ct;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Lt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Et;break;case ct:return Yt}return ht(t)?(this.consumeWhiteSpace(),Ht):ut(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):dt(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();At(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(c.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var r=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===st&&At(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var i=[];At(e)&&i.length<6;)i.push(e),e=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Dt)}for(;;){var r=this.consumeCodePoint();if(r===ct||41===r)return{type:22,value:c.apply(void 0,t)};if(ht(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Dt);if(34===r||39===r||40===r||ft(r))return this.consumeBadUrlRemnants(),Dt;if(92===r){if(!mt(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Dt;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;ht(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===ct)return;mt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(5e4,t);e+=c.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var r=this._value[n];if(r===ct||void 0===r||r===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),It;if(92===r){var i=this._value[n+1];i!==ct&&void 0!==i&&(10===i?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):mt(r,i)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(n!==lt&&n!==st||t.push(this.consumeCodePoint());ut(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&ut(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;ut(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((r===lt||r===st)&&ut(i)||ut(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;ut(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[vt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return gt(r,i,o)?{type:15,number:e,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(At(t)){for(var e=c(t);At(this.peekCodePoint(0))&&e.length<6;)e+=c(this.consumeCodePoint());ht(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return t===ct?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(pt(e))t+=c(e);else{if(!mt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),Nt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Qt;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||qt(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Yt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),jt=function(t){return 15===t.type},Wt=function(t){return 17===t.type},Vt=function(t){return 20===t.type},zt=function(t){return 0===t.type},Gt=function(t,e){return Vt(t)&&t.value===e},Kt=function(t){return 31!==t.type},Zt=function(t){return 31!==t.type&&4!==t.type},Xt=function(t){var e=[],n=[];return t.forEach((function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)})),n.length&&e.push(n),e},qt=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Jt=function(t){return 17===t.type||15===t.type},$t=function(t){return 16===t.type||Jt(t)},te=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ee={type:17,number:0,flags:4},ne={type:16,number:50,flags:4},re={type:16,number:100,flags:4},ie=function(t,e,n){var r=t[0],i=t[1];return[oe(r,e),oe(void 0!==i?i:r,n)]},oe=function(t,e){if(16===t.type)return t.number/100*e;if(jt(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},ae="grad",se="turn",le=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case ae:return Math.PI/200*e.number;case"rad":return e.number;case se:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ce=function(t){return 15===t.type&&("deg"===t.unit||t.unit===ae||"rad"===t.unit||t.unit===se)},ue=function(t){switch(t.filter(Vt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ee,ee];case"to top":case"bottom":return Ae(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ee,re];case"to right":case"left":return Ae(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[re,re];case"to bottom":case"top":return Ae(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[re,ee];case"to left":case"right":return Ae(270)}return 0},Ae=function(t){return Math.PI*t/180},he=function(t,e){if(18===e.type){var n=_e[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var r=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return fe(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===e.value.length){r=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);var a=e.value.substring(3,4);return fe(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===e.value.length)return r=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),fe(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===e.value.length)return r=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),a=e.value.substring(6,8),fe(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}if(20===e.type){var s=be[e.value.toUpperCase()];if(void 0!==s)return s}return be.TRANSPARENT},de=function(t){return!(255&t)},pe=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},fe=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r))>>>0},me=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},ge=function(t,e){var n=e.filter(Zt);if(3===n.length){var r=n.map(me),i=r[0],o=r[1],a=r[2];return fe(i,o,a,1)}if(4===n.length){var s=n.map(me),l=(i=s[0],o=s[1],a=s[2],s[3]);return fe(i,o,a,l)}return 0};function ye(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ve=function(t,e){var n=e.filter(Zt),r=n[0],i=n[1],o=n[2],a=n[3],s=(17===r.type?Ae(r.number):le(t,r))/(2*Math.PI),l=$t(i)?i.number/100:0,c=$t(o)?o.number/100:0,u=void 0!==a&&$t(a)?oe(a,1):1;if(0===l)return fe(255*c,255*c,255*c,1);var A=c<=.5?c*(l+1):c+l-c*l,h=2*c-A,d=ye(h,A,s+1/3),p=ye(h,A,s),f=ye(h,A,s-1/3);return fe(255*d,255*p,255*f,u)},_e={hsl:ve,hsla:ve,rgb:ge,rgba:ge},we=function(t,e){return he(t,Nt.create(e).parseComponentValue())},be={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Vt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Me={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Le=function(t,e){var n=he(t,e[0]),r=e[1];return r&&$t(r)?{color:n,stop:r}:{color:n,stop:null}},Ce=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=ee),null===r.stop&&(r.stop=re);for(var i=[],o=0,a=0;a<t.length;a++){var s=t[a].stop;if(null!==s){var l=oe(s,e);l>o?i.push(l):i.push(o),o=l}else i.push(null)}var c=null;for(a=0;a<i.length;a++){var u=i[a];if(null===u)null===c&&(c=a);else if(null!==c){for(var A=a-c,h=(u-i[c-1])/(A+1),d=1;d<=A;d++)i[c+d-1]=h*d;c=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,i[n]/e),0)}}))},Ee=function(t,e,n){var r="number"==typeof t?t:function(t,e,n){var r=e/2,i=n/2,o=oe(t[0],e)-r,a=i-oe(t[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)}(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),o=e/2,a=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,o-c,o+c,a-l,a+l]},Be=function(t,e){return Math.sqrt(t*t+e*e)},Se=function(t,e,n,r,i){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var o=e[0],a=e[1],s=Be(n-o,r-a);return(i?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Te=function(t,e){var n=Ae(180),r=[];return Xt(e).forEach((function(e,i){if(0===i){var o=e[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=ue(e));if(ce(o))return void(n=(le(t,o)+Ae(270))%Ae(360))}var a=Le(t,e);r.push(a)})),{angle:n,stops:r,type:1}},De="closest-side",Ie="farthest-side",Pe="closest-corner",Fe="farthest-corner",ke="circle",Re="ellipse",Ue="cover",Oe="contain",He=function(t,e){var n=0,r=3,i=[],o=[];return Xt(e).forEach((function(e,a){var s=!0;if(0===a?s=e.reduce((function(t,e){if(Vt(e))switch(e.value){case"center":return o.push(ne),!1;case"top":case"left":return o.push(ee),!1;case"right":case"bottom":return o.push(re),!1}else if($t(e)||Jt(e))return o.push(e),!1;return t}),s):1===a&&(s=e.reduce((function(t,e){if(Vt(e))switch(e.value){case ke:return n=0,!1;case Re:return n=1,!1;case Oe:case De:return r=0,!1;case Ie:return r=1,!1;case Pe:return r=2,!1;case Ue:case Fe:return r=3,!1}else if(Jt(e)||$t(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),s)),s){var l=Le(t,e);i.push(l)}})),{size:r,shape:n,stops:i,position:o,type:2}},Ye=function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var r=Ne[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)};var Qe,Ne={"linear-gradient":function(t,e){var n=Ae(180),r=[];return Xt(e).forEach((function(e,i){if(0===i){var o=e[0];if(20===o.type&&"to"===o.value)return void(n=ue(e));if(ce(o))return void(n=le(t,o))}var a=Le(t,e);r.push(a)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Te,"-ms-linear-gradient":Te,"-o-linear-gradient":Te,"-webkit-linear-gradient":Te,"radial-gradient":function(t,e){var n=0,r=3,i=[],o=[];return Xt(e).forEach((function(e,a){var s=!0;if(0===a){var l=!1;s=e.reduce((function(t,e){if(l)if(Vt(e))switch(e.value){case"center":return o.push(ne),t;case"top":case"left":return o.push(ee),t;case"right":case"bottom":return o.push(re),t}else($t(e)||Jt(e))&&o.push(e);else if(Vt(e))switch(e.value){case ke:return n=0,!1;case Re:return n=1,!1;case"at":return l=!0,!1;case De:return r=0,!1;case Ue:case Ie:return r=1,!1;case Oe:case Pe:return r=2,!1;case Fe:return r=3,!1}else if(Jt(e)||$t(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),s)}if(s){var c=Le(t,e);i.push(c)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":He,"-ms-radial-gradient":He,"-o-radial-gradient":He,"-webkit-radial-gradient":He,"-webkit-gradient":function(t,e){var n=Ae(180),r=[],i=1;return Xt(e).forEach((function(e,n){var o=e[0];if(0===n){if(Vt(o)&&"linear"===o.value)return void(i=1);if(Vt(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=he(t,o.values[0]);r.push({stop:ee,color:a})}else if("to"===o.name)a=he(t,o.values[0]),r.push({stop:re,color:a});else if("color-stop"===o.name){var s=o.values.filter(Zt);if(2===s.length){a=he(t,s[1]);var l=s[0];Wt(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:a})}}})),1===i?{angle:(n+Ae(180))%Ae(360),stops:r,type:i}:{size:3,shape:0,stops:r,position:[],type:i}}},je={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter((function(t){return Zt(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!Ne[t.name])}(t)})).map((function(e){return Ye(t,e)}))}},We={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Vt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ve={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Xt(e).map((function(t){return t.filter($t)})).map(te)}},ze={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Xt(e).map((function(t){return t.filter(Vt).map((function(t){return t.value})).join(" ")})).map(Ge)}},Ge=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Qe||(Qe={}));var Ke,Ze={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Xt(e).map((function(t){return t.filter(Xe)}))}},Xe=function(t){return Vt(t)||$t(t)},qe=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Je=qe("top"),$e=qe("right"),tn=qe("bottom"),en=qe("left"),nn=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return te(e.filter($t))}}},rn=nn("top-left"),on=nn("top-right"),an=nn("bottom-right"),sn=nn("bottom-left"),ln=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cn=ln("top"),un=ln("right"),An=ln("bottom"),hn=ln("left"),dn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return jt(e)?e.number:0}}},pn=dn("top"),fn=dn("right"),mn=dn("bottom"),gn=dn("left"),yn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},_n={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).reduce((function(t,e){return t|wn(e.value)}),0)}},wn=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},xn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Ke||(Ke={}));var Mn,Ln={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?Ke.STRICT:Ke.NORMAL}},Cn={name:"line-height",initialValue:"normal",prefix:!1,type:4},En=function(t,e){return Vt(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:$t(t)?oe(t,e):e},Bn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:Ye(t,e)}},Sn={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},Tn={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Dn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},In=Dn("top"),Pn=Dn("right"),Fn=Dn("bottom"),kn=Dn("left"),Rn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Un={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},On=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Hn=On("top"),Yn=On("right"),Qn=On("bottom"),Nn=On("left"),jn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Wn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Vn={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gt(e[0],"none")?[]:Xt(e).map((function(e){for(var n={color:be.TRANSPARENT,offsetX:ee,offsetY:ee,blur:ee},r=0,i=0;i<e.length;i++){var o=e[i];Jt(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=he(t,o)}return n}))}},zn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=Kn[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Kn={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),n=e[0],r=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],s=e[13];return e[14],e[15],16===e.length?[n,r,i,o,a,s]:null}},Zn={type:16,number:50,flags:4},Xn=[Zn,Zn],qn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter($t);return 2!==n.length?Xn:[n[0],n[1]]}},Jn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(Mn||(Mn={}));for(var $n={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Mn.BREAK_ALL;case"keep-all":return Mn.KEEP_ALL;default:return Mn.NORMAL}}},tr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Wt(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},er={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Wt(e)?e.number:1}},rr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ir={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},or={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach((function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},ar={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sr={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Wt(e)?e.number:Vt(e)&&"bold"===e.value?700:400}},lr={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Vt).map((function(t){return t.value}))}},cr={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ur=function(t,e){return!!(t&e)},Ar={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},hr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=e.filter(Kt),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(20===a.type){var l=s&&Wt(s)?s.number:1;r.push({counter:a.value,increment:l})}}return r}},dr={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],r=e.filter(Kt),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Vt(o)&&"none"!==o.value){var s=a&&Wt(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},pr={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(jt).map((function(e){return er.parse(t,e)}))}},fr={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=e.filter(zt);if(i.length%2!=0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,s=i[o+1].value;r.push({open:a,close:s})}return r}},mr=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},gr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gt(e[0],"none")?[]:Xt(e).map((function(e){for(var n={color:255,offsetX:ee,offsetY:ee,blur:ee,spread:ee,inset:!1},r=0,i=0;i<e.length;i++){var o=e[i];Gt(o,"inset")?n.inset=!0:Jt(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=he(t,o)}return n}))}},yr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[];return e.filter(Vt).forEach((function(t){switch(t.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n}},vr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_r={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return jt(e)?e.number:0}},wr=function(){function t(t,e){var n,r;this.animationDuration=Mr(t,pr,e.animationDuration),this.backgroundClip=Mr(t,xe,e.backgroundClip),this.backgroundColor=Mr(t,Me,e.backgroundColor),this.backgroundImage=Mr(t,je,e.backgroundImage),this.backgroundOrigin=Mr(t,We,e.backgroundOrigin),this.backgroundPosition=Mr(t,Ve,e.backgroundPosition),this.backgroundRepeat=Mr(t,ze,e.backgroundRepeat),this.backgroundSize=Mr(t,Ze,e.backgroundSize),this.borderTopColor=Mr(t,Je,e.borderTopColor),this.borderRightColor=Mr(t,$e,e.borderRightColor),this.borderBottomColor=Mr(t,tn,e.borderBottomColor),this.borderLeftColor=Mr(t,en,e.borderLeftColor),this.borderTopLeftRadius=Mr(t,rn,e.borderTopLeftRadius),this.borderTopRightRadius=Mr(t,on,e.borderTopRightRadius),this.borderBottomRightRadius=Mr(t,an,e.borderBottomRightRadius),this.borderBottomLeftRadius=Mr(t,sn,e.borderBottomLeftRadius),this.borderTopStyle=Mr(t,cn,e.borderTopStyle),this.borderRightStyle=Mr(t,un,e.borderRightStyle),this.borderBottomStyle=Mr(t,An,e.borderBottomStyle),this.borderLeftStyle=Mr(t,hn,e.borderLeftStyle),this.borderTopWidth=Mr(t,pn,e.borderTopWidth),this.borderRightWidth=Mr(t,fn,e.borderRightWidth),this.borderBottomWidth=Mr(t,mn,e.borderBottomWidth),this.borderLeftWidth=Mr(t,gn,e.borderLeftWidth),this.boxShadow=Mr(t,gr,e.boxShadow),this.color=Mr(t,yn,e.color),this.direction=Mr(t,vn,e.direction),this.display=Mr(t,_n,e.display),this.float=Mr(t,bn,e.cssFloat),this.fontFamily=Mr(t,or,e.fontFamily),this.fontSize=Mr(t,ar,e.fontSize),this.fontStyle=Mr(t,cr,e.fontStyle),this.fontVariant=Mr(t,lr,e.fontVariant),this.fontWeight=Mr(t,sr,e.fontWeight),this.letterSpacing=Mr(t,xn,e.letterSpacing),this.lineBreak=Mr(t,Ln,e.lineBreak),this.lineHeight=Mr(t,Cn,e.lineHeight),this.listStyleImage=Mr(t,Bn,e.listStyleImage),this.listStylePosition=Mr(t,Sn,e.listStylePosition),this.listStyleType=Mr(t,Tn,e.listStyleType),this.marginTop=Mr(t,In,e.marginTop),this.marginRight=Mr(t,Pn,e.marginRight),this.marginBottom=Mr(t,Fn,e.marginBottom),this.marginLeft=Mr(t,kn,e.marginLeft),this.opacity=Mr(t,nr,e.opacity);var i=Mr(t,Rn,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Mr(t,Un,e.overflowWrap),this.paddingTop=Mr(t,Hn,e.paddingTop),this.paddingRight=Mr(t,Yn,e.paddingRight),this.paddingBottom=Mr(t,Qn,e.paddingBottom),this.paddingLeft=Mr(t,Nn,e.paddingLeft),this.paintOrder=Mr(t,yr,e.paintOrder),this.position=Mr(t,Wn,e.position),this.textAlign=Mr(t,jn,e.textAlign),this.textDecorationColor=Mr(t,rr,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=Mr(t,ir,null!==(r=e.textDecorationLine)&&void 0!==r?r:e.textDecoration),this.textShadow=Mr(t,Vn,e.textShadow),this.textTransform=Mr(t,zn,e.textTransform),this.transform=Mr(t,Gn,e.transform),this.transformOrigin=Mr(t,qn,e.transformOrigin),this.visibility=Mr(t,Jn,e.visibility),this.webkitTextStrokeColor=Mr(t,vr,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mr(t,_r,e.webkitTextStrokeWidth),this.wordBreak=Mr(t,$n,e.wordBreak),this.zIndex=Mr(t,tr,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return de(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return ur(this.display,4)||ur(this.display,33554432)||ur(this.display,268435456)||ur(this.display,536870912)||ur(this.display,67108864)||ur(this.display,134217728)},t}(),br=function(t,e){this.content=Mr(t,Ar,e.content),this.quotes=Mr(t,fr,e.quotes)},xr=function(t,e){this.counterIncrement=Mr(t,hr,e.counterIncrement),this.counterReset=Mr(t,dr,e.counterReset)},Mr=function(t,e,n){var r=new Qt,i=null!=n?n.toString():e.initialValue;r.write(i);var o=new Nt(r.read());switch(e.type){case 2:var a=o.parseComponentValue();return e.parse(t,Vt(a)?a.value:e.initialValue);case 0:return e.parse(t,o.parseComponentValue());case 1:return e.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return le(t,o.parseComponentValue());case"color":return he(t,o.parseComponentValue());case"image":return Ye(t,o.parseComponentValue());case"length":var s=o.parseComponentValue();return Jt(s)?s:ee;case"length-percentage":var l=o.parseComponentValue();return $t(l)?l:ee;case"time":return er.parse(t,o.parseComponentValue())}}},Lr=function(t,e){var n=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===n||e===n},Cr=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Lr(e,3),this.styles=new wr(t,window.getComputedStyle(e,null)),Ti(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=s(this.context,e),Lr(e,4)&&(this.flags|=16)},Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Br="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Sr=0;Sr<64;Sr++)Br[Er.charCodeAt(Sr)]=Sr;for(var Tr=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Dr=function(){function t(t,e,n,r,i,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Fr=0;Fr<64;Fr++)Pr[Ir.charCodeAt(Fr)]=Fr;var kr,Rr=8,Ur=9,Or=11,Hr=12,Yr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},Qr=function(t){var e=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),u=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=Br[t.charCodeAt(e)],r=Br[t.charCodeAt(e+1)],i=Br[t.charCodeAt(e+2)],o=Br[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}(t),n=Array.isArray(e)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}(e):new Uint32Array(e),r=Array.isArray(e)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n}(e):new Uint16Array(e),i=Tr(r,12,n[4]/2),o=2===n[5]?Tr(r,(24+n[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(n,Math.ceil((24+n[4])/4));return new Dr(n[0],n[1],n[2],n[3],i,o)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Nr="",jr=function(t){return Qr.get(t)},Wr=function(t,e,n){var r=n-2,i=e[r],o=e[n-1],a=e[n];if(2===o&&3===a)return Nr;if(2===o||3===o||4===o)return"";if(2===a||3===a||4===a)return"";if(o===Rr&&-1!==[Rr,Ur,Or,Hr].indexOf(a))return Nr;if(!(o!==Or&&o!==Ur||a!==Ur&&10!==a))return Nr;if((o===Hr||10===o)&&10===a)return Nr;if(13===a||5===a)return Nr;if(7===a)return Nr;if(1===o)return Nr;if(13===o&&14===a){for(;5===i;)i=e[--r];if(14===i)return Nr}if(15===o&&15===a){for(var s=0;15===i;)s++,i=e[--r];if(s%2==0)return Nr}return""},Vr=function(t){var e=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t),n=e.length,r=0,i=0,o=e.map(jr);return{next:function(){if(r>=n)return{done:!0,value:null};for(var t=Nr;r<n&&(t=Wr(0,o,++r))===Nr;);if(t!==Nr||r===n){var a=Yr.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},zr=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Gr=function(t,e,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Kr=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Zr={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var r=e.getBoundingClientRect(),i=Math.round(r.height);if(t.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(Zr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zr.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=e.firstChild,i=l(r.data).map((function(t){return c(t)})),o=0,a={},s=i.every((function(t,e){n.setStart(r,o),n.setEnd(r,o+t.length);var i=n.getBoundingClientRect();o+=t.length;var s=i.x>a.x||i.y>a.y;return a=i,0===e||s}));return t.body.removeChild(e),s}(document);return Object.defineProperty(Zr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Zr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=e.toDataURL();i.src=o;var a=Gr(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Kr(a).then((function(e){r.drawImage(e,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=t.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",zr(i)?Kr(Gr(n,n,0,0,a)):Promise.reject(!1)})).then((function(t){return r.drawImage(t,0,0),zr(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Zr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Zr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Zr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Zr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Xr=function(t,e){this.text=t,this.bounds=e},qr=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var o=s(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY},Jr=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},$r=function(t){if(Zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,n=Vr(t),r=[];!(e=n.next()).done;)e.value&&r.push(e.value.slice());return r}(t)},ti=function(t,e){return 0!==e.letterSpacing?$r(t):function(t,e){if(Zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map((function(t){return t.segment}))}return ni(t,e)}(t,e)},ei=[32,160,4961,65792,65793,4153,4241],ni=function(t,e){for(var n,r=function(t,e){var n=l(t),r=ot(n,e),i=r[0],o=r[1],a=r[2],s=n.length,c=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var t=z;u<s&&(t=it(n,o,i,++u,a))===z;);if(t!==z||u===s){var e=new at(n,t,c,u);return c=u,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),i=[],o=function(){if(n.value){var t=n.value.slice(),e=l(t),r="";e.forEach((function(t){-1===ei.indexOf(t)?r+=c(t):(r.length&&i.push(r),i.push(c(t)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},ri=function(t,e,n){this.text=ii(e.data,n.textTransform),this.textBounds=function(t,e,n,r){var i=ti(e,n),o=[],s=0;return i.forEach((function(e){if(n.textDecorationLine.length||e.trim().length>0)if(Zr.SUPPORT_RANGE_BOUNDS){var i=Jr(r,s,e.length).getClientRects();if(i.length>1){var l=$r(e),c=0;l.forEach((function(e){o.push(new Xr(e,a.fromDOMRectList(t,Jr(r,c+s,e.length).getClientRects()))),c+=e.length}))}else o.push(new Xr(e,a.fromDOMRectList(t,i)))}else{var u=r.splitText(e.length);o.push(new Xr(e,qr(t,r))),r=u}else Zr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length));s+=e.length})),o}(t,this.text,n,e)},ii=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(oi,ai);case 2:return t.toUpperCase();default:return t}},oi=/(^|\s|:|-|\(|\))([a-z])/g,ai=function(t,e,n){return t.length>0?e+n.toUpperCase():t},si=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e(n,t),n}(Cr),li=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e(n,t),n}(Cr),ci=function(t){function n(e,n){var r=t.call(this,e,n)||this,i=new XMLSerializer,o=s(e,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e(n,t),n}(Cr),ui=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Cr),Ai=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return e(n,t),n}(Cr),hi=[{type:15,flags:0,unit:"px",number:3}],di=[{type:16,flags:0,number:50}],pi="checkbox",fi="radio",mi="password",gi=707406591,yi=function(t){function n(e,n){var r=t.call(this,e,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=function(t){var e=t.type===mi?new Array(t.value.length+1).join(""):t.value;return 0===e.length?t.placeholder||"":e}(n),r.type!==pi&&r.type!==fi||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=function(t){return t.width>t.height?new a(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new a(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t}(r.bounds)),r.type){case pi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=hi;break;case fi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=di}return r}return e(n,t),n}(Cr),vi=function(t){function n(e,n){var r=t.call(this,e,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return e(n,t),n}(Cr),_i=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Cr),wi=function(t){function n(e,n){var r=t.call(this,e,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=Li(e,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?we(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):be.TRANSPARENT,o=n.contentWindow.document.body?we(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):be.TRANSPARENT;r.backgroundColor=de(i)?de(o)?r.styles.backgroundColor:o:i}}catch(t){}return r}return e(n,t),n}(Cr),bi=["OL","UL","MENU"],xi=function(t,e,n,r){for(var i=e.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,Bi(i)&&i.data.trim().length>0)n.textNodes.push(new ri(t,i,n.styles));else if(Si(i))if(Wi(i)&&i.assignedNodes)i.assignedNodes().forEach((function(e){return xi(t,e,n,r)}));else{var a=Mi(t,i);a.styles.isVisible()&&(Ci(i,a,r)?a.flags|=4:Ei(a.styles)&&(a.flags|=2),-1!==bi.indexOf(i.tagName)&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?xi(t,i.shadowRoot,a,r):Ni(i)||ki(i)||ji(i)||xi(t,i,a,r))}},Mi=function(t,e){return Hi(e)?new si(t,e):Ui(e)?new li(t,e):ki(e)?new ci(t,e):Ii(e)?new ui(t,e):Pi(e)?new Ai(t,e):Fi(e)?new yi(t,e):ji(e)?new vi(t,e):Ni(e)?new _i(t,e):Yi(e)?new wi(t,e):new Cr(t,e)},Li=function(t,e){var n=Mi(t,e);return n.flags|=4,xi(t,e,n,n),n},Ci=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ri(t)&&n.styles.isTransparent()},Ei=function(t){return t.isPositioned()||t.isFloating()},Bi=function(t){return t.nodeType===Node.TEXT_NODE},Si=function(t){return t.nodeType===Node.ELEMENT_NODE},Ti=function(t){return Si(t)&&void 0!==t.style&&!Di(t)},Di=function(t){return"object"==typeof t.className},Ii=function(t){return"LI"===t.tagName},Pi=function(t){return"OL"===t.tagName},Fi=function(t){return"INPUT"===t.tagName},ki=function(t){return"svg"===t.tagName},Ri=function(t){return"BODY"===t.tagName},Ui=function(t){return"CANVAS"===t.tagName},Oi=function(t){return"VIDEO"===t.tagName},Hi=function(t){return"IMG"===t.tagName},Yi=function(t){return"IFRAME"===t.tagName},Qi=function(t){return"STYLE"===t.tagName},Ni=function(t){return"TEXTAREA"===t.tagName},ji=function(t){return"SELECT"===t.tagName},Wi=function(t){return"SLOT"===t.tagName},Vi=function(t){return t.tagName.indexOf("-")>0},zi=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset,i=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)}));var o=[];return i&&r.forEach((function(t){var n=e.counters[t.counter];o.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),o},t}(),Gi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ki={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Zi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qi=function(t,e,n,r,i,o){return t<e||t>n?ao(t,i,o.length>0):r.integers.reduce((function(e,n,i){for(;t>=n;)t-=n,e+=r.values[i];return e}),"")+o},Ji=function(t,e,n,r){var i="";do{n||t--,i=r(t)+i,t/=e}while(t*e>=e);return i},$i=function(t,e,n,r,i){var o=n-e+1;return(t<0?"-":"")+(Ji(Math.abs(t),o,r,(function(t){return c(Math.floor(t%o)+e)}))+i)},to=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return Ji(Math.abs(t),r,!1,(function(t){return e[Math.floor(t%r)]}))+n},eo=function(t,e,n,r,i,o){if(t<-9999||t>9999)return ao(t,4,i.length>0);var a=Math.abs(t),s=i;if(0===a)return e[0]+s;for(var l=0;a>0&&l<=4;l++){var c=a%10;0===c&&ur(o,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===l||1===c&&1===l&&ur(o,2)||1===c&&1===l&&ur(o,4)&&t>100||1===c&&l>1&&ur(o,8)?s=e[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(t<0?r:"")+s},no="",ro="",io="",oo="",ao=function(t,e,n){var r=n?". ":"",i=n?"":"",o=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var s=$i(t,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return to(t,"",i);case 6:return qi(t,1,3999,Gi,3,r).toLowerCase();case 7:return qi(t,1,3999,Gi,3,r);case 8:return $i(t,945,969,!1,r);case 9:return $i(t,97,122,!1,r);case 10:return $i(t,65,90,!1,r);case 11:return $i(t,1632,1641,!0,r);case 12:case 49:return qi(t,1,9999,Ki,3,r);case 35:return qi(t,1,9999,Ki,3,r).toLowerCase();case 13:return $i(t,2534,2543,!0,r);case 14:case 30:return $i(t,6112,6121,!0,r);case 15:return to(t,"",i);case 16:return to(t,"",i);case 17:case 48:return eo(t,"",no,"",i,14);case 47:return eo(t,"",ro,"",i,15);case 42:return eo(t,"",no,"",i,14);case 41:return eo(t,"",ro,"",i,15);case 26:return eo(t,"","",io,i,0);case 25:return eo(t,"","",io,i,7);case 31:return eo(t,"","",oo,o,7);case 33:return eo(t,"","",oo,o,0);case 32:return eo(t,"","",oo,o,7);case 18:return $i(t,2406,2415,!0,r);case 20:return qi(t,1,19999,Xi,3,r);case 21:return $i(t,2790,2799,!0,r);case 22:return $i(t,2662,2671,!0,r);case 22:return qi(t,1,10999,Zi,3,r);case 23:return to(t,"");case 24:return to(t,"");case 27:return $i(t,3302,3311,!0,r);case 28:return to(t,"",i);case 29:return to(t,"",i);case 34:return $i(t,3792,3801,!0,r);case 37:return $i(t,6160,6169,!0,r);case 38:return $i(t,4160,4169,!0,r);case 39:return $i(t,2918,2927,!0,r);case 40:return $i(t,1776,1785,!0,r);case 43:return $i(t,3046,3055,!0,r);case 44:return $i(t,3174,3183,!0,r);case 45:return $i(t,3664,3673,!0,r);case 46:return $i(t,3872,3881,!0,r);default:return $i(t,48,57,!0,r)}},so="data-html2canvas-ignore",lo=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new zi,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,o=uo(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,l=o.contentWindow,c=l.document,u=po(o).then((function(){return r(n,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(vo),l&&(l.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===e.top&&l.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-e.left,l.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ho(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(c,n)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(go(document.doctype)+"<html></html>"),yo(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(t){if(Lr(t,2),Ui(t))return this.createCanvasClone(t);if(Oi(t))return this.createVideoClone(t);if(Qi(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Hi(e)&&(Hi(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),Vi(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return mo(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var i=t.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var a=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return r}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},t.prototype.appendChildNode=function(t,e,n){Si(e)&&(function(t){return"SCRIPT"===t.tagName}(e)||e.hasAttribute(so)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&Si(e)&&Qi(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var r=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Si(i)&&Wi(i)&&"function"==typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(t){return r.appendChildNode(e,t,n)}))}else this.appendChildNode(e,i,n)},t.prototype.cloneNode=function(t,e){if(Bi(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Si(t)&&(Ti(t)||Di(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),a=n.getComputedStyle(t,":after");this.referenceElement===t&&Ti(r)&&(this.clonedReferenceElement=r),Ri(r)&&xo(r);var s=this.counters.parse(new xr(this.context,i)),l=this.resolvePseudoContent(t,r,o,kr.BEFORE);Vi(t)&&(e=!0),Oi(t)||this.cloneChildNodes(t,r,e),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(t,r,a,kr.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(i&&(this.options.copyStyles||Di(t))&&!Yi(t)||e)&&mo(i,r),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(Ni(t)||ji(t))&&(Ni(r)||ji(r))&&(r.value=t.value),r}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var i=this;if(n){var o=n.content,a=e.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new xr(this.context,n));var s=new br(this.context,n),l=a.createElement("html2canvaspseudoelement");mo(n,l),s.content.forEach((function(e){if(0===e.type)l.appendChild(a.createTextNode(e.value));else if(22===e.type){var n=a.createElement("img");n.src=e.value,n.style.opacity="1",l.appendChild(n)}else if(18===e.type){if("attr"===e.name){var r=e.values.filter(Vt);r.length&&l.appendChild(a.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Zt),c=o[0],u=o[1];if(c&&Vt(c)){var A=i.counters.getCounterValue(c.value),h=u&&Vt(u)?Tn.parse(i.context,u.value):3;l.appendChild(a.createTextNode(ao(A,h,!1)))}}else if("counters"===e.name){var d=e.values.filter(Zt),p=(c=d[0],d[1]);if(u=d[2],c&&Vt(c)){var f=i.counters.getCounterValues(c.value),m=u&&Vt(u)?Tn.parse(i.context,u.value):3,g=p&&0===p.type?p.value:"",y=f.map((function(t){return ao(t,m,!1)})).join(g);l.appendChild(a.createTextNode(y))}}}else if(20===e.type)switch(e.value){case"open-quote":l.appendChild(a.createTextNode(mr(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(mr(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(e.value))}})),l.className=_o+" "+wo;var c=r===kr.BEFORE?" "+_o:" "+wo;return Di(e)?e.className.baseValue+=c:e.className+=c,l}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(kr||(kr={}));var co,uo=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(so,"true"),t.body.appendChild(n),n},Ao=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},ho=function(t){return Promise.all([].slice.call(t.images,0).map(Ao))},po=function(t){return new Promise((function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),e(t))}),50)}}))},fo=["all","d","content"],mo=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);-1===fo.indexOf(r)&&e.style.setProperty(r,t.getPropertyValue(r))}return e},go=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},yo=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},vo=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},_o="___html2canvas___pseudoelement_before",wo="___html2canvas___pseudoelement_after",bo='{\n\t\tcontent: "" !important;\n\t\tdisplay: none !important;\n}',xo=function(t){Mo(t,"."+_o+":before"+bo+"\n\t\t\t\t ."+wo+":after"+bo)},Mo=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Lo=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Co=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Po(t)||To(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return e=Lo.isSameOrigin(t),n=!Do(t)&&!0===this._options.useCORS&&Zr.SUPPORT_CORS_IMAGES&&!e,r=!Do(t)&&!e&&!Po(t)&&"string"==typeof this._options.proxy&&Zr.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||Do(t)||Po(t)||r||n?(o=t,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(Io(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return t(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise((function(i,o){var a=Zr.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var t=new FileReader;t.addEventListener("load",(function(){return i(t.result)}),!1),t.addEventListener("error",(function(t){return o(t)}),!1),t.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(t)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),e._options.imageTimeout){var c=e._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},t}(),Eo=/^data:image\/svg\+xml/i,Bo=/^data:image\/.*;base64,/i,So=/^data:image\/.*/i,To=function(t){return Zr.SUPPORT_SVG_DRAWING||!Fo(t)},Do=function(t){return So.test(t)},Io=function(t){return Bo.test(t)},Po=function(t){return"blob"===t.substr(0,4)},Fo=function(t){return"svg"===t.substr(-3).toLowerCase()||Eo.test(t)},ko=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Ro=function(t,e,n){return new ko(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Uo=function(){function t(t,e,n,r){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Ro(this.start,this.startControl,e),i=Ro(this.startControl,this.endControl,e),o=Ro(this.endControl,this.end,e),a=Ro(r,i,e),s=Ro(i,o,e),l=Ro(a,s,e);return n?new t(this.start,r,a,l):new t(l,s,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Oo=function(t){return 1===t.type},Ho=function(t){var e=t.styles,n=t.bounds,r=ie(e.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=ie(e.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],c=ie(e.borderBottomRightRadius,n.width,n.height),u=c[0],A=c[1],h=ie(e.borderBottomLeftRadius,n.width,n.height),d=h[0],p=h[1],f=[];f.push((i+s)/n.width),f.push((d+u)/n.width),f.push((o+p)/n.height),f.push((l+A)/n.height);var m=Math.max.apply(Math,f);m>1&&(i/=m,o/=m,s/=m,l/=m,u/=m,A/=m,d/=m,p/=m);var g=n.width-s,y=n.height-A,v=n.width-u,_=n.height-p,w=e.borderTopWidth,b=e.borderRightWidth,x=e.borderBottomWidth,M=e.borderLeftWidth,L=oe(e.paddingTop,t.bounds.width),C=oe(e.paddingRight,t.bounds.width),E=oe(e.paddingBottom,t.bounds.width),B=oe(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Yo(n.left+M/3,n.top+w/3,i-M/3,o-w/3,co.TOP_LEFT):new ko(n.left+M/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Yo(n.left+g,n.top+w/3,s-b/3,l-w/3,co.TOP_RIGHT):new ko(n.left+n.width-b/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=u>0||A>0?Yo(n.left+v,n.top+y,u-b/3,A-x/3,co.BOTTOM_RIGHT):new ko(n.left+n.width-b/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?Yo(n.left+M/3,n.top+_,d-M/3,p-x/3,co.BOTTOM_LEFT):new ko(n.left+M/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Yo(n.left+2*M/3,n.top+2*w/3,i-2*M/3,o-2*w/3,co.TOP_LEFT):new ko(n.left+2*M/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Yo(n.left+g,n.top+2*w/3,s-2*b/3,l-2*w/3,co.TOP_RIGHT):new ko(n.left+n.width-2*b/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=u>0||A>0?Yo(n.left+v,n.top+y,u-2*b/3,A-2*x/3,co.BOTTOM_RIGHT):new ko(n.left+n.width-2*b/3,n.top+n.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?Yo(n.left+2*M/3,n.top+_,d-2*M/3,p-2*x/3,co.BOTTOM_LEFT):new ko(n.left+2*M/3,n.top+n.height-2*x/3),this.topLeftBorderStroke=i>0||o>0?Yo(n.left+M/2,n.top+w/2,i-M/2,o-w/2,co.TOP_LEFT):new ko(n.left+M/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?Yo(n.left+g,n.top+w/2,s-b/2,l-w/2,co.TOP_RIGHT):new ko(n.left+n.width-b/2,n.top+w/2),this.bottomRightBorderStroke=u>0||A>0?Yo(n.left+v,n.top+y,u-b/2,A-x/2,co.BOTTOM_RIGHT):new ko(n.left+n.width-b/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=d>0||p>0?Yo(n.left+M/2,n.top+_,d-M/2,p-x/2,co.BOTTOM_LEFT):new ko(n.left+M/2,n.top+n.height-x/2),this.topLeftBorderBox=i>0||o>0?Yo(n.left,n.top,i,o,co.TOP_LEFT):new ko(n.left,n.top),this.topRightBorderBox=s>0||l>0?Yo(n.left+g,n.top,s,l,co.TOP_RIGHT):new ko(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||A>0?Yo(n.left+v,n.top+y,u,A,co.BOTTOM_RIGHT):new ko(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?Yo(n.left,n.top+_,d,p,co.BOTTOM_LEFT):new ko(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Yo(n.left+M,n.top+w,Math.max(0,i-M),Math.max(0,o-w),co.TOP_LEFT):new ko(n.left+M,n.top+w),this.topRightPaddingBox=s>0||l>0?Yo(n.left+Math.min(g,n.width-b),n.top+w,g>n.width+b?0:Math.max(0,s-b),Math.max(0,l-w),co.TOP_RIGHT):new ko(n.left+n.width-b,n.top+w),this.bottomRightPaddingBox=u>0||A>0?Yo(n.left+Math.min(v,n.width-M),n.top+Math.min(y,n.height-x),Math.max(0,u-b),Math.max(0,A-x),co.BOTTOM_RIGHT):new ko(n.left+n.width-b,n.top+n.height-x),this.bottomLeftPaddingBox=d>0||p>0?Yo(n.left+M,n.top+Math.min(_,n.height-x),Math.max(0,d-M),Math.max(0,p-x),co.BOTTOM_LEFT):new ko(n.left+M,n.top+n.height-x),this.topLeftContentBox=i>0||o>0?Yo(n.left+M+B,n.top+w+L,Math.max(0,i-(M+B)),Math.max(0,o-(w+L)),co.TOP_LEFT):new ko(n.left+M+B,n.top+w+L),this.topRightContentBox=s>0||l>0?Yo(n.left+Math.min(g,n.width+M+B),n.top+w+L,g>n.width+M+B?0:s-M+B,l-(w+L),co.TOP_RIGHT):new ko(n.left+n.width-(b+C),n.top+w+L),this.bottomRightContentBox=u>0||A>0?Yo(n.left+Math.min(v,n.width-(M+B)),n.top+Math.min(y,n.height+w+L),Math.max(0,u-(b+C)),A-(x+E),co.BOTTOM_RIGHT):new ko(n.left+n.width-(b+C),n.top+n.height-(x+E)),this.bottomLeftContentBox=d>0||p>0?Yo(n.left+M+B,n.top+_,Math.max(0,d-(M+B)),p-(x+E),co.BOTTOM_LEFT):new ko(n.left+M+B,n.top+n.height-(x+E))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(co||(co={}));var Yo=function(t,e,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,l=t+n,c=e+r;switch(i){case co.TOP_LEFT:return new Uo(new ko(t,c),new ko(t,c-s),new ko(l-a,e),new ko(l,e));case co.TOP_RIGHT:return new Uo(new ko(t,e),new ko(t+a,e),new ko(l,c-s),new ko(l,c));case co.BOTTOM_RIGHT:return new Uo(new ko(l,e),new ko(l,e+s),new ko(t+a,c),new ko(t,c));case co.BOTTOM_LEFT:default:return new Uo(new ko(l,c),new ko(l-a,c),new ko(t,e+s),new ko(t,e))}},Qo=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},No=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},jo=function(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6},Wo=function(t,e){this.path=t,this.target=e,this.type=1},Vo=function(t){this.opacity=t,this.type=2,this.target=6},zo=function(t){return 1===t.type},Go=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},Ko=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Zo=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Ho(this.container),this.container.styles.opacity<1&&this.effects.push(new Vo(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new jo(n,r,i))}if(0!==this.container.styles.overflowX){var o=Qo(this.curves),a=No(this.curves);Go(o,a)?this.effects.push(new Wo(o,6)):(this.effects.push(new Wo(o,2)),this.effects.push(new Wo(a,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(t){return!zo(t)}));if(e||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Qo(n.curves),a=No(n.curves);Go(o,a)||r.unshift(new Wo(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(e){return ur(e.target,t)}))},t}(),Xo=function(t,e,n,r){t.container.elements.forEach((function(i){var o=ur(i.flags,4),a=ur(i.flags,2),s=new Zo(i,t);ur(i.styles.display,2048)&&r.push(s);var l=ur(i.flags,8)?[]:r;if(o||a){var c=o||i.styles.isPositioned()?n:e,u=new Ko(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;c.negativeZIndex.some((function(t,e){return A>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),c.negativeZIndex.splice(h,0,u)}else if(A>0){var d=0;c.positiveZIndex.some((function(t,e){return A>=t.element.container.styles.zIndex.order?(d=e+1,!1):d>0})),c.positiveZIndex.splice(d,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Xo(s,u,o?u:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),Xo(s,e,n,l);ur(i.flags,8)&&qo(i,l)}))},qo=function(t,e){for(var n=t instanceof Ai?t.start:1,r=t instanceof Ai&&t.reversed,i=0;i<e.length;i++){var o=e[i];o.container instanceof ui&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=ao(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},Jo=function(t,e){switch(e){case 0:return ta(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ta(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ta(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return ta(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},$o=function(t,e){var n=[];return Oo(t)?n.push(t.subdivide(.5,!1)):n.push(t),Oo(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},ta=function(t,e,n,r){var i=[];return Oo(t)?i.push(t.subdivide(.5,!1)):i.push(t),Oo(n)?i.push(n.subdivide(.5,!0)):i.push(n),Oo(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Oo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},ea=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},na=function(t){var e=t.styles,n=t.bounds,r=oe(e.paddingLeft,n.width),i=oe(e.paddingRight,n.width),o=oe(e.paddingTop,n.width),a=oe(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+o+a))},ra=function(t,e,n){var r=function(t,e){return 0===t?e.bounds:2===t?na(e):ea(e)}(sa(t.styles.backgroundOrigin,e),t),i=function(t,e){return 0===t?e.bounds:2===t?na(e):ea(e)}(sa(t.styles.backgroundClip,e),t),o=aa(sa(t.styles.backgroundSize,e),n,r),a=o[0],s=o[1],l=ie(sa(t.styles.backgroundPosition,e),r.width-a,r.height-s);return[la(sa(t.styles.backgroundRepeat,e),l,o,r,i),Math.round(r.left+l[0]),Math.round(r.top+l[1]),a,s]},ia=function(t){return Vt(t)&&t.value===Qe.AUTO},oa=function(t){return"number"==typeof t},aa=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1];if(!a)return[0,0];if($t(a)&&s&&$t(s))return[oe(a,n.width),oe(s,n.height)];var l=oa(o);if(Vt(a)&&(a.value===Qe.CONTAIN||a.value===Qe.COVER))return oa(o)?n.width/n.height<o!=(a.value===Qe.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=oa(r),u=oa(i),A=c||u;if(ia(a)&&(!s||ia(s)))return c&&u?[r,i]:l||A?A&&l?[c?r:i*o,u?i:r/o]:[c?r:n.width,u?i:n.height]:[n.width,n.height];if(l){var h=0,d=0;return $t(a)?h=oe(a,n.width):$t(s)&&(d=oe(s,n.height)),ia(a)?h=d*o:s&&!ia(s)||(d=h/o),[h,d]}var p=null,f=null;if($t(a)?p=oe(a,n.width):s&&$t(s)&&(f=oe(s,n.height)),null===p||s&&!ia(s)||(f=c&&u?p/r*i:n.height),null!==f&&ia(a)&&(p=c&&u?f/i*r:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},sa=function(t,e){var n=t[e];return void 0===n?t[0]:n},la=function(t,e,n,r,i){var o=e[0],a=e[1],s=n[0],l=n[1];switch(t){case 2:return[new ko(Math.round(r.left),Math.round(r.top+a)),new ko(Math.round(r.left+r.width),Math.round(r.top+a)),new ko(Math.round(r.left+r.width),Math.round(l+r.top+a)),new ko(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new ko(Math.round(r.left+o),Math.round(r.top)),new ko(Math.round(r.left+o+s),Math.round(r.top)),new ko(Math.round(r.left+o+s),Math.round(r.height+r.top)),new ko(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new ko(Math.round(r.left+o),Math.round(r.top+a)),new ko(Math.round(r.left+o+s),Math.round(r.top+a)),new ko(Math.round(r.left+o+s),Math.round(r.top+a+l)),new ko(Math.round(r.left+o),Math.round(r.top+a+l))];default:return[new ko(Math.round(i.left),Math.round(i.top)),new ko(Math.round(i.left+i.width),Math.round(i.top)),new ko(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ko(Math.round(i.left),Math.round(i.height+i.top))]}},ca="Hidden Text",ua=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ca)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ca)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),Aa=function(t,e){this.context=t,this.options=e},ha=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new ua(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e(n,t),n.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},n.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),zo(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return ur(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(t,e,n){var r=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):$r(t.text).reduce((function(e,i){return r.ctx.fillText(i,e,t.bounds.top+n),e+r.ctx.measureText(i).width}),t.bounds.left)},n.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=ga(t.fontFamily).join(", "),r=jt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,A=this;return i(this,(function(i){return n=this.createFontStyle(e),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),l=s.baseline,c=s.middle,u=e.paintOrder,t.textBounds.forEach((function(t){u.forEach((function(n){switch(n){case 0:A.ctx.fillStyle=pe(e.color),A.renderTextWithLetterSpacing(t,e.letterSpacing,l);var r=e.textShadow;r.length&&t.text.trim().length&&(r.slice(0).reverse().forEach((function(n){A.ctx.shadowColor=pe(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(t,e.letterSpacing,l)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),e.textDecorationLine.length&&(A.ctx.fillStyle=pe(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:A.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+l),t.bounds.width,1);break;case 2:A.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:A.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+c),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(A.ctx.strokeStyle=pe(e.webkitTextStrokeColor),A.ctx.lineWidth=e.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+l)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=na(t),i=No(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,(function(){var e,r,o,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,r=t.curves,o=e.styles,s=0,l=e.textNodes,i.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(e instanceof si))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return y=i.sent(),this.renderReplacedElement(e,r,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof li&&this.renderReplacedElement(e,r,e.canvas),!(e instanceof ci))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return y=i.sent(),this.renderReplacedElement(e,r,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof wi&&e.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:u=i.sent(),e.width&&e.height&&this.ctx.drawImage(u,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),i.label=14;case 14:if(e instanceof yi&&(A=Math.min(e.bounds.width,e.bounds.height),e.type===pi?e.checked&&(this.ctx.save(),this.path([new ko(e.bounds.left+.39363*A,e.bounds.top+.79*A),new ko(e.bounds.left+.16*A,e.bounds.top+.5549*A),new ko(e.bounds.left+.27347*A,e.bounds.top+.44071*A),new ko(e.bounds.left+.39694*A,e.bounds.top+.5649*A),new ko(e.bounds.left+.72983*A,e.bounds.top+.23*A),new ko(e.bounds.left+.84*A,e.bounds.top+.34085*A),new ko(e.bounds.left+.39363*A,e.bounds.top+.79*A)]),this.ctx.fillStyle=pe(gi),this.ctx.fill(),this.ctx.restore()):e.type===fi&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+A/2,e.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=pe(gi),this.ctx.fill(),this.ctx.restore())),da(e)&&e.value.length){switch(h=this.createFontStyle(o),_=h[0],d=h[1],p=this.fontMetrics.getMetrics(_,d).baseline,this.ctx.font=_,this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fa(e.styles.textAlign),w=na(e),f=0,e.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}m=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new ko(w.left,w.top),new ko(w.left+w.width,w.top),new ko(w.left+w.width,w.top+w.height),new ko(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Xr(e.value,m),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ur(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(g=e.styles.listStyleImage).type)return[3,18];y=void 0,v=g.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=i.sent(),this.ctx.drawImage(y,e.bounds.left-(y.width+10),e.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(_=this.createFontStyle(o)[0],this.ctx.font=_,this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new a(e.bounds.left,e.bounds.top+oe(e.styles.paddingTop,e.bounds.width),e.bounds.width,En(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Xr(t.listValue,w),o.letterSpacing,En(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,s,l,c,u,A,h,d,p,f,m;return i(this,(function(i){switch(i.label){case 0:return ur(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:i.sent(),e=0,n=t.negativeZIndex,i.label=2;case 2:return e<n.length?(m=n[e],[4,this.renderStack(m)]):[3,5];case 3:i.sent(),i.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:i.sent(),r=0,o=t.nonInlineLevel,i.label=7;case 7:return r<o.length?(m=o[r],[4,this.renderNode(m)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,s=t.nonPositionedFloats,i.label=11;case 11:return a<s.length?(m=s[a],[4,this.renderStack(m)]):[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:u=0,A=t.inlineLevel,i.label=19;case 19:return u<A.length?(m=A[u],[4,this.renderNode(m)]):[3,22];case 20:i.sent(),i.label=21;case 21:return u++,[3,19];case 22:h=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<d.length?(m=d[h],[4,this.renderStack(m)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:p=0,f=t.positiveZIndex,i.label=27;case 27:return p<f.length?(m=f[p],[4,this.renderStack(m)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},n.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var r=Oo(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),Oo(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},n.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(t,e,n){var r;if(t.width===e&&t.height===n)return t;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,e),i.height=Math.max(1,n),i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),i},n.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,s;return i(this,(function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var o,a,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b,x,M,L,C,E,B,S,T,D,I,P,F,k;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=ra(t,e,[o.width,o.height,o.width/o.height]),_=s[0],C=s[1],E=s[2],x=s[3],M=s[4],y=r.ctx.createPattern(r.resizeImage(o,x,M),"repeat"),r.renderRepeat(_,y,C,E)),[3,6];case 5:!function(t){return 1===t.type}(n)?function(t){return 2===t.type}(n)&&(v=ra(t,e,[null,null,null]),_=v[0],w=v[1],b=v[2],x=v[3],M=v[4],L=0===n.position.length?[ne]:n.position,C=oe(L[0],x),E=oe(L[L.length-1],M),B=function(t,e,n,r,i){var o=0,a=0;switch(t.size){case 0:0===t.shape?o=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):1===t.shape&&(o=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===t.shape)o=a=Math.min(Be(e,n),Be(e,n-i),Be(e-r,n),Be(e-r,n-i));else if(1===t.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=Se(r,i,e,n,!0),c=l[0],u=l[1];a=s*(o=Be(c-e,(u-n)/s))}break;case 1:0===t.shape?o=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):1===t.shape&&(o=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===t.shape)o=a=Math.max(Be(e,n),Be(e,n-i),Be(e-r,n),Be(e-r,n-i));else if(1===t.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r));var A=Se(r,i,e,n,!1);c=A[0],u=A[1],a=s*(o=Be(c-e,(u-n)/s))}}return Array.isArray(t.size)&&(o=oe(t.size[0],r),a=2===t.size.length?oe(t.size[1],i):o),[o,a]}(n,C,E,x,M),S=B[0],T=B[1],S>0&&T>0&&(D=r.ctx.createRadialGradient(w+C,b+E,0,w+C,b+E,S),Ce(n.stops,2*S).forEach((function(t){return D.addColorStop(t.stop,pe(t.color))})),r.path(_),r.ctx.fillStyle=D,S!==T?(I=t.bounds.left+.5*t.bounds.width,P=t.bounds.top+.5*t.bounds.height,k=1/(F=T/S),r.ctx.save(),r.ctx.translate(I,P),r.ctx.transform(1,0,0,F,0,0),r.ctx.translate(-I,-P),r.ctx.fillRect(w,k*(b-P)+P,x,M*k),r.ctx.restore()):r.ctx.fill())):(l=ra(t,e,[null,null,null]),_=l[0],C=l[1],E=l[2],x=l[3],M=l[4],c=Ee(n.angle,x,M),u=c[0],A=c[1],h=c[2],d=c[3],p=c[4],(f=document.createElement("canvas")).width=x,f.height=M,m=f.getContext("2d"),g=m.createLinearGradient(A,d,h,p),Ce(n.stops,u).forEach((function(t){return g.addColorStop(t.stop,pe(t.color))})),m.fillStyle=g,m.fillRect(0,0,x,M),x>0&&M>0&&(y=r.ctx.createPattern(f,"repeat"),r.renderRepeat(_,y,C,E))),i.label=6;case 6:return e--,[2]}}))},r=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(t,e,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Jo(n,e)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(t,e,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=function(t,e){switch(e){case 0:return ta(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ta(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ta(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return ta(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(o,n),this.path(r),this.ctx.fillStyle=pe(t),this.ctx.fill(),a=function(t,e){switch(e){case 0:return ta(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ta(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ta(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return ta(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,s,l,c,u=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!de(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],o=pa(sa(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),de(e.backgroundColor)||(this.ctx.fillStyle=pe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){u.ctx.save();var n=Qo(t.curves),r=e.inset?0:1e4,i=function(t,e,n,r,i){return t.map((function(t,o){switch(o){case 0:return t.add(e,n);case 1:return t.add(e+r,n);case 2:return t.add(e+r,n+i);case 3:return t.add(e,n+i)}return t}))}(n,-r+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(u.path(n),u.ctx.clip(),u.mask(i)):(u.mask(n),u.ctx.clip(),u.path(i)),u.ctx.shadowOffsetX=e.offsetX.number+r,u.ctx.shadowOffsetY=e.offsetY.number,u.ctx.shadowColor=pe(e.color),u.ctx.shadowBlur=e.blur.number,u.ctx.fillStyle=e.inset?pe(e.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),i.label=2;case 2:a=0,s=0,l=r,i.label=3;case 3:return s<l.length?0!==(c=l[s]).style&&!de(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,t.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,t.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(t,e,n,o,a){return r(this,void 0,void 0,(function(){var r,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w;return i(this,(function(i){return this.ctx.save(),r=function(t,e){switch(e){case 0:return $o(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return $o(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return $o(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return $o(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(o,n),s=Jo(o,n),2===a&&(this.path(s),this.ctx.clip()),Oo(s[0])?(l=s[0].start.x,c=s[0].start.y):(l=s[0].x,c=s[0].y),Oo(s[1])?(u=s[1].end.x,A=s[1].end.y):(u=s[1].x,A=s[1].y),h=0===n||2===n?Math.abs(l-u):Math.abs(c-A),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(s.slice(0,2)),d=e<3?3*e:2*e,p=e<3?2*e:e,3===a&&(d=e,p=e),f=!0,h<=2*d?f=!1:h<=2*d+p?(d*=m=h/(2*d+p),p*=m):(g=Math.floor((h+p)/(d+p)),y=(h-g*d)/(g-1),p=(v=(h-(g+1)*d)/g)<=0||Math.abs(p-y)<Math.abs(p-v)?y:v),f&&(3===a?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=pe(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Oo(s[0])&&(_=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new ko(_.end.x,_.end.y),new ko(w.start.x,w.start.y)]),this.ctx.stroke()),Oo(s[1])&&(_=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new ko(_.end.x,_.end.y),new ko(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),e=function(t){var e=new Zo(t,null),n=new Ko(e),r=[];return Xo(e,n,n,r),qo(e.container,r),n}(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(Aa),da=function(t){return t instanceof _i||t instanceof vi||t instanceof yi&&t.type!==fi&&t.type!==pi},pa=function(t,e){switch(t){case 0:return Qo(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return No(e)}},fa=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},ma=["-apple-system","system-ui"],ga=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===ma.indexOf(t)})):t},ya=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e(n,t),n.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return e=Gr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,va(e)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(Aa),va=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},_a=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),wa=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new _a({id:this.instanceName,enabled:e.logging}),this.cache=null!==(r=e.cache)&&void 0!==r?r:new Co(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&Lo.setContext(window);var ba=function(t,e){return r(void 0,void 0,void 0,(function(){var r,o,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b,x,M,L,C,E,B,S,T,D,I,P,F,k,R,U,O,H,Y,Q,N,j;return i(this,(function(i){switch(i.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(E=e.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(B=e.imageTimeout)&&void 0!==B?B:15e3,proxy:e.proxy,useCORS:null!==(S=e.useCORS)&&void 0!==S&&S},c=n({logging:null===(T=e.logging)||void 0===T||T,cache:e.cache},l),u={windowWidth:null!==(D=e.windowWidth)&&void 0!==D?D:o.innerWidth,windowHeight:null!==(I=e.windowHeight)&&void 0!==I?I:o.innerHeight,scrollX:null!==(P=e.scrollX)&&void 0!==P?P:o.pageXOffset,scrollY:null!==(F=e.scrollY)&&void 0!==F?F:o.pageYOffset},A=new a(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wa(c,A),d=null!==(k=e.foreignObjectRendering)&&void 0!==k&&k,p={allowTaint:null!==(R=e.allowTaint)&&void 0!==R&&R,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),f=new lo(h,t,p),(m=f.clonedReferenceElement)?[4,f.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=i.sent(),y=Ri(m)||function(t){return"HTML"===t.tagName}(m)?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new a(0,0,r,i)}(m.ownerDocument):s(h,m),v=y.width,_=y.height,w=y.left,b=y.top,x=xa(h,m,e.backgroundColor),M={canvas:e.canvas,backgroundColor:x,scale:null!==(O=null!==(U=e.scale)&&void 0!==U?U:o.devicePixelRatio)&&void 0!==O?O:1,x:(null!==(H=e.x)&&void 0!==H?H:0)+w,y:(null!==(Y=e.y)&&void 0!==Y?Y:0)+b,width:null!==(Q=e.width)&&void 0!==Q?Q:Math.ceil(v),height:null!==(N=e.height)&&void 0!==N?N:Math.ceil(_)},d?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new ya(h,M).render(m)]):[3,3];case 2:return L=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+w+","+b+" with size "+v+"x"+_+" using computed rendering"),h.logger.debug("Starting DOM parsing"),C=Li(h,m),x===C.styles.backgroundColor&&(C.styles.backgroundColor=be.TRANSPARENT),h.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),[4,new ha(h,M).render(C)];case 4:L=i.sent(),i.label=5;case 5:return(null===(j=e.removeContainer)||void 0===j||j)&&(lo.destroy(g)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,L]}}))}))},xa=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?we(t,getComputedStyle(r.documentElement).backgroundColor):be.TRANSPARENT,o=r.body?we(t,getComputedStyle(r.body).backgroundColor):be.TRANSPARENT,a="string"==typeof n?we(t,n):null===n?be.TRANSPARENT:4294967295;return e===r.documentElement?de(i)?de(o)?a:o:i:a};return function(t,e){return void 0===e&&(e={}),ba(t,e)}}();var Tp=i(Sp.exports);class Dp extends rs{constructor(t){super(),this.x=void 0,this.y=void 0,this.realX=void 0,this.realY=void 0,this.backgroundColor=void 0,this.borderColor=void 0,this.center=void 0,this.origin=void 0,this.indoorMap2d=void 0,this.containElement=void 0,this.hideArrowElement=void 0,this.animationFnId=void 0,this.canvas=void 0,this.element=void 0,this.onClickInfoWindow=void 0,this.createElement=async t=>{let e,n;this.layer=new $t.Object3D,this.layer.type=It.indoorMapInfoWindow;const{x:r,y:i,backgroundColor:o,borderColor:a}=t,s=document.createElement("div");s.id="info-window-wrapper",s.style.display="block",s.style.zIndex=-1,this.element=s;const l=document.createElement("div");if(l.id="info-window-"+this.layer.id,l.style.padding="10px",l.style.borderRadius="10px",l.style.border=`1px solid ${a}`,l.style.backgroundColor=o,l.style.filter="draw-shadow(0 1px 4px rgba(0, 0, 0, 0.2))",l.style.textAlign="center",!t.hideArrowElement){const t=this.createArrowElement();l.appendChild(t)}if(t.containElement instanceof HTMLElement)l.appendChild(t.containElement);else if("string"==typeof t.containElement){const e=document.createElement("div");e.id=`info-window-temp-contain-element-${this.layer.id}`,e.innerHTML=t.containElement,l.append(...e.children)}else this.logger.warn("ContainElement must be instanceof HTMLElement or a HTMLElement string");s.appendChild(l),this.addInfoWindowToScene(s),s.style.position="absolute",s.style.backgroundColor="transparent",s.style.width=l.clientWidth+"px",s.style.height=l.clientHeight+"px",l.style.position="absolute",e=l.clientWidth/2,n=l.clientHeight/2,l.style.left=r-e+"px",l.style.top=i-n+"px",this.realX=r,this.realY=i,Tp(s,{x:l.offsetLeft-10,y:l.offsetTop-10,width:l.clientWidth+20,height:l.clientHeight+20,backgroundColor:"transparent"}).then((t=>{this.canvas=t;const e={point:{x:this.x+this.origin.x,y:this.y+this.origin.y},image:this.canvas,size:{width:.7*this.canvas.width,height:.7*this.canvas.height},height:Rt.roomLabel},n=new gp(e);this.layer.add(n.layer),this.registerInfoWindowEvent(),document.body.removeChild(this.element)}))},this.createArrowElement=()=>{const t=document.createElement("div");t.className="info-window-arrow-wrapper",t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.padding="0px",t.style.backgroundColor="transparent",t.style.borderTop=`8px solid ${this.borderColor}`,t.style.borderRight="8px solid transparent",t.style.borderLeft="8px solid transparent",t.style.borderBottom="8px solid transparent",t.style.left="calc(50% - 8px)",t.style.top="100%",t.style.zIndex=1;const e=document.createElement("div");return e.className="info-window-arrow",e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.backgroundColor="transparent",e.style.borderTop=`6px solid ${this.backgroundColor}`,e.style.borderRight="6px solid transparent",e.style.borderLeft="6px solid transparent",e.style.borderBottom="6px solid transparent",e.style.left="-6px",e.style.top="-8px",t.appendChild(e),t},this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.logger.setLoggerInfo(t.onLoggerInfo),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{this.logger.warn("It seems not setup onClickInfoWindow function")}),this.x=t.x,this.y=t.y,this.center=t.center,this.origin=t.origin,this.containElement=t.containElement,this.hideArrowElement=t.hideArrowElement,this.backgroundColor=t.backgroundColor,this.borderColor=t.borderColor;const e=new $t.Vector3(this.x-this.center.x+this.origin.x,this.center.z,-(this.y+this.origin.y)+this.center.y),n=this.indoorMap2d.worldToScreen(e);this.createElement({x:n.x,y:n.y,containElement:this.containElement,hideArrowElement:this.hideArrowElement,backgroundColor:this.backgroundColor,borderColor:this.borderColor}),this.getInfo()},this.addInfoWindowToScene=t=>{this.indoorMap2d&&t&&document.body.appendChild(t)},this.registerInfoWindowEvent=()=>{this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{const t=this.getInfo();this.onClickInfoWindow(t)})))},this.removeInfoWindowEvent=()=>{this.layer&&"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.getInfo=()=>{const t={target:this.layer.id,position:{x:this.x,y:this.y}};return this.setDataInfo(t),t},this.removeInfoWindowFromScene=()=>{this.removeInfoWindowEvent(),this.remove()},this.init(t)}}class Ip extends rs{constructor(t){super(),this.type=void 0,this.x=void 0,this.y=void 0,this.attributes=void 0,this.realX=void 0,this.realY=void 0,this.center=void 0,this.origin=void 0,this.indoorMap2d=void 0,this.containElement=void 0,this.animationFnId=void 0,this.canvas=void 0,this.element=void 0,this.onClickCustomLayer=void 0,this.createElement=async t=>{let e,n;this.layer=new $t.Object3D,this.layer.type=It.indoorMapWrapper;const{x:r,y:i,attributes:o=""}=t,a=document.createElement("div");a.id="custom-layer-wrapper",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.zIndex=-1,a.setAttribute("attributes",o),this.element=a;const s=document.createElement("div");if(s.id="custom-layer-"+this.layer.id,t.containElement instanceof HTMLElement)s.appendChild(t.containElement);else if("string"==typeof t.containElement){const e=document.createElement("div");e.id=`custom-layer-temp-contain-element-${this.layer.id}}`,e.innerHTML=t.containElement,s.append(...e.children)}else this.logger.warn("ContainElement must be instanceof HTMLElement or a HTMLElement string");a.appendChild(s),this.addCustomToScene(a),a.style.transform="none",a.style.position="absolute",a.style.left="-9999px",a.style.top="-9999px",s.style.position="absolute",e=s.clientWidth/2,n=s.clientHeight/2,s.style.left=r-e+"px",s.style.top=i-n+"px",this.realX=r,this.realY=i,Tp(a,{scale:2,x:s.offsetLeft-1,y:s.offsetTop-1,width:s.clientWidth+2,height:s.clientHeight+2,backgroundColor:"transparent"}).then((t=>{this.canvas=t;const e={point:{x:this.x+this.origin.x,y:this.y+this.origin.y},image:this.canvas,size:{width:this.canvas.width,height:this.canvas.height},scale:2e-4,height:Rt.roomLabel},n=new gp(e);this.layer||(this.layer=new $t.Object3D,this.layer.type=It.indoorMapWrapper),this.layer.add(n.layer),this.registerCustomLayerEvent(),document.body.removeChild(this.element)}))},this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.logger.setLoggerInfo(t.onLoggerInfo),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{this.logger.warn("It seems not setup onClickCustomLayer function")}),this.type=Nt.CustomLayer,this.x=t.x,this.y=t.y,this.center=t.center,this.origin=t.origin,this.containElement=t.containElement,this.attributes=t.attributes;const e=new $t.Vector3(this.x-this.center.x+this.origin.x,this.center.z,-(this.y+this.origin.y)+this.center.y),n=this.indoorMap2d.worldToScreen(e);this.createElement({x:n.x,y:n.y,containElement:this.containElement,attributes:this.attributes}),this.getInfo("add")},this.addCustomToScene=t=>{this.indoorMap2d&&t&&document.body.appendChild(t)},this.registerCustomLayerEvent=()=>{var t;this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(t=>{t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1,this.indoorMap2d.intersection=t,this.indoorMap2d.intersection.intersectionCopy=t,this.indoorMap2d.intersection.intersectionCopy.draggerEnable=!0)})),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTapUp,(t=>{if(this.indoorMap2d.map.state===Ut.mapCruise&&this.indoorMap2d.map.edit){const t=this.getInfo("click");this.onClickCustomLayer(t)}})),"function"==typeof this.layer.$on&&(null==(t=this.layer)||t.$on(this.indoorMap2d.eventTapMove,((t,e)=>{if(this.indoorMap2d.map.state===Ut.mapCruise&&this.indoorMap2d.map.edit){const t=this.getInfo("move");this.onClickCustomLayer(t)}}))))},this.removeCustomLayerEvent=()=>{this.layer&&("function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap),"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTapUp),"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTapMove))},this.getInfo=t=>{this.indoorMap2d.scene.updateMatrixWorld(!0),this.indoorMap2d.map.center;const e=new $t.Vector3;this.layer.getWorldPosition(e),e.setFromMatrixPosition(this.layer.matrixWorld);let n={x:this.x,y:this.y};0!==e.x&&0!==e.y&&(n={x:this.x+this.layer.position.x,y:this.y-this.layer.position.y});const r={operation:t,type:this.type,target:this.layer.id,data:{position:n,attributes:this.attributes}};return this.setDataInfo(r),r},this.removeCustomLayerFromScene=()=>(this.removeCustomLayerEvent(),this.remove()),this.init(t)}}class Pp extends rs{constructor(t){super(),this.useStructuredMode=void 0,this.pointSize=1,this.origin={x:0,y:0},this.is3d=!1,this.factor=.05,this.staticPrefix="",this.mapState=void 0,this.mapPropsData=void 0,this.lastMapPropsData=void 0,this.center=new $t.Vector3(0,0,0),this.modelLoader=void 0,this.fluorescence=void 0,this.plane=void 0,this.pointsLayers=[],this.materialLayers=[],this.pixelPathPointsLayers=[],this.spriteInstanceList=[],this.tailLineInstance=void 0,this.carpetPointsHexArr=[],this.d3FrameLayer=void 0,this.d3SingleFrameLayer=void 0,this.d3CarpetMaterialLayer=void 0,this.d3CarpetMaterial=void 0,this.d3GenerateElement=void 0,this.state=Ut.normal,this.edit=!1,this.splitState=Ot,this.indoorMap2d=void 0,this.selected=void 0,this.selectedArray=void 0,this.selectRoomData=void 0,this.showSelectRoomOrder=!1,this.modelLayerList=[],this.carpetLayers=[],this.carpetCanvas=[],this.splitLine=void 0,this.splitColor=void 0,this.selectedParams=void 0,this.splitLineParams=void 0,this.mergeRoomParams=void 0,this.orderParams=void 0,this.posParams=void 0,this.multiplePosPosition=void 0,this.d3EditWrapperParams=void 0,this.maxRoomPropertyLength=3,this.pathLinearAnimate=!1,this.pathWidth=1,this.pathVisible=void 0,this.appointIcon="",this.bgColor="",this.d3BgColor="",this.d3WallColor="",this.d3FloorColor="",this.d3WallTexture="",this.mapId="",this.dataMapId="",this.infoId="",this.id=-1,this.infoWindowList=[],this.areaInfo=[],this.roomIds=[],this.pointers=[],this.laserMapData=void 0,this.pixelCoords=[],this.centerStore=void 0,this.d3Mode=!1,this.d3EditMode=!1,this.wrapperPoints=[],this.realPoints=[],this.roomFloorLayers=void 0,this.mapFreeze=!1,this.showTime=0,this.parseTime=0,this.roomLayer=void 0,this.roomMorePropertiesEvent=void 0,this.partitionStatus=-1,this.rotateMapAngle=0,this.mapWorker=void 0,this.useWorker=void 0,this.initUseThread=void 0,this.initUseParserCache=void 0,this.enableAICapability=void 0,this.resourceUsageLevel=void 0,this.isAddEventListener=void 0,this.moving=!1,this.shouldUpdate=void 0,this.pointerDrag=!1,this.pointerHandler=void 0,this.asynchronousLoadMap=!1,this.mapWorkerArray=void 0,this.mapWorkerNum=void 0,this.mapClickGestureStatus=void 0,this.pathLayer=void 0,this.showPixelTypes=void 0,this.isCarpetVisible=void 0,this.isFluorescenceVisible=void 0,this.fluorescenceColor=void 0,this.fluorescenceShadowColor=void 0,this.fluorescenceShadowSize=void 0,this.roomNameCache=void 0,this.foldableIconCache=void 0,this.roomLabelCache=void 0,this.roomPropertyCache=void 0,this.iconRenderingCache=void 0,this.offscreenCanvasEnabled=void 0,this.renderingElement=void 0,this.edgesRenderingElement=void 0,this.generateObjCache=void 0,this.mapStateObjectCache=void 0,this.cvGray=void 0,this.cvClosed=void 0,this.cvEdges=void 0,this.cvHierarchy=void 0,this.cvContours=void 0,this.cvContoursOpen=void 0,this.cvSize=void 0,this.cvSizeOpen=void 0,this.cvKernel=void 0,this.cvBlurred=void 0,this.container=void 0,this.distanceToCamera=void 0,this.onMapInitThreadEnd=void 0,this.onLoggerInfo=void 0,this.onMapId=void 0,this.onClickSplitArea=void 0,this.onClickRoom=void 0,this.onMapLoadEnd=void 0,this.onClickRoomMoreProperties=void 0,this.onClickRoomProperties=void 0,this.onPosPoints=void 0,this.onClickMapView=void 0,this.onLaserMapPoints=void 0,this.onSplitLine=void 0,this.onScreenSnapshot=void 0,this.onVirtualInfoRendered=void 0,this.onClickMaterial=void 0,this.onClickInfoWindow=void 0,this.onCruiseStatusMapClick=void 0,this.onClickCustomLayer=void 0,this.onD3MapViewModeEnd=void 0,this.createInfoWindowLayer=t=>{if(this.indoorMap2d){const e=Object.assign({center:this.center,origin:this.origin,indoorMap2d:this.indoorMap2d,onLoggerInfo:this.onLoggerInfo,onClickInfoWindow:this.onClickInfoWindow},t),n=new Dp(e);return this.layer.add(n.layer),this.infoWindowList.push(n),n.getDataInfo().target}},this.removeInfoWindowLayer=t=>{const e=this.infoWindowList.findIndex((e=>e.layer.id===t));-1!==e&&this.infoWindowList.splice(e,1)[0].removeInfoWindowFromScene()},this.createCustomLayer=t=>{if(this.indoorMap2d){const e=Object.assign({center:this.center,origin:this.origin,indoorMap2d:this.indoorMap2d,onLoggerInfo:this.onLoggerInfo,onClickCustomLayer:this.onClickCustomLayer},t),n=new Ip(e);return this.addSweepLayer(n),n.getDataInfo().target}},this.removeCustomLayer=t=>{this.removeFromAreaInfo(t)},this.getAllCustomLayerInfo=()=>{const t={};return t.type=Nt.CustomLayer,t.data=this.getPointsData(Nt.CustomLayer),t},this.rotateViewScene=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewScene(t)},this.rotateViewLeft=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewLeft(t)},this.rotateViewRight=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewRight(t)},this.enableMapClickGesture=t=>{this.mapClickGestureStatus=t},this.updateLaserMap=async(t,e=!0,n=!1)=>{try{if(!this.indoorMap2d.getVisibility())return void this.logger.warn("Due to the visibility, the updateLaserMap function has called return");if(!this.judgeMapPropsIsValid(t))return void this.logger.warn("Due to the map prop was invalidate, the updateLaserMap function has called return");if(this.mapFreeze&&e)return void this.logger.warn("Due to the mapFreeze, the updateLaserMap function has called return");if(this.updateSelectRoomData(t.selectRoomData||[]),this.lastMapPropsData=t,this.moving&&e)return this.shouldUpdate=!0,void this.logger.warn("Due to the gesture has been moving, the updateLaserMap function has called return");if(this.mapPropsData=t,this.is3d=t.is3d,this.useStructuredMode){const n={fragmentMapArray:t.mapState.structuredInfo,center:t.mapState.center,materialList:Lp(t.mapState.materialObject,t.mapState.origin),textureList:Mp(t.mapState.textureObject,{width:t.mapState.width,height:t.mapState.height}),roomInfo:t.mapState.roomInfo},{center:r,fragmentMapArray:i,materialList:o,textureList:a}=n,s=!ta(t.mapState.textureObject,this.mapState.textureObject),l="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",c=t.mapState.origin||{x:0,y:0};if(JSON.stringify(this.origin)!==JSON.stringify(c)&&(this.origin=c,Ya(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:c})),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=ta(this.mapState.materialObject,t.mapState.materialObject)),e)return void this.logger.warn("Since the map data is the same as before, this update will return");if(ta(this.mapState.structuredInfo,t.mapState.structuredInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const u="object"==typeof r?JSON.stringify(r):"";this.centerStore=r,this.mapState=this.mapPropsData.mapState,this.laserMapData=n,await this.createPointsLayer(i),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((s||l!==u)&&(this.createCarpetTextureLayer(a),this.createFluorescence()),this.createMaterialLayer(o))}else{const r=Fa.MD5(JSON.stringify(t.mapState)).toString();if(this.mapWorker&&this.useWorker&&!n){if(this.isAddEventListener||(this.isAddEventListener=!0,this.mapWorker.onMessage(this.updateLaserMapThreadEvt)),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=ta(this.mapState.materialObject,t.mapState.materialObject)),this.mapState.map===t.mapState.map&&ta(this.mapState.roomInfo,t.mapState.roomInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const n={width:t.mapState.width,height:t.mapState.height,origin:t.mapState.origin,useContour:t.mapState.useContour,map:t.mapState.map,roomInfo:t.mapState.roomInfo,materialObject:t.mapState.materialObject,textureObject:t.mapState.textureObject,version:t.mapState.version},i=performance.now(),o={name:"parseData",mapState:n,is3d:this.is3d,d3WallColor:this.d3WallColor,identifyId:this.mapWorkerNum++,timestamp:i,hashCode:r};0===this.mapWorkerArray.length?(this.mapWorkerArray.push(o),this.mapWorker.postMessage(o)):this.mapWorkerArray.push(o)}else{const n=!ta(t.mapState.textureObject,this.mapState.textureObject),i="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",o=t.mapState.origin||{x:0,y:0};if(JSON.stringify(this.origin)!==JSON.stringify(o)&&(this.origin=o,Ya(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:o})),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=ta(this.mapState.materialObject,t.mapState.materialObject)),this.mapState.map===t.mapState.map&&ta(this.mapState.roomInfo,t.mapState.roomInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const a=Cp(t.mapState,this.is3d,this.d3WallColor);if(this.initUseParserCache){const e={hashCode:r,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:a}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const{fragmentMapArray:s,center:l,textureList:c,materialList:u,pixelCoords:A,keySetArray:h}=a;this.debug.isDevMode&&this.logger.info("keySetArray ==>",h),this.pixelCoords=A,this.centerStore=l,this.mapState=this.mapPropsData.mapState,this.laserMapData=a;const d="object"==typeof l?JSON.stringify(l):"";await this.createPointsLayer(s),this.createPixelPathLayer(s),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((n||i!==d)&&(this.createCarpetTextureLayer(c),this.createFluorescence()),this.createMaterialLayer(u))}}}catch(t){this.logger.error("updateLaserMap occur an error ==>",t)}},this.initLaserMapThreadEvt=async t=>{const{name:e,identifyId:n,timestamp:r,parseTime:i,hashCode:o}=t;if("parseData"===e){var a;const e=performance.now();if(this.logger.info("initLaserMapThreadEvt thread time ==>",e-r),this.logger.info("initLaserMapThreadEvt parse map time ==>",i),this.initUseParserCache){const e={hashCode:o,data:{filterProps:this.filterObjectMethods(this.mapPropsData),is3d:t.is3d,d3WallColor:t.d3WallColor,laserMapData:t}};this.logger.info("thread env: set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const s=this.queueInOut(n);await this.createMapInstance(this.mapPropsData,t);const l=performance.now();this.logger.info("asynchronous init time ==>",l-r),s&&(null==(a=this.mapWorker)||a.postMessage(s))}},this.updateLaserMapThreadEvt=async t=>{const{name:e,identifyId:n,timestamp:r,parseTime:i,hashCode:o}=t,a=performance.now();if("remove"===e)return void this.removeMapThreadEvt();if(this.logger.info("updateLaserMapThreadEvt thread time ==>",a-r),this.logger.info("updateLaserMapThreadEvt parse map time ==>",i),this.initUseParserCache){const e={hashCode:o,data:{filterProps:this.filterObjectMethods(this.mapPropsData),is3d:t.is3d,d3WallColor:t.d3WallColor,laserMapData:t}};this.logger.info("update thread env: set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const s=this.queueInOut(n),l=!ta(this.mapPropsData.mapState.textureObject,this.mapState.textureObject),c="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",u=this.mapPropsData.mapState.origin||{x:0,y:0};JSON.stringify(this.origin)!==JSON.stringify(u)&&(this.origin=u,Ya(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:u}));const{fragmentMapArray:A,center:h,textureList:d,materialList:p,pixelCoords:f}=t;this.pixelCoords=f,this.centerStore=h,this.mapState=this.mapPropsData.mapState,this.laserMapData=t;const m="object"==typeof h?JSON.stringify(h):"";await this.createPointsLayer(A),this.createPixelPathLayer(A),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((l||c!==m)&&(this.createCarpetTextureLayer(d),this.createFluorescence()),this.createMaterialLayer(p)),s&&this.mapWorker.postMessage(s)},this.changeMapState=(t,e)=>{this.state=t,this.edit=e,this.logger.info(`changeMapState ==> state: ${this.state} , edit: ${this.edit}`);const n=this.getLaserMapPointsLayer(Ut.virtualWall),r=this.getLaserMapPointsLayer(Ut.virtualArea),i=this.getLaserMapPointsLayer(Ut.areaSet),o=this.getLaserMapPointsLayer(Ut.pressToRun);if(this.resetOrder(),this.removeStoreObject(),this.indoorMap2d.setIsEnablePan(t===Ut.normal),t===Ut.normal)return this.hideAllCarpetMaterial(!1),this.foldableRoomInfo(!1),this.hideForbidOrWallLayer(r,!1),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!1),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(i,!1),this.hideVertexAndUnitText(i,!0),void this.hideVertexAndUnitText(o,!0);if(t===Ut.mapSplit)this.splitState===Ot.click?(this.foldableRoomInfo(!1),this.hideAllCarpetMaterial(!0),e?(this.grayMapAreaColor(!0),this.foldableRoomInfo(!1)):this.foldableRoomInfo(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(r,!0),this.hideForbidOrWallLayer(i,!0)):this.splitState===Ot.split||this.splitState===Ot.merge?(this.hideAllCarpetMaterial(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(r,!0),this.hideForbidOrWallLayer(i,!0)):this.splitState===Ot.normal&&(this.hideAllCarpetMaterial(!0),e?(this.grayMapAreaColor(!0),this.foldableRoomInfo(!1)):(this.foldableRoomInfo(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(r,!0),this.hideForbidOrWallLayer(i,!0)));else if(t===Ut.virtualArea)this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!1),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(r,!1),this.hideForbidOrWallLayer(i,!0),this.clearSelectRoomAndRecoverMap();else if(t===Ut.virtualWall)this.hideVertexAndUnitText(n,!1),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(r,!1),this.hideForbidOrWallLayer(i,!0),this.clearSelectRoomAndRecoverMap();else if(t===Ut.mapSelect){var a;this.hideAllCarpetMaterial(!0),"default"===this.orderParams.orderType?(this.removeRoomLabelLayer(),this.pointsLayers.forEach(((t,e)=>{t&&t.userData.extend&&t.userData.extend.roomId>=0&&this.createRoomInfoLayer(t.userData,t.scope,!0)})),this.foldableRoomInfo(!0)):"waterDroplets"===(null==(a=this.orderParams)?void 0:a.orderType)&&(this.hideFoldableIconAndProperty(!0),this.createWaterDropletsSelectedLayer()),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(r,!0),this.hideForbidOrWallLayer(i,!0)}else t===Ut.mapTimerSelect?(this.hideAllCarpetMaterial(!0),this.grayMapAreaColor(!0),this.foldableRoomInfo(!1),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(r,!0),this.hideForbidOrWallLayer(i,!0)):t===Ut.areaSet?(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!this.edit),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(r,!1),this.hideForbidOrWallLayer(i,!1),this.clearSelectRoomAndRecoverMap()):t===Ut.pressToRun?(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(r,!1),this.hideForbidOrWallLayer(i,!1),this.hideVertexAndUnitText(o,!this.edit),this.clearSelectRoomAndRecoverMap()):t===Ut.mapCruise&&(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(r,!1),this.hideForbidOrWallLayer(i,!1),this.clearSelectRoomAndRecoverMap())},this.changeMapId=t=>{this.mapId=t},this.changeSplitMapState=t=>{this.splitState=t,this.logger.info(`changeSplitMapState splitState: ${t}`);const e=this.getLaserMapPointsLayer(Ut.virtualWall),n=this.getLaserMapPointsLayer(Ut.virtualArea);t===Ot.normal&&(this.foldableRoomInfo(!1),this.edit=!1,this.splitLine&&this.splitLine.removeSplitLine(),this.splitLine=null,this.selected&&this.selected.removeSelected(),this.selected=null,this.removeCheckedItems(),this.updateSelectRoomData([]),e.forEach((t=>{t.hideVertex(!0),t.hideUnitText(!0),t.hideLayer(!1)})),n.forEach((t=>{t.hideVertex(!0),t.hideUnitText(!0),t.hideLayer(!1)})))},this.checkDataUploadAfterCreate=()=>{const t=this.getLaserMapPointsLayer(Ut.virtualWall),e=this.getLaserMapPointsLayer(Ut.virtualArea),n=this.getLaserMapPointsLayer(Ut.areaSet),r=this.getLaserMapPointsLayer(Ut.pressToRun);this.state===Ut.normal?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1)):this.state===Ut.mapSplit||this.state===Ut.mapSelect?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)):this.state===Ut.pressToRun?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1),this.hideVertexAndUnitText(r,!0),this.hideVertexAndUnitText(r,!this.edit)):this.state===Ut.virtualArea?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!1),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!0)):this.state===Ut.virtualWall?(this.hideVertexAndUnitText(t,!1),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!0)):this.state===Ut.mapTimerSelect?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)):this.state===Ut.areaSet?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!this.edit),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1)):this.state===Ut.mapCruise&&(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)),this.d3EditMode&&(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)),this.onVirtualInfoRendered&&this.onVirtualInfoRendered({rendered:!0,data:{areaInfoList:this.mapPropsData.areaInfoList?JSON.parse(this.mapPropsData.areaInfoList):[]}})},this.shouldCreatePosToRun=()=>this.state===Ut.normal||this.state===Ut.pressToRun,this.autoScaleMap=(t,e)=>{this.indoorMap2d.autoFitScreen(t,e)},this.getMapDataWidthHeight=()=>({width:this.mapState.width,height:this.mapState.height}),this.checkMapEditForbidden=()=>!this.edit,this.removeMapThreadEvt=()=>{Va(this.indoorMap2d.env)&&this.mapWorker&&(this.mapWorker.terminate(),this.mapWorker=null)},this.removeModelLoader=()=>{this.modelLoader&&this.modelLoader.dispose()},this.removeMap=async()=>{this.indoorMap2d.setGestureEnable(!1),this.removeRoomLabelLayer(),this.removeMapAreaEvent(),this.removeCarpetLayers(),this.removeFluorescence(),this.removeFloorMaterial(),this.removeOriginChangeEvent(),this.removeMapResizeEvent(),this.removeSelectRoomDataChangeEvent(),this.removeAllModelLayer(),this.removeModelLoader(),this.clearStorage(),this.pointsLayers.forEach((t=>{t&&t.scope.removePointsLayer()})),this.pixelPathPointsLayers.forEach((t=>{t.removeSmearMaterial()})),this.pointsLayers.length=0,this.pixelPathPointsLayers.length=0,this.carpetPointsHexArr.length=0,this.materialLayers.length=0,this.spriteInstanceList.length=0;const t=this.removeFromScene(this.indoorMap2d.scene,"react-indoor-map-map");this.logger.info(`It has been removed ${t} objects from scene`),this.indoorMap2d.resetGlobalEvents(),this.clearRenderingCache(this.roomNameCache),this.roomNameCache={},this.clearRenderingCache(this.foldableIconCache),this.foldableIconCache={},this.clearRenderingCache(this.roomLabelCache),this.roomLabelCache={},this.clearRenderingCache(this.roomPropertyCache),this.roomPropertyCache={},this.clearRenderingCache(this.iconRenderingCache),this.iconRenderingCache={},this.edgesRenderingElement&&this.edgesRenderingElement.disposeRendering2D(),this.renderingElement&&(this.renderingElement.disposeRendering2D(),this.renderingElement.disposeRendering3D()),this.mapWorker&&(this.mapWorker.postMessage({name:"remove"}),this.removeMapThreadEvt()),this.cvClosed&&this.cvClosed.delete(),this.cvContours&&this.cvContours.delete(),this.cvContoursOpen&&this.cvContoursOpen.delete(),this.cvEdges&&this.cvEdges.delete(),this.cvGray&&this.cvGray.delete(),this.cvHierarchy&&this.cvHierarchy.delete(),this.cvKernel&&this.cvKernel.delete(),this.cvBlurred&&this.cvBlurred.delete(),this.remove()},this.addSweepLayer=t=>{var e;if(!t.layer)return this.logger.warn("You cannot add empty objects to the map"),null;null==(e=this.layer)||e.add(t.layer),this.areaInfo.push(t)},this.addModelLayer=t=>{var e;if(!t)return this.logger.warn("You cannot add empty objects to the map"),null;this.modelLayerList.push(t),null==(e=this.layer)||e.add(t.layer)},this.setPathInstance=t=>(this.removeFromAreaInfoWithClassType("cleanPath"),this.pathLayer=t,this.addSweepLayer(this.pathLayer),this.pathLayer),this.removeAllModelLayer=()=>{if(this.is3d){for(let t=this.modelLayerList.length-1;t>=0;t--){const e=this.modelLayerList[t];if(e.modelLayer&&e.modelLayer.type===It.indoorMapModel){const e=this.modelLayerList.splice(t,1)[0].layer;this.modelLoader.removeModelLayer(e)}}this.modelLayerList.length=0}},this.setPlaneFloorMaterialOnMap2d=t=>{this.planeFloorLayer&&(this.planeFloorLayer.removePlaneFloorMaterial(),this.removeFromAreaInfoWithClassType("planeFloorMaterial"));const e=this.createPlaneFloorMaterial(t);return this.planeFloorLayer=e,this.addSweepLayer(e),e},this.setRoomFloorMaterial=t=>{var e;const{pointsAttribute:n,points:r}=t,{colorHex:i,extend:o}=n,{roomFloorMaterial2d:a,roomFloorMaterial3d:s}=n,l=this.is3d?s:a,c=null==l?void 0:l.value;if(!c){var u;const t=null==(u=this.roomFloorLayers)?void 0:u.get(i);var A;return void(t&&(t.removeRoomFloorMaterial(),null==(A=this.roomFloorLayers)||A.delete(i)))}let h=0,d=0,p=0,f=0;if(r)h=r.minX,d=r.maxX,p=r.minY,f=r.maxY;else{const t=this.useStructuredMode?n.vertexDataOuterOnScs:n.pixelPoints,{boundingBox:e}=Cl(t);h=e.minX,d=e.maxX,p=-e.maxY,f=-e.minY}const m=this.useStructuredMode?n.vertexDataOuter:n.points;if(null!=(e=this.roomFloorLayers)&&e.get(i)){var g;null==(g=this.roomFloorLayers.get(i))||g.updateFloorMaterial({minX:h,maxX:d,minY:p,maxY:f,width:this.mapState.width,height:this.mapState.height,points:m,imageSource:c,opacity:l.opacity,radio:l.scale})}else{var y;const t=new mp({useContour:this.useStructuredMode,minX:h,maxX:d,minY:p,maxY:f,width:this.mapState.width,height:this.mapState.height,points:m,imageSource:c,opacity:l.opacity,radio:l.scale,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker&&this.offscreenCanvasEnabled,onLoggerInfo:this.onLoggerInfo});if(null==(y=this.roomFloorLayers)||y.set(i,t),null!=t.layer){var v,_;const e=this.useStructuredMode?0:this.center.x,n=this.useStructuredMode?0:this.center.y;t.setPosition(new $t.Vector3(e,n,Rt.laserMap+.001*((null==(v=this.roomFloorLayers)?void 0:v.size)+1))),null==(_=this.layer)||_.add(t.layer)}}},this.removeFloorMaterial=()=>{var t,e;null==(t=this.roomFloorLayers)||t.forEach((t=>t.removeRoomFloorMaterial())),null==(e=this.roomFloorLayers)||e.clear()},this.lockModelClick=t=>{this.modelLoader&&this.modelLoader.lockModelClick(t)},this.freezeMapUpdate=t=>{this.mapFreeze=t},this.getModelLayerList=()=>this.modelLayerList,this.removeModelLayer=t=>{const e=this.modelLayerList.findIndex((e=>Number(e.layer.id)===Number(t)));if(-1!==e){const t=this.modelLayerList.splice(e,1)[0].layer;this.modelLoader.removeModelLayer(t)}},this.hideAllModelEditWrapper=()=>{this.modelLayerList.forEach((t=>{const e=t.layer;e.scope.hideLine&&e.scope.hideLine(!0),e.scope.hideVertex&&e.scope.hideVertex(!0)})),this.lockModelClick(!1)},this.getModelInfo=t=>{if(this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader){const e=this.modelLayerList.findIndex((e=>Number(e.layer.id)===Number(t)));if(-1!==e){const t=this.modelLayerList[e].layer,n=this.modelLoader.getInfo(t),{data:r}=n;return this.debug.isDevMode&&this.logger.info("getModelInfo ==>",r),r}}return{}},this.getAllModelInfo=()=>{const t=[];return this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.modelLayerList.forEach((e=>{const n=this.modelLoader.getInfo(e.layer);t.push(n.data)})),this.debug.isDevMode&&this.logger.info("getAllModelInfo ==>",t),t},this.getSweepLayer=t=>{var e;let n=null;return null==(e=this.layer)||e.children.forEach((e=>{e.id===t&&(n=e.scope)})),n},this.getCenter=()=>this.center,this.getStaticPrefix=()=>this.staticPrefix,this.removeFromAreaInfo=t=>{try{let r=-1;if(this.areaInfo.forEach(((e,n)=>{e&&e.dataInfo.target===t&&(r=n)})),r>-1){var e,n;const t=this.areaInfo.splice(r,1);"function"==typeof(null==(e=t[0])?void 0:e.remove)&&(null==(n=t[0])||n.remove())}return r}catch(t){this.logger.error("remove areaInfo",t)}},this.removeFromAreaInfoWithClassType=t=>{const e=[];return this.areaInfo.filter((e=>e&&e.class===t)).forEach((t=>{const n=t.dataInfo;n.target&&(this.removeFromAreaInfo(n.target),e.push(n.target))})),e},this.removeCheckedItems=()=>{this.selectedArray.forEach((t=>{var e;this.removeFromAreaInfo(null==(e=t.dataInfo)?void 0:e.target)})),this.selectedArray=[]},this.getLaserMapPointsInfo=t=>{const e={};return void 0!==t?(e.type=t,e.data=this.getPointsData(t),e):(e.type=this.state,e.data=this.getPointsData(this.state),e)},this.getSplitLinePointsInfo=()=>{if(this.splitLine)return{type:Ot.split,data:[{points:this.splitLine.getSplitLineRealPoints(),pixel:this.splitLine.colorHex}]};this.logger.warn("You seems not initialize the splitLine")},this.getRoomMergePointsInfo=()=>{var t,e,n,r,i,o;this.selectedArray.length<2&&this.logger.warn("You must select two rooms");const a=[];return this.selectedArray.forEach((t=>{var e;const n=this.pointsLayers.findIndex((e=>{var n;return(null==(n=e.userData)?void 0:n.colorHex)===t.colorHex}));let r=[];var i;-1!==n&&(r=null==(i=this.pointsLayers[n].scope)?void 0:i.getConvexHullPoints()),a.push({pixel:t.colorHex,convexHull:r,vertexData:(null==(e=this.pointsLayers[n].userData)||null==(e=e.extend)?void 0:e.vertexData)||[]})})),{type:Ot.merge,data:[{pixel:null==(t=a[0])?void 0:t.pixel,convexHull:null==(e=a[0])?void 0:e.convexHull,vertexData:null==(n=a[0])?void 0:n.vertexData},{pixel:null==(r=a[1])?void 0:r.pixel,convexHull:null==(i=a[1])?void 0:i.convexHull,vertexData:null==(o=a[1])?void 0:o.vertexData}]}},this.getMapAreaInfo=(t,e,n=!1)=>{const r=[];return Array.isArray(t)&&t.forEach((t=>{this.pointsLayers.forEach((i=>{if(i){var o;const u=null==(o=i.scope)?void 0:o.layer.userData;if((e?u.colorHex:u.extend.roomId)===t){var a,s,l,c;const{roomCenter:t,cLayer:e}=this.adjustRoomCenter(null==(a=i.scope)?void 0:a.layer),{vertexDataOuter:o=[]}=u,A=o.map((t=>({x:t.x,y:-t.y}))),h=this.useStructuredMode?A:u.points.concat(null!=(s=null==e||null==(l=e.userData)?void 0:l.points)?s:[])||[],d={pixel:u.colorHex,roomId:u.extend.roomId,points:h,convexHull:n?null==(c=i.scope)?void 0:c.getConvexHullPoints():[],center:{x:t.x,y:-t.y},extend:u.extend,roomProperty:u.roomProperty};r.push(d)}}}))})),r},this.getAllMapAreaInfo=(t=!1)=>{const e=[];return this.pointsLayers.forEach((n=>{if(n){var r;const l=null==(r=n.scope)?void 0:r.layer.userData;if(l.extend&&l.extend.roomId>=0){var i,o,a,s;const{roomCenter:r,cLayer:c}=this.adjustRoomCenter(n.scope.layer),{vertexDataOuter:u=[]}=l,A=u.map((t=>({x:t.x,y:-t.y}))),h=this.useStructuredMode?A:l.points?l.points.concat(null!=(i=null==c||null==(o=c.userData)?void 0:o.points)?i:[]):[],d={pixel:l.colorHex,roomId:null==(a=l.extend)?void 0:a.roomId,points:h,convexHull:t?null==(s=n.scope)?void 0:s.getConvexHullPoints():[],center:{x:r.x,y:-r.y},extend:l.extend||{},roomProperty:l.roomProperty||{}};e.push(d)}}})),e},this.getMapAreaCount=()=>{let t=0;return this.pointsLayers.forEach((e=>{if(e){var n,r;const i=null==(n=e.scope)||null==(n=n.layer)?void 0:n.userData;i&&(null==(r=i.extend)?void 0:r.roomId)>=0&&(t+=1)}})),t},this.updateSelectRoomByIds=(t,e)=>{if(this.state===Ut.mapTimerSelect||this.state===Ut.normal||this.state===Ut.mapSplit&&(this.splitState===Ot.click||this.splitState===Ot.normal)){const n=this.state===Ut.mapTimerSelect;this.highlightMapAreaColor(Array.from(new Set(t)),e,n)}},this.removeLaserMap=()=>(this.removeOriginChangeEvent(),this.removeMapResizeEvent(),this.removeSelectRoomDataChangeEvent(),this.removeMapAreaEvent(),this.removeRoomLabelLayer(),this.removeMapAreaEvent(),this.remove()),this.setD3ViewMode=t=>{this.d3Mode=t,t?(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!0),this.indoorMap2d.setSideScene()):(this.indoorMap2d.changeContainerColor(this.bgColor),this.indoorMap2d.enable3dControls(!1),this.indoorMap2d.setTopScene())},this.setD3EditMode=(t,e)=>{if(this.logger.info("setD3EditMode editMode, envMode, is3d ==>",t,e,this.is3d),this.d3EditMode=t,"3d"===e&&this.is3d)t?(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!1),this.indoorMap2d.setTopScene()):(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!0),this.indoorMap2d.setSideScene());else if("2d"===e&&!this.is3d){var n;this.indoorMap2d.changeContainerColor(this.bgColor),null==(n=this.indoorMap2d)||n.enable3dControls(!1),this.indoorMap2d.setTopScene()}},this.getPointSize=()=>this.pointSize,this.getD3EditMode=()=>this.d3EditMode,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.origin={x:0,y:0},this.partitionStatus=-1,this.mapFreeze=!1,this.moving=!1,this.center=new $t.Vector3(0,0,0),this.factor=t.factor||.05,this.rotateMapAngle=t.rotateMapAngle||0,this.staticPrefix=t.staticPrefix,this.bgColor=t.bgColor||"#F5F5F5",this.d3BgColor=t.d3BgColor||"#EBF6FD",this.d3WallColor=t.d3WallColor||"#FFE1E1E1",this.d3FloorColor=t.d3FloorColor||"#FFCACBD2",this.d3WallTexture=t.d3WallTexture,this.indoorMap2d=t.indoorMap2d,Va(this.indoorMap2d.env)&&this.useWorker&&!this.useStructuredMode&&(this.mapWorker=Ka(Bp)),this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3,this.is3d=t.is3d||!1,this.roomLayer={},this.pointerDrag=!1,this.pointerHandler=null,this.pixelPathPointsLayers=[],this.carpetPointsHexArr=[],this.selectedArray=[],this.selectRoomData=[],this.showPixelTypes=[],this.isCarpetVisible=!0,this.isFluorescenceVisible=!1,this.roomNameCache={},this.foldableIconCache={},this.roomLabelCache={},this.roomPropertyCache={},this.iconRenderingCache={},this.asynchronousLoadMap=t.asynchronousLoadMap,this.is3d?this.indoorMap2d.setD3BgColor(this.d3BgColor):this.indoorMap2d.setBgColor(this.bgColor),this.modelLoader=new Ud({indoorMap2d:this.indoorMap2d,origin:this.origin,staticPrefix:this.staticPrefix,type:Nt.D3Model,d3EditWrapperParams:t.d3EditWrapperParams,onClickModel:t.onClickModel,onModelLoadingProgress:t.onModelLoadingProgress,onLaserMapPoints:t.onLaserMapPoints,onLoggerInfo:t.onLoggerInfo}),this.state=Ut.normal,this.indoorMap2d.setIsEnablePan(this.state===Ut.normal),this.edit=!1,this.splitState=Ot.normal,this.selectedArray=[],this.areaInfo=[],this.carpetLayers=[],this.splitColor=t.splitColor,this.selectedParams=t.selectedParams||{checkedIcon:{checkedIconEnable:!1}},this.splitLineParams=t.splitLineParams||{vertex:{},checkedIcon:{checkedIconEnable:!0}},this.mergeRoomParams=t.mergeRoomParams||{checkedIcon:{checkedIconEnable:!0}},this.orderParams=t.orderParams||{orderType:"default"},this.posParams=t.posParams||void 0,this.d3CarpetMaterial=t.d3CarpetMaterial||{},this.multiplePosPosition=void 0!==t.multiplePosPosition&&t.multiplePosPosition,this.maxRoomPropertyLength=void 0!==t.maxRoomPropertyLength?t.maxRoomPropertyLength:3,this.pathLinearAnimate=t.pathLinearAnimate,this.pathWidth=t.pathWidth,this.pathVisible=t.pathVisible,this.appointIcon=t.appointIcon,this.showSelectRoomOrder=t.showSelectRoomOrder,this.mapId=t.mapId||"laser_"+(new Date).getTime(),this.dataMapId=void 0===t.dataMapId?"-1":t.dataMapId,this.roomIds=[],this.pointers=[],this.onLoggerInfo=t.onLoggerInfo||(()=>{this.logger.warn("It seems not setup onLoggerInfo function")}),this.onMapInitThreadEnd=t.onMapInitThreadEnd||(()=>{this.logger.warn("It seems not setup onMapInitThreadEnd function")}),this.onClickSplitArea=t.onClickSplitArea||(()=>{this.logger.warn("It seems not setup onClickSplitArea function")}),this.onClickRoom=t.onClickRoom||(()=>{this.logger.warn("It seems not setup onClickRoom function")}),this.onMapId=t.onMapId||(()=>{this.logger.warn("It seems not setup onMapId function")}),this.onMapLoadEnd=t.onMapLoadEnd||(()=>{this.logger.warn("It seems not setup onMapLoadEnd function")}),this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{this.logger.warn("It seems not setup onClickRoomMoreProperties function")}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{this.logger.warn("It seems not setup onClickRoomProperties function")}),this.onPosPoints=t.onPosPoints||(()=>{this.logger.warn("It seems not setup onPosPoints function")}),this.onClickMapView=t.onClickMapView||(()=>{this.logger.warn("It seems not setup onClickMapView function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onSplitLine=t.onSplitLine||(()=>{this.logger.warn("It seems not setup onSplitLine function")}),this.onScreenSnapshot=t.onScreenSnapshot||(()=>{this.logger.warn("It seems not setup onScreenSnapshot function")}),this.onVirtualInfoRendered=t.onVirtualInfoRendered||(()=>{this.logger.warn("It seems not setup onVirtualInfoRendered function")}),this.onClickMaterial=t.onClickMaterial||(()=>{this.logger.warn("It seems not setup onClickMaterial function")}),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{this.logger.warn("It seems not setup onClickInfoWindow function")}),this.onCruiseStatusMapClick=t.onCruiseStatusMapClick||(()=>{this.logger.warn("It seems not setup onCruiseStatusMapClick function")}),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{this.logger.warn("It seems not setup onClickCustomLayer function")}),this.onD3MapViewModeEnd=t.onD3MapViewModeEnd||(()=>{this.logger.warn("It seems not setup onD3MapViewModeEnd function")}),this.logger.info("this.is3d ==>",this.is3d),this.initMap(t)},this.queueInOut=t=>{let e=null;if(void 0!==t){const n=this.mapWorkerArray.findIndex((e=>e.identifyId===t));-1!==n?n!==this.mapWorkerArray.length-1?(e=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[e]):this.mapWorkerArray.pop():this.mapWorkerArray.length&&(e=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[e])}return e},this.registerPropsStateAndEvent=t=>{this.judgeMapPropsIsValid(t)||this.logger.warn("Receive error map props"),this.mapPropsData=t,Ha(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`,this.selectRoomDataChange),Ha(`${this.indoorMap2d.getUnionId()}_mapMoving`,(t=>{const{moving:e}=t;this.moving=e,!e&&this.lastMapPropsData&&this.shouldUpdate&&(this.shouldUpdate=!1,this.updateLaserMap(this.lastMapPropsData))})),Ha(`${this.indoorMap2d.getUnionId()}_originChange`,this.originChangeEvent),this.autoScaleMap(t.mapState.width,t.mapState.height),this.updateSelectRoomData(t.selectRoomData||[]),Ha(`${this.indoorMap2d.getUnionId()}_mapResize`,this.mapResizeEvent);const e=t.mapState.origin||{x:0,y:0};JSON.stringify(this.origin)!==JSON.stringify(e)&&Ya(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:e}),this.origin=e},this.initMap=async t=>{if(this.registerPropsStateAndEvent(t),this.useStructuredMode){const e={fragmentMapArray:t.mapState.structuredInfo,center:t.mapState.center,materialList:Lp(t.mapState.materialObject,t.mapState.origin),textureList:Mp(t.mapState.textureObject,{width:t.mapState.width,height:t.mapState.height}),roomInfo:t.mapState.roomInfo};this.createStructuredMapInstance(t,e)}else{const e=performance.now(),n=this.initUseParserCache?Fa.MD5(JSON.stringify(t.mapState)).toString():"no hash",r=performance.now();this.logger.info("Current mapState hash code ===>",n,r-e);const i=this.initUseParserCache?await this.mapStateObjectCache.getItem("mapState"):void 0;this.logger.info("Heat hash object ==>",!("object"==typeof i));let o={};if(this.mapWorker&&this.useWorker&&this.initUseThread){this.mapWorker.onMessage(this.initLaserMapThreadEvt);const r={width:t.mapState.width,height:t.mapState.height,origin:t.mapState.origin,useContour:t.mapState.useContour,map:t.mapState.map,roomInfo:t.mapState.roomInfo,materialObject:t.mapState.materialObject,textureObject:t.mapState.textureObject,version:t.mapState.version},a=performance.now(),s={name:"parseData",mapState:r,is3d:this.is3d,d3WallColor:this.d3WallColor,identifyId:this.mapWorkerNum++,timestamp:a,hashCode:n};if(i){const r=i.hashCode,{filterProps:a,is3d:l,d3WallColor:c,laserMapData:u}=i.data;if(r===n&&this.is3d===l&&this.d3WallColor===c&&u){o=u,this.logger.info("thread env: use mapState cache, skip parse..."),await this.createMapInstance(t,o);const n=performance.now();this.logger.info("asynchronous init time use cache ==>",n-e)}else this.mapWorkerArray.push(s),this.mapWorker.postMessage(s)}else this.mapWorkerArray.push(s),this.mapWorker.postMessage(s)}else if(i){const r=i.hashCode,{filterProps:a,is3d:s,d3WallColor:l,laserMapData:c}=i.data;if(r===n&&this.is3d===s&&this.d3WallColor===l&&c){o=c,this.logger.info("use mapState cache, skip parse..."),await this.createMapInstance(t,o);const n=performance.now();this.logger.info("synchronous init time use cache ==>",n-e)}else{if(o=Cp(t.mapState,this.is3d,this.d3WallColor),this.initUseParserCache){const e={hashCode:n,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:o}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}await this.createMapInstance(t,o);const r=performance.now();this.logger.info("synchronous init time ==>",r-e)}}else{if(o=Cp(t.mapState,this.is3d,this.d3WallColor),this.initUseParserCache){const e={hashCode:n,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:o}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}await this.createMapInstance(t,o);const r=performance.now();this.logger.info("synchronous init time ==>",r-e)}}},this.filterObjectMethods=t=>{const e=Object.keys(t).filter((e=>"function"!=typeof t[e])).reduce(((e,n)=>(e[n]=t[n],e)),{});return delete e.indoorMap2d,e},this.createMapInstance=async(t,e)=>{this.mapState=t.mapState,this.lastMapPropsData=t,this.laserMapData=e;const{fragmentMapArray:n,center:r,textureList:i,materialList:o,pixelCoords:a,keySetArray:s}=e;this.debug.isDevMode&&this.logger.info("keySetArray ==>",s),this.pixelCoords=a,this.centerStore=r,this.logger.info("centerStore",this.centerStore),this.layer=new $t.Object3D,this.layer.type="react-indoor-map-map",this.layer.matrixAutoUpdate=!0,this.layer.rotateOnAxis(new $t.Vector3(1,0,0),-Math.PI/2),this.distanceToCamera=this.indoorMap2d.camera.position.distanceTo(this.layer.position),this.asynchronousLoadMap&&this.useWorker?(await this.createPointsLayer(n),this.createPixelPathLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),setTimeout((async()=>{this.is3d||(this.createFluorescence(),setTimeout((()=>{this.createCarpetTextureLayer(i),this.createMaterialLayer(o)}),50))}),16)):(await this.createPointsLayer(n),this.createPixelPathLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||(this.createFluorescence(),this.createCarpetTextureLayer(i),this.createMaterialLayer(o)));const l={performanceTimestamp:Date.now()-this.mapState.performanceTimestamp,mapId:this.mapId,dataMapId:this.dataMapId,target:this.layer.id};this.onMapInitThreadEnd(!0),this.indoorMap2d.setGestureEnable(!0),this.rotateViewScene(this.rotateMapAngle),this.onMapId({data:l}),this.logger.info("onMapId callback ==>",l),this.onMapLoadEnd(!0),this.logger.info("onMapLoadEnd callback ==>",l)},this.createStructuredMapInstance=async(t,e)=>{this.mapState=t.mapState,this.lastMapPropsData=t,this.laserMapData=e;const{fragmentMapArray:n,center:r,textureList:i,materialList:o}=e;this.centerStore=r,this.logger.info("centerStore",this.centerStore),this.layer=new $t.Object3D,this.layer.type="react-indoor-map-map",this.layer.matrixAutoUpdate=!0,this.layer.rotateOnAxis(new $t.Vector3(1,0,0),-Math.PI/2),this.distanceToCamera=this.indoorMap2d.camera.position.distanceTo(this.layer.position),this.asynchronousLoadMap?(await this.createPointsLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),setTimeout((async()=>{this.is3d||(this.createFluorescence(),setTimeout((()=>{this.createCarpetTextureLayer(i),this.createMaterialLayer(o)}),50))}),16)):(await this.createPointsLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||(this.createFluorescence(),this.createCarpetTextureLayer(i),this.createMaterialLayer(o)));const a={performanceTimestamp:Date.now()-this.mapState.performanceTimestamp,mapId:this.mapId,dataMapId:this.dataMapId,target:this.layer.id};this.onMapInitThreadEnd(!0),this.indoorMap2d.setGestureEnable(!0),this.rotateViewScene(this.rotateMapAngle),this.onMapId({data:a}),this.logger.info("onMapId callback ==>",a),this.onMapLoadEnd(!0),this.logger.info("onMapLoadEnd callback ==>",a)},this.judgeMapPropsIsValid=t=>{const{width:e,height:n}=t.mapState;return void 0!==e&&void 0!==n||(this.logger.info("MapProps is invalidated: width or height should not be undefined"),!1)},this.originChangeEvent=t=>{const{oldValue:e,newValue:n}=t;this.logger.info(`originChangeEvent ==> oldValue = ${JSON.stringify(e)} , newValue = ${JSON.stringify(n)}`);const r=this.getLaserMapPointsLayer(Ut.virtualWall),i=this.getLaserMapPointsLayer(Ut.virtualArea),o=this.getLaserMapPointsLayer(Ut.areaSet),a=this.getLaserMapPointsLayer(Ut.pressToRun);this.indoorMap2d.sceneRender(!1),i.forEach((t=>{t.updateOriginAndPosition(n),t.getIsEditable()||t.hideVertexAndUnitText(!0)})),r.forEach((t=>{t.updateOriginAndPosition(n),t.getIsEditable()||t.hideVertexAndUnitText(!0)})),o.forEach((t=>{const e=t.getIsEditable();t.updateOriginAndPosition(n),e||t.hideVertexAndUnitText(!0)})),a.forEach((t=>{t.updateOriginAndPosition(n)})),this.pathLayer&&this.pathLayer.updateCleanPathOnOriginChange(n),this.modelLoader.updateOrigin(n),this.autoScaleMap(this.mapPropsData.mapState.width,this.mapPropsData.mapState.height),this.indoorMap2d.sceneRender(!0)},this.mapResizeEvent=t=>{t&&(this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3,this.updateLaserMapPointSize(this.pointSize))},this.updateLaserMapPointSize=t=>{this.pointsLayers.forEach((e=>{e&&e.scope.updatePointsLayerSize(t)})),this.indoorMap2d.redraw()},this.getLaserMapPointsLayer=t=>{const e=[];return void 0!==t&&this.areaInfo.forEach((n=>{const r=n;r&&r.type===t&&e.push(r)})),e},this.getLaserMapPointsLayerWithClassType=t=>{const e=[];return void 0!==t&&this.areaInfo.forEach((n=>{const r=n;r&&r.class===t&&e.push(r)})),e},this.removeOriginChangeEvent=()=>{Qa(`${this.indoorMap2d.getUnionId()}_originChange`)},this.removeMapResizeEvent=()=>{Qa(`${this.indoorMap2d.getUnionId()}_mapResize`)},this.removeSelectRoomDataChangeEvent=()=>{Qa(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`)},this.createPlaneFloorMaterial=t=>{const e=this.getCenter(),n=t.width/2,r=t.height/2,i={point:[new $t.Vector2(e.x-n,e.y+r),new $t.Vector2(e.x+n,e.y+r),new $t.Vector2(e.x+n,e.y-r),new $t.Vector2(e.x-n,e.y-r)],uri:t.value,zIndex:t.zIndex};return new cp(i)},this.createPointsLayer=async t=>{try{const a=this.useStructuredMode?t:t.filter((t=>0===t.pixelPathData.length));let s=this.centerStore;this.centerStore&&Array.isArray(this.centerStore)||(s=[this.mapState.width/2,this.mapState.height/2],this.logger.warn("The center point cannot be empty and has been automatically corrected.")),this.indoorMap2d.forceFpsImprove(),this.center.x=s[0],this.center.y=s[1],this.center.z=0,this.centerStore=new $t.Vector3,this.centerStore.copy(this.center),this.layer.position.x=-s[0],this.layer.position.y=0,this.layer.position.z=s[1],this.roomIds=[],this.logger.info("selectRoomHex ==>",this.selectRoomData);const l=a.findIndex((t=>{const{pointsAttribute:e}=t;return!!(e.extend&&void 0!==e.extend.roomId&&e.extend.roomId>=0)}));-1!==l&&1!==this.partitionStatus&&(this.logger.info("from unPartitioned to partitioned status..."),this.pointsLayers.forEach((t=>{t&&(this.removeMapAreaEvent(t),t.scope.removePointsLayer())})),this.pointsLayers.length=0,this.carpetPointsHexArr.length=0),this.partitionStatus=-1===l?-1:1;const c=this.selectRoomData.concat([]);this.setStorageByKey("unknownArea",[]);for(let t of a){let{pointsArray:s,center:l,pointsAttribute:u,useContour:A=!1}=t;if(u.pixelType!==kt.unknown){const t=s.length/3,h=u.colors.slice(0,3),d=u.normalColors.slice(0,3);if(u.colors=[],u.normalColors=[],A)u.colors.push(...h),u.normalColors.push(...d);else for(let e=0;e<t;e++)u.colors.push(...h),u.normalColors.push(...d);let{colors:p,normalColors:f}=u;if(this.showPixelTypes.length){if(-1===this.showPixelTypes.findIndex((t=>t===u.pixelType)))continue}let m=!1,g=-1,y=null;this.pointsLayers.forEach(((t,e)=>{if(t&&t.userData.colorHex===u.colorHex){var n;m=!0,g=e;const r=(null==(n=t.scope)?void 0:n.getStorage())||{};u={...u,storage:{...r}},y=this.getNewMapAreaColorConfig(t)}}));let{colorAlpha:v,normalColorAlpha:_,pixelType:w}=u;this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3;const b={freezeUpdate:!this.useStructuredMode&&this.is3d,class:Pl.pixelPoints,useContour:A,color:new $t.Color(h[0],h[1],h[2]),points:u.vertexDataOuter,pointsArray:s,colorsArray:p,center:l,opacity:v,pointSize:this.pointSize,showColor:!0,depthTest:!0,depthWrite:!0,transparent:!1,pointsAttribute:u,height:w===kt.barrier?Rt.laserMap+.01:Rt.laserMap};if(y){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:r}=y;f=t,p=e,v=n,_=r}const{colorStatus:x}=u.storage||{};if(x){const{isGray:t}=x;t?(b.color=new $t.Color(d[0],d[1],d[2]),b.colorsArray=f,b.opacity=_):(b.color=new $t.Color(h[0],h[1],h[2]),b.colorsArray=p,b.opacity=v)}if(u.extend&&void 0!==u.extend.roomId&&u.extend.roomId>=0&&u.pixelType===kt.sweep&&this.selectRoomData.length>0&&(-1===this.selectRoomData.findIndex((t=>t===u.colorHex))?(b.color=new $t.Color(d[0],d[1],d[2]),b.colorsArray=f,b.opacity=_):(b.color=new $t.Color(h[0],h[1],h[2]),b.colorsArray=p,b.opacity=v)),u.pixelType===kt.carpet){if(c.length>0){let t=!1;c.forEach(((e,n)=>{const r=a.findIndex((t=>t.pointsAttribute.colorHex===e));if(-1!==r){const e=a[r].pointsAttribute;e.pixelType===kt.sweep&&(e.extend.highlightColor===u.extend.highlightColor?(b.colorsArray=p,b.opacity=v,t=!0):t||(b.colorsArray=f,b.opacity=_))}}))}const t=this.findRoomInfoThroughCarpetPointsAttribute(a,u);u.roomFloorMaterial2d=t.roomFloorMaterial2d,u.roomFloorMaterial3d=t.roomFloorMaterial3d}if(!m){if(u.extend&&u.extend.normalColor){var e,n;const t=new Ul(b),o=(null==(e=t.scope)?void 0:e.getStorage())||{};if(u={...u,storage:{...o}},this.pointsLayers.push(t.layer),null==(n=this.layer)||n.add(t.layer),this.is3d){if(this.indoorMap2d.checkOathPermission())t.layer.visible=!1;else if(!(u.extend&&void 0!==u.extend.roomId&&u.extend.roomId>=0)&&u.pixelType===kt.barrier){let t=1;this.is3d&&(t=15);for(let e=0;e<t;e++){var r,i;b.height+=1,b.transparent=!0;const t=new Ul(b),e=(null==(r=t.scope)?void 0:r.getStorage())||{};u={...u,storage:{...e}},this.pointsLayers.push(t.layer),null==(i=this.layer)||i.add(t.layer)}}}else t.layer.visible=!0,this.createRoomInfoLayer(u,t,!0)}u.pixelType===kt.carpet&&-1===this.carpetPointsHexArr.findIndex((t=>t.colorHex===u.colorHex))&&this.carpetPointsHexArr.push({colorHex:u.colorHex,normalColor:u.extend.normalColor,highlightColor:u.extend.highlightColor})}if(m&&(this.pointsLayers[g].scope.updatePointsLayer(b),u.extend&&u.extend.roomId>=0)){var o;const{roomProperty:t}=u,e=u.extend.roomId,n=this.roomLayer[e],r=n?JSON.parse(n.dataRoom):[],i=(null==(o=this.pointsLayers[g].scope)?void 0:o.getStorage())||{};u={...u,storage:{...i}},t.length>0&&r.length<1||t.length<1&&r.length>0?(this.pointsLayers[g].scope.isFoldable=!1,n&&(n.removeLabelPosition(),delete this.roomLayer[e]),this.createRoomInfoLayer(u,this.pointsLayers[g].scope,!0)):this.createRoomInfoLayer(u,this.pointsLayers[g].scope,!1)}this.is3d?this.indoorMap2d.checkOathPermission()&&this.setRoomFloorMaterial({pointsAttribute:u}):this.setRoomFloorMaterial({pointsAttribute:u})}else{const t=this.getStorageByKey("unknownArea");t.push(u),this.setStorageByKey("unknownArea",t)}}this.checkMapAreaInfo(a),this.useStructuredMode&&this.is3d&&this.pointsLayers.forEach((t=>{t&&(t.scope.layer.visible=!1)})),this.indoorMap2d.forceFpsDownToStaticFps()}catch(t){this.logger.error("createPointsLayer occur an error ==>",t)}},this.createPixelPathLayer=t=>{let e=!1;for(let r of t){const{pointsAttribute:t,pixelPathData:i}=r;if("path"===t.pixelMode&&0!==i.length){e=!0;const r=[],{pixelPathColorData:o,pixelPathColorAlpha:a,colorHex:s}=t;new Array(i.length/3).fill("").map((()=>{r.push(...o)}));const l={indoorMap2d:this.indoorMap2d,width:this.mapState.width,height:this.mapState.height,pointsArray:i,visible:this.pathVisible,colorsArray:r,opacity:a,positionHeight:Rt.cleanPath,pointsAttribute:t,onLoggerInfo:this.onLoggerInfo},c=this.pixelPathPointsLayers.findIndex((t=>{var e;return!!t&&(null==(e=t.layer)||null==(e=e.userData)?void 0:e.colorHex)===s}));if(-1===c){var n;const t=new lp(l);t.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.cleanPath)),this.pixelPathPointsLayers.push(t),null==(n=this.layer)||n.add(t.layer)}else{const t=this.pixelPathPointsLayers[c];t.updateSmearMaterial(l),t.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.cleanPath)),this.pathVisible||t.hideSmearMaterial(!this.pathVisible)}}}e||(this.pixelPathPointsLayers.forEach((t=>{t.removeSmearMaterial()})),this.pixelPathPointsLayers.length=0)},this.syncLoadImage=t=>(performance.now(),new Promise(((e,n)=>{const r=new Image,i=t.toDataURL("image/png",.01);r.crossOrigin="anonymous",r.src=i,r.onload=()=>{performance.now(),URL.revokeObjectURL(i),e(r)},r.onerror=()=>{this.logger.error("syncLoadImage occur an error"),n()}}))),this.getEdgePoints=(t,e,n)=>{const r=t.size(),i=[],o=[],{width:a,height:s}=this.mapState;for(let a=0;a<r;a++){const r=[];let l,c=t.get(a).data32S;n.beginPath();for(let t=0;t<c.length;t+=2){let e={x:c[t],y:c[t+1]};e={x:c[t],y:s-c[t+1]},0===t?(l=e,n.moveTo(e.x,s-e.y)):t!==c.length-2?n.lineTo(e.x,s-e.y):(n.lineTo(e.x,s-e.y),n.lineTo(l.x,s-l.y),n.closePath(),n.fill(),n.stroke()),r.push(e)}if(l&&r.push(l),e){if(r.length>=4){const t=Cl(r,!1),{boundingBox:e}=t;if(e.width>10||e.height>10){i.push(r.concat([]));const t=r.concat([]),e=this.calcHorizontalOnBase(t,.75);o.push(e)}}}else if(i.push(r.concat([])),r.length>=4){const t=Cl(r,!1),{boundingBox:e}=t;(e.width>10||e.height>10)&&i.push(r.concat([]))}}return{edgePoints:i,parallelList:o}},this.generateEvtFunc=(t,e,n,r)=>new Promise((i=>{try{const{width:o,height:a}=this.mapState;let s;const l=()=>{s||(s=new Hd({is3d:!1,width:o,height:a,pixelRatio:1,onLoggerInfo:this.onLoggerInfo}));const l=performance.now();s.setPixelRatio(1),s.setWidth(o),s.setHeight(a),s.setClearColor2d([0,0,0,1]),s.drawPointsWith2d(t,e,1);const c=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d drawPoints cost time ==>",c-l+" / ms",s.getRenderingElement2d().toDataURL());const{cv:u}=window,A=performance.now();if(u){let t=u.imread(s.getRenderingElement2d());this.cvGray||(this.cvGray=new u.Mat),this.cvEdges||(this.cvEdges=new u.Mat),this.cvHierarchy||(this.cvHierarchy=new u.Mat),this.cvClosed||(this.cvClosed=new u.Mat),this.cvContours||(this.cvContours=new u.MatVector),this.cvContoursOpen||(this.cvContoursOpen=new u.MatVector),this.cvSize||(this.cvSize=new u.Size(3,3)),this.cvSizeOpen||(this.cvSizeOpen=new u.Size(5,5)),this.cvBlurred||(this.cvBlurred=new u.Mat),u.cvtColor(t,this.cvGray,u.COLOR_RGBA2GRAY),u.GaussianBlur(this.cvGray,this.cvBlurred,this.cvSizeOpen,0,0,u.BORDER_DEFAULT),u.Canny(this.cvBlurred,this.cvEdges,50,150),this.cvKernel||(this.cvKernel=u.getStructuringElement(u.MORPH_RECT,this.cvSize)),this.cvKernelOpen||(this.cvKernelOpen=u.getStructuringElement(u.MORPH_RECT,this.cvSizeOpen)),u.morphologyEx(this.cvEdges,this.cvClosed,u.MORPH_CLOSE,this.cvKernel),u.findContours(this.cvClosed,this.cvContours,this.cvHierarchy,u.RETR_EXTERNAL,u.CHAIN_APPROX_SIMPLE),u.morphologyEx(this.cvEdges,this.cvClosed,u.MORPH_CLOSE,this.cvKernelOpen),u.findContours(this.cvClosed,this.cvContoursOpen,this.cvHierarchy,u.RETR_EXTERNAL,u.CHAIN_APPROX_SIMPLE);const e=s.getRenderingContext2d();e.fillStyle="red",e.lineWidth=1,e.strokeStyle="red";const{edgePoints:o,parallelList:a}=this.getEdgePoints(this.cvContours,n,e),{edgePoints:l}=this.getEdgePoints(this.cvContoursOpen,n,e);t.delete(),t=null,this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d result ==>",o,s.getRenderingElement2d().toDataURL()),s.disposeRendering2D(),s=null;const c=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d cv cost time ==>",c-A+" / ms");const h=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d ==>",h-r+" / ms",o),i({floorEdgePoints:l,edgePoints:o,parallelList:a})}i({floorEdgePoints:[],edgePoints:[],parallelList:[]})},{cv:c}=window;if(c&&c.Mat)l();else{const t=setInterval((()=>{const{cv:e}=window;e&&e.Mat&&(t&&clearInterval(t),l())}),4)}}catch(t){this.logger.error("generateEvtFunc occur an error",t)}})),this.generateEdgePointsWith2d=(t,e,n)=>new Promise((async r=>{const i=performance.now();try{const{edgePoints:o,floorEdgePoints:a,parallelList:s}=await this.generateEvtFunc(t,e,n,i);r({edgePoints:o,floorEdgePoints:a,parallelList:s})}catch(t){r({edgePoints:[],floorEdgePoints:[],parallelList:[]}),this.logger.error("regular points occur an error",t)}})),this.checkMapAreaInfo=t=>{const e=t.filter((t=>!this.showPixelTypes.length||-1!==this.showPixelTypes.findIndex((e=>e===t.pointsAttribute.pixelType)))).map((t=>{var e;return null==(e=t.pointsAttribute)?void 0:e.colorHex})),n=this.pointsLayers.map((t=>{var e;return null==(e=t.userData)?void 0:e.colorHex})),r=new Set(e),i=[];n.forEach((t=>{r.has(t)||i.push(t)})),i.forEach((t=>{let e=-1,n=-1;this.pointsLayers.forEach(((n,r)=>{n&&n.userData.colorHex===t&&(this.removeMapAreaEvent(n),n.scope.removePointsLayer(),e=r)})),-1!==e&&this.pointsLayers.splice(e,1),this.carpetPointsHexArr.forEach(((e,r)=>{e.colorHex===t&&(n=r)})),-1!==n&&this.carpetPointsHexArr.splice(n,1)})),this.logger.info("carpetPointsHexArr ===>",this.carpetPointsHexArr);const o=[],a=[],s=Object.keys(this.roomLayer),l=Array.prototype.filter.call(s,(t=>t));if(l.length>0){l.forEach((t=>{o.push(parseInt(t))}));const t=new Set(this.roomIds);o.forEach((e=>{t.has(e)||a.push(e)})),this.removeRoomLabelByRoomIds(a)}},this.removeRoomLabelByRoomIds=t=>{t.forEach((t=>{this.indoorMap2d.removeAnimateFnByFnId(t);let e=-1;this.pointsLayers.forEach(((n,r)=>{var i;n&&(null==(i=n.userData.extend)?void 0:i.roomId)===t&&(this.removeMapAreaEvent(n),n.scope.removePointsLayer(),e=r)})),-1!==e&&this.pointsLayers.splice(e,1);const n=this.roomLayer[t];n&&(n.removeLabelPosition(),delete this.roomLayer[t])}))},this.createLabelCanvas=(t,e)=>{if(this.logger.info("createLabelCanvas ==>",this.is3d),this.is3d)return;const{extend:n,roomPropertyStyle:r}=t;let i,o;return"foldable"!==r?n&&n.roomId>=0&&(i=this.roomPropertyCanvas(t,e)):n&&n.roomId>=0&&(o=this.roomNameCanvas(t),i=this.roomPropertyCanvas(t,e,o)),{info:i,roomName:o}},this.createRoomInfoLayer=(t,e,n)=>{if(this.is3d)return;const{extend:r}=t;if(r&&r.roomId>=0)if(-1===this.roomIds.findIndex((t=>t===r.roomId))&&this.roomIds.push(r.roomId),n){const n=(n,i)=>{this.createInfoWindowCanvasLayer(e,n,r.roomId,i,t)};this.createLabelCanvas(t,n)}else{const n=(n,i)=>{this.updateInfoWindowInfoCanvasLayer(e,r.roomId,n,i,t)};this.createLabelCanvas(t,n)}},this.roomPropertyCanvas=(t,e,n)=>{try{const{colorHex:r,roomProperty:i,defaultOrder:o,storage:a={},extend:s,name:l,roomPropertyStyle:c,roomNameTextColor:u,roomNameTextFont:A,roomNameTextSize:h,roomNameTextStroke:d,roomPropertyBgColor:p,roomPropertyTextColor:f}=t,{order:m}=a;let g=!1,y=1;parseInt(o)>0&&this.state!==Ut.mapSelect&&this.state!==Ut.mapSplit&&this.state!==Ut.mapTimerSelect?(g=!0,y=o):m>0&&(this.state===Ut.mapSelect||this.state===Ut.mapTimerSelect||this.state===Ut.mapSplit)&&(this.state!==Ut.mapSplit||this.splitState!==Ot.click||this.showSelectRoomOrder)?(g=!0,y=m):g=!1;const v=this.hex2Rgba(p),_=this.hex2Rgba(f),w="foldable"===c?v:"#fff",b="foldable"===c?_:this.hex2Rgba(s.highlightColor),x=this.hex2Rgba(u),M="foldable"===c?v:"#fff",L=g?8:0,C=g?3:10,E=12,B=12,S=6,T=this.indoorMap2d.pixelRatio,D={pixelRatio:this.indoorMap2d.pixelRatio},I=new Od(D);this.roomPropertyCache[r]=I;const P=i.find((t=>"text"===t.propertyType))?i.find((t=>"text"===t.propertyType)).value:void 0;let F=0;P&&(F=I.measureTextWidth(P));const k=/^(https|http|ftp):\/\/(www.)?.+.*.+[.{1}](jpeg|JPEG|bmp|BMP|jpg|JPG|PNG|png){1}$/,R=/data:image\/.*;base64,/,U=i.filter((t=>"uri"===t.propertyType)).length,O=i.filter((t=>"uri"===t.propertyType&&(k.test(t.value)||R.test(t.value)))).length;let H=10,Y="sans-serif";"foldable"===c&&h&&(H=h),A&&(Y=A),I.setFont(`${H}px ${Y}`);const Q=I.measureTextWidth(l||""),N="foldable"!==c?Q:0,j=U>this.maxRoomPropertyLength?this.maxRoomPropertyLength:U,W=j>O?O:j,V=U>this.maxRoomPropertyLength?1:0,z=2*L+E*(W+V)+F+N+2*C,G=20;if(I.setWidth(z),I.setHeight("foldable"!==c?G:G+S),I.setPixelRatio(this.indoorMap2d.pixelRatio),I.beginPath(),I.moveTo(10,0),I.lineTo(z-10,0),I.arc(z-10,G/2,10,-Math.PI/2,Math.PI/2),I.lineTo(10,G),I.arc(10,G/2,10,Math.PI/2,3*Math.PI/2),I.setFillStyle(M),I.fill(),g){I.setFillStyle(b),I.beginPath(),I.arc(C+L,G/2,L,0,2*Math.PI),I.fill();const t=I.measureTextWidth(""+y);I.setFont("10px sans-serif"),I.setFillStyle(w),I.setTextBaseLine("middle"),I.fillText(""+y,C+L-t/2,G/2)}if(P&&(I.setFont("10px sans-serif"),I.setFillStyle("foldable"===c?_:"#000"),I.setTextBaseLine("middle"),I.fillText(P,C+2*L+W*E,G/2)),"foldable"!==c){if(A&&I.setFont(`10px ${A}`),d){const{strokeColor:t="#FFFFFFFF",strokeWidth:e=10}=d;I.setLineWidth(e),I.setStrokeStyle(this.hex2Rgba(t)),I.setTextBaseLine("middle"),I.strokeText(l,C+2*L+W*E+F,G/2)}I.setFillStyle(x),I.setTextBaseLine("middle"),I.fillText(l||"",C+2*L+W*E+F,G/2)}"foldable"===c&&(I.beginPath(),I.moveTo((z-B)/2,G),I.lineTo((z+B)/2,G),I.lineTo(z/2,G+S),I.lineTo((z-B)/2,G),I.setFillStyle(v),I.fill());const K=i.filter((t=>"uri"===t.propertyType&&(k.test(t.value)||R.test(t.value)))).length;if(this.logger.info("propertyCount",K,i),0===K)return e(I.getRenderingElement(),n),I.getRenderingElement();const Z=i.filter((t=>"uri"===t.propertyType&&(k.test(t.value)||R.test(t.value)))).map(((t,e,n)=>{if(e<this.maxRoomPropertyLength)return new Promise((n=>{const i=document.createElement("img");i.crossOrigin="*",i.src=t.value,i.onload=()=>{const o=r+"_"+t.value;let a=null;if(this.iconRenderingCache[o])a=this.iconRenderingCache[o],a.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};a=new Od(t),this.iconRenderingCache[o]=a}a.setWidth(E),a.setHeight(E),a.setPixelRatio(this.indoorMap2d.pixelRatio),i.width=E,i.height=E,a.setFillStyle(M),a.fillRect(0,0,E,E),a.setShadowOffsetX(E*T),a.setShadowColor(b),a.drawImage(i,-E,0,E,E);const s=a.getImageData(0,0,E*T,E*T);I.putImageData(s,(C+2*L+e*E)*T,(G-E)/2*T),n()},i.onerror=t=>{this.logger.error("iconImage onerror",t),n()}}))}));if(Z&&Z.length>0)if(U<=this.maxRoomPropertyLength)Promise.all([...Z]).then((()=>{e(I.getRenderingElement(),n)}));else{const t=new Promise((t=>{const e=document.createElement("img");e.crossOrigin="*",e.src=As,e.onload=()=>{e.width=5,e.height=10;const n=r+"_"+As;let i=null;if(this.iconRenderingCache[n])i=this.iconRenderingCache[n],i.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};i=new Od(t),this.iconRenderingCache[n]=i}i.setWidth(5),i.setHeight(10),i.setPixelRatio(this.indoorMap2d.pixelRatio),i.setFillStyle(M),i.fillRect(0,0,5,10),i.setShadowOffsetX(5*T),i.setShadowColor(b),i.drawImage(e,-5,0,5,10);const o=i.getImageData(0,0,5*T,10*T);I.putImageData(o,(C+2*L+(W+V)*E+C)*T,(G-10)/2*T),t()},e.onerror=e=>{this.logger.error("iconImage onerror",e),t()}}));Promise.all([...Z,t]).then((()=>{e(I.getRenderingElement(),n)})),I.getRenderingElement().setAttribute("data-enable-room-properties-event",!0)}return I.getRenderingElement()}catch(t){this.logger.error("roomPropertyCanvas error: ",t)}},this.roomNameCanvas=t=>{const{name:e,roomNameTextColor:n,roomNameTextFont:r,roomNameTextSize:i,roomNameTextStroke:o,roomPropertyStyle:a,colorHex:s}=t,l=this.hex2Rgba(n);let c=null,u=null;if(this.roomNameCache[s])c=this.roomNameCache[s],c.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};c=new Od(t),this.roomNameCache[s]=c}if(this.roomNameCache.temp)u=this.roomNameCache.temp,u.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};u=new Od(t),this.roomNameCache.temp=u}let A=10,h="sans-serif";u.setWidth(300),u.setHeight(150),u.setPixelRatio(this.indoorMap2d.pixelRatio),"foldable"===a&&i&&(A=i),r&&(h=r),u.setFont(`${A}px ${h}`);const d=Math.max(u.measureTextWidth(e),1),p=u.getTextMetrics(e);let f=p.actualBoundingBoxAscent&&p.actualBoundingBoxDescent?p.actualBoundingBoxAscent+p.actualBoundingBoxDescent:1.2*A;if(this.container&&this.container.appendChild){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.font=`${A}px ${h}`,t.textContent=e,this.container.appendChild(t),f=t.offsetHeight,this.container.removeChild(t)}if(f=Math.max(f,1),o){const{strokeColor:t="#FFFFFFFF",strokeWidth:n=10}=o;u.setLineWidth(n),u.setStrokeStyle(this.hex2Rgba(t)),u.setTextBaseLine("middle"),u.strokeText(e,0,f/2)}u.setFillStyle(l),u.setTextBaseLine("middle"),u.setTextAlign("center"),u.fillText(e,d/2,f/2),c.setWidth(d),c.setHeight(f),c.setPixelRatio(this.indoorMap2d.pixelRatio);const m=d*this.indoorMap2d.pixelRatio,g=f*this.indoorMap2d.pixelRatio;return c.drawImageInRange(u.getRenderingElement(),0,0,m,g,0,0,d,f),c.getRenderingElement()},this.createRoomLabelCanvas=(t,e,n,r)=>{const i=this.indoorMap2d.pixelRatio;let o=null;if(this.roomLabelCache[t])o=this.roomLabelCache[t],o.clearRenderingContext();else{const e={pixelRatio:this.indoorMap2d.pixelRatio};o=new Od(e),this.roomLabelCache[t]=o}try{var a,s,l;const t=e?parseInt(e.style.width):0,c=n?parseInt(n.style.width):0,u=r?parseInt(r.style.width):0,A=Math.max(t,c,u)+10,h=e?parseInt(e.style.height):0,d=n?parseInt(n.style.height):0,p=h+d+(r?parseInt(r.style.height):0);o.setWidth(A),o.setHeight(p),o.setPixelRatio(this.indoorMap2d.pixelRatio);const f=e?e.width&&e.height&&(null==(a=e.getContext("2d"))?void 0:a.getImageData(0,0,e.width,e.height)):void 0,m=n?n.width&&n.height&&(null==(s=n.getContext("2d"))?void 0:s.getImageData(0,0,n.width,n.height)):void 0,g=r?r.width&&r.height&&(null==(l=r.getContext("2d"))?void 0:l.getImageData(0,0,r.width,r.height)):void 0;return f&&null!=e&&e.width&&o.putImageData(f,(A*i-(null==e?void 0:e.width))/2,0),m&&null!=n&&n.width&&o.putImageData(m,(A*i-(null==n?void 0:n.width))/2,h*i),g&&null!=r&&r.width&&o.putImageData(g,(A*i-(null==r?void 0:r.width))/2,(h+d)*i+2),o.getRenderingElement()}catch(t){return this.logger.error("createRoomLabelCanvas",t),o.getRenderingElement()}},this.createCarpetTextureLayer=t=>{try{if(!this.isCarpetVisible)return;if(0===t.length)return void this.removeCarpetLayers();if(0===this.carpetLayers.length)t.forEach(((t,e)=>{const n=new bp({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var r;null!=n.layer&&(this.logger.info("pool length is equal to 0, update carpet layer...",this.center),n.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(e+1))),null==(r=this.layer)||r.add(n.layer),this.carpetLayers.push(n))}));else if(this.carpetLayers.length===t.length)t.forEach(((t,e)=>{const n=this.carpetLayers[e];if(null!=n.layer){const i=n.getCarpetMaterialWidth(),o=n.getCarpetMaterialHeight(),{width:a,height:s}=t;if(i!==a||o!==s){this.logger.info(`The carpet width and height are different from before and will be recreated. \n newRect:{width:${a}, height:${s}}, previousRect:{width:${i}, height:${o}}`);const n=this.carpetLayers.splice(e,1)[0];if(n){n.removeCarpetMaterial(),this.logger.info("The new carpet params ==>",t);const i=new bp({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var r;null!=i.layer&&(i.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(e+1))),null==(r=this.layer)||r.add(i.layer),this.carpetLayers.push(i))}}else n.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(e+1))),this.logger.info("pool length is equal to carpet layer length, update carpet layer...",this.center),n.updateCarpetTexture(t)}}));else if(this.carpetLayers.length<t.length){this.carpetLayers.forEach(((e,n)=>{if(null!==e.layer){const i=t[n],o=e.getCarpetMaterialWidth(),a=e.getCarpetMaterialHeight(),{width:s,height:l}=i;if(o!==s||a!==l){e.removeCarpetMaterial();const t=new bp({...i,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var r;null!=t.layer&&(t.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(n+1))),null==(r=this.layer)||r.add(t.layer),this.carpetLayers[n]=t)}else e.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(n+1))),this.logger.info("pool length is less than carpet layer length, update carpet layer...",this.center),e.updateCarpetTexture(i)}}));for(let n=this.carpetLayers.length;n<t.length;n++){const r=t[n],i=new bp({...r,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var e;null!=i.layer&&(i.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(n+1))),null==(e=this.layer)||e.add(i.layer),this.carpetLayers.push(i))}}else if(this.carpetLayers.length>t.length){const e=this.carpetLayers.length-t.length;this.carpetLayers.splice(t.length,e).forEach((t=>{t.remove()})),t.forEach(((t,e)=>{const n=this.carpetLayers[e],r=n.getCarpetMaterialWidth(),i=n.getCarpetMaterialHeight(),{width:o,height:a}=t;if(null!=n.layer)if(r!==o||i!==a){this.logger.info(`The carpet width and height are different from before and will be recreated. \n newRect:{width:${o}, height:${a}}, previousRect:{width:${r}, height:${i}}`);const n=this.carpetLayers.splice(e,1)[0];if(n){n.removeCarpetMaterial();const r=new bp({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var s;null!=r.layer&&(r.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(e+1))),null==(s=this.layer)||s.add(r.layer),this.carpetLayers.push(r))}}else n.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.carpet+.001*(e+1))),this.logger.info("pool length is more than carpet layer length, update carpet layer...",this.center),n.updateCarpetTexture(t)}))}}catch(t){this.logger.error("createCarpetTextureLayer ==>",t)}},this.removeCarpetLayers=()=>{this.carpetLayers.forEach((t=>{t.removeCarpetMaterial()})),this.carpetLayers=[]},this.createFluorescence=()=>{if(!this.isFluorescenceVisible)return;const t=this.getMapPointsByPixelType(kt.barrier);if(this.fluorescence)this.fluorescence.updateFluorescence({points:t,color:this.fluorescenceColor,shadowColor:this.fluorescenceShadowColor,shadowSize:this.fluorescenceShadowSize,width:this.mapState.width,height:this.mapState.height});else{const n={indoorMap2d:this.indoorMap2d,type:Nt.Fluorescence,color:this.fluorescenceColor,shadowColor:this.fluorescenceShadowColor,shadowSize:this.fluorescenceShadowSize,points:t,useWorker:this.useWorker,width:this.mapState.width,height:this.mapState.height,onLoggerInfo:this.onLoggerInfo};var e;this.fluorescence=new Xd(n),null!=this.fluorescence.layer&&(this.fluorescence.setPosition(new $t.Vector3(this.center.x,this.center.y,Rt.laserMap-.1)),null==(e=this.layer)||e.add(this.fluorescence.layer))}},this.removeFluorescence=()=>{this.fluorescence&&(this.fluorescence.removeFluorescence(),this.fluorescence=null)},this.compareMaterialIsEqual=(t,e)=>t.id===e.id&&t.uri===e.uri&&JSON.stringify(t.extends)===e.extends&&t.width===e.width&&t.height===e.height&&t.isScale===e.isScale&&t.scale===e.scale&&t.position.x===e.x&&t.position.y===e.y,this.createMaterialLayer=t=>{this.debug.isDevMode&&this.logger.info("createMaterialLayer ==>",t),Array.isArray(this.materialLayers)||(this.materialLayers=[]),this.indoorMap2d.sceneRender(!1),t.forEach((t=>{const e=this.materialLayers.findIndex((e=>e.id===t.id));if(-1!==e)if(this.compareMaterialIsEqual(this.materialLayers[e],t))this.debug.isDevMode&&this.logger.info("material is same as before ==>",t);else{this.materialLayers[e].removeMaterial(),this.materialLayers.splice(e,1);const n=this.createSingleMaterialLayer(t);this.materialLayers.push(n),this.debug.isDevMode&&this.logger.info("update single material ==>",t)}else{const e=this.createSingleMaterialLayer(t);this.materialLayers.push(e),this.debug.isDevMode&&this.logger.info("create new single material ==>",t)}})),this.materialLayers.forEach(((e,n)=>{-1===t.findIndex((t=>e.id===t.id))&&(this.materialLayers[n].removeMaterial(),this.materialLayers.splice(n,1))})),this.indoorMap2d.sceneRender(!0),this.logger.info("createMaterialLayer ==>",t)},this.createSingleMaterialLayer=t=>{const e={indoorMap2d:this.indoorMap2d,id:t.id,position:new $t.Vector2(t.x,t.y),uri:t.uri,size:t.width,extends:t.extends,isScale:t.isScale,scale:t.scale,width:t.width,height:t.height,center:this.center,onClickMaterial:this.onClickMaterial,onLoggerInfo:this.onLoggerInfo},n=new Ql(e);return this.layer&&this.layer.add(n.layer),n},this.findRoomInfoThroughCarpetPointsAttribute=(t,e)=>{e.colorHex,e.extend,e.content;let n={};const r=t.findIndex((t=>t.pointsAttribute.pixelType===kt.sweep&&t.pointsAttribute.highlightColor===e.highlightColor));return-1!==r&&(n={...t[r].pointsAttribute}),n},this.findRoomInfoThroughCarpet=t=>{const e=t.userData.colorHex;let n=t.userData.extend||{},r=t.userData.content||{},i=-1,o=e,a=t;if(!this.useStructuredMode){const s=this.carpetPointsHexArr.findIndex((t=>t.colorHex===e));-1!==s&&(i=this.pointsLayers.findIndex((t=>t.userData.pixelType===kt.sweep&&t.userData.extend.highlightColor===this.carpetPointsHexArr[s].highlightColor)),-1!==i&&(n=this.pointsLayers[i].userData.extend,r=this.pointsLayers[i].userData.content,o=this.pointsLayers[i].userData.colorHex,a=this.pointsLayers[i],t.clickPoint&&(a.clickPoint=t.clickPoint)))}return{mHex:o,mExtend:n,mContent:r,mIndex:i,mLayer:a}},this.findCarpetThroughRoomInfo=t=>{let e=-1,n={};if(!this.useStructuredMode&&t.userData.extend&&this.carpetPointsHexArr.length>0){const r=this.carpetPointsHexArr.findIndex((e=>e.highlightColor===t.userData.extend.highlightColor));-1!==r&&(e=this.pointsLayers.findIndex((t=>t.userData.colorHex===this.carpetPointsHexArr[r].colorHex)),-1!==e&&(n=this.pointsLayers[e]))}return{mIndex:e,mLayer:n}},this.createEdgePoints=async()=>{try{var t;if(this.useStructuredMode){if(this.is3d&&null!=(t=this.indoorMap2d)&&t.checkOathPermission()){const t=[],e=[],n=[],r={},{fragmentMapArray:i}=this.laserMapData;for(let o=0;o<i.length;o++){const a=i[o],{pointsAttribute:s}=a,{vertexDataOuter:l,extend:c,boundingRect:u,vertexDataOuterOnScs:A}=s;if(void 0!==c.roomId&&c.roomId>=0){t.push(A),e.push(A);const i=this.calcHorizontalOnBase(A,.75);n.push(i),this.logger.info("edgePointsList, edgePointsParallelList==>",t,n);const{highlightColor:o}=c,{colorFormat:a,alpha:s}=this.argb2Rgb(o),l={r:parseInt(255*a.r),g:parseInt(255*a.g),b:parseInt(255*a.b),a:s},h=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;r[h]||(r[h]={points:[],colorHex:h,color:l,boundingRect:u,outer:[],doorGap:[],isRoom:!0},r[h].points=[].concat(...A))}}const o=this.getWholeOuterPointsFromEdges(r),a=this.getDoorGatesFromOuter(r,o,!0),s=this.getBoundingMeshRangeFromDoorGates(a);if(this.logger.info("generateObj pic ==>",o,a),this.d3SingleFrameLayer)if(e.length&&n.length){const t={layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:n,pointsList:e,gaps:s,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},r=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsParallelList(),i=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsList();n.length!==r.length||e.length!==i.length?this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t):JSON.stringify(n)===JSON.stringify(r)&&JSON.stringify(e)===JSON.stringify(i)||this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t)}else this.d3SingleFrameLayer.removeSingleD3Frame();else if(e.length&&n.length){const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:n,pointsList:e,gaps:s,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3SingleFrameLayer=new ap(t),this.layer.add(this.d3SingleFrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}}}else if(this.enableAICapability&&"high"===this.resourceUsageLevel)if(this.is3d){const{width:t,height:a}=this.mapState;if(this.indoorMap2d.checkOathPermission()){this.indoorMap2d.setDuringHeavyTask(!0);const s=performance.now(),l=[],c=[],u=[],A=[],h={};for(let s of this.pointsLayers){var e,n,r;const{params:d={}}=s.scope,{pointsArray:p,colorsArray:f,pointsAttribute:m}=d;let g=[].concat(p),y=[].concat(f);if(null!=(e=d.pointsAttribute)&&e.extend&&(null==(n=d.pointsAttribute)?void 0:n.extend.roomId)>=0||(null==(r=d.pointsAttribute)?void 0:r.pixelType)===kt.sweep){const{extend:e,boundingRect:n}=m,{highlightColor:r}=e,{colorFormat:p,alpha:f}=this.argb2Rgb(r),v={r:parseInt(255*p.r),g:parseInt(255*p.g),b:parseInt(255*p.b),a:f},_=`rgba(${v.r}, ${v.g}, ${v.b}, ${v.a})`,{mIndex:w,mLayer:b}=this.findCarpetThroughRoomInfo(s);if(-1!==w){const t=b.scope.params.pointsArray,e=b.scope.params.colorsArray;g=g.concat(t),y=y.concat(e);const{floorEdgePoints:n}=await this.generateEdgePointsWith2d(t,e,!1);A.push(...n),s.carpetEdgePoints=n,this.debug.isDevMode&&this.logger.info("carpetEdgePoints",n)}const{edgePoints:x,floorEdgePoints:M,parallelList:L}=await this.generateEdgePointsWith2d(g,y,!0),C=L.findIndex((t=>null===t.x||null===t.y));if(-1!==C)throw this.debug.isDevMode&&this.logger.warn("calcHorizontalOnBase occur an error",L,C),new Error("parallel points occur an error");this.debug.isDevMode&&this.logger.info("parallelList",L);const E=[];for(let e=0;e<L.length;e++){const n=L[e],r=n.filter((e=>e.x>=-1.5&&e.y>=-1.5&&e.x<=t+1.5&&e.y<=a+1.5));n.length!==r.length&&this.debug.isDevMode&&this.logger.warn("parallel points occur an error value coords",n),E.push(r)}var i,o;l.push(...x),c.push(...M),u.push(...E),s.edgePoints=x,s.floorEdgePoints=M,s.parallelList=E,h[_]||(h[_]={points:[],colorHex:_,color:v,boundingRect:n,outer:[],doorGap:[],isRoom:(null==(i=d.pointsAttribute)?void 0:i.extend)&&(null==(o=d.pointsAttribute)?void 0:o.extend.roomId)>=0}),h[_].points=[].concat(...x)}}this.indoorMap2d.setDuringHeavyTask(!1);const d=this.getWholeOuterPointsFromEdges(h),p=this.getDoorGatesFromOuter(h,d,!1),f=this.getBoundingMeshRangeFromDoorGates(p);if(this.debug.isDevMode&&this.logger.info("generateObj pic ==>",f),this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3SingleFrameLayer)if(c.length&&u.length){const t={layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:u,pointsList:c,gaps:f,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},e=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsParallelList(),n=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsList();u.length!==e.length||c.length!==n.length?this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t):JSON.stringify(u)===JSON.stringify(e)&&JSON.stringify(c)===JSON.stringify(n)||this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t)}else this.d3SingleFrameLayer.removeSingleD3Frame();else if(c.length&&u.length){const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:u,pointsList:c,gaps:f,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3SingleFrameLayer=new ap(t),this.layer.add(this.d3SingleFrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}const{image:m,scale:g}=this.d3CarpetMaterial;if(this.d3CarpetMaterialLayer){const t={layer:this.layer,image:m,scale:g,pointsList:A,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},e=this.d3CarpetMaterialLayer.getCarpetMaterialPointsList();(e.length!==A.length||JSON.stringify(e)!==JSON.stringify(A))&&this.d3CarpetMaterialLayer.updateD3CarpetMaterial(t),0===A.length&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial()}else{const t={indoorMap2d:this.indoorMap2d,image:m,scale:g,pointsList:A,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3CarpetMaterialLayer=new sp(t),this.layer.add(this.d3CarpetMaterialLayer.layer)}const y=performance.now();return this.debug.isDevMode&&this.logger.info("createEdgePoints time & edgePointsList ==>",y-s,l,u),{edgePointsList:l,floorEdgePointsList:c,edgePointsParallelList:u}}}else this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3CarpetMaterialLayer&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial();else this.logger.warn("The createEdgePoints function does not have the parameter enableAICapability set to true and has the parameter resourceUsageLevel set to high");return{edgePointsList:[],floorEdgePointsList:[],edgePointsParallelList:[]}}catch(t){return this.logger.error("createEdgePoints occur en error",t),this.useStructuredMode||this.createD3FrameWithWholeFrame(),{edgePointsList:[],floorEdgePointsList:[],edgePointsParallelList:[]}}},this.getWholeOuterPointsFromEdges=t=>{const e=performance.now(),n=[],r=Object.keys(t),i=r.length;for(let e=0;e<i;e++){const i=t[r[e]],o=i.points,a=i.colorHex,s=i.isRoom,l=[];for(let t=1;t<o.length;t++){const e=o[t-1],n=o[t];this.calculateCoordinatesBetweenPoints(e,n,s,a,l)}t[r[e]].outer=[].concat(l),n.push(l)}const o=performance.now();return this.debug.isDevMode&&this.logger.info("getWholeOuterPointsFromEdges ==>",o-e+" / ms",t,n),n},this.getDoorGatesFromOuter=(t,e,n)=>{const r=performance.now(),i=Object.keys(t),o=i.length,a=[];this.debug.isDevMode&&this.logger.info("getDoorGatesFromOuter generateObj ==>",t);const s=this.getD3GenerateElement();if(s.clearRenderingContext(),o>1)for(let r=0;r<o;r++){const{outer:o,colorHex:l}=t[i[r]],c=o.flatMap((t=>e.filter(((t,e)=>e>r)).flatMap((e=>e.filter((e=>{if(n){if(this.calculateDistance(e,t)<=1&&e.colorHex!==t.colorHex&&t.isRoom&&e.isRoom)return e.closeAreaHex=t.colorHex,!0}else if(e.x===t.x&&e.y===t.y&&e.colorHex!==t.colorHex&&t.isRoom&&e.isRoom)return e.closeAreaHex=t.colorHex,!0;return!1}))))));if(this.debug.isDevMode){const t=s.getRenderingContext();if(t){t.strokeStyle=l,t.beginPath();for(let e=0;e<o.length;e++){const n=o[e];0===e?t.moveTo(n.x,n.y):e!==o.length-1?t.lineTo(n.x,n.y):(t.lineTo(n.x,n.y),t.closePath(),t.stroke())}}}const u=c.reduce(((t,e)=>(t[e.colorHex]=[...t[e.colorHex]||[],e],t)),{}),A=Object.values(u);a.push(...A)}const l=performance.now();return this.debug.isDevMode&&this.logger.info("getDoorGatesFromOuter ==>",l-r+" / ms",a),a},this.getD3GenerateElement=()=>{const{width:t,height:e}=this.mapState;this.d3GenerateElement||(this.d3GenerateElement=new Od({pixelRatio:1,width:t,height:e,onLoggerInfo:this.onLoggerInfo}));const n=this.d3GenerateElement.getStyleWidth(),r=this.d3GenerateElement.getStyleHeight();return n===t&&r===e||(this.d3GenerateElement.setPixelRatio(1),this.d3GenerateElement.setWidth(t),this.d3GenerateElement.setHeight(e)),this.d3GenerateElement},this.getBoundingMeshRangeFromDoorGates=t=>{const e=performance.now();this.mapState;const n=[];for(let e=0;e<t.length;e++){const r=t[e];if(r.length>=2){const t=Cl(r,!1),{boundingBox:e,tl:i,tr:o,br:a,bl:s}=t,{minX:l,minY:c,maxX:u,maxY:A}=e,h=u-l,d=A-c;let p=[],f=[];f=h>=6&&d>=6?[{x:i[0],y:i[1]},{x:o[0],y:o[1]},{x:a[0],y:a[1]},{x:s[0],y:s[1]}]:h>=d?[{x:i[0],y:i[1]-3},{x:o[0],y:o[1]-3},{x:a[0],y:a[1]+3},{x:s[0],y:s[1]+3}]:[{x:i[0]-3,y:i[1]},{x:o[0]+3,y:o[1]},{x:a[0]+3,y:a[1]},{x:s[0]-3,y:s[1]}],p=[f[0],f[1],f[2],f[3],f[0]],n.push(p)}}const r=performance.now();if(this.debug.isDevMode){var i;const t=this.getD3GenerateElement(),o=t.getRenderingContext();if(o)for(let t=0;t<n.length;t++){const e=n[t];o.beginPath(),o.strokeStyle="black";for(let t=0;t<e.length;t++){const n=e[t];0===t?o.moveTo(n.x,n.y):t!==e.length-1?o.lineTo(n.x,n.y):(o.lineTo(n.x,n.y),o.closePath(),o.stroke())}}this.logger.info("getBoundingMeshRangeFromDoorGates ==>",r-e+" / ms",n,null==(i=t.getRenderingElement())?void 0:i.toDataURL())}return n},this.createD3FrameWithWholeFrame=()=>{if(this.is3d){if(this.indoorMap2d.checkOathPermission()){const t=this.getMapPointsByPixelType(kt.sweep)||[],e=this.getMapPointsByPixelType(kt.carpet)||[],n=[].concat(t).concat(e);if(this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3FrameLayer)this.d3FrameLayer.updateD3FrameRegularPoints({layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:n,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center});else{const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:n,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3FrameLayer=new qd(t),this.layer.add(this.d3FrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}}}else this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3CarpetMaterialLayer&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial()},this.createMapAreaEvent=()=>{const t=this.indoorMap2d;this.removeMapAreaEvent(),this.pointsLayers.forEach((e=>{e&&(t.dispatchEvent(e),e.$on(t.eventTapUp,((t,e,n)=>{try{if(!this.mapClickGestureStatus)return;if("function"==typeof this.onClickMapView&&this.onClickMapView({eventType:n,data:{extend:t.userData.extend}}),this.is3d)return;if(2===this.pointers.length)return this.removePointer(e),void(this.pointers.length=0);if(this.removePointer(e),this.pointers.length=0,this.pointerDrag)return;if(this.pointerOut(),this.state===Ut.normal||this.state===Ut.mapSplit&&this.splitState===Ot.normal||this.state===Ut.mapSplit&&this.splitState===Ot.click&&!0===this.edit){let e=t;if(e.userData.pixelType===kt.carpet){const{mIndex:t}=this.findRoomInfoThroughCarpet(e);-1!==t&&(e=this.pointsLayers[t])}if("foldable"===e.userData.roomPropertyStyle&&e.userData.roomProperty.length>0&&e.userData.extend&&(void 0!==e.userData.extend.roomId||e.userData.extend.roomId>=0)){const t={isFoldable:!e.scope.isFoldable,target:e.id,roomId:e.userData.extend.roomId};e.scope.isFoldable=!e.scope.isFoldable;const n=(t,n)=>{this.updateInfoWindowInfoCanvasLayer(e.scope,e.userData.extend.roomId,t,n,e.scope.layer.userData)};this.createLabelCanvas(e.scope.layer.userData,n),this.onClickRoom(t)}else if("foldable"!==e.userData.roomPropertyStyle&&e.userData.roomProperty.length>0&&e.userData.extend&&(void 0!==e.userData.extend.roomId||e.userData.extend.roomId>=0)){const t={isFoldable:e.scope.isFoldable,target:e.id,roomId:e.userData.extend.roomId};this.onClickRoom(t)}}if(this.state===Ut.mapSplit&&this.splitState===Ot.click){if(t.type===It.indoorMapPoints&&t.userData.colorHex){const{mHex:e,mExtend:n}=this.findRoomInfoThroughCarpet(t),r={pixel:e,extend:n},i=[r];if(!(r.extend&&r.extend.roomId>=0))return;this.onClickSplitArea({data:i}),this.edit&&(-1!==this.selectRoomData.indexOf(e)?(this.selectRoomData.splice(this.selectRoomData.indexOf(e),1),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("order",void 0),t.scope.setStorageByKey("colorStatus",{isGray:!0}),this.changeMaterialColor(t,t.userData.normalColors,t.userData.normalColorAlpha),this.updateCarpetMaterialLayersColor(t,!1))}))):(this.selectRoomData.push(e),t.parent.children.forEach((t=>{if(t.userData.colorHex===e){const n=this.selectRoomData.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),t.scope.setStorageByKey("colorStatus",{isGray:!1}),this.changeMaterialColor(t,t.userData.colors,t.userData.colorAlpha),this.updateCarpetMaterialLayersColor(t,!0)}}))),this.showSelectRoomOrder&&t.parent.children.forEach((t=>{if(t.userData.extend&&t.userData.extend.roomId>=0){const e=this.selectRoomData.findIndex((e=>e===t.userData.colorHex));-1!==e?t.scope.setStorageByKey("order",e+1):t.scope.setStorageByKey("order",void 0);const n=(e,n)=>{this.updateInfoWindowInfoCanvasLayer(t.scope,t.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,n)}})))}}else if(this.state===Ut.pressToRun){if(this.edit){const e=t.clickPoint.x+this.center.x,n=t.clickPoint.z-this.center.y,r=!(!this.posParams||this.multiplePosPosition),i=this.getLaserMapPointsLayer(Ut.pressToRun);let o=null;if(1===i.length&&(o=i[0]),this.multiplePosPosition){const t=new Rl({indoorMap2d:this.indoorMap2d,animate:!r,origin:{x:0,y:0},position:new $t.Vector2(e,n),appointIcon:this.appointIcon,isScale:r,scale:.02*this.indoorMap2d.getFitScale(),posParams:this.posParams,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(t)}else{if(o&&!r){const t=o.removePosPosition(),e=o.getFrameAnimationId();Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:e,status:0}),this.removeFromAreaInfo(t),o=null}if(!(o&&r||(o=new Rl({indoorMap2d:this.indoorMap2d,animate:!r,origin:{x:0,y:0},position:new $t.Vector2(e,n),appointIcon:this.appointIcon,isScale:r,scale:.02*this.indoorMap2d.getFitScale(),posParams:this.posParams,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo}),this.addSweepLayer(o),r))){const t=o.getFrameAnimationId();Ya(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1}),o.startAnimate()}}}}else if(this.state===Ut.mapSplit){if(this.splitState===Ot.split){if(t.type===It.indoorMapPoints&&t.userData.colorHex){var r,i,o;const{mHex:e,mExtend:n,mContent:a,mLayer:s}=this.findRoomInfoThroughCarpet(t),l={pixel:e,extend:n};if(this.logger.info("new Split ==>",l),!(void 0!==l.extend.roomId&&l.extend.roomId>=0))return;this.onClickSplitArea({data:l});const{checkedIconEnable:c}=(null==(r=this.splitLineParams)?void 0:r.checkedIcon)||{checkedIconEnable:!0};c&&this.updateSplitSelectedIcon(s,{mHex:e,mExtend:n,mContent:a,mLayer:s});const{mIndex:u,mLayer:A}=this.findCarpetThroughRoomInfo(s);let h=s.userData.pixelPoints,d=s.scope.minX,p=s.scope.maxX,f=s.scope.minY,m=s.scope.maxY,g=s.scope.center.y,y=s.scope.center.x;-1!==u&&(d=Math.min(s.scope.minX,A.scope.minX),p=Math.max(s.scope.maxX,A.scope.maxX),f=Math.min(s.scope.minY,A.scope.minY),m=Math.max(s.scope.maxY,A.scope.maxY),g=(s.scope.center.y+A.scope.center.y)/2,y=(s.scope.center.x+A.scope.center.x)/2,h=h.concat(A.userData.pixelPoints),this.logger.info("merge carpet points into room points"));const v={x:d-20,y:-g},_={x:p+20,y:-g};this.splitLine&&this.splitLine.removeSplitLine();let w=[];this.pointsLayers.forEach((t=>{t.userData.pixelType!==kt.sweep||t.userData.extend.roomId>=0||(w=w.concat(t.userData.pixelPoints))}));const b=this.getStorageByKey("unknownArea");if(b&&b.length){let t=[];b.map((e=>{t=t.concat(e.pixelPoints)})),w=w.concat(t)}const x=!!this.useStructuredMode||!!this.mapState.useContour;this.splitLine=new Ol({useContour:x,useStructuredMode:this.useStructuredMode,contours:s.userData.vertexDataOuter,isDash:!0,noVertices:!1,indoorMap2d:this.indoorMap2d,boundingBox:{min:{x:d,y:-m},max:{x:p,y:-f}},vertexParams:null==(i=this.splitLineParams)?void 0:i.vertex,splitColor:this.splitColor,center:{x:y,y:g},pixelPoints:h,wrapperPoints:w,points:[v,_],colorHex:e,onlyEndPoints:null==(o=this.splitLineParams)?void 0:o.onlyEndPoints,onSplitLine:this.onSplitLine,onLoggerInfo:this.onLoggerInfo}),s.scope.layer.add(this.splitLine.layer)}}else if(this.splitState===Ot.merge&&t.type===It.indoorMapPoints&&t.userData.colorHex){var a;const{mHex:e,mExtend:n,mContent:r,mLayer:i}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o});const{checkedIconEnable:c}=(null==(a=this.mergeRoomParams)?void 0:a.checkedIcon)||{checkedIconEnable:!0},u=this.createSelectedIcon(i,{mHex:e,mExtend:n,mContent:r,mLayer:i});if(this.selectedArray.length<2){-1===this.selectedArray.findIndex((t=>t.colorHex===e))&&(this.selectedArray.push(u),c&&this.addSweepLayer(u))}else{const t=this.selectedArray.findIndex((t=>t.colorHex===e));if(-1!==t){var s;const e=this.selectedArray.splice(t,1);c&&this.removeFromAreaInfo(null==(s=e[0])||null==(s=s.dataInfo)?void 0:s.target)}else{var l;const t=this.selectedArray.splice(0,1);c&&this.removeFromAreaInfo(null==(l=t[0])||null==(l=l.dataInfo)?void 0:l.target)}this.selectedArray.push(u),c&&this.addSweepLayer(u)}}}else if(this.state===Ut.mapSelect){if(t.userData.colorHex&&(t.userData.extend&&void 0!==t.userData.extend.roomId&&t.userData.extend.roomId>=0||t.userData.pixelType===kt.carpet)){var c,u;const{mHex:e,mExtend:n,mContent:r,mLayer:i}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o});let a={};const{checkedIconEnable:s}=(null==(c=this.selectedParams)?void 0:c.checkedIcon)||{checkedIconEnable:!1},{checkedIcon:l}=this.selectedParams;l&&l.checkedIconEnable&&l.checkedParams&&(a={size:l.checkedParams.checkedRadius,image:l.checkedParams.checkedImage,isScale:l.checkedParams.isScale,scale:l.checkedParams.scale});const h=t.clickPoint.x+this.center.x,d=t.clickPoint.z-this.center.y;let p=new $t.Vector2(h,d),f=!1;if("waterDroplets"===(null==(u=this.orderParams)?void 0:u.orderType)){const{roomCenter:e}=this.adjustRoomCenter(t.scope.layer),n=new $t.Vector2(parseInt(e.x),parseInt(-e.y)),r=n.x,i=n.y;p=new $t.Vector2(r,i),f=!0}const m=new Yl({indoorMap2d:this.indoorMap2d,type:Ut.mapSelect,...a,extend:n,content:r,order:this.selectedArray.length+1,orderParams:this.orderParams,colorHex:e,position:p,onLoggerInfo:this.onLoggerInfo});let g=this.selectedArray.findIndex((t=>t.colorHex===e));if(g>-1){var A;const t=this.selectedArray.splice(g,1);s&&this.removeFromAreaInfo(null==(A=t[0])?void 0:A.dataInfo.target),i.scope.setStorageByKey("order",void 0);const e=(t,e)=>{const n=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(i.scope,m.extend.roomId,n,e,i.scope.layer.userData,f)};return this.createLabelCanvas(i.scope.layer.userData,e),void this.selectedArray.forEach(((t,e)=>{t.updateSelectedOrder(e+1),this.pointsLayers.forEach(((e,n)=>{if(e.scope.layer.userData.extend&&t.colorHex===e.scope.layer.userData.colorHex){e.scope.setStorageByKey("order",t.order);const n=(t,n)=>{const r=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,r,n,e.scope.layer.userData,f)};this.createLabelCanvas(e.scope.layer.userData,n)}}))}))}this.selectedArray.push(m),s&&this.addSweepLayer(m),i.scope.setStorageByKey("order",m.order);const y=(t,e)=>{const n=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(i.scope,m.extend.roomId,n,e,i.scope.layer.userData,f)};this.createLabelCanvas(i.scope.layer.userData,y)}}else if(this.state===Ut.mapTimerSelect){if(t.userData.colorHex&&(t.userData.extend&&void 0!==t.userData.extend.roomId&&t.userData.extend.roomId>=0||t.userData.pixelType===kt.carpet)){var h;const{mHex:e,mExtend:n,mLayer:r,mContent:i}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o}),-1!==this.selectRoomData.indexOf(e)?(this.selectRoomData.splice(this.selectRoomData.indexOf(e),1),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("colorStatus",{isGray:!0}),this.changeMaterialColor(t,t.userData.normalColors,t.userData.normalColorAlpha),this.updateCarpetMaterialLayersColor(t,!1))}))):(this.selectRoomData.push(e),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("colorStatus",{isGray:!1}),this.changeMaterialColor(t,t.userData.colors,t.userData.colorAlpha),this.updateCarpetMaterialLayersColor(t,!0))})));let a={};const{checkedIconEnable:s}=(null==(h=this.selectedParams)?void 0:h.checkedIcon)||{checkedIconEnable:!1},{checkedIcon:l}=this.selectedParams;l&&l.checkedIconEnable&&l.checkedParams&&(a={size:l.checkedParams.checkedRadius,image:l.checkedParams.checkedImage,isScale:l.checkedParams.isScale,scale:l.checkedParams.scale});const c=t.clickPoint.x+this.center.x,u=t.clickPoint.z-this.center.y,A=new Yl({indoorMap2d:this.indoorMap2d,type:Ut.mapTimerSelect,...a,extend:n,content:i,order:this.selectedArray.length+1,colorHex:e,position:new $t.Vector2(c,u),onLoggerInfo:this.onLoggerInfo});let p=this.selectedArray.findIndex((t=>t.colorHex===e));if(p>-1){var d;const t=this.selectedArray.splice(p,1);s&&this.removeFromAreaInfo(null==(d=t[0])?void 0:d.dataInfo.target),r.scope.setStorageByKey("order",void 0);const e=(t,e)=>{this.updateInfoWindowInfoCanvasLayer(r.scope,A.extend.roomId,t,e,r.scope.layer.userData)};return this.createLabelCanvas(r.scope.layer.userData,e),void this.selectedArray.forEach(((t,e)=>{t.updateSelectedOrder(e+1),this.pointsLayers.forEach(((e,n)=>{if(e.scope.layer.userData.extend&&t.colorHex===e.scope.layer.userData.colorHex){e.scope.setStorageByKey("order",t.order);const n=(t,n)=>{this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,t,n,e.scope.layer.userData)};this.createLabelCanvas(e.scope.layer.userData,n)}}))}))}this.selectedArray.push(A),s&&this.addSweepLayer(A),r.scope.setStorageByKey("order",A.order);const f=(t,e)=>{this.updateInfoWindowInfoCanvasLayer(r.scope,A.extend.roomId,t,e,r.scope.layer.userData)};this.createLabelCanvas(r.scope.layer.userData,f)}}else if(this.state===Ut.mapCruise&&this.edit){const e=t.clickPoint.x+this.center.x-this.origin.x,n=t.clickPoint.z-this.center.y-this.origin.y,{mHex:r,mExtend:i,mLayer:o,mContent:a}=this.findRoomInfoThroughCarpet(t),s={x:e,y:n};this.onCruiseStatusMapClick({data:{point:s,roomInfo:{pixel:r,extend:i}}})}}catch(t){this.logger.warn("PointsLayer event occur error",t)}})),e.$on(t.eventTap,((t,e,n)=>{this.state!==Ut.normal&&(this.pointerIn(),this.addPointer(e))})))})),this.logger.info("createMapAreaEvent, map area num ==>",this.pointsLayers.length)},this.updateCarpetMaterialLayersColor=(t,e)=>{if(!this.useStructuredMode&&t.userData.extend&&this.carpetPointsHexArr.length>0){const n=this.carpetPointsHexArr.findIndex((e=>e.highlightColor===t.userData.extend.highlightColor));if(-1!==n){const t=this.pointsLayers.findIndex((t=>t.userData.colorHex===this.carpetPointsHexArr[n].colorHex));if(-1!==t){const n=this.pointsLayers[t];n.scope.setStorageByKey("colorStatus",{isGray:!e}),e?this.changeMaterialColor(n,n.userData.colors,n.userData.colorAlpha):this.changeMaterialColor(n,n.userData.normalColors,n.userData.normalColorAlpha)}}}},this.pointerIn=()=>{this.pointerDrag=!1,this.pointerHandler=setTimeout(this.setPointerDrag,150)},this.pointerOut=()=>{this.pointerDrag?this.pointerDrag=!1:clearTimeout(this.pointerHandler)},this.setPointerDrag=()=>{this.pointerDrag=!0},this.updateSplitSelectedIcon=(t,e)=>{const{mHex:n,mExtend:r,mContent:i,mLayer:o}=e,a=t.clickPoint.x+this.center.x,s=t.clickPoint.z-this.center.y;let l={};const{checkedIcon:c}=this.splitLineParams;c&&c.checkedIconEnable&&c.checkedParams&&(l={size:c.checkedParams.checkedRadius,image:c.checkedParams.checkedImage,isScale:c.checkedParams.isScale,scale:c.checkedParams.scale}),this.selected&&this.selected.removeSelected(),this.selected=new Yl({indoorMap2d:this.indoorMap2d,...l,type:Ut.mapSplit,extend:r,content:i,colorHex:n,position:new $t.Vector2(a,s),onLoggerInfo:this.onLoggerInfo}),this.addSweepLayer(this.selected)},this.createSelectedIcon=(t,e)=>{const{mHex:n,mExtend:r,mContent:i,mLayer:o}=e,a=t.clickPoint.x+this.center.x,s=t.clickPoint.z-this.center.y;let l={};const{checkedIcon:c}=this.mergeRoomParams;return c&&c.checkedIconEnable&&c.checkedParams&&(l={size:c.checkedParams.checkedRadius,image:c.checkedParams.checkedImage,isScale:c.checkedParams.isScale,scale:c.checkedParams.scale}),new Yl({indoorMap2d:this.indoorMap2d,...l,type:Ut.mapSplit,extend:r,content:i,colorHex:n,position:new $t.Vector2(a,s),onLoggerInfo:this.onLoggerInfo})},this.removeMapAreaEvent=t=>{const e=this.indoorMap2d;this.pointers.length=0,t?"function"==typeof t.$off&&t.$off(e.eventTapUp):(this.pointsLayers.forEach((t=>{t&&"function"==typeof t.$off&&t.$off(e.eventTapUp)})),"function"==typeof this.layer.$off&&this.layer.$off(e.eventTapUp))},this.removeFromScene=(t,e,n)=>{let r=0;for(let i,o=t.children.length-1;o>=0;o--)i=t.children[o],i&&i.type===e&&(null===r&&(r=0),n?i.uuid===n&&(r++,"function"==typeof i.dispose&&i.dispose(),t.remove(i)):(r++,"function"==typeof i.dispose&&i.dispose(),t.remove(i)));return r},this.adjustRoomCenter=t=>{let e=t.scope.center,n=t.userData.pixelPoints;this.logger.info("before adjust room center",t.scope.center);const{mIndex:r,mLayer:i}=this.findRoomInfoThroughCarpet(t),{mIndex:o,mLayer:a}=this.findCarpetThroughRoomInfo(t);let s=i.scope.minX,l=i.scope.maxX,c=i.scope.minY,u=i.scope.maxY,A=i.scope.center.y;if(i.scope.center.x,-1!==o){s=Math.min(i.scope.minX,a.scope.minX),l=Math.max(i.scope.maxX,a.scope.maxX),c=Math.min(i.scope.minY,a.scope.minY),u=Math.max(i.scope.maxY,a.scope.maxY),A=(i.scope.center.y+a.scope.center.y)/2,i.scope.center.x,a.scope.center.x;const t={x:s-20,y:-A},r={x:l+20,y:-A},o={x:l,y:c},h={x:l,y:u},d=Tl(t,r,{x:s,y:c},{x:s,y:u}),p=Tl(t,r,o,h),f=[];if(d&&p){for(let t=s;t<l;t++){const e=Dl(d,p,t);e.y=-e.y,e.x=e.x;const n={x:Math.ceil(e.x),y:Math.ceil(e.y)},r={x:Math.floor(e.x),y:Math.floor(e.y)};if(f.push(n,r),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t={x:Math.ceil(e.x),y:Math.floor(e.y)},n={x:Math.floor(e.x),y:Math.ceil(e.y)};f.push(t,n)}}const i=new Map(n.map((t=>[t.x+","+t.y,t]))),o=f.filter((t=>{const e=t.x+","+t.y;return i.has(e)}));if(o.sort(((t,e)=>t.x-t.y-(e.x-e.y))),o.length>=2){const t=o[0],n=o[o.length-1],r={x:(t.x+n.x)/2,y:(t.y+n.y)/2};isNaN(r.x)||isNaN(r.y)||(e=r)}else{const n={x:(t.x+r.x)/2,y:(Math.abs(t.y)+Math.abs(r.y))/2};isNaN(n.x)||isNaN(n.y)||(e=n)}}}return this.logger.info("after adjust room center",e),{roomCenter:e,mLayer:i,cLayer:a}},this.createInfoWindowCanvasLayer=(t,e,n,r,i)=>{const{roomProperty:o,name:a,defaultOrder:s,extend:l,colorHex:c,roomPropertyStyle:u}=i,{roomCenter:A}=this.adjustRoomCenter(t.layer),h=new $t.Vector2(parseInt(A.x),parseInt(-A.y)),d=h.x,p=h.y;let f,m,g,y;r&&t.layer.userData.roomProperty.length>0&&(f=this.roomFoldableIconCanvas(c)),"foldable"===u?(y=r,t.isFoldable?(m=e,r&&(g=void 0)):(m=void 0,r&&(g=f))):(y=void 0,m=e,r&&(g=void 0));const v=this.roomLayer[n],_=this.createRoomLabelCanvas(c,m,g,y);if(v)v.updateLabelInfo({dataRoom:JSON.stringify(o),dataName:a,dataOrder:s,labelImage:_,size:{width:2*parseInt(null==_?void 0:_.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==_?void 0:_.style.height)/3*this.indoorMap2d.getFitScale()}}),v.updateLabelPosition({x:d,y:p+2}),m&&m.getAttribute("data-enable-room-properties-event")?(v.enableMoreRoomPropertiesEvent(!0),v.registerMoreRoomPropertiesEvent()):(v.enableMoreRoomPropertiesEvent(!1),v.registerRoomPropertiesEvent());else{var w;const t=new yp({indoorMap2d:this.indoorMap2d,dataRoom:JSON.stringify(o),attributes:{roomProperty:o,name:a,extend:l,colorHex:c},dataOrder:s,dataName:a,labelImage:_,onClickRoomMoreProperties:this.onClickRoomMoreProperties,onClickRoomProperties:this.onClickRoomProperties,size:{width:2*parseInt(null==_?void 0:_.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==_?void 0:_.style.height)/3*this.indoorMap2d.getFitScale()},position:{x:d,y:p+2},onLoggerInfo:this.onLoggerInfo});null==(w=this.layer)||w.add(t.layer),this.roomLayer[n]=t,m&&m.getAttribute("data-enable-room-properties-event")?(t.enableMoreRoomPropertiesEvent(!0),t.registerMoreRoomPropertiesEvent()):(t.enableMoreRoomPropertiesEvent(!1),t.registerRoomPropertiesEvent())}},this.roomFoldableIconCanvas=t=>{let e=null;if(this.foldableIconCache[t])e=this.foldableIconCache[t],e.clearRenderingContext();else{const n={pixelRatio:this.indoorMap2d.pixelRatio};e=new Od(n),this.foldableIconCache[t]=e}return e.setWidth(12),e.setHeight(6),e.setPixelRatio(this.indoorMap2d.pixelRatio),e.beginPath(),e.moveTo(6,0),e.lineTo(12,6),e.lineTo(0,6),e.lineTo(6,0),e.closePath(),e.setFillStyle("#707070"),e.fill(),e.getRenderingElement()},this.resetOrder=()=>{this.pointsLayers.forEach(((t,e)=>{if(t&&t.scope.layer.userData.extend){t.scope.setStorageByKey("order",void 0);const e=(e,n)=>{t.scope.layer&&this.updateInfoWindowInfoCanvasLayer(t.scope,t.scope.layer.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,e)}}))},this.hideFoldableIconAndProperty=t=>{this.pointsLayers.forEach(((e,n)=>{if(e&&e.scope.layer.userData.extend){const n=(n,r)=>{const i=t?void 0:n;this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,i,r,e.scope.layer.userData,t)};this.createLabelCanvas(e.scope.layer.userData,n)}}))},this.createWaterDropletsSelectedLayer=()=>{this.removeCheckedItems(),this.pointsLayers.forEach((t=>{if(t){const e=t.scope.layer.userData;if(e.extend&&e.extend.roomId>=0&&parseInt(e.defaultOrder)>0){const{roomCenter:n}=this.adjustRoomCenter(t.scope.layer),r=new $t.Vector2(parseInt(n.x),parseInt(-n.y)),i=r.x,o=r.y,a=new $t.Vector2(i,o),s=new Yl({indoorMap2d:this.indoorMap2d,type:Ut.mapSelect,extend:e.extend,content:e.content,order:e.defaultOrder,orderParams:this.orderParams,colorHex:e.colorHex,position:a,onLoggerInfo:this.onLoggerInfo});this.selectedArray.push(s),this.addSweepLayer(s)}}}))},this.updateInfoWindowInfoCanvasLayer=(t,e,n,r,i,o=!1)=>{if(this.is3d)return;const{roomProperty:a,name:s,defaultOrder:l,roomPropertyStyle:c,colorHex:u}=i,{roomCenter:A}=this.adjustRoomCenter(t.layer),h=new $t.Vector2(parseInt(A.x),parseInt(-A.y)),d=h.x,p=h.y;let f,m,g,y;r&&t.layer.userData.roomProperty.length>0&&(o||(f=this.roomFoldableIconCanvas(u))),"foldable"===c?(y=r,t.isFoldable?(m=n,r&&(g=void 0)):(m=void 0,r&&(g=f))):(y=void 0,m=n,r&&(g=void 0));const v=this.roomLayer[e];if(v){const t=this.createRoomLabelCanvas(u,m,g,y);v.updateLabelInfo({dataRoom:JSON.stringify(a),dataName:s,dataOrder:l,labelImage:t,size:{width:2*parseInt(null==t?void 0:t.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==t?void 0:t.style.height)/3*this.indoorMap2d.getFitScale()}}),v.updateLabelPosition({x:d,y:p+2}),m&&m.getAttribute("data-enable-room-properties-event")?(v.enableMoreRoomPropertiesEvent(!0),v.registerMoreRoomPropertiesEvent()):(v.enableMoreRoomPropertiesEvent(!1),v.registerRoomPropertiesEvent())}},this.getPointsData=t=>{const e=[];return this.areaInfo.forEach((n=>{if(n){const r=n.dataInfo;r.type===t&&(r.data.target=r.target,e.push(r.data))}})),e},this.getThreadStatus=()=>Va(this.indoorMap2d.env)&&this.useWorker&&!this.asynchronousLoadMap,this.hideForbidOrWallLayer=(t,e)=>{t.forEach((t=>{t.hideLayer(e)}))},this.removeVirtualInfoLayer=t=>{if(Array.isArray(t)){const e=[];return t.forEach((t=>{const n=this.removeFromAreaInfo(t);e.push(n)})),e}return this.removeFromAreaInfo(t)},this.hideVertexAndUnitText=(t,e)=>{t.forEach((t=>{t.hideVertex&&t.hideVertex(e),t.hideUnitText&&t.hideUnitText(e)}))},this.grayMapAreaColor=t=>{this.logger.info(`grayMapAreaColor ==> isGray: ${t}`),this.pointsLayers.forEach((e=>{if(e&&e.type===It.indoorMapPoints&&e.userData.colorHex){let n=t?e.userData.normalColors:e.userData.colors,r=t?e.userData.normalColorAlpha:e.userData.colorAlpha;if(e.userData.extend&&e.userData.extend.roomId>=0||e.userData.pixelType===kt.carpet){const i=this.getNewMapAreaColorConfig(e);if(i){const{normalColorsArray:e,colorsArray:o,colorAlpha:a,normalColorAlpha:s}=i;n=t?e:o,r=t?s:a}e.scope.setStorageByKey("colorStatus",{isGray:t}),this.changeMaterialColor(e,n,r)}}}))},this.changeAllMapAreaColor=t=>{this.grayMapAreaColor(t)},this.updateMapAreaColor=(t,e,n=!1)=>{this.logger.info("updateMapAreaColor ==>",t,e,n),t.length>0&&t.forEach((t=>{this.pointsLayers.forEach((r=>{if(r&&r.type===It.indoorMapPoints&&r.userData.colorHex){let i=n?r.userData.normalColors:r.userData.colors,o=n?r.userData.normalColorAlpha:r.userData.colorAlpha;if(r.userData.extend&&r.userData.extend.roomId>=0){const a=this.getNewMapAreaColorConfig(r);if(a){const{normalColorsArray:t,colorsArray:e,colorAlpha:r,normalColorAlpha:s}=a;i=n?t:e,o=n?s:r}e?r.userData.colorHex===t&&(r.scope.setStorageByKey("colorStatus",{isGray:n}),this.changeMaterialColor(r,i,o),this.updateCarpetMaterialLayersColor(r,!n)):r.userData.extend.roomId===t&&(r.scope.setStorageByKey("colorStatus",{isGray:n}),this.changeMaterialColor(r,i,o),this.updateCarpetMaterialLayersColor(r,!n))}}}))}))},this.changeMapAreaColorWithNewConfig=(t,e,n)=>{if(t.length>0){const r=t.filter((t=>"string"==typeof t)).length===t.length;t.forEach((t=>{var i,o;const a=null==(i=e[t])?void 0:i.normalColor,s=null==(o=e[t])?void 0:o.highlightColor;if(""!==a&&""!==s){const{colorFormat:e,alpha:i}=this.argb2Rgb(a),{colorFormat:o,alpha:l}=this.argb2Rgb(s);this.pointsLayers.forEach((c=>{if(c&&c.type===It.indoorMapPoints){const u=c.userData;if(u.colorHex&&u.extend&&u.extend.roomId>=0&&(r?u.colorHex:u.extend.roomId)===t){c.scope.setStorageByKey("newColorConfig",{normalColor:a,highlightColor:s});const t=[],r=[];new Array(u.normalColors.length/3).fill("").map((()=>{t.push(e.r,e.g,e.b)})),new Array(u.colors.length/3).fill("").map((()=>{r.push(o.r,o.g,o.b)})),u.normalColors=t,u.colors=r,u.normalColorAlpha=i,u.colorAlpha=l,this.changeMaterialColor(c,n?r:t,n?l:i)}}}))}}))}},this.clearMapAreaColorWithNewConfig=()=>{this.pointsLayers.forEach((t=>{t&&t.scope.setStorageByKey("newColorConfig",{normalColor:"",highlightColor:""})})),this.updateLaserMap(this.mapPropsData,!1,!0)},this.getNewMapAreaColorConfig=t=>{if(t){const e=t.userData;let{normalColors:n,colors:r,colorAlpha:i,normalColorAlpha:o}=e,a=t.scope.getStorageByKey("newColorConfig");if(a){const t=a.normalColor,e=a.highlightColor;if(""!==t&&""!==e){const i=[],o=[],{colorFormat:a,alpha:s}=this.argb2Rgb(t),{colorFormat:l,alpha:c}=this.argb2Rgb(e);return new Array(n.length/3).fill("").map((()=>{i.push(a.r,a.g,a.b)})),new Array(r.length/3).fill("").map((()=>{o.push(l.r,l.g,l.b)})),{normalColorsArray:i,colorsArray:o,colorAlpha:c,normalColorAlpha:s}}}}return null},this.highlightMapAreaColor=(t,e,n)=>{this.logger.info("highlightMapAreaColor ==>",t,e,n);const r=[];this.removeCheckedItems(),t.length>0?(this.indoorMap2d.sceneRender(!1),this.grayMapAreaColor(!0),t.forEach((t=>{this.pointsLayers.forEach((i=>{if(i&&i.type===It.indoorMapPoints&&i.userData.colorHex){let o=i.userData.colors,a=i.userData.colorAlpha;if(i.userData.extend&&i.userData.extend.roomId>=0){const s=this.getNewMapAreaColorConfig(i);if(s){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:r}=s;o=e,a=n}if(i.scope.setStorageByKey("colorStatus",{isGray:!1}),e){if(i.userData.colorHex===t&&(this.changeMaterialColor(i,o,a),r.push(i.userData.colorHex),this.updateCarpetMaterialLayersColor(i,!0),n)){const t=i.scope.center.x,e=-i.scope.center.y,n=new Yl({indoorMap2d:this.indoorMap2d,type:this.state,extend:i.userData.extend,content:i.userData.content,order:this.selectedArray.length+1,colorHex:i.userData.colorHex,position:new $t.Vector2(t,e),onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(n),this.selectedArray.push(n)}}else if(i.userData.extend.roomId===t&&(this.changeMaterialColor(i,o,a),r.push(i.userData.colorHex),this.updateCarpetMaterialLayersColor(i,!0),n)){const t=i.scope.center.x,e=-i.scope.center.y,n=new Yl({indoorMap2d:this.indoorMap2d,type:this.state,extend:i.userData.extend,content:i.userData.content,order:this.selectedArray.length+1,colorHex:i.userData.colorHex,position:new $t.Vector2(t,e),onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(n),this.selectedArray.push(n)}}}}))})),this.pointsLayers.forEach((t=>{t&&r.forEach((e=>{if(t.userData.colorHex===e){const n=r.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),this.state!==Ut.mapTimerSelect&&this.foldableSingleRoomInfo(t,!0)}}))}))):this.grayMapAreaColor(!1),this.updateSelectRoomData(r),this.indoorMap2d.sceneRender(!0)},this.changeMaterialColor=(t,e,n)=>{var r;if(this.useStructuredMode){if(t.material.opacity=n,t.material.color=new $t.Color(e[0],e[1],e[2]),t.scope.shapeWireframe){var i;const r=t.scope.shapeWireframe,o=r.geometry.getAttribute("color").count,a=[];for(let t=0;t<o;t++)a.push(e[0],e[1],e[2]);r.material.opacity=n,null==(i=r.geometry)||i.setAttribute("color",new $t.BufferAttribute(new Float32Array(a),3))}}else t.material.opacity=n,null==(r=t.geometry)||r.setAttribute("color",new $t.BufferAttribute(new Float32Array(e),3))},this.hightMapAreaColorWithoutChecked=(t,e)=>{this.logger.info("hightMapAreaColorWithoutChecked ==>",t,e);const n=[];t.length>0?(this.indoorMap2d.sceneRender(!1),this.grayMapAreaColor(!0),t.forEach((t=>{this.pointsLayers.forEach((r=>{if(r&&r.type===It.indoorMapPoints&&r.userData.colorHex){let i=r.userData.colors,o=r.userData.colorAlpha;if(r.userData.extend&&r.userData.extend.roomId>=0){r.scope.setStorageByKey("colorStatus",{isGray:!1});const a=this.getNewMapAreaColorConfig(r);if(a){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:r}=a;i=e,o=n}e?r.userData.colorHex===t&&(this.changeMaterialColor(r,i,o),this.updateCarpetMaterialLayersColor(r,!0),n.push(r.userData.colorHex)):r.userData.extend.roomId===t&&(this.changeMaterialColor(r,i,o),this.updateCarpetMaterialLayersColor(r,!0),n.push(r.userData.colorHex))}}}))})),this.pointsLayers.forEach((t=>{t&&n.forEach((e=>{if(t.userData.colorHex===e){const n=this.selectRoomData.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),this.foldableSingleRoomInfo(t,!0)}}))}))):this.grayMapAreaColor(!1),this.updateSelectRoomData(n),this.indoorMap2d.sceneRender(!0)},this.updateSelectRoomData=t=>{const e=this.selectRoomData.concat();this.selectRoomData=t,Ya(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`,{oldValue:e,newValue:this.selectRoomData})},this.selectRoomDataChange=t=>{const{newValue:e}=t;this.state===Ut.normal&&e&&!e.length&&this.grayMapAreaColor(!1)},this.foldableRoomInfo=t=>{this.pointsLayers.forEach((e=>{e&&this.foldableSingleRoomInfo(e,t)}))},this.foldableSingleRoomInfo=(t,e)=>{if("foldable"===t.userData.roomPropertyStyle&&t.userData.extend&&t.userData.roomProperty.length>0&&(void 0!==t.userData.extend.roomId||t.userData.extend.roomId>=0)){t.scope.isFoldable=e;const n=(e,n)=>{this.updateInfoWindowInfoCanvasLayer(t.scope,t.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,n)}},this.getSelectedAreaInfoList=()=>{const t=[];return this.selectRoomData.length&&this.selectRoomData.forEach((e=>{this.pointsLayers.forEach((n=>{if(n&&n.userData.colorHex===e){const r=n.userData.extend||{};t.push({[e]:r})}}))})),t},this.foldableSingleRoomInfoById=(t,e,n)=>{this.pointsLayers.forEach((r=>{if(r)if(e){if(t===r.userData.colorHex){const t=void 0===n?!r.scope.isFoldable:n;this.foldableSingleRoomInfo(r,t)}}else if(r.userData.extend&&r.userData.extend.roomId>=0&&t===r.userData.extend.roomId){const t=void 0===n?!r.scope.isFoldable:n;this.foldableSingleRoomInfo(r,t)}}))},this.getCurrentMapState=()=>({state:this.state,splitState:this.splitState,edit:this.edit}),this.getCurrentMapCenter=()=>({center:{x:this.center.x,y:-this.center.y},flipCenter:{x:this.center.x,y:this.center.y}}),this.generateRandomSweepPoint=t=>{const e=new Array(t).fill("");if(this.pixelCoords&&this.pixelCoords.length){var n;const t=null==(n=this.pixelCoords)?void 0:n.filter((t=>t.type===kt.sweep||t.type===kt.carpet)),r=t.length-1;return e.map(((n,i)=>{const o=Math.floor(Math.random(r)*r),a=t[o];e[i]=a})),e}return null},this.createAndPutSpriteIntoMap=t=>{if(Array.isArray(t)){const e=new Array(t.length);return t.forEach(((t,n)=>{const{image:r,point:i,size:o,isScale:a=!1}=t,s={point:i,image:r,size:o||6,height:Rt.sprite,isScale:a},l=new hs(s),c=l.layer.id;this.spriteInstanceList.push(l),e[n]=c,this.layer&&this.layer.add(l.layer)})),e}return null},this.createOrUpdateTailLineForRobot=t=>{if(this.layer){this.tailLineInstance&&this.tailLineInstance.remove();const{width:e=1,color:n="#ffffff",opacity:r=1,points:i=[]}=t,o={color:n,lineWidth:e,opacity:r,points:i,noVertices:!0,noUnitText:!0,shouldExtendLine:!1,isDash:!1,depthWrite:!0,height:Rt.cleanPath,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},a=new ul(o);this.tailLineInstance=a,this.layer.add(this.tailLineInstance.layer)}},this.removeSpriteFromMap=t=>{if(Array.isArray(t)){let e=this.spriteInstanceList.length-1;const n=[];return t.forEach((t=>{for(let i=e;i>=0;i--){const e=this.spriteInstanceList[i];var r;if(e&&e.layer.id===t)n.push(e.layer.id),null==(r=this.spriteInstanceList.splice(i,1)[0])||r.remove()}})),n}return null},this.getMapPointsByPixelType=t=>{var e;return this.pixelCoords&&this.pixelCoords.length?null==(e=this.pixelCoords)?void 0:e.filter((e=>e.type===t)):null},this.hideAllCarpetMaterial=t=>{this.isCarpetVisible=!t,this.carpetLayers.map((e=>e.hideCarpetMaterial(t)))},this.setShowBarrierFluorescenceOnMap2d=(t,e,n,r)=>{if(this.isFluorescenceVisible=t,this.isFluorescenceVisible)return this.fluorescenceColor=e||"rgba(162, 238, 255, 1)",this.fluorescenceShadowColor=n||"rgba(123, 238, 255, 1)",this.fluorescenceShadowSize=r||2,void this.createFluorescence();this.removeFluorescence()},this.showPixelTypeOnMap2d=t=>{if(this.is3d)return;this.showPixelTypes=t;const e=[];this.pointsLayers.forEach(((t,n)=>{if(t){const n=t.userData;if(-1===this.showPixelTypes.findIndex((t=>t===n.pixelType))){var r;const i=null==(r=n.extend)?void 0:r.roomId;i>=0&&e.push(i),this.removeMapAreaEvent(t),t.scope.removePointsLayer()}}})),this.removeRoomLabelByRoomIds(e)},this.recoverPixelTypeOnMap2d=()=>{this.is3d||(this.showPixelTypes.length=0,this.updateLaserMap(this.mapPropsData,!1,!0))},this.removePointer=t=>{for(let e=0;e<this.pointers.length;e++)if(this.pointers[e].pointerId===t.pointerId)return void this.pointers.splice(e,1)},this.addPointer=t=>{2===this.pointers.length&&this.pointers.shift(),this.pointers.push(t)},this.hideRoomLabelLayer=t=>{Object.keys(this.roomLayer).forEach((e=>{this.roomLayer[e].hideLabelPosition(t)}))},this.removeRoomLabelLayer=()=>{Object.keys(this.roomLayer).forEach((t=>{this.roomLayer[t].removeLabelPosition(),delete this.roomLayer[t]})),this.roomLayer={},this.pointsLayers.forEach((t=>{t&&t.userData&&t.scope.setStorageByKey("order",void 0)}))},this.removeStoreObject=()=>{this.splitLine&&this.splitLine.removeSplitLine(),this.splitLine=null,this.selected&&this.selected.removeSelected(),this.selected=null,this.removeCheckedItems()},this.clearSelectRoomAndRecoverMap=()=>{this.logger.info("clearSelectRoomAndRecoverMap"),this.updateSelectRoomData([]),this.grayMapAreaColor(!1)},this.hex2Rgba=t=>{if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(3),n=(parseInt(t.slice(1,3),16)/255).toFixed(1),r=new $t.Color;return r.setHex(Number(e)),`rgba(${Math.round(255*r.r)},${Math.round(255*r.g)},${Math.round(255*r.b)},${n})`}return"rgba(255,255,255,1)"},this.clearRenderingCache=t=>{Object.keys(t).forEach((e=>{t[e].disposeRendering2D()}))},this.container=void 0!==t.container?t.container:null,this.useWorker=void 0===t.useWorker||t.useWorker,this.initUseThread=void 0===t.initUseThread||t.initUseThread,this.initUseParserCache=void 0!==t.initUseParserCache&&t.initUseParserCache,this.enableAICapability=void 0!==t.enableAICapability&&t.enableAICapability,this.resourceUsageLevel=void 0===t.resourceUsageLevel||t.resourceUsageLevel,this.useStructuredMode=void 0!==t.useStructuredMode&&t.useStructuredMode,this.offscreenCanvasEnabled="ios"!==t.platform,this.isAddEventListener=!1,this.shouldUpdate=!1,this.mapWorkerArray=[],this.mapWorkerNum=0,this.mapClickGestureStatus=!0,this.roomFloorLayers=new Map,this.generateObjCache=new Rd("generateCache"),this.mapStateObjectCache=new Rd("mapStateCache"),this.init(t)}calculateDistance(t,e){const n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}}var Fp=function(t,e){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Fp(t,e)};function kp(t,e){function n(){this.constructor=t}Fp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Rp(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Up=function(t,e){this.target=e,this.type=t},Op=function(t){function e(e,n){var r=t.call(this,"error",n)||this;return r.message=e.message,r.error=e,r}return kp(e,t),e}(Up),Hp=function(t){function e(e,n,r){void 0===e&&(e=1e3),void 0===n&&(n="");var i=t.call(this,"close",r)||this;return i.wasClean=!0,i.code=e,i.reason=n,i}return kp(e,t),e}(Up),Yp={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},Qp=function(){function t(t,e,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){r._debug("open event");var e=r._options.minUptime,n=void 0===e?Yp.minUptime:e;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(t){return r._ws.send(t)})),r._messageQueue=[],r.onopen&&r.onopen(t),r._listeners.open.forEach((function(e){return r._callEventListener(t,e)}))},this._handleMessage=function(t){r._debug("message event"),r.onmessage&&r.onmessage(t),r._listeners.message.forEach((function(e){return r._callEventListener(t,e)}))},this._handleError=function(t){r._debug("error event",t.message),r._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),r.onerror&&r.onerror(t),r._debug("exec error listeners"),r._listeners.error.forEach((function(e){return r._callEventListener(t,e)})),r._connect()},this._handleClose=function(t){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(t),r._listeners.close.forEach((function(e){return r._callEventListener(t,e)}))},this._url=t,this._protocols=e,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(t,e){return"string"==typeof e?t+=e.length:e instanceof Blob?t+=e.size:t+=e.byteLength,t}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,e):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},t.prototype.reconnect=function(t,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,e),this._connect()):this._connect()},t.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var e=this._options.maxEnqueuedMessages,n=void 0===e?Yp.maxEnqueuedMessages:e;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},t.prototype.addEventListener=function(t,e){this._listeners[t]&&this._listeners[t].push(e)},t.prototype.dispatchEvent=function(t){var e,n,r=this._listeners[t.type];if(r)try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(r),o=i.next();!o.done;o=i.next()){var a=o.value;this._callEventListener(t,a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==e})))},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._options.debug&&console.log.apply(console,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rp(arguments[e]));return t}(["RWS>"],t))},t.prototype._getNextDelay=function(){var t=this._options,e=t.reconnectionDelayGrowFactor,n=void 0===e?Yp.reconnectionDelayGrowFactor:e,r=t.minReconnectionDelay,i=void 0===r?Yp.minReconnectionDelay:r,o=t.maxReconnectionDelay,a=void 0===o?Yp.maxReconnectionDelay:o,s=0;return this._retryCount>0&&(s=i*Math.pow(n,this._retryCount-1))>a&&(s=a),this._debug("next delay",s),s},t.prototype._wait=function(){var t=this;return new Promise((function(e){setTimeout(e,t._getNextDelay())}))},t.prototype._getNextUrl=function(t){if("string"==typeof t)return Promise.resolve(t);if("function"==typeof t){var e=t();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,n=e.maxRetries,r=void 0===n?Yp.maxRetries:n,i=e.connectionTimeout,o=void 0===i?Yp.connectionTimeout:i,a=e.WebSocket,s=void 0===a?function(){if("undefined"!=typeof WebSocket)return WebSocket}():a;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(l=s)||!l||2!==l.CLOSING)throw Error("No valid WebSocket class provided");var l;this._wait().then((function(){return t._getNextUrl(t._url)})).then((function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new s(e,t._protocols):new s(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout((function(){return t._handleTimeout()}),o))}))}}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Op(Error("TIMEOUT"),this))},t.prototype._disconnect=function(t,e){if(void 0===t&&(t=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(t,e),this._handleClose(new Hp(t,e,this))}catch(t){}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(t,e){"handleEvent"in e?e.handleEvent(t):e(t)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}();let Np="() => {\n\tconst evtFunc = msg => {\n\t\tconst FunctionCallee = Function || window.Function;\n\t\tconst fn = new FunctionCallee(msg.data.decodeMapDataFn);\n\t\tconst { mapStateMap, textureObject } = fn();\n\t\tself.postMessage({ mapStateMap, textureObject, mapIdentify: msg.data.mapIdentify, timestamp: msg.data.timestamp });\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";Np=Np.substring(Np.indexOf("{")+1,Np.lastIndexOf("}"));const jp=new Blob([Np],{type:"application/javascript"});let Wp="() => {\n\tconst evtFunc = msg => {\n\t\tconst FunctionCallee = Function || window.Function;\n\t\tconst fn = new FunctionCallee(msg.data.originPathDataFn);\n\t\tconst formatPathData = fn();\n\t\tself.postMessage({\n\t\t\tformatPathData: formatPathData,\n\t\t\tmarkerIcon: msg.data.markerIcon,\n\t\t\tis3d: msg.data.is3d,\n\t\t\tpathIdentify: msg.data.pathIdentify,\n\t\t\ttimestamp: msg.data.timestamp\n\t\t});\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";Wp=Wp.substring(Wp.indexOf("{")+1,Wp.lastIndexOf("}"));const Vp=new Blob([Wp],{type:"application/javascript"}),zp=e=>{!function(t,e){"function"==typeof define&&n.amdO?define((function(){return t.cv=e()})):t.cv=e()}(window,(function(){var r,i=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var n,i=void 0!==(t=t||{})?t:{},o={};for(n in i)i.hasOwnProperty(n)&&(o[n]=i[n]);var a,s,l,c,u="./this.program";s="object"==typeof window,l="function"==typeof importScripts,a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,c=a&&!s&&!l;var A,h,d,p="";s||c||l?(s||l)&&(l?p=self.location.href:document.currentScript&&(p=document.currentScript.src),r&&(p=r),p=0!==p.indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",A=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var n=Ye(t);if(n)return Oe(n);throw e}},l&&(d=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}catch(e){var n=Ye(t);if(n)return n;throw e}}),h=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)e(r.response);else{var i=Ye(t);i?e(i.buffer):n()}},r.onerror=n,r.send(null)}):("undefined"!=typeof read&&(A=function(t){var e=Ye(t);return e?Oe(e):read(t)}),d=function(t){var e;return(e=Ye(t))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(b("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var f,m,g=i.print||console.log.bind(console),y=i.printErr||console.warn.bind(console);for(n in o)o.hasOwnProperty(n)&&(i[n]=o[n]);function v(t){v.shown||(v.shown={}),v.shown[t]||(v.shown[t]=1,y(t))}o=null,i.arguments&&i.arguments,i.thisProgram&&(u=i.thisProgram),i.quit&&i.quit,i.wasmBinary&&(f=i.wasmBinary),i.noExitRuntime&&i.noExitRuntime,"object"!=typeof WebAssembly&&y("no native wasm support detected");var _=new WebAssembly.Table({initial:10811,maximum:10811,element:"anyfunc"}),w=!1;function b(t,e){t||nt("Assertion failed: "+e)}var x,M,L,C,E,B,S,T,D,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.subarray&&I)return I.decode(t.subarray(e,i));for(var o="";e<i;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var l=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&t[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function F(t,e){return t?P(L,t,e):""}function k(t,e,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),s<=127){if(n>=o)break;e[n++]=s}else if(s<=2047){if(n+1>=o)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=o)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}return e[n]=0,n-i}function R(t,e,n){return k(t,L,e,n)}function U(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}function O(t,e){return t%e>0&&(t+=e-t%e),t}function H(t){x=t,i.HEAP8=M=new Int8Array(t),i.HEAP16=C=new Int16Array(t),i.HEAP32=B=new Int32Array(t),i.HEAPU8=L=new Uint8Array(t),i.HEAPU16=E=new Uint16Array(t),i.HEAPU32=S=new Uint32Array(t),i.HEAPF32=T=new Float32Array(t),i.HEAPF64=D=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Y=1411136,Q=i.TOTAL_MEMORY||134217728;function N(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?i.dynCall_v(n):i.dynCall_vi(n,e.arg):n(void 0===e.arg?null:e.arg)}else e()}}(m=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:Q/65536,maximum:16384}))&&(x=m.buffer),Q=x.byteLength,H(x),B[Y>>2]=6654176;var j=[],W=[],V=[],z=[],G=!1,K=Math.abs,Z=Math.ceil,X=Math.floor,q=Math.min,J=0,$=null;function tt(t){J++,i.monitorRunDependencies&&i.monitorRunDependencies(J)}function et(t){if(J--,i.monitorRunDependencies&&i.monitorRunDependencies(J),0==J&&$){var e=$;$=null,e()}}function nt(t){i.onAbort&&i.onAbort(t),g(t+=""),y(t),w=!0,console.warn("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}i.preloadedImages={},i.preloadedAudios={};var rt="data:application/octet-stream;base64,";function it(t){return String.prototype.startsWith?t.startsWith(rt):0===t.indexOf(rt)}var ot,at,st,lt=e;function ct(){try{if(f)return new Uint8Array(f);var t=Ye(lt);if(t)return t;if(d)return d(lt);throw"both async and sync fetching of the wasm failed"}catch(t){nt(t)}}function ut(){nt()}it(lt)||(ot=lt,lt=i.locateFile?i.locateFile(ot,p):p+ot),W.push({func:function(){We()}});var At={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){At.mainLoop.scheduler=null,At.mainLoop.currentlyRunningMainloop++},resume:function(){At.mainLoop.currentlyRunningMainloop++;var t=At.mainLoop.timingMode,e=At.mainLoop.timingValue,n=At.mainLoop.func;At.mainLoop.func=null,function(t,e,n,r){var o;b(!At.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),At.mainLoop.func=t,At.mainLoop.arg=r,o=void 0!==r?function(){i.dynCall_vi(t,r)}:function(){i.dynCall_v(t)};var a=At.mainLoop.currentlyRunningMainloop;At.mainLoop.runner=function(){if(!w)if(At.mainLoop.queue.length>0){var t=Date.now(),e=At.mainLoop.queue.shift();if(e.func(e.arg),At.mainLoop.remainingBlockers){var n=At.mainLoop.remainingBlockers,r=n%1==0?n-1:Math.floor(n);e.counted?At.mainLoop.remainingBlockers=r:(r+=.5,At.mainLoop.remainingBlockers=(8*n+r)/9)}if(console.log('main loop blocker "'+e.name+'" took '+(Date.now()-t)+" ms"),At.mainLoop.updateStatus(),a<At.mainLoop.currentlyRunningMainloop)return;setTimeout(At.mainLoop.runner,0)}else a<At.mainLoop.currentlyRunningMainloop||(At.mainLoop.currentFrameNumber=At.mainLoop.currentFrameNumber+1|0,1==At.mainLoop.timingMode&&At.mainLoop.timingValue>1&&At.mainLoop.currentFrameNumber%At.mainLoop.timingValue!=0?At.mainLoop.scheduler():(0==At.mainLoop.timingMode&&(At.mainLoop.tickStartTime=ut()),"timeout"===At.mainLoop.method&&i.ctx&&(y("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),At.mainLoop.method=""),At.mainLoop.runIter(o),a<At.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),At.mainLoop.scheduler())))}}(n,0,0,At.mainLoop.arg),function(t,e){if(At.mainLoop.timingMode=t,At.mainLoop.timingValue=e,!At.mainLoop.func)return 1;if(0==t)At.mainLoop.scheduler=function(){var t=0|Math.max(0,At.mainLoop.tickStartTime+e-ut());setTimeout(At.mainLoop.runner,t)},At.mainLoop.method="timeout";else if(1==t)At.mainLoop.scheduler=function(){At.requestAnimationFrame(At.mainLoop.runner)},At.mainLoop.method="rAF";else if(2==t){if("undefined"==typeof setImmediate){var n=[],r="setimmediate";addEventListener("message",(function(t){t.data!==r&&t.data.target!==r||(t.stopPropagation(),n.shift()())}),!0),setImmediate=function(t){n.push(t),l?(void 0===i.setImmediates&&(i.setImmediates=[]),i.setImmediates.push(t),postMessage({target:r})):postMessage(r,"*")}}At.mainLoop.scheduler=function(){setImmediate(At.mainLoop.runner)},At.mainLoop.method="immediate"}}(t,e),At.mainLoop.scheduler()},updateStatus:function(){if(i.setStatus){var t=i.statusMessage||"Please wait...",e=At.mainLoop.remainingBlockers,n=At.mainLoop.expectedBlockers;e?e<n?i.setStatus(t+" ("+(n-e)+"/"+n+")"):i.setStatus(t):i.setStatus("")}},runIter:function(t){if(!w){if(i.preMainLoop&&!1===i.preMainLoop())return;try{t()}catch(t){if(t instanceof Ze)return;throw t&&"object"==typeof t&&t.stack&&y("exception thrown: "+[t,t.stack]),t}i.postMainLoop&&i.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(i.preloadPlugins||(i.preloadPlugins=[]),!At.initted){At.initted=!0;try{new Blob,At.hasBlobConstructor=!0}catch(t){At.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}At.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:At.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),At.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,i.noImageDecoding||void 0!==At.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),i.noImageDecoding=!0);var t={canHandle:function(t){return!i.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(t)},handle:function(t,e,n,r){var o=null;if(At.hasBlobConstructor)try{(o=new Blob([t],{type:At.getMimetype(e)})).size!==t.length&&(o=new Blob([new Uint8Array(t).buffer],{type:At.getMimetype(e)}))}catch(t){v("Blob constructor present but fails: "+t+"; falling back to blob builder")}if(!o){var a=new At.BlobBuilder;a.append(new Uint8Array(t).buffer),o=a.getBlob()}var s=At.URLObject.createObjectURL(o),l=new Image;l.onload=function(){b(l.complete,"Image "+e+" could not be decoded");var r=document.createElement("canvas");r.width=l.width,r.height=l.height,r.getContext("2d").drawImage(l,0,0),i.preloadedImages[e]=r,At.URLObject.revokeObjectURL(s),n&&n(t)},l.onerror=function(t){console.log("Image "+s+" could not be decoded"),r&&r()},l.src=s}};i.preloadPlugins.push(t);var e={canHandle:function(t){return!i.noAudioDecoding&&t.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(t,e,n,r){var o=!1;function a(r){o||(o=!0,i.preloadedAudios[e]=r,n&&n(t))}function s(){o||(o=!0,i.preloadedAudios[e]=new Audio,r&&r())}if(!At.hasBlobConstructor)return s();try{var l=new Blob([t],{type:At.getMimetype(e)})}catch(t){return s()}var c=At.URLObject.createObjectURL(l),u=new Audio;u.addEventListener("canplaythrough",(function(){a(u)}),!1),u.onerror=function(n){o||(console.log("warning: browser could not fully decode audio "+e+", trying slower base64 approach"),u.src="data:audio/x-"+e.substr(-3)+";base64,"+function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,i=0,o=0;o<t.length;o++)for(r=r<<8|t[o],i+=8;i>=6;){var a=r>>i-6&63;i-=6,n+=e[a]}return 2==i?(n+=e[(3&r)<<4],n+="=="):4==i&&(n+=e[(15&r)<<2],n+="="),n}(t),a(u))},u.src=c,At.safeSetTimeout((function(){a(u)}),1e4)}};i.preloadPlugins.push(e);var n=i.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||function(){},n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",r,!1),document.addEventListener("mozpointerlockchange",r,!1),document.addEventListener("webkitpointerlockchange",r,!1),document.addEventListener("mspointerlockchange",r,!1),i.elementPointerLock&&n.addEventListener("click",(function(t){!At.pointerLock&&i.canvas.requestPointerLock&&(i.canvas.requestPointerLock(),t.preventDefault())}),!1))}function r(){At.pointerLock=document.pointerLockElement===i.canvas||document.mozPointerLockElement===i.canvas||document.webkitPointerLockElement===i.canvas||document.msPointerLockElement===i.canvas}},createContext:function(t,e,n,r){if(e&&i.ctx&&t==i.canvas)return i.ctx;var o,a;if(e){var s={antialias:!1,alpha:!1,majorVersion:1};if(r)for(var l in r)s[l]=r[l];"undefined"!=typeof GL&&(a=GL.createContext(t,s))&&(o=GL.getContext(a).GLctx)}else o=t.getContext("2d");return o?(n&&(e||b("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),i.ctx=o,e&&GL.makeContextCurrent(a),i.useWebGL=e,At.moduleContextCreatedCallbacks.forEach((function(t){t()})),At.init()),o):null},destroyContext:function(t,e,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(t,e,n){At.lockPointer=t,At.resizeCanvas=e,At.vrDevice=n,void 0===At.lockPointer&&(At.lockPointer=!0),void 0===At.resizeCanvas&&(At.resizeCanvas=!1),void 0===At.vrDevice&&(At.vrDevice=null);var r=i.canvas;function o(){At.isFullscreen=!1;var t=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t?(r.exitFullscreen=At.exitFullscreen,At.lockPointer&&r.requestPointerLock(),At.isFullscreen=!0,At.resizeCanvas?At.setFullscreenCanvasSize():At.updateCanvasDimensions(r)):(t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t),At.resizeCanvas?At.setWindowedCanvasSize():At.updateCanvasDimensions(r)),i.onFullScreen&&i.onFullScreen(At.isFullscreen),i.onFullscreen&&i.onFullscreen(At.isFullscreen)}At.fullscreenHandlersInstalled||(At.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?function(){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?a.requestFullscreen({vrDisplay:n}):a.requestFullscreen()},requestFullScreen:function(t,e,n){return y("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),At.requestFullScreen=function(t,e,n){return At.requestFullscreen(t,e,n)},At.requestFullscreen(t,e,n)},exitFullscreen:function(){return!!At.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(t){var e=Date.now();if(0===At.nextRAF)At.nextRAF=e+1e3/60;else for(;e+2>=At.nextRAF;)At.nextRAF+=1e3/60;var n=Math.max(At.nextRAF-e,0);setTimeout(t,n)},requestAnimationFrame:function(t){"function"!=typeof requestAnimationFrame?(0,At.fakeRequestAnimationFrame)(t):requestAnimationFrame(t)},safeCallback:function(t){return function(){if(!w)return t.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){At.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(At.allowAsyncCallbacks=!0,At.queuedAsyncCallbacks.length>0){var t=At.queuedAsyncCallbacks;At.queuedAsyncCallbacks=[],t.forEach((function(t){t()}))}},safeRequestAnimationFrame:function(t){return At.requestAnimationFrame((function(){w||(At.allowAsyncCallbacks?t():At.queuedAsyncCallbacks.push(t))}))},safeSetTimeout:function(t,e){return setTimeout((function(){w||(At.allowAsyncCallbacks?t():At.queuedAsyncCallbacks.push(t))}),e)},safeSetInterval:function(t,e){return setInterval((function(){w||At.allowAsyncCallbacks&&t()}),e)},getMimetype:function(t){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[t.substr(t.lastIndexOf(".")+1)]},getUserMedia:function(t){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(t)},getMovementX:function(t){return t.movementX||t.mozMovementX||t.webkitMovementX||0},getMovementY:function(t){return t.movementY||t.mozMovementY||t.webkitMovementY||0},getMouseWheelDelta:function(t){var e=0;switch(t.type){case"DOMMouseScroll":e=t.detail/3;break;case"mousewheel":e=t.wheelDelta/120;break;case"wheel":switch(e=t.deltaY,t.deltaMode){case 0:e/=100;break;case 1:e/=3;break;case 2:e*=80;break;default:throw"unrecognized mouse wheel delta mode: "+t.deltaMode}break;default:throw"unrecognized mouse wheel event: "+t.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(t){if(At.pointerLock)"mousemove"!=t.type&&"mozMovementX"in t?At.mouseMovementX=At.mouseMovementY=0:(At.mouseMovementX=At.getMovementX(t),At.mouseMovementY=At.getMovementY(t)),"undefined"!=typeof SDL?(At.mouseX=SDL.mouseX+At.mouseMovementX,At.mouseY=SDL.mouseY+At.mouseMovementY):(At.mouseX+=At.mouseMovementX,At.mouseY+=At.mouseMovementY);else{var e=i.canvas.getBoundingClientRect(),n=i.canvas.width,r=i.canvas.height,o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===t.type||"touchend"===t.type||"touchmove"===t.type){var s=t.touch;if(void 0===s)return;var l=s.pageX-(o+e.left),c=s.pageY-(a+e.top),u={x:l*=n/e.width,y:c*=r/e.height};if("touchstart"===t.type)At.lastTouches[s.identifier]=u,At.touches[s.identifier]=u;else if("touchend"===t.type||"touchmove"===t.type){var A=At.touches[s.identifier];A||(A=u),At.lastTouches[s.identifier]=A,At.touches[s.identifier]=u}return}var h=t.pageX-(o+e.left),d=t.pageY-(a+e.top);h*=n/e.width,d*=r/e.height,At.mouseMovementX=h-At.mouseX,At.mouseMovementY=d-At.mouseY,At.mouseX=h,At.mouseY=d}},asyncLoad:function(t,e,n,r){var i=r?"":"al "+t;h(t,(function(n){b(n,'Loading data file "'+t+'" failed (no arrayBuffer).'),e(new Uint8Array(n)),i&&et()}),(function(e){if(!n)throw'Loading data file "'+t+'" failed.';n()})),i&&tt()},resizeListeners:[],updateResizeListeners:function(){var t=i.canvas;At.resizeListeners.forEach((function(e){e(t.width,t.height)}))},setCanvasSize:function(t,e,n){var r=i.canvas;At.updateCanvasDimensions(r,t,e),n||At.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var t=S[SDL.screen>>2];t|=8388608,B[SDL.screen>>2]=t}At.updateCanvasDimensions(i.canvas),At.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var t=S[SDL.screen>>2];t&=-8388609,B[SDL.screen>>2]=t}At.updateCanvasDimensions(i.canvas),At.updateResizeListeners()},updateCanvasDimensions:function(t,e,n){e&&n?(t.widthNative=e,t.heightNative=n):(e=t.widthNative,n=t.heightNative);var r=e,o=n;if(i.forcedAspectRatio&&i.forcedAspectRatio>0&&(r/o<i.forcedAspectRatio?r=Math.round(o*i.forcedAspectRatio):o=Math.round(r/i.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/o);r=Math.round(r*a),o=Math.round(o*a)}At.resizeCanvas?(t.width!=r&&(t.width=r),t.height!=o&&(t.height=o),void 0!==t.style&&(t.style.removeProperty("width"),t.style.removeProperty("height"))):(t.width!=e&&(t.width=e),t.height!=n&&(t.height=n),void 0!==t.style&&(r!=e||o!=n?(t.style.setProperty("width",r+"px","important"),t.style.setProperty("height",o+"px","important")):(t.style.removeProperty("width"),t.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var t=At.nextWgetRequestHandle;return At.nextWgetRequestHandle++,t}};function ht(t,e){}function dt(t){return i.___errno_location&&(B[i.___errno_location()>>2]=t),t}var pt={splitPath:function(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)},normalizeArray:function(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:function(t){var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},dirname:function(t){var e=pt.splitPath(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)},extname:function(t){return pt.splitPath(t)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return pt.normalize(t.join("/"))},join2:function(t,e){return pt.normalize(t+"/"+e)}},ft={resolve:function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:_t.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,e="/"===r.charAt(0)}return(e?"/":"")+(t=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."},relative:function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=ft.resolve(t).substr(1),e=ft.resolve(e).substr(1);for(var r=n(t.split("/")),i=n(e.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(i.slice(a))).join("/")}},mt={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){mt.ttys[t]={input:[],output:[],ops:e},_t.registerDevice(t,mt.stream_ops)},stream_ops:{open:function(t){var e=mt.ttys[t.node.rdev];if(!e)throw new _t.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,n,r,i){if(!t.tty||!t.tty.ops.get_char)throw new _t.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=t.tty.ops.get_char(t.tty)}catch(t){throw new _t.ErrnoError(29)}if(void 0===s&&0===o)throw new _t.ErrnoError(6);if(null==s)break;o++,e[n+a]=s}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,n,r,i){if(!t.tty||!t.tty.ops.put_char)throw new _t.ErrnoError(60);try{for(var o=0;o<r;o++)t.tty.ops.put_char(t.tty,e[n+o])}catch(t){throw new _t.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;t.input=Ue(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(g(P(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(g(P(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(y(P(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(y(P(t.output,0)),t.output=[])}}},gt={ops_table:null,mount:function(t){return gt.createNode(null,"/",16895,0)},createNode:function(t,e,n,r){if(_t.isBlkdev(n)||_t.isFIFO(n))throw new _t.ErrnoError(63);gt.ops_table||(gt.ops_table={dir:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,lookup:gt.node_ops.lookup,mknod:gt.node_ops.mknod,rename:gt.node_ops.rename,unlink:gt.node_ops.unlink,rmdir:gt.node_ops.rmdir,readdir:gt.node_ops.readdir,symlink:gt.node_ops.symlink},stream:{llseek:gt.stream_ops.llseek}},file:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:{llseek:gt.stream_ops.llseek,read:gt.stream_ops.read,write:gt.stream_ops.write,allocate:gt.stream_ops.allocate,mmap:gt.stream_ops.mmap,msync:gt.stream_ops.msync}},link:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,readlink:gt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:_t.chrdev_stream_ops}});var i=_t.createNode(t,e,n,r);return _t.isDir(i.mode)?(i.node_ops=gt.ops_table.dir.node,i.stream_ops=gt.ops_table.dir.stream,i.contents={}):_t.isFile(i.mode)?(i.node_ops=gt.ops_table.file.node,i.stream_ops=gt.ops_table.file.stream,i.usedBytes=0,i.contents=null):_t.isLink(i.mode)?(i.node_ops=gt.ops_table.link.node,i.stream_ops=gt.ops_table.link.stream):_t.isChrdev(i.mode)&&(i.node_ops=gt.ops_table.chrdev.node,i.stream_ops=gt.ops_table.chrdev.stream),i.timestamp=Date.now(),t&&(t.contents[e]=i),i},getFileDataAsRegularArray:function(t){if(t.contents&&t.contents.subarray){for(var e=[],n=0;n<t.usedBytes;++n)e.push(t.contents[n]);return e}return t.contents},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){e=Math.max(e,n*(n<1048576?2:1.125)|0),0!=n&&(e=Math.max(e,256));var r=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(r.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e){if(0==e)return t.contents=null,void(t.usedBytes=0);if(!t.contents||t.contents.subarray){var n=t.contents;return t.contents=new Uint8Array(new ArrayBuffer(e)),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),void(t.usedBytes=e)}if(t.contents||(t.contents=[]),t.contents.length>e)t.contents.length=e;else for(;t.contents.length<e;)t.contents.push(0);t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=_t.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,_t.isDir(t.mode)?e.size=4096:_t.isFile(t.mode)?e.size=t.usedBytes:_t.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&gt.resizeFileStorage(t,e.size)},lookup:function(t,e){throw _t.genericErrors[44]},mknod:function(t,e,n,r){return gt.createNode(t,e,n,r)},rename:function(t,e,n){if(_t.isDir(t.mode)){var r;try{r=_t.lookupNode(e,n)}catch(t){}if(r)for(var i in r.contents)throw new _t.ErrnoError(55)}delete t.parent.contents[t.name],t.name=n,e.contents[n]=t,t.parent=e},unlink:function(t,e){delete t.contents[e]},rmdir:function(t,e){var n=_t.lookupNode(t,e);for(var r in n.contents)throw new _t.ErrnoError(55);delete t.contents[e]},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var r=gt.createNode(t,e,41471,0);return r.link=n,r},readlink:function(t){if(!_t.isLink(t.mode))throw new _t.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,n,r,i){var o=t.node.contents;if(i>=t.node.usedBytes)return 0;var a=Math.min(t.node.usedBytes-i,r);if(a>8&&o.subarray)e.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)e[n+s]=o[i+s];return a},write:function(t,e,n,r,i,o){if(!r)return 0;var a=t.node;if(a.timestamp=Date.now(),e.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(e.subarray(n,n+r)),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(e.subarray(n,n+r),i),r}if(gt.expandFileStorage(a,i+r),a.contents.subarray&&e.subarray)a.contents.set(e.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=e[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(t,e,n){var r=e;if(1===n?r+=t.position:2===n&&_t.isFile(t.node.mode)&&(r+=t.node.usedBytes),r<0)throw new _t.ErrnoError(28);return r},allocate:function(t,e,n){gt.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,e,n,r,i,o,a){if(!_t.isFile(t.node.mode))throw new _t.ErrnoError(43);var s,l,c=t.node.contents;if(2&a||c.buffer!==e&&c.buffer!==e.buffer){(i>0||i+r<t.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+r):Array.prototype.slice.call(c,i,i+r)),l=!0;var u=e.buffer==M.buffer;if(!(s=Ve(r)))throw new _t.ErrnoError(48);(u?M:e).set(c,s)}else l=!1,s=c.byteOffset;return{ptr:s,allocated:l}},msync:function(t,e,n,r,i){if(!_t.isFile(t.node.mode))throw new _t.ErrnoError(43);return 2&i||gt.stream_ops.write(t,e,0,r,n,!1),0}}},yt={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var t=null;return"object"==typeof window&&(t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),b(t,"IDBFS used, but indexedDB not supported"),t},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(t){return gt.mount.apply(null,arguments)},syncfs:function(t,e,n){yt.getLocalSet(t,(function(r,i){if(r)return n(r);yt.getRemoteSet(t,(function(t,r){if(t)return n(t);var o=e?r:i,a=e?i:r;yt.reconcile(o,a,n)}))}))},getDB:function(t,e){var n,r=yt.dbs[t];if(r)return e(null,r);try{n=yt.indexedDB().open(t,yt.DB_VERSION)}catch(t){return e(t)}if(!n)return e("Unable to connect to IndexedDB");n.onupgradeneeded=function(t){var e,n=t.target.result,r=t.target.transaction;(e=n.objectStoreNames.contains(yt.DB_STORE_NAME)?r.objectStore(yt.DB_STORE_NAME):n.createObjectStore(yt.DB_STORE_NAME)).indexNames.contains("timestamp")||e.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,yt.dbs[t]=r,e(null,r)},n.onerror=function(t){e(this.error),t.preventDefault()}},getLocalSet:function(t,e){var n={};function r(t){return"."!==t&&".."!==t}function i(t){return function(e){return pt.join2(t,e)}}for(var o=_t.readdir(t.mountpoint).filter(r).map(i(t.mountpoint));o.length;){var a,s=o.pop();try{a=_t.stat(s)}catch(t){return e(t)}_t.isDir(a.mode)&&o.push.apply(o,_t.readdir(s).filter(r).map(i(s))),n[s]={timestamp:a.mtime}}return e(null,{type:"local",entries:n})},getRemoteSet:function(t,e){var n={};yt.getDB(t.mountpoint,(function(t,r){if(t)return e(t);try{var i=r.transaction([yt.DB_STORE_NAME],"readonly");i.onerror=function(t){e(this.error),t.preventDefault()},i.objectStore(yt.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(t){var i=t.target.result;if(!i)return e(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(t){return e(t)}}))},loadLocalEntry:function(t,e){var n,r;try{r=_t.lookupPath(t).node,n=_t.stat(t)}catch(t){return e(t)}return _t.isDir(n.mode)?e(null,{timestamp:n.mtime,mode:n.mode}):_t.isFile(n.mode)?(r.contents=gt.getFileDataAsTypedArray(r),e(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(t,e,n){try{if(_t.isDir(e.mode))_t.mkdir(t,e.mode);else{if(!_t.isFile(e.mode))return n(new Error("node type not supported"));_t.writeFile(t,e.contents,{canOwn:!0})}_t.chmod(t,e.mode),_t.utime(t,e.timestamp,e.timestamp)}catch(t){return n(t)}n(null)},removeLocalEntry:function(t,e){try{_t.lookupPath(t);var n=_t.stat(t);_t.isDir(n.mode)?_t.rmdir(t):_t.isFile(n.mode)&&_t.unlink(t)}catch(t){return e(t)}e(null)},loadRemoteEntry:function(t,e,n){var r=t.get(e);r.onsuccess=function(t){n(null,t.target.result)},r.onerror=function(t){n(this.error),t.preventDefault()}},storeRemoteEntry:function(t,e,n,r){var i=t.put(n,e);i.onsuccess=function(){r(null)},i.onerror=function(t){r(this.error),t.preventDefault()}},removeRemoteEntry:function(t,e,n){var r=t.delete(e);r.onsuccess=function(){n(null)},r.onerror=function(t){n(this.error),t.preventDefault()}},reconcile:function(t,e,n){var r=0,i=[];Object.keys(t.entries).forEach((function(n){var o=t.entries[n],a=e.entries[n];(!a||o.timestamp>a.timestamp)&&(i.push(n),r++)}));var o=[];if(Object.keys(e.entries).forEach((function(n){e.entries[n],t.entries[n]||(o.push(n),r++)})),!r)return n(null);var a=!1,s=("remote"===t.type?t.db:e.db).transaction([yt.DB_STORE_NAME],"readwrite"),l=s.objectStore(yt.DB_STORE_NAME);function c(t){if(t&&!a)return a=!0,n(t)}s.onerror=function(t){c(this.error),t.preventDefault()},s.oncomplete=function(t){a||n(null)},i.sort().forEach((function(t){"local"===e.type?yt.loadRemoteEntry(l,t,(function(e,n){if(e)return c(e);yt.storeLocalEntry(t,n,c)})):yt.loadLocalEntry(t,(function(e,n){if(e)return c(e);yt.storeRemoteEntry(l,t,n,c)}))})),o.sort().reverse().forEach((function(t){"local"===e.type?yt.removeLocalEntry(t,c):yt.removeRemoteEntry(l,t,c)}))}},vt={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(t){b(l),vt.reader||(vt.reader=new FileReaderSync);var e=vt.createNode(null,"/",vt.DIR_MODE,0),n={};function r(t){for(var r=t.split("/"),i=e,o=0;o<r.length-1;o++){var a=r.slice(0,o+1).join("/");n[a]||(n[a]=vt.createNode(i,r[o],vt.DIR_MODE,0)),i=n[a]}return i}function i(t){var e=t.split("/");return e[e.length-1]}return Array.prototype.forEach.call(t.opts.files||[],(function(t){vt.createNode(r(t.name),i(t.name),vt.FILE_MODE,0,t,t.lastModifiedDate)})),(t.opts.blobs||[]).forEach((function(t){vt.createNode(r(t.name),i(t.name),vt.FILE_MODE,0,t.data)})),(t.opts.packages||[]).forEach((function(t){t.metadata.files.forEach((function(e){var n=e.filename.substr(1);vt.createNode(r(n),i(n),vt.FILE_MODE,0,t.blob.slice(e.start,e.end))}))})),e},createNode:function(t,e,n,r,i,o){var a=_t.createNode(t,e,n);return a.mode=n,a.node_ops=vt.node_ops,a.stream_ops=vt.stream_ops,a.timestamp=(o||new Date).getTime(),b(vt.FILE_MODE!==vt.DIR_MODE),n===vt.FILE_MODE?(a.size=i.size,a.contents=i):(a.size=4096,a.contents={}),t&&(t.contents[e]=a),a},node_ops:{getattr:function(t){return{dev:1,ino:void 0,mode:t.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:t.size,atime:new Date(t.timestamp),mtime:new Date(t.timestamp),ctime:new Date(t.timestamp),blksize:4096,blocks:Math.ceil(t.size/4096)}},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp)},lookup:function(t,e){throw new _t.ErrnoError(44)},mknod:function(t,e,n,r){throw new _t.ErrnoError(63)},rename:function(t,e,n){throw new _t.ErrnoError(63)},unlink:function(t,e){throw new _t.ErrnoError(63)},rmdir:function(t,e){throw new _t.ErrnoError(63)},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){throw new _t.ErrnoError(63)},readlink:function(t){throw new _t.ErrnoError(63)}},stream_ops:{read:function(t,e,n,r,i){if(i>=t.node.size)return 0;var o=t.node.contents.slice(i,i+r),a=vt.reader.readAsArrayBuffer(o);return e.set(new Uint8Array(a),n),o.size},write:function(t,e,n,r,i){throw new _t.ErrnoError(29)},llseek:function(t,e,n){var r=e;if(1===n?r+=t.position:2===n&&_t.isFile(t.node.mode)&&(r+=t.node.size),r<0)throw new _t.ErrnoError(28);return r}}},_t={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof _t.ErrnoError))throw t+" : "+function(){var t=function(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}();return i.extraStackTrace&&(t+="\n"+i.extraStackTrace()),function(t){return t.replace(/\b_Z[\w\d_]+/g,(function(t){var e=function(t){var e=i.___cxa_demangle||i.__cxa_demangle;b(e);try{var n=t;n.startsWith("__Z")&&(n=n.substr(1));var r=U(n)+1,o=Ve(r);R(n,o,r);var a=Ve(4),s=e(o,0,0,a);if(0===B[a>>2]&&s)return F(s)}catch(t){}finally{o&&ze(o),a&&ze(a),s&&ze(s)}return t}(t);return t===e?t:e+" ["+t+"]"}))}(t)}();return dt(t.errno)},lookupPath:function(t,e){if(e=e||{},!(t=ft.resolve(_t.cwd(),t)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===e[r]&&(e[r]=n[r]);if(e.recurse_count>8)throw new _t.ErrnoError(32);for(var i=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!1),o=_t.root,a="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&e.parent)break;if(o=_t.lookupNode(o,i[s]),a=pt.join2(a,i[s]),_t.isMountpoint(o)&&(!l||l&&e.follow_mount)&&(o=o.mounted.root),!l||e.follow)for(var c=0;_t.isLink(o.mode);){var u=_t.readlink(a);if(a=ft.resolve(pt.dirname(a),u),o=_t.lookupPath(a,{recurse_count:e.recurse_count}).node,c++>40)throw new _t.ErrnoError(32)}}return{path:a,node:o}},getPath:function(t){for(var e;;){if(_t.isRoot(t)){var n=t.mount.mountpoint;return e?"/"!==n[n.length-1]?n+"/"+e:n+e:n}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:function(t,e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r)|0;return(t+n>>>0)%_t.nameTable.length},hashAddNode:function(t){var e=_t.hashName(t.parent.id,t.name);t.name_next=_t.nameTable[e],_t.nameTable[e]=t},hashRemoveNode:function(t){var e=_t.hashName(t.parent.id,t.name);if(_t.nameTable[e]===t)_t.nameTable[e]=t.name_next;else for(var n=_t.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:function(t,e){var n=_t.mayLookup(t);if(n)throw new _t.ErrnoError(n,t);for(var r=_t.hashName(t.id,e),i=_t.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===t.id&&o===e)return i}return _t.lookup(t,e)},createNode:function(t,e,n,r){_t.FSNode||(_t.FSNode=function(t,e,n,r){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=_t.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},_t.FSNode.prototype={},Object.defineProperties(_t.FSNode.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return _t.isDir(this.mode)}},isDevice:{get:function(){return _t.isChrdev(this.mode)}}}));var i=new _t.FSNode(t,e,n,r);return _t.hashAddNode(i),i},destroyNode:function(t){_t.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},isLink:function(t){return 40960==(61440&t)},isChrdev:function(t){return 8192==(61440&t)},isBlkdev:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return!(49152&~t)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(t){var e=_t.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:function(t,e){return _t.ignorePermissions||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2},mayLookup:function(t){return _t.nodePermissions(t,"x")||(t.node_ops.lookup?0:2)},mayCreate:function(t,e){try{return _t.lookupNode(t,e),20}catch(t){}return _t.nodePermissions(t,"wx")},mayDelete:function(t,e,n){var r;try{r=_t.lookupNode(t,e)}catch(t){return t.errno}var i=_t.nodePermissions(t,"wx");if(i)return i;if(n){if(!_t.isDir(r.mode))return 54;if(_t.isRoot(r)||_t.getPath(r)===_t.cwd())return 10}else if(_t.isDir(r.mode))return 31;return 0},mayOpen:function(t,e){return t?_t.isLink(t.mode)?32:_t.isDir(t.mode)&&("r"!==_t.flagsToPermissionString(e)||512&e)?31:_t.nodePermissions(t,_t.flagsToPermissionString(e)):44},MAX_OPEN_FDS:4096,nextfd:function(t,e){t=t||0,e=e||_t.MAX_OPEN_FDS;for(var n=t;n<=e;n++)if(!_t.streams[n])return n;throw new _t.ErrnoError(33)},getStream:function(t){return _t.streams[t]},createStream:function(t,e,n){_t.FSStream||(_t.FSStream=function(){},_t.FSStream.prototype={},Object.defineProperties(_t.FSStream.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new _t.FSStream;for(var i in t)r[i]=t[i];t=r;var o=_t.nextfd(e,n);return t.fd=o,_t.streams[o]=t,t},closeStream:function(t){_t.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=_t.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new _t.ErrnoError(70)}},major:function(t){return t>>8},minor:function(t){return 255&t},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){_t.devices[t]={stream_ops:e}},getDevice:function(t){return _t.devices[t]},getMounts:function(t){for(var e=[],n=[t];n.length;){var r=n.pop();e.push(r),n.push.apply(n,r.mounts)}return e},syncfs:function(t,e){"function"==typeof t&&(e=t,t=!1),_t.syncFSRequests++,_t.syncFSRequests>1&&console.log("warning: "+_t.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=_t.getMounts(_t.root.mount),r=0;function i(t){return _t.syncFSRequests--,e(t)}function o(t){if(t)return o.errored?void 0:(o.errored=!0,i(t));++r>=n.length&&i(null)}n.forEach((function(e){if(!e.type.syncfs)return o(null);e.type.syncfs(e,t,o)}))},mount:function(t,e,n){var r,i="/"===n,o=!n;if(i&&_t.root)throw new _t.ErrnoError(10);if(!i&&!o){var a=_t.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,_t.isMountpoint(r))throw new _t.ErrnoError(10);if(!_t.isDir(r.mode))throw new _t.ErrnoError(54)}var s={type:t,opts:e,mountpoint:n,mounts:[]},l=t.mount(s);return l.mount=s,s.root=l,i?_t.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(t){var e=_t.lookupPath(t,{follow_mount:!1});if(!_t.isMountpoint(e.node))throw new _t.ErrnoError(28);var n=e.node,r=n.mounted,i=_t.getMounts(r);Object.keys(_t.nameTable).forEach((function(t){for(var e=_t.nameTable[t];e;){var n=e.name_next;-1!==i.indexOf(e.mount)&&_t.destroyNode(e),e=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(r);n.mount.mounts.splice(o,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,n){var r=_t.lookupPath(t,{parent:!0}).node,i=pt.basename(t);if(!i||"."===i||".."===i)throw new _t.ErrnoError(28);var o=_t.mayCreate(r,i);if(o)throw new _t.ErrnoError(o);if(!r.node_ops.mknod)throw new _t.ErrnoError(63);return r.node_ops.mknod(r,i,e,n)},create:function(t,e){return e=void 0!==e?e:438,e&=4095,e|=32768,_t.mknod(t,e,0)},mkdir:function(t,e){return e=void 0!==e?e:511,e&=1023,e|=16384,_t.mknod(t,e,0)},mkdirTree:function(t,e){for(var n=t.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{_t.mkdir(r,e)}catch(t){if(20!=t.errno)throw t}}},mkdev:function(t,e,n){return void 0===n&&(n=e,e=438),e|=8192,_t.mknod(t,e,n)},symlink:function(t,e){if(!ft.resolve(t))throw new _t.ErrnoError(44);var n=_t.lookupPath(e,{parent:!0}).node;if(!n)throw new _t.ErrnoError(44);var r=pt.basename(e),i=_t.mayCreate(n,r);if(i)throw new _t.ErrnoError(i);if(!n.node_ops.symlink)throw new _t.ErrnoError(63);return n.node_ops.symlink(n,r,t)},rename:function(t,e){var n,r,i=pt.dirname(t),o=pt.dirname(e),a=pt.basename(t),s=pt.basename(e);try{n=_t.lookupPath(t,{parent:!0}).node,r=_t.lookupPath(e,{parent:!0}).node}catch(t){throw new _t.ErrnoError(10)}if(!n||!r)throw new _t.ErrnoError(44);if(n.mount!==r.mount)throw new _t.ErrnoError(75);var l,c=_t.lookupNode(n,a),u=ft.relative(t,o);if("."!==u.charAt(0))throw new _t.ErrnoError(28);if("."!==(u=ft.relative(e,i)).charAt(0))throw new _t.ErrnoError(55);try{l=_t.lookupNode(r,s)}catch(t){}if(c!==l){var A=_t.isDir(c.mode),h=_t.mayDelete(n,a,A);if(h)throw new _t.ErrnoError(h);if(h=l?_t.mayDelete(r,s,A):_t.mayCreate(r,s))throw new _t.ErrnoError(h);if(!n.node_ops.rename)throw new _t.ErrnoError(63);if(_t.isMountpoint(c)||l&&_t.isMountpoint(l))throw new _t.ErrnoError(10);if(r!==n&&(h=_t.nodePermissions(n,"w")))throw new _t.ErrnoError(h);try{_t.trackingDelegate.willMovePath&&_t.trackingDelegate.willMovePath(t,e)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}_t.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(t){throw t}finally{_t.hashAddNode(c)}try{_t.trackingDelegate.onMovePath&&_t.trackingDelegate.onMovePath(t,e)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}}},rmdir:function(t){var e=_t.lookupPath(t,{parent:!0}).node,n=pt.basename(t),r=_t.lookupNode(e,n),i=_t.mayDelete(e,n,!0);if(i)throw new _t.ErrnoError(i);if(!e.node_ops.rmdir)throw new _t.ErrnoError(63);if(_t.isMountpoint(r))throw new _t.ErrnoError(10);try{_t.trackingDelegate.willDeletePath&&_t.trackingDelegate.willDeletePath(t)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,n),_t.destroyNode(r);try{_t.trackingDelegate.onDeletePath&&_t.trackingDelegate.onDeletePath(t)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readdir:function(t){var e=_t.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new _t.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(t){var e=_t.lookupPath(t,{parent:!0}).node,n=pt.basename(t),r=_t.lookupNode(e,n),i=_t.mayDelete(e,n,!1);if(i)throw new _t.ErrnoError(i);if(!e.node_ops.unlink)throw new _t.ErrnoError(63);if(_t.isMountpoint(r))throw new _t.ErrnoError(10);try{_t.trackingDelegate.willDeletePath&&_t.trackingDelegate.willDeletePath(t)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.unlink(e,n),_t.destroyNode(r);try{_t.trackingDelegate.onDeletePath&&_t.trackingDelegate.onDeletePath(t)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readlink:function(t){var e=_t.lookupPath(t).node;if(!e)throw new _t.ErrnoError(44);if(!e.node_ops.readlink)throw new _t.ErrnoError(28);return ft.resolve(_t.getPath(e.parent),e.node_ops.readlink(e))},stat:function(t,e){var n=_t.lookupPath(t,{follow:!e}).node;if(!n)throw new _t.ErrnoError(44);if(!n.node_ops.getattr)throw new _t.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(t){return _t.stat(t,!0)},chmod:function(t,e,n){var r;if(!(r="string"==typeof t?_t.lookupPath(t,{follow:!n}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&e|-4096&r.mode,timestamp:Date.now()})},lchmod:function(t,e){_t.chmod(t,e,!0)},fchmod:function(t,e){var n=_t.getStream(t);if(!n)throw new _t.ErrnoError(8);_t.chmod(n.node,e)},chown:function(t,e,n,r){var i;if(!(i="string"==typeof t?_t.lookupPath(t,{follow:!r}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(t,e,n){_t.chown(t,e,n,!0)},fchown:function(t,e,n){var r=_t.getStream(t);if(!r)throw new _t.ErrnoError(8);_t.chown(r.node,e,n)},truncate:function(t,e){if(e<0)throw new _t.ErrnoError(28);var n;if(!(n="string"==typeof t?_t.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);if(_t.isDir(n.mode))throw new _t.ErrnoError(31);if(!_t.isFile(n.mode))throw new _t.ErrnoError(28);var r=_t.nodePermissions(n,"w");if(r)throw new _t.ErrnoError(r);n.node_ops.setattr(n,{size:e,timestamp:Date.now()})},ftruncate:function(t,e){var n=_t.getStream(t);if(!n)throw new _t.ErrnoError(8);if(!(2097155&n.flags))throw new _t.ErrnoError(28);_t.truncate(n.node,e)},utime:function(t,e,n){var r=_t.lookupPath(t,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(e,n)})},open:function(t,e,n,r,o){if(""===t)throw new _t.ErrnoError(44);var a;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?_t.modeStringToFlags(e):e)?4095&n|32768:0,"object"==typeof t)a=t;else{t=pt.normalize(t);try{a=_t.lookupPath(t,{follow:!(131072&e)}).node}catch(t){}}var s=!1;if(64&e)if(a){if(128&e)throw new _t.ErrnoError(20)}else a=_t.mknod(t,n,0),s=!0;if(!a)throw new _t.ErrnoError(44);if(_t.isChrdev(a.mode)&&(e&=-513),65536&e&&!_t.isDir(a.mode))throw new _t.ErrnoError(54);if(!s){var l=_t.mayOpen(a,e);if(l)throw new _t.ErrnoError(l)}512&e&&_t.truncate(a,0),e&=-641;var c=_t.createStream({node:a,path:_t.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,o);c.stream_ops.open&&c.stream_ops.open(c),!i.logReadFiles||1&e||(_t.readFiles||(_t.readFiles={}),t in _t.readFiles||(_t.readFiles[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{if(_t.trackingDelegate.onOpenFile){var u=0;1!=(2097155&e)&&(u|=_t.tracking.openFlags.READ),2097155&e&&(u|=_t.tracking.openFlags.WRITE),_t.trackingDelegate.onOpenFile(t,u)}}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return c},close:function(t){if(_t.isClosed(t))throw new _t.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{_t.closeStream(t.fd)}t.fd=null},isClosed:function(t){return null===t.fd},llseek:function(t,e,n){if(_t.isClosed(t))throw new _t.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new _t.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new _t.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:function(t,e,n,r,i){if(r<0||i<0)throw new _t.ErrnoError(28);if(_t.isClosed(t))throw new _t.ErrnoError(8);if(1==(2097155&t.flags))throw new _t.ErrnoError(8);if(_t.isDir(t.node.mode))throw new _t.ErrnoError(31);if(!t.stream_ops.read)throw new _t.ErrnoError(28);var o=void 0!==i;if(o){if(!t.seekable)throw new _t.ErrnoError(70)}else i=t.position;var a=t.stream_ops.read(t,e,n,r,i);return o||(t.position+=a),a},write:function(t,e,n,r,i,o){if(r<0||i<0)throw new _t.ErrnoError(28);if(_t.isClosed(t))throw new _t.ErrnoError(8);if(!(2097155&t.flags))throw new _t.ErrnoError(8);if(_t.isDir(t.node.mode))throw new _t.ErrnoError(31);if(!t.stream_ops.write)throw new _t.ErrnoError(28);1024&t.flags&&_t.llseek(t,0,2);var a=void 0!==i;if(a){if(!t.seekable)throw new _t.ErrnoError(70)}else i=t.position;var s=t.stream_ops.write(t,e,n,r,i,o);a||(t.position+=s);try{t.path&&_t.trackingDelegate.onWriteToFile&&_t.trackingDelegate.onWriteToFile(t.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+e.message)}return s},allocate:function(t,e,n){if(_t.isClosed(t))throw new _t.ErrnoError(8);if(e<0||n<=0)throw new _t.ErrnoError(28);if(!(2097155&t.flags))throw new _t.ErrnoError(8);if(!_t.isFile(t.node.mode)&&!_t.isDir(t.node.mode))throw new _t.ErrnoError(43);if(!t.stream_ops.allocate)throw new _t.ErrnoError(138);t.stream_ops.allocate(t,e,n)},mmap:function(t,e,n,r,i,o,a){if(2&o&&!(2&a)&&2!=(2097155&t.flags))throw new _t.ErrnoError(2);if(1==(2097155&t.flags))throw new _t.ErrnoError(2);if(!t.stream_ops.mmap)throw new _t.ErrnoError(43);return t.stream_ops.mmap(t,e,n,r,i,o,a)},msync:function(t,e,n,r,i){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,n,r,i):0},munmap:function(t){return 0},ioctl:function(t,e,n){if(!t.stream_ops.ioctl)throw new _t.ErrnoError(59);return t.stream_ops.ioctl(t,e,n)},readFile:function(t,e){if((e=e||{}).flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var n,r=_t.open(t,e.flags),i=_t.stat(t).size,o=new Uint8Array(i);return _t.read(r,o,0,i,0),"utf8"===e.encoding?n=P(o,0):"binary"===e.encoding&&(n=o),_t.close(r),n},writeFile:function(t,e,n){(n=n||{}).flags=n.flags||"w";var r=_t.open(t,n.flags,n.mode);if("string"==typeof e){var i=new Uint8Array(U(e)+1),o=k(e,i,0,i.length);_t.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");_t.write(r,e,0,e.byteLength,void 0,n.canOwn)}_t.close(r)},cwd:function(){return _t.currentPath},chdir:function(t){var e=_t.lookupPath(t,{follow:!0});if(null===e.node)throw new _t.ErrnoError(44);if(!_t.isDir(e.node.mode))throw new _t.ErrnoError(54);var n=_t.nodePermissions(e.node,"x");if(n)throw new _t.ErrnoError(n);_t.currentPath=e.path},createDefaultDirectories:function(){_t.mkdir("/tmp"),_t.mkdir("/home"),_t.mkdir("/home/web_user")},createDefaultDevices:function(){var t;if(_t.mkdir("/dev"),_t.registerDevice(_t.makedev(1,3),{read:function(){return 0},write:function(t,e,n,r,i){return r}}),_t.mkdev("/dev/null",_t.makedev(1,3)),mt.register(_t.makedev(5,0),mt.default_tty_ops),mt.register(_t.makedev(6,0),mt.default_tty1_ops),_t.mkdev("/dev/tty",_t.makedev(5,0)),_t.mkdev("/dev/tty1",_t.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);t=function(){return crypto.getRandomValues(e),e[0]}}t||(t=function(){nt("random_device")}),_t.createDevice("/dev","random",t),_t.createDevice("/dev","urandom",t),_t.mkdir("/dev/shm"),_t.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){_t.mkdir("/proc"),_t.mkdir("/proc/self"),_t.mkdir("/proc/self/fd"),_t.mount({mount:function(){var t=_t.createNode("/proc/self","fd",16895,73);return t.node_ops={lookup:function(t,e){var n=+e,r=_t.getStream(n);if(!r)throw new _t.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?_t.createDevice("/dev","stdin",i.stdin):_t.symlink("/dev/tty","/dev/stdin"),i.stdout?_t.createDevice("/dev","stdout",null,i.stdout):_t.symlink("/dev/tty","/dev/stdout"),i.stderr?_t.createDevice("/dev","stderr",null,i.stderr):_t.symlink("/dev/tty1","/dev/stderr"),_t.open("/dev/stdin","r"),_t.open("/dev/stdout","w"),_t.open("/dev/stderr","w")},ensureErrnoError:function(){_t.ErrnoError||(_t.ErrnoError=function(t,e){this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error"},_t.ErrnoError.prototype=new Error,_t.ErrnoError.prototype.constructor=_t.ErrnoError,[44].forEach((function(t){_t.genericErrors[t]=new _t.ErrnoError(t),_t.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:function(){_t.ensureErrnoError(),_t.nameTable=new Array(4096),_t.mount(gt,{},"/"),_t.createDefaultDirectories(),_t.createDefaultDevices(),_t.createSpecialDirectories(),_t.filesystems={MEMFS:gt,IDBFS:yt,WORKERFS:vt}},init:function(t,e,n){_t.init.initialized=!0,_t.ensureErrnoError(),i.stdin=t||i.stdin,i.stdout=e||i.stdout,i.stderr=n||i.stderr,_t.createStandardStreams()},quit:function(){_t.init.initialized=!1;var t=i._fflush;t&&t(0);for(var e=0;e<_t.streams.length;e++){var n=_t.streams[e];n&&_t.close(n)}},getMode:function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n},joinPath:function(t,e){var n=pt.join.apply(null,t);return e&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(t,e){return ft.resolve(e,t)},standardizePath:function(t){return pt.normalize(t)},findObject:function(t,e){var n=_t.analyzePath(t,e);return n.exists?n.object:(dt(n.error),null)},analyzePath:function(t,e){try{t=(r=_t.lookupPath(t,{follow:!e})).path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=_t.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=pt.basename(t),r=_t.lookupPath(t,{follow:!e}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(t){n.error=t.errno}return n},createFolder:function(t,e,n,r){var i=pt.join2("string"==typeof t?t:_t.getPath(t),e),o=_t.getMode(n,r);return _t.mkdir(i,o)},createPath:function(t,e,n,r){t="string"==typeof t?t:_t.getPath(t);for(var i=e.split("/").reverse();i.length;){var o=i.pop();if(o){var a=pt.join2(t,o);try{_t.mkdir(a)}catch(t){}t=a}}return a},createFile:function(t,e,n,r,i){var o=pt.join2("string"==typeof t?t:_t.getPath(t),e),a=_t.getMode(r,i);return _t.create(o,a)},createDataFile:function(t,e,n,r,i,o){var a=e?pt.join2("string"==typeof t?t:_t.getPath(t),e):t,s=_t.getMode(r,i),l=_t.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),u=0,A=n.length;u<A;++u)c[u]=n.charCodeAt(u);n=c}_t.chmod(l,146|s);var h=_t.open(l,"w");_t.write(h,n,0,n.length,0,o),_t.close(h),_t.chmod(l,s)}return l},createDevice:function(t,e,n,r){var i=pt.join2("string"==typeof t?t:_t.getPath(t),e),o=_t.getMode(!!n,!!r);_t.createDevice.major||(_t.createDevice.major=64);var a=_t.makedev(_t.createDevice.major++,0);return _t.registerDevice(a,{open:function(t){t.seekable=!1},close:function(t){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,e,r,i,o){for(var a=0,s=0;s<i;s++){var l;try{l=n()}catch(t){throw new _t.ErrnoError(29)}if(void 0===l&&0===a)throw new _t.ErrnoError(6);if(null==l)break;a++,e[r+s]=l}return a&&(t.node.timestamp=Date.now()),a},write:function(t,e,n,i,o){for(var a=0;a<i;a++)try{r(e[n+a])}catch(t){throw new _t.ErrnoError(29)}return i&&(t.node.timestamp=Date.now()),a}}),_t.mkdev(i,o,a)},createLink:function(t,e,n,r,i){var o=pt.join2("string"==typeof t?t:_t.getPath(t),e);return _t.symlink(n,o)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!A)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=Ue(A(t.url),!0),t.usedBytes=t.contents.length}catch(t){e=!1}return e||dt(29),e},createLazyFile:function(t,e,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[e]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var e,r=Number(t.getResponseHeader("Content-length")),i=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,o=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,a=1048576;i||(a=r);var s=this;s.setDataGetter((function(t){var e=t*a,i=(t+1)*a-1;if(i=Math.min(i,r-1),void 0===s.chunks[t]&&(s.chunks[t]=function(t,e){if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+t+"-"+e),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Ue(i.responseText||"",!0)}(e,i)),void 0===s.chunks[t])throw new Error("doXHR failed!");return s.chunks[t]})),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var c=_t.createFile(t,e,s,r,i);s.contents?c.contents=s.contents:s.url&&(c.contents=null,c.url=s.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={};return Object.keys(c.stream_ops).forEach((function(t){var e=c.stream_ops[t];u[t]=function(){if(!_t.forceLoadFile(c))throw new _t.ErrnoError(29);return e.apply(null,arguments)}})),u.read=function(t,e,n,r,i){if(!_t.forceLoadFile(c))throw new _t.ErrnoError(29);var o=t.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(o.slice)for(var s=0;s<a;s++)e[n+s]=o[i+s];else for(s=0;s<a;s++)e[n+s]=o.get(i+s);return a},c.stream_ops=u,c},createPreloadedFile:function(t,e,n,r,o,a,s,l,c,u){At.init();var A=e?ft.resolve(pt.join2(t,e)):t;function h(n){function h(n){u&&u(),l||_t.createDataFile(t,e,n,r,o,c),a&&a(),et()}var d=!1;i.preloadPlugins.forEach((function(t){d||t.canHandle(A)&&(t.handle(n,A,h,(function(){s&&s(),et()})),d=!0)})),d||h(n)}tt(),"string"==typeof n?At.asyncLoad(n,(function(t){h(t)}),s):h(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=_t.indexedDB();try{var i=r.open(_t.DB_NAME(),_t.DB_VERSION)}catch(t){return n(t)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(_t.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([_t.DB_STORE_NAME],"readwrite"),o=r.objectStore(_t.DB_STORE_NAME),a=0,s=0,l=t.length;function c(){0==s?e():n()}t.forEach((function(t){var e=o.put(_t.analyzePath(t).object.contents,t);e.onsuccess=function(){++a+s==l&&c()},e.onerror=function(){s++,a+s==l&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=_t.indexedDB();try{var i=r.open(_t.DB_NAME(),_t.DB_VERSION)}catch(t){return n(t)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var o=r.transaction([_t.DB_STORE_NAME],"readonly")}catch(t){return void n(t)}var a=o.objectStore(_t.DB_STORE_NAME),s=0,l=0,c=t.length;function u(){0==l?e():n()}t.forEach((function(t){var e=a.get(t);e.onsuccess=function(){_t.analyzePath(t).exists&&_t.unlink(t),_t.createDataFile(pt.dirname(t),pt.basename(t),e.result,!0,!0,!0),++s+l==c&&u()},e.onerror=function(){l++,s+l==c&&u()}})),o.onerror=n},i.onerror=n}},wt={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(t,e){if("/"!==e[0]){var n;if(-100===t)n=_t.cwd();else{var r=_t.getStream(t);if(!r)throw new _t.ErrnoError(8);n=r.path}e=pt.join2(n,e)}return e},doStat:function(t,e,n){try{var r=t(e)}catch(t){if(t&&t.node&&pt.normalize(e)!==pt.normalize(_t.getPath(t.node)))return-54;throw t}return B[n>>2]=r.dev,B[n+4>>2]=0,B[n+8>>2]=r.ino,B[n+12>>2]=r.mode,B[n+16>>2]=r.nlink,B[n+20>>2]=r.uid,B[n+24>>2]=r.gid,B[n+28>>2]=r.rdev,B[n+32>>2]=0,st=[r.size>>>0,(at=r.size,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],B[n+40>>2]=st[0],B[n+44>>2]=st[1],B[n+48>>2]=4096,B[n+52>>2]=r.blocks,B[n+56>>2]=r.atime.getTime()/1e3|0,B[n+60>>2]=0,B[n+64>>2]=r.mtime.getTime()/1e3|0,B[n+68>>2]=0,B[n+72>>2]=r.ctime.getTime()/1e3|0,B[n+76>>2]=0,st=[r.ino>>>0,(at=r.ino,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],B[n+80>>2]=st[0],B[n+84>>2]=st[1],0},doMsync:function(t,e,n,r){var i=new Uint8Array(L.subarray(t,t+n));_t.msync(e,i,0,n,r)},doMkdir:function(t,e){return"/"===(t=pt.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),_t.mkdir(t,e,0),0},doMknod:function(t,e,n){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return _t.mknod(t,e,n),0},doReadlink:function(t,e,n){if(n<=0)return-28;var r=_t.readlink(t),i=Math.min(n,U(r)),o=M[e+i];return R(r,e,n+1),M[e+i]=o,i},doAccess:function(t,e){if(-8&e)return-28;var n;if(!(n=_t.lookupPath(t,{follow:!0}).node))return-44;var r="";return 4&e&&(r+="r"),2&e&&(r+="w"),1&e&&(r+="x"),r&&_t.nodePermissions(n,r)?-2:0},doDup:function(t,e,n){var r=_t.getStream(n);return r&&_t.close(r),_t.open(t,e,0,n,n).fd},doReadv:function(t,e,n,r){for(var i=0,o=0;o<n;o++){var a=B[e+8*o>>2],s=B[e+(8*o+4)>>2],l=_t.read(t,M,a,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(t,e,n,r){for(var i=0,o=0;o<n;o++){var a=B[e+8*o>>2],s=B[e+(8*o+4)>>2],l=_t.write(t,M,a,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(t){return wt.varargs+=4,B[wt.varargs-4>>2]},getStr:function(){return F(wt.get())},getStreamFromFD:function(t){void 0===t&&(t=wt.get());var e=_t.getStream(t);if(!e)throw new _t.ErrnoError(8);return e},get64:function(){var t=wt.get();return wt.get(),t},getZero:function(){wt.get()}},bt={};function xt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Mt(t){return this.fromWireType(S[t>>2])}var Lt={},Ct={},Et={};function Bt(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function St(t,e){return t=Bt(t),new Function("body","return function "+t+'() {\n\t\t"use strict";\t\treturn body.apply(this, arguments);\n};\n')(e)}function Tt(t,e){var n=St(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Dt=void 0;function It(t){throw new Dt(t)}function Pt(t,e,n){function r(e){var r=n(e);r.length!==t.length&&It("Mismatched type converter count");for(var i=0;i<t.length;++i)Yt(t[i],r[i])}t.forEach((function(t){Et[t]=e}));var i=new Array(e.length),o=[],a=0;e.forEach((function(t,e){Ct.hasOwnProperty(t)?i[e]=Ct[t]:(o.push(t),Lt.hasOwnProperty(t)||(Lt[t]=[]),Lt[t].push((function(){i[e]=Ct[t],++a===o.length&&r(i)})))})),0===o.length&&r(i)}var Ft={};function kt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var Rt=void 0;function Ut(t){for(var e="",n=t;L[n];)e+=Rt[L[n++]];return e}var Ot=void 0;function Ht(t){throw new Ot(t)}function Yt(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||Ht('type "'+r+'" must have a positive integer typeid pointer'),Ct.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;Ht("Cannot register type '"+r+"' twice")}if(Ct[t]=e,delete Et[t],Lt.hasOwnProperty(t)){var i=Lt[t];delete Lt[t],i.forEach((function(t){t()}))}}function Qt(t){Ht(t.$$.ptrType.registeredClass.name+" instance already deleted")}var Nt=!1;function jt(t){}function Wt(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function Vt(t){return"undefined"==typeof FinalizationGroup?(Vt=function(t){return t},t):(Nt=new FinalizationGroup((function(t){for(var e=t.next();!e.done;e=t.next()){var n=e.value;n.ptr?Wt(n):console.warn("object already deleted: "+n.ptr)}})),Vt=function(t){return Nt.register(t,t.$$,t.$$),t},jt=function(t){Nt.unregister(t.$$)},Vt(t))}var zt=void 0,Gt=[];function Kt(){for(;Gt.length;){var t=Gt.pop();t.$$.deleteScheduled=!1,t.delete()}}function Zt(){}var Xt={};function qt(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||Ht("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}function Jt(t,e,n){i.hasOwnProperty(t)?((void 0===n||void 0!==i[t].overloadTable&&void 0!==i[t].overloadTable[n])&&Ht("Cannot register public name '"+t+"' twice"),qt(i,t,t),i.hasOwnProperty(n)&&Ht("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),i[t].overloadTable[n]=e):(i[t]=e,void 0!==n&&(i[t].numArguments=n))}function $t(t,e,n,r,i,o,a,s){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function te(t,e,n){for(;e!==n;)e.upcast||Ht("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function ee(t,e){if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name);var n=e.$$.ptrType.registeredClass;return te(e.$$.ptr,n,this.registeredClass)}function ne(t,e){var n;if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&Ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;if(n=te(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&Ht("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:Ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var i=e.clone();n=this.rawShare(n,_e((function(){i.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:Ht("Unsupporting sharing policy")}return n}function re(t,e){if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&Ht("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;return te(e.$$.ptr,n,this.registeredClass)}function ie(t,e,n){if(e===n)return t;if(void 0===n.baseClass)return null;var r=ie(t,e,n.baseClass);return null===r?null:n.downcast(r)}var oe={};function ae(t,e){return e.ptrType&&e.ptr||It("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&It("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Vt(Object.create(t,{$$:{value:e}}))}function se(t,e,n,r,i,o,a,s,l,c,u){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=r,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=u,i||void 0!==e.baseClass?this.toWireType=ne:r?(this.toWireType=ee,this.destructorFunction=null):(this.toWireType=re,this.destructorFunction=null)}function le(t,e,n){i.hasOwnProperty(t)||It("Replacing nonexistant public symbol"),void 0!==i[t].overloadTable&&void 0!==n?i[t].overloadTable[n]=e:(i[t]=e,i[t].argCount=n)}function ce(t,e){var n;if(t=Ut(t),void 0!==i["FUNCTION_TABLE_"+t])n=i["FUNCTION_TABLE_"+t][e];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[e];else{var r=i["dynCall_"+t];void 0===r&&void 0===(r=i["dynCall_"+t.replace(/f/g,"d")])&&Ht("No dynCall invoker for signature: "+t),n=function(n){for(var r=[],i=1;i<t.length;++i)r.push("a"+i);var o="return function dynCall_"+t+"_"+e+"("+r.join(", ")+") {\n";return o+="\t\treturn dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(n,e)}(r)}return"function"!=typeof n&&Ht("unknown function pointer with signature "+t+": "+e),n}var ue=void 0;function Ae(t){var e=Ke(t),n=Ut(e);return ze(e),n}function he(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||Ct[e]||(Et[e]?Et[e].forEach(t):(n.push(e),r[e]=!0))})),new ue(t+": "+n.map(Ae).join([", "]))}function de(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=St(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return i instanceof Object?i:r}function pe(t,e,n,r,i){var o=e.length;o<2&&Ht("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==n,s=!1,l=1;l<e.length;++l)if(null!==e[l]&&void 0===e[l].destructorFunction){s=!0;break}var c="void"!==e[0].name,u="",A="";for(l=0;l<o-2;++l)u+=(0!==l?", ":"")+"arg"+l,A+=(0!==l?", ":"")+"arg"+l+"Wired";var h="return function "+Bt(t)+"("+u+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(h+="var destructors = [];\n");var d=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],f=[Ht,r,i,xt,e[0],e[1]];for(a&&(h+="var thisWired = classParam.toWireType("+d+", this);\n"),l=0;l<o-2;++l)h+="var arg"+l+"Wired = argType"+l+".toWireType("+d+", arg"+l+"); // "+e[l+2].name+"\n",p.push("argType"+l),f.push(e[l+2]);if(a&&(A="thisWired"+(A.length>0?", ":"")+A),h+=(c?"var rv = ":"")+"invoker(fn"+(A.length>0?", ":"")+A+");\n",s)h+="runDestructors(destructors);\n";else for(l=a?1:2;l<e.length;++l){var m=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(h+=m+"_dtor("+m+"); // "+e[l].name+"\n",p.push(m+"_dtor"),f.push(e[l].destructorFunction))}return c&&(h+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),h+="}\n",p.push(h),de(Function,p).apply(null,f)}function fe(t,e){for(var n=[],r=0;r<t;r++)n.push(B[(e>>2)+r]);return n}function me(t,e,n){return t instanceof Object||Ht(n+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||Ht(n+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||Ht("cannot call emscripten binding method "+n+" on deleted object"),te(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}var ge=[],ye=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ve(t){t>4&&0==--ye[t].refcount&&(ye[t]=void 0,ge.push(t))}function _e(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=ge.length?ge.pop():ye.length;return ye[e]={refcount:1,value:t},e}}function we(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function be(t,e){switch(e){case 2:return function(t){return this.fromWireType(T[t>>2])};case 3:return function(t){return this.fromWireType(D[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function xe(t,e,n){switch(e){case 0:return n?function(t){return M[t]}:function(t){return L[t]};case 1:return n?function(t){return C[t>>1]}:function(t){return E[t>>1]};case 2:return n?function(t){return B[t>>2]}:function(t){return S[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Me(t){return t||Ht("Cannot use deleted val. handle = "+t),ye[t].value}function Le(t,e){var n=Ct[t];return void 0===n&&Ht(e+" has unknown type "+Ae(t)),n}var Ce={};function Ee(t){var e=Ce[t];return void 0===e?Ut(t):e}var Be=[];function Se(){return M.length}var Te={};function De(){if(!De.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u};for(var e in Te)t[e]=Te[e];var n=[];for(var e in t)n.push(e+"="+t[e]);De.strings=n}return De.strings}function Ie(t){return t%4==0&&(t%100!=0||t%400==0)}function Pe(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}var Fe=[31,29,31,30,31,30,31,31,30,31,30,31],ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Re(t,e){for(var n=new Date(t.getTime());e>0;){var r=Ie(n.getFullYear()),i=n.getMonth(),o=(r?Fe:ke)[i];if(!(e>o-n.getDate()))return n.setDate(n.getDate()+e),n;e-=o-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Ue(t,e,n){var r=n>0?n:U(t)+1,i=new Array(r),o=k(t,i,0,i.length);return e&&(i.length=o),i}function Oe(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r>255&&(r&=255),e.push(String.fromCharCode(r))}return e.join("")}i.requestFullScreen=function(t,e,n){y("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),i.requestFullScreen=i.requestFullscreen,At.requestFullScreen(t,e,n)},i.requestFullscreen=function(t,e,n){At.requestFullscreen(t,e,n)},i.requestAnimationFrame=function(t){At.requestAnimationFrame(t)},i.setCanvasSize=function(t,e,n){At.setCanvasSize(t,e,n)},i.pauseMainLoop=function(){At.mainLoop.pause()},i.resumeMainLoop=function(){At.mainLoop.resume()},i.getUserMedia=function(){At.getUserMedia()},i.createContext=function(t,e,n,r){return At.createContext(t,e,n,r)},ut="undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,_t.staticInit(),i.FS_createFolder=_t.createFolder,i.FS_createPath=_t.createPath,i.FS_createDataFile=_t.createDataFile,i.FS_createPreloadedFile=_t.createPreloadedFile,i.FS_createLazyFile=_t.createLazyFile,i.FS_createLink=_t.createLink,i.FS_createDevice=_t.createDevice,i.FS_unlink=_t.unlink,Dt=i.InternalError=Tt(Error,"InternalError"),function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Rt=t}(),Ot=i.BindingError=Tt(Error,"BindingError"),Zt.prototype.isAliasOf=function(t){if(!(this instanceof Zt))return!1;if(!(t instanceof Zt))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=t.$$.ptrType.registeredClass,i=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;r.baseClass;)i=r.upcast(i),r=r.baseClass;return e===r&&n===i},Zt.prototype.clone=function(){if(this.$$.ptr||Qt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Vt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},Zt.prototype.delete=function(){this.$$.ptr||Qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ht("Object already scheduled for deletion"),jt(this),Wt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},Zt.prototype.isDeleted=function(){return!this.$$.ptr},Zt.prototype.deleteLater=function(){return this.$$.ptr||Qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ht("Object already scheduled for deletion"),Gt.push(this),1===Gt.length&&zt&&zt(Kt),this.$$.deleteScheduled=!0,this},se.prototype.getPointee=function(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},se.prototype.destructor=function(t){this.rawDestructor&&this.rawDestructor(t)},se.prototype.argPackAdvance=8,se.prototype.readValueFromPointer=Mt,se.prototype.deleteObject=function(t){null!==t&&t.delete()},se.prototype.fromWireType=function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=function(t,e){return e=function(t,e){for(void 0===e&&Ht("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),oe[e]}(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var r=n.clone();return this.destructor(t),r}function i(){return this.isSmartPointer?ae(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):ae(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,a=this.registeredClass.getActualType(e),s=Xt[a];if(!s)return i.call(this);o=this.isConst?s.constPointerType:s.pointerType;var l=ie(e,this.registeredClass,o.registeredClass);return null===l?i.call(this):this.isSmartPointer?ae(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:t}):ae(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})},i.getInheritedInstanceCount=function(){return Object.keys(oe).length},i.getLiveInheritedInstances=function(){var t=[];for(var e in oe)oe.hasOwnProperty(e)&&t.push(oe[e]);return t},i.flushPendingDeletes=Kt,i.setDelayFunction=function(t){zt=t,Gt.length&&zt&&zt(Kt)},ue=i.UnboundTypeError=Tt(Error,"UnboundTypeError"),i.count_emval_handles=function(){for(var t=0,e=5;e<ye.length;++e)void 0!==ye[e]&&++t;return t},i.get_first_emval=function(){for(var t=5;t<ye.length;++t)if(void 0!==ye[t])return ye[t];return null};var He="function"==typeof atob?atob:function(t){var e,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=s.indexOf(t.charAt(c++))<<2|(i=s.indexOf(t.charAt(c++)))>>4,n=(15&i)<<4|(o=s.indexOf(t.charAt(c++)))>>2,r=(3&o)<<6|(a=s.indexOf(t.charAt(c++))),l+=String.fromCharCode(e),64!==o&&(l+=String.fromCharCode(n)),64!==a&&(l+=String.fromCharCode(r))}while(c<t.length);return l};function Ye(t){if(it(t))return function(t){if("boolean"==typeof c&&c){var e;try{e=Buffer.from(t,"base64")}catch(n){e=new Buffer(t,"base64")}return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}try{for(var n=He(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}catch(t){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(rt.length))}var Qe={__cxa_allocate_exception:function(t){return Ve(t)},__cxa_atexit:function(){return ht.apply(null,arguments)},__cxa_throw:function(t,e,n){throw"uncaught_exception"in Ge?Ge.uncaught_exceptions++:Ge.uncaught_exceptions=1,t},__lock:function(){},__map_file:function(t,e){return dt(63),-1},__syscall221:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD();switch(wt.get()){case 0:return(r=wt.get())<0?-28:_t.open(n.path,n.flags,0,r).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var r=wt.get();return n.flags|=r,0;case 12:return r=wt.get(),C[r+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return dt(28),-1}}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall3:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),r=wt.get(),i=wt.get();return _t.read(n,M,r,i)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall4:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),r=wt.get(),i=wt.get();return _t.write(n,M,r,i)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall5:function(t,e){wt.varargs=e;try{var n=wt.getStr(),r=wt.get(),i=wt.get();return _t.open(n,r,i).fd}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall54:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),r=wt.get();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var i=wt.get();return B[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return i=wt.get(),_t.ioctl(n,r,i);default:nt("bad ioctl syscall "+r)}}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall91:function(t,e){wt.varargs=e;try{return function(t,e){if(-1===t||0===e)return-28;var n=wt.mappings[t];if(!n)return 0;if(e===n.len){var r=_t.getStream(n.fd);wt.doMsync(t,r,e,n.flags),_t.munmap(r),wt.mappings[t]=null,n.allocated&&ze(n.malloc)}return 0}(wt.get(),wt.get())}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__unlock:function(){},_embind_finalize_value_array:function(t){var e=bt[t];delete bt[t];var n=e.elements,r=n.length,i=n.map((function(t){return t.getterReturnType})).concat(n.map((function(t){return t.setterArgumentType}))),o=e.rawConstructor,a=e.rawDestructor;Pt([t],i,(function(t){return n.forEach((function(e,n){var i=t[n],o=e.getter,a=e.getterContext,s=t[n+r],l=e.setter,c=e.setterContext;e.read=function(t){return i.fromWireType(o(a,t))},e.write=function(t,e){var n=[];l(c,t,s.toWireType(n,e)),xt(n)}})),[{name:e.name,fromWireType:function(t){for(var e=new Array(r),i=0;i<r;++i)e[i]=n[i].read(t);return a(t),e},toWireType:function(t,i){if(r!==i.length)throw new TypeError("Incorrect number of tuple elements for "+e.name+": expected="+r+", actual="+i.length);for(var s=o(),l=0;l<r;++l)n[l].write(s,i[l]);return null!==t&&t.push(a,s),s},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:a}]}))},_embind_finalize_value_object:function(t){var e=Ft[t];delete Ft[t];var n=e.rawConstructor,r=e.rawDestructor,i=e.fields;Pt([t],i.map((function(t){return t.getterReturnType})).concat(i.map((function(t){return t.setterArgumentType}))),(function(t){var o={};return i.forEach((function(e,n){var r=e.fieldName,a=t[n],s=e.getter,l=e.getterContext,c=t[n+i.length],u=e.setter,A=e.setterContext;o[r]={read:function(t){return a.fromWireType(s(l,t))},write:function(t,e){var n=[];u(A,t,c.toWireType(n,e)),xt(n)}}})),[{name:e.name,fromWireType:function(t){var e={};for(var n in o)e[n]=o[n].read(t);return r(t),e},toWireType:function(t,e){for(var i in o)if(!(i in e))throw new TypeError("Missing field");var a=n();for(i in o)o[i].write(a,e[i]);return null!==t&&t.push(r,a),a},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:r}]}))},_embind_register_bool:function(t,e,n,r,i){var o=kt(n);Yt(t,{name:e=Ut(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:i},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=M;else if(2===n)r=C;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=B}return this.fromWireType(r[t>>o])},destructorFunction:null})},_embind_register_class:function(t,e,n,r,i,o,a,s,l,c,u,A,h){u=Ut(u),o=ce(i,o),s&&(s=ce(a,s)),c&&(c=ce(l,c)),h=ce(A,h);var d=Bt(u);Jt(d,(function(){he("Cannot construct "+u+" due to unbound types",[r])})),Pt([t,e,n],r?[r]:[],(function(e){var n,i;e=e[0],i=r?(n=e.registeredClass).instancePrototype:Zt.prototype;var a=St(d,(function(){if(Object.getPrototypeOf(this)!==l)throw new Ot("Use 'new' to construct "+u);if(void 0===A.constructor_body)throw new Ot(u+" has no accessible constructor");var t=A.constructor_body[arguments.length];if(void 0===t)throw new Ot("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(A.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),l=Object.create(i,{constructor:{value:a}});a.prototype=l;var A=new $t(u,a,l,h,n,o,s,c),p=new se(u,A,!0,!1,!1),f=new se(u+"*",A,!1,!1,!1),m=new se(u+" const*",A,!1,!0,!1);return Xt[t]={pointerType:f,constPointerType:m},le(d,a),[p,f,m]}))},_embind_register_class_class_function:function(t,e,n,r,i,o,a){var s=fe(n,r);e=Ut(e),o=ce(i,o),Pt([],[t],(function(t){var r=(t=t[0]).name+"."+e;function i(){he("Cannot call "+r+" due to unbound types",s)}var l=t.registeredClass.constructor;return void 0===l[e]?(i.argCount=n-1,l[e]=i):(qt(l,e,r),l[e].overloadTable[n-1]=i),Pt([],s,(function(t){var i=[t[0],null].concat(t.slice(1)),s=pe(r,i,null,o,a);return void 0===l[e].overloadTable?(s.argCount=n-1,l[e]=s):l[e].overloadTable[n-1]=s,[]})),[]}))},_embind_register_class_constructor:function(t,e,n,r,i,o){var a=fe(e,n);i=ce(r,i),Pt([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Ot("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){he("Cannot construct "+t.name+" due to unbound types",a)},Pt([],a,(function(r){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&Ht(n+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],a=new Array(e);a[0]=o;for(var s=1;s<e;++s)a[s]=r[s].toWireType(t,arguments[s-1]);var l=i.apply(null,a);return xt(t),r[0].fromWireType(l)},[]})),[]}))},_embind_register_class_function:function(t,e,n,r,i,o,a,s){var l=fe(n,r);e=Ut(e),o=ce(i,o),Pt([],[t],(function(t){var r=(t=t[0]).name+"."+e;function i(){he("Cannot call "+r+" due to unbound types",l)}s&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,u=c[e];return void 0===u||void 0===u.overloadTable&&u.className!==t.name&&u.argCount===n-2?(i.argCount=n-2,i.className=t.name,c[e]=i):(qt(c,e,r),c[e].overloadTable[n-2]=i),Pt([],l,(function(i){var s=pe(r,i,t,o,a);return void 0===c[e].overloadTable?(s.argCount=n-2,c[e]=s):c[e].overloadTable[n-2]=s,[]})),[]}))},_embind_register_class_property:function(t,e,n,r,i,o,a,s,l,c){e=Ut(e),i=ce(r,i),Pt([],[t],(function(t){var r=(t=t[0]).name+"."+e,u={get:function(){he("Cannot access "+r+" due to unbound types",[n,a])},enumerable:!0,configurable:!0};return u.set=l?function(){he("Cannot access "+r+" due to unbound types",[n,a])}:function(t){Ht(r+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,u),Pt([],l?[n,a]:[n],(function(n){var a=n[0],u={get:function(){var e=me(this,t,r+" getter");return a.fromWireType(i(o,e))},enumerable:!0};if(l){l=ce(s,l);var A=n[1];u.set=function(e){var n=me(this,t,r+" setter"),i=[];l(c,n,A.toWireType(i,e)),xt(i)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,u),[]})),[]}))},_embind_register_constant:function(t,e,n){t=Ut(t),Pt([],[e],(function(e){return e=e[0],i[t]=e.fromWireType(n),[]}))},_embind_register_emval:function(t,e){Yt(t,{name:e=Ut(e),fromWireType:function(t){var e=ye[t].value;return ve(t),e},toWireType:function(t,e){return _e(e)},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:null})},_embind_register_float:function(t,e,n){var r=kt(n);Yt(t,{name:e=Ut(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+we(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:be(e,r),destructorFunction:null})},_embind_register_function:function(t,e,n,r,i,o){var a=fe(e,n);t=Ut(t),i=ce(r,i),Jt(t,(function(){he("Cannot call "+t+" due to unbound types",a)}),e-1),Pt([],a,(function(n){var r=[n[0],null].concat(n.slice(1));return le(t,pe(t,r,null,i,o),e-1),[]}))},_embind_register_integer:function(t,e,n,r,i){e=Ut(e),-1===i&&(i=4294967295);var o=kt(n),a=function(t){return t};if(0===r){var s=32-8*n;a=function(t){return t<<s>>>s}}var l=-1!=e.indexOf("unsigned");Yt(t,{name:e,fromWireType:a,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+we(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+we(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+r+", "+i+"]!");return l?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:xe(e,o,0!==r),destructorFunction:null})},_embind_register_memory_view:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function i(t){var e=S,n=e[t>>=2],i=e[t+1];return new r(e.buffer,i,n)}Yt(t,{name:n=Ut(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_smart_ptr:function(t,e,n,r,i,o,a,s,l,c,u,A){n=Ut(n),o=ce(i,o),s=ce(a,s),c=ce(l,c),A=ce(u,A),Pt([t],[e],(function(t){return t=t[0],[new se(n,t.registeredClass,!1,!1,!0,t,r,o,s,c,A)]}))},_embind_register_std_string:function(t,e){var n="std::string"===(e=Ut(e));Yt(t,{name:e,fromWireType:function(t){var e,r=S[t>>2];if(n){var i=L[t+4+r],o=0;0!=i&&(o=i,L[t+4+r]=0);for(var a=t+4,s=0;s<=r;++s){var l=t+4+s;if(0==L[l]){var c=F(a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=l+1}}0!=o&&(L[t+4+r]=o)}else{var u=new Array(r);for(s=0;s<r;++s)u[s]=String.fromCharCode(L[t+4+s]);e=u.join("")}return ze(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||Ht("Cannot pass non-string to std::string");var i=(n&&r?function(){return U(e)}:function(){return e.length})(),o=Ve(4+i+1);if(S[o>>2]=i,n&&r)R(e,o+4,i+1);else if(r)for(var a=0;a<i;++a){var s=e.charCodeAt(a);s>255&&(ze(o),Ht("String has UTF-16 code units that do not fit in 8 bits")),L[o+4+a]=s}else for(a=0;a<i;++a)L[o+4+a]=e[a];return null!==t&&t.push(ze,o),o},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(t){ze(t)}})},_embind_register_std_wstring:function(t,e,n){var r,i;n=Ut(n),2===e?(r=function(){return E},i=1):4===e&&(r=function(){return S},i=2),Yt(t,{name:n,fromWireType:function(t){for(var e=r(),n=S[t>>2],o=new Array(n),a=t+4>>i,s=0;s<n;++s)o[s]=String.fromCharCode(e[a+s]);return ze(t),o.join("")},toWireType:function(t,n){var o=n.length,a=Ve(4+o*e),s=r();S[a>>2]=o;for(var l=a+4>>i,c=0;c<o;++c)s[l+c]=n.charCodeAt(c);return null!==t&&t.push(ze,a),a},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(t){ze(t)}})},_embind_register_value_array:function(t,e,n,r,i,o){bt[t]={name:Ut(e),rawConstructor:ce(n,r),rawDestructor:ce(i,o),elements:[]}},_embind_register_value_array_element:function(t,e,n,r,i,o,a,s,l){bt[t].elements.push({getterReturnType:e,getter:ce(n,r),getterContext:i,setterArgumentType:o,setter:ce(a,s),setterContext:l})},_embind_register_value_object:function(t,e,n,r,i,o){Ft[t]={name:Ut(e),rawConstructor:ce(n,r),rawDestructor:ce(i,o),fields:[]}},_embind_register_value_object_field:function(t,e,n,r,i,o,a,s,l,c){Ft[t].fields.push({fieldName:Ut(e),getterReturnType:n,getter:ce(r,i),getterContext:o,setterArgumentType:a,setter:ce(s,l),setterContext:c})},_embind_register_void:function(t,e){Yt(t,{isVoid:!0,name:e=Ut(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},_emval_as:function(t,e,n){t=Me(t),e=Le(e,"emval::as");var r=[],i=_e(r);return B[n>>2]=i,e.toWireType(r,t)},_emval_call_void_method:function(t,e,n,r){(t=Be[t])(e=Me(e),n=Ee(n),null,r)},_emval_decref:ve,_emval_get_method_caller:function(t,e){for(var n=function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=Le(B[(e>>2)+r],"parameter "+r);return n}(t,e),r=n[0],i=r.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",o=["retType"],a=[r],s="",l=0;l<t-1;++l)s+=(0!==l?", ":"")+"arg"+l,o.push("argType"+l),a.push(n[1+l]);var c,u,A="return function "+Bt("methodCaller_"+i)+"(handle, name, destructors, args) {\n",h=0;for(l=0;l<t-1;++l)A+="\t\tvar arg"+l+" = argType"+l+".readValueFromPointer(args"+(h?"+"+h:"")+");\n",h+=n[l+1].argPackAdvance;for(A+="\t\tvar rv = handle[name]("+s+");\n",l=0;l<t-1;++l)n[l+1].deleteObject&&(A+="\t\targType"+l+".deleteObject(arg"+l+");\n");return r.isVoid||(A+="\t\treturn retType.toWireType(destructors, rv);\n"),A+="};\n",o.push(A),c=de(Function,o).apply(null,a),u=Be.length,Be.push(c),u},_emval_get_property:function(t,e){return _e((t=Me(t))[e=Me(e)])},_emval_incref:function(t){t>4&&(ye[t].refcount+=1)},_emval_new_array:function(){return _e([])},_emval_new_cstring:function(t){return _e(Ee(t))},_emval_run_destructors:function(t){xt(ye[t].value),ve(t)},_emval_set_property:function(t,e,n){t=Me(t),e=Me(e),n=Me(n),t[e]=n},_emval_take_value:function(t,e){return _e((t=Le(t,"_emval_take_value")).readValueFromPointer(e))},abort:function(){nt()},clock_gettime:function(t,e){var n;if(0===t)n=Date.now();else{if(1!==t||!(c||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now))return dt(28),-1;n=ut()}return B[e>>2]=n/1e3|0,B[e+4>>2]=n%1e3*1e3*1e3|0,0},emscripten_get_sbrk_ptr:function(){return 1411136},emscripten_memcpy_big:function(t,e,n){L.set(L.subarray(e,e+n),t)},emscripten_resize_heap:function(t){var e=Se(),n=2147418112;if(t>n)return!1;for(var r=Math.max(e,16777216);r<t;)r=r<=536870912?O(2*r,65536):Math.min(O((3*r+2147483648)/4,65536),n);return(r=Math.min(r,1073741824))!=e&&!!function(t){try{return m.grow(t-x.byteLength+65535>>16),H(m.buffer),1}catch(t){}}(r)},environ_get:function(t,e){var n=De(),r=0;return n.forEach((function(n,i){var o=e+r;B[t+4*i>>2]=o,function(t,e){for(var n=0;n<t.length;++n)M[0|e++]=t.charCodeAt(n);M[0|e]=0}(n,o),r+=n.length+1})),0},environ_sizes_get:function(t,e){var n=De();B[t>>2]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),B[e>>2]=r,0},fd_close:function(t){try{var e=wt.getStreamFromFD(t);return _t.close(e),0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_read:function(t,e,n,r){try{var i=wt.getStreamFromFD(t),o=wt.doReadv(i,e,n);return B[r>>2]=o,0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_seek:function(t,e,n,r,i){try{var o=wt.getStreamFromFD(t),a=4294967296*n+(e>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(_t.llseek(o,a,r),st=[o.position>>>0,(at=o.position,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],B[i>>2]=st[0],B[i+4>>2]=st[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_write:function(t,e,n,r){try{var i=wt.getStreamFromFD(t),o=wt.doWritev(i,e,n);return B[r>>2]=o,0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},memory:m,pthread_mutexattr_destroy:function(){},pthread_mutexattr_init:function(){},pthread_mutexattr_settype:function(){},round:function(t){return(t=+t)>=0?+X(t+.5):+Z(t-.5)},roundf:function(t){return(t=+t)>=0?+X(t+.5):+Z(t-.5)},setTempRet0:function(t){},strftime_l:function(t,e,n,r){return function(t,e,n,r){var i=B[r+40>>2],o={tm_sec:B[r>>2],tm_min:B[r+4>>2],tm_hour:B[r+8>>2],tm_mday:B[r+12>>2],tm_mon:B[r+16>>2],tm_year:B[r+20>>2],tm_wday:B[r+24>>2],tm_yday:B[r+28>>2],tm_isdst:B[r+32>>2],tm_gmtoff:B[r+36>>2],tm_zone:i?F(i):""},a=F(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)a=a.replace(new RegExp(l,"g"),s[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"];function A(t,e,n){for(var r="number"==typeof t?t.toString():t||"";r.length<e;)r=n[0]+r;return r}function h(t,e){return A(t,e,"0")}function d(t,e){function n(t){return t<0?-1:t>0?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function p(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function f(t){var e=Re(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),r=new Date(e.getFullYear()+1,0,4),i=p(n),o=p(r);return d(i,e)<=0?d(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var m={"%a":function(t){return c[t.tm_wday].substring(0,3)},"%A":function(t){return c[t.tm_wday]},"%b":function(t){return u[t.tm_mon].substring(0,3)},"%B":function(t){return u[t.tm_mon]},"%C":function(t){return h((t.tm_year+1900)/100|0,2)},"%d":function(t){return h(t.tm_mday,2)},"%e":function(t){return A(t.tm_mday,2," ")},"%g":function(t){return f(t).toString().substring(2)},"%G":function(t){return f(t)},"%H":function(t){return h(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),h(e,2)},"%j":function(t){return h(t.tm_mday+Pe(Ie(t.tm_year+1900)?Fe:ke,t.tm_mon-1),3)},"%m":function(t){return h(t.tm_mon+1,2)},"%M":function(t){return h(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return h(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=new Date(t.tm_year+1900,0,1),n=0===e.getDay()?e:Re(e,7-e.getDay()),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(d(n,r)<0){var i=Pe(Ie(r.getFullYear())?Fe:ke,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return h(Math.ceil(o/7),2)}return 0===d(n,e)?"01":"00"},"%V":function(t){var e,n=new Date(t.tm_year+1900,0,4),r=new Date(t.tm_year+1901,0,4),i=p(n),o=p(r),a=Re(new Date(t.tm_year+1900,0,1),t.tm_yday);return d(a,i)<0?"53":d(o,a)<=0?"01":(e=i.getFullYear()<t.tm_year+1900?t.tm_yday+32-i.getDate():t.tm_yday+1-i.getDate(),h(Math.ceil(e/7),2))},"%w":function(t){return t.tm_wday},"%W":function(t){var e=new Date(t.tm_year,0,1),n=1===e.getDay()?e:Re(e,0===e.getDay()?1:7-e.getDay()+1),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(d(n,r)<0){var i=Pe(Ie(r.getFullYear())?Fe:ke,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return h(Math.ceil(o/7),2)}return 0===d(n,e)?"01":"00"},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var l in m)a.indexOf(l)>=0&&(a=a.replace(new RegExp(l,"g"),m[l](o)));var g=Ue(a,!1);return g.length>e?0:(function(t,e){M.set(t,e)}(g,t),g.length-1)}(t,e,n,r)},sysconf:function(t){switch(t){case 30:case 75:return 16384;case 85:case 3:return 65536;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return dt(28),-1},table:_},Ne=function(){var t={env:Qe,wasi_unstable:Qe};function e(t,e){var n=t.exports;i.asm=n,et()}function n(t){e(t.instance)}function r(e){return(f||!s&&!l||"function"!=typeof fetch?new Promise((function(t,e){t(ct())})):fetch(lt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+lt+"'";return t.arrayBuffer()})).catch((function(){return ct()}))).then((function(e){return console.error("info ==>",t),WebAssembly.instantiate(e,t)})).then(e,(function(t){y("failed to asynchronously prepare wasm: "+t),nt(t)}))}if(tt(),i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(t){return y("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(f||"function"!=typeof WebAssembly.instantiateStreaming||it(lt)||"function"!=typeof fetch)return r(n);fetch(lt,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(n,(function(t){y("wasm streaming compile failed: "+t),y("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}}();i.asm=Ne;var je,We=i.___wasm_call_ctors=function(){return i.asm.__wasm_call_ctors.apply(null,arguments)},Ve=i._malloc=function(){return i.asm.malloc.apply(null,arguments)},ze=i._free=function(){return i.asm.free.apply(null,arguments)},Ge=(i.___errno_location=function(){return i.asm.__errno_location.apply(null,arguments)},i._setThrew=function(){return i.asm.setThrew.apply(null,arguments)},i.__ZSt18uncaught_exceptionv=function(){return i.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Ke=(i.___cxa_demangle=function(){return i.asm.__cxa_demangle.apply(null,arguments)},i.___getTypeName=function(){return i.asm.__getTypeName.apply(null,arguments)});function Ze(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Xe(t){function e(){je||(je=!0,i.calledRun=!0,w||(G=!0,i.noFSInit||_t.init.initialized||_t.init(),N(W),_t.ignorePermissions=!1,N(V),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),z.unshift(t);var t;N(z)}()))}J>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)t=i.preRun.shift(),j.unshift(t);var t;N(j)}(),J>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e()))}if(i.___embind_register_native_and_builtin_types=function(){return i.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},i.stackSave=function(){return i.asm.stackSave.apply(null,arguments)},i.stackAlloc=function(){return i.asm.stackAlloc.apply(null,arguments)},i.stackRestore=function(){return i.asm.stackRestore.apply(null,arguments)},i.__growWasmMemory=function(){return i.asm.__growWasmMemory.apply(null,arguments)},i.dynCall_ii=function(){return i.asm.dynCall_ii.apply(null,arguments)},i.dynCall_vi=function(){return i.asm.dynCall_vi.apply(null,arguments)},i.dynCall_i=function(){return i.asm.dynCall_i.apply(null,arguments)},i.dynCall_iii=function(){return i.asm.dynCall_iii.apply(null,arguments)},i.dynCall_iiii=function(){return i.asm.dynCall_iiii.apply(null,arguments)},i.dynCall_iiiii=function(){return i.asm.dynCall_iiiii.apply(null,arguments)},i.dynCall_iiiiii=function(){return i.asm.dynCall_iiiiii.apply(null,arguments)},i.dynCall_iiiiiii=function(){return i.asm.dynCall_iiiiiii.apply(null,arguments)},i.dynCall_viii=function(){return i.asm.dynCall_viii.apply(null,arguments)},i.dynCall_viiii=function(){return i.asm.dynCall_viiii.apply(null,arguments)},i.dynCall_vii=function(){return i.asm.dynCall_vii.apply(null,arguments)},i.dynCall_viiidd=function(){return i.asm.dynCall_viiidd.apply(null,arguments)},i.dynCall_viiiidd=function(){return i.asm.dynCall_viiiidd.apply(null,arguments)},i.dynCall_viiid=function(){return i.asm.dynCall_viiid.apply(null,arguments)},i.dynCall_viiiid=function(){return i.asm.dynCall_viiiid.apply(null,arguments)},i.dynCall_viiiii=function(){return i.asm.dynCall_viiiii.apply(null,arguments)},i.dynCall_dii=function(){return i.asm.dynCall_dii.apply(null,arguments)},i.dynCall_diii=function(){return i.asm.dynCall_diii.apply(null,arguments)},i.dynCall_iiiid=function(){return i.asm.dynCall_iiiid.apply(null,arguments)},i.dynCall_fiii=function(){return i.asm.dynCall_fiii.apply(null,arguments)},i.dynCall_fiiii=function(){return i.asm.dynCall_fiiii.apply(null,arguments)},i.dynCall_fiiiii=function(){return i.asm.dynCall_fiiiii.apply(null,arguments)},i.dynCall_diiiii=function(){return i.asm.dynCall_diiiii.apply(null,arguments)},i.dynCall_diiii=function(){return i.asm.dynCall_diiii.apply(null,arguments)},i.dynCall_viid=function(){return i.asm.dynCall_viid.apply(null,arguments)},i.dynCall_fii=function(){return i.asm.dynCall_fii.apply(null,arguments)},i.dynCall_viif=function(){return i.asm.dynCall_viif.apply(null,arguments)},i.dynCall_iiiiiiiiii=function(){return i.asm.dynCall_iiiiiiiiii.apply(null,arguments)},i.dynCall_iiiiiiiii=function(){return i.asm.dynCall_iiiiiiiii.apply(null,arguments)},i.dynCall_iiiiiiii=function(){return i.asm.dynCall_iiiiiiii.apply(null,arguments)},i.dynCall_viiif=function(){return i.asm.dynCall_viiif.apply(null,arguments)},i.dynCall_iiiif=function(){return i.asm.dynCall_iiiif.apply(null,arguments)},i.dynCall_viiiddii=function(){return i.asm.dynCall_viiiddii.apply(null,arguments)},i.dynCall_viiddii=function(){return i.asm.dynCall_viiddii.apply(null,arguments)},i.dynCall_viiiddi=function(){return i.asm.dynCall_viiiddi.apply(null,arguments)},i.dynCall_viiddi=function(){return i.asm.dynCall_viiddi.apply(null,arguments)},i.dynCall_viidd=function(){return i.asm.dynCall_viidd.apply(null,arguments)},i.dynCall_viiiiddi=function(){return i.asm.dynCall_viiiiddi.apply(null,arguments)},i.dynCall_viiiiddddii=function(){return i.asm.dynCall_viiiiddddii.apply(null,arguments)},i.dynCall_viiiddddii=function(){return i.asm.dynCall_viiiddddii.apply(null,arguments)},i.dynCall_viiiiddddi=function(){return i.asm.dynCall_viiiiddddi.apply(null,arguments)},i.dynCall_viiiddddi=function(){return i.asm.dynCall_viiiddddi.apply(null,arguments)},i.dynCall_viiiidddd=function(){return i.asm.dynCall_viiiidddd.apply(null,arguments)},i.dynCall_viiidddd=function(){return i.asm.dynCall_viiidddd.apply(null,arguments)},i.dynCall_viiiiddd=function(){return i.asm.dynCall_viiiiddd.apply(null,arguments)},i.dynCall_viiiddd=function(){return i.asm.dynCall_viiiddd.apply(null,arguments)},i.dynCall_viiiddidddd=function(){return i.asm.dynCall_viiiddidddd.apply(null,arguments)},i.dynCall_viiddidddd=function(){return i.asm.dynCall_viiddidddd.apply(null,arguments)},i.dynCall_viiiddiddd=function(){return i.asm.dynCall_viiiddiddd.apply(null,arguments)},i.dynCall_viiddiddd=function(){return i.asm.dynCall_viiddiddd.apply(null,arguments)},i.dynCall_viiiddidd=function(){return i.asm.dynCall_viiiddidd.apply(null,arguments)},i.dynCall_viiddidd=function(){return i.asm.dynCall_viiddidd.apply(null,arguments)},i.dynCall_viiiddid=function(){return i.asm.dynCall_viiiddid.apply(null,arguments)},i.dynCall_viiddid=function(){return i.asm.dynCall_viiddid.apply(null,arguments)},i.dynCall_viiiiiddi=function(){return i.asm.dynCall_viiiiiddi.apply(null,arguments)},i.dynCall_viiiiidd=function(){return i.asm.dynCall_viiiiidd.apply(null,arguments)},i.dynCall_viiiiid=function(){return i.asm.dynCall_viiiiid.apply(null,arguments)},i.dynCall_viiiiiiddi=function(){return i.asm.dynCall_viiiiiiddi.apply(null,arguments)},i.dynCall_viiiiiidd=function(){return i.asm.dynCall_viiiiiidd.apply(null,arguments)},i.dynCall_viiiiiid=function(){return i.asm.dynCall_viiiiiid.apply(null,arguments)},i.dynCall_viiiiii=function(){return i.asm.dynCall_viiiiii.apply(null,arguments)},i.dynCall_viiiiiiiddi=function(){return i.asm.dynCall_viiiiiiiddi.apply(null,arguments)},i.dynCall_viiiiiiidd=function(){return i.asm.dynCall_viiiiiiidd.apply(null,arguments)},i.dynCall_viiiiiiid=function(){return i.asm.dynCall_viiiiiiid.apply(null,arguments)},i.dynCall_viiiiiii=function(){return i.asm.dynCall_viiiiiii.apply(null,arguments)},i.dynCall_viiidiiid=function(){return i.asm.dynCall_viiidiiid.apply(null,arguments)},i.dynCall_viidiiid=function(){return i.asm.dynCall_viidiiid.apply(null,arguments)},i.dynCall_viididdii=function(){return i.asm.dynCall_viididdii.apply(null,arguments)},i.dynCall_vididdii=function(){return i.asm.dynCall_vididdii.apply(null,arguments)},i.dynCall_viididdi=function(){return i.asm.dynCall_viididdi.apply(null,arguments)},i.dynCall_vididdi=function(){return i.asm.dynCall_vididdi.apply(null,arguments)},i.dynCall_viiidi=function(){return i.asm.dynCall_viiidi.apply(null,arguments)},i.dynCall_viidi=function(){return i.asm.dynCall_viidi.apply(null,arguments)},i.dynCall_viiiiiiii=function(){return i.asm.dynCall_viiiiiiii.apply(null,arguments)},i.dynCall_viiiidiiiidi=function(){return i.asm.dynCall_viiiidiiiidi.apply(null,arguments)},i.dynCall_viiidiiiidi=function(){return i.asm.dynCall_viiidiiiidi.apply(null,arguments)},i.dynCall_viiiiiiiiiiid=function(){return i.asm.dynCall_viiiiiiiiiiid.apply(null,arguments)},i.dynCall_viiiiiiiiiid=function(){return i.asm.dynCall_viiiiiiiiiid.apply(null,arguments)},i.dynCall_viiiiiiiiiii=function(){return i.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},i.dynCall_viiiiiiiiii=function(){return i.asm.dynCall_viiiiiiiiii.apply(null,arguments)},i.dynCall_viiiiiiiii=function(){return i.asm.dynCall_viiiiiiiii.apply(null,arguments)},i.dynCall_diiiiiiiiiiiii=function(){return i.asm.dynCall_diiiiiiiiiiiii.apply(null,arguments)},i.dynCall_diiiiiiiiiiii=function(){return i.asm.dynCall_diiiiiiiiiiii.apply(null,arguments)},i.dynCall_diiiiiiiiiii=function(){return i.asm.dynCall_diiiiiiiiiii.apply(null,arguments)},i.dynCall_diiiiiiiiii=function(){return i.asm.dynCall_diiiiiiiiii.apply(null,arguments)},i.dynCall_di=function(){return i.asm.dynCall_di.apply(null,arguments)},i.dynCall_viiiiidi=function(){return i.asm.dynCall_viiiiidi.apply(null,arguments)},i.dynCall_viiiidi=function(){return i.asm.dynCall_viiiidi.apply(null,arguments)},i.dynCall_vidiii=function(){return i.asm.dynCall_vidiii.apply(null,arguments)},i.dynCall_vdiii=function(){return i.asm.dynCall_vdiii.apply(null,arguments)},i.dynCall_vidii=function(){return i.asm.dynCall_vidii.apply(null,arguments)},i.dynCall_vdii=function(){return i.asm.dynCall_vdii.apply(null,arguments)},i.dynCall_viiiiiifi=function(){return i.asm.dynCall_viiiiiifi.apply(null,arguments)},i.dynCall_viiiiifi=function(){return i.asm.dynCall_viiiiifi.apply(null,arguments)},i.dynCall_viiiiiif=function(){return i.asm.dynCall_viiiiiif.apply(null,arguments)},i.dynCall_viiiiif=function(){return i.asm.dynCall_viiiiif.apply(null,arguments)},i.dynCall_viiiiiiiiiiii=function(){return i.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},i.dynCall_viiiidddiiii=function(){return i.asm.dynCall_viiiidddiiii.apply(null,arguments)},i.dynCall_viiidddiiii=function(){return i.asm.dynCall_viiidddiiii.apply(null,arguments)},i.dynCall_viiiidddiii=function(){return i.asm.dynCall_viiiidddiii.apply(null,arguments)},i.dynCall_viiidddiii=function(){return i.asm.dynCall_viiidddiii.apply(null,arguments)},i.dynCall_viiiidddii=function(){return i.asm.dynCall_viiiidddii.apply(null,arguments)},i.dynCall_viiidddii=function(){return i.asm.dynCall_viiidddii.apply(null,arguments)},i.dynCall_viiiidddi=function(){return i.asm.dynCall_viiiidddi.apply(null,arguments)},i.dynCall_viiidddi=function(){return i.asm.dynCall_viiidddi.apply(null,arguments)},i.dynCall_iiiiiididi=function(){return i.asm.dynCall_iiiiiididi.apply(null,arguments)},i.dynCall_viiiiididi=function(){return i.asm.dynCall_viiiiididi.apply(null,arguments)},i.dynCall_iiiiiidid=function(){return i.asm.dynCall_iiiiiidid.apply(null,arguments)},i.dynCall_viiiiidid=function(){return i.asm.dynCall_viiiiidid.apply(null,arguments)},i.dynCall_iiiiiidi=function(){return i.asm.dynCall_iiiiiidi.apply(null,arguments)},i.dynCall_iiiiiid=function(){return i.asm.dynCall_iiiiiid.apply(null,arguments)},i.dynCall_viiiiiidi=function(){return i.asm.dynCall_viiiiiidi.apply(null,arguments)},i.dynCall_iiiiidiid=function(){return i.asm.dynCall_iiiiidiid.apply(null,arguments)},i.dynCall_viiiidiid=function(){return i.asm.dynCall_viiiidiid.apply(null,arguments)},i.dynCall_iiiiidii=function(){return i.asm.dynCall_iiiiidii.apply(null,arguments)},i.dynCall_viiiidii=function(){return i.asm.dynCall_viiiidii.apply(null,arguments)},i.dynCall_iiiiidi=function(){return i.asm.dynCall_iiiiidi.apply(null,arguments)},i.dynCall_iiiiid=function(){return i.asm.dynCall_iiiiid.apply(null,arguments)},i.dynCall_diiiiiiii=function(){return i.asm.dynCall_diiiiiiii.apply(null,arguments)},i.dynCall_diiiiiii=function(){return i.asm.dynCall_diiiiiii.apply(null,arguments)},i.dynCall_diiiiii=function(){return i.asm.dynCall_diiiiii.apply(null,arguments)},i.dynCall_viiididii=function(){return i.asm.dynCall_viiididii.apply(null,arguments)},i.dynCall_viididii=function(){return i.asm.dynCall_viididii.apply(null,arguments)},i.dynCall_viiididi=function(){return i.asm.dynCall_viiididi.apply(null,arguments)},i.dynCall_viididi=function(){return i.asm.dynCall_viididi.apply(null,arguments)},i.dynCall_iiidd=function(){return i.asm.dynCall_iiidd.apply(null,arguments)},i.dynCall_viiiiddiiid=function(){return i.asm.dynCall_viiiiddiiid.apply(null,arguments)},i.dynCall_viiiddiiid=function(){return i.asm.dynCall_viiiddiiid.apply(null,arguments)},i.dynCall_viiiiddiii=function(){return i.asm.dynCall_viiiiddiii.apply(null,arguments)},i.dynCall_viiiddiii=function(){return i.asm.dynCall_viiiddiii.apply(null,arguments)},i.dynCall_viiiiddii=function(){return i.asm.dynCall_viiiiddii.apply(null,arguments)},i.dynCall_viiiiddiiiid=function(){return i.asm.dynCall_viiiiddiiiid.apply(null,arguments)},i.dynCall_viiiddiiiid=function(){return i.asm.dynCall_viiiddiiiid.apply(null,arguments)},i.dynCall_viiiiddiiii=function(){return i.asm.dynCall_viiiiddiiii.apply(null,arguments)},i.dynCall_viiiddiiii=function(){return i.asm.dynCall_viiiddiiii.apply(null,arguments)},i.dynCall_diiiid=function(){return i.asm.dynCall_diiiid.apply(null,arguments)},i.dynCall_diiid=function(){return i.asm.dynCall_diiid.apply(null,arguments)},i.dynCall_viiddiii=function(){return i.asm.dynCall_viiddiii.apply(null,arguments)},i.dynCall_vidi=function(){return i.asm.dynCall_vidi.apply(null,arguments)},i.dynCall_viiiiiiiid=function(){return i.asm.dynCall_viiiiiiiid.apply(null,arguments)},i.dynCall_viiiiidiiii=function(){return i.asm.dynCall_viiiiidiiii.apply(null,arguments)},i.dynCall_viiiidiiii=function(){return i.asm.dynCall_viiiidiiii.apply(null,arguments)},i.dynCall_viiiiidiii=function(){return i.asm.dynCall_viiiiidiii.apply(null,arguments)},i.dynCall_viiiidiii=function(){return i.asm.dynCall_viiiidiii.apply(null,arguments)},i.dynCall_viiiiidii=function(){return i.asm.dynCall_viiiiidii.apply(null,arguments)},i.dynCall_viiiiiiidi=function(){return i.asm.dynCall_viiiiiiidi.apply(null,arguments)},i.dynCall_iiiiiiiiiifdii=function(){return i.asm.dynCall_iiiiiiiiiifdii.apply(null,arguments)},i.dynCall_iiiiiiiiifdii=function(){return i.asm.dynCall_iiiiiiiiifdii.apply(null,arguments)},i.dynCall_iiiiiiiiiifdi=function(){return i.asm.dynCall_iiiiiiiiiifdi.apply(null,arguments)},i.dynCall_iiiiiiiiifdi=function(){return i.asm.dynCall_iiiiiiiiifdi.apply(null,arguments)},i.dynCall_iiiiiiiiiifd=function(){return i.asm.dynCall_iiiiiiiiiifd.apply(null,arguments)},i.dynCall_iiiiiiiiifd=function(){return i.asm.dynCall_iiiiiiiiifd.apply(null,arguments)},i.dynCall_iiiiiiiiiif=function(){return i.asm.dynCall_iiiiiiiiiif.apply(null,arguments)},i.dynCall_iiiiiiiiif=function(){return i.asm.dynCall_iiiiiiiiif.apply(null,arguments)},i.dynCall_diiiddi=function(){return i.asm.dynCall_diiiddi.apply(null,arguments)},i.dynCall_diiddi=function(){return i.asm.dynCall_diiddi.apply(null,arguments)},i.dynCall_iiidiiiii=function(){return i.asm.dynCall_iiidiiiii.apply(null,arguments)},i.dynCall_viidiiiii=function(){return i.asm.dynCall_viidiiiii.apply(null,arguments)},i.dynCall_iiidiiii=function(){return i.asm.dynCall_iiidiiii.apply(null,arguments)},i.dynCall_viidiiii=function(){return i.asm.dynCall_viidiiii.apply(null,arguments)},i.dynCall_iiidiii=function(){return i.asm.dynCall_iiidiii.apply(null,arguments)},i.dynCall_viidiii=function(){return i.asm.dynCall_viidiii.apply(null,arguments)},i.dynCall_iiidii=function(){return i.asm.dynCall_iiidii.apply(null,arguments)},i.dynCall_viidii=function(){return i.asm.dynCall_viidii.apply(null,arguments)},i.dynCall_iiidi=function(){return i.asm.dynCall_iiidi.apply(null,arguments)},i.dynCall_iiid=function(){return i.asm.dynCall_iiid.apply(null,arguments)},i.dynCall_iiiiifiii=function(){return i.asm.dynCall_iiiiifiii.apply(null,arguments)},i.dynCall_viiiifiii=function(){return i.asm.dynCall_viiiifiii.apply(null,arguments)},i.dynCall_iiiiifii=function(){return i.asm.dynCall_iiiiifii.apply(null,arguments)},i.dynCall_viiiifii=function(){return i.asm.dynCall_viiiifii.apply(null,arguments)},i.dynCall_iiiiifi=function(){return i.asm.dynCall_iiiiifi.apply(null,arguments)},i.dynCall_viiiifi=function(){return i.asm.dynCall_viiiifi.apply(null,arguments)},i.dynCall_iiiiif=function(){return i.asm.dynCall_iiiiif.apply(null,arguments)},i.dynCall_viiiif=function(){return i.asm.dynCall_viiiif.apply(null,arguments)},i.dynCall_vid=function(){return i.asm.dynCall_vid.apply(null,arguments)},i.dynCall_iiiiffi=function(){return i.asm.dynCall_iiiiffi.apply(null,arguments)},i.dynCall_viiiffi=function(){return i.asm.dynCall_viiiffi.apply(null,arguments)},i.dynCall_iiiiff=function(){return i.asm.dynCall_iiiiff.apply(null,arguments)},i.dynCall_viiiff=function(){return i.asm.dynCall_viiiff.apply(null,arguments)},i.dynCall_iiiiiiffi=function(){return i.asm.dynCall_iiiiiiffi.apply(null,arguments)},i.dynCall_viiiiiffi=function(){return i.asm.dynCall_viiiiiffi.apply(null,arguments)},i.dynCall_iiiiiiff=function(){return i.asm.dynCall_iiiiiiff.apply(null,arguments)},i.dynCall_viiiiiff=function(){return i.asm.dynCall_viiiiiff.apply(null,arguments)},i.dynCall_iidi=function(){return i.asm.dynCall_iidi.apply(null,arguments)},i.dynCall_iid=function(){return i.asm.dynCall_iid.apply(null,arguments)},i.dynCall_iiifi=function(){return i.asm.dynCall_iiifi.apply(null,arguments)},i.dynCall_viifi=function(){return i.asm.dynCall_viifi.apply(null,arguments)},i.dynCall_iiif=function(){return i.asm.dynCall_iiif.apply(null,arguments)},i.dynCall_vif=function(){return i.asm.dynCall_vif.apply(null,arguments)},i.dynCall_viiidiiii=function(){return i.asm.dynCall_viiidiiii.apply(null,arguments)},i.dynCall_viiidiii=function(){return i.asm.dynCall_viiidiii.apply(null,arguments)},i.dynCall_viiidii=function(){return i.asm.dynCall_viiidii.apply(null,arguments)},i.dynCall_viiiiidiiiii=function(){return i.asm.dynCall_viiiiidiiiii.apply(null,arguments)},i.dynCall_viiiiiidiiiii=function(){return i.asm.dynCall_viiiiiidiiiii.apply(null,arguments)},i.dynCall_viiiiiidiiii=function(){return i.asm.dynCall_viiiiiidiiii.apply(null,arguments)},i.dynCall_viiiiiidiii=function(){return i.asm.dynCall_viiiiiidiii.apply(null,arguments)},i.dynCall_viiiiiidii=function(){return i.asm.dynCall_viiiiiidii.apply(null,arguments)},i.dynCall_viiiiifii=function(){return i.asm.dynCall_viiiiifii.apply(null,arguments)},i.dynCall_viiifii=function(){return i.asm.dynCall_viiifii.apply(null,arguments)},i.dynCall_viiifi=function(){return i.asm.dynCall_viiifi.apply(null,arguments)},i.dynCall_iiiddiid=function(){return i.asm.dynCall_iiiddiid.apply(null,arguments)},i.dynCall_viiddiid=function(){return i.asm.dynCall_viiddiid.apply(null,arguments)},i.dynCall_iiiddii=function(){return i.asm.dynCall_iiiddii.apply(null,arguments)},i.dynCall_iiiddi=function(){return i.asm.dynCall_iiiddi.apply(null,arguments)},i.dynCall_iiiddiiid=function(){return i.asm.dynCall_iiiddiiid.apply(null,arguments)},i.dynCall_viiddiiid=function(){return i.asm.dynCall_viiddiiid.apply(null,arguments)},i.dynCall_iiiiiiiididiii=function(){return i.asm.dynCall_iiiiiiiididiii.apply(null,arguments)},i.dynCall_iiiiiiiiiiiii=function(){return i.asm.dynCall_iiiiiiiiiiiii.apply(null,arguments)},i.dynCall_viiiidiiddi=function(){return i.asm.dynCall_viiiidiiddi.apply(null,arguments)},i.dynCall_viiiiidiiddi=function(){return i.asm.dynCall_viiiiidiiddi.apply(null,arguments)},i.dynCall_viiiidiidd=function(){return i.asm.dynCall_viiiidiidd.apply(null,arguments)},i.dynCall_viiiiidiidd=function(){return i.asm.dynCall_viiiiidiidd.apply(null,arguments)},i.dynCall_viiiiidiid=function(){return i.asm.dynCall_viiiiidiid.apply(null,arguments)},i.dynCall_iiiifiii=function(){return i.asm.dynCall_iiiifiii.apply(null,arguments)},i.dynCall_viiifiii=function(){return i.asm.dynCall_viiifiii.apply(null,arguments)},i.dynCall_iiiifii=function(){return i.asm.dynCall_iiiifii.apply(null,arguments)},i.dynCall_iiiifi=function(){return i.asm.dynCall_iiiifi.apply(null,arguments)},i.dynCall_iiiiiddiddi=function(){return i.asm.dynCall_iiiiiddiddi.apply(null,arguments)},i.dynCall_viiiiddiddi=function(){return i.asm.dynCall_viiiiddiddi.apply(null,arguments)},i.dynCall_iiiiiddidd=function(){return i.asm.dynCall_iiiiiddidd.apply(null,arguments)},i.dynCall_viiiiddidd=function(){return i.asm.dynCall_viiiiddidd.apply(null,arguments)},i.dynCall_iiiiiddid=function(){return i.asm.dynCall_iiiiiddid.apply(null,arguments)},i.dynCall_viiiiddid=function(){return i.asm.dynCall_viiiiddid.apply(null,arguments)},i.dynCall_iiiiiddi=function(){return i.asm.dynCall_iiiiiddi.apply(null,arguments)},i.dynCall_iiiiidd=function(){return i.asm.dynCall_iiiiidd.apply(null,arguments)},i.dynCall_iifff=function(){return i.asm.dynCall_iifff.apply(null,arguments)},i.dynCall_vifff=function(){return i.asm.dynCall_vifff.apply(null,arguments)},i.dynCall_iiff=function(){return i.asm.dynCall_iiff.apply(null,arguments)},i.dynCall_viff=function(){return i.asm.dynCall_viff.apply(null,arguments)},i.dynCall_iif=function(){return i.asm.dynCall_iif.apply(null,arguments)},i.dynCall_iiifiiiiiii=function(){return i.asm.dynCall_iiifiiiiiii.apply(null,arguments)},i.dynCall_viifiiiiiii=function(){return i.asm.dynCall_viifiiiiiii.apply(null,arguments)},i.dynCall_iiifiiiiii=function(){return i.asm.dynCall_iiifiiiiii.apply(null,arguments)},i.dynCall_viifiiiiii=function(){return i.asm.dynCall_viifiiiiii.apply(null,arguments)},i.dynCall_iiifiiiii=function(){return i.asm.dynCall_iiifiiiii.apply(null,arguments)},i.dynCall_viifiiiii=function(){return i.asm.dynCall_viifiiiii.apply(null,arguments)},i.dynCall_iiifiiii=function(){return i.asm.dynCall_iiifiiii.apply(null,arguments)},i.dynCall_viifiiii=function(){return i.asm.dynCall_viifiiii.apply(null,arguments)},i.dynCall_iiifiii=function(){return i.asm.dynCall_iiifiii.apply(null,arguments)},i.dynCall_viifiii=function(){return i.asm.dynCall_viifiii.apply(null,arguments)},i.dynCall_iiifii=function(){return i.asm.dynCall_iiifii.apply(null,arguments)},i.dynCall_viifii=function(){return i.asm.dynCall_viifii.apply(null,arguments)},i.dynCall_iiffff=function(){return i.asm.dynCall_iiffff.apply(null,arguments)},i.dynCall_viffff=function(){return i.asm.dynCall_viffff.apply(null,arguments)},i.dynCall_viifff=function(){return i.asm.dynCall_viifff.apply(null,arguments)},i.dynCall_iiifff=function(){return i.asm.dynCall_iiifff.apply(null,arguments)},i.dynCall_viijii=function(){return i.asm.dynCall_viijii.apply(null,arguments)},i.dynCall_ji=function(){return i.asm.dynCall_ji.apply(null,arguments)},i.dynCall_viiiiiiiiiiddi=function(){return i.asm.dynCall_viiiiiiiiiiddi.apply(null,arguments)},i.dynCall_v=function(){return i.asm.dynCall_v.apply(null,arguments)},i.dynCall_viiiiiiiiidd=function(){return i.asm.dynCall_viiiiiiiiidd.apply(null,arguments)},i.dynCall_fi=function(){return i.asm.dynCall_fi.apply(null,arguments)},i.dynCall_jiii=function(){return i.asm.dynCall_jiii.apply(null,arguments)},i.dynCall_vifi=function(){return i.asm.dynCall_vifi.apply(null,arguments)},i.dynCall_vij=function(){return i.asm.dynCall_vij.apply(null,arguments)},i.dynCall_iiiiiifiididiii=function(){return i.asm.dynCall_iiiiiifiididiii.apply(null,arguments)},i.dynCall_viiidiiddi=function(){return i.asm.dynCall_viiidiiddi.apply(null,arguments)},i.dynCall_jii=function(){return i.asm.dynCall_jii.apply(null,arguments)},i.dynCall_viji=function(){return i.asm.dynCall_viji.apply(null,arguments)},i.dynCall_jiji=function(){return i.asm.dynCall_jiji.apply(null,arguments)},i.dynCall_iidiiii=function(){return i.asm.dynCall_iidiiii.apply(null,arguments)},i.dynCall_iiiiij=function(){return i.asm.dynCall_iiiiij.apply(null,arguments)},i.dynCall_iiiiijj=function(){return i.asm.dynCall_iiiiijj.apply(null,arguments)},i.dynCall_iiiiiijj=function(){return i.asm.dynCall_iiiiiijj.apply(null,arguments)},i.asm=Ne,i.getMemory=function(t){return G?Ve(t):function(t){var e=B[Y>>2],n=e+t+15&-16;return n>Se()&&nt(),B[Y>>2]=n,e}(t)},i.addRunDependency=tt,i.removeRunDependency=et,i.FS_createFolder=_t.createFolder,i.FS_createPath=_t.createPath,i.FS_createDataFile=_t.createDataFile,i.FS_createPreloadedFile=_t.createPreloadedFile,i.FS_createLazyFile=_t.createLazyFile,i.FS_createLink=_t.createLink,i.FS_createDevice=_t.createDevice,i.FS_unlink=_t.unlink,i.calledRun=je,i.then=function(t){if(je)t(i);else{var e=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){e&&e(),t(i)}}return i},$=function t(){je||Xe(),je||($=t)},i.run=Xe,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();function qe(t,e){this.x=void 0===t?0:t,this.y=void 0===e?0:e}function Je(){switch(arguments.length){case 0:this.center={x:0,y:0},this.size={width:0,height:0},this.angle=0;break;case 3:this.center=arguments[0],this.size=arguments[1],this.angle=arguments[2];break;default:throw new Error("Invalid arguments")}}function $e(t,e,n,r){this.push(void 0===t?0:t),this.push(void 0===e?0:e),this.push(void 0===n?0:n),this.push(void 0===r?0:r)}return Xe(),void 0===i.FS&&void 0!==_t&&(i.FS=_t),i.imread=function(e){var n,r=null,i=null;if((n="string"==typeof e?document.getElementById(e):e)instanceof HTMLImageElement)(r=document.createElement("canvas")).width=n.width,r.height=n.height,(i=r.getContext("2d",{willReadFrequently:!0})).drawImage(n,0,0,n.width,n.height);else{if(!(n instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas or img id.");i=(r=n).getContext("2d")}var o=i.getImageData(0,0,r.width,r.height);return t.matFromImageData(o)},i.imshow=function(e,n){var r=null;if(!((r="string"==typeof e?document.getElementById(e):e)instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas element or id.");if(!(n instanceof t.Mat))throw new Error("Please input the valid cv.Mat instance.");var i=new t.Mat,o=n.type()%8,a=o<=t.CV_8S?1:o<=t.CV_32S?1/256:255,s=o===t.CV_8S||o===t.CV_16S?128:0;switch(n.convertTo(i,t.CV_8U,a,s),i.type()){case t.CV_8UC1:t.cvtColor(i,i,t.COLOR_GRAY2RGBA);break;case t.CV_8UC3:t.cvtColor(i,i,t.COLOR_RGB2RGBA);break;case t.CV_8UC4:break;default:throw new Error("Bad number of channels (Source image must have 1, 3 or 4 channels)")}var l=new ImageData(new Uint8ClampedArray(i.data),i.cols,i.rows),c=r.getContext("2d");c.clearRect(0,0,r.width,r.height),r.width=l.width,r.height=l.height,c.putImageData(l,0,0),i.delete()},i.VideoCapture=function(e){var n;if(!((n="string"==typeof e?document.getElementById(e):e)instanceof HTMLVideoElement))throw new Error("Please input the valid video element or id.");var r=document.createElement("canvas");r.width=n.width,r.height=n.height;var i=r.getContext("2d");this.video=n,this.read=function(e){if(!(e instanceof t.Mat))throw new Error("Please input the valid cv.Mat instance.");if(e.type()!==t.CV_8UC4)throw new Error("Bad type of input mat: the type should be cv.CV_8UC4.");if(e.cols!==n.width||e.rows!==n.height)throw new Error("Bad size of input mat: the size should be same as the video.");i.drawImage(n,0,0,n.width,n.height),e.data.set(i.getImageData(0,0,n.width,n.height).data)}},i.Range=function(t,e){this.start=void 0===t?0:t,this.end=void 0===e?0:e},i.Point=qe,i.Size=function(t,e){this.width=void 0===t?0:t,this.height=void 0===e?0:e},i.Rect=function(){switch(arguments.length){case 0:this.x=0,this.y=0,this.width=0,this.height=0;break;case 1:var t=arguments[0];this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height;break;case 2:var e=arguments[0],n=arguments[1];this.x=e.x,this.y=e.y,this.width=n.width,this.height=n.height;break;case 4:this.x=arguments[0],this.y=arguments[1],this.width=arguments[2],this.height=arguments[3];break;default:throw new Error("Invalid arguments")}},Je.points=function(t){return i.rotatedRectPoints(t)},Je.boundingRect=function(t){return i.rotatedRectBoundingRect(t)},Je.boundingRect2f=function(t){return i.rotatedRectBoundingRect2f(t)},i.RotatedRect=Je,$e.prototype=new Array,$e.all=function(t){return new $e(t,t,t,t)},i.Scalar=$e,i.MinMaxLoc=function(){switch(arguments.length){case 0:this.minVal=0,this.maxVal=0,this.minLoc=new qe,this.maxLoc=new qe;break;case 4:this.minVal=arguments[0],this.maxVal=arguments[1],this.minLoc=arguments[2],this.maxLoc=arguments[3];break;default:throw new Error("Invalid arguments")}},i.Circle=function(){switch(arguments.length){case 0:this.center=new qe,this.radius=0;break;case 2:this.center=arguments[0],this.radius=arguments[1];break;default:throw new Error("Invalid arguments")}},i.TermCriteria=function(){switch(arguments.length){case 0:this.type=0,this.maxCount=0,this.epsilon=0;break;case 3:this.type=arguments[0],this.maxCount=arguments[1],this.epsilon=arguments[2];break;default:throw new Error("Invalid arguments")}},i.matFromArray=function(e,n,r,i){var o=new t.Mat(e,n,r);switch(r){case t.CV_8U:case t.CV_8UC1:case t.CV_8UC2:case t.CV_8UC3:case t.CV_8UC4:o.data.set(i);break;case t.CV_8S:case t.CV_8SC1:case t.CV_8SC2:case t.CV_8SC3:case t.CV_8SC4:o.data8S.set(i);break;case t.CV_16U:case t.CV_16UC1:case t.CV_16UC2:case t.CV_16UC3:case t.CV_16UC4:o.data16U.set(i);break;case t.CV_16S:case t.CV_16SC1:case t.CV_16SC2:case t.CV_16SC3:case t.CV_16SC4:o.data16S.set(i);break;case t.CV_32S:case t.CV_32SC1:case t.CV_32SC2:case t.CV_32SC3:case t.CV_32SC4:o.data32S.set(i);break;case t.CV_32F:case t.CV_32FC1:case t.CV_32FC2:case t.CV_32FC3:case t.CV_32FC4:o.data32F.set(i);break;case t.CV_64F:case t.CV_64FC1:case t.CV_64FC2:case t.CV_64FC3:case t.CV_64FC4:o.data64F.set(i);break;default:throw new Error("Type is unsupported")}return o},i.matFromImageData=function(e){var n=new t.Mat(e.height,e.width,t.CV_8UC4);return n.data.set(e.data),n},t});if("object"==typeof exports?t.exports=i:"function"==typeof define&&n.amdO?define([],(function(){return i})):"object"==typeof exports&&(exports.cv=i),void 0===o)var o={};return i(o)}))};class Gp extends Xa{constructor(t){super(),this.functionReflection=void 0,this.callbackReflection=void 0,this.debugMode=void 0,this.socket=void 0,this.socketAddress=void 0,this.enablePageReload=void 0,this.env=void 0,this.platform=void 0,this.isMobile=void 0,this.invoke=void 0,this.canvas=void 0,this.container=void 0,this.pixelRatio=void 0,this.statsMode=void 0,this.staticFps=void 0,this.useWorker=void 0,this.antialias=void 0,this.logarithmicDepthBuffer=void 0,this.preserveDrawingBuffer=void 0,this.enhanceSkills=void 0,this.resourceUsageLevel=void 0,this.enableAICapability=void 0,this.onClickSplitArea=void 0,this.onMapId=void 0,this.onClickRoom=void 0,this.onLaserMapPoints=void 0,this.onPosPoints=void 0,this.onSplitLine=void 0,this.onLongPressInAreaView=void 0,this.onLoggerInfo=void 0,this.onClickModel=void 0,this.onModelLoadingProgress=void 0,this.onMapLoadEnd=void 0,this.onClickRoomMoreProperties=void 0,this.onGestureChange=void 0,this.onClickRoomProperties=void 0,this.onClickMapView=void 0,this.onGlobalError=void 0,this.onScreenSnapshot=void 0,this.onVirtualInfoRendered=void 0,this.onRobotPositionChange=void 0,this.onRenderContextLost=void 0,this.onRenderContextRestored=void 0,this.onContainerVisibilityChange=void 0,this.onContainerPageReload=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.onClickMaterial=void 0,this.onClickInfoWindow=void 0,this.onCruiseStatusMapClick=void 0,this.onClickCustomLayer=void 0,this.onD3MapViewModeEnd=void 0,this.onBundleBinaryHandShake=void 0,this.indoorMap2d=void 0,this.createCanvasPromise=void 0,this.map=void 0,this.mapState=void 0,this.mapProps=void 0,this.forbidAreaData=void 0,this.virtualWallData=void 0,this.posPositionData=void 0,this.customLayerData=void 0,this.formatPathData=void 0,this.markerIcon=void 0,this.path=void 0,this.is3d=void 0,this.staticPrefix=void 0,this.pilePosition=void 0,this.nearLayer=void 0,this.mapWorker=void 0,this.pathWorker=void 0,this.pathWorkerArray=void 0,this.pathWorkerNum=void 0,this.mapWorkerArray=void 0,this.mapWorkerNum=void 0,this.initUseThreadMapStatus=!1,this.initUseThreadPathStatus=!1,this.bundleBinarySet=void 0,this.bundleBinaryCache=void 0,this.duringChangeView=!1,this.setUpFunctionReflection=()=>{const t={onDrawMapWithData:this.onDrawMapWithData,onDrawMapWithStructuredData:this.onDrawMapWithStructuredData,onDrawMapWithFn:this.onDrawMapWithFn,onDrawPathWithData:this.onDrawPathWithData,onDrawOriginPathWithFn:this.onDrawOriginPathWithFn,createPosPositionWithData:this.createPosPositionWithData,createForbidAreaWithData:this.createForbidAreaWithData,createVirtualWallWithData:this.createVirtualWallWithData,removeVirtualWallById:this.removeVirtualWallById,createCustomLayerWithData:this.createCustomLayerWithData,removeForbidAreaById:this.removeForbidAreaById,createOneCustomLayer:this.createOneCustomLayer,createOneVirtualWall:this.createOneVirtualWall,createOneForbidArea:this.createOneForbidArea,updateForbidAreaInfo:this.updateForbidAreaInfo,createOnePosPosition:this.createOnePosPosition,getMapSplitPoint:this.getMapSplitPoint,removePosPosition:this.removePosPosition,removePosPositionById:this.removePosPositionById,changeMapViewMode:this.changeMapViewMode,setD3EditMode:this.setD3EditMode,putModelInScene:this.putModelInScene,setFloorMaterial:this.setFloorMaterial,setPlaneFloorMaterialOnMap2d:this.setPlaneFloorMaterialOnMap2d,lockModelClick:this.lockModelClick,hideAllModelEditWrapper:this.hideAllModelEditWrapper,getAllModelInfo:this.getAllModelInfo,freezeMapUpdate:this.freezeMapUpdate,getModelInfo:this.getModelInfo,removeModelFromScene:this.removeModelFromScene,reCreatePathIntoScene:this.reCreatePathIntoScene,removePathFromScene:this.removePathFromScene,clearMap:this.clearMap,resizeMapView:this.resizeMapView,redrawMap:this.redrawMap,toggleMapViewVisible:this.toggleMapViewVisible,changeContainerColor:this.changeContainerColor,hideVirtualInfoLayer:this.hideVirtualInfoLayer,removeAllModelLayer:this.removeAllModelLayer,changeMapAreaColorWithNewConfig:this.changeMapAreaColorWithNewConfig,clearMapAreaColorWithNewConfig:this.clearMapAreaColorWithNewConfig,showPilePositionBreatheAnimation:this.showPilePositionBreatheAnimation,showRobotBreatheAnimation:this.showRobotBreatheAnimation,showRobotSleepAnimation:this.showRobotSleepAnimation,rotateViewRight:this.rotateViewRight,rotateViewLeft:this.rotateViewLeft,rotateViewScene:this.rotateViewScene,removeVirtualInfoLayer:this.removeVirtualInfoLayer,sceneRender:this.sceneRender,getMemoryInfo:this.getMemoryInfo,getCurrentScreenSnapshot:this.getCurrentScreenSnapshot,foldableSingleRoomInfoById:this.foldableSingleRoomInfoById,addLaserMapPosPoints:this.addLaserMapPosPoints,getMapAreaInfo:this.getMapAreaInfo,getAllMapAreaInfo:this.getAllMapAreaInfo,getMapAreaCount:this.getMapAreaCount,removeIndoorMapInstance:this.removeIndoorMapInstance,changeSplitMapState:this.changeSplitMapState,getLaserMapPointsInfo:this.getLaserMapPointsInfo,changeMapState:this.changeMapState,updateSelectRoom:this.updateSelectRoom,changeAllMapAreaColor:this.changeAllMapAreaColor,updateMapAreaColor:this.updateMapAreaColor,getCurrentMapState:this.getCurrentMapState,getCurrentMapCenter:this.getCurrentMapCenter,generateRandomSweepPoint:this.generateRandomSweepPoint,createAndPutSpriteIntoMap:this.createAndPutSpriteIntoMap,getMapPointsByPixelType:this.getMapPointsByPixelType,removeSpriteFromMap:this.removeSpriteFromMap,getCurrentRobotNDCPosition:this.getCurrentRobotNDCPosition,showPixelTypeOnMap2d:this.showPixelTypeOnMap2d,recoverPixelTypeOnMap2d:this.recoverPixelTypeOnMap2d,hideAllCarpetMaterial:this.hideAllCarpetMaterial,setShowBarrierFluorescenceOnMap2d:this.setShowBarrierFluorescenceOnMap2d,getSelectedAreaInfoList:this.getSelectedAreaInfoList,getPointsBySlopeAndCurrentRobotPosition:this.getPointsBySlopeAndCurrentRobotPosition,createOrUpdateTailLineForRobot:this.createOrUpdateTailLineForRobot,createInfoWindowLayer:this.createInfoWindowLayer,removeInfoWindowLayer:this.removeInfoWindowLayer,createCustomLayer:this.createCustomLayer,removeCustomLayer:this.removeCustomLayer,getAllCustomLayerInfo:this.getAllCustomLayerInfo,enableLayerMoveableEvent:this.enableLayerMoveableEvent};this.functionReflection=t},this.setUpCallbackReflection=()=>{const t={onMapInitThreadEnd:this.onMapInitThreadEnd,onClickSplitArea:this.onClickSplitArea,onMapId:this.onMapId,onClickRoom:this.onClickRoom,onClickModel:this.onClickModel,onModelLoadingProgress:this.onModelLoadingProgress,onMapLoadEnd:this.onMapLoadEnd,onPosPoints:this.onPosPoints,onSplitLine:this.onSplitLine,onClickRoomMoreProperties:this.onClickRoomMoreProperties,onClickRoomProperties:this.onClickRoomProperties,onClickMapView:this.onClickMapView,onLaserMapPoints:this.onLaserMapPoints,onScreenSnapshot:this.onScreenSnapshot,onVirtualInfoRendered:this.onVirtualInfoRendered,onLoggerInfo:this.onLoggerInfo,onClickMaterial:this.onClickMaterial,onClickInfoWindow:this.onClickInfoWindow,onCruiseStatusMapClick:this.onCruiseStatusMapClick,onClickCustomLayer:this.onClickCustomLayer,onD3MapViewModeEnd:this.onD3MapViewModeEnd,onContainerVisibilityChange:this.onContainerVisibilityChange,onContainerPageReload:this.onContainerPageReload};this.callbackReflection=t},this.getCvBinaryFromCache=async()=>{if(this.bundleBinaryCache&&this.enableAICapability&&"high"===this.resourceUsageLevel){const t=await this.bundleBinaryCache.getItem("cv");"string"!=typeof t||window.cv||(window.__INJECTED__BUNDLE__={},window.__INJECTED__BUNDLE__.wasmFile=t,zp(window.__INJECTED__BUNDLE__.wasmFile),this.debug.isDevMode&&this.logger.info("getCvBinaryFromCache executed successfully"))}},this.init=async()=>{try{const t={env:this.env,platform:this.platform,isMobile:this.isMobile,container:this.container,canvas:this.canvas,enablePageReload:this.enablePageReload,pixelRatio:this.pixelRatio,statsMode:this.statsMode,staticFps:this.staticFps,useWorker:this.useWorker,enhanceSkills:this.enhanceSkills,logarithmicDepthBuffer:this.logarithmicDepthBuffer,antialias:this.antialias,preserveDrawingBuffer:this.preserveDrawingBuffer,onLoggerInfo:this.onLoggerInfo,onGestureChange:this.onGestureChange,onClickMapView:this.onClickMapView,onGlobalError:this.onGlobalError,onScreenSnapshot:this.onScreenSnapshot,onRenderContextLost:this.onRenderContextLost,onRenderContextRestored:this.onRenderContextRestored,onContainerVisibilityChange:this.onContainerVisibilityChange,onContainerPageReload:this.onContainerPageReload},e=new Ja(t);return await e.init(),e&&(e.enable3dControls(!1),e.setTopScene(),this.indoorMap2d=e),!0}catch(t){this.logger.error("init ==>",t)}},this.createWebSocket=()=>{this.socket=new Qp(this.socketAddress,[],{debug:!1}),this.socket.addEventListener("open",this.socketOpen)},this.socketOpen=()=>{this.logger.info("WebSocket connect successful"),this.isMobile||this.socket.addEventListener("message",this.socketMessage)},this.socketMessage=t=>{if("string"==typeof t.data){const e=JSON.parse(t.data);this.passMessageFromInvokeFunction(e.name,this[e.name],e.args)}else if(t.data instanceof Blob){var e=new FileReader;e.readAsText(t.data),e.onload=t=>{const n=t.target.result,r=JSON.parse(n);this.passMessageFromInvokeFunction(r.name,this[r.name],r.args),e=null}}},this.passMessageFromInvokeFunction=(t,e,n)=>{if(this.isMobile&&this.socket&&this.socket.readyState===Qp.OPEN){const e=JSON.stringify({name:t,args:n});this.socket.send(e)}if(e)return kn(n)?e(...n):function(t){return void 0===t}(n)?e():e(n)},this.onMapInitThreadEnd=t=>{t&&this.afterInitMap()},this.onPathInitThreadEnd=t=>{t&&(this.initUseThreadPathStatus=!0)},this.removeThreadEvt=()=>{try{Va(this.env)&&(this.pathWorker&&(this.pathWorker.terminate(),this.pathWorker=null),this.mapWorker&&(this.mapWorker.terminate(),this.mapWorker=null))}catch(t){this.logger.warn("removeThreadEvt occur error ==>",t)}},this.afterInitMap=()=>{var t;null!=(t=this.map)&&t.layer?(this.indoorMap2d.map=this.map,this.indoorMap2d.scene.add(this.map.layer),this.createPilePosition(this.mapState,this.is3d),this.is3d?this.indoorMap2d.map.setD3ViewMode(!0):this.indoorMap2d.map.setD3ViewMode(!1),this.initUseThreadMapStatus=!0,this.indoorMap2d.redraw(),this.duringChangeView=!1,this.logger.info("afterInitMap function has been called")):this.logger.warn("afterInitMap function has been called: the map layer is still empty")},this.removeIndoorMapInstance=()=>{this.indoorMap2d&&this.clearCacheData(),this.removeThreadEvt(),this.removeBundleBinaryReceiveEvent(),this.removeBundleBinaryHandShakeEvent(),this.socket&&(this.socket.removeEventListener("open",this.socketOpen),this.socket.removeEventListener("message",this.socketMessage))},this.getMemoryInfo=()=>this.indoorMap2d?this.indoorMap2d.getMemoryInfo():{},this.getCurrentScreenSnapshot=()=>this.indoorMap2d?this.indoorMap2d.screenSnapshot(!0,!0):{},this.getCurrentRobotNDCPosition=()=>{if(this.path){const t=this.path.getRobotLayer();return t?t.getCurrentRobotNDCPosition():null}return null},this.getCurrentMapState=()=>this.indoorMap2d.map?this.indoorMap2d.map.getCurrentMapState():null,this.getCurrentMapCenter=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getCurrentMapCenter()},this.sceneRender=t=>{this.indoorMap2d&&this.indoorMap2d.sceneRender(t)},this.clearCacheData=()=>{this.clearMap(),this.indoorMap2d.cancelAnimation(),this.indoorMap2d.removeIndoorMap2DEvent(),this.functionReflection=null,this.callbackReflection=null,this.invoke=null,this.canvas=null,this.container=null,this.indoorMap2d=null},this.rotateViewScene=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewScene(t)},this.rotateViewRight=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewRight(t)},this.rotateViewLeft=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewLeft(t)},this.removeVirtualInfoLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeVirtualInfoLayer(t)},this.invokeEventFunction=()=>{this.invoke&&this.functionReflection&&Object.keys(this.functionReflection).forEach((t=>{this.invoke.define(t,((...e)=>this.passMessageFromInvokeFunction(t,this.functionReflection[t],e)))}))},this.changeContainerColor=(t,e)=>{if(this.indoorMap2d){const n=Hs(t);let r=this.is3d;void 0!==e&&(r=e),r?this.indoorMap2d.setD3BgColor(n):this.indoorMap2d.setBgColor(n)}},this.addLaserMapPosPoints=t=>{if(this.indoorMap2d&&this.indoorMap2d.map)return this.createOnePosPosition(t,this.indoorMap2d.map.appointIcon,this.indoorMap2d.map.is3d)},this.createForbidAreaWithData=async(t,e=!1)=>{var n;this.forbidAreaData=[...t];const r=this.is3d||e;if(this.logger.info("called createForbidAreaWithData function",t,this.is3d,r),null!=(n=this.map)&&n.layer){this.removeAllForbidAreaData();const e=[];return t&&t.forEach((t=>{const n=this.createOneForbidArea(t,r);e.push(n)})),this.map.checkDataUploadAfterCreate(),e}{const t=()=>new Promise((t=>{const e=[],n=setInterval((()=>{var i;null!=(i=this.map)&&i.layer&&(n&&clearInterval(n),this.removeAllForbidAreaData(),this.forbidAreaData&&this.forbidAreaData.forEach((t=>{const n=this.createOneForbidArea(t,r);e.push(n)})),this.map.checkDataUploadAfterCreate(),t(e))}),200)}));return await t()}},this.removeAllForbidAreaData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Ut.areaSet||t.dataInfo.type===Ut.virtualArea)).forEach((t=>{const e=t.removeForbidArea();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removeForbidAreaById=t=>{this.map&&this.map.areaInfo.filter((e=>(e.dataInfo.type===Ut.areaSet||e.dataInfo.type===Ut.virtualArea)&&e.dataInfo.data.id===t)).forEach((t=>{const e=t.removeForbidArea();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.createOneForbidArea=(t,e=!1)=>{const n=this.is3d||e;if(this.logger.info("call createOneForbidArea function",t,this.is3d,n),this.indoorMap2d&&this.indoorMap2d.map){var r,i,o,a,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b,x,M,L,C,E,B,S,T,D,I,P,F,k,R,U,O,H,Y,Q,N,j,W,V,z,G,K,Z,X;const{minAreaWidth:e=(null==(r=this.mapState)?void 0:r.minAreaWidth),isRotate:q=(null==(i=this.mapState)?void 0:i.isRotate),factor:J=(null==(o=this.mapState)||null==(o=o.factorInfo)?void 0:o.factor),font:$=(null==(a=this.mapState)||null==(a=a.factorInfo)?void 0:a.font),color:tt=(null==(s=this.mapState)||null==(s=s.factorInfo)?void 0:s.color),area:et}=t,nt={id:et.id,text:null==(l=et.content)?void 0:l.text,renameEnable:null==(c=et.content)?void 0:c.renameEnable,deleteEnable:void 0===(null==(u=et.content)?void 0:u.deleteEnable)||(null==(A=et.content)?void 0:A.deleteEnable),minAreaWidth:void 0!==(null==(h=et.box)?void 0:h.minAreaWidth)?null==(d=et.box)?void 0:d.minAreaWidth:e,minAreaHeight:void 0!==(null==(p=et.box)?void 0:p.minAreaHeight)?null==(f=et.box)?void 0:f.minAreaHeight:e,maxAreaWidth:void 0!==(null==(m=et.box)?void 0:m.maxAreaWidth)?null==(g=et.box)?void 0:g.maxAreaWidth:1/0,maxAreaHeight:void 0!==(null==(y=et.box)?void 0:y.maxAreaHeight)?null==(v=et.box)?void 0:v.maxAreaHeight:1/0,points:et.points,isRotate:void 0!==(null==(_=et.content)?void 0:_.rotateEnable)?null==(w=et.content)?void 0:w.rotateEnable:q,is3d:n,borderColor:null==(b=et.box)?void 0:b.borderColor,bgColor:null==(x=et.box)?void 0:x.bgColor,isDash:null==(M=et.box)?void 0:M.isDash,dashSize:null==(L=et.box)?void 0:L.dashSize,gapSize:null==(C=et.box)?void 0:C.gapSize,lineWidth:null==(E=et.box)?void 0:E.lineWidth,useImageSizeAsAreaSizeLimit:void 0!==(null==(B=et.box)?void 0:B.useImageSizeAsAreaSizeLimit)&&(null==(S=et.box)?void 0:S.useImageSizeAsAreaSizeLimit),imageMode:void 0!==(null==(T=et.content)?void 0:T.imageMode)?null==(D=et.content)?void 0:D.imageMode:"static",imagePadding:void 0!==(null==(I=et.content)?void 0:I.imagePadding)?null==(P=et.content)?void 0:P.imagePadding:10,image:null==(F=et.content)?void 0:F.image,imageSize:null==(k=et.content)?void 0:k.imageSize,imageScale:null==(R=et.content)?void 0:R.imageScale,imageIsScale:null==(U=et.content)?void 0:U.imageIsScale,textColor:null==(O=et.content)?void 0:O.textColor,textSize:null==(H=et.content)?void 0:H.textSize,textPosition:null==(Y=et.content)?void 0:Y.position,showVertexImage:null==(Q=et.vertex)?void 0:Q.showVertexImage,vertexType:null==(N=et.vertex)?void 0:N.vertexType,vertexImages:null==(j=et.vertex)?void 0:j.vertexImages,vertexColor:null==(W=et.vertex)?void 0:W.vertexColor,vertexExtendTimes:null==(V=et.vertex)?void 0:V.vertexExtendTimes,radius:null==(z=et.vertex)?void 0:z.radius,showUnitText:null==(G=et.unit)?void 0:G.showUnitText,unitTextFontSize:null==(K=et.unit)?void 0:K.textSize,unitTextColor:null==(Z=et.unit)?void 0:Z.textColor,unitPosition:null==(X=et.unit)?void 0:X.position,factor:J,font:$,color:tt,extend:et.extend,areaType:et.type,type:et.type,origin:this.map.origin,viewType:et.viewType,visible:void 0===et.visible||et.visible},rt={indoorMap2d:this.indoorMap2d,showEditable:this.indoorMap2d.map.edit,...nt,onLongPressInAreaView:this.onLongPressInAreaView,onLaserMapPoints:this.onLaserMapPoints,onLoggerInfo:this.onLoggerInfo,onVirtualInfoOutOfBoundingBox:this.onVirtualInfoOutOfBoundingBox},it=new kl(rt),ot=it.getDataInfo();return this.map.addSweepLayer(it),this.map.checkDataUploadAfterCreate(),ot}return null},this.updateForbidAreaInfo=t=>{var e;const n=this.map.areaInfo.filter((t=>t.dataInfo.type===Ut.areaSet||t.dataInfo.type===Ut.virtualArea)),r=n.findIndex((e=>e.id===t.id));void 0!==(null==(e=t.content)?void 0:e.text)&&n[r].updateText(t.content.text)},this.createVirtualWallWithData=async(t,e=!1)=>{var n;this.virtualWallData=[...t];const r=this.is3d||e;if(this.logger.info("called createVirtualWallWithData function",t,this.is3d,r),null!=(n=this.map)&&n.layer){this.removeAllVirtualWallData();const e=[];return t&&t.forEach((t=>{const n=this.createOneVirtualWall(t,r);e.push(n)})),this.map.checkDataUploadAfterCreate(),e}{const t=()=>new Promise((t=>{const e=[],n=setInterval((()=>{var i;null!=(i=this.map)&&i.layer&&(n&&clearInterval(n),this.removeAllVirtualWallData(),this.virtualWallData&&this.virtualWallData.forEach((t=>{const n=this.createOneVirtualWall(t,r);e.push(n)})),this.map.checkDataUploadAfterCreate(),t(e))}),200)}));return await t()}},this.removeAllVirtualWallData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Ut.virtualWall)).forEach((t=>{const e=t.removeVirtualWall();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removeVirtualWallById=t=>{if(this.map){const e=(this.map.areaInfo||[]).filter((e=>{const{type:n,data:r}=e.dataInfo;return n===Ut.virtualWall&&r.id===t}));e.forEach((t=>{const e=t.removeVirtualWall();-1!==e&&this.map.removeFromAreaInfo(e)}))}},this.createCustomLayerWithData=async(t,e)=>{var n;if(this.customLayerData=[...t],this.logger.info("createCustomLayerWithData ==>",t),null!=(n=this.map)&&n.layer){this.removeAllCustomLayerWithData();const n=[];return t&&t.forEach((t=>{const r=this.createOneCustomLayer(t,e);n.push(r)})),this.map.checkDataUploadAfterCreate(),n}{const t=()=>new Promise((t=>{const n=[],r=setInterval((()=>{var i;null!=(i=this.map)&&i.layer&&(r&&clearInterval(r),this.removeAllCustomLayerWithData(),this.customLayerData&&this.customLayerData.forEach((t=>{const r=this.createOneCustomLayer(t,e);n.push(r)})),this.map.checkDataUploadAfterCreate(),t(n))}),200)}));return await t()}},this.createOneCustomLayer=(t,e)=>{if(this.indoorMap2d&&this.indoorMap2d.map){const e={x:t.points[0].x,y:t.points[0].y,containElement:t.containElement,attributes:t.attributes},n={indoorMap2d:this.indoorMap2d,edit:this.indoorMap2d.map.edit,origin:this.indoorMap2d.map.origin,center:this.indoorMap2d.map.center,onClickCustomLayer:this.onClickCustomLayer,onLoggerInfo:this.onLoggerInfo,...e},r=new Ip(n),i=r.getDataInfo();return this.map.addSweepLayer(r),this.map.checkDataUploadAfterCreate(),i}return null},this.removeAllCustomLayerWithData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Nt.CustomLayer)).forEach((t=>{const e=t.removeCustomLayerFromScene();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.createOneVirtualWall=(t,e=!1)=>{const n=this.is3d||e;if(this.logger.info("called createOneVirtualWall function",t,this.is3d,n),this.indoorMap2d&&this.indoorMap2d.map){var r,i,o,a,s,l,c,u,A,h,d,p,f,m,g,y,v;const{factor:e=(null==(r=this.mapState)||null==(r=r.factorInfo)?void 0:r.factor),font:_=(null==(i=this.mapState.factorInfo)?void 0:i.font),color:w=(null==(o=this.mapState)?void 0:o.factorInfo.color),area:b}=t,x={id:b.id,is3d:n,points:b.points,factor:e,font:_,color:w,lineWidth:null==(a=b.line)?void 0:a.lineWidth,isDash:null==(s=b.line)?void 0:s.isDash,dashSize:null==(l=b.line)?void 0:l.dashSize,gapSize:null==(c=b.line)?void 0:c.gapSize,bgColor:Hs(null==(u=b.line)?void 0:u.bgColor),showVertexImage:null==(A=b.vertex)?void 0:A.showVertexImage,sideVertex:b.sideVertex,vertexType:null==(h=b.vertex)?void 0:h.vertexType,visible:void 0===b.visible||b.visible,vertexImages:null==(d=b.vertex)?void 0:d.vertexImages,vertexColor:null==(p=b.vertex)?void 0:p.vertexColor,radius:null==(f=b.vertex)?void 0:f.radius,vertexExtendTimes:null==(m=b.vertex)?void 0:m.vertexExtendTimes,showUnitText:null==(g=b.unit)?void 0:g.showUnitText,unitTextFontSize:null==(y=b.unit)?void 0:y.textSize,unitTextColor:null==(v=b.unit)?void 0:v.textColor,extend:b.extend,origin:this.map.origin},M={indoorMap2d:this.indoorMap2d,showEditable:this.indoorMap2d.map.edit,onLaserMapPoints:this.onLaserMapPoints,onLoggerInfo:this.onLoggerInfo,onVirtualInfoOutOfBoundingBox:this.onVirtualInfoOutOfBoundingBox,...x},L=new bl(M),C=L.getDataInfo();return this.map.addSweepLayer(L),this.map.checkDataUploadAfterCreate(),C}return null},this.createOnePosPosition=(t,e,n=!1)=>{if(this.is3d,this.indoorMap2d&&this.indoorMap2d.map){this.posPositionData.push(t);const{points:n,pos:r,unit:i,visible:o}=t,{x:a,y:s}=n[0];if(this.map.shouldCreatePosToRun()){let n;this.indoorMap2d.sceneRender(!1),r&&(n={...r,unit:i});const l=!!n,c=new Rl({id:t.id,indoorMap2d:this.indoorMap2d,animate:!1,origin:this.map.origin,position:new $t.Vector2(a,s),appointIcon:e,isScale:l,posParams:n,scale:.02*this.indoorMap2d.getFitScale(),visible:void 0===o||o,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo});return this.map.addSweepLayer(c),this.sceneRender(!0),c.getDataInfo()}}return null},this.removePosPosition=()=>{this.map&&this.removeAllPosPosition()},this.removeAllPosPosition=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Ut.pressToRun)).forEach((t=>{const e=t.removePosPosition();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removePosPositionById=t=>{if(this.map){const e=(this.map.areaInfo||[]).filter((e=>{const{type:n,data:r}=e.dataInfo;return n===Ut.pressToRun&&r.id===t}));e.forEach((e=>{this.logger.info("removePosPositionById ==>9999",e.dataInfo,t);const n=e.removePosPosition();-1!==n&&this.map.removeFromAreaInfo(n)}))}},this.createPosPositionWithData=async(t,e,n=!1)=>{var r;const i=this.is3d||n;if(this.posPositionData=[...t],null!=(r=this.map)&&r.layer){this.removeAllPosPosition(),this.posPositionData=[];const n=[];return t&&t.forEach((t=>{const r=this.createOnePosPosition(t,e,i);n.push(r)})),n}{const t=()=>new Promise((t=>{const n=[],r=setInterval((()=>{var o;null!=(o=this.map)&&o.layer&&(r&&clearInterval(r),this.removeAllPosPosition(),this.posPositionData&&this.posPositionData.forEach((t=>{const r=this.createOnePosPosition(t,e,i);n.push(r)})),t(n))}),200)}));return await t()}},this.changeMapViewMode=t=>{var e,n,r,i,o;this.logger.info("called changeMapViewMode function",t),this.duringChangeView=!0,null!=(e=this.indoorMap2d.map)&&e.layer&&(null==(n=this.pilePosition)||n.removePilePosition(),null==(r=this.nearLayer)||r.removeNearCircle(),null==(i=this.path)||i.removeCleanPathRobotLayer(),null==(o=this.path)||o.removeCleanPath(),this.removeAllPosPosition(),this.indoorMap2d.map.removeAllModelLayer(),this.indoorMap2d.map.removeMap(),this.indoorMap2d.map=null,this.pilePosition=null,this.nearLayer=null,this.path=null,this.map=null,this.initUseThreadMapStatus=!1,this.initUseThreadPathStatus=!1),this.is3d=t,this.mapState.is3d=this.is3d,this.createNewMap(this.mapState);const a=setInterval((()=>{var t;null!=(t=this.map)&&t.layer&&(a&&clearInterval(a),this.createNewPath(this.formatPathData,this.markerIcon,this.is3d),this.createForbidAreaWithData(this.forbidAreaData,this.is3d),this.createVirtualWallWithData(this.virtualWallData,this.is3d))}),200)},this.setD3EditMode=(t,e)=>{e=e||"3d",this.indoorMap2d.map.setD3EditMode(t,e),this.pilePosition&&"3d"===e&&(this.pilePosition.removePilePosition(),this.pilePosition=null)},this.showPilePositionBreatheAnimation=(t,e)=>{this.pilePosition&&this.pilePosition.showBreathe(!t,e)},this.showRobotBreatheAnimation=(t,e)=>{this.path&&this.path.getRobotLayer()&&this.path.getRobotLayer().showBreathe(!t,e)},this.showRobotSleepAnimation=t=>{this.path&&this.path.getRobotLayer()&&this.path.getRobotLayer().showSleepBreathe(!t)},this.putModelInScene=async(t,e)=>{try{if(this.indoorMap2d.map){const n=this.indoorMap2d.map.getCenter(),r=this.indoorMap2d.map.origin,i=!e||!e.point,o=e&&e.point?new $t.Vector3(Number(e.point.x),Number(e.point.y),0):{x:n.x-r.x,y:n.y-r.y,z:0},a={infoKey:e.infoKey,info:e.info,scale:e&&e.scale?e.scale:1,rotate:e&&e.rotate?e.rotate:0,origin:e&&e.origin?e.origin:{x:0,y:0},point:o};if(this.indoorMap2d.map.modelLoader){const e=await this.indoorMap2d.map.modelLoader.loadModelLayer(t,a,i);return e&&e.layer?(this.indoorMap2d.map.addModelLayer(e),{target:e.layer.id,value:t.value}):null}return null}return this.logger.info("the map is still init."),null}catch(t){this.logger.error("putModelInScene occur error ==>",t)}},this.setFloorMaterial=(t,e)=>null,this.setPlaneFloorMaterialOnMap2d=t=>{if(this.indoorMap2d.map)return{target:this.indoorMap2d.map.setPlaneFloorMaterialOnMap2d(t).layer.id,value:t.value}},this.lockModelClick=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.lockModelClick(t)},this.getAllModelInfo=()=>this.indoorMap2d.map?this.indoorMap2d.map.getAllModelInfo():[],this.hideAllModelEditWrapper=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideAllModelEditWrapper()},this.freezeMapUpdate=t=>{if(this.indoorMap2d.map){if(this.indoorMap2d.map.freezeMapUpdate(t),this.logger.info("called freezeMapUpdate function ==>",t),!t&&this.mapState){const t=this.constantParams(this.mapState,this.is3d);this.indoorMap2d.map.updateLaserMap(t),this.indoorMap2d.updateEnhanceSkills(t.enhanceSkills)}this.path&&!t&&this.formatPathData&&this.path.updateCleanPathPoints(this.formatPathData)}},this.getModelInfo=t=>this.indoorMap2d.map?this.indoorMap2d.map.getModelInfo(t):null,this.removeModelFromScene=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeModelLayer(t)},this.removePathFromScene=()=>{this.path&&this.path.removeCleanPathChild()},this.removeAllModelLayer=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeAllModelLayer()},this.reCreatePathIntoScene=()=>{this.formatPathData&&this.markerIcon?(this.path&&(this.path.removeCleanPathRobotLayer(),this.path.removeCleanPath(),this.path=null),this.createNewPath(this.formatPathData,this.markerIcon,this.is3d)):this.logger.warn("reCreatePathIntoScene No pathData or markerIcon")},this.clearMap=()=>{if(this.isMobile&&this.socket&&this.socket.readyState===Qp.OPEN){const t=JSON.stringify({name:"clearMap"});this.socket.send(t)}var t,e,n,r,i,o;this.map&&(this.removeAllForbidAreaData(),this.removeAllVirtualWallData(),null==(t=this.path)||t.removeCleanPathRobotLayer(),null==(e=this.path)||e.removeCleanPath(),null==(n=this.pilePosition)||n.removePilePosition(),null==(r=this.nearLayer)||r.removeNearCircle(),this.removeAllPosPosition(),null==(i=this.map)||i.removeAllModelLayer(),null==(o=this.map)||o.removeMap(),this.map=null,this.forbidAreaData=[],this.virtualWallData=[],this.posPositionData=[],this.formatPathData=null,this.markerIcon=null,this.path=null,this.pilePosition=null,this.nearLayer=null,this.mapState=null)},this.resizeMapView=()=>{this.indoorMap2d&&this.indoorMap2d.resize()},this.redrawMap=()=>{this.indoorMap2d&&this.indoorMap2d.redraw()},this.toggleMapViewVisible=t=>{const e=t?"block":"none";this.indoorMap2d&&this.indoorMap2d.container&&(this.indoorMap2d.container.style.display=e)},this.postBundleBinary=async t=>{window.__INJECTED__BUNDLE__||fetch(t+"/smart/robot/front/binary.txt").then((t=>t.ok?t.text():Promise.reject())).then((t=>{Ya("bundleBinaryReceive",{type:"end",data:{key:"wasmBinaryFile",binary:t}})})).catch((t=>{console.error(":",t)}))},this.onBundleBinaryReceiveEvent=t=>{try{const{type:e}=t,{key:n,binary:r}=t.data;this.logger.info("onBundleBinaryReceiveEvent",n,e),"end"===e&&"wasmBinaryFile"===n&&(window.cv?this.logger.info("bundle has been existed"):(window.__INJECTED__BUNDLE__={},window.__INJECTED__BUNDLE__.wasmFile=r,zp(window.__INJECTED__BUNDLE__.wasmFile),this.bundleBinaryCache.setItem("cv",r),this.logger.info("executed bundle binary")))}catch(t){this.logger.error("onBundleBinaryReceiveEvent",t)}},this.registerBundleBinaryReceiveEvent=()=>{Ha("bundleBinaryReceive",this.onBundleBinaryReceiveEvent)},this.removeBundleBinaryReceiveEvent=()=>{Qa("bundleBinaryReceive",this.onBundleBinaryReceiveEvent)},this.registerBundleBinaryHandShakeEvent=()=>{Ha("bundleBinaryHandShake",this.onBundleBinaryHandShakeEvent)},this.removeBundleBinaryHandShakeEvent=()=>{Qa("bundleBinaryHandShake",this.onBundleBinaryHandShakeEvent)},this.onDrawMapWithData=t=>{var e;if(t.useStructuredMode)this.logger.warn("useStructuredMode is true, do not use onDrawMapWithData, please use onDrawMapWithStructuredData instead");else if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawMapWithData");else{if(this.isMobile&&this.socket&&this.socket.readyState===Qp.OPEN){const e=JSON.stringify({name:"onDrawMapWithData",args:t});this.socket.send(e)}if(null!=(e=this.map)&&e.layer){this.mapState=t;const e=this.constantParams(t,t.is3d);this.map.updateLaserMap(e),this.createPilePosition(t,t.is3d),this.indoorMap2d.updateEnhanceSkills(e.enhanceSkills)}else this.mapState=t,this.map||this.createNewMap(t)}},this.onDrawMapWithStructuredData=t=>{var e;if(this.isMobile&&this.socket&&this.socket.readyState===Qp.OPEN){const e=JSON.stringify({name:"onDrawMapWithStructuredData",args:t});this.socket.send(e)}if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawMapWithData");else if(null!=(e=this.map)&&e.layer){this.mapState=t;const e=this.constantParams(t,t.is3d);this.map.updateLaserMap(e),this.createPilePosition(t,t.is3d),this.indoorMap2d.updateEnhanceSkills(e.enhanceSkills)}else this.mapState=t,this.map||this.createNewMap(t)},this.onMapThreadEvt=t=>{const{mapStateMap:e,textureObject:n,mapIdentify:r,timestamp:i=(new Date).getTime()}=t,o=(new Date).getTime();this.logger.info("asynchronous decode map origin data time ==>",o-i),this.mapProps.mapData.map=e,this.mapProps.mapData.textureObject=n,delete this.mapProps.mapData.decodeMapDataFn,this.onDrawMapWithData(this.mapProps);let a=null;if(void 0!==r){const t=this.mapWorkerArray.findIndex((t=>t.mapIdentify===r));-1!==t?t!==this.mapWorkerArray.length-1?(a=this.mapWorkerArray.pop(),this.mapWorkerArray=[a]):this.mapWorkerArray.pop():this.mapWorkerArray.length&&(a=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[a])}if(a){const t=Object.assign({},a);this.mapProps=Object.assign({},t.mapProps),delete t.mapProps,this.mapWorker.postMessage(t)}},this.onDrawMapWithFn=t=>{try{if(t.useStructuredMode)return void this.logger.warn("useStructuredMode is true, do not use onDrawMapWithFn, please use onDrawMapWithStructuredData instead");if(this.duringChangeView)return void this.logger.warn("duringChangeView is true, do not use onDrawMapWithFn");let e=t;const n=t.mapData,r=void 0===t.initUseThread||t.initUseThread;if(null!=t&&t.timestamp&&"number"==typeof t.timestamp){const e=(new Date).getTime();this.debug.isDevMode&&this.logger.warn("transfer map data cost time ==>",e-t.timestamp)}if(null!=n&&n.decodeMapDataFn){const t=r||this.initUseThreadMapStatus;if(Va(this.env)&&this.useWorker&&t&&(this.mapWorker||(this.mapWorker=Ka(jp),this.mapWorker.onMessage(this.onMapThreadEvt))),this.mapWorker&&t){const t=(new Date).getTime(),r={mapIdentify:this.mapWorkerNum++,decodeMapDataFn:n.decodeMapDataFn,mapProps:e,timestamp:t};if(this.mapWorkerArray.length)return void this.mapWorkerArray.push(r);this.mapWorkerArray.push(r);const i=Object.assign({},r);this.mapProps=Object.assign({},i.mapProps),delete i.mapProps,this.mapWorker.postMessage(i)}else{const t=(new Date).getTime(),r=new(Function||window.Function)(n.decodeMapDataFn),{mapStateMap:i,textureObject:o}=r(),a=(new Date).getTime();this.logger.info("synchronous decode map data time ==>",a-t),n.map=i,n.textureObject=o,delete n.decodeMapDataFn,e.mapData=n,this.onDrawMapWithData(e)}}else this.onDrawMapWithData(t)}catch(t){throw this.logger.warn("onDrawMapWithFn occur an error ==>",t),t}},this.changeMapState=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeMapState(t,e)},this.changeAllMapAreaColor=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeAllMapAreaColor(t)},this.updateMapAreaColor=(t,e,n=!1)=>{this.indoorMap2d.map&&this.indoorMap2d.map.updateMapAreaColor(t,e,n)},this.changeMapAreaColorWithNewConfig=(t,e,n)=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeMapAreaColorWithNewConfig(t,e,n)},this.clearMapAreaColorWithNewConfig=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.clearMapAreaColorWithNewConfig()},this.changeSplitMapState=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeSplitMapState(t)},this.getLaserMapPointsInfo=t=>this.indoorMap2d.map?this.indoorMap2d.map.getLaserMapPointsInfo(t):null,this.hideVirtualInfoLayer=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideForbidOrWallLayer(t,e)},this.removeVirtualInfoLayer=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeVirtualInfoLayer(t)},this.getMapAreaInfo=(t,e,n)=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getMapAreaInfo(t,e,n)},this.getAllMapAreaInfo=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getAllMapAreaInfo(t)},this.getMapAreaCount=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getMapAreaCount()},this.foldableSingleRoomInfoById=(t,e,n)=>{this.indoorMap2d.map&&this.indoorMap2d.map.foldableSingleRoomInfoById(t,e,n)},this.updateSelectRoom=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.updateSelectRoomByIds(t,e)},this.constantParams=(t,e)=>{var n;const r=this.callbackPropsDispatch(),i=t.useStructuredMode?t.mapStructuredData:t.mapData;return this.is3d=t.is3d,i.staticPrefix&&""===this.staticPrefix&&(this.postBundleBinary(i.staticPrefix),this.staticPrefix=i.staticPrefix),{mapState:i,useStructuredMode:t.useStructuredMode,staticPrefix:i.staticPrefix||"",dataMapId:i.dataMapId,mapId:t.mapId,asynchronousLoadMap:void 0===t.asynchronousLoadMap||t.asynchronousLoadMap,areaInfoList:t.areaInfoList,factor:(null==(n=t.factorInfo)?void 0:n.factor)||.05,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,resourceUsageLevel:this.resourceUsageLevel,enableAICapability:this.enableAICapability,container:this.container,initUseThread:void 0===t.initUseThread||t.initUseThread,initUseParserCache:void 0!==t.initUseParserCache&&t.initUseParserCache,splitColor:Hs(t.splitColor||"#FF000000"),selectedParams:t.selectedParams||{checkedIcon:{checkedIconEnable:!1}},splitLineParams:t.splitLineParams||{vertex:{},checkedIcon:{checkedIconEnable:!0}},mergeRoomParams:t.mergeRoomParams||{checkedIcon:{checkedIconEnable:!0}},orderParams:t.orderParams||{orderType:"default"},planPathColor:Hs(t.planPathColor||"#FFFFFFFF"),pathLinearAnimate:void 0!==t.pathLinearAnimate&&t.pathLinearAnimate,pathWidth:t.pathWidth,pathVisible:void 0===t.pathVisible||t.pathVisible,appointIcon:t.appointIcon,is3d:e,enhanceSkills:t.enhanceSkills||[],d3BgColor:Hs(t.d3BgColor||"#FFFFFFFF"),bgColor:Hs(t.bgColor||"#FFFFFFFF"),d3WallColor:t.d3WallColor||"#FFE1E1E1",d3FloorColor:t.d3FloorColor||"#FFCACBD2",d3WallTexture:t.d3WallTexture||void 0,d3EditWrapperParams:t.d3EditWrapperParams,maxRoomPropertyLength:void 0!==t.maxRoomPropertyLength?t.maxRoomPropertyLength:3,selectRoomData:t.selectRoomData,showSelectRoomOrder:void 0===t.showSelectRoomOrder||t.showSelectRoomOrder,platform:this.platform,posParams:t.posParams||void 0,d3CarpetMaterial:t.d3CarpetMaterial||{},rotateMapAngle:t.rotateMapAngle||0,multiplePosPosition:void 0!==t.multiplePosPosition&&t.multiplePosPosition,...r}},this.callbackPropsDispatch=()=>{let t={};return this.callbackReflection&&Object.keys(this.callbackReflection).forEach((e=>{t[e]=(...t)=>this.passMessageFromInvokeFunction(e,this.callbackReflection[e],t)})),t},this.createNewMap=async t=>{var e;await this.createCanvasPromise,this.is3d&&this.indoorMap2d.forceFpsDownToStaticFps(5);const n=this.constantParams(t,t.is3d);null==(e=this.indoorMap2d)||e.updateEnhanceSkills(n.enhanceSkills),this.map=new Pp(n)},this.createPilePosition=(t,e=!1)=>{const n=t.useStructuredMode?t.mapStructuredData:t.mapData,r=t.pilePosition,i=this.is3d||e;if(this.pilePosition)if(r&&void 0!==r.x&&void 0!==r.y){this.pilePosition.hidePilePosition(!1),this.pilePosition.updatePilePosition(r,n.origin);const{theta:t=0,startTheta:e=0}=r,i=(t-e)*Math.PI/180;this.pilePosition.updatePilePositionDirection(i)}else this.pilePosition.hidePilePosition(!0);else if(r&&void 0!==r.x&&void 0!==r.y){var o,a,s,l,c,u,A;const e=void 0!==(null==(o=r.iconParams)?void 0:o.pileIcon)?null==(a=r.iconParams)?void 0:a.pileIcon:t.pileIcon,h=void 0!==(null==(s=r.iconParams)?void 0:s.isScale)&&(null==(l=r.iconParams)?void 0:l.isScale),d=void 0!==(null==(c=r.iconParams)?void 0:c.scale)?null==(u=r.iconParams)?void 0:u.scale:.01,p={indoorMap2d:this.indoorMap2d,is3d:i,origin:n.origin,pileIcon:e,isScale:h,scale:d*this.indoorMap2d.getFitScale(),position:r,animation:r.animation,onLoggerInfo:this.onLoggerInfo,pileModelHref:r.pileModelHref};this.pilePosition=new Ns(p),null==(A=this.map.layer)||A.add(this.pilePosition.layer);const{theta:f=0,startTheta:m=0}=r,g=(f-m)*Math.PI/180;this.pilePosition.updatePilePositionDirection(g)}var h;r&&void 0!==r.hidden?r.hidden?this.nearLayer&&this.nearLayer.hideNearCircle(!0):this.nearLayer&&void 0!==r.x&&void 0!==r.y?(this.nearLayer.updateNearCirclePosition(r),this.nearLayer.hideNearCircle(!1)):void 0!==r.x&&void 0!==r.y&&(this.nearLayer=new os({position:r,origin:this.map.origin,bgColor:r.bgColor,borderColor:r.borderColor,radius:r.radius,onLoggerInfo:this.onLoggerInfo}),null==(h=this.map.layer)||h.add(this.nearLayer.layer)):this.nearLayer&&this.nearLayer.hideNearCircle(!0)},this.newPathFunc=(t,e,n=!1)=>{const r=this.is3d||n,i=this.createRobot(e,r);if(i){var o;const n={is3d:r,useWorker:this.useWorker,markerIcon:e,indoorMap2d:this.indoorMap2d,pathData:t,robot:i,origin:this.map.origin,pathWidth:this.map.pathWidth,pathVisible:this.map.pathVisible,pathLinearAnimate:this.map.pathLinearAnimate,distanceToCamera:this.map.distanceToCamera,onRobotPositionChange:this.onRobotPositionChange,onLoggerInfo:this.onLoggerInfo,onPathInitThreadEnd:this.onPathInitThreadEnd};null==(o=this.path)||o.removeCleanPath(),this.path=this.map.setPathInstance(new wl(n))}},this.createNewPath=async(t,e,n=!1)=>{var r;const i=this.is3d||n;if(null==(r=this.map)||!r.layer){const n=()=>new Promise((n=>{const r=setInterval((()=>{var o;null!=(o=this.map)&&o.layer&&(r&&clearInterval(r),this.newPathFunc(t,e,i),n())}),200)}));return await n()}this.newPathFunc(t,e,i)},this.createRobot=(t,e=!1)=>{var n;let r=null;if(null!=(n=this.map)&&n.layer){var i,o,a,s;const n="string"!=typeof t,c=n?null==t?void 0:t.markerIcon:t,u=n&&void 0!==(null==t||null==(i=t.iconParams)?void 0:i.scale)?null==t||null==(o=t.iconParams)?void 0:o.scale:.01,A=!!n&&void 0!==(null==t||null==(a=t.iconParams)?void 0:a.isScale)&&(null==t||null==(s=t.iconParams)?void 0:s.isScale);if(this.path&&(r=this.path.getRobotLayer()),!r){var l;const t={indoorMap2d:this.indoorMap2d,origin:null==(l=this.indoorMap2d.map)?void 0:l.origin,is3d:e,markerIcon:c,isScale:A,scale:u*this.indoorMap2d.getFitScale(),position:new $t.Vector2(9999,9999),onLoggerInfo:this.onLoggerInfo};r=new pl(t),this.map.addSweepLayer(r)}}return r},this.enableMapClickGesture=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.enableMapClickGesture(t)},this.enableLayerMoveableEvent=t=>{this.indoorMap2d&&this.indoorMap2d.enableLayerMoveableEvent(t)},this.getMapSplitPoint=()=>{if(this.map){const t=this.map.splitState;if(t===Ot.merge)return this.map.getRoomMergePointsInfo();if(t===Ot.split)return this.map.getSplitLinePointsInfo()}},this.onDrawPathWithData=async(t,e,n=!1)=>{var r;const i=this.is3d||n;if(this.isMobile&&this.socket&&this.socket.readyState===Qp.OPEN){const n=JSON.stringify({name:"onDrawPathWithData",args:[t,e,i]});this.socket.send(n)}if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawPathWithData");else if(await this.createCanvasPromise,0!==t.length){if(this.formatPathData=t,this.markerIcon=e,null!=(r=this.map)&&r.layer)this.path?this.path.updateCleanPathPoints(t):this.createNewPath(t,e,i);else{const t=setInterval((()=>{var e;null!=(e=this.map)&&e.layer&&(t&&clearInterval(t),this.path?this.path.updateCleanPathPoints(this.formatPathData):this.createNewPath(this.formatPathData,this.markerIcon,i))}),100)}this.indoorMap2d.redraw()}},this.onPathThreadEvt=t=>{const{formatPathData:e,markerIcon:n,is3d:r,pathIdentify:i,timestamp:o=(new Date).getTime()}=t,a=(new Date).getTime();this.logger.info("asynchronous decode path data time ==>",a-o);let s=null;if(void 0!==i){const t=this.pathWorkerArray.findIndex((t=>t.pathIdentify===i));-1!==t?t!==this.pathWorkerArray.length-1?(s=this.pathWorkerArray.pop(),this.pathWorkerArray=[s]):this.pathWorkerArray.pop():this.pathWorkerArray.length&&(s=this.pathWorkerArray.pop(),this.pathWorkerArray=[s])}s&&this.pathWorker.postMessage(s);try{this.onDrawPathWithData(e,n,r)}catch(t){this.logger.warn("onDrawPathWithData ==>",t)}},this.onDrawOriginPathWithFn=async(t,e,n=!1,r=void 0)=>{if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawPathWithData");else{if(r&&"number"==typeof r){const t=(new Date).getTime();this.debug.isDevMode&&this.logger.warn("transfer path data cost time ==>",t-r)}if(this.mapState)this.onDrawOriginPathFunc(t,e,n);else{const r=()=>new Promise((r=>{const i=setInterval((()=>{this.mapState&&(i&&clearInterval(i),this.onDrawOriginPathFunc(t,e,n),r())}),16)}));await r()}}},this.onDrawOriginPathFunc=(t,e,n=!1)=>{const r=void 0===this.mapState.initUseThread||this.mapState.initUseThread||this.initUseThreadPathStatus;if(Va(this.env)&&this.useWorker&&r&&(this.pathWorker||(this.pathWorker=Ka(Vp),this.pathWorker.onMessage(this.onPathThreadEvt))),this.pathWorker&&r){const r=(new Date).getTime(),i={pathIdentify:this.pathWorkerNum++,originPathDataFn:t,markerIcon:e,is3d:n,timestamp:r};if(this.pathWorkerArray.length)return void this.pathWorkerArray.push(i);this.pathWorkerArray.push(i),this.pathWorker.postMessage(i)}else{const r=(new Date).getTime(),i=new(Function||window.Function)(t)(),o=(new Date).getTime();this.logger.info("synchronous decode path data time ==>",o-r),this.onDrawPathWithData(i,e,n)}},this.generateRandomSweepPoint=t=>this.indoorMap2d.map?this.indoorMap2d.map.generateRandomSweepPoint(t):null,this.createAndPutSpriteIntoMap=t=>this.indoorMap2d.map?this.indoorMap2d.map.createAndPutSpriteIntoMap(t):null,this.createOrUpdateTailLineForRobot=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.createOrUpdateTailLineForRobot(t)},this.getPointsBySlopeAndCurrentRobotPosition=async t=>{if(this.path){const e=this.path.getRobotLayer();return e?e.getPointsBySlopeAndCurrentRobotPosition(t):[]}{const e=()=>new Promise((e=>{const n=setInterval((()=>{if(this.path){let r=[];n&&clearInterval(n);const i=this.path.getRobotLayer();i&&(r=i.getPointsBySlopeAndCurrentRobotPosition(t)),e(r)}}),16)}));return await e()}},this.removeSpriteFromMap=t=>this.indoorMap2d.map?this.indoorMap2d.map.removeSpriteFromMap(t):null,this.getMapPointsByPixelType=t=>this.indoorMap2d.map?this.indoorMap2d.map.getMapPointsByPixelType(t):null,this.showPixelTypeOnMap2d=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.showPixelTypeOnMap2d(t)},this.recoverPixelTypeOnMap2d=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.recoverPixelTypeOnMap2d()},this.hideAllCarpetMaterial=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideAllCarpetMaterial(t)},this.setShowBarrierFluorescenceOnMap2d=(t,e,n,r)=>{this.indoorMap2d.map&&this.indoorMap2d.map.setShowBarrierFluorescenceOnMap2d(t,e,n,r)},this.getSelectedAreaInfoList=()=>this.indoorMap2d.map?this.indoorMap2d.map.getSelectedAreaInfoList():null,this.createInfoWindowLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.createInfoWindowLayer(t)},this.removeInfoWindowLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeInfoWindowLayer(t)},this.createCustomLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.createCustomLayer(t)},this.removeCustomLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeCustomLayer(t)},this.getAllCustomLayerInfo=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getAllCustomLayerInfo()};const e=void 0===t.useWorker||t.useWorker;this.debugMode=void 0!==t.debugMode&&t.debugMode,this.socketAddress=t.socketAddress||"ws://172.20.10.3:8088",this.enablePageReload=void 0!==t.enablePageReload&&t.enablePageReload,this.env=void 0!==t.env?t.env:Ft.webview,this.platform=void 0!==t.platform?t.platform:Pt.ios,this.isMobile=void 0!==t.isMobile?t.isMobile:yn.mobile,this.invoke=t.invoke,this.canvas=t.canvas,this.container=t.container,this.pixelRatio=t.pixelRatio||window&&window.devicePixelRatio||1,this.statsMode=void 0!==t.statsMode?t.statsMode:-1,this.staticFps=void 0!==t.staticFps?t.staticFps:10,this.resourceUsageLevel=void 0!==t.resourceUsageLevel?t.resourceUsageLevel:"high",this.enableAICapability=void 0!==t.enableAICapability&&t.enableAICapability,this.useWorker=e&&"high"===this.resourceUsageLevel,this.antialias=void 0===t.antialias||t.antialias,this.preserveDrawingBuffer=void 0===t.preserveDrawingBuffer||t.preserveDrawingBuffer,this.logarithmicDepthBuffer=void 0===t.logarithmicDepthBuffer||t.logarithmicDepthBuffer,this.enhanceSkills=void 0!==t.enhanceSkills?t.enhanceSkills:[],this.bundleBinarySet={},this.bundleBinaryCache=new Rd("bundleBinaryCache"),this.onClickSplitArea=t.onClickSplitArea||(()=>{}),this.onMapId=t.onMapId||(()=>{}),this.onClickRoom=t.onClickRoom||(()=>{}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{}),this.onPosPoints=t.onPosPoints||(()=>{}),this.onLongPressInAreaView=t.onLongPressInAreaView||(()=>{}),this.onLoggerInfo=t.onLoggerInfo||(()=>{}),this.onGlobalError=t.onGlobalError||(()=>{}),this.onClickModel=t.onClickModel||(()=>{}),this.onModelLoadingProgress=t.onModelLoadingProgress||(()=>{}),this.onMapLoadEnd=t.onMapLoadEnd||(()=>{}),this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{}),this.onGestureChange=t.onGestureChange||(()=>{}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{}),this.onClickMapView=t.onClickMapView||(()=>{}),this.onSplitLine=t.onSplitLine||(()=>{}),this.onScreenSnapshot=t.onScreenSnapshot||(()=>{}),this.onVirtualInfoRendered=t.onVirtualInfoRendered||(()=>{}),this.onRobotPositionChange=t.onRobotPositionChange||(()=>{}),this.onRenderContextLost=t.onRenderContextLost||(()=>{}),this.onRenderContextRestored=t.onRenderContextRestored||(()=>{}),this.onContainerVisibilityChange=t.onContainerVisibilityChange||(()=>{}),this.onContainerPageReload=t.onContainerPageReload||(()=>{}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{}),this.onClickMaterial=t.onClickMaterial||(()=>{}),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{}),this.onCruiseStatusMapClick=t.onCruiseStatusMapClick||(()=>{}),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{}),this.onD3MapViewModeEnd=t.onD3MapViewModeEnd||(()=>{}),this.onBundleBinaryHandShake=(...e)=>{this.passMessageFromInvokeFunction("onBundleBinaryHandShake",t.onBundleBinaryHandShake||(()=>{}),e)},this.logger.setLoggerInfo(this.onLoggerInfo),this.setUpFunctionReflection(),this.setUpCallbackReflection(),this.posPositionData=[],this.forbidAreaData=[],this.virtualWallData=[],this.customLayerData=[],this.pathWorkerArray=[],this.pathWorkerNum=0,this.mapWorkerArray=[],this.mapWorkerNum=0,this.is3d=!1,this.staticPrefix="",this.debugMode&&this.createWebSocket(),this.createCanvasPromise=this.init(),this.invokeEventFunction(),this.registerBundleBinaryReceiveEvent(),this.registerBundleBinaryHandShakeEvent(),this.getCvBinaryFromCache(),this.logger.info("resourceUsageLevel ==>",this.resourceUsageLevel),this.logger.info("enableAICapability ==>",this.enableAICapability),this.logger.info("enablePageReload ==>",this.enablePageReload)}}const Kp={ColorUtils:Qs,JsonUtils:Ma,NumberUtils:wn,StringUtils:Ta,DomUtils:ze,GeometryUtils:Fl,OtherUtils:pp}},710:(t,e,n)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){if(Array.isArray(t))return r(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return i(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function c(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}var u=Object.create,A=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,m=function(t,e,n,r){var i=!0,o=!1,a=void 0;if(e&&"object"==(void 0===e?"undefined":l(e))||"function"==typeof e)try{for(var s,c=function(){var i=s.value;!f.call(t,i)&&i!==n&&A(t,i,{get:function(){return e[i]},enumerable:!(r=h(e,i))||r.enumerable})},u=d(e)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)c()}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return t},g=function(t,e,n){return n=null!=t?u(p(t)):{},m(!e&&t&&t.__esModule?n:A(n,"default",{value:t,enumerable:!0}),t)},y={};!function(t,e){for(var n in e)A(t,n,{get:e[n],enumerable:!0})}(y,{BITMAP_TYPE_HEX_MAP:function(){return nt},BITMAP_TYPE_MAP:function(){return rt},BITMAP_TYPE_MAP_REFLECTION:function(){return ot},BITMAP_TYPE_MAP_V2:function(){return it},DEFAULT_HIGHLIGHT_MAP_COLOR:function(){return tt},DEFAULT_NORMAL_MAP_COLOR:function(){return et},DELETE_MAP_CMD_APP_V1:function(){return ge},DELETE_MAP_CMD_ROBOT_V1:function(){return ye},DO_NOT_DISTURB_CMD_APP_V1:function(){return ne},DO_NOT_DISTURB_CMD_APP_V2:function(){return ie},DO_NOT_DISTURB_CMD_ROBOT_V1:function(){return re},DO_NOT_DISTURB_CMD_ROBOT_V2:function(){return oe},EXTEND_FEATURE_HEADER:function(){return pe},FEATURE_DECODE_MAP:function(){return xe},LOCAL_TIMER_CMD_APP_30:function(){return ae},LOCAL_TIMER_CMD_ROBOT_31:function(){return se},PARTITION_DIVISION_CMD_APP_V1:function(){return Nt},PARTITION_DIVISION_CMD_ROBOT_V1:function(){return jt},PARTITION_MERGE_CMD_APP_V1:function(){return Wt},PARTITION_MERGE_CMD_ROBOT_V1:function(){return Vt},PATH_HEADER_LENGTH:function(){return ft},PATH_POINT_TYPE_MAP:function(){return mt},POINT_HEX_TOTAL:function(){return X},QUICK_MAP_CMD_APP_V1:function(){return le},QUICK_MAP_CMD_ROBOT_V1:function(){return ce},RESET_MAP_CMD_APP_V1:function(){return ue},RESET_MAP_CMD_ROBOT_V1:function(){return Ae},ROOM_CLEAN_CMD_APP_V1:function(){return It},ROOM_CLEAN_CMD_APP_V2:function(){return Ft},ROOM_CLEAN_CMD_ROBOT_V1:function(){return Pt},ROOM_CLEAN_CMD_ROBOT_V2:function(){return kt},ROOM_NAME_LENGTH:function(){return J},ROOM_ORDER_CMD_APP_V1:function(){return Rt},ROOM_ORDER_CMD_ROBOT_V1:function(){return Ut},ROOM_PROPERTY_LENGTH:function(){return q},ROOM_VERTICES_NUM_LENGTH:function(){return $},SAVE_MAP_CMD_APP_V1:function(){return fe},SAVE_MAP_CMD_ROBOT_V1:function(){return me},SET_FLOOR_MATERIAL_CMD_APP_V1:function(){return he},SET_FLOOR_MATERIAL_CMD_ROBOT_V1:function(){return de},SET_ROOM_NAME_CMD_APP_V1:function(){return Xt},SET_ROOM_NAME_CMD_ROBOT_V1:function(){return qt},SET_ROOM_PROPERTY_CMD_APP_V1:function(){return zt},SET_ROOM_PROPERTY_CMD_APP_V2:function(){return Kt},SET_ROOM_PROPERTY_CMD_ROBOT_V1:function(){return Gt},SET_ROOM_PROPERTY_CMD_ROBOT_V2:function(){return Zt},SPOT_CLEAN_CMD_APP_V1:function(){return Ot},SPOT_CLEAN_CMD_APP_V2:function(){return Yt},SPOT_CLEAN_CMD_ROBOT_V1:function(){return Ht},SPOT_CLEAN_CMD_ROBOT_V2:function(){return Qt},STANDARD_FEATURE_HEADER:function(){return xt},UNKNOWN_AREA_ID:function(){return at},UNKNOWN_AREA_ID_V2:function(){return st},USE_MAP_CMD_APP_V1:function(){return ve},USE_MAP_CMD_ROBOT_V1:function(){return _e},VIRTUAL_AREA_CMD_APP_V1:function(){return Bt},VIRTUAL_AREA_CMD_APP_V2:function(){return Tt},VIRTUAL_AREA_CMD_ROBOT_V1:function(){return St},VIRTUAL_AREA_CMD_ROBOT_V2:function(){return Dt},VIRTUAL_WALL_CMD_APP_V1:function(){return Mt},VIRTUAL_WALL_CMD_APP_V2:function(){return Ct},VIRTUAL_WALL_CMD_ROBOT_V1:function(){return Lt},VIRTUAL_WALL_CMD_ROBOT_V2:function(){return Et},VOICE_APP_V1:function(){return we},VOICE_ROBOT_V1:function(){return be},ZONE_CLEAN_CMD_APP_V1:function(){return Jt},ZONE_CLEAN_CMD_APP_V2:function(){return te},ZONE_CLEAN_CMD_ROBOT_V1:function(){return $t},ZONE_CLEAN_CMD_ROBOT_V2:function(){return ee},addHex:function(){return S},arrayBufferToOctetStream:function(){return G},bytes2Str:function(){return P},bytesToHexString:function(){return T},circleIntersectRect:function(){return kr},combineTwoBinaryToHex:function(){return Q},completionTimeZone:function(){return k},convertColorToArgbHex:function(){return N},convertDataArrayToDataStr:function(){return Te},dealPL:function(){return L},dealScale:function(){return B},decodeAiPicData:function(){return wt},decodeAiPicHDData:function(){return bt},decodeDeleteMap0x2d:function(){return wr},decodeDeleteMapV1:function(){return br},decodeDeviceTimer0x31:function(){return hr},decodeDoNotDisturb0x33:function(){return er},decodeDoNotDisturb0x41:function(){return ir},decodeDoNotDisturbV2:function(){return or},decodeMap:function(){return pt},decodeMapData:function(){return ht},decodeMapHeader:function(){return Z},decodeMapStructured:function(){return dt},decodePartitionDivision0x1d:function(){return Sn},decodePartitionDivisionV1:function(){return Tn},decodePartitionMerge0x1f:function(){return Pn},decodePartitionMergeV1:function(){return Fn},decodePath:function(){return _t},decodePathData:function(){return vt},decodePathHeader:function(){return gt},decodeRoomClean0x15:function(){return We},decodeRoomClean0x57:function(){return Xe},decodeRoomCleanV1:function(){return Ve},decodeRoomCleanV2:function(){return qe},decodeRoomOrder0x27:function(){return rn},decodeRoomOrderV1:function(){return on},decodeSaveMap0x2b:function(){return gr},decodeSaveMapV1:function(){return yr},decodeSetRoomFloorMaterial0x53:function(){return pr},decodeSetRoomName0x25:function(){return Un},decodeSetRoomNameV1:function(){return On},decodeSetRoomProperty0x23:function(){return Qn},decodeSetRoomProperty0x59:function(){return Wn},decodeSetRoomPropertyV1:function(){return Nn},decodeSpotClean0x17:function(){return un},decodeSpotClean0x3f:function(){return mn},decodeSpotCleanV1:function(){return An},decodeSpotCleanV2:function(){return gn},decodeStandardFeatureCommand:function(){return Ce},decodeUseMap0x2f:function(){return Lr},decodeUseMapV1:function(){return Cr},decodeVirtualArea0x1b:function(){return _n},decodeVirtualArea0x39:function(){return Ln},decodeVirtualAreaV2:function(){return Cn},decodeVirtualWall0x13:function(){return ke},decodeVirtualWall0x49:function(){return He},decodeVirtualWallV1:function(){return Re},decodeVoice0x35:function(){return Br},decodeZoneClean0x29:function(){return Gn},decodeZoneClean0x3b:function(){return Jn},decodeZoneCleanV2:function(){return $n},encodeDeleteMap0x2c:function(){return vr},encodeDeleteMapV1:function(){return _r},encodeDeviceTimer0x30:function(){return Ar},encodeDoNotDisturb0x32:function(){return tr},encodeDoNotDisturb0x40:function(){return nr},encodeDoNotDisturbV2:function(){return rr},encodeExtendFeatureCommand:function(){return Le},encodePartitionDivision0x1c:function(){return En},encodePartitionDivisionV1:function(){return Bn},encodePartitionMerge0x1e:function(){return Dn},encodePartitionMergeV1:function(){return In},encodeQuickMap0x3c:function(){return lr},encodeQuickMapV1:function(){return cr},encodeResetMap0x42:function(){return ar},encodeResetMapV1:function(){return sr},encodeRoomClean0x14:function(){return Ne},encodeRoomClean0x56:function(){return Ke},encodeRoomCleanV1:function(){return je},encodeRoomCleanV2:function(){return Ze},encodeRoomOrder0x26:function(){return en},encodeRoomOrderV1:function(){return nn},encodeSaveMap0x2a:function(){return fr},encodeSaveMapV1:function(){return mr},encodeSetRoomFloorMaterial0x52:function(){return dr},encodeSetRoomName0x24:function(){return kn},encodeSetRoomNameV1:function(){return Rn},encodeSetRoomProperty0x22:function(){return Hn},encodeSetRoomProperty0x58:function(){return jn},encodeSetRoomPropertyV1:function(){return Yn},encodeSpotClean0x16:function(){return ln},encodeSpotClean0x3e:function(){return pn},encodeSpotCleanV1:function(){return cn},encodeSpotCleanV2:function(){return fn},encodeStandardFeatureCommand:function(){return Me},encodeUseMap0x2e:function(){return xr},encodeUseMapV1:function(){return Mr},encodeVirtualArea0x1a:function(){return vn},encodeVirtualArea0x38:function(){return xn},encodeVirtualAreaV2:function(){return Mn},encodeVirtualWall0x12:function(){return Pe},encodeVirtualWall0x48:function(){return Oe},encodeVirtualWallV1:function(){return Fe},encodeVoice0x34:function(){return Er},encodeZoneClean0x28:function(){return zn},encodeZoneClean0x3a:function(){return Xn},encodeZoneCleanV2:function(){return qn},from16To2:function(){return W},getCmdStrFromStandardFeatureCommand:function(){return Be},getFeatureProtocolVersion:function(){return Ee},getHexXYFromXY:function(){return O},getMapProtocolVersion:function(){return K},hexPlusLen:function(){return F},hexStringToNumber:function(){return H},hexToUTF8:function(){return D},highLowToInt:function(){return C},isAdjacent:function(){return Dr},isBorder:function(){return Ir},lastChar:function(){return U},makeXYArray:function(){return z},numToHexString:function(){return x},parseRoomHexId:function(){return b},parseRoomId:function(){return w},pointToLine:function(){return Tr},processHex:function(){return V},requestRoomClean0x15:function(){return Ye},requestRoomClean0x57:function(){return ze},requestRoomCleanV1:function(){return Qe},requestRoomCleanV2:function(){return Ge},requestRoomOrder0x26:function(){return $e},requestRoomOrderV1:function(){return tn},requestSpotClean0x17:function(){return an},requestSpotClean0x3f:function(){return hn},requestSpotCleanV1:function(){return sn},requestSpotCleanV2:function(){return dn},requestVirtualArea0x1b:function(){return yn},requestVirtualArea0x39:function(){return wn},requestVirtualAreaV2:function(){return bn},requestVirtualWall0x13:function(){return De},requestVirtualWall0x49:function(){return Ue},requestVirtualWallV1:function(){return Ie},requestZoneClean0x29:function(){return Vn},requestZoneClean0x3b:function(){return Kn},requestZoneCleanV2:function(){return Zn},scaleNumber:function(){return M},stringToAtHex:function(){return R},stringToByte:function(){return I},subStrToInt:function(){return j},transformChargeXY:function(){return Y},transformXY:function(){return E}}),t.exports=function(t){return m(A({},"__esModule",{value:!0}),t)}(y);var v=n(8133),_=g(n(8207)),w=function(t){var e=6;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1){case 1:default:e=6;break;case 2:e=5}var n=(0,v.padStart)(parseInt(t,16).toString(2),8,"0");return parseInt(n.slice(0,e),2)},b=function(t){return function(t,e){if((0,v.isUndefined)(t)||(0,v.isNull)(t))return"";var n=Number(t).toString(2)+e,r=parseInt(n,2);return(0,v.padStart)(r.toString(16),2,"0")}(t,1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)?rt.sweep:it.sweep)},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Number(t).toString(16);return(0,v.padStart)(n,e,"0")},M=function(t,e){return Number((e/Math.pow(10,t)).toFixed(t))},L=function(t){return t>32767?t-65535:t},C=function(t,e){return e+(t<<8)},E=function(t,e){return M(t,L(e))},B=function(t,e){var n=t;return"string"==typeof t&&(n=parseFloat(t)),Number(n.toFixed(e))*Math.pow(10,e)},S=function(t){return t.match(/\w{2}/g).map((function(t){return parseInt(t,16)})).reduce((function(t,e){return t+e}),0)},T=function(t){return t.map((function(t){var e=(t>>>4).toString(16),n=(15&t).toString(16);return"".concat(e).concat(n)})).join("")},D=function(t){try{var e,n=null===(e=t.match(/.{1,2}/g))||void 0===e?void 0:e.filter((function(t){var e=parseInt(t,16);return 0!==e&&e>=32&&127!==e}));if(0===n.length)return"";for(var r="",i=0;i<n.length;i+=1){var o=n[i],a=parseInt(o,16);r+=String.fromCharCode(a)}return r}catch(t){return""}},I=function(t){for(var e,n=[],r=t.length,i=0;i<r;i++)(e=t.charCodeAt(i))>=65536&&e<=1114111?(n.push(e>>18&7|240),n.push(e>>12&63|128),n.push(e>>6&63|128),n.push(63&e|128)):e>=2048&&e<=65535?(n.push(e>>12&15|224),n.push(e>>6&63|128),n.push(63&e|128)):e>=128&&e<=2047?(n.push(e>>6&31|192),n.push(63&e|128)):n.push(255&e);return n},P=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);1===r.length&&(r="0".concat(r)),e+=r}return e},F=function(t,e){var n=t.length;return t+"0000000000000000000000000000000000000000".slice(0,2*e-n)},k=function(t){var e=Number(t).toString(2),n=e.length,r=(n>=8?e.slice(8):"00000000".slice(0,8-n)+e).split("").map((function(t){return"1"===t?"0":"1"})).join("");return parseInt(r,2)+1},R=function(t){for(var e="",n=0;n<t.length;n++)""===e?e=t.charCodeAt(n).toString(16):e+="".concat(t.charCodeAt(n).toString(16));return e},U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(n.length-e,n.length)},O=function(t,e){var n=t.x,r=t.y,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=e.x*Math.pow(10,i),a=e.y*Math.pow(10,i);return{hexX:x((65535+B(n,i)-o)%65535,4),hexY:x((65535+a-B(r,i))%65535,4)}},H=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=0;r<t.length;r+=2*e){var i=t.slice(r,r+2*e),o=parseInt(i,16);n.push(o)}return n},Y=function(t,e){var n=t.chargeX,r=t.chargeY,i=e.originX,o=e.originY;return n<=0&&r<=0?null:{x:n-i,y:r-o}},Q=function(t,e){return parseInt((t+e).slice(-8),2).toString(16).padStart(2,"0")},N=function(t){var e=(0,_.default)(t);if(!e.isValid())throw new Error("Invalid color format");var n=e.toRgb();return"#"+(Math.round(255*e.getAlpha()).toString(16).padStart(2,"0")+n.r.toString(16).padStart(2,"0")+n.g.toString(16).padStart(2,"0")+n.b.toString(16).padStart(2,"0")).toUpperCase()},j=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return parseInt(t.slice(e,e+n),16)||0},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return(0,v.padStart)(parseInt(t,16).toString(2),e,"0")},V=function(t){var e=parseInt(t,16);if(e<0){var n=Math.abs(e).toString(2),r=(n=n.padStart(16,"0")).split("").map((function(t){return"0"===t?"1":"0"})).join(""),i=(parseInt(r,2)+1).toString(2).padStart(16,"0");return parseInt(i,2).toString(16).toUpperCase()}return t.substring(4,8)},z=function(){var t,e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=(null!==(e=(null!==(t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/\w{8}/g))&&void 0!==t?t:[]).map((function(t){return V(t)})).join("").match(/\w{2}/g))&&void 0!==e?e:[]).map((function(t){var e=parseInt(t,16);return e>32767?e-65535:e})),i=C(r[0],r[1]),o=C(r[2],r[3]);return{x:E(n,i),y:-E(n,o)}},G=function(t){for(var e=new Uint8Array(t),n="",r=0;r<e.length;r++){var i=e[r].toString(16);n+=i=1===i.length?"0".concat(i):i}for(var o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(parseInt(n.substr(a,2),16));return"data:image/png;base64,".concat(o)},K=function(t){return parseInt(t.slice(0,2),16)},Z=function(t){var e=parseInt(t.slice(0,2),16),n=t.slice(0,3===e?52:48),r=2,i=parseInt(n.slice(r,r+4),16);r+=4;var o=1===parseInt(n.slice(r,r+2),16);r+=2;var a=parseInt(n.slice(r,r+4),16);r+=4;var s=parseInt(n.slice(r,r+4),16);r+=4;var l=M(1,parseInt(n.slice(r,r+4),16));r+=4;var c=M(1,parseInt(n.slice(r,r+4),16));r+=4;var u=M(2,parseInt(n.slice(r,r+4),16));r+=4;var A=M(1,parseInt(n.slice(r,r+4),16));r+=4;var h,d=M(1,parseInt(n.slice(r,r+4),16));3===e&&(r+=4,h=parseInt(n.slice(r,r+4),16)),r+=4;var p=parseInt(n.slice(r,r+8),16);r+=8;var f=parseInt(n.slice(r,r+4),16);return{mapHeaderStr:n,version:e,id:i,mapStable:o,mapWidth:a,mapHeight:s,originX:l,originY:c,mapResolution:u,chargeX:A,chargeY:d,chargeDirection:h,chargePositionTransformed:Y({chargeX:A,chargeY:d},{originX:l,originY:c}),dataLengthBeforeCompress:p,dataLengthAfterCompress:f}},X=255,q=26,J=20,$=1,tt=["#FDE4CF","#8EECF5","#CFBAF0","#F1C0E8","#A3C4F3","#98F5E1","#FFCFD2","#90DBF4","#E1C1EB","#8ECCF5","#EDDDDE","#A3B8F3","#EFCFE1","#B2F2BE","#AEE6F8","#90C2F4"],et=["#EBEBEB","#E4E4E4","#DCDCDC","#D5D5D5","#CECECE","#C6C6C6","#C2C2C2","#BABABA","#E2E2E2","#DBDBDB","#D3D3D3","#CCCCCC","#C6C6C6","#BEBEBE","#BABABA","#B3B3B3"],nt={"00":"00","01":"f1",10:"f2",11:"ff"},rt={sweep:"00",barrier:"01",battery:"10",unknown:"11"},it={sweep:"111",barrier:"001",carpet:"010",unknown:"000"},ot={"00":"sweep","01":"barrier",10:"battery",11:"unknown",111:"sweep","001":"barrier","000":"unknown","010":"carpet"},at=[60,61,62,63],st=[28,29,30,31];Math.imul||(Math.imul=function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16)|0});var lt,ct=n(8764),ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1048576,n=ct.Buffer.from(t),r=1073741824,i=e;if(e>r)return i=r,console.warn("uncompress1G",e),null;var o=ct.Buffer.alloc(i),a=function(t,e,n,r){for(var i=n=n||0,o=r=r||t.length-n,a=0;i<o;){var s=t[i++],l=s>>4;if(l>0){for(var c=l+240;255===c;)l+=c=t[i++];for(var u=i+l;i<u;)e[a++]=t[i++];if(i===o)return a}var A=t[i++]|t[i++]<<8;if(0===A||A>a)return-(i-2);var h=15&s;for(c=h+240;255===c;)h+=c=t[i++];var d=a-A;for(u=a+h+4;a<u;)e[a++]=e[d++]}return a}(n,o);return o=o.slice(0,a)},At=function(t){if(!t)return[];for(var e=parseInt(t.slice(2,4),16),n=t.slice(4),r=[],i=0,o=0;o<e;o++){var a=n.slice(i,i+94),s=parseInt(a.slice(0,4),16),l=parseInt(a.slice(4,8),16),c=parseInt(a.slice(8,12),16),u=parseInt(a.slice(12,16),16),A=parseInt(a.slice(16,18),16),h=1===parseInt(a.slice(18,20),16),d=1===parseInt(a.slice(20,22),16),p=parseInt(a.slice(22,24),16),f=parseInt(a.slice(24,26),16),m=1===parseInt(a.slice(26,28),16),g=parseInt(a.slice(28,30),16),y=parseInt(a.slice(52,54),16),v=a.slice(54,54+2*y),_=y>0?D(v):"";i+=2*(47+4*parseInt(a.slice(92,94),16));var w=Q(s.toString(2),it.sweep);r.push({roomId:s,pointHex:w,name:_,order:l,suction:p,cistern:f,colorOrder:A,sweepTimes:c,mopTimes:u,sweepForbidden:h,mopForbidden:d,yMop:m,floorMaterial:g,originStr:a,reservedStr:a.slice(30,52)})}return r},ht=function(t,e){var n=e.mapWidth,r=e.mapHeight,i=e.dataLengthAfterCompress,o=e.dataLengthBeforeCompress,a=e.mapHeaderStr,s=e.version,l=a.length,c="",u="",A=n*r;if(i>0){var h=4*o,d=H(t.slice(l,l+2*o)),p=ut(d,h);if(!p)return{mapRooms:[],mapPointsStr:""};var f=Array.from(p);if(0===s){for(var m=[],g=0;g<f.length;g++)for(var y=f[g].toString(2).padStart(8,"0"),v=0;v<y.length;v+=2){var _=y.substring(v,v+2);m.push(nt[_])}c=m.join(""),u=""}else c=f.slice(0,A).map((function(t){return t.toString(16).padStart(2,"0")})).join(""),u=f.slice(A).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}else if(0===s){for(var w=t.slice(l),b=[],x=w.match(/.{2}/g)||[],M=0;M<x.length;M++)for(var L=parseInt(w[M],16).toString(2).padStart(8,"0"),C=0;C<L.length;C+=2){var E=L.substring(C,C+2);b.push(nt[E])}c=b.join(""),u=""}else c=t.slice(l,l+2*A),u=t.slice(l+2*A);return n*r*2>(c=c.toLowerCase()).length&&(c=c.padStart(n*r,"ff")),n*r*2<c.length&&(c=c.slice(c.length-n*r*2)),{mapRooms:At(u),mapPointsStr:c}},dt=function(t){try{return JSON.parse(D(t))}catch(t){return{}}},pt=function(t){var e=Z(t);return{mapHeader:e,mapData:ht(t,e)}},ft=13,mt={"00":"common",10:"charge","01":"transitions",11:"mop"},gt=function(t){var e=t.slice(0,2*ft);return{version:parseInt(e.slice(0,2),16),pathId:parseInt(e.slice(2,6),16),initFlag:parseInt(e.slice(6,8),16),type:parseInt(e.slice(8,10),16),count:parseInt(e.slice(10,18),16),direction:parseInt(e.slice(18,22),16),dataLengthAfterCompress:parseInt(e.slice(22,26),16)}},yt=n(8133),vt=function(t,e){var n=e.dataLengthAfterCompress,r=e.count,i=[];if(n>0){var o=4*r,s=H(t.slice(2*ft)),l=ut(s,o);if(!l)return[];for(var c=Array.from(l),u=0;u<c.length;u+=4){var A=C(c[u],c[u+1]),h=C(c[u+2],c[u+3]);i.push([A,h])}}else i=(0,yt.chunk)(H(t.slice(2*ft),2),2);for(var d=[],p=0;p<i.length;p++){var f=a(i[p],2),m=f[0],g=f[1],y="".concat(1&m).concat(1&g);d.push({x:E(1,-2&m),y:-E(1,-2&g),type:mt[y]})}return d},_t=function(t){var e=gt(t);return{pathHeader:e,pathPoints:vt(t,e)}},wt=function(t){var e=t.str,n=t.mapScale,r=void 0===n?1:n,i=[],o=j(e,2,4),a=j(e,6,2);if(0===a)return i;for(var s=8,l=0;l<a;l++){var c=e.slice(s,s+16),u=z(c,r),A=j(e,s+=16),h=j(e,s+=2),d=j(e,s+=2,8);s+=8,i.push({id:"pic_".concat(l),mapId:o,position:{x:u.x,y:u.y},object:A,accuracy:h,reserved:d,xHex:c.slice(0,8),yHex:c.slice(8)})}return i},bt=function(t){if(""===t)return{source:""};var e=H(t),n=ut(e);return{source:G(n)}},xt="aa",Mt="12",Lt="13",Ct="48",Et="49",Bt="1a",St="1b",Tt="38",Dt="39",It="14",Pt="15",Ft="56",kt="57",Rt="26",Ut="27",Ot="16",Ht="17",Yt="3e",Qt="3f",Nt="1c",jt="1d",Wt="1e",Vt="1f",zt="22",Gt="23",Kt="58",Zt="59",Xt="24",qt="25",Jt="28",$t="29",te="3a",ee="3b",ne="32",re="33",ie="40",oe="41",ae="30",se="31",le="3c",ce="3d",ue="42",Ae="43",he="52",de="53",pe="ab",fe="2a",me="2b",ge="2c",ye="2d",ve="2e",_e="2f",we="34",be="35",xe=(o(lt={},Lt,"decodeVirtualWall0x13"),o(lt,Et,"decodeVirtualWall0x49"),o(lt,St,"decodeVirtualArea0x1b"),o(lt,Dt,"decodeVirtualArea0x39"),o(lt,Pt,"decodeRoomClean0x15"),o(lt,kt,"decodeRoomClean0x57"),o(lt,Ht,"decodeSpotClean0x17"),o(lt,Qt,"decodeSpotClean0x3f"),o(lt,$t,"decodeZoneClean0x29"),o(lt,ee,"decodeZoneClean0x3b"),o(lt,jt,"decodePartitionDivision0x1d"),o(lt,Vt,"decodePartitionMerge0x1f"),o(lt,Gt,"decodeSetRoomProperty0x23"),o(lt,Zt,"decodeSetRoomProperty0x59"),o(lt,qt,"decodeSetRoomName0x25"),o(lt,me,"decodeSaveMap0x2b"),o(lt,ye,"decodeDeleteMap0x2d"),o(lt,_e,"decodeUseMap0x2f"),o(lt,Ut,"decodeRoomOrder0x27"),o(lt,re,"decodeDoNotDisturb0x33"),o(lt,oe,"decodeDoNotDisturb0x41"),o(lt,ce,"decodeQuickMap0x3d"),o(lt,Ae,"decodeResetMap0x43"),o(lt,se,"decodeDeviceTimer0x31"),o(lt,be,"decodeVoice0x35"),lt),Me=function(t,e,n){var r="1"===n?"01":"00",i=t+e,o=x(i.length/2,"1"===n?8:2),a=Se(i);return"".concat(xt).concat(r).concat(o).concat(t).concat(e).concat(a)},Le=function(t,e){var n=t+e,r=x(n.length/2,8),i=Se(n);return"".concat(pe,"00").concat(r).concat(t).concat(e).concat(i)},Ce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",r=Be(t,n);if(r!==e)return console.warn("<ray-robot-protocol>: "),{valid:!1};var i="1"===n?t.slice(4,12):t.slice(4,6),o=parseInt(i,16),a="1"===n?t.slice(14,14+2*(o-1)):t.slice(8,8+2*(o-1));return a.length!==2*(o-1)?(console.warn("<ray-robot-protocol>: "),{valid:!1}):{dataLength:o,cmdStr:r,dataStr:a,valid:!0}},Ee=function(t){return"01"===t.slice(2,4)?"1":"0"},Be=function(t){return"1"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1")?t.slice(12,14):t.slice(6,8)},Se=function(t){var e=t.match(/.{2}/g).reduce((function(t,e){return t+parseInt(e,16)}),0);return x(e%256,2)},Te=function(t){return t.reduce((function(t,e){if("number"==typeof e)return t+x(e);if("string"==typeof e)return t+e;if("object"==(void 0===e?"undefined":l(e))){var n=e.value,r=e.byte;return t+x(n,2*(void 0===r?1:r))}return t}),"")},De=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Lt,"",void 0===t?"1":t)},Ie=De,Pe=function(t){var e=t.walls,n=t.origin,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=void 0===o?"1":o,s=[];return s.push(e.length),e.forEach((function(t){t.forEach((function(t){var e=O(t,n,i),r=e.hexX,o=e.hexY;s.push(r,o)}))})),Me(Mt,Te(s),a)},Fe=Pe,ke=function(t){var e,n,r=t.command,i=t.mapScale,o=void 0===i?1:i,a=t.version,s=Ce(r,Lt,void 0===a?"1":a),l=s.dataStr;return s.valid?null!==(n=null===(e=l.slice(2).match(/.{16}/g))||void 0===e?void 0:e.map((function(t){return t.match(/.{8}/g).map((function(t){return{x:E(o,parseInt(t.slice(0,4),16)),y:-E(o,parseInt(t.slice(4),16))}}))})))&&void 0!==n?n:[]:null},Re=ke,Ue=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Et,"",void 0===t?"1":t)},Oe=function(t){var e=t.protocolVersion,n=void 0===e?1:e,r=t.walls,i=t.origin,o=t.mapScale,a=void 0===o?1:o,s=t.version,l=void 0===s?"1":s,c=[];return[1].includes(n)?(c.push(n),c.push(r.length),r.forEach((function(t){var e=t.mode,n=t.points;c.push(e),n.forEach((function(t){var e=O(t,i,a),n=e.hexX,r=e.hexY;c.push(n,r)}))})),Me(Ct,Te(c),l)):(console.error("<ray-robot-protocol>: 0x48/0x49 Protocol version".concat(n)),"")},He=function(t){var e,n,r=t.command,i=t.mapScale,o=void 0===i?1:i,a=t.version,s=Ce(r,Et,void 0===a?"1":a),l=s.dataStr;if(!s.valid)return null;var c=parseInt(l.slice(0,2),16),u=null!==(n=null===(e=l.slice(4).match(/.{18}/g))||void 0===e?void 0:e.map((function(t){return{mode:parseInt(t.slice(0,2),16),points:t.slice(2).match(/.{8}/g).map((function(t){return{x:E(o,parseInt(t.slice(0,4),16)),y:-E(o,parseInt(t.slice(4),16))}}))}})))&&void 0!==n?n:[];return{protocolVersion:c,walls:u}},Ye=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Pt,"",void 0===t?"1":t)},Qe=Ye,Ne=function(t){var e=t.roomHexIds,n=t.roomIds,r=t.cleanTimes,i=t.mapVersion,o=void 0===i?2:i,a=t.version,s=void 0===a?"1":a,l=[];if(l.push(r),(null==e?void 0:e.length)>0){var c=e.map((function(t){return w(t,o)}));l.push(e.length),c.forEach((function(t){l.push(t)}))}else(null==n?void 0:n.length)>0&&(l.push(n.length),n.forEach((function(t){l.push(t)})));return Me(It,Te(l),s)},je=Ne,We=function(t){var e=t.command,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=Ce(e,Pt,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s=parseInt(a.slice(0,2),16),l=a.slice(4).match(/.{2}/g),c=[],u=[];return l.forEach((function(t){var e=parseInt(t,16);c.push(e),u.push(b(e,r))})),{roomIds:c,roomHexIds:u,cleanTimes:s}},Ve=We,ze=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(kt,"",void 0===t?"1":t)},Ge=ze,Ke=function(t){var e=t.rooms,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=void 0===i?"1":i,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,i=t.cleanTimes,o=t.yMop,s=t.suction,l=t.cistern;void 0!==n?a.push(n):e&&a.push(w(e,r)),a.push(s,l,o,i)})),Me(Ft,Te(a),o)},Ze=Ke,Xe=function(t){var e=t.command,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=Ce(e,kt,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{10}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=b(e,r),i=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16);s.push({roomHexId:n,roomId:e,suction:i,cistern:o,yMop:a,cleanTimes:l})})),s},qe=Xe,Je=g(n(8133)),$e=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Rt,"",void 0===t?"1":t)},tn=$e,en=function(t){var e=t.roomIdHexs,n=t.version,r=t.mapVersion,i=Je.default.map(e,(function(t){return{value:w(t,r),byte:1}}));i=[{value:e.length,byte:1}].concat(s(i));var o=Te(i);return Me(Rt,o,n)},nn=en,rn=function(t){var e=t.command,n=t.version,r=Ce(e,Ut,void 0===n?"1":n),i=r.dataStr;return r.valid?i.match(/\w{2}/g).slice(1).map((function(t){return parseInt(t,16)})):null},on=rn,an=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Ht,"",void 0===t?"1":t)},sn=an,ln=function(t){var e=t.point,n=t.origin,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=void 0===o?"1":o,s=[],l=O(e,n,i),c=l.hexX,u=l.hexY;return s.push(c,u),Me(Ot,Te(s),a)},cn=ln,un=function(t){var e=t.command,n=t.mapScale,r=void 0===n?1:n,i=t.version,o=Ce(e,Ht,void 0===i?"1":i),a=o.dataStr;return o.valid?{point:{x:E(r,parseInt(a.slice(0,4),16)),y:-E(r,parseInt(a.slice(4,8),16))}}:null},An=un,hn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Qt,"",void 0===t?"1":t)},dn=hn,pn=function(t){var e=t.protocolVersion,n=t.points,r=t.origin,i=t.cleanMode,o=t.suction,a=t.cistern,s=t.cleanTimes,l=t.mapScale,c=void 0===l?1:l,u=t.version,A=void 0===u?"1":u;if(![1,2].includes(e))return console.error("<ray-robot-protocol>: 0x3e/0x3f Protocol version".concat(e)),"";if(n.length<1)return console.error("<ray-robot-protocol>: 0x3e/0x3f "),"";var h=[];if(1===e){h.push(1,i,o,a,s);var d=n[0],p=O(d,r,c),f=p.hexX,m=p.hexY;h.push(f,m)}return 2===e&&(h.push(2,n.length),n.forEach((function(t){var e=O(t,r,c),n=e.hexX,i=e.hexY;h.push(n,i)}))),Me(Yt,Te(h),A)},fn=pn,mn=function(t){var e=t.command,n=t.mapScale,r=void 0===n?1:n,i=t.version,o=Ce(e,Qt,void 0===i?"1":i),a=o.dataStr,s=o.valid,l=parseInt(a.slice(0,2),16);if(!s)return null;if(1===l){var c=parseInt(a.slice(2,4),16),u=parseInt(a.slice(4,6),16),A=parseInt(a.slice(6,8),16),h=parseInt(a.slice(8,10),16);return{protocolVersion:l,points:[{x:E(r,parseInt(a.slice(10,14),16)),y:-E(r,parseInt(a.slice(14,18),16))}],cleanMode:c,suction:u,cistern:A,cleanTimes:h}}if(2===l){var d=[];return a.slice(4).match(/.{8}/g).forEach((function(t){var e=E(r,parseInt(t.slice(0,4),16)),n=-E(r,parseInt(t.slice(4),16));d.push({x:e,y:n})})),{protocolVersion:l,points:d}}return null},gn=mn,yn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(St,"",void 0===t?"1":t)},vn=function(t){var e=t.virtualAreas,n=t.origin,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=void 0===o?"1":o,s=[];return s.push(e.length),e.forEach((function(t){var e=t.points,r=t.mode;s.push(r),s.push(e.length),e.forEach((function(t){var e=O(t,n,i),r=e.hexX,o=e.hexY;s.push(r,o)}))})),Me(Bt,Te(s),a)},_n=function(t){var e=function(){var t=parseInt(c.slice(u,u+2),16);u+=2;var e=parseInt(c.slice(u,u+2),16);u+=2;var n=c.slice(u,u+8*e).match(/.{8}/g),r=[];n.forEach((function(t){var e=E(i,parseInt(t.slice(0,4),16)),n=-E(i,parseInt(t.slice(4),16));r.push({x:e,y:n})})),u+=8*e,l.push({mode:t,points:r})},n=t.command,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=Ce(n,St,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;for(var l=[],c=s.slice(2),u=0;u<c.length-1;)e();return l},wn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(Dt,"",void 0===t?"1":t)},bn=wn,xn=function(t){var e=t.protocolVersion,n=t.virtualAreas,r=t.origin,i=t.mapScale,o=void 0===i?1:i,a=t.version,s=void 0===a?"1":a;if(![1,2].includes(e))return console.error("<ray-robot-protocol>: 0x38/0x39 Protocol version".concat(e)),"";var l=[];return l.push(e,n.length),n.forEach((function(t){var n=t.points,i=t.mode,a=t.name,s=void 0===a?"":a;l.push(i),2===e&&l.push(4===n.length?0:1),l.push(n.length),n.forEach((function(t){var e=O(t,r,o),n=e.hexX,i=e.hexY;l.push(n,i)})),l.push(s.length,F(P(I(s)),19))})),Me(Tt,Te(l),s)},Mn=xn,Ln=function(t){var e=function(){var t=parseInt(u.slice(A,A+2),16);A+=2,2===l&&(A+=2);var e=parseInt(u.slice(A,A+2),16);A+=2;var n=u.slice(A,A+8*e).match(/.{8}/g),r=[];n.forEach((function(t){var e=E(i,parseInt(t.slice(0,4),16)),n=-E(i,parseInt(t.slice(4),16));r.push({x:e,y:n})})),A+=8*e,A+=2;var o=D(T(u.slice(A,A+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";A+=38,c.push({mode:t,points:r,name:o})},n=t.command,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=Ce(n,Dt,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;for(var l=parseInt(s.slice(0,2),16),c=[],u=s.slice(4),A=0;A<u.length-1;)e();return{protocolVersion:l,virtualAreas:c}},Cn=Ln,En=function(t){var e=t.roomId,n=t.points,r=t.origin,i=t.mapScale,o=void 0===i?1:i,a=t.version,s=void 0===a?"1":a,l=[];return l.push(e),n.forEach((function(t){var e=O(t,r,o),n=e.hexX,i=e.hexY;l.push(n,i)})),Me(Nt,Te(l),s)},Bn=En,Sn=function(t){var e=t.command,n=t.version,r=Ce(e,jt,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;var o=parseInt(i.slice(0,2),16);return{ret:o,success:1===o}},Tn=Sn,Dn=function(t){var e=t.roomIds,n=t.version,r=void 0===n?"1":n,i=[];return e.forEach((function(t){i.push(t)})),Me(Wt,Te(i),r)},In=Dn,Pn=function(t){var e=t.command,n=t.version,r=Ce(e,Vt,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;var o=parseInt(i.slice(0,2),16);return{ret:o,success:1===o}},Fn=Pn,kn=function(t){var e=t.rooms,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=void 0===i?"1":i,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,i=t.name,o=void 0===i?"":i;n?a.push(n):e&&a.push(w(e,r));var s=I(o);a.push(s.length,F(P(s),19))})),Me(Xt,Te(a),o)},Rn=kn,Un=function(t){var e=t.command,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=Ce(e,qt,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{42}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=b(e,r),i=D(T(t.slice(4).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";s.push({roomHexId:n,roomId:e,name:i})})),s},On=Un,Hn=function(t){var e=t.rooms,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=void 0===i?"1":i,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,i=t.cleanTimes,o=t.yMop,s=t.suction,l=t.cistern;void 0!==n?a.push(n):e&&a.push(w(e,r)),a.push(s,l,o,i)})),Me(zt,Te(a),o)},Yn=Hn,Qn=function(t){var e=t.command,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=Ce(e,Gt,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{10}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=b(e,r),i=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16);s.push({roomHexId:n,roomId:e,suction:i,cistern:o,yMop:a,cleanTimes:l})})),s},Nn=Qn,jn=function(t){var e=t.rooms,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=void 0===i?"1":i,a=[];return a.push(e.length),e.forEach((function(t){var e=t.cleanMode,n=t.roomHexId,i=t.roomId,o=t.cleanTimes,s=t.yMop,l=t.suction,c=t.cistern;void 0!==i?a.push(i):n&&a.push(w(n,r)),a.push(e,l,c,s,o)})),Me(Kt,Te(a),o)},Wn=function(t){var e=t.command,n=t.mapVersion,r=void 0===n?2:n,i=t.version,o=Ce(e,Zt,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{12}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=b(e,r),i=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16),c=parseInt(t.slice(10,12),16);s.push({roomHexId:n,roomId:e,cleanMode:i,suction:o,cistern:a,yMop:l,cleanTimes:c})})),s},Vn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me($t,"",void 0===t?"1":t)},zn=function(t){var e=t.zones,n=t.origin,r=t.cleanTimes,i=void 0===r?1:r,o=t.mapScale,a=void 0===o?1:o,s=t.version,l=void 0===s?"1":s,c=[];return c.push(i,e.length),e.forEach((function(t){var e=t.points;c.push(e.length),e.forEach((function(t){var e=O(t,n,a),r=e.hexX,i=e.hexY;c.push(r,i)}))})),Me(Jt,Te(c),l)},Gn=function(t){var e,n=t.command,r=t.mapScale,i=void 0===r?1:r,o=t.version,a=Ce(n,$t,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;var l,c=parseInt(s.slice(0,2),16);return{zones:null!==(l=null===(e=s.slice(6).match(/.{32}/g))||void 0===e?void 0:e.map((function(t){return{points:t.match(/.{8}/g).map((function(t){return{x:E(i,parseInt(t.slice(0,4),16)),y:-E(i,parseInt(t.slice(4),16))}}))}})))&&void 0!==l?l:[],cleanTimes:c}},Kn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(ee,"",void 0===t?"1":t)},Zn=Kn,Xn=function(t){var e=t.protocolVersion,n=t.zones,r=t.origin,i=t.cleanMode,o=void 0===i?0:i,a=t.suction,s=void 0===a?0:a,l=t.cistern,c=void 0===l?0:l,u=t.cleanTimes,A=void 0===u?1:u,h=t.mapScale,d=void 0===h?1:h,p=t.version,f=void 0===p?"1":p;if(![1,2,3].includes(e))return console.error("<ray-robot-protocol>: 0x3a/0x3b Protocol version".concat(e)),"";var m=[];return m.push(e),3===e?(m.push(n.length),n.forEach((function(t){var e=t.points,n=t.name,i=void 0===n?"":n,o=t.advanced,a=null!=o?o:{},s=a.id,l=a.localSave,c=a.order,u=a.cleanMode,A=a.cleanTimes,h=a.suction,p=a.cistern;m.push(s,l,4===(null==e?void 0:e.length)?0:1,e.length),e.forEach((function(t){var e=O(t,r,d),n=e.hexX,i=e.hexY;m.push(n,i)})),m.push(A,c,u,h,p,{value:0,byte:5},i.length,F(P(I(i)),19))}))):(2===e&&m.push(o,s,c),m.push(A,n.length),n.forEach((function(t){var e=t.points,n=t.name,i=void 0===n?"":n;m.push(e.length),e.forEach((function(t){var e=O(t,r,d),n=e.hexX,i=e.hexY;m.push(n,i)})),m.push(i.length,F(P(I(i)),19))}))),Me(te,Te(m),f)},qn=Xn,Jn=function(t){var e=t.command,n=t.mapScale,r=void 0===n?1:n,i=t.version,o=Ce(e,ee,void 0===i?"1":i),a=o.dataStr;if(!o.valid)return null;var s={},l=parseInt(a.slice(0,2),16);s.protocolVersion=l;var c=[];if(3===l)for(var u=function(){var t=parseInt(A.slice(h,h+2),16);h+=2;var e=parseInt(A.slice(h,h+2),16);h+=2,h+=2;var n=parseInt(A.slice(h,h+2),16);h+=2;var i=A.slice(h,h+8*n).match(/.{8}/g),o=[];i.forEach((function(t){var e=E(r,parseInt(t.slice(0,4),16)),n=-E(r,parseInt(t.slice(4),16));o.push({x:e,y:n})})),h+=8*n;var a=parseInt(A.slice(h,h+2),16);h+=2;var s=parseInt(A.slice(h,h+2),16);h+=2;var l=parseInt(A.slice(h,h+2),16);h+=2;var u=parseInt(A.slice(h,h+2),16);h+=2;var d=parseInt(A.slice(h,h+2),16);h+=2,h+=10,h+=2;var p=D(T(A.slice(h,h+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";h+=38,c.push({points:o,name:p,advanced:{id:t,order:s,localSave:e,cleanMode:l,cleanTimes:a,cistern:d,suction:u}})},A=a.slice(4,-2),h=0;h<A.length-1;)u();else{var d=function(){var t=parseInt(f.slice(p,p+2),16);p+=2;var e=f.slice(p,p+8*t).match(/.{8}/g),n=[];e.forEach((function(t){var e=E(r,parseInt(t.slice(0,4),16)),i=-E(r,parseInt(t.slice(4),16));n.push({x:e,y:i})})),p+=8*t,p+=2;var i=D(T(f.slice(p,p+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";p+=38,c.push({points:n,name:i})},p=2;2===l&&(s.cleanMode=parseInt(a.slice(p,p+2),16),p+=2,s.suction=parseInt(a.slice(p,p+2),16),p+=2,s.cistern=parseInt(a.slice(p,p+2),16),p+=2),s.cleanTimes=parseInt(a.slice(p,p+2),16),p+=2,p+=2;var f=a.slice(p,-2);for(p=0;p<f.length-1;)d()}return s.zones=c,s},$n=Jn,tr=function(t){var e=t.startHour,n=t.startMinute,r=t.endHour,i=t.endMinute,o=t.timeZone,a=void 0===o?(new Date).getTimezoneOffset()/-60:o,s=t.version,l=void 0===s?"1":s,c=[];return c.push(a<0?k(a):a,e,n,0,r,i,60*e+n>60*r+i?1:0),Me(ne,Te(c),l)},er=function(t){var e=t.command,n=t.version,r=Ce(e,re,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;var o=parseInt(i.slice(0,2),16);return{timeZone:o>200?o-256:o,startHour:parseInt(i.slice(2,4),16),startMinute:parseInt(i.slice(4,6),16),endHour:parseInt(i.slice(8,10),16),endMinute:parseInt(i.slice(10,12),16)}},nr=function(t){var e=t.enable,n=t.startHour,r=t.startMinute,i=t.endHour,o=t.endMinute,a=t.timeZone,s=void 0===a?(new Date).getTimezoneOffset()/-60:a,l=t.version,c=void 0===l?"1":l,u=[];return u.push(1,e?1:0,s<0?k(s):s,n,r,0,i,o,60*n+r>60*i+o?1:0),Me(ie,Te(u),c)},rr=nr,ir=function(t){var e=t.command,n=t.version,r=Ce(e,oe,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;var o=1===parseInt(i.slice(2,4),16),a=parseInt(i.slice(4,6),16);return{enable:o,timeZone:a>200?a-256:a,startHour:parseInt(i.slice(6,8),16),startMinute:parseInt(i.slice(8,10),16),endHour:parseInt(i.slice(12,14),16),endMinute:parseInt(i.slice(14,16),16)}},or=ir,ar=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(ue,"01",void 0===t?"1":t)},sr=ar,lr=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Me(le,"01",void 0===t?"1":t)},cr=lr,ur=g(n(381)),Ar=function(t){var e,n=t.list,r=t.number,i=t.version,o=void 0===i?"1":i,l=a((null!==(e=(0,ur.default)().format("Z"))&&void 0!==e?e:"+08:00").match(/([+-])\d(\d)/)||["+08","+","8"],1)[0],c=Number(l);c<0&&(c=k(c));for(var u=[c,r],A=0;A<r;A++){var h,d=n[A],p=d.effectiveness,f=d.week,m=d.time,g=d.roomIds,y=d.cleanMode,v=d.fanLevel,_=d.waterLevel,w=d.sweepCount,b=d.roomNum,x=s(f);(h=u).push.apply(h,[p,parseInt(x.reverse().join(""),2),m.hour,m.minute,b].concat(s(g),[y,v,_,w]))}return Me(ae,Te(u),o)},hr=function(t){var e=t.command,n=t.version,r=Ce(e,se,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;for(var o=[],a=j(i,0),s=j(i,2),l=4,c=0;c<s;c++){var u=j(i,l);l+=2;var A=W(i.slice(l,l+2)).split("").reverse().map((function(t){return parseInt(t,10)})),h=j(i,l+=2),d=j(i,l+=2),p=j(i,l+=2),f=2*p;l+=2;for(var m=i.slice(l,l+f),g=[],y=0;y<m.length;y+=2)g.push(j(m,y));var v=j(i,l+=f),_=j(i,l+=2),w=j(i,l+=2),b=j(i,l+=2);l+=2,o.push({effectiveness:u,week:A,time:{hour:h,minute:d},roomNum:p,roomIds:g,cleanMode:v,fanLevel:_,waterLevel:w,sweepCount:b})}return{number:s,timeZone:a,list:o}},dr=function(t){var e=t.rooms,n=t.version,r=void 0===n?"1":n,i=[1,e.length];return e.forEach((function(t){i.push(t.roomId,t.material)})),Me(he,Te(i),r)},pr=function(t){var e=t.command,n=t.version,r=Ce(e,de,void 0===n?"1":n),i=r.dataStr;if(!r.valid)return null;for(var o=[],a=parseInt(i.slice(2,4),16),s=0;s<a;s++){var l=i.slice(4+4*s,8+4*s),c=parseInt(l.slice(0,2),16),u=parseInt(l.slice(2,4),16);o.push({roomId:c,material:u})}return o},fr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[];return e.push(t),Le(fe,Te(e))},mr=fr,gr=function(t){var e=t.command,n=Ce(e,me),r=n.dataStr;if(!n.valid)return null;var i=parseInt(r.slice(0,2),16);return{ret:i,success:1===i}},yr=gr,vr=function(t){var e=t.id,n=[];return n.push({value:e,byte:4}),Le(ge,Te(n))},_r=vr,wr=function(t){var e=t.command,n=Ce(e,ye),r=n.dataStr;if(!n.valid)return null;var i=parseInt(r.slice(0,2),16);return{ret:i,success:1===i}},br=wr,xr=function(t){var e,n=t.mapId,r=t.url,i=[],o=I(r),a=o.length;return(e=i).push.apply(e,[{value:n,byte:4},{value:a,byte:4}].concat(s(o))),Le(ve,Te(i))},Mr=xr,Lr=function(t){var e=t.command,n=Ce(e,_e),r=n.dataStr;if(!n.valid)return null;var i=parseInt(r.slice(0,2),16);return{ret:i,success:1===i}},Cr=Lr,Er=function(t){var e,n=t.id,r=t.md5,i=t.url,o=[],a=I(r),l=a.length,c=I(i),u=c.length;return(e=o).push.apply(e,[{value:n,byte:4},l].concat(s(a),[{value:u,byte:4}],s(c))),Le(we,Te(o))},Br=function(t){var e=t.command,n=Ce(e,be),r=n.dataStr;return n.valid?{languageId:parseInt(r.slice(0,8),16),status:parseInt(r.slice(8,10),16),progress:parseInt(r.slice(10,12),16)}:null},Sr=function(t,e,n,r){return Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))},Tr=function(t,e,n,r,i,o){var a=Sr(t,e,n,r),s=Sr(t,e,i,o),l=Sr(n,r,i,o);if(l<=1e-6||s<=1e-6)return 0;if(a<=1e-6||l*l>=a*a+s*s)return s;if(s*s>=a*a+l*l)return l;var c=(a+s+l)/2;return 2*Math.sqrt(c*(c-a)*(c-s)*(c-l))/a},Dr=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;t.length<e.length&&(t=(n=[e,t])[0],e=n[1]);for(var i=t.length,o=e.length,a=r*r,s=new Map,l=0;l<i;l++){var c=t[l],u=c.x,A=c.y;s.has(u)||s.set(u,new Map),s.get(u).set(A,l)}for(var h=0;h<o;h++)for(var d=e[h],p=d.x,f=d.y,m=-r;m<=r;m++)for(var g=-r;g<=r;g++){var y,v=p+m,_=f+g;if((null==s||null===(y=s.get(v))||void 0===y?void 0:y.has(_))&&Math.pow(v-e[h].x,2)+Math.pow(_-e[h].y,2)<=a)return!0}return!1},Ir=function(t,e){if(!(Array.isArray(t)&&Array.isArray(e)&&t.length&&e.length))return!0;var n=0,r=t.length,i=e.length;if(r>0&&i>0)for(var o=1;o<r;o++)for(var a=0;a<i;a++)if((o===r-1?Tr(1*t[0].x,1*t[0].y,1*t[o].x,1*t[o].y,1*e[a].x,1*e[a].y):Tr(1*t[o-1].x,1*t[o-1].y,1*t[o].x,1*t[o].y,1*e[a].x,1*e[a].y))<=5){n++;break}return n>0},Pr=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.pow(i-n,2)+Math.pow(o-r,2)},Fr=function(t,e,n){var r=t.radius,i=Math.pow(r,2),o=Math.pow(Tr(e[0].x,e[0].y,e[1].x,e[1].y,t.x,t.y),2),a=Pr(t,e[0]),s=Pr(t,e[1]);return a<i||s<i||o<i||function(t,e){for(var n=t.x,r=t.y,i=0,o=0,a=e.length,s=a-1;o<a;s=o,o++){var l=e[o].x,c=e[o].y,u=e[s].x,A=e[s].y;if((l-n)*(n-u)>=0&&(c-r)*(r-A)>=0&&(n-l)*(A-c)==(r-c)*(u-l))return!0;var h=Math.atan2(c-r,l-n)-Math.atan2(A-r,u-n);h>=Math.PI?h-=2*Math.PI:h<=-Math.PI&&(h+=2*Math.PI),i+=h}return 0!==Math.round(i/Math.PI)}(t,n)},kr=function(t,e){for(var n=function(t){for(var e,n,r,i=t.length,o=[],a=0;a<i;a++)n=t[a],0===a?r=n:a>0&&o.push([e,n]),a===i-1&&o.push([n,r]),e=n;return o}(e),r=n.length,i=0;i<r;i++){var o=n[i];if(Fr(t,o,e))return!0}return!1}},6461:(t,e,n)=>{var r=n(7908);t.exports=r,t.exports.default=r},7908:t=>{"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var u="RNWV:sync",A="success",h="fail",d=0,p=o((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}));function f(t){return"".concat(t.command,"(").concat(t.id,")")}var m=null,g="undefined"!=typeof window,y=function(t){var e,n=[],r=(e={send:[],receive:[],ready:[]},{addEventListener:function(t,n){if(t in e){var r=e[t];r.indexOf(n)<0&&r.push(n)}},removeEventListener:function(t,n){if(t in e){var r=e[t],i=r.indexOf(n);i>=0&&r.splice(i,1)}},emitEvent:function(t,n){t in e&&e[t].forEach((function(t){return t(n)}))}}),i={},o={},a={};function l(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o=function(t,e){return{id:d++,command:t,data:e,reply:!1,status:A}}(t,n),a=new p,i[f(o)]=a,m(o),a.promise;var o,a}}function c(t,e){return o[t]=function(t){return e.apply(void 0,s(t))},!n&&_(),{define:c,bind:l}}function m(e){!(e.command===u)&&n?n.push(e):t(e),r.emitEvent("send",e)}function g(t,e,n){t.reply=!0,t.data=e,t.status=n,m(t)}var y=l(u);function v(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){return!a[t]})).map((function(t){a[t]=l(t)})),function(){if(n){var t=n;n=null,t.forEach((function(t){m(t)})),r.emitEvent("ready")}}(),Object.keys(o)}function _(){y(Object.keys(o)).then(v)}return c(u,v),{bind:l,define:c,listener:function(t){var e=t.detail&&JSON.parse(t.detail.data[0])||t;if(e.reply){var n=f(e);i[n]&&(e.status===h?i[n].reject(e.data):i[n].resolve(e.data))}else if(o[e.command]){var a=o[e.command](e.data);a&&a.then?a.then((function(t){g(e,t,A)})).catch((function(t){g(e,t,h)})):g(e,a,A)}else g(e,"function ".concat(e.command," is not defined"),h);r.emitEvent("receive",e)},ready:_,fn:a,addEventListener:r.addEventListener,removeEventListener:r.removeEventListener,isConnect:function(){return!n}}}((function(t){var e="string"==typeof t?t:JSON.stringify(t);g&&m&&m(e)})),v=y.bind,_=y.define,w=y.listener,b=y.ready,x=y.fn,M=y.addEventListener,L=y.removeEventListener,C=y.isConnect,E=function(t){var e;if("object"===r(t))e=t;else if("string"==typeof t)try{e=JSON.parse(t)}catch(t){}e&&(e.command||e.reply)&&w(e)},B=function(t){var e=new MessageEvent("message",{data:t});E(e.data)};if(g){var S=window.originalPostMessage;if(S)m=function(){var t;window&&"function"==typeof window.postMessage&&(t=window).postMessage.apply(t,arguments)},b();else{var T={get:function(){return S},set:function(t){(S=t)&&(m=function(){var t;window&&"function"==typeof window.postMessage&&(t=window).postMessage.apply(t,arguments)},setTimeout(b,50))}};Object.defineProperty(window,"originalPostMessage",T)}var D=window.ReactNativeWebView;if(D)m=function(){var t;window&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage?(t=window.ReactNativeWebView).postMessage.apply(t,arguments):console.error("ReactNativeWebView has been dispose")},b();else{var I={get:function(){return D},set:function(t){(D=t)&&(m=function(){var t;window&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage?(t=window.ReactNativeWebView).postMessage.apply(t,arguments):console.error("ReactNativeWebView has been dispose")},setTimeout(b,50))}};Object.defineProperty(window,"ReactNativeWebView",I)}var P=window.gzlJSBridge;if(P)m=function(){try{if(window&&window.gzlJSBridge&&"function"==typeof window.gzlJSBridge.webviewMessage){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i={data:n({},e)};window.gzlJSBridge.webviewMessage("postMessage",JSON.stringify(i))}else console.error("gzlJSBridge has been dispose")}catch(t){console.error("gzlJSBridge postMessage error ==>",t)}window.gzlJSBridge.receiveMessageHandler=function(t){B(t.data)}},b();else{var F={get:function(){return P},set:function(t){(P=t)&&(m=function(){try{if(window&&window.gzlJSBridge&&"function"==typeof window.gzlJSBridge.webviewMessage){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i={data:n({},e)};window.gzlJSBridge.webviewMessage("postMessage",JSON.stringify(i))}else console.error("gzlJSBridge has been dispose")}catch(t){console.error("gzlJSBridge postMessage error ==>",t)}},window.gzlJSBridge.receiveMessageHandler=function(t){B(t.data)},setTimeout(b,50))}};Object.defineProperty(window,"gzlJSBridge",F)}S||D||P||(m=function(){if(window&&"function"==typeof window.postMessage){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i={data:n({},e)};window.parent.postMessage(i,"*")}else console.error("browser mini program has been dispose")},b()),window.document.addEventListener("message",(function(t){return S&&E(t.data)})),window.addEventListener("message",(function(t){return D&&E(t.data)})),window.document.addEventListener("message",(function(t){return D&&E(t.data)})),window.addEventListener("message",(function(t){return!D&&B(t.data)}))}var k={bind:v,define:_,fn:x,addEventListener:M,removeEventListener:L,isConnect:C};t.exports=k},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=s(t),a=o[0],l=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,l)),u=0,A=l>0?a-4:a;for(n=0;n<A;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===l&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[u++]=255&e);1===l&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(t,s,s+a>c?c:s+a));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return A(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|f(t,e);let r=s(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function A(t){return u(t),s(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return r?-1:z(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return B(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return L(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){let o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function _(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(X(r))return a;t[n+a]=r}return a}function w(t,e,n,r){return K(z(e,t.length-n),t,n,r)}function b(t,e,n,r){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return K(G(e),t,n,r)}function M(t,e,n,r){return K(function(t,e){let n,r,i;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function L(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[i+1],r=t[i+2],s=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(t){const e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},l.allocUnsafe=function(t){return A(t)},l.allocUnsafeSlow=function(t){return A(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<s;++t)if(c[t]!==u[t]){o=c[t],a=u[t];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return b(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function B(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=q[t[r]];return i}function D(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function F(t,e,n,r,i){N(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function k(t,e,n,r,i){N(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function O(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=J((function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=J((function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=J((function(t){j(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=J((function(t,e=0){return F(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=J((function(t,e=0){return F(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const H={};function Y(t,e,n){H[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function Q(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function N(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new H.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){j(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(r,i,o)}function j(t,e){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw j(t,n),new H.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Y("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=Q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=Q(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function z(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const q=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},645:(t,e)=>{e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,A=n?i-1:0,h=n?-1:1,d=t[e+A];for(A+=h,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+A],A+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+A],A+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,A=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+A>=1?h/l:h*Math.pow(2,1-A))*l>=2&&(a++,l/=2),a+A>=u?(s=0,a=u):a+A>=1?(s=(e*l-1)*Math.pow(2,i),a+=A):(s=e*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*f}},2786:function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},4130:function(t,e,n){!function(t){"use strict";var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(r,i,o,a){var s=e(r),l=n[t][e(r)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["","","","","","","","","","","",""];t.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(381))},6135:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(381))},6440:function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(e,i,o,a){var s=n(e),l=r[t][n(e)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},7702:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},315:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-ps",{months:" _________ _ _ ".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).split("").reverse().join("").replace(/[](?![\u062a\u0643])/g,(function(t){return n[t]})).split("").reverse().join("").replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(381))},6040:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(381))},7100:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},867:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,n,o,a){var s=r(e),l=i[t][r(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},1083:function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10,r=t%100-n,i=t>=100?100:null;return t+(e[n]||e[r]||e[i])},week:{dow:1,doy:7}})}(n(381))},9808:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){return"m"===r?n?"":"":"h"===r?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[r],+t)}t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},8338:function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(381))},7438:function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(381))},6225:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},8905:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1560:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1278:function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+i({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function n(t){switch(r(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function r(t){return t>9?r(t%10):t}function i(t,e){return 2===e?o(t):t}function o(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}var a=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],s=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],A=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],h=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:h,fullWeekdaysParse:u,shortWeekdaysParse:A,minWeekdaysParse:h,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}})}(n(381))},622:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){if("m"===n)return e?"jedna minuta":r?"jednu minutu":"jedne minute"}function n(t,e,n){var r=t+" ";switch(n){case"ss":return r+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return"jedan sat";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:n,m:e,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2468:function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(381))},5822:function(t,e,n){!function(t){"use strict";var e={standalone:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),format:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"pr sekund":"pr sekundami";case"ss":return e||r?i+(o(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(o(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(o(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(o(t)?"dny":"dn"):i+"dny";case"M":return e||r?"msc":"mscem";case"MM":return e||r?i+(o(t)?"msce":"msc"):i+"msci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(o(t)?"roky":"let"):i+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},877:function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(381))},7373:function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n(381))},4780:function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},217:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},894:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9740:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5300:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(381))},837:function(t,e,n){!function(t){"use strict";function e(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){return 6===this.day()?"[ ] dddd [{}] LT":"[ ] dddd [{}] LT"},sameElse:"L"},calendar:function(t,n){var r=this._calendarEl[t],i=n&&n.hours();return e(r)&&(r=r.apply(n)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8348:function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})}(n(381))},7925:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(381))},2243:function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},6436:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7207:function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(381))},4175:function(t,e,n){!function(t){"use strict";t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})}(n(381))},6319:function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},1662:function(t,e,n){!function(t){"use strict";t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},2915:function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(381))},5251:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6112:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(381))},1146:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(381))},5655:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(381))},5603:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7763:function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},6959:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(381))},1897:function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function r(t,e,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":o=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":o=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=i(t,r)+" "+o}function i(t,r){return t<10?r?n[t]:e[t]:t}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2549:function(t,e,n){!function(t){"use strict";t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},4694:function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},3049:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n(381))},2330:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},4470:function(t,e,n){!function(t){"use strict";var e=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,r=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:e,monthsShortStrictRegex:n,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},5044:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},9295:function(t,e,n){!function(t){"use strict";var e=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],r=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],i=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],o=["Do","Lu","M","C","D","A","Sa"];t.defineLocale("ga",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},2101:function(t,e,n){!function(t){"use strict";var e=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],r=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"];t.defineLocale("gd",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},8794:function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},7884:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return r?i[n][0]:i[n][1]}t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){return"D"===e?t+"":t},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<12?"":t<16?"":t<20?"":""}})}(n(381))},3168:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return r?i[n][0]:i[n][1]}t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){return"D"===e?t+"er":t},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(n(381))},5349:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},4206:function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})}(n(381))},94:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],i=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:i,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},316:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2138:function(t,e,n){!function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||e)?" msodperc":" msodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" ra":" rja");case"hh":return i+(r||e?" ra":" rja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" hnap":" hnapja");case"MM":return i+(r||e?" hnap":" hnapja");case"y":return"egy"+(r||e?" v":" ve");case"yy":return i+(r||e?" v":" ve")}return""}function r(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},1423:function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},9218:function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(381))},135:function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return e(t)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return e(t)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return e(t)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},150:function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},626:function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},9183:function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(381))},4286:function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(381))},2105:function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,n){return""===n?e+"":e+n+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(n(381))},7772:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,r=t>=100?100:null;return t+(e[t]||e[n]||e[r])},week:{dow:1,doy:7}})}(n(381))},8758:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(381))},9282:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(n(381))},3730:function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}(n(381))},563:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["end sanye","end sanyeyan"],ss:[t+" sanye",t+" sanyeyan"],m:["deqqeyek","deqqeyek"],mm:[t+" deqqe",t+" deqqeyan"],h:["saetek","saetek"],hh:[t+" saet",t+" saetan"],d:["rojek","rojek"],dd:[t+" roj",t+" rojan"],w:["hefteyek","hefteyek"],ww:[t+" hefte",t+" hefteyan"],M:["mehek","mehek"],MM:[t+" meh",t+" mehan"],y:["salek","salek"],yy:[t+" sal",t+" salan"]};return e?i[n][0]:i[n][1]}function n(t){var e=(t=""+t).substring(t.length-1),n=t.length>1?t.substring(t.length-2):"";return 12==n||13==n||"2"!=e&&"3"!=e&&"50"!=n&&"70"!=e&&"80"!=e?"":"y"}t.defineLocale("ku-kmr",{months:"Rbendan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rb_Sib_Ada_Ns_Gul_Hez_Tr_Teb_lo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekem_Duem_Sem_arem_Pncem_n_em".split("_"),weekdaysShort:"Yek_Du_S_ar_Pn_n_em".split("_"),weekdaysMin:"Ye_Du_S_a_P_n_e".split("_"),meridiem:function(t,e,n){return t<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[ro di saet] LT [de]",nextDay:"[Sib di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,w:e,ww:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(?:y||\.)/,ordinal:function(t,e){var r=e.toLowerCase();return r.includes("w")||r.includes("m")?t+".":t+n(t)},week:{dow:1,doy:4}})}(n(381))},1408:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];t.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},3291:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){var n=t%10,r=t>=100?100:null;return t+(e[t]||e[n]||e[r])},week:{dow:1,doy:7}})}(n(381))},6841:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){return i(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t}function r(t){return i(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t}function i(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return i(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return i(t)}return i(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5466:function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}(n(381))},7010:function(t,e,n){!function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,r){return e?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function r(t,e,n,r){return e?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(t){return t%10==0||t>10&&t<20}function o(t){return e[t].split("_")}function a(t,e,n,a){var s=t+" ";return 1===t?s+r(t,e,n[0],a):e?s+(i(t)?o(n)[1]:o(n)[0]):a?s+o(n)[1]:s+(i(t)?o(n)[1]:o(n)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:a,m:r,mm:a,h:r,hh:a,d:r,dd:a,M:r,MM:a,y:r,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(381))},7595:function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}function o(t,e){return e?"daas sekundes":"dam sekundm"}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:o,ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9861:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5493:function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},5966:function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(381))},7341:function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(n(381))},5115:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}(n(381))},370:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1237:function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},9847:function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},2126:function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6165:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(381))},4924:function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"n time",hh:"%d timer",d:"n dag",dd:"%d dager",w:"n uke",ww:"%d uker",M:"n mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},6744:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(381))},9814:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3901:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3877:function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2135:function(t,e,n){!function(t){"use strict";t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(381))},5858:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},4495:function(t,e,n){!function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function i(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function o(t,e,n){var r=t+" ";switch(n){case"ss":return r+(i(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return r+(i(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return r+(i(t)?"godziny":"godzin");case"ww":return r+(i(t)?"tygodnie":"tygodni");case"MM":return r+(i(t)?"miesice":"miesicy");case"yy":return r+(i(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,r){return t?/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:o,M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7971:function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(381))},9520:function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6459:function(t,e,n){!function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n(381))},1793:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){return"m"===r?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[r],+t)}var r=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,w:"",ww:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(n(381))},950:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},490:function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},124:function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})}(n(381))},4249:function(t,e,n){!function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"pr seknd":"pr sekundami";case"ss":return e||i?o+(r(t)?"sekundy":"seknd"):o+"sekundami";case"m":return e?"minta":i?"mintu":"mintou";case"mm":return e||i?o+(r(t)?"minty":"mint"):o+"mintami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?o+(r(t)?"hodiny":"hodn"):o+"hodinami";case"d":return e||i?"de":"dom";case"dd":return e||i?o+(r(t)?"dni":"dn"):o+"dami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?o+(r(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?o+(r(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:case 4:case 5:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},4985:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return i+=1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return i+=1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami";case"d":return e||r?"en dan":"enim dnem";case"dd":return i+=1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi";case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+=1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci";case"y":return e||r?"eno leto":"enim letom";case"yy":return i+=1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},1104:function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9915:function(t,e,n){!function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?e[0]:e[1]:e[2]},translate:function(t,n,r,i){var o,a=e.words[r];return 1===r.length?"y"===r&&n?" ":i||n?a[0]:a[1]:(o=e.correctGrammaticalCase(t,a),"yy"===r&&n&&""===o?t+" ":t+" "+o)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},9131:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?e[0]:e[1]:e[2]},translate:function(t,n,r,i){var o,a=e.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?a[0]:a[1]:(o=e.correctGrammaticalCase(t,a),"yy"===r&&n&&"godinu"===o?t+" godina":t+" "+o)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5893:function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8760:function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})}(n(381))},1172:function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(381))},7333:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(381))},3110:function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},2095:function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7321:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,r=t>=100?100:null;return t+(e[t]||e[n]||e[r])},week:{dow:1,doy:7}})}(n(381))},9041:function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9005:function(t,e,n){!function(t){"use strict";var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var r=t%10,i=t%100-r,o=t>=100?100:null;return t+(e[r]||e[i]||e[o])}},week:{dow:1,doy:7}})}(n(381))},5768:function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},9444:function(t,e,n){!function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"}function r(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"}function i(t,e,n,r){var i=o(t);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function o(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+e[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+e[i]),""===o?"pagh":o}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:r,s:"puS lup",ss:i,m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2397:function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var r=t%10,i=t%100-r,o=t>=100?100:null;return t+(e[r]||e[i]||e[o])}},week:{dow:1,doy:7}})}(n(381))},8254:function(t,e,n){!function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r||e?i[n][0]:i[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},699:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(381))},1106:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(381))},9288:function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(381))},7691:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){return"m"===r?n?"":"":"h"===r?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[r],+t)}function r(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative}function i(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:i("[ "),nextDay:i("[ "),lastDay:i("[ "),nextWeek:i("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[] dddd [").call(this);case 1:case 2:case 4:return i("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},3795:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},588:function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(381))},6791:function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(381))},5666:function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},4378:function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},5805:function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(381))},3839:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},5726:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9807:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},4152:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},6700:(t,e,n)=>{var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-ps":315,"./ar-ps.js":315,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku-kmr":563,"./ku-kmr.js":563,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=6700},381:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function o(t){e=t}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(l(t,e))return!1;return!0}function u(t){return void 0===t}function A(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=[],i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function p(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Zn(t,e,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function y(t){var e=null,n=!1,i=t._d&&!isNaN(t._d.getTime());return i&&(e=g(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?i:(t._isValid=i,t._isValid)}function v(t){var e=f(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var _=i.momentProperties=[],w=!1;function b(t,e){var n,r,i,o=_.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)u(i=e[r=_[n]])||(t[r]=i);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,i.updateOffset(this),w=!1)}function M(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function L(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){var r,o,a,s=[],c=arguments.length;for(o=0;o<c;o++){if(r="","object"==typeof arguments[o]){for(a in r+="\n["+o+"] ",arguments[0])l(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[o];s.push(r)}L(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var E,B={};function S(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),B[t]||(L(e),B[t]=!0)}function T(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)l(t,n)&&(T(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(t,e){var n,r=p({},t);for(n in e)l(e,n)&&(s(t[n])&&s(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)l(t,n)&&!l(e,n)&&s(t[n])&&(r[n]=p({},r[n]));return r}function P(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var F={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function k(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return T(r)?r.call(e,n):r}function R(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},Y={};function Q(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Y[t]=i),e&&(Y[e[0]]=function(){return R(i.apply(this,arguments),e[1],e[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function j(t){var e,n,r=t.match(U);for(e=0,n=r.length;e<n;e++)Y[r[e]]?r[e]=Y[r[e]]:r[e]=N(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(e,t):r[i];return o}}function W(t,e){return t.isValid()?(e=V(e,t.localeData()),H[e]=H[e]||j(e),H[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(O.lastIndex=0;n>=0&&O.test(t);)t=t.replace(O,r),O.lastIndex=0,n-=1;return t}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(U).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var K="Invalid date";function Z(){return this._invalidDate}var X="%d",q=/\d{1,2}/;function J(t){return this._ordinal.replace("%d",t)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,n,r){var i=this._relativeTime[n];return T(i)?i(t,e,n,r):i.replace(/%d/i,t)}function et(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}var nt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function rt(t){return"string"==typeof t?nt[t]||nt[t.toLowerCase()]:void 0}function it(t){var e,n,r={};for(n in t)l(t,n)&&(e=rt(n))&&(r[e]=t[n]);return r}var ot={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function at(t){var e,n=[];for(e in t)l(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}var st,lt=/\d/,ct=/\d\d/,ut=/\d{3}/,At=/\d{4}/,ht=/[+-]?\d{6}/,dt=/\d\d?/,pt=/\d\d\d\d?/,ft=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,gt=/\d{1,4}/,yt=/[+-]?\d{1,6}/,vt=/\d+/,_t=/[+-]?\d+/,wt=/Z|[+-]\d\d:?\d\d/gi,bt=/Z|[+-]\d\d(?::?\d\d)?/gi,xt=/[+-]?\d+(\.\d{1,3})?/,Mt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lt=/^[1-9]\d?/,Ct=/^([1-9]\d|\d)/;function Et(t,e,n){st[t]=T(e)?e:function(t,r){return t&&n?n:e}}function Bt(t,e){return l(st,t)?st[t](e._strict,e._locale):new RegExp(St(t))}function St(t){return Tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function Tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Dt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function It(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=Dt(e)),n}st={};var Pt={};function Ft(t,e){var n,r,i=e;for("string"==typeof t&&(t=[t]),A(e)&&(i=function(t,n){n[e]=It(t)}),r=t.length,n=0;n<r;n++)Pt[t[n]]=i}function kt(t,e){Ft(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Rt(t,e,n){null!=e&&l(Pt,t)&&Pt[t](e,n._a,n,t)}function Ut(t){return t%4==0&&t%100!=0||t%400==0}var Ot=0,Ht=1,Yt=2,Qt=3,Nt=4,jt=5,Wt=6,Vt=7,zt=8;function Gt(t){return Ut(t)?366:365}Q("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),Q(0,["YY",2],0,(function(){return this.year()%100})),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),Et("Y",_t),Et("YY",dt,ct),Et("YYYY",gt,At),Et("YYYYY",yt,ht),Et("YYYYYY",yt,ht),Ft(["YYYYY","YYYYYY"],Ot),Ft("YYYY",(function(t,e){e[Ot]=2===t.length?i.parseTwoDigitYear(t):It(t)})),Ft("YY",(function(t,e){e[Ot]=i.parseTwoDigitYear(t)})),Ft("Y",(function(t,e){e[Ot]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return It(t)+(It(t)>68?1900:2e3)};var Kt,Zt=qt("FullYear",!0);function Xt(){return Ut(this.year())}function qt(t,e){return function(n){return null!=n?($t(this,t,n),i.updateOffset(this,e),this):Jt(this,t)}}function Jt(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function $t(t,e,n){var r,i,o,a,s;if(t.isValid()&&!isNaN(n)){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=t.month(),s=29!==(s=t.date())||1!==a||Ut(o)?s:28,i?r.setUTCFullYear(o,a,s):r.setFullYear(o,a,s)}}function te(t){return T(this[t=rt(t)])?this[t]():this}function ee(t,e){if("object"==typeof t){var n,r=at(t=it(t)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(T(this[t=rt(t)]))return this[t](e);return this}function ne(t,e){return(t%e+e)%e}function re(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ne(e,12);return t+=(e-n)/12,1===n?Ut(t)?29:28:31-n%7%2}Kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Q("M",["MM",2],"Mo",(function(){return this.month()+1})),Q("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Q("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Et("M",dt,Lt),Et("MM",dt,ct),Et("MMM",(function(t,e){return e.monthsShortRegex(t)})),Et("MMMM",(function(t,e){return e.monthsRegex(t)})),Ft(["M","MM"],(function(t,e){e[Ht]=It(t)-1})),Ft(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Ht]=i:g(n).invalidMonth=t}));var ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,se=Mt,le=Mt;function ce(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ae).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone}function ue(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ae.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ae(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Kt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Kt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Kt.call(this._shortMonthsParse,a))||-1!==(i=Kt.call(this._longMonthsParse,a))?i:null:-1!==(i=Kt.call(this._longMonthsParse,a))||-1!==(i=Kt.call(this._shortMonthsParse,a))?i:null}function he(t,e,n){var r,i,o;if(this._monthsParseExact)return Ae.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function de(t,e){if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=It(e);else if(!A(e=t.localeData().monthsParse(e)))return t;var n=e,r=t.date();return r=r<29?r:Math.min(r,re(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function pe(t){return null!=t?(de(this,t),i.updateOffset(this,!0),this):Jt(this,"Month")}function fe(){return re(this.year(),this.month())}function me(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=se),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=le),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ye(){function t(t,e){return e.length-t.length}var e,n,r,i,o=[],a=[],s=[];for(e=0;e<12;e++)n=f([2e3,e]),r=Tt(this.monthsShort(n,"")),i=Tt(this.months(n,"")),o.push(r),a.push(i),s.push(i),s.push(r);o.sort(t),a.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ve(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function _e(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,n){var r=7+e-n;return-(7+_e(t,0,r).getUTCDay()-e)%7+r-1}function be(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+we(t,r,i);return s<=0?a=Gt(o=t-1)+s:s>Gt(t)?(o=t+1,a=s-Gt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function xe(t,e,n){var r,i,o=we(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Me(i=t.year()-1,e,n):a>Me(t.year(),e,n)?(r=a-Me(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Me(t,e,n){var r=we(t,e,n),i=we(t+1,e,n);return(Gt(t)-r+i)/7}function Le(t){return xe(t,this._week.dow,this._week.doy).week}Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),Et("w",dt,Lt),Et("ww",dt,ct),Et("W",dt,Lt),Et("WW",dt,ct),kt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=It(t)}));var Ce={dow:0,doy:6};function Ee(){return this._week.dow}function Be(){return this._week.doy}function Se(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Te(t){var e=xe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ie(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pe(t,e){return t.slice(e,7).concat(t.slice(0,e))}Q("d",0,"do","day"),Q("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Q("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Q("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),Et("d",dt),Et("e",dt),Et("E",dt),Et("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Et("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Et("dddd",(function(t,e){return e.weekdaysRegex(t)})),kt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t})),kt(["d","e","E"],(function(t,e,n,r){e[r]=It(t)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ue=Mt,Oe=Mt,He=Mt;function Ye(t,e){var n=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Pe(n,this._week.dow):t?n[t.day()]:n}function Qe(t){return!0===t?Pe(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ne(t){return!0===t?Pe(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function je(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Kt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Kt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Kt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Kt.call(this._weekdaysParse,a))||-1!==(i=Kt.call(this._shortWeekdaysParse,a))||-1!==(i=Kt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Kt.call(this._shortWeekdaysParse,a))||-1!==(i=Kt.call(this._weekdaysParse,a))||-1!==(i=Kt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Kt.call(this._minWeekdaysParse,a))||-1!==(i=Kt.call(this._weekdaysParse,a))||-1!==(i=Kt.call(this._shortWeekdaysParse,a))?i:null}function We(t,e,n){var r,i,o;if(this._weekdaysParseExact)return je.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Ve(t){if(!this.isValid())return null!=t?this:NaN;var e=Jt(this,"Day");return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ie(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ke(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ue),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=He),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qe(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=Tt(this.weekdaysMin(n,"")),i=Tt(this.weekdaysShort(n,"")),o=Tt(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);a.sort(t),s.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function $e(){return this.hours()||24}function tn(t,e){Q(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function en(t,e){return e._meridiemParse}function nn(t){return"p"===(t+"").toLowerCase().charAt(0)}Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,Je),Q("k",["kk",2],0,$e),Q("hmm",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)})),Q("hmmss",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),Q("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),Q("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),tn("a",!0),tn("A",!1),Et("a",en),Et("A",en),Et("H",dt,Ct),Et("h",dt,Lt),Et("k",dt,Lt),Et("HH",dt,ct),Et("hh",dt,ct),Et("kk",dt,ct),Et("hmm",pt),Et("hmmss",ft),Et("Hmm",pt),Et("Hmmss",ft),Ft(["H","HH"],Qt),Ft(["k","kk"],(function(t,e,n){var r=It(t);e[Qt]=24===r?0:r})),Ft(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Ft(["h","hh"],(function(t,e,n){e[Qt]=It(t),g(n).bigHour=!0})),Ft("hmm",(function(t,e,n){var r=t.length-2;e[Qt]=It(t.substr(0,r)),e[Nt]=It(t.substr(r)),g(n).bigHour=!0})),Ft("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Qt]=It(t.substr(0,r)),e[Nt]=It(t.substr(r,2)),e[jt]=It(t.substr(i)),g(n).bigHour=!0})),Ft("Hmm",(function(t,e,n){var r=t.length-2;e[Qt]=It(t.substr(0,r)),e[Nt]=It(t.substr(r))})),Ft("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Qt]=It(t.substr(0,r)),e[Nt]=It(t.substr(r,2)),e[jt]=It(t.substr(i))}));var rn=/[ap]\.?m?\.?/i,on=qt("Hours",!0);function an(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sn,ln={calendar:F,longDateFormat:z,invalidDate:K,ordinal:X,dayOfMonthOrdinalParse:q,relativeTime:$,months:ie,monthsShort:oe,week:Ce,weekdays:Fe,weekdaysMin:Re,weekdaysShort:ke,meridiemParse:rn},cn={},un={};function An(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function dn(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=hn(t[o]).split("-")).length,n=(n=hn(t[o+1]))?n.split("-"):null;e>0;){if(r=fn(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&An(i,n)>=e-1)break;e--}o++}return sn}function pn(t){return!(!t||!t.match("^[^/\\\\]*$"))}function fn(e){var r=null;if(void 0===cn[e]&&t&&t.exports&&pn(e))try{r=sn._abbr,n(6700)("./"+e),mn(r)}catch(t){cn[e]=null}return cn[e]}function mn(t,e){var n;return t&&((n=u(e)?vn(t):gn(t,e))?sn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),sn._abbr}function gn(t,e){if(null!==e){var n,r=ln;if(e.abbr=t,null!=cn[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[t]._config;else if(null!=e.parentLocale)if(null!=cn[e.parentLocale])r=cn[e.parentLocale]._config;else{if(null==(n=fn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;r=n._config}return cn[t]=new P(I(r,e)),un[t]&&un[t].forEach((function(t){gn(t.name,t.config)})),mn(t),cn[t]}return delete cn[t],null}function yn(t,e){if(null!=e){var n,r,i=ln;null!=cn[t]&&null!=cn[t].parentLocale?cn[t].set(I(cn[t]._config,e)):(null!=(r=fn(t))&&(i=r._config),e=I(i,e),null==r&&(e.abbr=t),(n=new P(e)).parentLocale=cn[t],cn[t]=n),mn(t)}else null!=cn[t]&&(null!=cn[t].parentLocale?(cn[t]=cn[t].parentLocale,t===mn()&&mn(t)):null!=cn[t]&&delete cn[t]);return cn[t]}function vn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sn;if(!a(t)){if(e=fn(t))return e;t=[t]}return dn(t)}function _n(){return E(cn)}function wn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Ht]<0||n[Ht]>11?Ht:n[Yt]<1||n[Yt]>re(n[Ot],n[Ht])?Yt:n[Qt]<0||n[Qt]>24||24===n[Qt]&&(0!==n[Nt]||0!==n[jt]||0!==n[Wt])?Qt:n[Nt]<0||n[Nt]>59?Nt:n[jt]<0||n[jt]>59?jt:n[Wt]<0||n[Wt]>999?Wt:-1,g(t)._overflowDayOfYear&&(e<Ot||e>Yt)&&(e=Yt),g(t)._overflowWeeks&&-1===e&&(e=Vt),g(t)._overflowWeekday&&-1===e&&(e=zt),g(t).overflow=e),t}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/Z|[+-]\d\d(?::?\d\d)?/,Ln=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Bn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Sn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(t){var e,n,r,i,o,a,s=t._i,l=bn.exec(s)||xn.exec(s),c=Ln.length,u=Cn.length;if(l){for(g(t).iso=!0,e=0,n=c;e<n;e++)if(Ln[e][1].exec(l[1])){i=Ln[e][0],r=!1!==Ln[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=u;e<n;e++)if(Cn[e][1].exec(l[3])){o=(l[2]||" ")+Cn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Mn.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Nn(t)}else t._isValid=!1}function Dn(t,e,n,r,i,o){var a=[In(t),oe.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function In(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Pn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Fn(t,e,n){return!t||ke.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function kn(t,e,n){if(t)return Sn[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(t){var e,n=Bn.exec(Pn(t._i));if(n){if(e=Dn(n[4],n[3],n[2],n[5],n[6],n[7]),!Fn(n[1],e,t))return;t._a=e,t._tzm=kn(n[8],n[9],n[10]),t._d=_e.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Un(t){var e=En.exec(t._i);null===e?(Tn(t),!1===t._isValid&&(delete t._isValid,Rn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:i.createFromInputFallback(t)))):t._d=new Date(+e[1])}function On(t,e,n){return null!=t?t:null!=e?e:n}function Hn(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Yn(t){var e,n,r,i,o,a=[];if(!t._d){for(r=Hn(t),t._w&&null==t._a[Yt]&&null==t._a[Ht]&&Qn(t),null!=t._dayOfYear&&(o=On(t._a[Ot],r[Ot]),(t._dayOfYear>Gt(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=_e(o,0,t._dayOfYear),t._a[Ht]=n.getUTCMonth(),t._a[Yt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Qt]&&0===t._a[Nt]&&0===t._a[jt]&&0===t._a[Wt]&&(t._nextDay=!0,t._a[Qt]=0),t._d=(t._useUTC?_e:ve).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Qt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(g(t).weekdayMismatch=!0)}}function Qn(t){var e,n,r,i,o,a,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=On(e.GG,t._a[Ot],xe(Xn(),1,4).year),r=On(e.W,1),((i=On(e.E,1))<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,c=xe(Xn(),o,a),n=On(e.gg,t._a[Ot],c.year),r=On(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>Me(n,o,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=be(n,r,i,o,a),t._a[Ot]=s.year,t._dayOfYear=s.dayOfYear)}function Nn(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],g(t).empty=!0;var e,n,r,o,a,s,l,c=""+t._i,u=c.length,A=0;for(l=(r=V(t._f,t._locale).match(U)||[]).length,e=0;e<l;e++)o=r[e],(n=(c.match(Bt(o,t))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&g(t).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),A+=n.length),Y[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),Rt(o,n,t)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=u-A,c.length>0&&g(t).unusedInput.push(c),t._a[Qt]<=12&&!0===g(t).bigHour&&t._a[Qt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Qt]=jn(t._locale,t._a[Qt],t._meridiem),null!==(s=g(t).era)&&(t._a[Ot]=t._locale.erasConvertYear(s,t._a[Ot])),Yn(t),wn(t)}else Rn(t);else Tn(t)}function jn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Wn(t){var e,n,r,i,o,a,s=!1,l=t._f.length;if(0===l)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<l;i++)o=0,a=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Nn(e),y(e)&&(a=!0),o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,s?o<r&&(r=o,n=e):(null==r||o<r||a)&&(r=o,n=e,a&&(s=!0));p(t,n||e)}function Vn(t){if(!t._d){var e=it(t._i),n=void 0===e.day?e.date:e.day;t._a=d([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Yn(t)}}function zn(t){var e=new x(wn(Gn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gn(t){var e=t._i,n=t._f;return t._locale=t._locale||vn(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),M(e)?new x(wn(e)):(h(e)?t._d=e:a(n)?Wn(t):n?Nn(t):Kn(t),y(t)||(t._d=null),t))}function Kn(t){var e=t._i;u(e)?t._d=new Date(i.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Un(t):a(e)?(t._a=d(e.slice(0),(function(t){return parseInt(t,10)})),Yn(t)):s(e)?Vn(t):A(e)?t._d=new Date(e):i.createFromInputFallback(t)}function Zn(t,e,n,r,i){var o={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(t)&&c(t)||a(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,zn(o)}function Xn(t,e,n,r){return Zn(t,e,n,r,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var qn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Jn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function $n(t,e){var n,r;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Xn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function tr(){return $n("isBefore",[].slice.call(arguments,0))}function er(){return $n("isAfter",[].slice.call(arguments,0))}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ir(t){var e,n,r=!1,i=rr.length;for(e in t)if(l(t,e)&&(-1===Kt.call(rr,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<i;++n)if(t[rr[n]]){if(r)return!1;parseFloat(t[rr[n]])!==It(t[rr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function ar(){return Sr(NaN)}function sr(t){var e=it(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=ir(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function lr(t){return t instanceof sr}function cr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ur(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&It(t[r])!==It(e[r]))&&a++;return a+o}function Ar(t,e){Q(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)}))}Ar("Z",":"),Ar("ZZ",""),Et("Z",bt),Et("ZZ",bt),Ft(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=dr(bt,t)}));var hr=/([\+\-]|\d\d)/gi;function dr(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+It(n[2]))?0:"+"===n[0]?r:-r}function pr(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(M(t)||h(t)?t.valueOf():Xn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Xn(t).local()}function fr(t){return-Math.round(t._d.getTimezoneOffset())}function mr(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=dr(bt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=fr(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Fr(this,Sr(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fr(this)}function gr(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yr(t){return this.utcOffset(0,t)}function vr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=dr(wt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function wr(t){return!!this.isValid()&&(t=t?Xn(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Gn(e))._a?(t=e._isUTC?f(e._a):Xn(e._a),this._isDSTShifted=this.isValid()&&ur(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mr(){return!!this.isValid()&&!this._isUTC}function Lr(){return!!this.isValid()&&this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Br=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sr(t,e){var n,r,i,o=t,a=null;return lr(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:A(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(a=Er.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:It(a[Yt])*n,h:It(a[Qt])*n,m:It(a[Nt])*n,s:It(a[jt])*n,ms:It(cr(1e3*a[Wt]))*n}):(a=Br.exec(t))?(n="-"===a[1]?-1:1,o={y:Tr(a[2],n),M:Tr(a[3],n),w:Tr(a[4],n),d:Tr(a[5],n),h:Tr(a[6],n),m:Tr(a[7],n),s:Tr(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Ir(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new sr(o),lr(t)&&l(t,"_locale")&&(r._locale=t._locale),lr(t)&&l(t,"_isValid")&&(r._isValid=t._isValid),r}function Tr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Dr(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ir(t,e){var n;return t.isValid()&&e.isValid()?(e=pr(e,t),t.isBefore(e)?n=Dr(t,e):((n=Dr(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Fr(this,Sr(n,r),t),this}}function Fr(t,e,n,r){var o=e._milliseconds,a=cr(e._days),s=cr(e._months);t.isValid()&&(r=null==r||r,s&&de(t,Jt(t,"Month")+s*n),a&&$t(t,"Date",Jt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Sr.fn=sr.prototype,Sr.invalid=ar;var kr=Pr(1,"add"),Rr=Pr(-1,"subtract");function Ur(t){return"string"==typeof t||t instanceof String}function Or(t){return M(t)||h(t)||Ur(t)||A(t)||Yr(t)||Hr(t)||null==t}function Hr(t){var e,n,r=s(t)&&!c(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(e=0;e<a;e+=1)n=o[e],i=i||l(t,n);return r&&i}function Yr(t){var e=a(t),n=!1;return e&&(n=0===t.filter((function(e){return!A(e)&&Ur(t)})).length),e&&n}function Qr(t){var e,n,r=s(t)&&!c(t),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=o[e],i=i||l(t,n);return r&&i}function Nr(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function jr(t,e){1===arguments.length&&(arguments[0]?Or(arguments[0])?(t=arguments[0],e=void 0):Qr(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Xn(),r=pr(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(T(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Wr(){return new x(this)}function Vr(t,e){var n=M(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function zr(t,e){var n=M(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Gr(t,e,n,r){var i=M(t)?t:Xn(t),o=M(e)?e:Xn(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Kr(t,e){var n,r=M(t)?t:Xn(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Zr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Xr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qr(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=rt(e)){case"year":o=Jr(this,r)/12;break;case"month":o=Jr(this,r);break;case"quarter":o=Jr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Dt(o)}function Jr(t,e){if(t.date()<e.date())return-Jr(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ti(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(t+e+n+r)}function ni(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function ri(t,e){return this.isValid()&&(M(t)&&t.isValid()||Xn(t).isValid())?Sr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ii(t){return this.from(Xn(),t)}function oi(t,e){return this.isValid()&&(M(t)&&t.isValid()||Xn(t).isValid())?Sr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ai(t){return this.to(Xn(),t)}function si(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vn(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var li=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ci(){return this._locale}var ui=1e3,Ai=60*ui,hi=60*Ai,di=3506328*hi;function pi(t,e){return(t%e+e)%e}function fi(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-di:new Date(t,e,n).valueOf()}function mi(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-di:Date.UTC(t,e,n)}function gi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:fi,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pi(e+(this._isUTC?0:this.utcOffset()*Ai),hi);break;case"minute":e=this._d.valueOf(),e-=pi(e,Ai);break;case"second":e=this._d.valueOf(),e-=pi(e,ui)}return this._d.setTime(e),i.updateOffset(this,!0),this}function yi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:fi,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hi-pi(e+(this._isUTC?0:this.utcOffset()*Ai),hi)-1;break;case"minute":e=this._d.valueOf(),e+=Ai-pi(e,Ai)-1;break;case"second":e=this._d.valueOf(),e+=ui-pi(e,ui)-1}return this._d.setTime(e),i.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function bi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mi(){return this.isValid()?this.toISOString():null}function Li(){return y(this)}function Ci(){return p({},g(this))}function Ei(){return g(this).overflow}function Bi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Si(t,e){var n,r,o,a=this._eras||vn("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"==typeof a[n].since&&(o=i(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=i(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ti(t,e,n){var r,i,o,a,s,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[r];break;case"NNNN":if(o===t)return l[r];break;case"NNNNN":if(s===t)return l[r]}else if([o,a,s].indexOf(t)>=0)return l[r]}function Di(t,e){var n=t.since<=t.until?1:-1;return void 0===e?i(t.since).year():i(t.since).year()+(e-t.offset)*n}function Ii(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function Pi(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Fi(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function ki(){var t,e,n,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until||o[t].until<=r&&r<=o[t].since)return(this.year()-i(o[t].since).year())*n+o[t].offset;return this.year()}function Ri(t){return l(this,"_erasNameRegex")||ji.call(this),t?this._erasNameRegex:this._erasRegex}function Ui(t){return l(this,"_erasAbbrRegex")||ji.call(this),t?this._erasAbbrRegex:this._erasRegex}function Oi(t){return l(this,"_erasNarrowRegex")||ji.call(this),t?this._erasNarrowRegex:this._erasRegex}function Hi(t,e){return e.erasAbbrRegex(t)}function Yi(t,e){return e.erasNameRegex(t)}function Qi(t,e){return e.erasNarrowRegex(t)}function Ni(t,e){return e._eraYearOrdinalRegex||vt}function ji(){var t,e,n,r,i,o=[],a=[],s=[],l=[],c=this.eras();for(t=0,e=c.length;t<e;++t)n=Tt(c[t].name),r=Tt(c[t].abbr),i=Tt(c[t].narrow),a.push(n),o.push(r),s.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Wi(t,e){Q(0,[t,t.length],0,e)}function Vi(t){return qi.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zi(t){return qi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return Me(this.year(),1,4)}function Ki(){return Me(this.isoWeekYear(),1,4)}function Zi(){var t=this.localeData()._week;return Me(this.year(),t.dow,t.doy)}function Xi(){var t=this.localeData()._week;return Me(this.weekYear(),t.dow,t.doy)}function qi(t,e,n,r,i){var o;return null==t?xe(this,r,i).year:(e>(o=Me(t,r,i))&&(e=o),Ji.call(this,t,e,n,r,i))}function Ji(t,e,n,r,i){var o=be(t,e,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $i(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}Q("N",0,0,"eraAbbr"),Q("NN",0,0,"eraAbbr"),Q("NNN",0,0,"eraAbbr"),Q("NNNN",0,0,"eraName"),Q("NNNNN",0,0,"eraNarrow"),Q("y",["y",1],"yo","eraYear"),Q("y",["yy",2],0,"eraYear"),Q("y",["yyy",3],0,"eraYear"),Q("y",["yyyy",4],0,"eraYear"),Et("N",Hi),Et("NN",Hi),Et("NNN",Hi),Et("NNNN",Yi),Et("NNNNN",Qi),Ft(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?g(n).era=i:g(n).invalidEra=t})),Et("y",vt),Et("yy",vt),Et("yyy",vt),Et("yyyy",vt),Et("yo",Ni),Ft(["y","yy","yyy","yyyy"],Ot),Ft(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ot]=n._locale.eraYearOrdinalParse(t,i):e[Ot]=parseInt(t,10)})),Q(0,["gg",2],0,(function(){return this.weekYear()%100})),Q(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wi("gggg","weekYear"),Wi("ggggg","weekYear"),Wi("GGGG","isoWeekYear"),Wi("GGGGG","isoWeekYear"),Et("G",_t),Et("g",_t),Et("GG",dt,ct),Et("gg",dt,ct),Et("GGGG",gt,At),Et("gggg",gt,At),Et("GGGGG",yt,ht),Et("ggggg",yt,ht),kt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=It(t)})),kt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),Q("Q",0,"Qo","quarter"),Et("Q",lt),Ft("Q",(function(t,e){e[Ht]=3*(It(t)-1)})),Q("D",["DD",2],"Do","date"),Et("D",dt,Lt),Et("DD",dt,ct),Et("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ft(["D","DD"],Yt),Ft("Do",(function(t,e){e[Yt]=It(t.match(dt)[0])}));var to=qt("Date",!0);function eo(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}Q("DDD",["DDDD",3],"DDDo","dayOfYear"),Et("DDD",mt),Et("DDDD",ut),Ft(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=It(t)})),Q("m",["mm",2],0,"minute"),Et("m",dt,Ct),Et("mm",dt,ct),Ft(["m","mm"],Nt);var no=qt("Minutes",!1);Q("s",["ss",2],0,"second"),Et("s",dt,Ct),Et("ss",dt,ct),Ft(["s","ss"],jt);var ro,io,oo=qt("Seconds",!1);for(Q("S",0,0,(function(){return~~(this.millisecond()/100)})),Q(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Q(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Q(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Q(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Q(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Q(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Et("S",mt,lt),Et("SS",mt,ct),Et("SSS",mt,ut),ro="SSSS";ro.length<=9;ro+="S")Et(ro,vt);function ao(t,e){e[Wt]=It(1e3*("0."+t))}for(ro="S";ro.length<=9;ro+="S")Ft(ro,ao);function so(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}io=qt("Milliseconds",!1),Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var co=x.prototype;function uo(t){return Xn(1e3*t)}function Ao(){return Xn.apply(null,arguments).parseZone()}function ho(t){return t}co.add=kr,co.calendar=jr,co.clone=Wr,co.diff=qr,co.endOf=yi,co.format=ni,co.from=ri,co.fromNow=ii,co.to=oi,co.toNow=ai,co.get=te,co.invalidAt=Ei,co.isAfter=Vr,co.isBefore=zr,co.isBetween=Gr,co.isSame=Kr,co.isSameOrAfter=Zr,co.isSameOrBefore=Xr,co.isValid=Li,co.lang=li,co.locale=si,co.localeData=ci,co.max=Jn,co.min=qn,co.parsingFlags=Ci,co.set=ee,co.startOf=gi,co.subtract=Rr,co.toArray=bi,co.toObject=xi,co.toDate=wi,co.toISOString=ti,co.inspect=ei,"undefined"!=typeof Symbol&&null!=Symbol.for&&(co[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),co.toJSON=Mi,co.toString=$r,co.unix=_i,co.valueOf=vi,co.creationData=Bi,co.eraName=Ii,co.eraNarrow=Pi,co.eraAbbr=Fi,co.eraYear=ki,co.year=Zt,co.isLeapYear=Xt,co.weekYear=Vi,co.isoWeekYear=zi,co.quarter=co.quarters=$i,co.month=pe,co.daysInMonth=fe,co.week=co.weeks=Se,co.isoWeek=co.isoWeeks=Te,co.weeksInYear=Zi,co.weeksInWeekYear=Xi,co.isoWeeksInYear=Gi,co.isoWeeksInISOWeekYear=Ki,co.date=to,co.day=co.days=Ve,co.weekday=ze,co.isoWeekday=Ge,co.dayOfYear=eo,co.hour=co.hours=on,co.minute=co.minutes=no,co.second=co.seconds=oo,co.millisecond=co.milliseconds=io,co.utcOffset=mr,co.utc=yr,co.local=vr,co.parseZone=_r,co.hasAlignedHourOffset=wr,co.isDST=br,co.isLocal=Mr,co.isUtcOffset=Lr,co.isUtc=Cr,co.isUTC=Cr,co.zoneAbbr=so,co.zoneName=lo,co.dates=C("dates accessor is deprecated. Use date instead.",to),co.months=C("months accessor is deprecated. Use month instead",pe),co.years=C("years accessor is deprecated. Use year instead",Zt),co.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),co.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var po=P.prototype;function fo(t,e,n,r){var i=vn(),o=f().set(r,e);return i[n](o,t)}function mo(t,e,n){if(A(t)&&(e=t,t=void 0),t=t||"",null!=e)return fo(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fo(t,r,n,"month");return i}function go(t,e,n,r){"boolean"==typeof t?(A(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,A(e)&&(n=e,e=void 0),e=e||"");var i,o=vn(),a=t?o._week.dow:0,s=[];if(null!=n)return fo(e,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=fo(e,(i+a)%7,r,"day");return s}function yo(t,e){return mo(t,e,"months")}function vo(t,e){return mo(t,e,"monthsShort")}function _o(t,e,n){return go(t,e,n,"weekdays")}function wo(t,e,n){return go(t,e,n,"weekdaysShort")}function bo(t,e,n){return go(t,e,n,"weekdaysMin")}po.calendar=k,po.longDateFormat=G,po.invalidDate=Z,po.ordinal=J,po.preparse=ho,po.postformat=ho,po.relativeTime=tt,po.pastFuture=et,po.set=D,po.eras=Si,po.erasParse=Ti,po.erasConvertYear=Di,po.erasAbbrRegex=Ui,po.erasNameRegex=Ri,po.erasNarrowRegex=Oi,po.months=ce,po.monthsShort=ue,po.monthsParse=he,po.monthsRegex=ge,po.monthsShortRegex=me,po.week=Le,po.firstDayOfYear=Be,po.firstDayOfWeek=Ee,po.weekdays=Ye,po.weekdaysMin=Ne,po.weekdaysShort=Qe,po.weekdaysParse=We,po.weekdaysRegex=Ke,po.weekdaysShortRegex=Ze,po.weekdaysMinRegex=Xe,po.isPM=nn,po.meridiem=an,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===It(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var xo=Math.abs;function Mo(){var t=this._data;return this._milliseconds=xo(this._milliseconds),this._days=xo(this._days),this._months=xo(this._months),t.milliseconds=xo(t.milliseconds),t.seconds=xo(t.seconds),t.minutes=xo(t.minutes),t.hours=xo(t.hours),t.months=xo(t.months),t.years=xo(t.years),this}function Lo(t,e,n,r){var i=Sr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Co(t,e){return Lo(this,t,e,1)}function Eo(t,e){return Lo(this,t,e,-1)}function Bo(t){return t<0?Math.floor(t):Math.ceil(t)}function So(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Bo(Do(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=Dt(o/1e3),l.seconds=t%60,e=Dt(t/60),l.minutes=e%60,n=Dt(e/60),l.hours=n%24,a+=Dt(n/24),s+=i=Dt(To(a)),a-=Bo(Do(i)),r=Dt(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function To(t){return 4800*t/146097}function Do(t){return 146097*t/4800}function Io(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+To(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Do(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Po(t){return function(){return this.as(t)}}var Fo=Po("ms"),ko=Po("s"),Ro=Po("m"),Uo=Po("h"),Oo=Po("d"),Ho=Po("w"),Yo=Po("M"),Qo=Po("Q"),No=Po("y"),jo=Fo;function Wo(){return Sr(this)}function Vo(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function zo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Go=zo("milliseconds"),Ko=zo("seconds"),Zo=zo("minutes"),Xo=zo("hours"),qo=zo("days"),Jo=zo("months"),$o=zo("years");function ta(){return Dt(this.days()/7)}var ea=Math.round,na={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ra(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ia(t,e,n,r){var i=Sr(t).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),l=ea(i.as("d")),c=ea(i.as("M")),u=ea(i.as("w")),A=ea(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||A<=1&&["y"]||["yy",A])[2]=e,h[3]=+t>0,h[4]=r,ra.apply(null,h)}function oa(t){return void 0===t?ea:"function"==typeof t&&(ea=t,!0)}function aa(t,e){return void 0!==na[t]&&(void 0===e?na[t]:(na[t]=e,"s"===t&&(na.ss=e-1),!0))}function sa(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=na;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(o=Object.assign({},na,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=ia(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var la=Math.abs;function ca(t){return(t>0)-(t<0)||+t}function ua(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,a,s,l=la(this._milliseconds)/1e3,c=la(this._days),u=la(this._months),A=this.asSeconds();return A?(t=Dt(l/60),e=Dt(t/60),l%=60,t%=60,n=Dt(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=A<0?"-":"",o=ca(this._months)!==ca(A)?"-":"",a=ca(this._days)!==ca(A)?"-":"",s=ca(this._milliseconds)!==ca(A)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+r+"S":"")):"P0D"}var Aa=sr.prototype;return Aa.isValid=or,Aa.abs=Mo,Aa.add=Co,Aa.subtract=Eo,Aa.as=Io,Aa.asMilliseconds=Fo,Aa.asSeconds=ko,Aa.asMinutes=Ro,Aa.asHours=Uo,Aa.asDays=Oo,Aa.asWeeks=Ho,Aa.asMonths=Yo,Aa.asQuarters=Qo,Aa.asYears=No,Aa.valueOf=jo,Aa._bubble=So,Aa.clone=Wo,Aa.get=Vo,Aa.milliseconds=Go,Aa.seconds=Ko,Aa.minutes=Zo,Aa.hours=Xo,Aa.days=qo,Aa.weeks=ta,Aa.months=Jo,Aa.years=$o,Aa.humanize=sa,Aa.toISOString=ua,Aa.toString=ua,Aa.toJSON=ua,Aa.locale=si,Aa.localeData=ci,Aa.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),Aa.lang=li,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),Et("x",_t),Et("X",xt),Ft("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Ft("x",(function(t,e,n){n._d=new Date(It(t))})),i.version="2.30.1",o(Xn),i.fn=co,i.min=tr,i.max=er,i.now=nr,i.utc=f,i.unix=uo,i.months=yo,i.isDate=h,i.locale=mn,i.invalid=v,i.duration=Sr,i.isMoment=M,i.weekdays=_o,i.parseZone=Ao,i.localeData=vn,i.isDuration=lr,i.monthsShort=vo,i.weekdaysMin=bo,i.defineLocale=gn,i.updateLocale=yn,i.locales=_n,i.weekdaysShort=wo,i.normalizeUnits=rt,i.relativeTimeRounding=oa,i.relativeTimeThreshold=aa,i.calendarFormat=Nr,i.prototype=co,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},1415:function(module,__unused_webpack_exports,__webpack_require__){var n;this||self,n=function(){return function(){var __webpack_modules__={4264:function(t,e,n){t.exports=n(7588)},5036:function(t,e,n){n(1719),n(5677),n(6394),n(5334),n(6969),n(2021),n(8328),n(2129);var r=n(1287);t.exports=r.Promise},2582:function(t,e,n){n(1646),n(6394),n(2004),n(462),n(8407),n(2429),n(1172),n(8288),n(1274),n(8201),n(6626),n(3211),n(9952),n(15),n(9831),n(7521),n(2972),n(6956),n(5222),n(2257);var r=n(1287);t.exports=r.Symbol},8257:function(t,e,n){var r=n(7583),i=n(9212),o=n(5637),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},1186:function(t,e,n){var r=n(7583),i=n(2097),o=n(5637),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},9882:function(t,e,n){var r=n(7583),i=n(9212),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},6288:function(t,e,n){var r=n(3649),i=n(3590),o=n(4615),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},4761:function(t,e,n){var r=n(7583),i=n(2447),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},2569:function(t,e,n){var r=n(7583),i=n(794),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},5766:function(t,e,n){var r=n(2977),i=n(6782),o=n(1825),a=function(t){return function(e,n,a){var s,l=r(e),c=o(l),u=i(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4805:function(t,e,n){var r=n(2938),i=n(7386),o=n(5044),a=n(1324),s=n(1825),l=n(4822),c=i([].push),u=function(t){var e=1==t,n=2==t,i=3==t,u=4==t,A=6==t,h=7==t,d=5==t||A;return function(p,f,m,g){for(var y,v,_=a(p),w=o(_),b=r(f,m),x=s(w),M=0,L=g||l,C=e?L(p,x):n||h?L(p,0):void 0;x>M;M++)if((d||M in w)&&(v=b(y=w[M],M,_),t))if(e)C[M]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return M;case 2:c(C,y)}else switch(t){case 4:return!1;case 7:c(C,y)}return A?-1:i||u?u:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},9269:function(t,e,n){var r=n(6544),i=n(3649),o=n(4061),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4546:function(t,e,n){var r=n(7583),i=n(6782),o=n(1825),a=n(5999),s=r.Array,l=Math.max;t.exports=function(t,e,n){for(var r=o(t),c=i(e,r),u=i(void 0===n?r:n,r),A=s(l(u-c,0)),h=0;c<u;c++,h++)a(A,h,t[c]);return A.length=h,A}},6917:function(t,e,n){var r=n(7386);t.exports=r([].slice)},5289:function(t,e,n){var r=n(7583),i=n(4521),o=n(2097),a=n(794),s=n(3649)("species"),l=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===l||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?l:e}},4822:function(t,e,n){var r=n(5289);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},3616:function(t,e,n){var r=n(3649)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},9624:function(t,e,n){var r=n(7386),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},3058:function(t,e,n){var r=n(7583),i=n(8191),o=n(9212),a=n(9624),s=n(3649)("toStringTag"),l=r.Object,c="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=l(t),s))?n:c?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},1509:function(t,e,n){var r=n(7386)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=r(t,o,"");return t}},3478:function(t,e,n){var r=n(2870),i=n(929),o=n(6683),a=n(4615);t.exports=function(t,e,n){for(var s=i(e),l=a.f,c=o.f,u=0;u<s.length;u++){var A=s[u];r(t,A)||n&&r(n,A)||l(t,A,c(e,A))}}},926:function(t,e,n){var r=n(6544);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4683:function(t,e,n){"use strict";var r=n(2365).IteratorPrototype,i=n(3590),o=n(4677),a=n(8821),s=n(339),l=function(){return this};t.exports=function(t,e,n,c){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,u,!1,!0),s[u]=l,t}},57:function(t,e,n){var r=n(8494),i=n(4615),o=n(4677);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},4677:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5999:function(t,e,n){"use strict";var r=n(8734),i=n(4615),o=n(4677);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},9012:function(t,e,n){"use strict";var r=n(7263),i=n(8262),o=n(6268),a=n(4340),s=n(9212),l=n(4683),c=n(729),u=n(7496),A=n(8821),h=n(57),d=n(1270),p=n(3649),f=n(339),m=n(2365),g=a.PROPER,y=a.CONFIGURABLE,v=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),b="keys",x="values",M="entries",L=function(){return this};t.exports=function(t,e,n,a,p,m,C){l(n,e,a);var E,B,S,T=function(t){if(t===p&&k)return k;if(!_&&t in P)return P[t];switch(t){case b:case x:case M:return function(){return new n(this,t)}}return function(){return new n(this)}},D=e+" Iterator",I=!1,P=t.prototype,F=P[w]||P["@@iterator"]||p&&P[p],k=!_&&F||T(p),R="Array"==e&&P.entries||F;if(R&&(E=c(R.call(new t)))!==Object.prototype&&E.next&&(o||c(E)===v||(u?u(E,v):s(E[w])||d(E,w,L)),A(E,D,!0,!0),o&&(f[D]=L)),g&&p==x&&F&&F.name!==x&&(!o&&y?h(P,"name",x):(I=!0,k=function(){return i(F,this)})),p)if(B={values:T(x),keys:m?k:T(b),entries:T(M)},C)for(S in B)(_||I||!(S in P))&&d(P,S,B[S]);else r({target:e,proto:!0,forced:_||I},B);return o&&!C||P[w]===k||d(P,w,k,{name:p}),f[e]=k,B}},2219:function(t,e,n){var r=n(1287),i=n(2870),o=n(491),a=n(4615).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},8494:function(t,e,n){var r=n(6544);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6668:function(t,e,n){var r=n(7583),i=n(794),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6778:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(t,e,n){var r=n(6668)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},2274:function(t){t.exports="object"==typeof window},3256:function(t,e,n){var r=n(6918),i=n(7583);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},7020:function(t,e,n){var r=n(6918);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5354:function(t,e,n){var r=n(9624),i=n(7583);t.exports="process"==r(i.process)},6846:function(t,e,n){var r=n(6918);t.exports=/web0s(?!.*chrome)/i.test(r)},6918:function(t,e,n){var r=n(5897);t.exports=r("navigator","userAgent")||""},4061:function(t,e,n){var r,i,o=n(7583),a=n(6918),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},5690:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1178:function(t,e,n){var r=n(6544),i=n(4677);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},7263:function(t,e,n){var r=n(7583),i=n(6683).f,o=n(57),a=n(1270),s=n(460),l=n(3478),c=n(4451);t.exports=function(t,e){var n,u,A,h,d,p=t.target,f=t.global,m=t.stat;if(n=f?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(u in e){if(h=e[u],A=t.noTargetGet?(d=i(n,u))&&d.value:n[u],!c(f?u:p+(m?".":"#")+u,t.forced)&&void 0!==A){if(typeof h==typeof A)continue;l(h,A)}(t.sham||A&&A.sham)&&o(h,"sham",!0),a(n,u,h,t)}}},6544:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},1611:function(t,e,n){var r=n(8987),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},2938:function(t,e,n){var r=n(7386),i=n(8257),o=n(8987),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},8987:function(t,e,n){var r=n(6544);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},8262:function(t,e,n){var r=n(8987),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},4340:function(t,e,n){var r=n(8494),i=n(2870),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},7386:function(t,e,n){var r=n(8987),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5897:function(t,e,n){var r=n(7583),i=n(9212);t.exports=function(t,e){return arguments.length<2?function(t){return i(t)?t:void 0}(r[t]):r[t]&&r[t][e]}},8272:function(t,e,n){var r=n(3058),i=n(911),o=n(339),a=n(3649)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[r(t)]}},6307:function(t,e,n){var r=n(7583),i=n(8262),o=n(8257),a=n(2569),s=n(5637),l=n(8272),c=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?l(t):e;if(o(n))return a(i(n,t));throw c(s(t)+" is not iterable")}},911:function(t,e,n){var r=n(8257);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},7583:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2870:function(t,e,n){var r=n(7386),i=n(1324),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},4639:function(t){t.exports={}},2716:function(t,e,n){var r=n(7583);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},482:function(t,e,n){var r=n(5897);t.exports=r("document","documentElement")},275:function(t,e,n){var r=n(8494),i=n(6544),o=n(6668);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5044:function(t,e,n){var r=n(7583),i=n(7386),o=n(6544),a=n(9624),s=r.Object,l=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?l(t,""):s(t)}:s},9734:function(t,e,n){var r=n(7386),i=n(9212),o=n(1314),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},4402:function(t,e,n){var r=n(794),i=n(57);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},2743:function(t,e,n){var r,i,o,a=n(9491),s=n(7583),l=n(7386),c=n(794),u=n(57),A=n(2870),h=n(1314),d=n(9137),p=n(4639),f="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||h.state){var y=h.state||(h.state=new g),v=l(y.get),_=l(y.has),w=l(y.set);r=function(t,e){if(_(y,t))throw new m(f);return e.facade=t,w(y,t,e),e},i=function(t){return v(y,t)||{}},o=function(t){return _(y,t)}}else{var b=d("state");p[b]=!0,r=function(t,e){if(A(t,b))throw new m(f);return e.facade=t,u(t,b,e),e},i=function(t){return A(t,b)?t[b]:{}},o=function(t){return A(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},114:function(t,e,n){var r=n(3649),i=n(339),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4521:function(t,e,n){var r=n(9624);t.exports=Array.isArray||function(t){return"Array"==r(t)}},9212:function(t){t.exports=function(t){return"function"==typeof t}},2097:function(t,e,n){var r=n(7386),i=n(6544),o=n(9212),a=n(3058),s=n(5897),l=n(9734),c=function(){},u=[],A=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(c),f=function(t){if(!o(t))return!1;try{return A(c,u,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,l(t))}catch(t){return!0}};m.sham=!0,t.exports=!A||i((function(){var t;return f(f.call)||!f(Object)||!f((function(){t=!0}))||t}))?m:f},4451:function(t,e,n){var r=n(6544),i=n(9212),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==u||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},794:function(t,e,n){var r=n(9212);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},6268:function(t){t.exports=!1},5871:function(t,e,n){var r=n(7583),i=n(5897),o=n(9212),a=n(2447),s=n(7786),l=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,l(t))}},4026:function(t,e,n){var r=n(7583),i=n(2938),o=n(8262),a=n(2569),s=n(5637),l=n(114),c=n(1825),u=n(2447),A=n(6307),h=n(8272),d=n(7093),p=r.TypeError,f=function(t,e){this.stopped=t,this.result=e},m=f.prototype;t.exports=function(t,e,n){var r,g,y,v,_,w,b,x=n&&n.that,M=!(!n||!n.AS_ENTRIES),L=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),E=i(e,x),B=function(t){return r&&d(r,"normal",t),new f(!0,t)},S=function(t){return M?(a(t),C?E(t[0],t[1],B):E(t[0],t[1])):C?E(t,B):E(t)};if(L)r=t;else{if(!(g=h(t)))throw p(s(t)+" is not iterable");if(l(g)){for(y=0,v=c(t);v>y;y++)if((_=S(t[y]))&&u(m,_))return _;return new f(!1)}r=A(t,g)}for(w=r.next;!(b=o(w,r)).done;){try{_=S(b.value)}catch(t){d(r,"throw",t)}if("object"==typeof _&&_&&u(m,_))return _}return new f(!1)}},7093:function(t,e,n){var r=n(8262),i=n(2569),o=n(911);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},2365:function(t,e,n){"use strict";var r,i,o,a=n(6544),s=n(9212),l=n(3590),c=n(729),u=n(1270),A=n(3649),h=n(6268),d=A("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:h&&(r=l(r)),s(r[d])||u(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},339:function(t){t.exports={}},1825:function(t,e,n){var r=n(97);t.exports=function(t){return r(t.length)}},2095:function(t,e,n){var r,i,o,a,s,l,c,u,A=n(7583),h=n(2938),d=n(6683).f,p=n(8117).set,f=n(7020),m=n(3256),g=n(6846),y=n(5354),v=A.MutationObserver||A.WebKitMutationObserver,_=A.document,w=A.process,b=A.Promise,x=d(A,"queueMicrotask"),M=x&&x.value;M||(r=function(){var t,e;for(y&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},f||y||g||!v||!_?!m&&b&&b.resolve?((c=b.resolve(void 0)).constructor=b,u=h(c.then,c),a=function(){u(r)}):y?a=function(){w.nextTick(r)}:(p=h(p,A),a=function(){p(r)}):(s=!0,l=_.createTextNode(""),new v(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),t.exports=M||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},783:function(t,e,n){var r=n(7583);t.exports=r.Promise},8640:function(t,e,n){var r=n(4061),i=n(6544);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9491:function(t,e,n){var r=n(7583),i=n(9212),o=n(9734),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},5084:function(t,e,n){"use strict";var r=n(8257),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},2764:function(t,e,n){var r=n(8320);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},3590:function(t,e,n){var r,i=n(2569),o=n(8728),a=n(5690),s=n(4639),l=n(482),c=n(6668),u=n(9137)("IE_PROTO"),A=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&r?d(r):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):d(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[u]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(A.prototype=i(t),n=new A,A.prototype=null,n[u]=t):n=p(),void 0===e?n:o.f(n,e)}},8728:function(t,e,n){var r=n(8494),i=n(7670),o=n(4615),a=n(2569),s=n(2977),l=n(5432);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=l(e),c=i.length,u=0;c>u;)o.f(t,n=i[u++],r[n]);return t}},4615:function(t,e,n){var r=n(7583),i=n(8494),o=n(275),a=n(7670),s=n(2569),l=n(8734),c=r.TypeError,u=Object.defineProperty,A=Object.getOwnPropertyDescriptor;e.f=i?a?function(t,e,n){if(s(t),e=l(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=A(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=l(e),s(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},6683:function(t,e,n){var r=n(8494),i=n(8262),o=n(112),a=n(4677),s=n(2977),l=n(8734),c=n(2870),u=n(275),A=Object.getOwnPropertyDescriptor;e.f=r?A:function(t,e){if(t=s(t),e=l(e),u)try{return A(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},3130:function(t,e,n){var r=n(9624),i=n(2977),o=n(9275).f,a=n(4546),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},9275:function(t,e,n){var r=n(8356),i=n(5690).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},4012:function(t,e){e.f=Object.getOwnPropertySymbols},729:function(t,e,n){var r=n(7583),i=n(2870),o=n(9212),a=n(1324),s=n(9137),l=n(926),c=s("IE_PROTO"),u=r.Object,A=u.prototype;t.exports=l?u.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?A:null}},2447:function(t,e,n){var r=n(7386);t.exports=r({}.isPrototypeOf)},8356:function(t,e,n){var r=n(7386),i=n(2870),o=n(2977),a=n(5766).indexOf,s=n(4639),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(u,n)||l(u,n));return u}},5432:function(t,e,n){var r=n(8356),i=n(5690);t.exports=Object.keys||function(t){return r(t,i)}},112:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7496:function(t,e,n){var r=n(7386),i=n(2569),o=n(9882);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},3060:function(t,e,n){"use strict";var r=n(8191),i=n(3058);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},6252:function(t,e,n){var r=n(7583),i=n(8262),o=n(9212),a=n(794),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},929:function(t,e,n){var r=n(5897),i=n(7386),o=n(9275),a=n(4012),s=n(2569),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},1287:function(t,e,n){var r=n(7583);t.exports=r},544:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},5732:function(t,e,n){var r=n(2569),i=n(794),o=n(5084);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2723:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},6893:function(t,e,n){var r=n(1270);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},1270:function(t,e,n){var r=n(7583),i=n(9212),o=n(2870),a=n(57),s=n(460),l=n(9734),c=n(2743),u=n(4340).CONFIGURABLE,A=c.get,h=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,l){var c,A=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:e;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||u&&n.name!==m)&&a(n,"name",m),(c=h(n)).source||(c.source=d.join("string"==typeof m?m:""))),t!==r?(A?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:a(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&A(this).source||l(this)}))},3955:function(t,e,n){var r=n(7583).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},460:function(t,e,n){var r=n(7583),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},7730:function(t,e,n){"use strict";var r=n(5897),i=n(4615),o=n(3649),a=n(8494),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8821:function(t,e,n){var r=n(4615).f,i=n(2870),o=n(3649)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},9137:function(t,e,n){var r=n(7836),i=n(8284),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},1314:function(t,e,n){var r=n(7583),i=n(460),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},7836:function(t,e,n){var r=n(6268),i=n(1314);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},564:function(t,e,n){var r=n(2569),i=n(1186),o=n(3649)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},6389:function(t,e,n){var r=n(7386),i=n(7486),o=n(8320),a=n(3955),s=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(t){return function(e,n){var r,u,A=o(a(e)),h=i(n),d=A.length;return h<0||h>=d?t?"":void 0:(r=l(A,h))<55296||r>56319||h+1===d||(u=l(A,h+1))<56320||u>57343?t?s(A,h):r:t?c(A,h,h+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},8117:function(t,e,n){var r,i,o,a,s=n(7583),l=n(1611),c=n(2938),u=n(9212),A=n(2870),h=n(6544),d=n(482),p=n(6917),f=n(6668),m=n(7520),g=n(7020),y=n(5354),v=s.setImmediate,_=s.clearImmediate,w=s.process,b=s.Dispatch,x=s.Function,M=s.MessageChannel,L=s.String,C=0,E={};try{r=s.location}catch(t){}var B=function(t){if(A(E,t)){var e=E[t];delete E[t],e()}},S=function(t){return function(){B(t)}},T=function(t){B(t.data)},D=function(t){s.postMessage(L(t),r.protocol+"//"+r.host)};v&&_||(v=function(t){m(arguments.length,1);var e=u(t)?t:x(t),n=p(arguments,1);return E[++C]=function(){l(e,void 0,n)},i(C),C},_=function(t){delete E[t]},y?i=function(t){w.nextTick(S(t))}:b&&b.now?i=function(t){b.now(S(t))}:M&&!g?(a=(o=new M).port2,o.port1.onmessage=T,i=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(D)?(i=D,s.addEventListener("message",T,!1)):i="onreadystatechange"in f("script")?function(t){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),B(t)}}:function(t){setTimeout(S(t),0)}),t.exports={set:v,clear:_}},6782:function(t,e,n){var r=n(7486),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},2977:function(t,e,n){var r=n(5044),i=n(3955);t.exports=function(t){return r(i(t))}},7486:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},97:function(t,e,n){var r=n(7486),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},1324:function(t,e,n){var r=n(7583),i=n(3955),o=r.Object;t.exports=function(t){return o(i(t))}},2670:function(t,e,n){var r=n(7583),i=n(8262),o=n(794),a=n(5871),s=n(911),l=n(6252),c=n(3649),u=r.TypeError,A=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,A);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},8734:function(t,e,n){var r=n(2670),i=n(5871);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},8191:function(t,e,n){var r={};r[n(3649)("toStringTag")]="z",t.exports="[object z]"===String(r)},8320:function(t,e,n){var r=n(7583),i=n(3058),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},5637:function(t,e,n){var r=n(7583).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},8284:function(t,e,n){var r=n(7386),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},7786:function(t,e,n){var r=n(8640);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:function(t,e,n){var r=n(8494),i=n(6544);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7520:function(t,e,n){var r=n(7583).TypeError;t.exports=function(t,e){if(t<e)throw r("Not enough arguments");return t}},491:function(t,e,n){var r=n(3649);e.f=r},3649:function(t,e,n){var r=n(7583),i=n(7836),o=n(2870),a=n(8284),s=n(8640),l=n(7786),c=i("wks"),u=r.Symbol,A=u&&u.for,h=l?u:u&&u.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(u,t)?c[t]=u[t]:c[t]=l&&A?A(e):h(e)}return c[t]}},1719:function(t,e,n){"use strict";var r=n(7263),i=n(7583),o=n(2447),a=n(729),s=n(7496),l=n(3478),c=n(3590),u=n(57),A=n(4677),h=n(1509),d=n(4402),p=n(4026),f=n(2764),m=n(3649),g=n(1178),y=m("toStringTag"),v=i.Error,_=[].push,w=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,i=o(b,this);s?n=s(new v,i?a(this):b):(n=i?this:c(b),u(n,y,"Error")),void 0!==e&&u(n,"message",f(e)),g&&u(n,"stack",h(n.stack,1)),d(n,r);var l=[];return p(t,_,{that:l}),u(n,"errors",l),n};s?s(w,v):l(w,v,{name:!0});var b=w.prototype=c(v.prototype,{constructor:A(1,w),message:A(1,""),name:A(1,"AggregateError")});r({global:!0},{AggregateError:w})},1646:function(t,e,n){"use strict";var r=n(7263),i=n(7583),o=n(6544),a=n(4521),s=n(794),l=n(1324),c=n(1825),u=n(5999),A=n(4822),h=n(9269),d=n(3649),p=n(4061),f=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=i.TypeError,v=p>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=h("concat"),w=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!v||!_},{concat:function(t){var e,n,r,i,o,a=l(this),s=A(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(w(o=-1===e?a:arguments[e])){if(h+(i=c(o))>m)throw y(g);for(n=0;n<i;n++,h++)n in o&&u(s,h,o[n])}else{if(h>=m)throw y(g);u(s,h++,o)}return s.length=h,s}})},5677:function(t,e,n){"use strict";var r=n(2977),i=n(6288),o=n(339),a=n(2743),s=n(4615).f,l=n(9012),c=n(6268),u=n(8494),A="Array Iterator",h=a.set,d=a.getterFor(A);t.exports=l(Array,"Array",(function(t,e){h(this,{type:A,target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&u&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},6956:function(t,e,n){var r=n(7583);n(8821)(r.JSON,"JSON",!0)},5222:function(t,e,n){n(8821)(Math,"Math",!0)},6394:function(t,e,n){var r=n(8191),i=n(1270),o=n(3060);r||i(Object.prototype,"toString",o,{unsafe:!0})},6969:function(t,e,n){"use strict";var r=n(7263),i=n(8262),o=n(8257),a=n(5084),s=n(544),l=n(4026);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,u=s((function(){var n=o(e.resolve),a=[],s=0,c=1;l(t,(function(t){var o=s++,l=!1;c++,i(n,e,t).then((function(t){l||(l=!0,a[o]={status:"fulfilled",value:t},--c||r(a))}),(function(t){l||(l=!0,a[o]={status:"rejected",reason:t},--c||r(a))}))})),--c||r(a)}));return u.error&&c(u.value),n.promise}})},2021:function(t,e,n){"use strict";var r=n(7263),i=n(8257),o=n(5897),a=n(8262),s=n(5084),l=n(544),c=n(4026),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=o("AggregateError"),r=s.f(e),A=r.resolve,h=r.reject,d=l((function(){var r=i(e.resolve),o=[],s=0,l=1,d=!1;c(t,(function(t){var i=s++,c=!1;l++,a(r,e,t).then((function(t){c||d||(d=!0,A(t))}),(function(t){c||d||(c=!0,o[i]=t,--l||h(new n(o,u)))}))})),--l||h(new n(o,u))}));return d.error&&h(d.value),r.promise}})},8328:function(t,e,n){"use strict";var r=n(7263),i=n(6268),o=n(783),a=n(6544),s=n(5897),l=n(9212),c=n(564),u=n(5732),A=n(1270);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n=l(t);return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&l(o)){var h=s("Promise").prototype.finally;o.prototype.finally!==h&&A(o.prototype,"finally",h,{unsafe:!0})}},5334:function(t,e,n){"use strict";var r,i,o,a,s=n(7263),l=n(6268),c=n(7583),u=n(5897),A=n(8262),h=n(783),d=n(1270),p=n(6893),f=n(7496),m=n(8821),g=n(7730),y=n(8257),v=n(9212),_=n(794),w=n(4761),b=n(9734),x=n(4026),M=n(3616),L=n(564),C=n(8117).set,E=n(2095),B=n(5732),S=n(2716),T=n(5084),D=n(544),I=n(2723),P=n(2743),F=n(4451),k=n(3649),R=n(2274),U=n(5354),O=n(4061),H=k("species"),Y="Promise",Q=P.getterFor(Y),N=P.set,j=P.getterFor(Y),W=h&&h.prototype,V=h,z=W,G=c.TypeError,K=c.document,Z=c.process,X=T.f,q=X,J=!!(K&&K.createEvent&&c.dispatchEvent),$=v(c.PromiseRejectionEvent),tt="unhandledrejection",et=!1,nt=F(Y,(function(){var t=b(V),e=t!==String(V);if(!e&&66===O)return!0;if(l&&!z.finally)return!0;if(O>=51&&/native code/.test(t))return!1;var n=new V((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[H]=r,!(et=n.then((function(){}))instanceof r)||!e&&R&&!$})),rt=nt||!M((function(t){V.all(t).catch((function(){}))})),it=function(t){var e;return!(!_(t)||!v(e=t.then))&&e},ot=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&ut(e),e.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===t.promise?c(G("Promise-chain cycle")):(r=it(n))?A(r,n,l,c):l(n)):c(o)}catch(t){u&&!i&&u.exit(),c(t)}},at=function(t,e){t.notified||(t.notified=!0,E((function(){for(var n,r=t.reactions;n=r.get();)ot(n,t);t.notified=!1,e&&!t.rejection&&lt(t)})))},st=function(t,e,n){var r,i;J?((r=K.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!$&&(i=c["on"+t])?i(r):t===tt&&S("Unhandled promise rejection",n)},lt=function(t){A(C,c,(function(){var e,n=t.facade,r=t.value;if(ct(t)&&(e=D((function(){U?Z.emit("unhandledRejection",r,n):st(tt,n,r)})),t.rejection=U||ct(t)?2:1,e.error))throw e.value}))},ct=function(t){return 1!==t.rejection&&!t.parent},ut=function(t){A(C,c,(function(){var e=t.facade;U?Z.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},At=function(t,e,n){return function(r){t(e,r,n)}},ht=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,at(t,!0))},dt=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw G("Promise can't be resolved itself");var i=it(n);i?E((function(){var r={done:!1};try{A(i,n,At(t,r,e),At(ht,r,e))}catch(t){ht(r,t,e)}})):(e.value=n,e.state=1,at(e,!1))}catch(t){ht({done:!1},t,e)}}};if(nt&&(z=(V=function(t){w(this,z),y(t),A(r,this);var e=Q(this);try{t(At(dt,e),At(ht,e))}catch(t){ht(e,t)}}).prototype,(r=function(t){N(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=p(z,{then:function(t,e){var n=j(this),r=X(L(this,V));return n.parent=!0,r.ok=!v(t)||t,r.fail=v(e)&&e,r.domain=U?Z.domain:void 0,0==n.state?n.reactions.add(r):E((function(){ot(r,n)})),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=Q(t);this.promise=t,this.resolve=At(dt,e),this.reject=At(ht,e)},T.f=X=function(t){return t===V||t===o?new i(t):q(t)},!l&&v(h)&&W!==Object.prototype)){a=W.then,et||(d(W,"then",(function(t,e){var n=this;return new V((function(t,e){A(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(W,"catch",z.catch,{unsafe:!0}));try{delete W.constructor}catch(t){}f&&f(W,z)}s({global:!0,wrap:!0,forced:nt},{Promise:V}),m(V,Y,!1,!0),g(Y),o=u(Y),s({target:Y,stat:!0,forced:nt},{reject:function(t){var e=X(this);return A(e.reject,void 0,t),e.promise}}),s({target:Y,stat:!0,forced:l||nt},{resolve:function(t){return B(l&&this===o?V:this,t)}}),s({target:Y,stat:!0,forced:rt},{all:function(t){var e=this,n=X(e),r=n.resolve,i=n.reject,o=D((function(){var n=y(e.resolve),o=[],a=0,s=1;x(t,(function(t){var l=a++,c=!1;s++,A(n,e,t).then((function(t){c||(c=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=X(e),r=n.reject,i=D((function(){var i=y(e.resolve);x(t,(function(t){A(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},2257:function(t,e,n){var r=n(7263),i=n(7583),o=n(8821);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},2129:function(t,e,n){"use strict";var r=n(6389).charAt,i=n(8320),o=n(2743),a=n(9012),s="String Iterator",l=o.set,c=o.getterFor(s);a(String,"String",(function(t){l(this,{type:s,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},462:function(t,e,n){n(2219)("asyncIterator")},8407:function(t,e,n){"use strict";var r=n(7263),i=n(8494),o=n(7583),a=n(7386),s=n(2870),l=n(9212),c=n(2447),u=n(8320),A=n(4615).f,h=n(3478),d=o.Symbol,p=d&&d.prototype;if(i&&l(d)&&(!("description"in p)||void 0!==d().description)){var f={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(f[e]=!0),e};h(m,d),m.prototype=p,p.constructor=m;var g="Symbol(test)"==String(d("test")),y=a(p.toString),v=a(p.valueOf),_=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),b=a("".slice);A(p,"description",{configurable:!0,get:function(){var t=v(this),e=y(t);if(s(f,t))return"";var n=g?b(e,7,-1):w(e,_,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:m})}},2429:function(t,e,n){n(2219)("hasInstance")},1172:function(t,e,n){n(2219)("isConcatSpreadable")},8288:function(t,e,n){n(2219)("iterator")},2004:function(t,e,n){"use strict";var r=n(7263),i=n(7583),o=n(5897),a=n(1611),s=n(8262),l=n(7386),c=n(6268),u=n(8494),A=n(8640),h=n(6544),d=n(2870),p=n(4521),f=n(9212),m=n(794),g=n(2447),y=n(5871),v=n(2569),_=n(1324),w=n(2977),b=n(8734),x=n(8320),M=n(4677),L=n(3590),C=n(5432),E=n(9275),B=n(3130),S=n(4012),T=n(6683),D=n(4615),I=n(8728),P=n(112),F=n(6917),k=n(1270),R=n(7836),U=n(9137),O=n(4639),H=n(8284),Y=n(3649),Q=n(491),N=n(2219),j=n(8821),W=n(2743),V=n(4805).forEach,z=U("hidden"),G="Symbol",K=Y("toPrimitive"),Z=W.set,X=W.getterFor(G),q=Object.prototype,J=i.Symbol,$=J&&J.prototype,tt=i.TypeError,et=i.QObject,nt=o("JSON","stringify"),rt=T.f,it=D.f,ot=B.f,at=P.f,st=l([].push),lt=R("symbols"),ct=R("op-symbols"),ut=R("string-to-symbol-registry"),At=R("symbol-to-string-registry"),ht=R("wks"),dt=!et||!et.prototype||!et.prototype.findChild,pt=u&&h((function(){return 7!=L(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=rt(q,e);r&&delete q[e],it(t,e,n),r&&t!==q&&it(q,e,r)}:it,ft=function(t,e){var n=lt[t]=L($);return Z(n,{type:G,tag:t,description:e}),u||(n.description=e),n},mt=function(t,e,n){t===q&&mt(ct,e,n),v(t);var r=b(e);return v(n),d(lt,r)?(n.enumerable?(d(t,z)&&t[z][r]&&(t[z][r]=!1),n=L(n,{enumerable:M(0,!1)})):(d(t,z)||it(t,z,M(1,{})),t[z][r]=!0),pt(t,r,n)):it(t,r,n)},gt=function(t,e){v(t);var n=w(e),r=C(n).concat(wt(n));return V(r,(function(e){u&&!s(yt,n,e)||mt(t,e,n[e])})),t},yt=function(t){var e=b(t),n=s(at,this,e);return!(this===q&&d(lt,e)&&!d(ct,e))&&(!(n||!d(this,e)||!d(lt,e)||d(this,z)&&this[z][e])||n)},vt=function(t,e){var n=w(t),r=b(e);if(n!==q||!d(lt,r)||d(ct,r)){var i=rt(n,r);return!i||!d(lt,r)||d(n,z)&&n[z][r]||(i.enumerable=!0),i}},_t=function(t){var e=ot(w(t)),n=[];return V(e,(function(t){d(lt,t)||d(O,t)||st(n,t)})),n},wt=function(t){var e=t===q,n=ot(e?ct:w(t)),r=[];return V(n,(function(t){!d(lt,t)||e&&!d(q,t)||st(r,lt[t])})),r};if(A||(J=function(){if(g($,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=H(t);return u&&dt&&pt(q,e,{configurable:!0,set:function t(n){this===q&&s(t,ct,n),d(this,z)&&d(this[z],e)&&(this[z][e]=!1),pt(this,e,M(1,n))}}),ft(e,t)},k($=J.prototype,"toString",(function(){return X(this).tag})),k(J,"withoutSetter",(function(t){return ft(H(t),t)})),P.f=yt,D.f=mt,I.f=gt,T.f=vt,E.f=B.f=_t,S.f=wt,Q.f=function(t){return ft(Y(t),t)},u&&(it($,"description",{configurable:!0,get:function(){return X(this).description}}),c||k(q,"propertyIsEnumerable",yt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:J}),V(C(ht),(function(t){N(t)})),r({target:G,stat:!0,forced:!A},{for:function(t){var e=x(t);if(d(ut,e))return ut[e];var n=J(e);return ut[e]=n,At[n]=e,n},keyFor:function(t){if(!y(t))throw tt(t+" is not a symbol");if(d(At,t))return At[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),r({target:"Object",stat:!0,forced:!A,sham:!u},{create:function(t,e){return void 0===e?L(t):gt(L(t),e)},defineProperty:mt,defineProperties:gt,getOwnPropertyDescriptor:vt}),r({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:_t,getOwnPropertySymbols:wt}),r({target:"Object",stat:!0,forced:h((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(_(t))}}),nt&&r({target:"JSON",stat:!0,forced:!A||h((function(){var t=J();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}))},{stringify:function(t,e,n){var r=F(arguments),i=e;if((m(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(f(i)&&(e=s(i,this,t,e)),!y(e))return e}),r[1]=e,a(nt,null,r)}}),!$[K]){var bt=$.valueOf;k($,K,(function(t){return s(bt,this)}))}j(J,G),O[z]=!0},8201:function(t,e,n){n(2219)("matchAll")},1274:function(t,e,n){n(2219)("match")},6626:function(t,e,n){n(2219)("replace")},3211:function(t,e,n){n(2219)("search")},9952:function(t,e,n){n(2219)("species")},15:function(t,e,n){n(2219)("split")},9831:function(t,e,n){n(2219)("toPrimitive")},7521:function(t,e,n){n(2219)("toStringTag")},2972:function(t,e,n){n(2219)("unscopables")},4655:function(t,e,n){var r=n(7583),i=n(6778),o=n(9307),a=n(5677),s=n(57),l=n(3649),c=l("iterator"),u=l("toStringTag"),A=a.values,h=function(t,e){if(t){if(t[c]!==A)try{s(t,c,A)}catch(e){t[c]=A}if(t[u]||s(t,u,e),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(o,"DOMTokenList")},8765:function(t,e,n){var r=n(5036);n(4655),t.exports=r},5441:function(t,e,n){var r=n(2582);n(4655),t.exports=r},7705:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},6738:function(t){"use strict";t.exports=function(t){return t[1]}},8679:function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=window.WeakMap;if(void 0===n){var r=Object.defineProperty,i=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:r(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];if(!e)return!1;var n=e[0]===t;return e[0]=e[1]=void 0,n},has:function(t){var e=t[this.name];return!!e&&e[0]===t}}}var o=new n,a=window.msSetImmediate;if(!a){var s=[],l=String(Math.random());window.addEventListener("message",(function(t){if(t.data===l){var e=s;s=[],e.forEach((function(t){t()}))}})),a=function(t){s.push(t),window.postMessage(l,"*")}}var c=!1,u=[];function A(){c=!1;var t=u;u=[],t.sort((function(t,e){return t.uid_-e.uid_}));var e=!1;t.forEach((function(t){var n=t.takeRecords();!function(t){t.nodes_.forEach((function(e){var n=o.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}(t),n.length&&(t.callback_(n,t),e=!0)})),e&&A()}function h(t,e){for(var n=t;n;n=n.parentNode){var r=o.get(n);if(r)for(var i=0;i<r.length;i++){var a=r[i],s=a.options;if(n===t||s.subtree){var l=e(s);l&&a.enqueue(l)}}}}var d,p,f=0;function m(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++f}function g(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function y(t,e){return d=new g(t,e)}function v(t){return p||((n=new g((e=d).type,e.target)).addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,(p=n).oldValue=t,p);var e,n}function _(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}m.prototype={observe:function(t,e){var n;if(n=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r,i=o.get(t);i||o.set(t,i=[]);for(var a=0;a<i.length;a++)if(i[a].observer===this){(r=i[a]).removeListeners(),r.options=e;break}r||(r=new _(this,t,e),i.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=o.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},_.prototype={enqueue:function(t){var e,n=this.observer.records_,r=n.length;if(n.length>0){var i=function(t,e){return t===e?t:!p||(n=t)!==p&&n!==d?null:p;var n}(n[r-1],t);if(i)return void(n[r-1]=i)}else e=this.observer,u.push(e),c||(c=!0,a(A));n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=o.get(t);e||o.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=o.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,r=t.target;(o=new y("attributes",r)).attributeName=e,o.attributeNamespace=n;var i=null;"undefined"!=typeof MutationEvent&&t.attrChange===MutationEvent.ADDITION||(i=t.prevValue),h(r,(function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?v(i):o}));break;case"DOMCharacterDataModified":var o=y("characterData",r=t.target);i=t.prevValue,h(r,(function(t){if(t.characterData)return t.characterDataOldValue?v(i):o}));break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":r=t.relatedNode;var a,s,l=t.target;"DOMNodeInserted"===t.type?(a=[l],s=[]):(a=[],s=[l]);var c=l.previousSibling,u=l.nextSibling;(o=y("childList",r)).addedNodes=a,o.removedNodes=s,o.previousSibling=c,o.nextSibling=u,h(r,(function(t){if(t.childList)return o}))}d=p=void 0}},e||(e=m),t.exports=e},7588:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new B(r||[]);return o._invoke=function(t,e,n){var r=A;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===A)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?p:h,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var A="suspendedStart",h="suspendedYield",d="executing",p="completed",f={};function m(){}function g(){}function y(){}var v={};l(v,o,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(S([])));w&&w!==n&&r.call(w,o)&&(v=w);var b=y.prototype=m.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var c=l.arg,A=c.value;return A&&"object"==typeof A&&r.call(A,"__await")?e.resolve(A.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(A).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function S(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=y,l(b,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},x(M.prototype),l(M.prototype,a,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new M(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},8702:function(t,e,n){"use strict";n.d(e,{Z:function(){return R}});var r=n(4296),i=n(6464),o=n(6881),a=n(2942),s=n(7003),l=n(3379),c=n.n(l),u=n(7795),A=n.n(u),h=n(569),d=n.n(h),p=n(3565),f=n.n(p),m=n(9216),g=n.n(m),y=n(4589),v=n.n(y),_=n(5313),w={};_.Z&&_.Z.locals&&(w.locals=_.Z.locals);var b,x=0,M={};M.styleTagTransform=v(),M.setAttributes=f(),M.insert=d().bind(null,"head"),M.domAPI=A(),M.insertStyleElement=g(),w.use=function(t){return M.options=t||{},x++||(b=c()(_.Z,M)),w},w.unuse=function(){x>0&&! --x&&(b(),b=null)};var L=w;function C(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M599.99999 832.000004h47.999999a24 24 0 0 0 23.999999-24V376.000013a24 24 0 0 0-23.999999-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24zM927.999983 160.000017h-164.819997l-67.999998-113.399998A95.999998 95.999998 0 0 0 612.819989 0.00002H411.179993a95.999998 95.999998 0 0 0-82.319998 46.599999L260.819996 160.000017H95.999999A31.999999 31.999999 0 0 0 64 192.000016v32a31.999999 31.999999 0 0 0 31.999999 31.999999h32v671.999987a95.999998 95.999998 0 0 0 95.999998 95.999998h575.999989a95.999998 95.999998 0 0 0 95.999998-95.999998V256.000015h31.999999a31.999999 31.999999 0 0 0 32-31.999999V192.000016a31.999999 31.999999 0 0 0-32-31.999999zM407.679993 101.820018A12 12 0 0 1 417.999993 96.000018h187.999996a12 12 0 0 1 10.3 5.82L651.219989 160.000017H372.779994zM799.999986 928.000002H223.999997V256.000015h575.999989z m-423.999992-95.999998h47.999999a24 24 0 0 0 24-24V376.000013a24 24 0 0 0-24-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24z"),(0,a.Ljt)(e,"class","vc-icon-delete"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function E(t){var e,n,r;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),r=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M874.154197 150.116875A511.970373 511.970373 0 1 0 1023.993986 511.991687a511.927744 511.927744 0 0 0-149.839789-361.874812z m-75.324866 648.382129A405.398688 405.398688 0 1 1 917.422301 511.991687a405.313431 405.313431 0 0 1-118.59297 286.507317z"),(0,a.Ljt)(r,"d","M725.039096 299.274605a54.351559 54.351559 0 0 0-76.731613 0l-135.431297 135.431297L377.274375 299.274605a54.436817 54.436817 0 0 0-76.944756 76.987385l135.388668 135.431297-135.388668 135.473925a54.436817 54.436817 0 0 0 76.944756 76.987385l135.388668-135.431297 135.431297 135.473926a54.436817 54.436817 0 0 0 76.731613-76.987385l-135.388668-135.473926 135.388668-135.431296a54.479445 54.479445 0 0 0 0.213143-77.030014z"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),(0,a.R3I)(e,r)},d:function(t){t&&(0,a.ogt)(e)}}}function B(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"fill-rule","evenodd"),(0,a.Ljt)(n,"d","M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"),(0,a.Ljt)(e,"class","vc-icon-copy"),(0,a.Ljt)(e,"viewBox","0 0 16 16")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function S(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"fill-rule","evenodd"),(0,a.Ljt)(n,"d","M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"),(0,a.Ljt)(e,"class","vc-icon-suc"),(0,a.Ljt)(e,"viewBox","0 0 16 16")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function T(t){var e,n,r;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),r=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M776.533333 1024 162.133333 1024C72.533333 1024 0 951.466667 0 861.866667L0 247.466667C0 157.866667 72.533333 85.333333 162.133333 85.333333L469.333333 85.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667L162.133333 170.666667C119.466667 170.666667 85.333333 204.8 85.333333 247.466667l0 610.133333c0 42.666667 34.133333 76.8 76.8 76.8l610.133333 0c42.666667 0 76.8-34.133333 76.8-76.8L849.066667 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 307.2C938.666667 951.466667 866.133333 1024 776.533333 1024z"),(0,a.Ljt)(r,"d","M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8C217.6 789.333333 213.333333 772.266667 213.333333 759.466667l42.666667-213.333333c0-8.533333 4.266667-17.066667 12.8-21.333333l512-512c17.066667-17.066667 42.666667-17.066667 59.733333 0l170.666667 170.666667c17.066667 17.066667 17.066667 42.666667 0 59.733333l-512 512c-4.266667 4.266667-12.8 8.533333-21.333333 12.8l-213.333333 42.666667C260.266667 810.666667 260.266667 810.666667 256 810.666667zM337.066667 576l-25.6 136.533333 136.533333-25.6L921.6 213.333333 810.666667 102.4 337.066667 576z"),(0,a.Ljt)(e,"class","vc-icon-edit"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),(0,a.R3I)(e,r)},d:function(t){t&&(0,a.ogt)(e)}}}function D(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M581.338005 987.646578c-2.867097 4.095853-4.573702 8.669555-8.191705 12.287558a83.214071 83.214071 0 0 1-60.959939 24.029001 83.214071 83.214071 0 0 1-61.028203-24.029001c-3.618003-3.618003-5.324608-8.191705-8.123441-12.15103L24.370323 569.050448a83.418864 83.418864 0 0 1 117.892289-117.89229l369.923749 369.92375L1308.829682 24.438587A83.418864 83.418864 0 0 1 1426.721971 142.194348L581.338005 987.646578z"),(0,a.Ljt)(e,"class","vc-icon-don"),(0,a.Ljt)(e,"viewBox","0 0 1501 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function I(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M894.976 574.464q0 78.848-29.696 148.48t-81.408 123.392-121.856 88.064-151.04 41.472q-5.12 1.024-9.216 1.536t-9.216 0.512l-177.152 0q-17.408 0-34.304-6.144t-30.208-16.896-22.016-25.088-8.704-29.696 8.192-29.696 21.504-24.576 29.696-16.384 33.792-6.144l158.72 1.024q54.272 0 102.4-19.968t83.968-53.76 56.32-79.36 20.48-97.792q0-49.152-18.432-92.16t-50.688-76.8-75.264-54.784-93.184-26.112q-2.048 0-2.56 0.512t-2.56 0.512l-162.816 0 0 80.896q0 17.408-13.824 25.6t-44.544-10.24q-8.192-5.12-26.112-17.92t-41.984-30.208-50.688-36.864l-51.2-38.912q-15.36-12.288-26.624-22.016t-11.264-24.064q0-12.288 12.8-25.6t29.184-26.624q18.432-15.36 44.032-35.84t50.688-39.936 45.056-35.328 28.16-22.016q24.576-17.408 39.936-7.168t16.384 30.72l0 81.92 162.816 0q5.12 0 10.752 1.024t10.752 2.048q79.872 8.192 149.504 41.984t121.344 87.552 80.896 123.392 29.184 147.456z"),(0,a.Ljt)(e,"class","vc-icon-cancel"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function P(t){var e,n,r,i,o,s,l,c,u,A="delete"===t[0]&&C(),h="clear"===t[0]&&E(),d="copy"===t[0]&&B(),p="success"===t[0]&&S(),f="edit"===t[0]&&T(),m="done"===t[0]&&D(),g="cancel"===t[0]&&I();return{c:function(){e=(0,a.bGB)("i"),A&&A.c(),n=(0,a.DhX)(),h&&h.c(),r=(0,a.DhX)(),d&&d.c(),i=(0,a.DhX)(),p&&p.c(),o=(0,a.DhX)(),f&&f.c(),s=(0,a.DhX)(),m&&m.c(),l=(0,a.DhX)(),g&&g.c(),(0,a.Ljt)(e,"class","vc-icon")},m:function(y,v){(0,a.$Tr)(y,e,v),A&&A.m(e,null),(0,a.R3I)(e,n),h&&h.m(e,null),(0,a.R3I)(e,r),d&&d.m(e,null),(0,a.R3I)(e,i),p&&p.m(e,null),(0,a.R3I)(e,o),f&&f.m(e,null),(0,a.R3I)(e,s),m&&m.m(e,null),(0,a.R3I)(e,l),g&&g.m(e,null),c||(u=(0,a.oLt)(e,"click",t[1]),c=!0)},p:function(t,a){a[0],"delete"===t[0]?A||((A=C()).c(),A.m(e,n)):A&&(A.d(1),A=null),"clear"===t[0]?h||((h=E()).c(),h.m(e,r)):h&&(h.d(1),h=null),"copy"===t[0]?d||((d=B()).c(),d.m(e,i)):d&&(d.d(1),d=null),"success"===t[0]?p||((p=S()).c(),p.m(e,o)):p&&(p.d(1),p=null),"edit"===t[0]?f||((f=T()).c(),f.m(e,s)):f&&(f.d(1),f=null),"done"===t[0]?m||((m=D()).c(),m.m(e,l)):m&&(m.d(1),m=null),"cancel"===t[0]?g||((g=I()).c(),g.m(e,null)):g&&(g.d(1),g=null)},i:a.ZTd,o:a.ZTd,d:function(t){t&&(0,a.ogt)(e),A&&A.d(),h&&h.d(),d&&d.d(),p&&p.d(),f&&f.d(),m&&m.d(),g&&g.d(),c=!1,u()}}}function F(t,e,n){var r=e.name;return(0,s.H3)((function(){L.use()})),(0,s.ev)((function(){L.unuse()})),t.$$set=function(t){"name"in t&&n(0,r=t.name)},[r,function(e){a.cKT.call(this,t,e)}]}var k=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,i.Z)(n),e,F,P,a.N8,{name:0}),n}return(0,o.Z)(e,t),(0,r.Z)(e,[{key:"name",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({name:t}),(0,a.yl1)()}}]),e}(a.f_C),R=k},3903:function(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_63682__){"use strict";var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_63682__(6464),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_63682__(6881),svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_63682__(2942),svelte__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_63682__(7003),_component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_63682__(8702),_logTool__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_63682__(8665),_log_model__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_63682__(5629),_logCommand_less__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_63682__(3411);function get_each_context(t,e,n){var r=t.slice();return r[28]=e[n],r}function create_if_block_2(t){var e,n,r;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="Close",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-prompted-hide")},m:function(i,o){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(i,e,o),n||(r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",t[5]),n=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),n=!1,r()}}}function create_else_block(t){var e;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="No Prompted"},m:function(t,n){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t,e,n)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e)}}}function create_each_block(t){var e,n,r,i,o=t[28].text+"";function a(){return t[14](t[28])}return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.fLW)(o)},m:function(t,o){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t,e,o),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),r||(i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",a),r=!0)},p:function(e,r){t=e,8&r&&o!==(o=t[28].text+"")&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.rTO)(n,o)},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),r=!1,i()}}}function create_if_block_1(t){var e,n,r,i,o;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(a,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a,e,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),r=!0,i||(o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[17])),i=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(t){r||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,t),r=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,t),r=!1},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),i=!1,o()}}}function create_if_block(t){var e,n,r,i,o;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(a,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a,e,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),r=!0,i||(o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[19])),i=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(t){r||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,t),r=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,t),r=!1},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),i=!1,o()}}}function create_fragment(t){for(var e,n,r,i,o,a,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b=t[3].length>0&&create_if_block_2(t),x=t[3],M=[],L=0;L<x.length;L+=1)M[L]=create_each_block(get_each_context(t,x,L));var C=null;x.length||(C=create_else_block(t));var E=t[1].length>0&&create_if_block_1(t),B=t[4].length>0&&create_if_block(t);return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),b&&b.c(),r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)();for(var v=0;v<M.length;v+=1)M[v].c();C&&C.c(),i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),a=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),s=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),E&&E.c(),l=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(c=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="OK",u=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),A=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),h=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),d=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),p=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),f=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),m=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),B&&B.c(),g=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(y=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="Filter",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",t[2]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a,"placeholder","command..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(o,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(c,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(c,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(h,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(f,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(f,"placeholder","filter..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(p,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(A,"class","vc-cmd vc-filter")},m:function(x,L){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(x,e,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),b&&b.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n,r);for(var S=0;S<M.length;S+=1)M[S].m(n,null);C&&C.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,i),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,o),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(o,a),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a,t[1]),t[16](a),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(o,s),E&&E.m(o,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,l),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,c),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(x,u,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(x,A,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(A,h),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(A,d),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(A,p),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(p,f),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(f,t[4]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(p,m),B&&B.m(p,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(A,g),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(A,y),v=!0,_||(w=[(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"input",t[15]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"keydown",t[10]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"keyup",t[11]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"focus",t[8]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"blur",t[9]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[12])),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(f,"input",t[18]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(A,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[13]))],_=!0)},p:function(t,e){var i=e[0];if(t[3].length>0?b?b.p(t,i):((b=create_if_block_2(t)).c(),b.m(n,r)):b&&(b.d(1),b=null),136&i){var s;for(x=t[3],s=0;s<x.length;s+=1){var l=get_each_context(t,x,s);M[s]?M[s].p(l,i):(M[s]=create_each_block(l),M[s].c(),M[s].m(n,null))}for(;s<M.length;s+=1)M[s].d(1);M.length=x.length,!x.length&&C?C.p(t,i):x.length?C&&(C.d(1),C=null):((C=create_else_block(t)).c(),C.m(n,null))}(!v||4&i)&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",t[2]),2&i&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a,t[1]),t[1].length>0?E?(E.p(t,i),2&i&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E,1)):((E=create_if_block_1(t)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E,1),E.m(o,null)):E&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(E,1,1,(function(){E=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()),16&i&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(f,t[4]),t[4].length>0?B?(B.p(t,i),16&i&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B,1)):((B=create_if_block(t)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B,1),B.m(p,null)):B&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(B,1,1,(function(){B=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)())},i:function(t){v||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(E),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B),v=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(E),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(B),v=!1},d:function(n){n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),b&&b.d(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.RMB)(M,n),C&&C.d(),t[16](null),E&&E.d(),n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(u),n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(A),B&&B.d(),_=!1,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j7q)(w)}}}function instance($$self,$$props,$$invalidate){var module=_log_model__WEBPACK_IMPORTED_MODULE_3__.W.getSingleton(_log_model__WEBPACK_IMPORTED_MODULE_3__.W,"VConsoleLogModel"),cachedObjKeys={},dispatch=(0,svelte__WEBPACK_IMPORTED_MODULE_1__.x)(),cmdElement,cmdValue="",promptedStyle="",promptedList=[],filterValue="";(0,svelte__WEBPACK_IMPORTED_MODULE_1__.H3)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.use()})),(0,svelte__WEBPACK_IMPORTED_MODULE_1__.ev)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.unuse()}));var evalCommand=function(t){module.evalCommand(t)},moveCursorToPos=function(t,e){t.setSelectionRange&&setTimeout((function(){t.setSelectionRange(e,e)}),1)},clearPromptedList=function(){$$invalidate(2,promptedStyle="display: none;"),$$invalidate(3,promptedList=[])},updatePromptedList=function updatePromptedList(identifier){if(""!==cmdValue){identifier||(identifier=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(cmdValue));var objName="window",keyName=cmdValue;if("."!==identifier.front.text&&"["!==identifier.front.text||(objName=identifier.front.before,keyName=""!==identifier.back.text?identifier.back.before:identifier.front.after),keyName=keyName.replace(/(^['"]+)|(['"']+$)/g,""),!cachedObjKeys[objName])try{cachedObjKeys[objName]=Object.getOwnPropertyNames(eval("("+objName+")")).sort()}catch(t){}try{if(cachedObjKeys[objName])for(var i=0;i<cachedObjKeys[objName].length&&!(promptedList.length>=100);i++){var key=String(cachedObjKeys[objName][i]),keyPattern=new RegExp("^"+keyName,"i");if(keyPattern.test(key)){var completeCmd=objName;"."===identifier.front.text||""===identifier.front.text?completeCmd+="."+key:"["===identifier.front.text&&(completeCmd+="['"+key+"']"),promptedList.push({text:key,value:completeCmd})}}}catch(t){}if(promptedList.length>0){var m=Math.min(200,31*(promptedList.length+1));$$invalidate(2,promptedStyle="display: block; height: "+m+"px; margin-top: "+(-m-2)+"px;"),$$invalidate(3,promptedList)}else clearPromptedList()}else clearPromptedList()},autoCompleteBrackets=function(t,e){if(8!==e&&46!==e&&""===t.front.after)switch(t.front.text){case"[":return $$invalidate(1,cmdValue+="]"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"(":return $$invalidate(1,cmdValue+=")"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"{":return $$invalidate(1,cmdValue+="}"),void moveCursorToPos(cmdElement,cmdValue.length-1)}},dispatchFilterEvent=function(){dispatch("filterText",{filterText:filterValue})},onTapClearText=function(t){"cmd"===t?($$invalidate(1,cmdValue=""),clearPromptedList()):"filter"===t&&($$invalidate(4,filterValue=""),dispatchFilterEvent())},onTapPromptedItem=function onTapPromptedItem(item){var type="";try{type=eval("typeof "+item.value)}catch(t){}$$invalidate(1,cmdValue=item.value+("function"===type?"()":"")),clearPromptedList()},onCmdFocus=function(){updatePromptedList()},onCmdBlur=function(){},onCmdKeyDown=function(t){13===t.keyCode&&(t.preventDefault(),onCmdSubmit())},onCmdKeyUp=function(t){$$invalidate(3,promptedList=[]);var e=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(t.target.value);autoCompleteBrackets(e,t.keyCode),updatePromptedList(e)},onCmdSubmit=function(){""!==cmdValue&&evalCommand(cmdValue),clearPromptedList()},onFilterSubmit=function(t){dispatchFilterEvent()},click_handler=function(t){return onTapPromptedItem(t)};function textarea0_input_handler(){cmdValue=this.value,$$invalidate(1,cmdValue)}function textarea0_binding(t){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.VnY[t?"unshift":"push"]((function(){$$invalidate(0,cmdElement=t)}))}var click_handler_1=function(){return onTapClearText("cmd")};function textarea1_input_handler(){filterValue=this.value,$$invalidate(4,filterValue)}var click_handler_2=function(){return onTapClearText("filter")};return[cmdElement,cmdValue,promptedStyle,promptedList,filterValue,clearPromptedList,onTapClearText,onTapPromptedItem,onCmdFocus,onCmdBlur,onCmdKeyDown,onCmdKeyUp,onCmdSubmit,onFilterSubmit,click_handler,textarea0_input_handler,textarea0_binding,click_handler_1,textarea1_input_handler,click_handler_2]}var LogCommand=function(t){function e(e){var n;return n=t.call(this)||this,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.Z)(n),e,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8,{}),n}return(0,_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__.Z)(e,t),e}(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C);__nested_webpack_exports__.Z=LogCommand},4687:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(3313),i=function(){var t=(0,r.fZ)({updateTime:0}),e=t.subscribe,n=t.set,i=t.update;return{subscribe:e,set:n,update:i,updateTime:function(){i((function(t){return t.updateTime=Date.now(),t}))}}}()},643:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){this._onDataUpdateCallbacks=[]}return t.getSingleton=function(e,n){return n||(n=e.toString()),t.singleton[n]||(t.singleton[n]=new e),t.singleton[n]},t}();r.singleton={}},5103:function(t,e,n){"use strict";function r(t){var e=t>0?new Date(t):new Date,n=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getFullYear(),o=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),l=e.getMilliseconds()<10?"0"+e.getMilliseconds():e.getMilliseconds();return l<100&&(l="0"+l),{time:+e,year:i,month:r,day:n,hour:o,minute:a,second:s,millisecond:l}}function i(t){return"[object Number]"===Object.prototype.toString.call(t)}function o(t){return"bigint"==typeof t}function a(t){return"string"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){return"boolean"==typeof t}function c(t){return void 0===t}function u(t){return null===t}function A(t){return"symbol"==typeof t}function h(t){return!("[object Object]"!==Object.prototype.toString.call(t)&&(i(t)||o(t)||a(t)||l(t)||s(t)||u(t)||d(t)||c(t)||A(t)))}function d(t){return"function"==typeof t}function p(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function f(t){var e=Object.prototype.toString.call(t);return"[object Window]"===e||"[object DOMWindow]"===e||"[object global]"===e}function m(t){return null!=t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&"function"!=typeof t&&"symbol"!=typeof t&&"bigint"!=typeof t&&"undefined"!=typeof Symbol&&"function"==typeof t[Symbol.iterator]}function g(t){return Object.prototype.toString.call(t).replace(/\[object (.*)\]/,"$1")}n.d(e,{C4:function(){return o},DV:function(){return v},FJ:function(){return f},Ft:function(){return u},HD:function(){return a},H_:function(){return U},KL:function(){return E},Kn:function(){return h},MH:function(){return D},PO:function(){return _},QI:function(){return R},QK:function(){return I},TW:function(){return m},_3:function(){return r},_D:function(){return P},cF:function(){return k},hZ:function(){return C},hj:function(){return i},id:function(){return B},jn:function(){return l},kJ:function(){return s},kK:function(){return p},mf:function(){return d},o8:function(){return c},po:function(){return F},qr:function(){return T},qt:function(){return O},rE:function(){return x},yk:function(){return A},zl:function(){return g}});var y=/(function|class) ([^ \{\()}]{1,})[\(| ]/;function v(t){var e;if(null==t)return"";var n=y.exec((null==t||null==(e=t.constructor)?void 0:e.toString())||"");return n&&n.length>1?n[2]:""}function _(t){var e,n=Object.prototype.hasOwnProperty;if(!t||"object"!=typeof t||t.nodeType||f(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||n.call(t,e)}var w=/[\n\t]/g,b=function(t){return{"\n":"\\n","\t":"\\t"}[t]};function x(t){return"string"!=typeof t?t:String(t).replace(w,b)}var M=function(t,e){void 0===e&&(e=0);var n="";return a(t)?(e>0&&(t=B(t,e)),n+='"'+x(t)+'"'):A(t)?n+=String(t).replace(/^Symbol\((.*)\)$/i,'Symbol("$1")'):d(t)?n+=(t.name||"function")+"()":o(t)?n+=String(t)+"n":n+=String(t),n},L=function t(e,n,r){if(void 0===r&&(r=0),h(e)||s(e))if(n.circularFinder(e)){var i="";if(s(e))i="(Circular Array)";else if(h(e)){var o;i="(Circular "+((null==(o=e.constructor)?void 0:o.name)||"Object")+")"}n.ret+=n.standardJSON?'"'+i+'"':i}else{var l="",c="";if(n.pretty){for(var u=0;u<=r;u++)l+="  ";c="\n"}var d="{",p="}";s(e)&&(d="[",p="]"),n.ret+=d+c;for(var f=D(e),m=0;m<f.length;m++){var g=f[m];n.ret+=l;try{s(e)||(h(g)||s(g)||A(g)?n.ret+=Object.prototype.toString.call(g):a(g)&&n.standardJSON?n.ret+='"'+g+'"':n.ret+=g,n.ret+=": ")}catch(t){continue}try{var y=e[g];if(s(y))n.maxDepth>-1&&r>=n.maxDepth?n.ret+="Array("+y.length+")":t(y,n,r+1);else if(h(y)){var v;n.maxDepth>-1&&r>=n.maxDepth?n.ret+=((null==(v=y.constructor)?void 0:v.name)||"Object")+" {}":t(y,n,r+1)}else n.ret+=M(y,n.keyMaxLen)}catch(t){n.ret+=n.standardJSON?'"(PARSE_ERROR)"':"(PARSE_ERROR)"}if(n.keyMaxLen>0&&n.ret.length>=10*n.keyMaxLen){n.ret+=", (...)";break}m<f.length-1&&(n.ret+=", "),n.ret+=c}n.ret+=l.substring(0,l.length-2)+p}else n.ret+=M(e,n.keyMaxLen)};function C(t,e){void 0===e&&(e={maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1});var n,r=Object.assign({ret:"",maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1,circularFinder:(n=new WeakSet,function(t){if("object"==typeof t&&null!==t){if(n.has(t))return!0;n.add(t)}return!1})},e);return L(t,r),r.ret}function E(t){return t<=0?"":t>=1e6?(t/1e3/1e3).toFixed(1)+" MB":t>=1e3?(t/1e3).toFixed(1)+" KB":t+" B"}function B(t,e){return t.length>e&&(t=t.substring(0,e)+"...("+E(function(t){try{return encodeURI(t).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1}catch(t){return 0}}(t))+")"),t}var S=function(t,e){return String(t).localeCompare(String(e),void 0,{numeric:!0,sensitivity:"base"})};function T(t){return t.sort(S)}function D(t){return h(t)||s(t)?Object.keys(t):[]}function I(t){var e=D(t),n=function(t){return h(t)||s(t)?Object.getOwnPropertyNames(t):[]}(t);return n.filter((function(t){return-1===e.indexOf(t)}))}function P(t){return h(t)||s(t)?Object.getOwnPropertySymbols(t):[]}function F(t,e){window.localStorage&&(t="vConsole_"+t,localStorage.setItem(t,e))}function k(t){if(window.localStorage)return t="vConsole_"+t,localStorage.getItem(t)}function R(t){return void 0===t&&(t=""),"__vc_"+t+Math.random().toString(36).substring(2,8)}function U(){return"undefined"!=typeof window&&!!window.__wxConfig&&!!window.wx&&!!window.__virtualDOM__}function O(t){if(U()&&"function"==typeof window.wx[t])try{for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=window.wx[t]).call.apply(e,[window.wx].concat(r))}catch(e){return void console.debug("[vConsole] Fail to call wx."+t+"():",e)}}},5629:function(t,e,n){"use strict";n.d(e,{W:function(){return p}});var r=n(8270),i=n(6881),o=n(5103),a=n(643),s=n(4687),l=n(8665),c=n(9923);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).LOG_METHODS=["log","info","warn","debug","error"],e.ADDED_LOG_PLUGIN_ID=[],e.maxLogNumber=1e3,e.logCounter=0,e.groupLevel=0,e.groupLabelCollapsedStack=[],e.pluginPattern=void 0,e.logQueue=[],e.flushLogScheduled=!1,e.origConsole={},e}(0,i.Z)(e,t);var n=e.prototype;return n.bindPlugin=function(t){return!(this.ADDED_LOG_PLUGIN_ID.indexOf(t)>-1||(0===this.ADDED_LOG_PLUGIN_ID.length&&this.mockConsole(),c.O.create(t),this.ADDED_LOG_PLUGIN_ID.push(t),this.pluginPattern=new RegExp("^\\[("+this.ADDED_LOG_PLUGIN_ID.join("|")+")\\]$","i"),0))},n.unbindPlugin=function(t){var e=this.ADDED_LOG_PLUGIN_ID.indexOf(t);return-1!==e&&(this.ADDED_LOG_PLUGIN_ID.splice(e,1),c.O.delete(t),0===this.ADDED_LOG_PLUGIN_ID.length&&this.unmockConsole(),!0)},n.mockConsole=function(){var t=this;"function"!=typeof this.origConsole.log&&(window.console?(this.LOG_METHODS.map((function(e){t.origConsole[e]=window.console[e]})),this.origConsole.time=window.console.time,this.origConsole.timeEnd=window.console.timeEnd,this.origConsole.clear=window.console.clear,this.origConsole.group=window.console.group,this.origConsole.groupCollapsed=window.console.groupCollapsed,this.origConsole.groupEnd=window.console.groupEnd):window.console={},this._mockConsoleLog(),this._mockConsoleTime(),this._mockConsoleGroup(),this._mockConsoleClear(),window._vcOrigConsole=this.origConsole)},n._mockConsoleLog=function(){var t=this;this.LOG_METHODS.map((function(e){window.console[e]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.addLog({type:e,origData:r||[]})}.bind(window.console)}))},n._mockConsoleTime=function(){var t=this,e={};window.console.time=function(t){void 0===t&&(t=""),e[t]=Date.now()}.bind(window.console),window.console.timeEnd=function(n){void 0===n&&(n="");var r=e[n],i=0;r&&(i=Date.now()-r,delete e[n]),t.addLog({type:"log",origData:[n+": "+i+"ms"]})}.bind(window.console)},n._mockConsoleGroup=function(){var t=this,e=function(e){return function(n){void 0===n&&(n="console.group");var r=Symbol(n);t.groupLabelCollapsedStack.push({label:r,collapsed:e}),t.addLog({type:"log",origData:[n],isGroupHeader:e?2:1,isGroupCollapsed:!1},{noOrig:!0}),t.groupLevel++,e?t.origConsole.groupCollapsed(n):t.origConsole.group(n)}.bind(window.console)};window.console.group=e(!1),window.console.groupCollapsed=e(!0),window.console.groupEnd=function(){t.groupLabelCollapsedStack.pop(),t.groupLevel=Math.max(0,t.groupLevel-1),t.origConsole.groupEnd()}.bind(window.console)},n._mockConsoleClear=function(){var t=this;window.console.clear=function(){t.resetGroup(),t.clearLog();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.callOriginalConsole.apply(t,["clear"].concat(n))}.bind(window.console)},n.unmockConsole=function(){for(var t in this.origConsole)window.console[t]=this.origConsole[t],delete this.origConsole[t];window._vcOrigConsole&&delete window._vcOrigConsole},n.callOriginalConsole=function(t){if("function"==typeof this.origConsole[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.origConsole[t].apply(window.console,n)}},n.resetGroup=function(){for(;this.groupLevel>0;)console.groupEnd()},n.clearLog=function(){var t=c.O.getAll();for(var e in t)this.clearPluginLog(e)},n.clearPluginLog=function(t){var e=this.logQueue;this.logQueue=[];for(var n,r=h(e);!(n=r()).done;){var i=n.value;this._extractPluginIdByLog(i)!==t&&this.logQueue.push(i)}c.O.get(t).update((function(t){return t.logList.length=0,t})),s.x.updateTime()},n.addLog=function(t,e){void 0===t&&(t={type:"log",origData:[],isGroupHeader:0,isGroupCollapsed:!1});var n=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-2],r=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-1],i={_id:o.QI(),type:t.type,cmdType:null==e?void 0:e.cmdType,toggle:{},date:Date.now(),data:(0,l.b1)(t.origData||[]),repeated:0,groupLabel:null==r?void 0:r.label,groupLevel:this.groupLevel,groupHeader:t.isGroupHeader,groupCollapsed:t.isGroupHeader?!(null==n||!n.collapsed):!(null==r||!r.collapsed)};this._signalLog(i),null!=e&&e.noOrig||this.callOriginalConsole.apply(this,[t.type].concat(t.origData))},n.evalCommand=function(t){this.addLog({type:"log",origData:[t]},{cmdType:"input"});var e=void 0;try{e=eval.call(window,"("+t+")")}catch(n){try{e=eval.call(window,t)}catch(t){}}this.addLog({type:"log",origData:[e]},{cmdType:"output"})},n._signalLog=function(t){var e=this;this.flushLogScheduled||(this.flushLogScheduled=!0,window.requestAnimationFrame((function(){e.flushLogScheduled=!1,e._flushLogs()}))),this.logQueue.push(t)},n._flushLogs=function(){var t=this,e=this.logQueue;this.logQueue=[];for(var n,r={},i=h(e);!(n=i()).done;){var o=n.value,a=this._extractPluginIdByLog(o);(r[a]=r[a]||[]).push(o)}for(var l=function(e){var n=r[e];c.O.get(e).update((function(e){for(var r,i=[].concat(e.logList),o=h(n);!(r=o()).done;){var a=r.value;t._isRepeatedLog(i,a)?t._updateLastLogRepeated(i):i.push(a)}return{logList:i=t._limitLogListLength(i)}}))},u=0,A=Object.keys(r);u<A.length;u++)l(A[u]);s.x.updateTime()},n._extractPluginIdByLog=function(t){var e,n="default",r=null==(e=t.data[0])?void 0:e.origData;if(o.HD(r)){var i=r.match(this.pluginPattern);if(null!==i&&i.length>1){var a=i[1].toLowerCase();this.ADDED_LOG_PLUGIN_ID.indexOf(a)>-1&&(n=a,t.data.shift())}}return n},n._isRepeatedLog=function(t,e){var n=t[t.length-1];if(!n)return!1;var r=!1;if(e.type===n.type&&e.cmdType===n.cmdType&&e.data.length===n.data.length){r=!0;for(var i=0;i<e.data.length;i++)if(e.data[i].origData!==n.data[i].origData){r=!1;break}}return r},n._updateLastLogRepeated=function(t){var e=t[t.length-1],n=e.repeated?e.repeated+1:2;return t[t.length-1]=A(A({},e),{},{repeated:n}),t},n._limitLogListLength=function(t){var e=t.length,n=this.maxLogNumber;return e>n?t.slice(e-n,e):t},e}(a.N)},9923:function(t,e,n){"use strict";n.d(e,{O:function(){return i}});var r=n(3313),i=function(){function t(){}return t.create=function(t){return this.storeMap[t]||(this.storeMap[t]=(0,r.fZ)({logList:[]})),this.storeMap[t]},t.delete=function(t){this.storeMap[t]&&delete this.storeMap[t]},t.get=function(t){return this.storeMap[t]},t.getRaw=function(t){return(0,r.U2)(this.storeMap[t])},t.getAll=function(){return this.storeMap},t}();i.storeMap={}},8665:function(t,e,n){"use strict";n.d(e,{HX:function(){return u},LH:function(){return o},Tg:function(){return d},b1:function(){return h},oj:function(){return c}});var r=n(5103),i=function(t){var e=r.hZ(t,{maxDepth:0}),n=e.substring(0,36),i=r.DV(t);return e.length>36&&(n+="..."),r.rE(i+" "+n)},o=function(t,e){void 0===e&&(e=!0);var n="undefined",o=t;return t instanceof d?(n="uninvocatable",o="(...)"):r.kJ(t)?(n="array",o=i(t)):r.Kn(t)?(n="object",o=i(t)):r.HD(t)?(n="string",o=r.rE(t),e&&(o='"'+o+'"')):r.hj(t)?(n="number",o=String(t)):r.C4(t)?(n="bigint",o=String(t)+"n"):r.jn(t)?(n="boolean",o=String(t)):r.Ft(t)?(n="null",o="null"):r.o8(t)?(n="undefined",o="undefined"):r.mf(t)?(n="function",o=(t.name||"function")+"()"):r.yk(t)&&(n="symbol",o=String(t)),{text:o,valueType:n}},a=[".","[","(","{","}"],s=["]",")","}"],l=function(t,e,n){void 0===n&&(n=0);for(var r={text:"",pos:-1,before:"",after:""},i=t.length-1;i>=n;i--){var o=e.indexOf(t[i]);if(o>-1){r.text=e[o],r.pos=i,r.before=t.substring(n,i),r.after=t.substring(i+1,t.length);break}}return r},c=function(t){var e=l(t,a,0);return{front:e,back:l(t,s,e.pos+1)}},u=function(t,e){if(""===e)return!0;for(var n=0;n<t.data.length;n++)if("string"==typeof t.data[n].origData&&t.data[n].origData.indexOf(e)>-1)return!0;return!1},A=/(\%[csdo] )|( \%[csdo])/g,h=function(t){if(A.lastIndex=0,r.HD(t[0])&&A.test(t[0])){for(var e,n=[].concat(t),i=n.shift().split(A).filter((function(t){return void 0!==t&&""!==t})),o=n,a=[],s=!1,l="";i.length>0;){var c=i.shift();if(/ ?\%c ?/.test(c)?o.length>0?"string"!=typeof(l=o.shift())&&(l=""):(e=c,l="",s=!0):/ ?\%[sd] ?/.test(c)?(e=o.length>0?r.Kn(o[0])?r.DV(o.shift()):String(o.shift()):c,s=!0):/ ?\%o ?/.test(c)?(e=o.length>0?o.shift():c,s=!0):(e=c,s=!0),s){var u={origData:e};l&&(u.style=l),a.push(u),s=!1,e=void 0,l=""}}for(var h=0;h<o.length;h++)a.push({origData:o[h]});return a}for(var d=[],p=0;p<t.length;p++)d.push({origData:t[p]});return d},d=function(){}},5313:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-icon {\n  word-break: normal;\n  white-space: normal;\n  overflow: visible;\n}\n.vc-icon svg {\n  fill: var(--VC-FG-2);\n  height: 1em;\n  width: 1em;\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-delete {\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-copy {\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n.vc-icon .vc-icon-suc {\n  fill: var(--VC-TEXTGREEN);\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n",""]),e.Z=a},1142:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-scroller-viewport {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n.vc-scroller-contents {\n  min-height: 100%;\n  will-change: transform;\n}\n.vc-scroller-items {\n  will-change: height;\n  position: relative;\n}\n.vc-scroller-item {\n  display: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n.vc-scroller-viewport.static .vc-scroller-item {\n  display: block;\n  position: static;\n}\n.vc-scroller-scrollbar-track {\n  width: 4px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 1px;\n}\n.vc-scroller-scrollbar-thumb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 999px;\n}\n",""]),e.Z=a},3283:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,'#__vconsole {\n  --VC-BG-0: #ededed;\n  --VC-BG-1: #f7f7f7;\n  --VC-BG-2: #fff;\n  --VC-BG-3: #f7f7f7;\n  --VC-BG-4: #4c4c4c;\n  --VC-BG-5: #fff;\n  --VC-BG-6: rgba(0, 0, 0, 0.1);\n  --VC-FG-0: rgba(0, 0, 0, 0.9);\n  --VC-FG-HALF: rgba(0, 0, 0, 0.9);\n  --VC-FG-1: rgba(0, 0, 0, 0.5);\n  --VC-FG-2: rgba(0, 0, 0, 0.3);\n  --VC-FG-3: rgba(0, 0, 0, 0.1);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #fa9d3b;\n  --VC-YELLOW: #ffc300;\n  --VC-GREEN: #91d300;\n  --VC-LIGHTGREEN: #95ec69;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1485ee;\n  --VC-PURPLE: #6467f0;\n  --VC-LINK: #576b95;\n  --VC-TEXTGREEN: #06ae56;\n  --VC-FG: black;\n  --VC-BG: white;\n  --VC-BG-COLOR-ACTIVE: #ececec;\n  --VC-WARN-BG: #fff3cc;\n  --VC-WARN-BORDER: #ffe799;\n  --VC-ERROR-BG: #fedcdc;\n  --VC-ERROR-BORDER: #fdb9b9;\n  --VC-DOM-TAG-NAME-COLOR: #881280;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #994500;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #1a1aa6;\n  --VC-CODE-KEY-FG: #881391;\n  --VC-CODE-PRIVATE-KEY-FG: #cfa1d3;\n  --VC-CODE-FUNC-FG: #0d22aa;\n  --VC-CODE-NUMBER-FG: #1c00cf;\n  --VC-CODE-STR-FG: #c41a16;\n  --VC-CODE-NULL-FG: #808080;\n  color: var(--VC-FG-0);\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  -webkit-user-select: auto;\n  /* global */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 6.30769231em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole pre {\n  white-space: pre-wrap;\n}\n#__vconsole i {\n  font-style: normal;\n}\n.vc-table {\n  height: 100%;\n}\n.vc-table .vc-table-row {\n  line-height: 1.5;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row-icon {\n  margin-left: 4px;\n}\n.vc-table .vc-table-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid var(--VC-FG-3);\n  overflow: auto;\n}\n.vc-table .vc-table-col:first-child {\n  border: none;\n}\n.vc-table .vc-table-col-value {\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n    text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n.vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n.vc-table .vc-table-col-2 {\n  -webkit-box-flex: 2;\n  -webkit-flex: 2;\n  -moz-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n}\n.vc-table .vc-table-col-3 {\n  -webkit-box-flex: 3;\n  -webkit-flex: 3;\n  -moz-box-flex: 3;\n  -ms-flex: 3;\n  flex: 3;\n}\n.vc-table .vc-table-col-4 {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n  -moz-box-flex: 4;\n  -ms-flex: 4;\n  flex: 4;\n}\n.vc-table .vc-table-col-5 {\n  -webkit-box-flex: 5;\n  -webkit-flex: 5;\n  -moz-box-flex: 5;\n  -ms-flex: 5;\n  flex: 5;\n}\n.vc-table .vc-table-col-6 {\n  -webkit-box-flex: 6;\n  -webkit-flex: 6;\n  -moz-box-flex: 6;\n  -ms-flex: 6;\n  flex: 6;\n}\n.vc-table .vc-table-row-error {\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-table .vc-table-row-error .vc-table-col {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n}\n.vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n.vc-table .vc-table-action {\n  display: flex;\n  justify-content: space-evenly;\n}\n.vc-table .vc-table-action .vc-icon {\n  flex: 1;\n  text-align: center;\n  display: block;\n}\n.vc-table .vc-table-action .vc-icon:hover {\n  background: var(--VC-BG-3);\n}\n.vc-table .vc-table-action .vc-icon:active {\n  background: var(--VC-BG-1);\n}\n.vc-table .vc-table-input {\n  width: 100%;\n  border: none;\n  color: var(--VC-FG-0);\n  background-color: var(--VC-BG-6);\n  height: 3.53846154em;\n}\n.vc-table .vc-table-input:focus {\n  background-color: var(--VC-FG-2);\n}\n@media (prefers-color-scheme: dark) {\n  #__vconsole:not([data-theme="light"]) {\n    --VC-BG-0: #191919;\n    --VC-BG-1: #1f1f1f;\n    --VC-BG-2: #232323;\n    --VC-BG-3: #2f2f2f;\n    --VC-BG-4: #606060;\n    --VC-BG-5: #2c2c2c;\n    --VC-BG-6: rgba(255, 255, 255, 0.2);\n    --VC-FG-0: rgba(255, 255, 255, 0.8);\n    --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n    --VC-FG-1: rgba(255, 255, 255, 0.5);\n    --VC-FG-2: rgba(255, 255, 255, 0.3);\n    --VC-FG-3: rgba(255, 255, 255, 0.05);\n    --VC-RED: #fa5151;\n    --VC-ORANGE: #c87d2f;\n    --VC-YELLOW: #cc9c00;\n    --VC-GREEN: #74a800;\n    --VC-LIGHTGREEN: #28b561;\n    --VC-BRAND: #07c160;\n    --VC-BLUE: #10aeff;\n    --VC-INDIGO: #1196ff;\n    --VC-PURPLE: #8183ff;\n    --VC-LINK: #7d90a9;\n    --VC-TEXTGREEN: #259c5c;\n    --VC-FG: white;\n    --VC-BG: black;\n    --VC-BG-COLOR-ACTIVE: #282828;\n    --VC-WARN-BG: #332700;\n    --VC-WARN-BORDER: #664e00;\n    --VC-ERROR-BG: #321010;\n    --VC-ERROR-BORDER: #642020;\n    --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n    --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n    --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n    --VC-CODE-KEY-FG: #e36eec;\n    --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n    --VC-CODE-FUNC-FG: #556af2;\n    --VC-CODE-NUMBER-FG: #9980ff;\n    --VC-CODE-STR-FG: #e93f3b;\n    --VC-CODE-NULL-FG: #808080;\n  }\n}\n#__vconsole[data-theme="dark"] {\n  --VC-BG-0: #191919;\n  --VC-BG-1: #1f1f1f;\n  --VC-BG-2: #232323;\n  --VC-BG-3: #2f2f2f;\n  --VC-BG-4: #606060;\n  --VC-BG-5: #2c2c2c;\n  --VC-BG-6: rgba(255, 255, 255, 0.2);\n  --VC-FG-0: rgba(255, 255, 255, 0.8);\n  --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n  --VC-FG-1: rgba(255, 255, 255, 0.5);\n  --VC-FG-2: rgba(255, 255, 255, 0.3);\n  --VC-FG-3: rgba(255, 255, 255, 0.05);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #c87d2f;\n  --VC-YELLOW: #cc9c00;\n  --VC-GREEN: #74a800;\n  --VC-LIGHTGREEN: #28b561;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1196ff;\n  --VC-PURPLE: #8183ff;\n  --VC-LINK: #7d90a9;\n  --VC-TEXTGREEN: #259c5c;\n  --VC-FG: white;\n  --VC-BG: black;\n  --VC-BG-COLOR-ACTIVE: #282828;\n  --VC-WARN-BG: #332700;\n  --VC-WARN-BORDER: #664e00;\n  --VC-ERROR-BG: #321010;\n  --VC-ERROR-BORDER: #642020;\n  --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n  --VC-CODE-KEY-FG: #e36eec;\n  --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n  --VC-CODE-FUNC-FG: #556af2;\n  --VC-CODE-NUMBER-FG: #9980ff;\n  --VC-CODE-STR-FG: #e93f3b;\n  --VC-CODE-NULL-FG: #808080;\n}\n.vc-tabbar {\n  border-bottom: 1px solid var(--VC-FG-3);\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n.vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-tabbar .vc-tab.vc-actived {\n  background-color: var(--VC-BG-1);\n}\n.vc-toolbar {\n  border-top: 1px solid var(--VC-FG-3);\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n.vc-toolbar .vc-tool {\n  display: none;\n  font-style: normal;\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  width: 50%;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n.vc-toolbar .vc-tool.vc-toggle,\n.vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n.vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n.vc-topbar {\n  background-color: var(--VC-BG-1);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  width: 100%;\n}\n.vc-topbar .vc-toptab {\n  display: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  text-align: center;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n.vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid var(--VC-INDIGO);\n}\n.vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  -webkit-transition: background 0.3s;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n.vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: -100%;\n  z-index: 10002;\n  background-color: var(--VC-BG-0);\n  transition: bottom 0.3s;\n}\n.vc-toggle .vc-switch {\n  display: none;\n}\n.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n.vc-toggle .vc-panel {\n  bottom: 0;\n}\n.vc-content {\n  background-color: var(--VC-BG-2);\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n.vc-plugin-box {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n.vc-plugin-box.vc-fixed-height {\n  height: 100%;\n}\n.vc-plugin-box.vc-actived {\n  display: block;\n}\n.vc-plugin-content {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  flex-direction: column;\n  -webkit-tap-highlight-color: transparent;\n}\n.vc-plugin-content:empty:before {\n  content: "Empty";\n  color: var(--VC-FG-1);\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n.vc-plugin-empty {\n  color: var(--VC-FG-1);\n  font-size: 1.15384615em;\n  height: 100%;\n  width: 100%;\n  padding: 1.15384615em 0;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  .vc-toolbar,\n  .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n',""]),e.Z=a},7558:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: var(--VC-BRAND);\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n",""]),e.Z=a},5670:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,'/* color */\n.vcelm-node {\n  color: var(--VC-DOM-TAG-NAME-COLOR);\n}\n.vcelm-k {\n  color: var(--VC-DOM-ATTRIBUTE-NAME-COLOR);\n}\n.vcelm-v {\n  color: var(--VC-DOM-ATTRIBUTE-VALUE-COLOR);\n}\n.vcelm-l.vc-actived > .vcelm-node {\n  background-color: var(--VC-FG-3);\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1.2;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l .vcelm-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: var(--VC-FG-1);\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n',""]),e.Z=a},3327:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,"",""]),e.Z=a},1130:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-cmd {\n  height: 3.07692308em;\n  border-top: 1px solid var(--VC-FG-3);\n  display: flex;\n  flex-direction: row;\n}\n.vc-cmd.vc-filter {\n  bottom: 0;\n}\n.vc-cmd-input-wrap {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  position: relative;\n  height: 2.15384615em;\n  padding: 0.46153846em 0.61538462em;\n}\n.vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n  background-color: transparent;\n  color: var(--VC-FG-0);\n}\n.vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n.vc-cmd-btn {\n  width: 3.07692308em;\n  border: none;\n  background-color: var(--VC-BG-0);\n  color: var(--VC-FG-0);\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n.vc-cmd-clear-btn {\n  flex: 1 3.07692308em;\n  text-align: center;\n  line-height: 3.07692308em;\n}\n.vc-cmd-btn:active,\n.vc-cmd-clear-btn:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted {\n  position: absolute;\n  left: 0.46153846em;\n  right: 0.46153846em;\n  background-color: var(--VC-BG-3);\n  border: 1px solid var(--VC-FG-3);\n  overflow-x: scroll;\n  display: none;\n}\n.vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-cmd-prompted li:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted-hide {\n  text-align: center;\n}\n",""]),e.Z=a},7147:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,'.vc-log-row {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid var(--VC-FG-3);\n  word-break: break-word;\n  position: relative;\n  display: flex;\n}\n.vc-log-info {\n  color: var(--VC-PURPLE);\n}\n.vc-log-debug {\n  color: var(--VC-YELLOW);\n}\n.vc-log-warn {\n  color: var(--VC-ORANGE);\n  border-color: var(--VC-WARN-BORDER);\n  background-color: var(--VC-WARN-BG);\n}\n.vc-log-error {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-logrow-icon {\n  margin-left: auto;\n}\n.vc-log-padding {\n  width: 1.53846154em;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-log-group .vc-log-content {\n  font-weight: bold;\n}\n.vc-log-group-toggle {\n  padding-left: 0.76923077em;\n}\n.vc-log-group-toggle {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-group-toggle:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-group > .vc-log-group-toggle::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-group.vc-toggle > .vc-log-group-toggle::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-time {\n  width: 6.15384615em;\n  color: #777;\n}\n.vc-log-repeat i {\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n.vc-log-error .vc-log-repeat i {\n  color: #901818;\n  background-color: var(--VC-RED);\n}\n.vc-log-warn .vc-log-repeat i {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n.vc-log-content {\n  flex: 1;\n}\n.vc-log-input,\n.vc-log-output {\n  padding-left: 0.92307692em;\n}\n.vc-log-input:before,\n.vc-log-output:before {\n  content: "";\n  position: absolute;\n  top: 0.15384615em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n.vc-log-output:before {\n  content: "";\n}\n',""]),e.Z=a},1237:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,'.vc-log-tree {\n  display: block;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n}\n.vc-log-tree-node {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-tree.vc-is-tree.vc-toggle > .vc-log-tree-node::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-tree-child {\n  margin-left: 0.76923077em;\n}\n.vc-log-tree-loadmore {\n  text-decoration: underline;\n  padding-left: 1.84615385em;\n  position: relative;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore::before {\n  content: "";\n  position: absolute;\n  top: -0.15384615em;\n  left: 0.76923077em;\n  font-size: 1.23076923em;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n',""]),e.Z=a},845:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-log-key {\n  color: var(--VC-CODE-KEY-FG);\n}\n.vc-log-key-private {\n  color: var(--VC-CODE-PRIVATE-KEY-FG);\n}\n.vc-log-val {\n  white-space: pre-line;\n}\n.vc-log-val-function {\n  color: var(--VC-CODE-FUNC-FG);\n  font-style: italic !important;\n}\n.vc-log-val-bigint {\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-val-number,\n.vc-log-val-boolean {\n  color: var(--VC-CODE-NUMBER-FG);\n}\n.vc-log-val-string {\n  white-space: pre-wrap;\n}\n.vc-log-val-string.vc-log-val-haskey {\n  color: var(--VC-CODE-STR-FG);\n  white-space: normal;\n}\n.vc-log-val-null,\n.vc-log-val-undefined,\n.vc-log-val-uninvocatable {\n  color: var(--VC-CODE-NULL-FG);\n}\n.vc-log-val-symbol {\n  color: var(--VC-CODE-STR-FG);\n}\n",""]),e.Z=a},8747:function(t,e,n){"use strict";var r=n(6738),i=n.n(r),o=n(7705),a=n.n(o)()(i());a.push([t.id,".vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n.vc-group .vc-group-preview:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: var(--VC-BG-1);\n}\n.vc-group.vc-actived .vc-table-row {\n  background-color: var(--VC-BG-2);\n}\n.vc-group.vc-actived .vc-group-preview {\n  background-color: var(--VC-BG-1);\n}\n",""]),e.Z=a},3411:function(t,e,n){"use strict";var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),l=n.n(s),c=n(3565),u=n.n(c),A=n(9216),h=n.n(A),d=n(4589),p=n.n(d),f=n(1130),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,v={};v.styleTagTransform=p(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=h(),m.use=function(t){return v.options=t||{},y++||(g=i()(f.Z,v)),m},m.unuse=function(){y>0&&! --y&&(g(),g=null)},e.Z=m},3379:function(t){"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,A="".concat(c," ").concat(u);o[c]=u+1;var h=n(A),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var p=i(d,r);r.byIndex=s,e.splice(s,0,{identifier:A,updater:p,references:1})}a.push(A)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=r(t,i),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=l}}},569:function(t){"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:function(t,e,n){"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},6464:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},4296:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:function(){return i}})},8270:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},6881:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2717);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,r.Z)(t,e)}},2717:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{Z:function(){return r}})},7003:function(t,e,n){"use strict";n.d(e,{H3:function(){return r.H3E},ev:function(){return r.evW},x:function(){return r.xa3}});var r=n(2942)},2942:function(t,e,n){"use strict";var r;function i(){}function o(t){return t()}function a(){return Object.create(null)}function s(t){t.forEach(o)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e}function A(t){if(null==t)return i;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.subscribe.apply(t,n);return o.unsubscribe?function(){return o.unsubscribe()}:o}function h(t){var e;return A(t,(function(t){return e=t}))(),e}function d(t,e,n){t.$$.on_destroy.push(A(e,n))}function p(t,e,n,r){if(t){var i=f(t,e,n,r);return t[0](i)}}function f(t,e,n,r){return t[1]&&r?function(t,e){for(var n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function m(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){for(var o=[],a=Math.max(e.dirty.length,i.length),s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function g(t,e,n,r,i,o){if(i){var a=f(e,n,r,o);t.p(a,i)}}function y(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function v(t){var e={};for(var n in t)e[n]=!0;return e}function _(t,e,n){return t.set(n),e}function w(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function M(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function C(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function B(){return E(" ")}function S(){return E("")}function T(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function D(t){return function(e){return e.preventDefault(),t.call(this,e)}}function I(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function P(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function R(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function U(t,e,n){t.classList[n?"add":"remove"](e)}function O(t){r=t}function H(){if(!r)throw new Error("Function called outside component initialization");return r}function Y(t){H().$$.on_mount.push(t)}function Q(t){H().$$.on_destroy.push(t)}function N(){var t=H();return function(e,n){var r=t.$$.callbacks[e];if(r){var i=function(t,e,n){void 0===n&&(n=!1);var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((function(e){e.call(t,i)}))}}}function j(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}n.d(e,{f_C:function(){return gt},hjT:function(){return q},R3I:function(){return w},Ljt:function(){return P},akz:function(){return At},VnY:function(){return V},cKT:function(){return j},gbL:function(){return ot},FIv:function(){return d},XGm:function(){return v},xa3:function(){return N},YCL:function(){return ht},nuO:function(){return p},vpE:function(){return pt},RMB:function(){return M},ogt:function(){return x},bGB:function(){return L},cSb:function(){return S},yl1:function(){return tt},VOJ:function(){return y},u2N:function(){return m},$XI:function(){return h},lig:function(){return lt},dvw:function(){return it},S1n:function(){return mt},$Tr:function(){return b},sBU:function(){return l},oLt:function(){return T},yef:function(){return dt},ZTd:function(){return i},AqN:function(){return u},evW:function(){return Q},H3E:function(){return Y},cly:function(){return ct},AT7:function(){return D},j7q:function(){return s},N8:function(){return c},rTO:function(){return F},BmG:function(){return k},fxP:function(){return _},czc:function(){return R},DhX:function(){return B},XET:function(){return I},LdU:function(){return A},bi5:function(){return C},fLW:function(){return E},VHj:function(){return U},Ui:function(){return at},etI:function(){return st},GQg:function(){return ut},kmG:function(){return g}}),n(2717),n(6881),new Set,new Map;var W=[],V=[],z=[],G=[],K=Promise.resolve(),Z=!1;function X(t){z.push(t)}function q(t){G.push(t)}var J=new Set,$=0;function tt(){var t=r;do{for(;$<W.length;){var e=W[$];$++,O(e),et(e.$$)}for(O(null),W.length=0,$=0;V.length;)V.pop()();for(var n=0;n<z.length;n+=1){var i=z[n];J.has(i)||(J.add(i),i())}z.length=0}while(W.length);for(;G.length;)G.pop()();Z=!1,J.clear(),O(t)}function et(t){if(null!==t.fragment){t.update(),s(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}var nt,rt=new Set;function it(){nt={r:0,c:[],p:nt}}function ot(){nt.r||s(nt.c),nt=nt.p}function at(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function st(t,e,n,r){if(t&&t.o){if(rt.has(t))return;rt.add(t),nt.c.push((function(){rt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}var lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:__webpack_require__.g;function ct(t,e){st(t,1,1,(function(){e.delete(t.key)}))}function ut(t,e,n,r,i,o,a,s,l,c,u,A){for(var h=t.length,d=o.length,p=h,f={};p--;)f[t[p].key]=p;var m=[],g=new Map,y=new Map;for(p=d;p--;){var v=A(i,o,p),_=n(v),w=a.get(_);w?r&&w.p(v,e):(w=c(_,v)).c(),g.set(_,m[p]=w),_ in f&&y.set(_,Math.abs(p-f[_]))}var b=new Set,x=new Set;function M(t){at(t,1),t.m(s,u),a.set(t.key,t),u=t.first,d--}for(;h&&d;){var L=m[d-1],C=t[h-1],E=L.key,B=C.key;L===C?(u=L.first,h--,d--):g.has(B)?!a.has(E)||b.has(E)?M(L):x.has(B)?h--:y.get(E)>y.get(B)?(x.add(E),M(L)):(b.add(B),h--):(l(C,a),h--)}for(;h--;){var S=t[h];g.has(S.key)||l(S,a)}for(;d;)M(m[d-1]);return m}function At(t,e,n){var r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ht(t){t&&t.c()}function dt(t,e,n,r){var i=t.$$,a=i.fragment,c=i.on_mount,u=i.on_destroy,A=i.after_update;a&&a.m(e,n),r||X((function(){var e=c.map(o).filter(l);u?u.push.apply(u,e):s(e),t.$$.on_mount=[]})),A.forEach(X)}function pt(t,e){var n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(W.push(t),Z||(Z=!0,K.then(tt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mt(t,e,n,o,l,c,u,A){void 0===A&&(A=[-1]);var h=r;O(t);var d=t.$$={fragment:null,ctx:null,props:c,update:i,not_equal:l,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:a(),dirty:A,skip_bound:!1,root:e.target||h.$$.root};u&&u(d.root);var p,f=!1;if(d.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return d.ctx&&l(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&ft(t,e)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!o&&o(d.ctx),e.target){if(e.hydrate){var m=(p=e.target,Array.from(p.childNodes));d.fragment&&d.fragment.l(m),m.forEach(x)}else d.fragment&&d.fragment.c();e.intro&&at(t.$$.fragment),dt(t,e.target,e.anchor,e.customElement),tt()}O(h)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&HTMLElement;var gt=function(){function t(){}var e=t.prototype;return e.$destroy=function(){pt(this,1),this.$destroy=i},e.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},e.$set=function(t){this.$$set&&!function(t){return 0===Object.keys(t).length}(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)},t}()},3313:function(t,e,n){"use strict";n.d(e,{U2:function(){return r.$XI},fZ:function(){return s}});var r=n(2942);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=[];function s(t,e){var n;void 0===e&&(e=r.ZTd);var o=new Set;function s(e){if((0,r.N8)(t,e)&&(t=e,n)){for(var s,l=!a.length,c=i(o);!(s=c()).done;){var u=s.value;u[1](),a.push(u,t)}if(l){for(var A=0;A<a.length;A+=2)a[A][0](a[A+1]);a.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a){void 0===a&&(a=r.ZTd);var l=[i,a];return o.add(l),1===o.size&&(n=e(s)||r.ZTd),i(t),function(){o.delete(l),0===o.size&&(n(),n=null)}}}}}},__webpack_module_cache__={};function __nested_webpack_require_131847__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__nested_webpack_require_131847__),n.exports}__nested_webpack_require_131847__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __nested_webpack_require_131847__.d(e,{a:e}),e},__nested_webpack_require_131847__.d=function(t,e){for(var n in e)__nested_webpack_require_131847__.o(e,n)&&!__nested_webpack_require_131847__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__nested_webpack_require_131847__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__nested_webpack_require_131847__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var __nested_webpack_exports__={};return function(){"use strict";__nested_webpack_require_131847__.d(__nested_webpack_exports__,{default:function(){return Pi}}),__nested_webpack_require_131847__(5441),__nested_webpack_require_131847__(8765);var t=__nested_webpack_require_131847__(4296),e=__nested_webpack_require_131847__(5103),n={one:function(t,e){void 0===e&&(e=document);try{return e.querySelector(t)||void 0}catch(t){return}},all:function(t,e){void 0===e&&(e=document);try{var n=e.querySelectorAll(t);return[].slice.call(n)}catch(t){return[]}},addClass:function(t,n){if(t)for(var r=(0,e.kJ)(t)?t:[t],i=0;i<r.length;i++){var o=(r[i].className||"").split(" ");o.indexOf(n)>-1||(o.push(n),r[i].className=o.join(" "))}},removeClass:function(t,n){if(t)for(var r=(0,e.kJ)(t)?t:[t],i=0;i<r.length;i++){for(var o=r[i].className.split(" "),a=0;a<o.length;a++)o[a]==n&&(o[a]="");r[i].className=o.join(" ").trim()}},hasClass:function(t,e){return!(!t||!t.classList)&&t.classList.contains(e)},bind:function(t,n,r,i){void 0===i&&(i=!1),t&&((0,e.kJ)(t)?t:[t]).forEach((function(t){t.addEventListener(n,r,!!i)}))},delegate:function(t,e,r,i){t&&t.addEventListener(e,(function(e){var o=n.all(r,t);if(o)t:for(var a=0;a<o.length;a++)for(var s=e.target;s;){if(s==o[a]){i.call(s,e,s);break t}if((s=s.parentNode)==t)break}}),!1)},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.lastChild);return t}},r=n,i=__nested_webpack_require_131847__(6464),o=__nested_webpack_require_131847__(6881),a=__nested_webpack_require_131847__(2942),s=__nested_webpack_require_131847__(7003),l=__nested_webpack_require_131847__(3379),c=__nested_webpack_require_131847__.n(l),u=__nested_webpack_require_131847__(7795),A=__nested_webpack_require_131847__.n(u),h=__nested_webpack_require_131847__(569),d=__nested_webpack_require_131847__.n(h),p=__nested_webpack_require_131847__(3565),f=__nested_webpack_require_131847__.n(p),m=__nested_webpack_require_131847__(9216),g=__nested_webpack_require_131847__.n(m),y=__nested_webpack_require_131847__(4589),v=__nested_webpack_require_131847__.n(y),_=__nested_webpack_require_131847__(7558),w={};_.Z&&_.Z.locals&&(w.locals=_.Z.locals);var b,x=0,M={};M.styleTagTransform=v(),M.setAttributes=f(),M.insert=d().bind(null,"head"),M.domAPI=A(),M.insertStyleElement=g(),w.use=function(t){return M.options=t||{},x++||(b=c()(_.Z,M)),w},w.unuse=function(){x>0&&! --x&&(b(),b=null)};var L=w;function C(t){var e,n,r,i;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)("vConsole"),(0,a.Ljt)(e,"class","vc-switch"),(0,a.czc)(e,"right",t[2].x+"px"),(0,a.czc)(e,"bottom",t[2].y+"px"),(0,a.czc)(e,"display",t[0]?"block":"none")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),t[8](e),r||(i=[(0,a.oLt)(e,"touchstart",t[3],{passive:!1}),(0,a.oLt)(e,"touchend",t[4],{passive:!1}),(0,a.oLt)(e,"touchmove",t[5],{passive:!1}),(0,a.oLt)(e,"click",t[7])],r=!0)},p:function(t,n){var r=n[0];4&r&&(0,a.czc)(e,"right",t[2].x+"px"),4&r&&(0,a.czc)(e,"bottom",t[2].y+"px"),1&r&&(0,a.czc)(e,"display",t[0]?"block":"none")},i:a.ZTd,o:a.ZTd,d:function(n){n&&(0,a.ogt)(e),t[8](null),r=!1,(0,a.j7q)(i)}}}function E(t,n,r){var i,o=n.show,l=void 0===o||o,c=n.position,u=void 0===c?{x:0,y:0}:c,A={hasMoved:!1,x:0,y:0,startX:0,startY:0,endX:0,endY:0},h={x:0,y:0};(0,s.H3)((function(){L.use()})),(0,s.ev)((function(){L.unuse()}));var d=function(t,n){var i=p(t,n);t=i[0],n=i[1],A.x=t,A.y=n,r(2,h.x=t,h),r(2,h.y=n,h),e.po("switch_x",t+""),e.po("switch_y",n+"")},p=function(t,e){var n=Math.max(document.documentElement.offsetWidth,window.innerWidth),r=Math.max(document.documentElement.offsetHeight,window.innerHeight);return t+i.offsetWidth>n&&(t=n-i.offsetWidth),e+i.offsetHeight>r&&(e=r-i.offsetHeight),t<0&&(t=0),e<20&&(e=20),[t,e]};return t.$$set=function(t){"show"in t&&r(0,l=t.show),"position"in t&&r(6,u=t.position)},t.$$.update=function(){66&t.$$.dirty&&i&&d(u.x,u.y)},[l,i,h,function(t){A.startX=t.touches[0].pageX,A.startY=t.touches[0].pageY,A.hasMoved=!1},function(t){A.hasMoved&&(A.startX=0,A.startY=0,A.hasMoved=!1,d(A.endX,A.endY))},function(t){if(!(t.touches.length<=0)){var e=t.touches[0].pageX-A.startX,n=t.touches[0].pageY-A.startY,i=Math.floor(A.x-e),o=Math.floor(A.y-n),a=p(i,o);i=a[0],o=a[1],r(2,h.x=i,h),r(2,h.y=o,h),A.endX=i,A.endY=o,A.hasMoved=!0,t.preventDefault()}},u,function(e){a.cKT.call(this,t,e)},function(t){a.VnY[t?"unshift":"push"]((function(){r(1,i=t)}))}]}var B=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,E,C,a.N8,{show:0,position:6}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"position",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({position:t}),(0,a.yl1)()}}]),n}(a.f_C),S=B;function T(t){var e,n;return{c:function(){e=(0,a.bGB)("div"),(0,a.Ljt)(e,"id",n="__vc_plug_"+t[0]),(0,a.Ljt)(e,"class","vc-plugin-box"),(0,a.VHj)(e,"vc-fixed-height",t[1]),(0,a.VHj)(e,"vc-actived",t[2])},m:function(n,r){(0,a.$Tr)(n,e,r),t[6](e)},p:function(t,r){var i=r[0];1&i&&n!==(n="__vc_plug_"+t[0])&&(0,a.Ljt)(e,"id",n),2&i&&(0,a.VHj)(e,"vc-fixed-height",t[1]),4&i&&(0,a.VHj)(e,"vc-actived",t[2])},i:a.ZTd,o:a.ZTd,d:function(n){n&&(0,a.ogt)(e),t[6](null)}}}function D(t,n,r){var i=n.pluginId,o=void 0===i?"":i,s=n.fixedHeight,l=void 0!==s&&s,c=n.actived,u=void 0!==c&&c,A=n.content,h=void 0===A?void 0:A,d=void 0,p=void 0;return t.$$set=function(t){"pluginId"in t&&r(0,o=t.pluginId),"fixedHeight"in t&&r(1,l=t.fixedHeight),"actived"in t&&r(2,u=t.actived),"content"in t&&r(4,h=t.content)},t.$$.update=function(){57&t.$$.dirty&&p!==o&&h&&d&&(r(5,p=o),r(3,d.innerHTML="",d),(0,e.HD)(h)?r(3,d.innerHTML=h,d):(0,e.kK)(h)&&d.appendChild(h))},[o,l,u,d,h,p,function(t){a.VnY[t?"unshift":"push"]((function(){r(3,d=t),r(5,p),r(0,o),r(4,h)}))}]}var I=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,D,T,a.N8,{pluginId:0,fixedHeight:1,actived:2,content:4}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"pluginId",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({pluginId:t}),(0,a.yl1)()}},{key:"fixedHeight",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({fixedHeight:t}),(0,a.yl1)()}},{key:"actived",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({actived:t}),(0,a.yl1)()}},{key:"content",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({content:t}),(0,a.yl1)()}}]),n}(a.f_C),P=I,F=__nested_webpack_require_131847__(4687),k=__nested_webpack_require_131847__(3283),R={};k.Z&&k.Z.locals&&(R.locals=k.Z.locals);var U,O=0,H={};H.styleTagTransform=v(),H.setAttributes=f(),H.insert=d().bind(null,"head"),H.domAPI=A(),H.insertStyleElement=g(),R.use=function(t){return H.options=t||{},O++||(U=c()(k.Z,H)),R},R.unuse=function(){O>0&&! --O&&(U(),U=null)};var Y=R;function Q(t,e,n){var r=t.slice();return r[39]=e[n][0],r[40]=e[n][1],r}function N(t,e,n){var r=t.slice();return r[43]=e[n],r[45]=n,r}function j(t,e,n){var r=t.slice();return r[39]=e[n][0],r[40]=e[n][1],r}function W(t,e,n){var r=t.slice();return r[39]=e[n][0],r[40]=e[n][1],r}function V(t,e,n){var r=t.slice();return r[43]=e[n],r[45]=n,r}function z(t,e,n){var r=t.slice();return r[39]=e[n][0],r[40]=e[n][1],r}function G(t){var e,n,r,i,o,s=t[40].name+"";function l(){return t[25](t[40])}return{c:function(){e=(0,a.bGB)("a"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class","vc-tab"),(0,a.Ljt)(e,"id",r="__vc_tab_"+t[40].id),(0,a.VHj)(e,"vc-actived",t[40].id===t[2])},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),i||(o=(0,a.oLt)(e,"click",l),i=!0)},p:function(i,o){t=i,8&o[0]&&s!==(s=t[40].name+"")&&(0,a.rTO)(n,s),8&o[0]&&r!==(r="__vc_tab_"+t[40].id)&&(0,a.Ljt)(e,"id",r),12&o[0]&&(0,a.VHj)(e,"vc-actived",t[40].id===t[2])},d:function(t){t&&(0,a.ogt)(e),i=!1,o()}}}function K(t){var e,n=t[40].hasTabPanel&&G(t);return{c:function(){n&&n.c(),e=(0,a.cSb)()},m:function(t,r){n&&n.m(t,r),(0,a.$Tr)(t,e,r)},p:function(t,r){t[40].hasTabPanel?n?n.p(t,r):((n=G(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d:function(t){n&&n.d(t),t&&(0,a.ogt)(e)}}}function Z(t){var e,n,r,i,o,s=t[43].name+"";function l(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[26].apply(e,[t[40],t[45]].concat(r))}return{c:function(){e=(0,a.bGB)("i"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class",r="vc-toptab vc-topbar-"+t[40].id+" "+t[43].className),(0,a.VHj)(e,"vc-toggle",t[40].id===t[2]),(0,a.VHj)(e,"vc-actived",t[43].actived)},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),i||(o=(0,a.oLt)(e,"click",l),i=!0)},p:function(i,o){t=i,8&o[0]&&s!==(s=t[43].name+"")&&(0,a.rTO)(n,s),8&o[0]&&r!==(r="vc-toptab vc-topbar-"+t[40].id+" "+t[43].className)&&(0,a.Ljt)(e,"class",r),12&o[0]&&(0,a.VHj)(e,"vc-toggle",t[40].id===t[2]),8&o[0]&&(0,a.VHj)(e,"vc-actived",t[43].actived)},d:function(t){t&&(0,a.ogt)(e),i=!1,o()}}}function X(t){for(var e,n=t[40].topbarList,r=[],i=0;i<n.length;i+=1)r[i]=Z(V(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,i){if(8204&i[0]){var o;for(n=t[40].topbarList,o=0;o<n.length;o+=1){var a=V(t,n,o);r[o]?r[o].p(a,i):(r[o]=Z(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){(0,a.RMB)(r,t),t&&(0,a.ogt)(e)}}}function q(t){var e,n,r,i=P;function o(t){var e;return{props:{pluginId:t[40].id,fixedHeight:null==(e=t[40].tabOptions)?void 0:e.fixedHeight,actived:t[40].id===t[2],content:t[40].content}}}return i&&(e=new i(o(t))),{c:function(){e&&(0,a.YCL)(e.$$.fragment),n=(0,a.cSb)()},m:function(t,i){e&&(0,a.yef)(e,t,i),(0,a.$Tr)(t,n,i),r=!0},p:function(t,r){var s,l={};if(8&r[0]&&(l.pluginId=t[40].id),8&r[0]&&(l.fixedHeight=null==(s=t[40].tabOptions)?void 0:s.fixedHeight),12&r[0]&&(l.actived=t[40].id===t[2]),8&r[0]&&(l.content=t[40].content),i!==(i=P)){if(e){(0,a.dvw)();var c=e;(0,a.etI)(c.$$.fragment,1,0,(function(){(0,a.vpE)(c,1)})),(0,a.gbL)()}i?(e=new i(o(t)),(0,a.YCL)(e.$$.fragment),(0,a.Ui)(e.$$.fragment,1),(0,a.yef)(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i:function(t){r||(e&&(0,a.Ui)(e.$$.fragment,t),r=!0)},o:function(t){e&&(0,a.etI)(e.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(n),e&&(0,a.vpE)(e,t)}}}function J(t){var e,n,r,i,o,s=t[43].name+"";function l(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[28].apply(e,[t[40],t[45]].concat(r))}return{c:function(){e=(0,a.bGB)("i"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class",r="vc-tool vc-tool-"+t[40].id),(0,a.VHj)(e,"vc-global-tool",t[43].global),(0,a.VHj)(e,"vc-toggle",t[40].id===t[2])},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),i||(o=(0,a.oLt)(e,"click",l),i=!0)},p:function(i,o){t=i,8&o[0]&&s!==(s=t[43].name+"")&&(0,a.rTO)(n,s),8&o[0]&&r!==(r="vc-tool vc-tool-"+t[40].id)&&(0,a.Ljt)(e,"class",r),8&o[0]&&(0,a.VHj)(e,"vc-global-tool",t[43].global),12&o[0]&&(0,a.VHj)(e,"vc-toggle",t[40].id===t[2])},d:function(t){t&&(0,a.ogt)(e),i=!1,o()}}}function $(t){for(var e,n=t[40].toolbarList,r=[],i=0;i<n.length;i+=1)r[i]=J(N(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,i){if(16396&i[0]){var o;for(n=t[40].toolbarList,o=0;o<n.length;o+=1){var a=N(t,n,o);r[o]?r[o].p(a,i):(r[o]=J(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){(0,a.RMB)(r,t),t&&(0,a.ogt)(e)}}}function tt(t){var e,n,r,i,o,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b;function x(e){t[23](e)}function M(e){t[24](e)}var L={};void 0!==t[0]&&(L.show=t[0]),void 0!==t[1]&&(L.position=t[1]),n=new S({props:L}),a.VnY.push((function(){return(0,a.akz)(n,"show",x)})),a.VnY.push((function(){return(0,a.akz)(n,"position",M)})),n.$on("click",t[10]);for(var C=Object.entries(t[3]),E=[],B=0;B<C.length;B+=1)E[B]=K(z(t,C,B));for(var T=Object.entries(t[3]),D=[],I=0;I<T.length;I+=1)D[I]=X(W(t,T,I));for(var P=Object.entries(t[3]),F=[],k=0;k<P.length;k+=1)F[k]=q(j(t,P,k));for(var R=function(t){return(0,a.etI)(F[t],1,1,(function(){F[t]=null}))},U=Object.entries(t[3]),O=[],H=0;H<U.length;H+=1)O[H]=$(Q(t,U,H));return{c:function(){var r,i;e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),o=(0,a.DhX)(),s=(0,a.bGB)("div"),l=(0,a.DhX)(),c=(0,a.bGB)("div"),u=(0,a.bGB)("div");for(var _=0;_<E.length;_+=1)E[_].c();A=(0,a.DhX)(),h=(0,a.bGB)("div");for(var w=0;w<D.length;w+=1)D[w].c();d=(0,a.DhX)(),p=(0,a.bGB)("div");for(var b=0;b<F.length;b+=1)F[b].c();f=(0,a.DhX)(),m=(0,a.bGB)("div");for(var x=0;x<O.length;x+=1)O[x].c();g=(0,a.DhX)(),(y=(0,a.bGB)("i")).textContent="Hide",(0,a.Ljt)(s,"class","vc-mask"),(0,a.czc)(s,"display",t[8]?"block":"none"),(0,a.Ljt)(u,"class","vc-tabbar"),(0,a.Ljt)(h,"class","vc-topbar"),(0,a.Ljt)(p,"class","vc-content"),(0,a.VHj)(p,"vc-has-topbar",(null==(r=t[3][t[2]])||null==(i=r.topbarList)?void 0:i.length)>0),(0,a.Ljt)(y,"class","vc-tool vc-global-tool vc-tool-last vc-hide"),(0,a.Ljt)(m,"class","vc-toolbar"),(0,a.Ljt)(c,"class","vc-panel"),(0,a.czc)(c,"display",t[7]?"block":"none"),(0,a.Ljt)(e,"id","__vconsole"),(0,a.Ljt)(e,"style",v=t[5]?"font-size:"+t[5]+";":""),(0,a.Ljt)(e,"data-theme",t[4]),(0,a.VHj)(e,"vc-toggle",t[6])},m:function(r,i){(0,a.$Tr)(r,e,i),(0,a.yef)(n,e,null),(0,a.R3I)(e,o),(0,a.R3I)(e,s),(0,a.R3I)(e,l),(0,a.R3I)(e,c),(0,a.R3I)(c,u);for(var v=0;v<E.length;v+=1)E[v].m(u,null);(0,a.R3I)(c,A),(0,a.R3I)(c,h);for(var x=0;x<D.length;x+=1)D[x].m(h,null);(0,a.R3I)(c,d),(0,a.R3I)(c,p);for(var M=0;M<F.length;M+=1)F[M].m(p,null);t[27](p),(0,a.R3I)(c,f),(0,a.R3I)(c,m);for(var L=0;L<O.length;L+=1)O[L].m(m,null);(0,a.R3I)(m,g),(0,a.R3I)(m,y),_=!0,w||(b=[(0,a.oLt)(s,"click",t[11]),(0,a.oLt)(p,"touchstart",t[15]),(0,a.oLt)(p,"touchmove",t[16]),(0,a.oLt)(p,"touchend",t[17]),(0,a.oLt)(p,"scroll",t[18]),(0,a.oLt)(y,"click",t[11]),(0,a.oLt)(e,"touchstart",t[19].touchStart,{passive:!1,capture:!0}),(0,a.oLt)(e,"touchmove",t[19].touchMove,{passive:!1,capture:!0}),(0,a.oLt)(e,"touchend",t[19].touchEnd,{passive:!1,capture:!0})],w=!0)},p:function(t,o){var l,A,d={};if(!r&&1&o[0]&&(r=!0,d.show=t[0],(0,a.hjT)((function(){return r=!1}))),!i&&2&o[0]&&(i=!0,d.position=t[1],(0,a.hjT)((function(){return i=!1}))),n.$set(d),(!_||256&o[0])&&(0,a.czc)(s,"display",t[8]?"block":"none"),4108&o[0]){var f;for(C=Object.entries(t[3]),f=0;f<C.length;f+=1){var y=z(t,C,f);E[f]?E[f].p(y,o):(E[f]=K(y),E[f].c(),E[f].m(u,null))}for(;f<E.length;f+=1)E[f].d(1);E.length=C.length}if(8204&o[0]){var w;for(T=Object.entries(t[3]),w=0;w<T.length;w+=1){var b=W(t,T,w);D[w]?D[w].p(b,o):(D[w]=X(b),D[w].c(),D[w].m(h,null))}for(;w<D.length;w+=1)D[w].d(1);D.length=T.length}if(12&o[0]){var x;for(P=Object.entries(t[3]),x=0;x<P.length;x+=1){var M=j(t,P,x);F[x]?(F[x].p(M,o),(0,a.Ui)(F[x],1)):(F[x]=q(M),F[x].c(),(0,a.Ui)(F[x],1),F[x].m(p,null))}for((0,a.dvw)(),x=P.length;x<F.length;x+=1)R(x);(0,a.gbL)()}if(12&o[0]&&(0,a.VHj)(p,"vc-has-topbar",(null==(l=t[3][t[2]])||null==(A=l.topbarList)?void 0:A.length)>0),16396&o[0]){var L;for(U=Object.entries(t[3]),L=0;L<U.length;L+=1){var B=Q(t,U,L);O[L]?O[L].p(B,o):(O[L]=$(B),O[L].c(),O[L].m(m,g))}for(;L<O.length;L+=1)O[L].d(1);O.length=U.length}(!_||128&o[0])&&(0,a.czc)(c,"display",t[7]?"block":"none"),(!_||32&o[0]&&v!==(v=t[5]?"font-size:"+t[5]+";":""))&&(0,a.Ljt)(e,"style",v),(!_||16&o[0])&&(0,a.Ljt)(e,"data-theme",t[4]),64&o[0]&&(0,a.VHj)(e,"vc-toggle",t[6])},i:function(t){if(!_){(0,a.Ui)(n.$$.fragment,t);for(var e=0;e<P.length;e+=1)(0,a.Ui)(F[e]);_=!0}},o:function(t){(0,a.etI)(n.$$.fragment,t),F=F.filter(Boolean);for(var e=0;e<F.length;e+=1)(0,a.etI)(F[e]);_=!1},d:function(r){r&&(0,a.ogt)(e),(0,a.vpE)(n),(0,a.RMB)(E,r),(0,a.RMB)(D,r),(0,a.RMB)(F,r),t[27](null),(0,a.RMB)(O,r),w=!1,(0,a.j7q)(b)}}}function et(t,n,r){var i,o,l=n.theme,c=void 0===l?"":l,u=n.disableScrolling,A=void 0!==u&&u,h=n.show,d=void 0!==h&&h,p=n.showSwitchButton,f=void 0===p||p,m=n.switchButtonPosition,g=void 0===m?{x:0,y:0}:m,y=n.activedPluginId,v=void 0===y?"":y,_=n.pluginList,w=void 0===_?{}:_,b=(0,s.x)(),x=!1,M="",L=!1,C=!1,E=!1,B=!0,S=0,T=null,D={};(0,s.H3)((function(){var t=document.querySelectorAll('[name="viewport"]');if(t&&t[0]){var e=(t[t.length-1].getAttribute("content")||"").match(/initial\-scale\=\d+(\.\d+)?/),n=e?parseFloat(e[0].split("=")[1]):1;1!==n&&r(5,M=Math.floor(1/n*13)+"px")}Y.use&&Y.use(),i=F.x.subscribe((function(t){d&&S!==t.updateTime&&(S=t.updateTime,I())}))})),(0,s.ev)((function(){Y.unuse&&Y.unuse(),i&&i()}));var I=function(){!A&&B&&o&&r(9,o.scrollTop=o.scrollHeight-o.offsetHeight,o)},P=function(t){t!==v&&(r(2,v=t),b("changePanel",{pluginId:t}),setTimeout((function(){o&&r(9,o.scrollTop=D[v]||0,o)}),0))},k=function(t,n,i){var o=w[n].topbarList[i],a=!0;if(e.mf(o.onClick)&&(a=o.onClick.call(t.target,t,o.data)),!1===a);else{for(var s=0;s<w[n].topbarList.length;s++)r(3,w[n].topbarList[s].actived=i===s,w);r(3,w)}},R=function(t,n,r){var i=w[n].toolbarList[r];e.mf(i.onClick)&&i.onClick.call(t.target,t,i.data)},U={tapTime:700,tapBoundary:10,lastTouchStartTime:0,touchstartX:0,touchstartY:0,touchHasMoved:!1,targetElem:null},O={touchStart:function(t){if(0===U.lastTouchStartTime){var e=t.targetTouches[0];U.touchstartX=e.pageX,U.touchstartY=e.pageY,U.lastTouchStartTime=t.timeStamp,U.targetElem=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target}},touchMove:function(t){var e=t.changedTouches[0];(Math.abs(e.pageX-U.touchstartX)>U.tapBoundary||Math.abs(e.pageY-U.touchstartY)>U.tapBoundary)&&(U.touchHasMoved=!0)},touchEnd:function(t){if(!1===U.touchHasMoved&&t.timeStamp-U.lastTouchStartTime<U.tapTime&&null!=U.targetElem){var e=!1;switch(U.targetElem.tagName.toLowerCase()){case"textarea":e=!0;break;case"select":e=!U.targetElem.disabled&&!U.targetElem.readOnly;break;case"input":switch(U.targetElem.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":e=!1;break;default:e=!U.targetElem.disabled&&!U.targetElem.readOnly}}e?U.targetElem.focus():t.preventDefault();var n=t.changedTouches[0],r=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});U.targetElem.dispatchEvent(r)}U.lastTouchStartTime=0,U.touchHasMoved=!1,U.targetElem=null}};return t.$$set=function(t){"theme"in t&&r(4,c=t.theme),"disableScrolling"in t&&r(20,A=t.disableScrolling),"show"in t&&r(21,d=t.show),"showSwitchButton"in t&&r(0,f=t.showSwitchButton),"switchButtonPosition"in t&&r(1,g=t.switchButtonPosition),"activedPluginId"in t&&r(2,v=t.activedPluginId),"pluginList"in t&&r(3,w=t.pluginList)},t.$$.update=function(){6291456&t.$$.dirty[0]&&(!0===d?(r(7,C=!0),r(8,E=!0),T&&clearTimeout(T),r(22,T=setTimeout((function(){r(6,L=!0),I()}),10))):(r(6,L=!1),T&&clearTimeout(T),r(22,T=setTimeout((function(){r(7,C=!1),r(8,E=!1)}),330))))},[f,g,v,w,c,M,L,C,E,o,function(t){b("show",{show:!0})},function(t){b("show",{show:!1})},P,k,R,function(t){if("INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName){var e=!1;if("function"==typeof window.getComputedStyle){var n=window.getComputedStyle(t.target);"auto"!==n.overflow&&"initial"!==n.overflow&&"scroll"!==n.overflow||(e=!0)}if(!e){var i=o.scrollTop,a=o.scrollHeight,s=i+o.offsetHeight;0===i?(r(9,o.scrollTop=1,o),0===o.scrollTop&&(x=!0)):s===a&&(r(9,o.scrollTop=i-1,o),o.scrollTop===i&&(x=!0))}}},function(t){x&&t.preventDefault()},function(t){x=!1},function(t){d&&(B=o.scrollTop+o.offsetHeight>=o.scrollHeight-50,D[v]=o.scrollTop)},O,A,d,T,function(t){r(0,f=t)},function(t){r(1,g=t)},function(t){return P(t.id)},function(t,e,n){return k(n,t.id,e)},function(t){a.VnY[t?"unshift":"push"]((function(){r(9,o=t)}))},function(t,e,n){return R(n,t.id,e)}]}var nt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,et,tt,a.N8,{theme:4,disableScrolling:20,show:21,showSwitchButton:0,switchButtonPosition:1,activedPluginId:2,pluginList:3},null,[-1,-1]),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"theme",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({theme:t}),(0,a.yl1)()}},{key:"disableScrolling",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({disableScrolling:t}),(0,a.yl1)()}},{key:"show",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"showSwitchButton",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({showSwitchButton:t}),(0,a.yl1)()}},{key:"switchButtonPosition",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({switchButtonPosition:t}),(0,a.yl1)()}},{key:"activedPluginId",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({activedPluginId:t}),(0,a.yl1)()}},{key:"pluginList",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({pluginList:t}),(0,a.yl1)()}}]),n}(a.f_C),rt=nt,it=function(){function n(t,e){void 0===e&&(e="newPlugin"),this.isReady=!1,this.eventMap=new Map,this.exporter=void 0,this._id=void 0,this._name=void 0,this._vConsole=void 0,this.id=t,this.name=e,this.isReady=!1}var r=n.prototype;return r.on=function(t,e){return this.eventMap.set(t,e),this},r.onRemove=function(){this.unbindExporter()},r.trigger=function(t,e){var n=this.eventMap.get(t);if("function"==typeof n)n.call(this,e);else{var r="on"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof this[r]&&this[r].call(this,e)}return this},r.bindExporter=function(){if(this._vConsole&&this.exporter){var t="default"===this.id?"log":this.id;this._vConsole[t]=this.exporter}},r.unbindExporter=function(){var t="default"===this.id?"log":this.id;this._vConsole&&this._vConsole[t]&&(this._vConsole[t]=void 0)},r.getUniqueID=function(t){return void 0===t&&(t=""),(0,e.QI)(t)},(0,t.Z)(n,[{key:"id",get:function(){return this._id},set:function(t){if("string"!=typeof t)throw"[vConsole] Plugin ID must be a string.";if(!t)throw"[vConsole] Plugin ID cannot be empty.";this._id=t.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(t){if("string"!=typeof t)throw"[vConsole] Plugin name must be a string.";if(!t)throw"[vConsole] Plugin name cannot be empty.";this._name=t}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(t){if(!t)throw"[vConsole] vConsole cannot be empty";this._vConsole=t,this.bindExporter()}}]),n}(),ot=function(t){function e(e,n,r,i){var o;return(o=t.call(this,e,n)||this).CompClass=void 0,o.compInstance=void 0,o.initialProps=void 0,o.CompClass=r,o.initialProps=i,o}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){this.isReady=!0},n.onRenderTab=function(t){var e=document.createElement("div"),n=this.compInstance=new this.CompClass({target:e,props:this.initialProps});t(e.firstElementChild,n.options)},n.onRemove=function(){t.prototype.onRemove&&t.prototype.onRemove.call(this),this.compInstance&&this.compInstance.$destroy()},e}(it),at=__nested_webpack_require_131847__(8665),st=__nested_webpack_require_131847__(9923),lt=__nested_webpack_require_131847__(8702);function ct(t){var e,n;return(e=new lt.Z({props:{name:t[0]?"success":"copy"}})).$on("click",t[1]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};1&n[0]&&(r.name=t[0]?"success":"copy"),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function ut(t,n,r){var i=n.content,o=void 0===i?"":i,a=n.handler,s=void 0===a?void 0:a,l={target:document.documentElement},c=!1;return t.$$set=function(t){"content"in t&&r(2,o=t.content),"handler"in t&&r(3,s=t.handler)},[c,function(t){(function(t,e){var n=(void 0===e?{}:e).target,r=void 0===n?document.body:n,i=document.createElement("textarea"),o=document.activeElement;i.value=t,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=t.length;try{document.execCommand("copy")}catch(t){}i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus()})(e.mf(s)?s(o)||"":e.Kn(o)||e.kJ(o)?e.hZ(o,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}):o,l),r(0,c=!0),setTimeout((function(){r(0,c=!1)}),600)},o,s]}var At=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,ut,ct,a.N8,{content:2,handler:3}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"content",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({content:t}),(0,a.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({handler:t}),(0,a.yl1)()}}]),n}(a.f_C),ht=At,dt=__nested_webpack_require_131847__(845),pt={};dt.Z&&dt.Z.locals&&(pt.locals=dt.Z.locals);var ft,mt=0,gt={};gt.styleTagTransform=v(),gt.setAttributes=f(),gt.insert=d().bind(null,"head"),gt.domAPI=A(),gt.insertStyleElement=g(),pt.use=function(t){return gt.options=t||{},mt++||(ft=c()(dt.Z,gt)),pt},pt.unuse=function(){mt>0&&! --mt&&(ft(),ft=null)};var yt=pt;function vt(t){var n,r,i,o=e.rE(t[1])+"";return{c:function(){n=(0,a.bGB)("i"),r=(0,a.fLW)(o),i=(0,a.fLW)(":"),(0,a.Ljt)(n,"class","vc-log-key"),(0,a.VHj)(n,"vc-log-key-symbol","symbol"===t[2]),(0,a.VHj)(n,"vc-log-key-private","private"===t[2])},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.R3I)(n,r),(0,a.$Tr)(t,i,e)},p:function(t,i){2&i&&o!==(o=e.rE(t[1])+"")&&(0,a.rTO)(r,o),4&i&&(0,a.VHj)(n,"vc-log-key-symbol","symbol"===t[2]),4&i&&(0,a.VHj)(n,"vc-log-key-private","private"===t[2])},d:function(t){t&&(0,a.ogt)(n),t&&(0,a.ogt)(i)}}}function _t(t){var e,n,r,i,o=void 0!==t[1]&&vt(t);return{c:function(){o&&o.c(),e=(0,a.DhX)(),n=(0,a.bGB)("i"),r=(0,a.fLW)(t[3]),(0,a.Ljt)(n,"class",i="vc-log-val vc-log-val-"+t[4]),(0,a.Ljt)(n,"style",t[0]),(0,a.VHj)(n,"vc-log-val-haskey",void 0!==t[1])},m:function(t,i){o&&o.m(t,i),(0,a.$Tr)(t,e,i),(0,a.$Tr)(t,n,i),(0,a.R3I)(n,r)},p:function(t,s){var l=s[0];void 0!==t[1]?o?o.p(t,l):((o=vt(t)).c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),8&l&&(0,a.rTO)(r,t[3]),16&l&&i!==(i="vc-log-val vc-log-val-"+t[4])&&(0,a.Ljt)(n,"class",i),1&l&&(0,a.Ljt)(n,"style",t[0]),18&l&&(0,a.VHj)(n,"vc-log-val-haskey",void 0!==t[1])},i:a.ZTd,o:a.ZTd,d:function(t){o&&o.d(t),t&&(0,a.ogt)(e),t&&(0,a.ogt)(n)}}}function wt(t,e,n){var r=e.origData,i=e.style,o=void 0===i?"":i,a=e.dataKey,l=void 0===a?void 0:a,c=e.keyType,u=void 0===c?"":c,A="",h="",d=!1;return(0,s.H3)((function(){yt.use()})),(0,s.ev)((function(){yt.unuse()})),t.$$set=function(t){"origData"in t&&n(5,r=t.origData),"style"in t&&n(0,o=t.style),"dataKey"in t&&n(1,l=t.dataKey),"keyType"in t&&n(2,u=t.keyType)},t.$$.update=function(){if(122&t.$$.dirty){n(6,d=void 0!==l);var e=(0,at.LH)(r,d);n(4,h=e.valueType),n(3,A=e.text),d||"string"!==h||n(3,A=A.replace(/\\n/g,"\n").replace(/\\t/g,"    "))}},[o,l,u,A,h,r,d]}var bt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,wt,_t,a.AqN,{origData:5,style:0,dataKey:1,keyType:2}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"origData",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({origData:t}),(0,a.yl1)()}},{key:"style",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({style:t}),(0,a.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({dataKey:t}),(0,a.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({keyType:t}),(0,a.yl1)()}}]),n}(a.f_C),xt=bt,Mt=__nested_webpack_require_131847__(1237),Lt={};Mt.Z&&Mt.Z.locals&&(Lt.locals=Mt.Z.locals);var Ct,Et=0,Bt={};Bt.styleTagTransform=v(),Bt.setAttributes=f(),Bt.insert=d().bind(null,"head"),Bt.domAPI=A(),Bt.insertStyleElement=g(),Lt.use=function(t){return Bt.options=t||{},Et++||(Ct=c()(Mt.Z,Bt)),Lt},Lt.unuse=function(){Et>0&&! --Et&&(Ct(),Ct=null)};var St=Lt;function Tt(t,e,n){var r=t.slice();return r[19]=e[n],r[21]=n,r}function Dt(t,e,n){var r=t.slice();return r[19]=e[n],r}function It(t,e,n){var r=t.slice();return r[19]=e[n],r[21]=n,r}function Pt(t){for(var e,n,r,i,o,s,l,c=[],u=new Map,A=[],h=new Map,d=[],p=new Map,f=t[7],m=function(t){return t[19]},g=0;g<f.length;g+=1){var y=It(t,f,g),v=m(y);u.set(v,c[g]=kt(v,y))}for(var _=t[11]<t[7].length&&Rt(t),w=t[9],b=function(t){return t[19]},x=0;x<w.length;x+=1){var M=Dt(t,w,x),L=b(M);h.set(L,A[x]=Ut(L,M))}for(var C=t[8],E=function(t){return t[19]},B=0;B<C.length;B+=1){var S=Tt(t,C,B),T=E(S);p.set(T,d[B]=Ht(T,S))}var D=t[12]<t[8].length&&Yt(t),I=t[10]&&Qt(t);return{c:function(){e=(0,a.bGB)("div");for(var t=0;t<c.length;t+=1)c[t].c();n=(0,a.DhX)(),_&&_.c(),r=(0,a.DhX)();for(var l=0;l<A.length;l+=1)A[l].c();i=(0,a.DhX)();for(var u=0;u<d.length;u+=1)d[u].c();o=(0,a.DhX)(),D&&D.c(),s=(0,a.DhX)(),I&&I.c(),(0,a.Ljt)(e,"class","vc-log-tree-child")},m:function(t,u){(0,a.$Tr)(t,e,u);for(var h=0;h<c.length;h+=1)c[h].m(e,null);(0,a.R3I)(e,n),_&&_.m(e,null),(0,a.R3I)(e,r);for(var p=0;p<A.length;p+=1)A[p].m(e,null);(0,a.R3I)(e,i);for(var f=0;f<d.length;f+=1)d[f].m(e,null);(0,a.R3I)(e,o),D&&D.m(e,null),(0,a.R3I)(e,s),I&&I.m(e,null),l=!0},p:function(t,l){67721&l&&(f=t[7],(0,a.dvw)(),c=(0,a.GQg)(c,l,m,1,t,f,u,e,a.cly,kt,n,It),(0,a.gbL)()),t[11]<t[7].length?_?_.p(t,l):((_=Rt(t)).c(),_.m(e,r)):_&&(_.d(1),_=null),66057&l&&(w=t[9],(0,a.dvw)(),A=(0,a.GQg)(A,l,b,1,t,w,h,e,a.cly,Ut,i,Dt),(0,a.gbL)()),69897&l&&(C=t[8],(0,a.dvw)(),d=(0,a.GQg)(d,l,E,1,t,C,p,e,a.cly,Ht,o,Tt),(0,a.gbL)()),t[12]<t[8].length?D?D.p(t,l):((D=Yt(t)).c(),D.m(e,s)):D&&(D.d(1),D=null),t[10]?I?(I.p(t,l),1024&l&&(0,a.Ui)(I,1)):((I=Qt(t)).c(),(0,a.Ui)(I,1),I.m(e,null)):I&&((0,a.dvw)(),(0,a.etI)(I,1,1,(function(){I=null})),(0,a.gbL)())},i:function(t){if(!l){for(var e=0;e<f.length;e+=1)(0,a.Ui)(c[e]);for(var n=0;n<w.length;n+=1)(0,a.Ui)(A[n]);for(var r=0;r<C.length;r+=1)(0,a.Ui)(d[r]);(0,a.Ui)(I),l=!0}},o:function(t){for(var e=0;e<c.length;e+=1)(0,a.etI)(c[e]);for(var n=0;n<A.length;n+=1)(0,a.etI)(A[n]);for(var r=0;r<d.length;r+=1)(0,a.etI)(d[r]);(0,a.etI)(I),l=!1},d:function(t){t&&(0,a.ogt)(e);for(var n=0;n<c.length;n+=1)c[n].d();_&&_.d();for(var r=0;r<A.length;r+=1)A[r].d();for(var i=0;i<d.length;i+=1)d[i].d();D&&D.d(),I&&I.d()}}}function Ft(t){var e,n;return e=new Wt({props:{origData:t[16](t[19]),dataKey:t[19],keyPath:t[3]+"."+t[19],toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};128&n&&(r.origData=t[16](t[19])),128&n&&(r.dataKey=t[19]),136&n&&(r.keyPath=t[3]+"."+t[19]),1&n&&(r.toggle=t[0]),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function kt(t,e){var n,r,i,o=e[21]<e[11]&&Ft(e);return{key:t,first:null,c:function(){n=(0,a.cSb)(),o&&o.c(),r=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),o&&o.m(t,e),(0,a.$Tr)(t,r,e),i=!0},p:function(t,n){(e=t)[21]<e[11]?o?(o.p(e,n),2176&n&&(0,a.Ui)(o,1)):((o=Ft(e)).c(),(0,a.Ui)(o,1),o.m(r.parentNode,r)):o&&((0,a.dvw)(),(0,a.etI)(o,1,1,(function(){o=null})),(0,a.gbL)())},i:function(t){i||((0,a.Ui)(o),i=!0)},o:function(t){(0,a.etI)(o),i=!1},d:function(t){t&&(0,a.ogt)(n),o&&o.d(t),t&&(0,a.ogt)(r)}}}function Rt(t){var e,n,r,i,o=t[14](t[7].length-t[11])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(o),(0,a.Ljt)(e,"class","vc-log-tree-loadmore")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),r||(i=(0,a.oLt)(e,"click",t[17]),r=!0)},p:function(t,e){2176&e&&o!==(o=t[14](t[7].length-t[11])+"")&&(0,a.rTO)(n,o)},d:function(t){t&&(0,a.ogt)(e),r=!1,i()}}}function Ut(t,e){var n,r,i;return r=new Wt({props:{origData:e[16](e[19]),dataKey:String(e[19]),keyType:"symbol",keyPath:e[3]+"["+String(e[19])+"]",toggle:e[0]}}),{key:t,first:null,c:function(){n=(0,a.cSb)(),(0,a.YCL)(r.$$.fragment),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.yef)(r,t,e),i=!0},p:function(t,n){e=t;var i={};512&n&&(i.origData=e[16](e[19])),512&n&&(i.dataKey=String(e[19])),520&n&&(i.keyPath=e[3]+"["+String(e[19])+"]"),1&n&&(i.toggle=e[0]),r.$set(i)},i:function(t){i||((0,a.Ui)(r.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(r.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(n),(0,a.vpE)(r,t)}}}function Ot(t){var e,n;return e=new Wt({props:{origData:t[16](t[19]),dataKey:t[19],keyType:"private",keyPath:t[3]+"."+t[19],toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};256&n&&(r.origData=t[16](t[19])),256&n&&(r.dataKey=t[19]),264&n&&(r.keyPath=t[3]+"."+t[19]),1&n&&(r.toggle=t[0]),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function Ht(t,e){var n,r,i,o=e[21]<e[12]&&Ot(e);return{key:t,first:null,c:function(){n=(0,a.cSb)(),o&&o.c(),r=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),o&&o.m(t,e),(0,a.$Tr)(t,r,e),i=!0},p:function(t,n){(e=t)[21]<e[12]?o?(o.p(e,n),4352&n&&(0,a.Ui)(o,1)):((o=Ot(e)).c(),(0,a.Ui)(o,1),o.m(r.parentNode,r)):o&&((0,a.dvw)(),(0,a.etI)(o,1,1,(function(){o=null})),(0,a.gbL)())},i:function(t){i||((0,a.Ui)(o),i=!0)},o:function(t){(0,a.etI)(o),i=!1},d:function(t){t&&(0,a.ogt)(n),o&&o.d(t),t&&(0,a.ogt)(r)}}}function Yt(t){var e,n,r,i,o=t[14](t[8].length-t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(o),(0,a.Ljt)(e,"class","vc-log-tree-loadmore")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),r||(i=(0,a.oLt)(e,"click",t[18]),r=!0)},p:function(t,e){4352&e&&o!==(o=t[14](t[8].length-t[12])+"")&&(0,a.rTO)(n,o)},d:function(t){t&&(0,a.ogt)(e),r=!1,i()}}}function Qt(t){var e,n;return e=new Wt({props:{origData:t[16]("__proto__"),dataKey:"__proto__",keyType:"private",keyPath:t[3]+".__proto__",toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};8&n&&(r.keyPath=t[3]+".__proto__"),1&n&&(r.toggle=t[0]),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function Nt(t){var e,n,r,i,o,s,l;r=new xt({props:{origData:t[1],dataKey:t[2],keyType:t[4]}});var c=t[6]&&t[5]&&Pt(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.YCL)(r.$$.fragment),i=(0,a.DhX)(),c&&c.c(),(0,a.Ljt)(n,"class","vc-log-tree-node"),(0,a.Ljt)(e,"class","vc-log-tree"),(0,a.Ljt)(e,"data-keypath",t[3]),(0,a.VHj)(e,"vc-toggle",t[5]),(0,a.VHj)(e,"vc-is-tree",t[6])},m:function(u,A){(0,a.$Tr)(u,e,A),(0,a.R3I)(e,n),(0,a.yef)(r,n,null),(0,a.R3I)(e,i),c&&c.m(e,null),o=!0,s||(l=(0,a.oLt)(n,"click",(0,a.XET)(t[15])),s=!0)},p:function(t,n){var i=n[0],s={};2&i&&(s.origData=t[1]),4&i&&(s.dataKey=t[2]),16&i&&(s.keyType=t[4]),r.$set(s),t[6]&&t[5]?c?(c.p(t,i),96&i&&(0,a.Ui)(c,1)):((c=Pt(t)).c(),(0,a.Ui)(c,1),c.m(e,null)):c&&((0,a.dvw)(),(0,a.etI)(c,1,1,(function(){c=null})),(0,a.gbL)()),(!o||8&i)&&(0,a.Ljt)(e,"data-keypath",t[3]),32&i&&(0,a.VHj)(e,"vc-toggle",t[5]),64&i&&(0,a.VHj)(e,"vc-is-tree",t[6])},i:function(t){o||((0,a.Ui)(r.$$.fragment,t),(0,a.Ui)(c),o=!0)},o:function(t){(0,a.etI)(r.$$.fragment,t),(0,a.etI)(c),o=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(r),c&&c.d(),s=!1,l()}}}function jt(t,n,r){var i,o,a,l=n.origData,c=n.dataKey,u=void 0===c?void 0:c,A=n.keyPath,h=void 0===A?"":A,d=n.keyType,p=void 0===d?"":d,f=n.toggle,m=void 0===f?{}:f,g=!1,y=!1,v=!1,_=50,w=50;(0,s.H3)((function(){St.use()})),(0,s.ev)((function(){St.unuse()}));var b=function(t){"enum"===t?r(11,_+=50):"nonEnum"===t&&r(12,w+=50)};return t.$$set=function(t){"origData"in t&&r(1,l=t.origData),"dataKey"in t&&r(2,u=t.dataKey),"keyPath"in t&&r(3,h=t.keyPath),"keyType"in t&&r(4,p=t.keyType),"toggle"in t&&r(0,m=t.toggle)},t.$$.update=function(){1003&t.$$.dirty&&(r(5,g=m[h]||!1),r(6,y=!(l instanceof at.Tg)&&(e.kJ(l)||e.Kn(l))),y&&g&&(r(7,i=i||e.qr(e.MH(l))),r(8,o=o||e.qr(e.QK(l))),r(9,a=a||e._D(l)),r(10,v=e.Kn(l)&&-1===o.indexOf("__proto__"))))},[m,l,u,h,p,g,y,i,o,a,v,_,w,b,function(t){return"(..."+t+" Key"+(t>1?"s":"")+" Left)"},function(){r(5,g=!g),r(0,m[h]=g,m)},function(t){try{return l[t]}catch(t){return new at.Tg}},function(){return b("enum")},function(){return b("nonEnum")}]}var Wt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,jt,Nt,a.AqN,{origData:1,dataKey:2,keyPath:3,keyType:4,toggle:0}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"origData",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({origData:t}),(0,a.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({dataKey:t}),(0,a.yl1)()}},{key:"keyPath",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({keyPath:t}),(0,a.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({keyType:t}),(0,a.yl1)()}},{key:"toggle",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({toggle:t}),(0,a.yl1)()}}]),n}(a.f_C),Vt=Wt,zt=__nested_webpack_require_131847__(7147),Gt={};zt.Z&&zt.Z.locals&&(Gt.locals=zt.Z.locals);var Kt,Zt=0,Xt={};Xt.styleTagTransform=v(),Xt.setAttributes=f(),Xt.insert=d().bind(null,"head"),Xt.domAPI=A(),Xt.insertStyleElement=g(),Gt.use=function(t){return Xt.options=t||{},Zt++||(Kt=c()(zt.Z,Xt)),Gt},Gt.unuse=function(){Zt>0&&! --Zt&&(Kt(),Kt=null)};var qt=Gt;function Jt(t,e,n){var r=t.slice();return r[9]=e[n],r[11]=n,r}function $t(t,e,n){var r=t.slice();return r[12]=e[n],r}function te(t){for(var e,n,r,i,o,s,l,c,u,A,h,d,p,f=[],m=new Map,g=t[0].groupLevel&&ee(t),y=t[2]>0&&re(),v=t[1]&&ie(t),_=t[0].repeated&&oe(t),w=t[0].data,b=function(t){return t[11]},x=0;x<w.length;x+=1){var M=Jt(t,w,x),L=b(M);m.set(L,f[x]=le(L,M))}return u=new ht({props:{handler:t[6]}}),{c:function(){e=(0,a.bGB)("div"),g&&g.c(),n=(0,a.DhX)(),y&&y.c(),r=(0,a.DhX)(),v&&v.c(),i=(0,a.DhX)(),_&&_.c(),o=(0,a.DhX)(),s=(0,a.bGB)("div");for(var h=0;h<f.length;h+=1)f[h].c();l=(0,a.DhX)(),c=(0,a.bGB)("div"),(0,a.YCL)(u.$$.fragment),(0,a.Ljt)(s,"class","vc-log-content"),(0,a.Ljt)(c,"class","vc-logrow-icon"),(0,a.Ljt)(e,"class",A="vc-log-row vc-log-"+t[0].type),(0,a.VHj)(e,"vc-log-input","input"===t[0].cmdType),(0,a.VHj)(e,"vc-log-output","output"===t[0].cmdType),(0,a.VHj)(e,"vc-log-group",t[2]>0),(0,a.VHj)(e,"vc-toggle",1===t[2])},m:function(A,m){(0,a.$Tr)(A,e,m),g&&g.m(e,null),(0,a.R3I)(e,n),y&&y.m(e,null),(0,a.R3I)(e,r),v&&v.m(e,null),(0,a.R3I)(e,i),_&&_.m(e,null),(0,a.R3I)(e,o),(0,a.R3I)(e,s);for(var w=0;w<f.length;w+=1)f[w].m(s,null);(0,a.R3I)(e,l),(0,a.R3I)(e,c),(0,a.yef)(u,c,null),h=!0,d||(p=(0,a.oLt)(e,"click",t[5]),d=!0)},p:function(t,l){t[0].groupLevel?g?g.p(t,l):((g=ee(t)).c(),g.m(e,n)):g&&(g.d(1),g=null),t[2]>0?y||((y=re()).c(),y.m(e,r)):y&&(y.d(1),y=null),t[1]?v?v.p(t,l):((v=ie(t)).c(),v.m(e,i)):v&&(v.d(1),v=null),t[0].repeated?_?_.p(t,l):((_=oe(t)).c(),_.m(e,o)):_&&(_.d(1),_=null),17&l&&(w=t[0].data,(0,a.dvw)(),f=(0,a.GQg)(f,l,b,1,t,w,m,s,a.cly,le,null,Jt),(0,a.gbL)()),(!h||1&l&&A!==(A="vc-log-row vc-log-"+t[0].type))&&(0,a.Ljt)(e,"class",A),1&l&&(0,a.VHj)(e,"vc-log-input","input"===t[0].cmdType),1&l&&(0,a.VHj)(e,"vc-log-output","output"===t[0].cmdType),5&l&&(0,a.VHj)(e,"vc-log-group",t[2]>0),5&l&&(0,a.VHj)(e,"vc-toggle",1===t[2])},i:function(t){if(!h){for(var e=0;e<w.length;e+=1)(0,a.Ui)(f[e]);(0,a.Ui)(u.$$.fragment,t),h=!0}},o:function(t){for(var e=0;e<f.length;e+=1)(0,a.etI)(f[e]);(0,a.etI)(u.$$.fragment,t),h=!1},d:function(t){t&&(0,a.ogt)(e),g&&g.d(),y&&y.d(),v&&v.d(),_&&_.d();for(var n=0;n<f.length;n+=1)f[n].d();(0,a.vpE)(u),d=!1,p()}}}function ee(t){for(var e,n=new Array(t[0].groupLevel),r=[],i=0;i<n.length;i+=1)r[i]=ne($t(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,i){if(1&i){var o;for(n=new Array(t[0].groupLevel),o=0;o<n.length;o+=1){var a=$t(t,n,o);r[o]?r[o].p(a,i):(r[o]=ne(),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){(0,a.RMB)(r,t),t&&(0,a.ogt)(e)}}}function ne(t){var e;return{c:function(){e=(0,a.bGB)("i"),(0,a.Ljt)(e,"class","vc-log-padding")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function re(t){var e;return{c:function(){e=(0,a.bGB)("div"),(0,a.Ljt)(e,"class","vc-log-group-toggle")},m:function(t,n){(0,a.$Tr)(t,e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function ie(t){var e,n;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(t[3]),(0,a.Ljt)(e,"class","vc-log-time")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},p:function(t,e){8&e&&(0,a.rTO)(n,t[3])},d:function(t){t&&(0,a.ogt)(e)}}}function oe(t){var e,n,r,i=t[0].repeated+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("i"),r=(0,a.fLW)(i),(0,a.Ljt)(e,"class","vc-log-repeat")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),(0,a.R3I)(n,r)},p:function(t,e){1&e&&i!==(i=t[0].repeated+"")&&(0,a.rTO)(r,i)},d:function(t){t&&(0,a.ogt)(e)}}}function ae(t){var e,n;return e=new xt({props:{origData:t[9].origData,style:t[9].style}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.origData=t[9].origData),1&n&&(r.style=t[9].style),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function se(t){var e,n;return e=new Vt({props:{origData:t[9].origData,keyPath:String(t[11]),toggle:t[0].toggle}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.origData=t[9].origData),1&n&&(r.keyPath=String(t[11])),1&n&&(r.toggle=t[0].toggle),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function le(t,e){var n,r,i,o,s,l,c=[se,ae],u=[];function A(t,e){return 1&e&&(r=null),null==r&&(r=!!t[4](t[9].origData)),r?0:1}return i=A(e,-1),o=u[i]=c[i](e),{key:t,first:null,c:function(){n=(0,a.cSb)(),o.c(),s=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),u[i].m(t,e),(0,a.$Tr)(t,s,e),l=!0},p:function(t,n){var r=i;(i=A(e=t,n))===r?u[i].p(e,n):((0,a.dvw)(),(0,a.etI)(u[r],1,1,(function(){u[r]=null})),(0,a.gbL)(),(o=u[i])?o.p(e,n):(o=u[i]=c[i](e)).c(),(0,a.Ui)(o,1),o.m(s.parentNode,s))},i:function(t){l||((0,a.Ui)(o),l=!0)},o:function(t){(0,a.etI)(o),l=!1},d:function(t){t&&(0,a.ogt)(n),u[i].d(t),t&&(0,a.ogt)(s)}}}function ce(t){var e,n,r=t[0]&&te(t);return{c:function(){r&&r.c(),e=(0,a.cSb)()},m:function(t,i){r&&r.m(t,i),(0,a.$Tr)(t,e,i),n=!0},p:function(t,n){var i=n[0];t[0]?r?(r.p(t,i),1&i&&(0,a.Ui)(r,1)):((r=te(t)).c(),(0,a.Ui)(r,1),r.m(e.parentNode,e)):r&&((0,a.dvw)(),(0,a.etI)(r,1,1,(function(){r=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(r),n=!0)},o:function(t){(0,a.etI)(r),n=!1},d:function(t){r&&r.d(t),t&&(0,a.ogt)(e)}}}function ue(t,n,r){var i=n.log,o=n.showTimestamps,a=void 0!==o&&o,l=n.groupHeader,c=void 0===l?0:l,u=(0,s.x)(),A="",h=function(t,e){var n="000"+t;return n.substring(n.length-e)};return(0,s.H3)((function(){qt.use()})),(0,s.ev)((function(){qt.unuse()})),t.$$set=function(t){"log"in t&&r(0,i=t.log),"showTimestamps"in t&&r(1,a=t.showTimestamps),"groupHeader"in t&&r(2,c=t.groupHeader)},t.$$.update=function(){if(3&t.$$.dirty&&a){var e=new Date(i.date);r(3,A=h(e.getHours(),2)+":"+h(e.getMinutes(),2)+":"+h(e.getSeconds(),2)+":"+h(e.getMilliseconds(),3))}},[i,a,c,A,function(t){return!(t instanceof at.Tg)&&(e.kJ(t)||e.Kn(t))},function(){c>0&&u("groupCollapsed",{groupLabel:i.groupLabel,groupHeader:1===c?2:1,isGroupCollapsed:1===c})},function(){var t=[];try{for(var n=0;n<i.data.length;n++)e.HD(i.data[n].origData)||e.hj(i.data[n].origData)?t.push(i.data[n].origData):t.push(e.hZ(i.data[n].origData,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}))}catch(t){}return t.join(" ")}]}var Ae=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,ue,ce,a.AqN,{log:0,showTimestamps:1,groupHeader:2}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"log",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({log:t}),(0,a.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({showTimestamps:t}),(0,a.yl1)()}},{key:"groupHeader",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({groupHeader:t}),(0,a.yl1)()}}]),n}(a.f_C),he=Ae,de=__nested_webpack_require_131847__(3903),pe=__nested_webpack_require_131847__(3327),fe={};pe.Z&&pe.Z.locals&&(fe.locals=pe.Z.locals);var me,ge=0,ye={};ye.styleTagTransform=v(),ye.setAttributes=f(),ye.insert=d().bind(null,"head"),ye.domAPI=A(),ye.insertStyleElement=g(),fe.use=function(t){return ye.options=t||{},ge++||(me=c()(pe.Z,ye)),fe},fe.unuse=function(){ge>0&&! --ge&&(me(),me=null)};var ve=fe,_e=__nested_webpack_require_131847__(4264),we=__nested_webpack_require_131847__.n(_e),be=function(){function t(t){console.debug("[vConsole] `ResizeObserver` is not supported in the browser, vConsole cannot render correctly."),t([{contentRect:{height:30}}],this)}var e=t.prototype;return e.disconnect=function(){},e.observe=function(t,e){},e.unobserve=function(t){},t}(),xe=function(){return"function"==typeof window.ResizeObserver},Me=function(){return window.ResizeObserver||be};function Le(t){var e,n,r=t[6].default,i=(0,a.nuO)(r,t,t[5],null);return{c:function(){e=(0,a.bGB)("div"),i&&i.c(),(0,a.Ljt)(e,"class","vc-scroller-item"),(0,a.czc)(e,"display",t[0]?"block":"none",!1),(0,a.czc)(e,"top",t[3]?t[1]+"px":"auto",!1)},m:function(r,o){(0,a.$Tr)(r,e,o),i&&i.m(e,null),t[7](e),n=!0},p:function(t,o){var s=o[0];i&&i.p&&(!n||32&s)&&(0,a.kmG)(i,r,t,t[5],n?(0,a.u2N)(r,t[5],s,null):(0,a.VOJ)(t[5]),null),1&s&&(0,a.czc)(e,"display",t[0]?"block":"none",!1),2&s&&(0,a.czc)(e,"top",t[3]?t[1]+"px":"auto",!1)},i:function(t){n||((0,a.Ui)(i,t),n=!0)},o:function(t){(0,a.etI)(i,t),n=!1},d:function(n){n&&(0,a.ogt)(e),i&&i.d(n),t[7](null)}}}function Ce(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,l=e.$$scope,c=e.show,u=void 0===c?!xe():c,A=e.top,h=e.onResize,d=void 0===h?function(){}:h,p=null,f=xe();return(0,s.H3)((function(){if(u&&d(r.getBoundingClientRect().height),f){var t=Me();(p=new t((function(t){var e=t[0];u&&d(e.contentRect.height)}))).observe(r)}})),(0,s.ev)((function(){f&&p.disconnect()})),t.$$set=function(t){"show"in t&&n(0,u=t.show),"top"in t&&n(1,A=t.top),"onResize"in t&&n(4,d=t.onResize),"$$scope"in t&&n(5,l=t.$$scope)},[u,A,r,f,d,l,o,function(t){a.VnY[t?"unshift":"push"]((function(){n(2,r=t)}))}]}var Ee=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,Ce,Le,a.N8,{show:0,top:1,onResize:4}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"top",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({top:t}),(0,a.yl1)()}},{key:"onResize",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({onResize:t}),(0,a.yl1)()}}]),n}(a.f_C),Be=Ee,Se=function(){function t(){this._x=0,this._endX=0,this._v=0,this._startTime=0,this._endTime=0}var e=t.prototype;return e.set=function(t,e,n,r){this._x=t,this._endX=e,this._v=(e-t)/n,this._startTime=r||Date.now(),this._endTime=this._startTime+n},e.x=function(t){if(this.done(t))return this._endX;var e=t-this._startTime;return this._x+this._v*e},e.dx=function(t){return this.done(t)?0:this._v},e.done=function(t){return t>=this._endTime},t}(),Te=function(){function t(t){this._drag=void 0,this._dragLog=void 0,this._x=0,this._v=0,this._startTime=0,this._drag=t,this._dragLog=Math.log(t)}var e=t.prototype;return e.set=function(t,e,n){this._x=t,this._v=e,this._startTime=n||Date.now()},e.x=function(t){var e=(t-this._startTime)/1e3;return this._x+this._v*Math.pow(this._drag,e)/this._dragLog-this._v/this._dragLog},e.dx=function(t){var e=(t-this._startTime)/1e3;return this._v*Math.pow(this._drag,e)},e.done=function(t){return Math.abs(this.dx(t))<3},t}(),De=function(t,e){return t>e-.1&&t<e+.1},Ie=function(t){return De(t,0)},Pe=function(){function t(t,e,n){this._solver=void 0,this._solution=void 0,this._endPosition=void 0,this._startTime=void 0,this._solver=function(t,e,n){var r=n,i=t,o=e,a=r*r-4*i*o;if(0==a){var s=-r/(2*i);return function(t,e){var n=t,r=e/(s*t);return{x:function(t){return(n+r*t)*Math.pow(Math.E,s*t)},dx:function(t){return(s*(n+r*t)+r)*Math.pow(Math.E,s*t)}}}}if(a>0){var l=(-r-Math.sqrt(a))/(2*i),c=(-r+Math.sqrt(a))/(2*i);return function(t,e){var n=(e-l*t)/(c-l),r=t-n;return{x:function(t){return r*Math.pow(Math.E,l*t)+n*Math.pow(Math.E,c*t)},dx:function(t){return r*l*Math.pow(Math.E,l*t)+n*c*Math.pow(Math.E,c*t)}}}}var u=Math.sqrt(4*i*o-r*r)/(2*i),A=-r/2*i;return function(t,e){var n=t,r=(e-A*t)/u;return{x:function(t){return Math.pow(Math.E,A*t)*(n*Math.cos(u*t)+r*Math.sin(u*t))},dx:function(t){var e=Math.pow(Math.E,A*t),i=Math.cos(u*t),o=Math.sin(u*t);return e*(r*u*i-n*u*o)+A*e*(r*o+n*i)}}}}(t,e,n),this._solution=null,this._endPosition=0,this._startTime=0}var e=t.prototype;return e.x=function(t){if(!this._solution)return 0;var e=(t-this._startTime)/1e3;return this._endPosition+this._solution.x(e)},e.dx=function(t){if(!this._solution)return 0;var e=(t-this._startTime)/1e3;return this._solution.dx(e)},e.set=function(t,e,n,r){r||(r=Date.now()),this._endPosition=t,e==t&&Ie(n)||(this._solution=this._solver(e-t,n),this._startTime=r)},e.done=function(t){return t||(t=Date.now()),De(this.x(t),this._endPosition)&&Ie(this.dx(t))},t}(),Fe=function(){function t(t,e){this._enableSpring=e,this._getExtend=void 0,this._friction=new Te(.05),this._spring=new Pe(1,90,20),this._toEdge=!1,this._getExtend=t}var e=t.prototype;return e.set=function(t,e,n){if(void 0===n&&(n=Date.now()),this._friction.set(t,e,n),t>0&&e>=0)this._toEdge=!0,this._enableSpring&&this._spring.set(0,t,e,n);else{var r=this._getExtend();t<-r&&e<=0?(this._toEdge=!0,this._enableSpring&&this._spring.set(-r,t,e,n)):this._toEdge=!1}},e.x=function(t){if(this._enableSpring&&this._toEdge)return this._spring.x(t);var e=this._friction.x(t),n=this._friction.dx(t);if(e>0&&n>=0){if(this._toEdge=!0,!this._enableSpring)return 0;this._spring.set(0,e,n,t)}else{var r=this._getExtend();if(e<-r&&n<=0){if(this._toEdge=!0,!this._enableSpring)return-r;this._spring.set(-r,e,n,t)}}return e},e.dx=function(t){return this._toEdge?this._enableSpring?this._spring.dx(t):0:this._friction.dx(t)},e.done=function(t){return this._toEdge?!this._enableSpring||this._spring.done(t):this._friction.done(t)},t}();function ke(t,e){var n,r;return function i(){if(!r){var o=Date.now();e(o),t.done(o)||(n=requestAnimationFrame(i))}}(),{cancel:function(){cancelAnimationFrame(n),r=!0}}}var Re=function(){function t(t,e){this._updatePosition=e,this._scrollModel=void 0,this._linearModel=void 0,this._startPosition=0,this._position=0,this._animate=null,this._getExtent=void 0,this._getExtent=t,this._scrollModel=new Fe(t,!1),this._linearModel=new Se}var e=t.prototype;return e.onTouchStart=function(){var t=this._position;if(t>0)t*=0;else{var e=this._getExtent();t<-e&&(t=0*(t+e)-e)}this._startPosition=this._position=t,this._animate&&(this._animate.cancel(),this._animate=null),this._updatePosition(-t)},e.onTouchMove=function(t,e){var n=e+this._startPosition;if(n>0)n*=0;else{var r=this._getExtent();n<-r&&(n=0*(n+r)-r)}this._position=n,this._updatePosition(-n)},e.onTouchEnd=function(t,e,n,r){var i=this,o=e+this._startPosition;if(o>0)o*=0;else{var a=this._getExtent();o<-a&&(o=0*(o+a)-a)}if(this._position=o,this._updatePosition(-o),!(Math.abs(e)<=.1&&Math.abs(r)<=.1)){var s=this._scrollModel;s.set(o,r),this._animate=ke(s,(function(t){var e=i._position=s.x(t);i._updatePosition(-e)}))}},e.onTouchCancel=function(){var t=this,e=this._position;if(e>0)e*=0;else{var n=this._getExtent();e<-n&&(e=0*(e+n)-n)}this._position=e;var r=this._scrollModel;r.set(e,0),this._animate=ke(r,(function(e){var n=t._position=r.x(e);t._updatePosition(-n)}))},e.onWheel=function(t,e){var n=this._position-e;if(this._animate&&(this._animate.cancel(),this._animate=null),n>0)n=0;else{var r=this._getExtent();n<-r&&(n=-r)}this._position=n,this._updatePosition(-n)},e.getPosition=function(){return-this._position},e.updatePosition=function(t){var e=-t-this._position;this._startPosition+=e,this._position+=e;var n=this._position;this._updatePosition(-n);var r=this._scrollModel,i=Date.now();if(!r.done(i)){var o=r.dx(i);r.set(n,o,i)}},e.scrollTo=function(t,e){var n=this;if(this._animate&&(this._animate.cancel(),this._animate=null),e>0){var r=this._linearModel;r.set(this._position,-t,e),this._animate=ke(this._linearModel,(function(t){var e=n._position=r.x(t);n._updatePosition(-e)}))}else this._updatePosition(t)},t}();function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Oe=function(t){var e=null,n=!1,r=function r(){n=!1,t(),e=requestAnimationFrame((function(){e=null,n&&r()}))};return{trigger:function(){null===e?r():n=!0},cancel:function(){e&&(cancelAnimationFrame(e),n=!1,e=null)}}},He=function(){function t(t){var e=this;this._handler=t,this._touchId=null,this._startX=0,this._startY=0,this._historyX=[],this._historyY=[],this._historyTime=[],this._wheelDeltaX=0,this._wheelDeltaY=0,this._onTouchMove=function(){var t=e._historyX[e._historyX.length-1],n=e._historyY[e._historyY.length-1];e._handler.onTouchMove(t,n)},this._onWheel=Oe((function(){var t=e._wheelDeltaX,n=e._wheelDeltaY;e._wheelDeltaX=0,e._wheelDeltaY=0,e._handler.onWheel(t,n)})),this.handleTouchStart=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var r=t.touches[0];e._touchId=r.identifier,e._startX=r.pageX,e._startY=r.pageY,e._historyX=[0],e._historyY=[0],e._historyTime=[Date.now()],e._handler.onTouchStart()}},this.handleTouchMove=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var r=e._getTouchDelta(t);null!==r&&(e._historyX.push(r.x),e._historyY.push(r.y),e._historyTime.push(Date.now()),e._onTouchMove())}},this.handleTouchEnd=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var r=e._getTouchDelta(t);if(null!==r){for(var i=0,o=0,a=Date.now(),s=r.y,l=r.x,c=e._historyTime,u=c.length-1;u>0;u-=1){var A=a-c[u];if(A>30){i=1e3*(l-e._historyX[u])/A,o=1e3*(s-e._historyY[u])/A;break}}e._touchId=null,e._handler.onTouchEnd(r.x,r.y,i,o)}}},this.handleTouchCancel=function(t){var n;"1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)&&(t.preventDefault(),null!==e._getTouchDelta(t)&&(e._touchId=null,e._handler.onTouchCancel()))},this.handleWheel=function(t){var n;"1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)&&(t.preventDefault(),e._wheelDeltaX+=t.deltaX,e._wheelDeltaY+=t.deltaY,e._onWheel.trigger())}}return t.prototype._getTouchDelta=function(t){if(null===this._touchId)return null;for(var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.changedTouches);!(e=n()).done;){var r=e.value;if(r.identifier===this._touchId)return{x:r.pageX-this._startX,y:r.pageY-this._startY}}return null},t}(),Ye=__nested_webpack_require_131847__(1142),Qe={};Ye.Z&&Ye.Z.locals&&(Qe.locals=Ye.Z.locals);var Ne,je=0,We={};We.styleTagTransform=v(),We.setAttributes=f(),We.insert=d().bind(null,"head"),We.domAPI=A(),We.insertStyleElement=g(),Qe.use=function(t){return We.options=t||{},je++||(Ne=c()(Ye.Z,We)),Qe},Qe.unuse=function(){je>0&&! --je&&(Ne(),Ne=null)};var Ve=Qe,ze=a.lig.Map,Ge=function(t){return{}},Ke=function(t){return{}},Ze=function(t){return{}},Xe=function(t){return{}};function qe(t,e,n){var r=t.slice();return r[53]=e[n],r[55]=n,r}var Je=function(t){return{item:1025&t[0]}},$e=function(t){return{item:t[0][t[53].index]}},tn=function(t){return{}},en=function(t){return{}};function nn(t){var e,n,r=t[24].header,i=(0,a.nuO)(r,t,t[31],en);return{c:function(){e=(0,a.bGB)("div"),i&&i.c(),(0,a.Ljt)(e,"class","vc-scroller-header")},m:function(r,o){(0,a.$Tr)(r,e,o),i&&i.m(e,null),t[25](e),n=!0},p:function(t,e){i&&i.p&&(!n||1&e[1])&&(0,a.kmG)(i,r,t,t[31],n?(0,a.u2N)(r,t[31],e,tn):(0,a.VOJ)(t[31]),en)},i:function(t){n||((0,a.Ui)(i,t),n=!0)},o:function(t){(0,a.etI)(i,t),n=!1},d:function(n){n&&(0,a.ogt)(e),i&&i.d(n),t[25](null)}}}function rn(t){var e,n=t[24].empty,r=(0,a.nuO)(n,t,t[31],Xe);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||1&i[1])&&(0,a.kmG)(r,n,t,t[31],e?(0,a.u2N)(n,t[31],i,Ze):(0,a.VOJ)(t[31]),Xe)},i:function(t){e||((0,a.Ui)(r,t),e=!0)},o:function(t){(0,a.etI)(r,t),e=!1},d:function(t){r&&r.d(t)}}}function on(t){for(var e,n,r=[],i=new ze,o=t[10],s=function(t){return t[53].key},l=0;l<o.length;l+=1){var c=qe(t,o,l),u=s(c);i.set(u,r[l]=sn(u,c))}return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,i){for(var o=0;o<r.length;o+=1)r[o].m(t,i);(0,a.$Tr)(t,e,i),n=!0},p:function(t,n){17921&n[0]|1&n[1]&&(o=t[10],(0,a.dvw)(),r=(0,a.GQg)(r,n,s,1,t,o,i,e.parentNode,a.cly,sn,e,qe),(0,a.gbL)())},i:function(t){if(!n){for(var e=0;e<o.length;e+=1)(0,a.Ui)(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)(0,a.etI)(r[e]);n=!1},d:function(t){for(var n=0;n<r.length;n+=1)r[n].d(t);t&&(0,a.ogt)(e)}}}function an(t){var e,n,r=t[24].item,i=(0,a.nuO)(r,t,t[31],$e),o=i||function(){var t;return{c:function(){t=(0,a.fLW)("Missing template")},m:function(e,n){(0,a.$Tr)(e,t,n)},d:function(e){e&&(0,a.ogt)(t)}}}();return{c:function(){o&&o.c(),e=(0,a.DhX)()},m:function(t,r){o&&o.m(t,r),(0,a.$Tr)(t,e,r),n=!0},p:function(t,e){i&&i.p&&(!n||1025&e[0]|1&e[1])&&(0,a.kmG)(i,r,t,t[31],n?(0,a.u2N)(r,t[31],e,Je):(0,a.VOJ)(t[31]),$e)},i:function(t){n||((0,a.Ui)(o,t),n=!0)},o:function(t){(0,a.etI)(o,t),n=!1},d:function(t){o&&o.d(t),t&&(0,a.ogt)(e)}}}function sn(t,e){var n,r,i;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e)[26].apply(t,[e[53]].concat(r))}return r=new Be({props:{show:e[53].show,top:e[9][e[53].index],onResize:o,$$slots:{default:[an]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=(0,a.cSb)(),(0,a.YCL)(r.$$.fragment),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.yef)(r,t,e),i=!0},p:function(t,n){e=t;var i={};1024&n[0]&&(i.show=e[53].show),1536&n[0]&&(i.top=e[9][e[53].index]),1024&n[0]&&(i.onResize=o),1025&n[0]|1&n[1]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i:function(t){i||((0,a.Ui)(r.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(r.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(n),(0,a.vpE)(r,t)}}}function ln(t){var e,n,r=t[24].footer,i=(0,a.nuO)(r,t,t[31],Ke);return{c:function(){e=(0,a.bGB)("div"),i&&i.c(),(0,a.Ljt)(e,"class","vc-scroller-footer")},m:function(r,o){(0,a.$Tr)(r,e,o),i&&i.m(e,null),t[28](e),n=!0},p:function(t,e){i&&i.p&&(!n||1&e[1])&&(0,a.kmG)(i,r,t,t[31],n?(0,a.u2N)(r,t[31],e,Ge):(0,a.VOJ)(t[31]),Ke)},i:function(t){n||((0,a.Ui)(i,t),n=!0)},o:function(t){(0,a.etI)(i,t),n=!1},d:function(n){n&&(0,a.ogt)(e),i&&i.d(n),t[28](null)}}}function cn(t){var e,n,r=t[7]+"%",i=t[8]+"%";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.Ljt)(n,"class","vc-scroller-scrollbar-thumb"),(0,a.czc)(n,"height",r,!1),(0,a.czc)(n,"top",i,!1),(0,a.Ljt)(e,"class","vc-scroller-scrollbar-track"),(0,a.czc)(e,"display",t[7]<100?"block":"none",!1)},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},p:function(t,o){128&o[0]&&r!==(r=t[7]+"%")&&(0,a.czc)(n,"height",r,!1),256&o[0]&&i!==(i=t[8]+"%")&&(0,a.czc)(n,"top",i,!1),128&o[0]&&(0,a.czc)(e,"display",t[7]<100?"block":"none",!1)},d:function(t){t&&(0,a.ogt)(e)}}}function un(t){var e,n,r,i,o,s,l,c,u,A,h,d=t[15].header&&nn(t),p=[on,rn],f=[];function m(t,e){return t[0].length?0:1}o=m(t),s=f[o]=p[o](t);var g=t[15].footer&&ln(t),y=t[1]&&cn(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),d&&d.c(),r=(0,a.DhX)(),i=(0,a.bGB)("div"),s.c(),l=(0,a.DhX)(),g&&g.c(),c=(0,a.DhX)(),y&&y.c(),(0,a.Ljt)(i,"class","vc-scroller-items"),(0,a.Ljt)(n,"class","vc-scroller-contents"),(0,a.Ljt)(e,"class","vc-scroller-viewport"),(0,a.VHj)(e,"static",!t[13])},m:function(s,p){(0,a.$Tr)(s,e,p),(0,a.R3I)(e,n),d&&d.m(n,null),(0,a.R3I)(n,r),(0,a.R3I)(n,i),f[o].m(i,null),t[27](i),(0,a.R3I)(n,l),g&&g.m(n,null),t[29](n),(0,a.R3I)(e,c),y&&y.m(e,null),t[30](e),u=!0,A||(h=[(0,a.oLt)(e,"touchstart",(function(){(0,a.sBU)(t[13]?t[11].handleTouchStart:t[12])&&(t[13]?t[11].handleTouchStart:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchmove",(function(){(0,a.sBU)(t[13]?t[11].handleTouchMove:t[12])&&(t[13]?t[11].handleTouchMove:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchend",(function(){(0,a.sBU)(t[13]?t[11].handleTouchEnd:t[12])&&(t[13]?t[11].handleTouchEnd:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchcancel",(function(){(0,a.sBU)(t[13]?t[11].handleTouchCancel:t[12])&&(t[13]?t[11].handleTouchCancel:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"wheel",(function(){(0,a.sBU)(t[13]?t[11].handleWheel:t[12])&&(t[13]?t[11].handleWheel:t[12]).apply(this,arguments)}))],A=!0)},p:function(l,c){(t=l)[15].header?d?(d.p(t,c),32768&c[0]&&(0,a.Ui)(d,1)):((d=nn(t)).c(),(0,a.Ui)(d,1),d.m(n,r)):d&&((0,a.dvw)(),(0,a.etI)(d,1,1,(function(){d=null})),(0,a.gbL)());var u=o;(o=m(t))===u?f[o].p(t,c):((0,a.dvw)(),(0,a.etI)(f[u],1,1,(function(){f[u]=null})),(0,a.gbL)(),(s=f[o])?s.p(t,c):(s=f[o]=p[o](t)).c(),(0,a.Ui)(s,1),s.m(i,null)),t[15].footer?g?(g.p(t,c),32768&c[0]&&(0,a.Ui)(g,1)):((g=ln(t)).c(),(0,a.Ui)(g,1),g.m(n,null)):g&&((0,a.dvw)(),(0,a.etI)(g,1,1,(function(){g=null})),(0,a.gbL)()),t[1]?y?y.p(t,c):((y=cn(t)).c(),y.m(e,null)):y&&(y.d(1),y=null)},i:function(t){u||((0,a.Ui)(d),(0,a.Ui)(s),(0,a.Ui)(g),u=!0)},o:function(t){(0,a.etI)(d),(0,a.etI)(s),(0,a.etI)(g),u=!1},d:function(n){n&&(0,a.ogt)(e),d&&d.d(),f[o].d(),t[27](null),g&&g.d(),t[29](null),y&&y.d(),t[30](null),A=!1,(0,a.j7q)(h)}}}function An(t,e,n){var r,i,o,l,c,u,A,h=e.$$slots,d=void 0===h?{}:h,p=e.$$scope,f=(0,a.XGm)(d),m=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},g=e.items,y=e.itemKey,v=void 0===y?void 0:y,_=e.itemHeight,w=void 0===_?void 0:_,b=e.buffer,x=void 0===b?200:b,M=e.stickToBottom,L=void 0!==M&&M,C=e.scrollbar,E=void 0!==C&&C,B=e.start,S=void 0===B?0:B,T=e.end,D=void 0===T?0:T,I=0,P=0,F=0,k=0,R=100,U=0,O=[],H=[],Y=[],Q=function(){var t=[],e=[],n=0,r=0,i=0,o=0,a=0;return function(s,l,c){if(i===s&&o===l&&a===c)return t;var u=e.length,A=l<=r?Math.max(0,Math.min(l,Math.max(n,Math.min(r-1,c-u)))):l,h=n<=c?Math.max(c,Math.min(s,Math.max(n+1,Math.min(r,A+u)))):c;if(0===u||h-A<u){for(var d=t.length=e.length=c-l,p=0;p<d;p+=1)e[p]=p,t[p]={key:p,index:p+l,show:!0};return n=l,r=c,i=s,o=l,a=c,t}var f=0,m=0,g=0,y=0;r<A||h<n?(g=A,y=A+u):n<A?(m=A-n,g=A,y=A+u):h<r?(m=u-(r-h),g=h-u,y=h):A<=n&&r<=h&&(g=n,y=r);for(var v=A;v<l;v+=1,f+=1){var _=e[(m+f)%u],w=t[v-A];w.key=_,w.index=v,w.show=!1}for(var b=l,x=0;b<c;b+=1){var M=void 0;g<=b&&b<y?(M=e[(m+f)%u],f+=1):(M=u+x,x+=1);var L=b-A;if(L<t.length){var C=t[L];C.key=M,C.index=b,C.show=!0}else t.push({key:M,index:b,show:!0})}for(var E=c;E<h;E+=1,f+=1){var B=e[(m+f)%u],S=t[E-A];S.key=B,S.index=E,S.show=!1}for(var T=0;T<t.length;T+=1)e[T]=t[T].key;return t.sort((function(t,e){return t.key-e.key})),n=A,r=h,i=s,o=l,a=c,t}}(),N=function(){return Math.max(0,k+I+P-F)},j=!0,W=!1,V=[],z=!1,G=!1,K=xe(),Z=function(t,e){var n;(0,s.H3)((function(){var r=t();if(r){e(r.getBoundingClientRect().height),n&&n.disconnect();var i=Me();(n=new i((function(t){var n=t[0];e(n.contentRect.height)}))).observe(r)}else e(0),n&&(n.disconnect(),n=null)})),(0,s.ev)((function(){n&&(n.disconnect(),n=null)}))},X=function(){var t=u.getPosition(),e=100/(k+I+P);n(8,U=t*e),n(7,R=F*e)},q=function(t){var e=N();(t||u.getPosition()>e)&&u.updatePosition(e)},J=function(t){!function(t,e,r){for(var i=new Map,o=0;o<V.length;o+=1){var a=V[o],s=void 0===v?a:a[v];i.set(s,O[o])}n(9,H.length=O.length=t.length,H);for(var l=0,A=0;A<t.length;A+=1){var h=t[A],d=void 0===v?h:h[v];i.has(d)?O[A]=i.get(d):O[A]=r,n(9,H[A]=l,H),l+=O[A]}k=Math.max(l,e-I-P),V=t,K?($(t,u.getPosition(),e),n(6,c.style.height=k+"px",c),q(j&&L),X()):$(t,0,9e6)}(t,F,w)};function $(t,e,r){for(var i=0,o=0;i<t.length&&o+O[i]<e-x;)o+=O[i],i+=1;for(n(16,S=i);i<t.length&&r&&o<e+r+x;)o+=O[i],i+=1;n(17,D=i),n(10,Y=Q(t.length,S,D))}var tt=function(t,e){return m(void 0,void 0,void 0,we().mark((function r(){var i,o,a,s;return we().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(O[t]!==e&&0!==F){r.next=2;break}return r.abrupt("return");case 2:for(i=O[t],O[t]=e,o=g.length,a=t;a<o-1;a+=1)n(9,H[a+1]=H[a]+O[a],H);return k=Math.max(H[o-1]+O[o-1],F-I-P),s=u.getPosition(),W=!0,H[t]+i<s?u.updatePosition(s+e-i):q(j&&L),r.next=12,new Promise((function(t){return setTimeout(t,0)}));case 12:$(g,u.getPosition(),F),n(6,c.style.height=k+"px",c),X();case 15:case"end":return r.stop()}}),r)})))};(0,s.H3)((function(){n(23,z=!0),Ve.use()})),(0,s.ev)((function(){Ve.unuse()})),K&&(K&&(u=u||new Re(N,(function(t){return m(void 0,void 0,void 0,we().mark((function e(){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N(),j=Math.abs(t-r)<=1,n(5,l.style.transform="translateY("+-t+"px) translateZ(0)",l),X(),!W){e.next=8;break}W=!1,e.next=11;break;case 8:return e.next=10,new Promise((function(t){return setTimeout(t,0)}));case 10:$(g,t,F);case 11:case"end":return e.stop()}}),e)})))})),n(11,A=A||new He(u))),!G&&K&&(Z((function(){return o}),(function(t){return m(void 0,void 0,void 0,we().mark((function e(){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F!==t){e.next=2;break}return e.abrupt("return");case 2:for(F=t,r=0,i=0;i<g.length;i+=1)r+=O[i];return k=Math.max(r,F-P),n(6,c.style.height=k+"px",c),e.next=9,new Promise((function(t){return setTimeout(t,0)}));case 9:J(g),$(g,u.getPosition(),F),0!==F&&q(j&&L),X();case 13:case"end":return e.stop()}}),e)})))})),Z((function(){return i}),(function(t){if(P!==t){P=t;for(var e=0,r=0;r<g.length;r+=1)e+=O[r];k=Math.max(e,F-I-P),n(6,c.style.height=k+"px",c),0!==F&&q(j&&L),X()}})),Z((function(){return r}),(function(t){I!==t&&(I=t,J(g),X())}))));var et={scrollTo:function(t){if(K){var e=H[Math.max(0,Math.min(g.length-1,t))],n=Math.min(N(),e),r=Math.min(Math.floor(500*Math.abs(u.getPosition()-n)/2e3),500);u.scrollTo(n,r)}}};return t.$$set=function(t){"items"in t&&n(0,g=t.items),"itemKey"in t&&n(18,v=t.itemKey),"itemHeight"in t&&n(19,w=t.itemHeight),"buffer"in t&&n(20,x=t.buffer),"stickToBottom"in t&&n(21,L=t.stickToBottom),"scrollbar"in t&&n(1,E=t.scrollbar),"start"in t&&n(16,S=t.start),"end"in t&&n(17,D=t.end),"$$scope"in t&&n(31,p=t.$$scope)},t.$$.update=function(){8388609&t.$$.dirty[0]&&z&&(K||n(4,o.parentElement.style.height="auto",o),J(g),G=!0)},[g,E,r,i,o,l,c,R,U,H,Y,A,function(){},K,tt,f,S,D,v,w,x,L,et,z,d,function(t){a.VnY[t?"unshift":"push"]((function(){n(2,r=t)}))},function(t,e){return tt(t.index,e)},function(t){a.VnY[t?"unshift":"push"]((function(){n(6,c=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(3,i=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(5,l=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(4,o=t),n(23,z),n(13,K),n(0,g)}))},p]}var hn=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,An,un,a.N8,{items:0,itemKey:18,itemHeight:19,buffer:20,stickToBottom:21,scrollbar:1,start:16,end:17,handler:22},null,[-1,-1]),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"items",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({items:t}),(0,a.yl1)()}},{key:"itemKey",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({itemKey:t}),(0,a.yl1)()}},{key:"itemHeight",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({itemHeight:t}),(0,a.yl1)()}},{key:"buffer",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({buffer:t}),(0,a.yl1)()}},{key:"stickToBottom",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({stickToBottom:t}),(0,a.yl1)()}},{key:"scrollbar",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({scrollbar:t}),(0,a.yl1)()}},{key:"start",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({start:t}),(0,a.yl1)()}},{key:"end",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({end:t}),(0,a.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[22]}}]),n}(a.f_C),dn=hn;function pn(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"slot","empty"),(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function fn(t){var e,n;return(e=new he({props:{slot:"item",log:t[16],showTimestamps:t[1],groupHeader:t[16].groupHeader}})).$on("groupCollapsed",t[6]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:function(t,n){var r={};65536&n&&(r.log=t[16]),2&n&&(r.showTimestamps=t[1]),65536&n&&(r.groupHeader=t[16].groupHeader),e.$set(r)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function mn(t){var e,n;return(e=new de.Z({})).$on("filterText",t[5]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,r){(0,a.yef)(e,t,r),n=!0},p:a.ZTd,i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function gn(t){var e,n,r=t[0]&&mn(t);return{c:function(){r&&r.c(),e=(0,a.cSb)()},m:function(t,i){r&&r.m(t,i),(0,a.$Tr)(t,e,i),n=!0},p:function(t,n){t[0]?r?(r.p(t,n),1&n&&(0,a.Ui)(r,1)):((r=mn(t)).c(),(0,a.Ui)(r,1),r.m(e.parentNode,e)):r&&((0,a.dvw)(),(0,a.etI)(r,1,1,(function(){r=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(r),n=!0)},o:function(t){(0,a.etI)(r),n=!1},d:function(t){r&&r.d(t),t&&(0,a.ogt)(e)}}}function yn(t){var e,n,r,i;function o(e){t[15](e)}var s={items:t[4],itemKey:"_id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{footer:[gn],item:[fn,function(t){return{16:t.item}},function(t){return t.item?65536:0}],empty:[pn]},$$scope:{ctx:t}};return void 0!==t[3]&&(s.handler=t[3]),n=new dn({props:s}),a.VnY.push((function(){return(0,a.akz)(n,"handler",o)})),{c:function(){e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),(0,a.Ljt)(e,"class","vc-plugin-content"),(0,a.VHj)(e,"vc-logs-has-cmd",t[0])},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.yef)(n,e,null),i=!0},p:function(t,i){var o=i[0],s={};16&o&&(s.items=t[4]),196611&o&&(s.$$scope={dirty:o,ctx:t}),!r&&8&o&&(r=!0,s.handler=t[3],(0,a.hjT)((function(){return r=!1}))),n.$set(s),1&o&&(0,a.VHj)(e,"vc-logs-has-cmd",t[0])},i:function(t){i||((0,a.Ui)(n.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(n.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(n)}}}function vn(t,e,n){var r,i=a.ZTd;t.$$.on_destroy.push((function(){return i()}));var o,l,c=e.pluginId,u=void 0===c?"default":c,A=e.showCmd,h=void 0!==A&&A,d=e.filterType,p=void 0===d?"all":d,f=e.showTimestamps,m=void 0!==f&&f,g=!1,y="",v=[];return(0,s.H3)((function(){ve.use()})),(0,s.ev)((function(){ve.unuse()})),t.$$set=function(t){"pluginId"in t&&n(7,u=t.pluginId),"showCmd"in t&&n(0,h=t.showCmd),"filterType"in t&&n(8,p=t.filterType),"showTimestamps"in t&&n(1,m=t.showTimestamps)},t.$$.update=function(){29056&t.$$.dirty&&(g||(n(2,o=st.O.get(u)),i(),i=(0,a.LdU)(o,(function(t){return n(14,r=t)})),n(12,g=!0)),n(4,v=r.logList.filter((function(t){return("all"===p||p===t.type)&&(""===y||(0,at.HX)(t,y))&&!t.groupCollapsed}))))},[h,m,o,l,v,function(t){n(13,y=t.detail.filterText||"")},function(t){var e=t.detail.groupLabel,n=t.detail.groupHeader,r=t.detail.isGroupCollapsed;o.update((function(t){return t.logList.forEach((function(t){t.groupLabel===e&&(t.groupHeader>0?t.groupHeader=n:t.groupCollapsed=r)})),t}))},u,p,function(){l.scrollTo(0)},function(){l.scrollTo(v.length-1)},{fixedHeight:!0},g,y,r,function(t){n(3,l=t)}]}var _n=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,vn,yn,a.N8,{pluginId:7,showCmd:0,filterType:8,showTimestamps:1,scrollToTop:9,scrollToBottom:10,options:11}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"pluginId",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({pluginId:t}),(0,a.yl1)()}},{key:"showCmd",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({showCmd:t}),(0,a.yl1)()}},{key:"filterType",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({filterType:t}),(0,a.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({showTimestamps:t}),(0,a.yl1)()}},{key:"scrollToTop",get:function(){return this.$$.ctx[9]}},{key:"scrollToBottom",get:function(){return this.$$.ctx[10]}},{key:"options",get:function(){return this.$$.ctx[11]}}]),n}(a.f_C),wn=_n,bn=__nested_webpack_require_131847__(5629),xn=function(){function t(t){this.model=void 0,this.pluginId=void 0,this.pluginId=t}return t.prototype.destroy=function(){this.model=void 0},t}(),Mn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).model=bn.W.getSingleton(bn.W,"VConsoleLogModel"),e}(0,o.Z)(e,t);var n=e.prototype;return n.log=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["log"].concat(e))},n.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["info"].concat(e))},n.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["debug"].concat(e))},n.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["warn"].concat(e))},n.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["error"].concat(e))},n.clear=function(){this.model&&this.model.clearPluginLog(this.pluginId)},n.addLog=function(t){if(this.model){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.unshift("["+this.pluginId+"]"),this.model.addLog({type:t,origData:n},{noOrig:!0})}},e}(xn),Ln=function(t){function e(e,n){var r;return(r=t.call(this,e,n,wn,{pluginId:e,filterType:"all"})||this).model=bn.W.getSingleton(bn.W,"VConsoleLogModel"),r.isReady=!1,r.isShow=!1,r.isInBottom=!0,r.model.bindPlugin(e),r.exporter=new Mn(e),r}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){var e,n;t.prototype.onReady.call(this),this.model.maxLogNumber=Number(null==(e=this.vConsole.option.log)?void 0:e.maxLogNumber)||1e3,this.compInstance.showTimestamps=!(null==(n=this.vConsole.option.log)||!n.showTimestamps)},n.onRemove=function(){t.prototype.onRemove.call(this),this.model.unbindPlugin(this.id)},n.onAddTopBar=function(t){for(var e=this,n=["All","Log","Info","Warn","Error"],r=[],i=0;i<n.length;i++)r.push({name:n[i],data:{type:n[i].toLowerCase()},actived:0===i,className:"",onClick:function(t,n){if(n.type===e.compInstance.filterType)return!1;e.compInstance.filterType=n.type}});r[0].className="vc-actived",t(r)},n.onAddTool=function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(t){e.model.clearPluginLog(e.id),e.vConsole.triggerEvent("clearLog")}},{name:"Top",global:!1,onClick:function(t){e.compInstance.scrollToTop()}},{name:"Bottom",global:!1,onClick:function(t){e.compInstance.scrollToBottom()}}])},n.onUpdateOption=function(){var t,e,n,r;(null==(t=this.vConsole.option.log)?void 0:t.maxLogNumber)!==this.model.maxLogNumber&&(this.model.maxLogNumber=Number(null==(n=this.vConsole.option.log)?void 0:n.maxLogNumber)||1e3),!(null==(e=this.vConsole.option.log)||!e.showTimestamps)!==this.compInstance.showTimestamps&&(this.compInstance.showTimestamps=!(null==(r=this.vConsole.option.log)||!r.showTimestamps))},e}(ot),Cn=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onErrorHandler=void 0,e.resourceErrorHandler=void 0,e.rejectionHandler=void 0,e}(0,o.Z)(n,t);var r=n.prototype;return r.onReady=function(){t.prototype.onReady.call(this),this.bindErrors(),this.compInstance.showCmd=!0},r.onRemove=function(){t.prototype.onRemove.call(this),this.unbindErrors()},r.bindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(this.catchWindowOnError(),this.catchResourceError(),this.catchUnhandledRejection())},r.unbindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(window.removeEventListener("error",this.onErrorHandler),window.removeEventListener("error",this.resourceErrorHandler),window.removeEventListener("unhandledrejection",this.rejectionHandler))},r.catchWindowOnError=function(){var t=this;this.onErrorHandler=this.onErrorHandler?this.onErrorHandler:function(e){var n=e.message;e.filename&&(n+="\\n\\t"+e.filename.replace(location.origin,""),(e.lineno||e.colno)&&(n+=":"+e.lineno+":"+e.colno)),n+="\\n"+(!!e.error&&!!e.error.stack&&e.error.stack.toString()||""),t.model.addLog({type:"error",origData:[n]},{noOrig:!0})},window.removeEventListener("error",this.onErrorHandler),window.addEventListener("error",this.onErrorHandler)},r.catchResourceError=function(){var t=this;this.resourceErrorHandler=this.resourceErrorHandler?this.resourceErrorHandler:function(e){var n=e.target;if(["link","video","script","img","audio"].indexOf(n.localName)>-1){var r=n.href||n.src||n.currentSrc;t.model.addLog({type:"error",origData:["GET <"+n.localName+"> error: "+r]},{noOrig:!0})}},window.removeEventListener("error",this.resourceErrorHandler),window.addEventListener("error",this.resourceErrorHandler,!0)},r.catchUnhandledRejection=function(){var t=this;this.rejectionHandler=this.rejectionHandler?this.rejectionHandler:function(e){var n=e&&e.reason,r="Uncaught (in promise) ",i=[r,n];n instanceof Error&&(i=[r,{name:n.name,message:n.message,stack:n.stack}]),t.model.addLog({type:"error",origData:i},{noOrig:!0})},window.removeEventListener("unhandledrejection",this.rejectionHandler),window.addEventListener("unhandledrejection",this.rejectionHandler)},n}(Ln),En=function(t){function e(){return t.apply(this,arguments)||this}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){t.prototype.onReady.call(this),this.printSystemInfo()},n.printSystemInfo=function(){var t=navigator.userAgent,e=[],n=t.match(/MicroMessenger\/([\d\.]+)/i),r=n&&n[1]?n[1]:null;"servicewechat.com"===location.host||console.info("[system]","Location:",location.href);var i=t.match(/(ipod).*\s([\d_]+)/i),o=t.match(/(ipad).*\s([\d_]+)/i),a=t.match(/(iphone)\sos\s([\d_]+)/i),s=t.match(/(android)\s([\d\.]+)/i),l=t.match(/(Mac OS X)\s([\d_]+)/i);e=[],s?e.push("Android "+s[2]):a?e.push("iPhone, iOS "+a[2].replace(/_/g,".")):o?e.push("iPad, iOS "+o[2].replace(/_/g,".")):i?e.push("iPod, iOS "+i[2].replace(/_/g,".")):l&&e.push("Mac, MacOS "+l[2].replace(/_/g,".")),r&&e.push("WeChat "+r),console.info("[system]","Client:",e.length?e.join(", "):"Unknown");var c=t.toLowerCase().match(/ nettype\/([^ ]+)/g);c&&c[0]&&(e=[(c=c[0].split("/"))[1]],console.info("[system]","Network:",e.length?e.join(", "):"Unknown")),console.info("[system]","UA:",t),setTimeout((function(){var t=window.performance||window.msPerformance||window.webkitPerformance;if(t&&t.timing){var e=t.timing;e.navigationStart&&console.info("[system]","navigationStart:",e.navigationStart),e.navigationStart&&e.domainLookupStart&&console.info("[system]","navigation:",e.domainLookupStart-e.navigationStart+"ms"),e.domainLookupEnd&&e.domainLookupStart&&console.info("[system]","dns:",e.domainLookupEnd-e.domainLookupStart+"ms"),e.connectEnd&&e.connectStart&&(e.connectEnd&&e.secureConnectionStart?console.info("[system]","tcp (ssl):",e.connectEnd-e.connectStart+"ms ("+(e.connectEnd-e.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",e.connectEnd-e.connectStart+"ms")),e.responseStart&&e.requestStart&&console.info("[system]","request:",e.responseStart-e.requestStart+"ms"),e.responseEnd&&e.responseStart&&console.info("[system]","response:",e.responseEnd-e.responseStart+"ms"),e.domComplete&&e.domLoading&&(e.domContentLoadedEventStart&&e.domLoading?console.info("[system]","domComplete (domLoaded):",e.domComplete-e.domLoading+"ms ("+(e.domContentLoadedEventStart-e.domLoading)+"ms)"):console.info("[system]","domComplete:",e.domComplete-e.domLoading+"ms")),e.loadEventEnd&&e.loadEventStart&&console.info("[system]","loadEvent:",e.loadEventEnd-e.loadEventStart+"ms"),e.navigationStart&&e.loadEventEnd&&console.info("[system]","total (DOM):",e.loadEventEnd-e.navigationStart+"ms ("+(e.domComplete-e.navigationStart)+"ms)")}}),0)},e}(Ln),Bn=__nested_webpack_require_131847__(3313),Sn=__nested_webpack_require_131847__(643);function Tn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Dn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var In=function(t,n){void 0===n&&(n={}),e.Kn(n)||(n={});var r=t?t.split("?"):[];if(r.shift(),r.length>0)for(var i,o=Tn(r=r.join("?").split("&"));!(i=o()).done;){var a=i.value.split("=");try{n[a[0]]=decodeURIComponent(a[1])}catch(t){n[a[0]]=a[1]}}return n},Pn=function(t,n){var r="";switch(t){case"":case"text":case"json":if(e.HD(n))try{r=JSON.parse(n),r=e.hZ(r,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0})}catch(t){r=e.id(String(n),1e4)}else e.Kn(n)||e.kJ(n)?r=e.hZ(n,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0}):void 0!==n&&(r=Object.prototype.toString.call(n));break;default:void 0!==n&&(r=Object.prototype.toString.call(n))}return r},Fn=function(t){if(!t)return null;var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){var r=t.split("&");if(1===r.length)n=t;else{n={};for(var i,o=Tn(r);!(i=o()).done;){var a=i.value.split("=");n[a[0]]=void 0===a[1]?"undefined":a[1]}}}else if(e.TW(t)){n={};for(var s,l=Tn(t);!(s=l()).done;){var c=s.value,u=c[0],A=c[1];n[u]="string"==typeof A?A:"[object Object]"}}else n=e.PO(t)?t:"[object "+e.zl(t)+"]";return n},kn=function(t){return void 0===t&&(t=""),t.startsWith("//")&&(t=""+new URL(window.location.href).protocol+t),t.startsWith("http")?new URL(t):new URL(t,window.location.href)},Rn=function(){this.id="",this.name="",this.method="",this.url="",this.status=0,this.statusText="",this.cancelState=0,this.readyState=0,this.header=null,this.responseType="",this.requestType=void 0,this.requestHeader=null,this.response=void 0,this.responseSize=0,this.responseSizeText="",this.startTime=0,this.startTimeText="",this.endTime=0,this.costTime=0,this.getData=null,this.postData=null,this.actived=!1,this.noVConsole=!1,this.id=(0,e.QI)()},Un=function(t){function e(n){var r;return(r=t.call(this)||this)._response=void 0,new Proxy(n,e.Handler)||(0,i.Z)(r)}return(0,o.Z)(e,t),e}(Rn);Un.Handler={get:function(t,e){return"response"===e?t._response:Reflect.get(t,e)},set:function(t,e,n){var r;switch(e){case"response":return t._response=Pn(t.responseType,n),!0;case"url":var i=(null==(r=n=String(n))?void 0:r.replace(new RegExp("[/]*$"),"").split("/").pop())||"Unknown";Reflect.set(t,"name",i);var o=In(n,t.getData);Reflect.set(t,"getData",o);break;case"status":var a=String(n)||"Unknown";Reflect.set(t,"statusText",a);break;case"startTime":if(n&&t.endTime){var s=t.endTime-n;Reflect.set(t,"costTime",s)}break;case"endTime":if(n&&t.startTime){var l=n-t.startTime;Reflect.set(t,"costTime",l)}}return Reflect.set(t,e,n)}};var On=function(){function t(t,e){var n=this;this.XMLReq=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.XMLReq=t,this.XMLReq.onreadystatechange=function(){n.onReadyStateChange()},this.XMLReq.onabort=function(){n.onAbort()},this.XMLReq.ontimeout=function(){n.onTimeout()},this.item=new Rn,this.item.requestType="xhr",this.onUpdateCallback=e}var n=t.prototype;return n.get=function(t,e){switch(e){case"_noVConsole":return this.item.noVConsole;case"open":return this.getOpen(t);case"send":return this.getSend(t);case"setRequestHeader":return this.getSetRequestHeader(t);default:var n=Reflect.get(t,e);return"function"==typeof n?n.bind(t):n}},n.set=function(t,e,n){switch(e){case"_noVConsole":return void(this.item.noVConsole=!!n);case"onreadystatechange":return this.setOnReadyStateChange(t,e,n);case"onabort":return this.setOnAbort(t,e,n);case"ontimeout":return this.setOnTimeout(t,e,n)}return Reflect.set(t,e,n)},n.onReadyStateChange=function(){this.item.readyState=this.XMLReq.readyState,this.item.responseType=this.XMLReq.responseType,this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-this.item.startTime,this.updateItemByReadyState(),this.item.response=Pn(this.item.responseType,this.item.response),this.triggerUpdate()},n.onAbort=function(){this.item.cancelState=1,this.item.statusText="Abort",this.triggerUpdate()},n.onTimeout=function(){this.item.cancelState=3,this.item.statusText="Timeout",this.triggerUpdate()},n.triggerUpdate=function(){this.item.noVConsole||this.onUpdateCallback(this.item)},n.getOpen=function(t){var e=this,n=Reflect.get(t,"open");return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1];return e.item.method=a?a.toUpperCase():"GET",e.item.url=s||"",e.item.name=e.item.url.replace(new RegExp("[/]*$"),"").split("/").pop()||"",e.item.getData=In(e.item.url,{}),e.triggerUpdate(),n.apply(t,i)}},n.getSend=function(t){var e=this,n=Reflect.get(t,"send");return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0];return e.item.postData=Fn(a),e.triggerUpdate(),n.apply(t,i)}},n.getSetRequestHeader=function(t){var e=this,n=Reflect.get(t,"setRequestHeader");return function(){e.item.requestHeader||(e.item.requestHeader={});for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.item.requestHeader[i[0]]=i[1],e.triggerUpdate(),n.apply(t,i)}},n.setOnReadyStateChange=function(t,e,n){var r=this;return Reflect.set(t,e,(function(){r.onReadyStateChange();for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];n.apply(t,i)}))},n.setOnAbort=function(t,e,n){var r=this;return Reflect.set(t,e,(function(){r.onAbort();for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];n.apply(t,i)}))},n.setOnTimeout=function(t,e,n){var r=this;return Reflect.set(t,e,(function(){r.onTimeout();for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];n.apply(t,i)}))},n.updateItemByReadyState=function(){switch(this.XMLReq.readyState){case 0:case 1:if(this.item.status=0,this.item.statusText="Pending",!this.item.startTime){this.item.startTime=Date.now();var t=(0,e._3)(this.item.startTime);this.item.startTimeText=t.year+"-"+t.month+"-"+t.day+" "+t.hour+":"+t.minute+":"+t.second+"."+t.millisecond}break;case 2:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.item.header={};for(var n=(this.XMLReq.getAllResponseHeaders()||"").split("\n"),r=0;r<n.length;r++){var i=n[r];if(i){var o=i.split(": "),a=o[0],s=o.slice(1).join(": ");this.item.header[a]=s}}break;case 3:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;case 4:this.item.status=this.XMLReq.status||this.item.status||0,this.item.statusText=String(this.item.status),this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-(this.item.startTime||this.item.endTime),this.item.response=this.XMLReq.response,this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;default:this.item.status=this.XMLReq.status,this.item.statusText="Unknown"}},t}(),Hn=function(){function t(){}return t.create=function(t){return new Proxy(XMLHttpRequest,{construct:function(e){var n=new e;return new Proxy(n,new On(n,t))}})},t}();function Yn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hn.origXMLHttpRequest=XMLHttpRequest;var Nn=function(){function t(t,e,n){this.resp=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.resp=t,this.item=e,this.onUpdateCallback=n,this.mockReader()}var n=t.prototype;return n.set=function(t,e,n){return Reflect.set(t,e,n)},n.get=function(t,e){var n=this,r=Reflect.get(t,e);switch(e){case"arrayBuffer":case"blob":case"formData":case"json":case"text":return function(){return n.item.responseType=e.toLowerCase(),r.apply(t).then((function(t){return n.item.response=Pn(n.item.responseType,t),n.onUpdateCallback(n.item),t}))}}return"function"==typeof r?r.bind(t):r},n.mockReader=function(){var t,n=this;if(this.resp.body&&"function"==typeof this.resp.body.getReader){var r=this.resp.body.getReader;this.resp.body.getReader=function(){var i=r.apply(n.resp.body);if(4===n.item.readyState)return i;var o=i.read,a=i.cancel;return n.item.responseType="arraybuffer",i.read=function(){return o.apply(i).then((function(r){if(t){var i=new Uint8Array(t.length+r.value.length);i.set(t),i.set(r.value,t.length),t=i}else t=new Uint8Array(r.value);return n.item.endTime=Date.now(),n.item.costTime=n.item.endTime-(n.item.startTime||n.item.endTime),n.item.readyState=r.done?4:3,n.item.statusText=r.done?String(n.item.status):"Loading",n.item.responseSize=t.length,n.item.responseSizeText=e.KL(n.item.responseSize),r.done&&(n.item.response=Pn(n.item.responseType,t)),n.onUpdateCallback(n.item),r}))},i.cancel=function(){n.item.cancelState=2,n.item.statusText="Cancel",n.item.endTime=Date.now(),n.item.costTime=n.item.endTime-(n.item.startTime||n.item.endTime),n.item.response=Pn(n.item.responseType,t),n.onUpdateCallback(n.item);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return a.apply(i,r)},i}}},t}(),jn=function(){function t(t){this.onUpdateCallback=void 0,this.onUpdateCallback=t}var n=t.prototype;return n.apply=function(t,e,n){var r=this,i=n[0],o=n[1],a=new Rn;return this.beforeFetch(a,i,o),t.apply(window,n).then(this.afterFetch(a)).catch((function(t){throw a.endTime=Date.now(),a.costTime=a.endTime-(a.startTime||a.endTime),r.onUpdateCallback(a),t}))},n.beforeFetch=function(t,n,r){var i,o="GET",a=null;if(e.HD(n)?(o=(null==r?void 0:r.method)||"GET",i=kn(n),a=(null==r?void 0:r.headers)||null):(o=n.method||"GET",i=kn(n.url),a=n.headers),t.method=o,t.requestType="fetch",t.requestHeader=a,t.url=i.toString(),t.name=(i.pathname.split("/").pop()||"")+i.search,t.status=0,t.statusText="Pending",t.readyState=1,!t.startTime){t.startTime=Date.now();var s=e._3(t.startTime);t.startTimeText=s.year+"-"+s.month+"-"+s.day+" "+s.hour+":"+s.minute+":"+s.second+"."+s.millisecond}if("[object Headers]"===Object.prototype.toString.call(a)){t.requestHeader={};for(var l,c=Yn(a);!(l=c()).done;){var u=l.value,A=u[0],h=u[1];t.requestHeader[A]=h}}else t.requestHeader=a;if(i.search&&i.searchParams){t.getData={};for(var d,p=Yn(i.searchParams);!(d=p()).done;){var f=d.value,m=f[0],g=f[1];t.getData[m]=g}}null!=r&&r.body&&(t.postData=Fn(r.body)),this.onUpdateCallback(t)},n.afterFetch=function(t){var n=this;return function(r){t.endTime=Date.now(),t.costTime=t.endTime-(t.startTime||t.endTime),t.status=r.status,t.statusText=String(r.status);var i=!1;t.header={};for(var o,a=Yn(r.headers);!(o=a()).done;){var s=o.value,l=s[0],c=s[1];t.header[l]=c,i=c.toLowerCase().indexOf("chunked")>-1||i}return i?t.readyState=3:(t.readyState=4,n.handleResponseBody(r.clone(),t).then((function(r){t.responseSize="string"==typeof r?r.length:r.byteLength,t.responseSizeText=e.KL(t.responseSize),t.response=Pn(t.responseType,r),n.onUpdateCallback(t)}))),n.onUpdateCallback(t),new Proxy(r,new Nn(r,t,n.onUpdateCallback))}},n.handleResponseBody=function(t,e){var n=t.headers.get("content-type");return n&&n.includes("application/json")?(e.responseType="json",t.text()):n&&(n.includes("text/html")||n.includes("text/plain"))?(e.responseType="text",t.text()):(e.responseType="arraybuffer",t.arrayBuffer())},t}(),Wn=function(){function t(){}return t.create=function(t){return new Proxy(fetch,new jn(t))},t}();function Vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Wn.origFetch=fetch;var zn=function(t){return t instanceof Blob?t.type:t instanceof FormData?"multipart/form-data":t instanceof URLSearchParams?"application/x-www-form-urlencoded;charset=UTF-8":"text/plain;charset=UTF-8"},Gn=function(){function t(t){this.onUpdateCallback=void 0,this.onUpdateCallback=t}return t.prototype.apply=function(t,e,n){var r=n[0],i=n[1],o=new Rn,a=kn(r);if(o.method="POST",o.url=r,o.name=(a.pathname.split("/").pop()||"")+a.search,o.requestType="ping",o.requestHeader={"Content-Type":zn(i)},o.status=0,o.statusText="Pending",a.search&&a.searchParams){o.getData={};for(var s,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a.searchParams);!(s=l()).done;){var c=s.value,u=c[0],A=c[1];o.getData[u]=A}}o.postData=Fn(i),o.startTime||(o.startTime=Date.now()),this.onUpdateCallback(o);var h=t.apply(e,n);return h?(o.endTime=Date.now(),o.costTime=o.endTime-(o.startTime||o.endTime),o.status=0,o.statusText="Sent",o.readyState=4):(o.status=500,o.statusText="Unknown"),this.onUpdateCallback(o),h},t}(),Kn=function(){function t(){}return t.create=function(t){return new Proxy(navigator.sendBeacon,new Gn(t))},t}();Kn.origSendBeacon=navigator.sendBeacon;var Zn=(0,Bn.fZ)({}),Xn=function(t){function e(){var e;return(e=t.call(this)||this).maxNetworkNumber=1e3,e.ignoreUrlRegExp=void 0,e.itemCounter=0,e.mockXHR(),e.mockFetch(),e.mockSendBeacon(),e}(0,o.Z)(e,t);var n=e.prototype;return n.unMock=function(){window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=Hn.origXMLHttpRequest),window.hasOwnProperty("fetch")&&(window.fetch=Wn.origFetch),window.navigator.sendBeacon&&(window.navigator.sendBeacon=Kn.origSendBeacon)},n.clearLog=function(){Zn.set({})},n.updateRequest=function(t,e){var n,r=e.url;if(!r||null==(n=this.ignoreUrlRegExp)||!n.test(r)){var i=(0,Bn.U2)(Zn),o=!!i[t];if(o){var a=i[t];for(var s in e)a[s]=e[s];e=a}Zn.update((function(n){return n[t]=e,n})),o||(F.x.updateTime(),this.limitListLength())}},n.mockXHR=function(){var t=this;window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=Hn.create((function(e){t.updateRequest(e.id,e)})))},n.mockFetch=function(){var t=this;window.hasOwnProperty("fetch")&&(window.fetch=Wn.create((function(e){t.updateRequest(e.id,e)})))},n.mockSendBeacon=function(){var t,e,n=this;null!=(t=window)&&null!=(e=t.navigator)&&e.sendBeacon&&(window.navigator.sendBeacon=Kn.create((function(t){n.updateRequest(t.id,t)})))},n.limitListLength=function(){var t=this;if(this.itemCounter++,this.itemCounter%10==0){this.itemCounter=0;var e=(0,Bn.U2)(Zn),n=Object.keys(e);n.length>this.maxNetworkNumber-10&&Zn.update((function(e){for(var r=n.splice(0,n.length-t.maxNetworkNumber+10),i=0;i<r.length;i++)e[r[i]]=void 0,delete e[r[i]];return e}))}},e}(Sn.N),qn=__nested_webpack_require_131847__(8747),Jn={};qn.Z&&qn.Z.locals&&(Jn.locals=qn.Z.locals);var $n,tr=0,er={};er.styleTagTransform=v(),er.setAttributes=f(),er.insert=d().bind(null,"head"),er.domAPI=A(),er.insertStyleElement=g(),Jn.use=function(t){return er.options=t||{},tr++||($n=c()(qn.Z,er)),Jn},Jn.unuse=function(){tr>0&&! --tr&&($n(),$n=null)};var nr=Jn;function rr(t,e,n){var r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function ir(t,e,n){var r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function or(t,e,n){var r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function ar(t,e,n){var r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function sr(t){var e,n,r;return{c:function(){e=(0,a.fLW)("("),n=(0,a.fLW)(t[0]),r=(0,a.fLW)(")")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.$Tr)(t,n,i),(0,a.$Tr)(t,r,i)},p:function(t,e){1&e&&(0,a.rTO)(n,t[0])},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(n),t&&(0,a.ogt)(r)}}}function lr(t){var e,n,r,i,o,s,l=t[0]>0&&sr(t);return{c:function(){e=(0,a.bGB)("dl"),n=(0,a.bGB)("dd"),r=(0,a.fLW)("Name "),l&&l.c(),(i=(0,a.bGB)("dd")).textContent="Method",(o=(0,a.bGB)("dd")).textContent="Status",(s=(0,a.bGB)("dd")).textContent="Time",(0,a.Ljt)(n,"class","vc-table-col vc-table-col-4"),(0,a.Ljt)(i,"class","vc-table-col"),(0,a.Ljt)(o,"class","vc-table-col"),(0,a.Ljt)(s,"class","vc-table-col"),(0,a.Ljt)(e,"class","vc-table-row")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,r),l&&l.m(n,null),(0,a.R3I)(e,i),(0,a.R3I)(e,o),(0,a.R3I)(e,s)},p:function(t,e){t[0]>0?l?l.p(t,e):((l=sr(t)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(t){t&&(0,a.ogt)(e),l&&l.d()}}}function cr(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"slot","empty"),(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function ur(t){var e,n,r,i,o,s,l,c;s=new ht({props:{content:t[10].requestHeader}});for(var u=Object.entries(t[10].requestHeader),A=[],h=0;h<u.length;h+=1)A[h]=Ar(ar(t,u,h));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),r=(0,a.bGB)("dt"),i=(0,a.fLW)("Request Headers\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<A.length;t+=1)A[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,u){(0,a.$Tr)(t,e,u),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(r,i),(0,a.R3I)(r,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var h=0;h<A.length;h+=1)A[h].m(e,null);c=!0},p:function(t,n){var r={};if(1024&n&&(r.content=t[10].requestHeader),s.$set(r),1040&n){var i;for(u=Object.entries(t[10].requestHeader),i=0;i<u.length;i+=1){var o=ar(t,u,i);A[i]?A[i].p(o,n):(A[i]=Ar(o),A[i].c(),A[i].m(e,null))}for(;i<A.length;i+=1)A[i].d(1);A.length=u.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(A,t)}}}function Ar(t){var e,n,r,i,o,s,l,c=t[11]+"",u=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),r=(0,a.fLW)(c),i=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(u),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(e,i),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(r,c),1024&e&&u!==(u=t[4](t[12])+"")&&(0,a.rTO)(s,u)},d:function(t){t&&(0,a.ogt)(e)}}}function hr(t){var e,n,r,i,o,s,l,c;s=new ht({props:{content:t[10].getData}});for(var u=Object.entries(t[10].getData),A=[],h=0;h<u.length;h+=1)A[h]=dr(or(t,u,h));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),r=(0,a.bGB)("dt"),i=(0,a.fLW)("Query String Parameters\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<A.length;t+=1)A[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,u){(0,a.$Tr)(t,e,u),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(r,i),(0,a.R3I)(r,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var h=0;h<A.length;h+=1)A[h].m(e,null);c=!0},p:function(t,n){var r={};if(1024&n&&(r.content=t[10].getData),s.$set(r),1040&n){var i;for(u=Object.entries(t[10].getData),i=0;i<u.length;i+=1){var o=or(t,u,i);A[i]?A[i].p(o,n):(A[i]=dr(o),A[i].c(),A[i].m(e,null))}for(;i<A.length;i+=1)A[i].d(1);A.length=u.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(A,t)}}}function dr(t){var e,n,r,i,o,s,l,c=t[11]+"",u=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),r=(0,a.fLW)(c),i=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(u),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(e,i),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(r,c),1024&e&&u!==(u=t[4](t[12])+"")&&(0,a.rTO)(s,u)},d:function(t){t&&(0,a.ogt)(e)}}}function pr(t){var e,n,r,i,o,s,l,c;function u(t,e){return"string"==typeof t[10].postData?mr:fr}s=new ht({props:{content:t[10].postData}});var A=u(t),h=A(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),r=(0,a.bGB)("dt"),i=(0,a.fLW)("Request Payload\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)(),h.c(),(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,u){(0,a.$Tr)(t,e,u),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(r,i),(0,a.R3I)(r,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l),h.m(e,null),c=!0},p:function(t,n){var r={};1024&n&&(r.content=t[10].postData),s.$set(r),A===(A=u(t))&&h?h.p(t,n):(h.d(1),(h=A(t))&&(h.c(),h.m(e,null)))},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),h.d()}}}function fr(t){for(var e,n=Object.entries(t[10].postData),r=[],i=0;i<n.length;i+=1)r[i]=gr(ir(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,i){if(1040&i){var o;for(n=Object.entries(t[10].postData),o=0;o<n.length;o+=1){var a=ir(t,n,o);r[o]?r[o].p(a,i):(r[o]=gr(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){(0,a.RMB)(r,t),t&&(0,a.ogt)(e)}}}function mr(t){var e,n,r,i=t[10].postData+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("pre"),r=(0,a.fLW)(i),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-value vc-max-height-line"),(0,a.Ljt)(n,"data-scrollable","1"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),(0,a.R3I)(n,r)},p:function(t,e){1024&e&&i!==(i=t[10].postData+"")&&(0,a.rTO)(r,i)},d:function(t){t&&(0,a.ogt)(e)}}}function gr(t){var e,n,r,i,o,s,l,c=t[11]+"",u=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),r=(0,a.fLW)(c),i=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(u),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(o,"data-scrollable","1"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(e,i),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(r,c),1024&e&&u!==(u=t[4](t[12])+"")&&(0,a.rTO)(s,u)},d:function(t){t&&(0,a.ogt)(e)}}}function yr(t){var e,n,r,i,o,s,l,c;s=new ht({props:{content:t[10].header}});for(var u=Object.entries(t[10].header),A=[],h=0;h<u.length;h+=1)A[h]=vr(rr(t,u,h));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),r=(0,a.bGB)("dt"),i=(0,a.fLW)("Response Headers\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<A.length;t+=1)A[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,u){(0,a.$Tr)(t,e,u),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(r,i),(0,a.R3I)(r,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var h=0;h<A.length;h+=1)A[h].m(e,null);c=!0},p:function(t,n){var r={};if(1024&n&&(r.content=t[10].header),s.$set(r),1040&n){var i;for(u=Object.entries(t[10].header),i=0;i<u.length;i+=1){var o=rr(t,u,i);A[i]?A[i].p(o,n):(A[i]=vr(o),A[i].c(),A[i].m(e,null))}for(;i<A.length;i+=1)A[i].d(1);A.length=u.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(A,t)}}}function vr(t){var e,n,r,i,o,s,l,c=t[11]+"",u=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),r=(0,a.fLW)(c),i=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(u),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(e,i),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(r,c),1024&e&&u!==(u=t[4](t[12])+"")&&(0,a.rTO)(s,u)},d:function(t){t&&(0,a.ogt)(e)}}}function _r(t){var e,n,r,i,o,s=t[10].responseSizeText+"";return{c:function(){e=(0,a.bGB)("div"),(n=(0,a.bGB)("div")).textContent="Size",r=(0,a.DhX)(),i=(0,a.bGB)("div"),o=(0,a.fLW)(s),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.R3I)(e,n),(0,a.R3I)(e,r),(0,a.R3I)(e,i),(0,a.R3I)(i,o)},p:function(t,e){1024&e&&s!==(s=t[10].responseSizeText+"")&&(0,a.rTO)(o,s)},d:function(t){t&&(0,a.ogt)(e)}}}function wr(t){var e,n,r,i,o,s,l,c,u,A,h,d,p,f,m,g,y,v,_,w,b,x,M,L,C,E,B,S,T,D,I,P,F,k,R,U,O,H,Y,Q,N,j,W,V,z,G,K,Z,X,q,J,$,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,At,dt,pt,ft,mt,gt=t[10].name+"",yt=t[10].method+"",vt=t[10].statusText+"",_t=t[10].costTime+"",wt=t[10].url+"",bt=t[10].method+"",xt=t[10].requestType+"",Mt=t[10].status+"",Lt=t[10].startTimeText+"",Ct=(t[10].response||"")+"";function Et(){return t[7](t[10])}v=new ht({props:{handler:t[3],content:t[10]}});var Bt=null!==t[10].requestHeader&&ur(t),St=null!==t[10].getData&&hr(t),Tt=null!==t[10].postData&&pr(t),Dt=null!==t[10].header&&yr(t);at=new ht({props:{content:t[10].response}});var It=t[10].responseSize>0&&_r(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),r=(0,a.bGB)("dd"),i=(0,a.fLW)(gt),o=(0,a.bGB)("dd"),s=(0,a.fLW)(yt),l=(0,a.bGB)("dd"),c=(0,a.fLW)(vt),u=(0,a.bGB)("dd"),A=(0,a.fLW)(_t),h=(0,a.DhX)(),d=(0,a.bGB)("div"),p=(0,a.bGB)("div"),f=(0,a.bGB)("dl"),m=(0,a.bGB)("dt"),g=(0,a.fLW)("General\n                "),y=(0,a.bGB)("i"),(0,a.YCL)(v.$$.fragment),_=(0,a.DhX)(),w=(0,a.bGB)("div"),(b=(0,a.bGB)("div")).textContent="URL",x=(0,a.DhX)(),M=(0,a.bGB)("div"),L=(0,a.fLW)(wt),C=(0,a.DhX)(),E=(0,a.bGB)("div"),(B=(0,a.bGB)("div")).textContent="Method",S=(0,a.DhX)(),T=(0,a.bGB)("div"),D=(0,a.fLW)(bt),I=(0,a.DhX)(),P=(0,a.bGB)("div"),(F=(0,a.bGB)("div")).textContent="Request Type",k=(0,a.DhX)(),R=(0,a.bGB)("div"),U=(0,a.fLW)(xt),O=(0,a.DhX)(),H=(0,a.bGB)("div"),(Y=(0,a.bGB)("div")).textContent="HTTP Status",Q=(0,a.DhX)(),N=(0,a.bGB)("div"),j=(0,a.fLW)(Mt),W=(0,a.DhX)(),V=(0,a.bGB)("div"),(z=(0,a.bGB)("div")).textContent="Start Time",G=(0,a.DhX)(),K=(0,a.bGB)("div"),Z=(0,a.fLW)(Lt),X=(0,a.DhX)(),Bt&&Bt.c(),q=(0,a.DhX)(),St&&St.c(),J=(0,a.DhX)(),Tt&&Tt.c(),$=(0,a.DhX)(),Dt&&Dt.c(),tt=(0,a.DhX)(),et=(0,a.bGB)("div"),nt=(0,a.bGB)("dl"),rt=(0,a.bGB)("dt"),it=(0,a.fLW)("Response\n                "),ot=(0,a.bGB)("i"),(0,a.YCL)(at.$$.fragment),st=(0,a.DhX)(),It&&It.c(),lt=(0,a.DhX)(),ct=(0,a.bGB)("div"),ut=(0,a.bGB)("pre"),At=(0,a.fLW)(Ct),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-4"),(0,a.Ljt)(o,"class","vc-table-col"),(0,a.Ljt)(l,"class","vc-table-col"),(0,a.Ljt)(u,"class","vc-table-col"),(0,a.Ljt)(n,"class","vc-table-row vc-group-preview"),(0,a.VHj)(n,"vc-table-row-error",t[10].status>=400),(0,a.Ljt)(y,"class","vc-table-row-icon"),(0,a.Ljt)(m,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(f,"class","vc-table-row vc-left-border"),(0,a.Ljt)(b,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(M,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(w,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(B,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(T,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(E,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(F,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(R,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(P,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(Y,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(N,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(H,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(z,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(K,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(V,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(ot,"class","vc-table-row-icon"),(0,a.Ljt)(rt,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(nt,"class","vc-table-row vc-left-border"),(0,a.Ljt)(ut,"class","vc-table-col vc-max-height vc-min-height"),(0,a.Ljt)(ut,"data-scrollable","1"),(0,a.Ljt)(ct,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(d,"class","vc-group-detail"),(0,a.Ljt)(e,"slot","item"),(0,a.Ljt)(e,"class","vc-group"),(0,a.Ljt)(e,"id",dt=t[10].id),(0,a.VHj)(e,"vc-actived",t[10].actived)},m:function(t,ht){(0,a.$Tr)(t,e,ht),(0,a.R3I)(e,n),(0,a.R3I)(n,r),(0,a.R3I)(r,i),(0,a.R3I)(n,o),(0,a.R3I)(o,s),(0,a.R3I)(n,l),(0,a.R3I)(l,c),(0,a.R3I)(n,u),(0,a.R3I)(u,A),(0,a.R3I)(e,h),(0,a.R3I)(e,d),(0,a.R3I)(d,p),(0,a.R3I)(p,f),(0,a.R3I)(f,m),(0,a.R3I)(m,g),(0,a.R3I)(m,y),(0,a.yef)(v,y,null),(0,a.R3I)(p,_),(0,a.R3I)(p,w),(0,a.R3I)(w,b),(0,a.R3I)(w,x),(0,a.R3I)(w,M),(0,a.R3I)(M,L),(0,a.R3I)(p,C),(0,a.R3I)(p,E),(0,a.R3I)(E,B),(0,a.R3I)(E,S),(0,a.R3I)(E,T),(0,a.R3I)(T,D),(0,a.R3I)(p,I),(0,a.R3I)(p,P),(0,a.R3I)(P,F),(0,a.R3I)(P,k),(0,a.R3I)(P,R),(0,a.R3I)(R,U),(0,a.R3I)(p,O),(0,a.R3I)(p,H),(0,a.R3I)(H,Y),(0,a.R3I)(H,Q),(0,a.R3I)(H,N),(0,a.R3I)(N,j),(0,a.R3I)(p,W),(0,a.R3I)(p,V),(0,a.R3I)(V,z),(0,a.R3I)(V,G),(0,a.R3I)(V,K),(0,a.R3I)(K,Z),(0,a.R3I)(d,X),Bt&&Bt.m(d,null),(0,a.R3I)(d,q),St&&St.m(d,null),(0,a.R3I)(d,J),Tt&&Tt.m(d,null),(0,a.R3I)(d,$),Dt&&Dt.m(d,null),(0,a.R3I)(d,tt),(0,a.R3I)(d,et),(0,a.R3I)(et,nt),(0,a.R3I)(nt,rt),(0,a.R3I)(rt,it),(0,a.R3I)(rt,ot),(0,a.yef)(at,ot,null),(0,a.R3I)(et,st),It&&It.m(et,null),(0,a.R3I)(et,lt),(0,a.R3I)(et,ct),(0,a.R3I)(ct,ut),(0,a.R3I)(ut,At),pt=!0,ft||(mt=(0,a.oLt)(n,"click",Et),ft=!0)},p:function(r,o){t=r,(!pt||1024&o)&&gt!==(gt=t[10].name+"")&&(0,a.rTO)(i,gt),(!pt||1024&o)&&yt!==(yt=t[10].method+"")&&(0,a.rTO)(s,yt),(!pt||1024&o)&&vt!==(vt=t[10].statusText+"")&&(0,a.rTO)(c,vt),(!pt||1024&o)&&_t!==(_t=t[10].costTime+"")&&(0,a.rTO)(A,_t),1024&o&&(0,a.VHj)(n,"vc-table-row-error",t[10].status>=400);var l={};1024&o&&(l.content=t[10]),v.$set(l),(!pt||1024&o)&&wt!==(wt=t[10].url+"")&&(0,a.rTO)(L,wt),(!pt||1024&o)&&bt!==(bt=t[10].method+"")&&(0,a.rTO)(D,bt),(!pt||1024&o)&&xt!==(xt=t[10].requestType+"")&&(0,a.rTO)(U,xt),(!pt||1024&o)&&Mt!==(Mt=t[10].status+"")&&(0,a.rTO)(j,Mt),(!pt||1024&o)&&Lt!==(Lt=t[10].startTimeText+"")&&(0,a.rTO)(Z,Lt),null!==t[10].requestHeader?Bt?(Bt.p(t,o),1024&o&&(0,a.Ui)(Bt,1)):((Bt=ur(t)).c(),(0,a.Ui)(Bt,1),Bt.m(d,q)):Bt&&((0,a.dvw)(),(0,a.etI)(Bt,1,1,(function(){Bt=null})),(0,a.gbL)()),null!==t[10].getData?St?(St.p(t,o),1024&o&&(0,a.Ui)(St,1)):((St=hr(t)).c(),(0,a.Ui)(St,1),St.m(d,J)):St&&((0,a.dvw)(),(0,a.etI)(St,1,1,(function(){St=null})),(0,a.gbL)()),null!==t[10].postData?Tt?(Tt.p(t,o),1024&o&&(0,a.Ui)(Tt,1)):((Tt=pr(t)).c(),(0,a.Ui)(Tt,1),Tt.m(d,$)):Tt&&((0,a.dvw)(),(0,a.etI)(Tt,1,1,(function(){Tt=null})),(0,a.gbL)()),null!==t[10].header?Dt?(Dt.p(t,o),1024&o&&(0,a.Ui)(Dt,1)):((Dt=yr(t)).c(),(0,a.Ui)(Dt,1),Dt.m(d,tt)):Dt&&((0,a.dvw)(),(0,a.etI)(Dt,1,1,(function(){Dt=null})),(0,a.gbL)());var u={};1024&o&&(u.content=t[10].response),at.$set(u),t[10].responseSize>0?It?It.p(t,o):((It=_r(t)).c(),It.m(et,lt)):It&&(It.d(1),It=null),(!pt||1024&o)&&Ct!==(Ct=(t[10].response||"")+"")&&(0,a.rTO)(At,Ct),(!pt||1024&o&&dt!==(dt=t[10].id))&&(0,a.Ljt)(e,"id",dt),1024&o&&(0,a.VHj)(e,"vc-actived",t[10].actived)},i:function(t){pt||((0,a.Ui)(v.$$.fragment,t),(0,a.Ui)(Bt),(0,a.Ui)(St),(0,a.Ui)(Tt),(0,a.Ui)(Dt),(0,a.Ui)(at.$$.fragment,t),pt=!0)},o:function(t){(0,a.etI)(v.$$.fragment,t),(0,a.etI)(Bt),(0,a.etI)(St),(0,a.etI)(Tt),(0,a.etI)(Dt),(0,a.etI)(at.$$.fragment,t),pt=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(v),Bt&&Bt.d(),St&&St.d(),Tt&&Tt.d(),Dt&&Dt.d(),(0,a.vpE)(at),It&&It.d(),ft=!1,mt()}}}function br(t){var e,n,r,i;return r=new dn({props:{items:t[1],itemKey:"id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{item:[wr,function(t){return{10:t.item}},function(t){return t.item?1024:0}],empty:[cr],header:[lr]},$$scope:{ctx:t}}}),{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.YCL)(r.$$.fragment),(0,a.Ljt)(n,"class","vc-plugin-content"),(0,a.Ljt)(e,"class","vc-table")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.yef)(r,n,null),i=!0},p:function(t,e){var n=e[0],i={};2&n&&(i.items=t[1]),2098177&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i:function(t){i||((0,a.Ui)(r.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(r.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(r)}}}function xr(t,n,r){var i;(0,a.FIv)(t,Zn,(function(t){return r(6,i=t)}));var o=0,l=function(t){r(0,o=Object.keys(t).length)},c=Zn.subscribe(l);l(i);var u=[],A=function(t){(0,a.fxP)(Zn,i[t].actived=!i[t].actived,i)};return(0,s.H3)((function(){nr.use()})),(0,s.ev)((function(){c(),nr.unuse()})),t.$$.update=function(){64&t.$$.dirty&&r(1,u=Object.values(i))},[o,u,A,function(t){var n="curl -X "+t.method;return"string"==typeof t.postData?n+=" -d '"+t.postData+"'":"object"==typeof t.postData&&null!==t.postData&&(n+=" -d '"+e.hZ(t.postData)+"'"),n+" '"+t.url+"'"},function(t){return e.Kn(t)||e.kJ(t)?e.hZ(t,{maxDepth:10,keyMaxLen:1e4,pretty:!0}):t},{fixedHeight:!0},i,function(t){return A(t.id)}]}var Mr=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,xr,br,a.N8,{options:5}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"options",get:function(){return this.$$.ctx[5]}}]),n}(a.f_C),Lr=Mr,Cr=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).model=Xn.getSingleton(Xn,"VConsoleNetworkModel"),e}(0,o.Z)(e,t);var n=e.prototype;return n.add=function(t){var e=new Un(new Rn);for(var n in t)e[n]=t[n];return e.startTime=e.startTime||Date.now(),e.requestType=e.requestType||"custom",this.model.updateRequest(e.id,e),e},n.update=function(t,e){this.model.updateRequest(t,e)},n.clear=function(){this.model.clearLog()},e}(xn),Er=function(t){function e(e,n,r){var i;return void 0===r&&(r={}),(i=t.call(this,e,n,Lr,r)||this).model=Xn.getSingleton(Xn,"VConsoleNetworkModel"),i.exporter=void 0,i.exporter=new Cr(e),i}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){t.prototype.onReady.call(this),this.onUpdateOption()},n.onAddTool=function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(t){e.model.clearLog()}}])},n.onRemove=function(){t.prototype.onRemove.call(this),this.model&&this.model.unMock()},n.onUpdateOption=function(){var t,e,n;(null==(t=this.vConsole.option.network)?void 0:t.maxNetworkNumber)!==this.model.maxNetworkNumber&&(this.model.maxNetworkNumber=Number(null==(n=this.vConsole.option.network)?void 0:n.maxNetworkNumber)||1e3),null!=(e=this.vConsole.option.network)&&e.ignoreUrlRegExp&&(this.model.ignoreUrlRegExp=this.vConsole.option.network.ignoreUrlRegExp)},e}(ot),Br=__nested_webpack_require_131847__(8679),Sr=__nested_webpack_require_131847__.n(Br),Tr=(0,Bn.fZ)(),Dr=(0,Bn.fZ)(),Ir=__nested_webpack_require_131847__(5670),Pr={};Ir.Z&&Ir.Z.locals&&(Pr.locals=Ir.Z.locals);var Fr,kr=0,Rr={};Rr.styleTagTransform=v(),Rr.setAttributes=f(),Rr.insert=d().bind(null,"head"),Rr.domAPI=A(),Rr.insertStyleElement=g(),Pr.use=function(t){return Rr.options=t||{},kr++||(Fr=c()(Ir.Z,Rr)),Pr},Pr.unuse=function(){kr>0&&! --kr&&(Fr(),Fr=null)};var Ur=Pr;function Or(t,e,n){var r=t.slice();return r[8]=e[n],r}function Hr(t,e,n){var r=t.slice();return r[11]=e[n],r}function Yr(t){var e,n,r,i=t[0].nodeType===Node.ELEMENT_NODE&&Qr(t),o=t[0].nodeType===Node.TEXT_NODE&&Jr(t);return{c:function(){e=(0,a.bGB)("div"),i&&i.c(),n=(0,a.DhX)(),o&&o.c(),(0,a.Ljt)(e,"class","vcelm-l"),(0,a.VHj)(e,"vc-actived",t[0]._isActived),(0,a.VHj)(e,"vc-toggle",t[0]._isExpand),(0,a.VHj)(e,"vcelm-noc",t[0]._isSingleLine)},m:function(t,s){(0,a.$Tr)(t,e,s),i&&i.m(e,null),(0,a.R3I)(e,n),o&&o.m(e,null),r=!0},p:function(t,r){t[0].nodeType===Node.ELEMENT_NODE?i?(i.p(t,r),1&r&&(0,a.Ui)(i,1)):((i=Qr(t)).c(),(0,a.Ui)(i,1),i.m(e,n)):i&&((0,a.dvw)(),(0,a.etI)(i,1,1,(function(){i=null})),(0,a.gbL)()),t[0].nodeType===Node.TEXT_NODE?o?o.p(t,r):((o=Jr(t)).c(),o.m(e,null)):o&&(o.d(1),o=null),1&r&&(0,a.VHj)(e,"vc-actived",t[0]._isActived),1&r&&(0,a.VHj)(e,"vc-toggle",t[0]._isExpand),1&r&&(0,a.VHj)(e,"vcelm-noc",t[0]._isSingleLine)},i:function(t){r||((0,a.Ui)(i),r=!0)},o:function(t){(0,a.etI)(i),r=!1},d:function(t){t&&(0,a.ogt)(e),i&&i.d(),o&&o.d()}}}function Qr(t){var e,n,r,i,o,s,l,c,u,A,h=t[0].nodeName+"",d=(t[0].className||t[0].attributes.length)&&Nr(t),p=t[0]._isNullEndTag&&zr(),f=t[0].childNodes.length>0&&Gr(t),m=!t[0]._isNullEndTag&&qr(t);return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)("<"),r=(0,a.fLW)(h),d&&d.c(),i=(0,a.cSb)(),p&&p.c(),o=(0,a.fLW)(">"),f&&f.c(),s=(0,a.cSb)(),m&&m.c(),l=(0,a.cSb)(),(0,a.Ljt)(e,"class","vcelm-node")},m:function(h,g){(0,a.$Tr)(h,e,g),(0,a.R3I)(e,n),(0,a.R3I)(e,r),d&&d.m(e,null),(0,a.R3I)(e,i),p&&p.m(e,null),(0,a.R3I)(e,o),f&&f.m(h,g),(0,a.$Tr)(h,s,g),m&&m.m(h,g),(0,a.$Tr)(h,l,g),c=!0,u||(A=(0,a.oLt)(e,"click",t[2]),u=!0)},p:function(t,n){(!c||1&n)&&h!==(h=t[0].nodeName+"")&&(0,a.rTO)(r,h),t[0].className||t[0].attributes.length?d?d.p(t,n):((d=Nr(t)).c(),d.m(e,i)):d&&(d.d(1),d=null),t[0]._isNullEndTag?p||((p=zr()).c(),p.m(e,o)):p&&(p.d(1),p=null),t[0].childNodes.length>0?f?(f.p(t,n),1&n&&(0,a.Ui)(f,1)):((f=Gr(t)).c(),(0,a.Ui)(f,1),f.m(s.parentNode,s)):f&&((0,a.dvw)(),(0,a.etI)(f,1,1,(function(){f=null})),(0,a.gbL)()),t[0]._isNullEndTag?m&&(m.d(1),m=null):m?m.p(t,n):((m=qr(t)).c(),m.m(l.parentNode,l))},i:function(t){c||((0,a.Ui)(f),c=!0)},o:function(t){(0,a.etI)(f),c=!1},d:function(t){t&&(0,a.ogt)(e),d&&d.d(),p&&p.d(),f&&f.d(t),t&&(0,a.ogt)(s),m&&m.d(t),t&&(0,a.ogt)(l),u=!1,A()}}}function Nr(t){for(var e,n=t[0].attributes,r=[],i=0;i<n.length;i+=1)r[i]=Vr(Hr(t,n,i));return{c:function(){e=(0,a.bGB)("i");for(var t=0;t<r.length;t+=1)r[t].c();(0,a.Ljt)(e,"class","vcelm-k")},m:function(t,n){(0,a.$Tr)(t,e,n);for(var i=0;i<r.length;i+=1)r[i].m(e,null)},p:function(t,i){if(1&i){var o;for(n=t[0].attributes,o=0;o<n.length;o+=1){var a=Hr(t,n,o);r[o]?r[o].p(a,i):(r[o]=Vr(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&(0,a.ogt)(e),(0,a.RMB)(r,t)}}}function jr(t){var e,n=t[11].name+"";return{c:function(){e=(0,a.fLW)(n)},m:function(t,n){(0,a.$Tr)(t,e,n)},p:function(t,r){1&r&&n!==(n=t[11].name+"")&&(0,a.rTO)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function Wr(t){var e,n,r,i,o,s=t[11].name+"",l=t[11].value+"";return{c:function(){e=(0,a.fLW)(s),n=(0,a.fLW)('="'),r=(0,a.bGB)("i"),i=(0,a.fLW)(l),o=(0,a.fLW)('"'),(0,a.Ljt)(r,"class","vcelm-v")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.$Tr)(t,n,s),(0,a.$Tr)(t,r,s),(0,a.R3I)(r,i),(0,a.$Tr)(t,o,s)},p:function(t,n){1&n&&s!==(s=t[11].name+"")&&(0,a.rTO)(e,s),1&n&&l!==(l=t[11].value+"")&&(0,a.rTO)(i,l)},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(n),t&&(0,a.ogt)(r),t&&(0,a.ogt)(o)}}}function Vr(t){var e,n;function r(t,e){return""!==t[11].value?Wr:jr}var i=r(t),o=i(t);return{c:function(){e=(0,a.fLW)("\n            "),o.c(),n=(0,a.cSb)()},m:function(t,r){(0,a.$Tr)(t,e,r),o.m(t,r),(0,a.$Tr)(t,n,r)},p:function(t,e){i===(i=r(t))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){t&&(0,a.ogt)(e),o.d(t),t&&(0,a.ogt)(n)}}}function zr(t){var e;return{c:function(){e=(0,a.fLW)("/")},m:function(t,n){(0,a.$Tr)(t,e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function Gr(t){var e,n,r,i,o=[Zr,Kr],s=[];function l(t,e){return t[0]._isExpand?1:0}return e=l(t),n=s[e]=o[e](t),{c:function(){n.c(),r=(0,a.cSb)()},m:function(t,n){s[e].m(t,n),(0,a.$Tr)(t,r,n),i=!0},p:function(t,i){var c=e;(e=l(t))===c?s[e].p(t,i):((0,a.dvw)(),(0,a.etI)(s[c],1,1,(function(){s[c]=null})),(0,a.gbL)(),(n=s[e])?n.p(t,i):(n=s[e]=o[e](t)).c(),(0,a.Ui)(n,1),n.m(r.parentNode,r))},i:function(t){i||((0,a.Ui)(n),i=!0)},o:function(t){(0,a.etI)(n),i=!1},d:function(t){s[e].d(t),t&&(0,a.ogt)(r)}}}function Kr(t){for(var e,n,r=t[0].childNodes,i=[],o=0;o<r.length;o+=1)i[o]=Xr(Or(t,r,o));var s=function(t){return(0,a.etI)(i[t],1,1,(function(){i[t]=null}))};return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,r){for(var o=0;o<i.length;o+=1)i[o].m(t,r);(0,a.$Tr)(t,e,r),n=!0},p:function(t,n){if(1&n){var o;for(r=t[0].childNodes,o=0;o<r.length;o+=1){var l=Or(t,r,o);i[o]?(i[o].p(l,n),(0,a.Ui)(i[o],1)):(i[o]=Xr(l),i[o].c(),(0,a.Ui)(i[o],1),i[o].m(e.parentNode,e))}for((0,a.dvw)(),o=r.length;o<i.length;o+=1)s(o);(0,a.gbL)()}},i:function(t){if(!n){for(var e=0;e<r.length;e+=1)(0,a.Ui)(i[e]);n=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)(0,a.etI)(i[e]);n=!1},d:function(t){(0,a.RMB)(i,t),t&&(0,a.ogt)(e)}}}function Zr(t){var e;return{c:function(){e=(0,a.fLW)("...")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,i:a.ZTd,o:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function Xr(t){var e,n,r;return(e=new ei({props:{node:t[8]}})).$on("toggleNode",t[4]),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)()},m:function(t,i){(0,a.yef)(e,t,i),(0,a.$Tr)(t,n,i),r=!0},p:function(t,n){var r={};1&n&&(r.node=t[8]),e.$set(r)},i:function(t){r||((0,a.Ui)(e.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),r=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n)}}}function qr(t){var e,n,r,i,o=t[0].nodeName+"";return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)("</"),r=(0,a.fLW)(o),i=(0,a.fLW)(">"),(0,a.Ljt)(e,"class","vcelm-node")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.R3I)(e,r),(0,a.R3I)(e,i)},p:function(t,e){1&e&&o!==(o=t[0].nodeName+"")&&(0,a.rTO)(r,o)},d:function(t){t&&(0,a.ogt)(e)}}}function Jr(t){var e,n,r=t[1](t[0].textContent)+"";return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)(r),(0,a.Ljt)(e,"class","vcelm-t vcelm-noc")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n)},p:function(t,e){1&e&&r!==(r=t[1](t[0].textContent)+"")&&(0,a.rTO)(n,r)},d:function(t){t&&(0,a.ogt)(e)}}}function $r(t){var e,n,r=t[0]&&Yr(t);return{c:function(){r&&r.c(),e=(0,a.cSb)()},m:function(t,i){r&&r.m(t,i),(0,a.$Tr)(t,e,i),n=!0},p:function(t,n){var i=n[0];t[0]?r?(r.p(t,i),1&i&&(0,a.Ui)(r,1)):((r=Yr(t)).c(),(0,a.Ui)(r,1),r.m(e.parentNode,e)):r&&((0,a.dvw)(),(0,a.etI)(r,1,1,(function(){r=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(r),n=!0)},o:function(t){(0,a.etI)(r),n=!1},d:function(t){r&&r.d(t),t&&(0,a.ogt)(e)}}}function ti(t,e,n){var r;(0,a.FIv)(t,Dr,(function(t){return n(3,r=t)}));var i=e.node,o=(0,s.x)(),l=["br","hr","img","input","link","meta"];return(0,s.H3)((function(){Ur.use()})),(0,s.ev)((function(){Ur.unuse()})),t.$$set=function(t){"node"in t&&n(0,i=t.node)},t.$$.update=function(){9&t.$$.dirty&&i&&(n(0,i._isActived=i===r,i),n(0,i._isNullEndTag=function(t){return l.indexOf(t.nodeName)>-1}(i),i),n(0,i._isSingleLine=0===i.childNodes.length||i._isNullEndTag,i))},[i,function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},function(){i._isNullEndTag||(n(0,i._isExpand=!i._isExpand,i),o("toggleNode",{node:i}))},r,function(e){a.cKT.call(this,t,e)}]}var ei=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,i.Z)(n),t,ti,$r,a.N8,{node:0}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"node",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({node:t}),(0,a.yl1)()}}]),n}(a.f_C),ni=ei;function ri(t){var e,n,r;return(n=new ni({props:{node:t[0]}})).$on("toggleNode",t[1]),{c:function(){e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),(0,a.Ljt)(e,"class","vc-plugin-content")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.yef)(n,e,null),r=!0},p:function(t,e){var r={};1&e[0]&&(r.node=t[0]),n.$set(r)},i:function(t){r||((0,a.Ui)(n.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(n.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(n)}}}function ii(t,e,n){var r;return(0,a.FIv)(t,Tr,(function(t){return n(0,r=t)})),[r,function(e){a.cKT.call(this,t,e)}]}var oi=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,i.Z)(n),e,ii,ri,a.N8,{}),n}return(0,o.Z)(e,t),e}(a.f_C),ai=oi,si=function(t){function e(e,n,r){var i;return void 0===r&&(r={}),(i=t.call(this,e,n,ai,r)||this).isInited=!1,i.observer=void 0,i.nodeMap=void 0,i}(0,o.Z)(e,t);var n=e.prototype;return n.onShow=function(){this.isInited||this._init()},n.onRemove=function(){t.prototype.onRemove.call(this),this.isInited&&(this.observer.disconnect(),this.isInited=!1,this.nodeMap=void 0,Tr.set(void 0))},n.onAddTool=function(t){var e=this;t([{name:"Expand",global:!1,onClick:function(t){e._expandActivedNode()}},{name:"Collapse",global:!1,onClick:function(t){e._collapseActivedNode()}}])},n._init=function(){var t=this;this.isInited=!0,this.nodeMap=new WeakMap;var e=this._generateVNode(document.documentElement);e._isExpand=!0,Dr.set(e),Tr.set(e),this.compInstance.$on("toggleNode",(function(t){Dr.set(t.detail.node)})),this.observer=new(Sr())((function(e){for(var n=0;n<e.length;n++){var r=e[n];t._isInVConsole(r.target)||t._handleMutation(r)}})),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},n._handleMutation=function(t){switch(t.type){case"childList":t.removedNodes.length>0&&this._onChildRemove(t),t.addedNodes.length>0&&this._onChildAdd(t);break;case"attributes":this._onAttributesChange(t);break;case"characterData":this._onCharacterDataChange(t)}},n._onChildRemove=function(t){var e=this.nodeMap.get(t.target);if(e){for(var n=0;n<t.removedNodes.length;n++){var r=this.nodeMap.get(t.removedNodes[n]);if(r){for(var i=0;i<e.childNodes.length;i++)if(e.childNodes[i]===r){e.childNodes.splice(i,1);break}this.nodeMap.delete(t.removedNodes[n])}}this._refreshStore()}},n._onChildAdd=function(t){var e=this.nodeMap.get(t.target);if(e){for(var n=0;n<t.addedNodes.length;n++){var r=t.addedNodes[n],i=this._generateVNode(r);if(i){var o=void 0,a=r;do{if(null===a.nextSibling)break;a.nodeType===Node.ELEMENT_NODE&&(o=this.nodeMap.get(a.nextSibling)||void 0),a=a.nextSibling}while(void 0===o);if(void 0===o)e.childNodes.push(i);else for(var s=0;s<e.childNodes.length;s++)if(e.childNodes[s]===o){e.childNodes.splice(s,0,i);break}}}this._refreshStore()}},n._onAttributesChange=function(t){this._updateVNodeAttributes(t.target),this._refreshStore()},n._onCharacterDataChange=function(t){var e=this.nodeMap.get(t.target);e&&(e.textContent=t.target.textContent,this._refreshStore())},n._generateVNode=function(t){if(!this._isIgnoredNode(t)){var e={nodeType:t.nodeType,nodeName:t.nodeName.toLowerCase(),textContent:"",id:"",className:"",attributes:[],childNodes:[]};if(this.nodeMap.set(t,e),e.nodeType!=t.TEXT_NODE&&e.nodeType!=t.DOCUMENT_TYPE_NODE||(e.textContent=t.textContent),t.childNodes.length>0){e.childNodes=[];for(var n=0;n<t.childNodes.length;n++){var r=this._generateVNode(t.childNodes[n]);r&&e.childNodes.push(r)}}return this._updateVNodeAttributes(t),e}},n._updateVNodeAttributes=function(t){var e=this.nodeMap.get(t);if(e&&t instanceof Element&&(e.id=t.id||"",e.className=t.className||"",t.hasAttributes&&t.hasAttributes())){e.attributes=[];for(var n=0;n<t.attributes.length;n++)e.attributes.push({name:t.attributes[n].name,value:t.attributes[n].value||""})}},n._expandActivedNode=function(){var t=(0,Bn.U2)(Dr);if(t._isExpand)for(var e=0;e<t.childNodes.length;e++)t.childNodes[e]._isExpand=!0;else t._isExpand=!0;this._refreshStore()},n._collapseActivedNode=function(){var t=(0,Bn.U2)(Dr);if(t._isExpand){for(var e=!1,n=0;n<t.childNodes.length;n++)t.childNodes[n]._isExpand&&(e=!0,t.childNodes[n]._isExpand=!1);e||(t._isExpand=!1),this._refreshStore()}},n._isIgnoredNode=function(t){if(t.nodeType===t.TEXT_NODE){if(""===t.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,""))return!0}else if(t.nodeType===t.COMMENT_NODE)return!0;return!1},n._isInVConsole=function(t){for(var e=t;void 0!==e;){if("__vconsole"==e.id)return!0;e=e.parentElement||void 0}return!1},n._refreshStore=function(){Tr.update((function(t){return t}))},e}(ot);function li(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function ci(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){li(o,r,i,a,s,"next",t)}function s(t){li(o,r,i,a,s,"throw",t)}a(void 0)}))}}var ui=__nested_webpack_require_131847__(8270);function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach((function(e){(0,ui.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var di=function(t){if(!t||0===t.length)return{};for(var e={},n=t.split(";"),r=0;r<n.length;r++){var i=n[r].indexOf("=");if(!(i<0)){var o=n[r].substring(0,i).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),a=n[r].substring(i+1,n[r].length);try{o=decodeURIComponent(o)}catch(t){}try{a=decodeURIComponent(a)}catch(t){}e[o]=a}}return e},pi=function(t,e,n){"undefined"!=typeof document&&void 0!==document.cookie&&(document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+function(t){void 0===t&&(t={});var e=t,n=e.path,r=e.domain,i=e.expires,o=e.secure,a=e.sameSite,s=["none","lax","strict"].indexOf((a||"").toLowerCase())>-1?a:null;return[null==n?"":";path="+n,null==r?"":";domain="+r,null==i?"":";expires="+i.toUTCString(),void 0===o||!1===o?"":";secure",null===s?"":";SameSite="+s].join("")}(n))},fi=function(){return"undefined"==typeof document||void 0===document.cookie?"":document.cookie},mi=function(){function e(){}var n=e.prototype;return n.key=function(t){return t<this.keys.length?this.keys[t]:null},n.setItem=function(t,e,n){pi(t,e,n)},n.getItem=function(t){var e=di(fi());return Object.prototype.hasOwnProperty.call(e,t)?e[t]:null},n.removeItem=function(t,e){for(var n,r,i=["","/"],o=(null==(n=location)||null==(r=n.hostname)?void 0:r.split("."))||[];o.length>1;)i.push(o.join(".")),o.shift();for(var a=0;a<i.length;a++)for(var s,l,c=(null==(s=location)||null==(l=s.pathname)?void 0:l.split("/"))||[],u="";c.length>0;){u+=("/"===u?"":"/")+c.shift();var A=hi(hi({},e),{},{path:u,domain:i[a],expires:new Date(0)});pi(t,"",A)}},n.clear=function(){for(var t=[].concat(this.keys),e=0;e<t.length;e++)this.removeItem(t[e])},(0,t.Z)(e,[{key:"length",get:function(){return this.keys.length}},{key:"keys",get:function(){var t=di(fi());return Object.keys(t).sort()}}]),e}(),gi=function(){function n(){this.keys=[],this.currentSize=0,this.limitSize=0}var r=n.prototype;return r.key=function(t){return t<this.keys.length?this.keys[t]:null},r.prepare=function(){var t=ci(we().mark((function t(){var n=this;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){(0,e.qt)("getStorageInfo",{success:function(e){n.keys=e?e.keys.sort():[],n.currentSize=e?e.currentSize:0,n.limitSize=e?e.limitSize:0,t(!0)},fail:function(){r(!1)}})})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.getItem=function(t){return new Promise((function(n,r){(0,e.qt)("getStorage",{key:t,success:function(t){var e=t.data;if("object"==typeof t.data)try{e=JSON.stringify(t.data)}catch(t){}n(e)},fail:function(t){r(t)}})}))},r.setItem=function(t,n){return new Promise((function(r,i){(0,e.qt)("setStorage",{key:t,data:n,success:function(t){r(t)},fail:function(t){i(t)}})}))},r.removeItem=function(t){return new Promise((function(n,r){(0,e.qt)("removeStorage",{key:t,success:function(t){n(t)},fail:function(t){r(t)}})}))},r.clear=function(){return new Promise((function(t,n){(0,e.qt)("clearStorage",{success:function(e){t(e)},fail:function(t){n(t)}})}))},(0,t.Z)(n,[{key:"length",get:function(){return this.keys.length}}]),n}(),yi={updateTime:(0,Bn.fZ)(0),activedName:(0,Bn.fZ)(null),defaultStorages:(0,Bn.fZ)(["cookies","localStorage","sessionStorage"])},vi=function(n){function r(){var t;return(t=n.call(this)||this).storage=new Map,yi.activedName.subscribe((function(t){var e=(0,Bn.U2)(yi.defaultStorages);e.length>0&&-1===e.indexOf(t)&&yi.activedName.set(e[0])})),yi.defaultStorages.subscribe((function(e){-1===e.indexOf((0,Bn.U2)(yi.activedName))&&yi.activedName.set(e[0]),t.updateEnabledStorages()})),t}(0,o.Z)(r,n);var i=r.prototype;return i.getItem=function(){var t=ci(we().mark((function t(e){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return","");case 2:return t.next=4,this.promisify(this.activedStorage.getItem(e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.setItem=function(){var t=ci(we().mark((function t(e,n){var r;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.setItem(e,n));case 4:return r=t.sent,this.refresh(),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),i.removeItem=function(){var t=ci(we().mark((function t(e){var n;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.removeItem(e));case 4:return n=t.sent,this.refresh(),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.clear=function(){var t=ci(we().mark((function t(){var e;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.clear());case 4:return e=t.sent,this.refresh(),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.refresh=function(){yi.updateTime.set(Date.now())},i.getEntries=function(){var t=ci(we().mark((function t(){var e,n,r,i,o;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.activedStorage){t.next=3;break}return t.abrupt("return",[]);case 3:if("function"!=typeof e.prepare){t.next=6;break}return t.next=6,e.prepare();case 6:n=[],r=0;case 8:if(!(r<e.length)){t.next=17;break}return i=e.key(r),t.next=12,this.getItem(i);case 12:o=t.sent,n.push([i,o]);case 14:r++,t.next=8;break;case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.updateEnabledStorages=function(){var t=(0,Bn.U2)(yi.defaultStorages);t.indexOf("cookies")>-1?void 0!==document.cookie&&this.storage.set("cookies",new mi):this.deleteStorage("cookies"),t.indexOf("localStorage")>-1?window.localStorage&&this.storage.set("localStorage",window.localStorage):this.deleteStorage("localStorage"),t.indexOf("sessionStorage")>-1?window.sessionStorage&&this.storage.set("sessionStorage",window.sessionStorage):this.deleteStorage("sessionStorage"),t.indexOf("wxStorage")>-1?(0,e.H_)()&&this.storage.set("wxStorage",new gi):this.deleteStorage("wxStorage")},i.promisify=function(t){return"string"==typeof t||null==t?Promise.resolve(t):t},i.deleteStorage=function(t){this.storage.has(t)&&this.storage.delete(t)},(0,t.Z)(r,[{key:"activedStorage",get:function(){return this.storage.get((0,Bn.U2)(yi.activedName))}}]),r}(Sn.N);function _i(t,e,n){var r=t.slice();return r[20]=e[n][0],r[21]=e[n][1],r[23]=n,r}function wi(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function bi(t){var e,n,r,i,o,s=t[20]+"",l=t[5](t[21])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(s),r=(0,a.DhX)(),i=(0,a.bGB)("div"),o=(0,a.fLW)(l),(0,a.Ljt)(e,"class","vc-table-col"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-2")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.R3I)(e,n),(0,a.$Tr)(t,r,s),(0,a.$Tr)(t,i,s),(0,a.R3I)(i,o)},p:function(t,e){1&e&&s!==(s=t[20]+"")&&(0,a.rTO)(n,s),1&e&&l!==(l=t[5](t[21])+"")&&(0,a.rTO)(o,l)},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(r),t&&(0,a.ogt)(i)}}}function xi(t){var e,n,r,i,o,s,l;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("textarea"),r=(0,a.DhX)(),i=(0,a.bGB)("div"),o=(0,a.bGB)("textarea"),(0,a.Ljt)(n,"class","vc-table-input"),(0,a.Ljt)(e,"class","vc-table-col"),(0,a.Ljt)(o,"class","vc-table-input"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-2")},m:function(c,u){(0,a.$Tr)(c,e,u),(0,a.R3I)(e,n),(0,a.BmG)(n,t[2]),(0,a.$Tr)(c,r,u),(0,a.$Tr)(c,i,u),(0,a.R3I)(i,o),(0,a.BmG)(o,t[3]),s||(l=[(0,a.oLt)(n,"input",t[11]),(0,a.oLt)(o,"input",t[12])],s=!0)},p:function(t,e){4&e&&(0,a.BmG)(n,t[2]),8&e&&(0,a.BmG)(o,t[3])},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(r),t&&(0,a.ogt)(i),s=!1,(0,a.j7q)(l)}}}function Mi(t){var e,n,r,i,o,s;return(e=new lt.Z({props:{name:"delete"}})).$on("click",(function(){return t[14](t[20])})),r=new ht({props:{content:[t[20],t[21]].join("=")}}),(o=new lt.Z({props:{name:"edit"}})).$on("click",(function(){return t[15](t[20],t[21],t[23])})),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)(),(0,a.YCL)(r.$$.fragment),i=(0,a.DhX)(),(0,a.YCL)(o.$$.fragment)},m:function(t,l){(0,a.yef)(e,t,l),(0,a.$Tr)(t,n,l),(0,a.yef)(r,t,l),(0,a.$Tr)(t,i,l),(0,a.yef)(o,t,l),s=!0},p:function(e,n){t=e;var i={};1&n&&(i.content=[t[20],t[21]].join("=")),r.$set(i)},i:function(t){s||((0,a.Ui)(e.$$.fragment,t),(0,a.Ui)(r.$$.fragment,t),(0,a.Ui)(o.$$.fragment,t),s=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),(0,a.etI)(r.$$.fragment,t),(0,a.etI)(o.$$.fragment,t),s=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n),(0,a.vpE)(r,t),t&&(0,a.ogt)(i),(0,a.vpE)(o,t)}}}function Li(t){var e,n,r,i;return(e=new lt.Z({props:{name:"cancel"}})).$on("click",t[9]),(r=new lt.Z({props:{name:"done"}})).$on("click",(function(){return t[13](t[20])})),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)(),(0,a.YCL)(r.$$.fragment)},m:function(t,o){(0,a.yef)(e,t,o),(0,a.$Tr)(t,n,o),(0,a.yef)(r,t,o),i=!0},p:function(e,n){t=e},i:function(t){i||((0,a.Ui)(e.$$.fragment,t),(0,a.Ui)(r.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),(0,a.etI)(r.$$.fragment,t),i=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n),(0,a.vpE)(r,t)}}}function Ci(t){var e,n,r,i,o,s,l;function c(t,e){return t[1]===t[23]?xi:bi}var u=c(t),A=u(t),h=[Li,Mi],d=[];function p(t,e){return t[1]===t[23]?0:1}return i=p(t),o=d[i]=h[i](t),{c:function(){e=(0,a.bGB)("div"),A.c(),n=(0,a.DhX)(),r=(0,a.bGB)("div"),o.c(),s=(0,a.DhX)(),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-1 vc-table-action"),(0,a.Ljt)(e,"class","vc-table-row")},m:function(t,o){(0,a.$Tr)(t,e,o),A.m(e,null),(0,a.R3I)(e,n),(0,a.R3I)(e,r),d[i].m(r,null),(0,a.R3I)(e,s),l=!0},p:function(t,s){u===(u=c(t))&&A?A.p(t,s):(A.d(1),(A=u(t))&&(A.c(),A.m(e,n)));var l=i;(i=p(t))===l?d[i].p(t,s):((0,a.dvw)(),(0,a.etI)(d[l],1,1,(function(){d[l]=null})),(0,a.gbL)(),(o=d[i])?o.p(t,s):(o=d[i]=h[i](t)).c(),(0,a.Ui)(o,1),o.m(r,null))},i:function(t){l||((0,a.Ui)(o),l=!0)},o:function(t){(0,a.etI)(o),l=!1},d:function(t){t&&(0,a.ogt)(e),A.d(),d[i].d()}}}function Ei(t){for(var e,n,r,i,o=t[0],s=[],l=0;l<o.length;l+=1)s[l]=Ci(_i(t,o,l));var c=function(t){return(0,a.etI)(s[t],1,1,(function(){s[t]=null}))},u=null;return o.length||(u=wi()),{c:function(){e=(0,a.bGB)("div"),(n=(0,a.bGB)("div")).innerHTML='<div class="vc-table-col">Key</div> \n    <div class="vc-table-col vc-table-col-2">Value</div> \n    <div class="vc-table-col vc-table-col-1 vc-table-action"></div>',r=(0,a.DhX)();for(var t=0;t<s.length;t+=1)s[t].c();u&&u.c(),(0,a.Ljt)(n,"class","vc-table-row"),(0,a.Ljt)(e,"class","vc-table")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.R3I)(e,r);for(var l=0;l<s.length;l+=1)s[l].m(e,null);u&&u.m(e,null),i=!0},p:function(t,n){var r=n[0];if(1007&r){var i;for(o=t[0],i=0;i<o.length;i+=1){var l=_i(t,o,i);s[i]?(s[i].p(l,r),(0,a.Ui)(s[i],1)):(s[i]=Ci(l),s[i].c(),(0,a.Ui)(s[i],1),s[i].m(e,null))}for((0,a.dvw)(),i=o.length;i<s.length;i+=1)c(i);(0,a.gbL)(),!o.length&&u?u.p(t,r):o.length?u&&(u.d(1),u=null):((u=wi()).c(),u.m(e,null))}},i:function(t){if(!i){for(var e=0;e<o.length;e+=1)(0,a.Ui)(s[e]);i=!0}},o:function(t){s=s.filter(Boolean);for(var e=0;e<s.length;e+=1)(0,a.etI)(s[e]);i=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.RMB)(s,t),u&&u.d()}}}function Bi(t,n,r){var i,o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},s=vi.getSingleton(vi,"VConsoleStorageModel"),l=yi.updateTime;(0,a.FIv)(t,l,(function(t){return r(10,i=t)}));var c=[],u=-1,A="",h="",d=function(){r(1,u=-1),r(2,A=""),r(3,h="")},p=function(t){return o(void 0,void 0,void 0,we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.removeItem(t);case 2:case"end":return e.stop()}}),e)})))},f=function(t){return o(void 0,void 0,void 0,we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A===t){e.next=3;break}return e.next=3,s.removeItem(t);case 3:s.setItem(A,h),d();case 5:case"end":return e.stop()}}),e)})))},m=function(t,e,n){return o(void 0,void 0,void 0,we().mark((function i(){return we().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r(2,A=t),r(3,h=e),r(1,u=n);case 3:case"end":return i.stop()}}),i)})))};return t.$$.update=function(){1024&t.$$.dirty&&i&&o(void 0,void 0,void 0,we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(),t.t0=r,t.next=4,s.getEntries();case 4:t.t1=c=t.sent,(0,t.t0)(0,t.t1);case 6:case"end":return t.stop()}}),t)})))},[c,u,A,h,l,function(t){return(0,e.id)(t,1024)},p,f,m,function(){d()},i,function(){A=this.value,r(2,A)},function(){h=this.value,r(3,h)},function(t){return f(t)},function(t){return p(t)},function(t,e,n){return m(t,e,n)}]}var Si=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,i.Z)(n),e,Bi,Ei,a.N8,{}),n}return(0,o.Z)(e,t),e}(a.f_C),Ti=Si,Di=function(t){function n(e,n,r){var i;return void 0===r&&(r={}),(i=t.call(this,e,n,Ti,r)||this).model=vi.getSingleton(vi,"VConsoleStorageModel"),i.onAddTopBarCallback=void 0,i}(0,o.Z)(n,t);var r=n.prototype;return r.onReady=function(){t.prototype.onReady.call(this),this.onUpdateOption()},r.onShow=function(){this.model.refresh()},r.onAddTopBar=function(t){this.onAddTopBarCallback=t,this.updateTopBar()},r.onAddTool=function(t){var e=this;t([{name:"Add",global:!1,onClick:function(){e.model.setItem("new_"+Date.now(),"new_value")}},{name:"Refresh",global:!1,onClick:function(){e.model.refresh()}},{name:"Clear",global:!1,onClick:function(){e.model.clear()}}])},r.onUpdateOption=function(){var t,n=null==(t=this.vConsole.option.storage)?void 0:t.defaultStorages;(0,e.kJ)(n)&&(n=n.length>0?n:["cookies"])!==(0,Bn.U2)(yi.defaultStorages)&&(yi.defaultStorages.set(n),yi.activedName.set(n[0]),this.updateTopBar())},r.updateTopBar=function(){var t=this;if("function"==typeof this.onAddTopBarCallback){for(var e=(0,Bn.U2)(yi.defaultStorages),n=[],r=0;r<e.length;r++){var i=e[r];n.push({name:i[0].toUpperCase()+i.substring(1),data:{name:i},actived:i===(0,Bn.U2)(yi.activedName),onClick:function(e,n){var r=(0,Bn.U2)(yi.activedName);if(n.name===r)return!1;yi.activedName.set(n.name),t.model.refresh()}})}this.onAddTopBarCallback(n)}},n}(ot),Ii=function(){function n(t){var i=this;if(this.version="3.15.1",this.isInited=!1,this.option={},this.compInstance=void 0,this.pluginList={},this.log=void 0,this.system=void 0,this.network=void 0,n.instance&&n.instance instanceof n)return console.debug("[vConsole] vConsole is already exists."),n.instance;if(n.instance=this,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"],log:{},network:{},storage:{}},e.Kn(t))for(var o in t)this.option[o]=t[o];void 0!==this.option.maxLogNumber&&(this.option.log.maxLogNumber=this.option.maxLogNumber,console.debug("[vConsole] Deprecated option: `maxLogNumber`, use `log.maxLogNumber` instead.")),void 0!==this.option.onClearLog&&console.debug("[vConsole] Deprecated option: `onClearLog`."),void 0!==this.option.maxNetworkNumber&&(this.option.network.maxNetworkNumber=this.option.maxNetworkNumber,console.debug("[vConsole] Deprecated option: `maxNetworkNumber`, use `network.maxNetworkNumber` instead.")),this._addBuiltInPlugins();var a,s=function(){i.isInited||(i._initComponent(),i._autoRun())};void 0!==document?"loading"===document.readyState?r.bind(window,"DOMContentLoaded",s):s():a=setTimeout((function t(){document&&"complete"==document.readyState?(a&&clearTimeout(a),s()):a=setTimeout(t,1)}),1)}var i=n.prototype;return i._addBuiltInPlugins=function(){this.addPlugin(new Cn("default","Log"));var t=this.option.defaultPlugins,n={system:{proto:En,name:"System"}};if(n.network={proto:Er,name:"Network"},n.element={proto:si,name:"Element"},n.storage={proto:Di,name:"Storage"},t&&e.kJ(t))for(var r=0;r<t.length;r++){var i=n[t[r]];i?this.addPlugin(new i.proto(t[r],i.name)):console.debug("[vConsole] Unrecognized default plugin ID:",t[r])}},i._initComponent=function(){var t=this;if(!r.one("#__vconsole")){var n,i=1*e.cF("switch_x"),o=1*e.cF("switch_y");"string"==typeof this.option.target?n=document.querySelector(this.option.target):this.option.target instanceof HTMLElement&&(n=this.option.target),n instanceof HTMLElement||(n=document.documentElement),this.compInstance=new rt({target:n,props:{switchButtonPosition:{x:i,y:o}}}),this.compInstance.$on("show",(function(e){e.detail.show?t.show():t.hide()})),this.compInstance.$on("changePanel",(function(e){var n=e.detail.pluginId;t.showPlugin(n)}))}this._updateComponentByOptions()},i._updateComponentByOptions=function(){if(this.compInstance){if(this.compInstance.theme!==this.option.theme){var t=this.option.theme;t="light"!==t&&"dark"!==t?"":t,this.compInstance.theme=t}this.compInstance.disableScrolling!==this.option.disableLogScrolling&&(this.compInstance.disableScrolling=!!this.option.disableLogScrolling)}},i.setSwitchPosition=function(t,e){this.compInstance.switchButtonPosition={x:t,y:e}},i._autoRun=function(){for(var t in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[t]);this._showFirstPluginWhenEmpty(),this.triggerEvent("ready")},i._showFirstPluginWhenEmpty=function(){var t=Object.keys(this.pluginList);""===this.compInstance.activedPluginId&&t.length>0&&this.showPlugin(t[0])},i.triggerEvent=function(t,n){var r=this;t="on"+t.charAt(0).toUpperCase()+t.slice(1),e.mf(this.option[t])&&setTimeout((function(){r.option[t].apply(r,n)}),0)},i._initPlugin=function(t){var e=this;t.vConsole=this,this.compInstance.pluginList[t.id]={id:t.id,name:t.name,hasTabPanel:!1,tabOptions:void 0,topbarList:[],toolbarList:[],content:void 0,contentContainer:void 0},this.compInstance.pluginList=this._reorderPluginList(this.compInstance.pluginList),t.trigger("init"),t.trigger("renderTab",(function(n,r){void 0===r&&(r={});var i=e.compInstance.pluginList[t.id];i.hasTabPanel=!0,i.tabOptions=r,n&&(e.compInstance.pluginList[t.id].content=n),e.compInstance.pluginList=e.compInstance.pluginList})),t.trigger("addTopBar",(function(n){if(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push({name:o.name||"Undefined",className:o.className||"",actived:!!o.actived,data:o.data,onClick:o.onClick})}e.compInstance.pluginList[t.id].topbarList=r,e.compInstance.pluginList=e.compInstance.pluginList}})),t.trigger("addTool",(function(n){if(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push({name:o.name||"Undefined",global:!!o.global,data:o.data,onClick:o.onClick})}e.compInstance.pluginList[t.id].toolbarList=r,e.compInstance.pluginList=e.compInstance.pluginList}})),t.isReady=!0,t.trigger("ready")},i._triggerPluginsEvent=function(t){for(var e in this.pluginList)this.pluginList[e].isReady&&this.pluginList[e].trigger(t)},i._triggerPluginEvent=function(t,e){var n=this.pluginList[t];n&&n.isReady&&n.trigger(e)},i._reorderPluginList=function(t){var n=this;if(!e.kJ(this.option.pluginOrder))return t;for(var r=Object.keys(t).sort((function(t,e){var r=n.option.pluginOrder.indexOf(t),i=n.option.pluginOrder.indexOf(e);return r===i?0:-1===r?1:-1===i?-1:r-i})),i={},o=0;o<r.length;o++)i[r[o]]=t[r[o]];return i},i.addPlugin=function(t){return void 0!==this.pluginList[t.id]?(console.debug("[vConsole] Plugin `"+t.id+"` has already been added."),!1):(this.pluginList[t.id]=t,this.isInited&&(this._initPlugin(t),this._showFirstPluginWhenEmpty()),!0)},i.removePlugin=function(t){t=(t+"").toLowerCase();var e=this.pluginList[t];if(void 0===e)return console.debug("[vConsole] Plugin `"+t+"` does not exist."),!1;e.trigger("remove");try{delete this.pluginList[t],delete this.compInstance.pluginList[t]}catch(e){this.pluginList[t]=void 0,this.compInstance.pluginList[t]=void 0}return this.compInstance.pluginList=this.compInstance.pluginList,this.compInstance.activedPluginId==t&&(this.compInstance.activedPluginId="",this._showFirstPluginWhenEmpty()),!0},i.show=function(){this.isInited&&(this.compInstance.show=!0,this._triggerPluginsEvent("showConsole"))},i.hide=function(){this.isInited&&(this.compInstance.show=!1,this._triggerPluginsEvent("hideConsole"))},i.showSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!0)},i.hideSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!1)},i.showPlugin=function(t){this.isInited&&(this.pluginList[t]||console.debug("[vConsole] Plugin `"+t+"` does not exist."),this.compInstance.activedPluginId&&this._triggerPluginEvent(this.compInstance.activedPluginId,"hide"),this.compInstance.activedPluginId=t,this._triggerPluginEvent(this.compInstance.activedPluginId,"show"))},i.setOption=function(t,n){if("string"==typeof t){for(var r=t.split("."),i=this.option,o=0;o<r.length;o++){if("__proto__"===r[o]||"constructor"===r[o]||"prototype"===r[o])return void console.debug("[vConsole] Cannot set `"+r[o]+"` in `vConsole.setOption()`.");void 0===i[r[o]]&&(i[r[o]]={}),o===r.length-1&&(i[r[o]]=n),i=i[r[o]]}this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else if(e.Kn(t)){for(var a in t)"__proto__"!==a&&"constructor"!==a&&"prototype"!==a?this.option[a]=t[a]:console.debug("[vConsole] Cannot set `"+a+"` in `vConsole.setOption()`.");this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else console.debug("[vConsole] The first parameter of `vConsole.setOption()` must be a string or an object.")},i.destroy=function(){if(this.isInited){this.isInited=!1,n.instance=void 0;for(var t=Object.keys(this.pluginList),e=t.length-1;e>=0;e--)this.removePlugin(t[e]);this.compInstance.$destroy()}},(0,t.Z)(n,null,[{key:"instance",get:function(){return window.__VCONSOLE_INSTANCE},set:function(t){void 0===t||t instanceof n?window.__VCONSOLE_INSTANCE=t:console.debug("[vConsole] Cannot set `VConsole.instance` because the value is not the instance of VConsole.")}}]),n}();Ii.VConsolePlugin=void 0,Ii.VConsoleLogPlugin=void 0,Ii.VConsoleDefaultPlugin=void 0,Ii.VConsoleSystemPlugin=void 0,Ii.VConsoleNetworkPlugin=void 0,Ii.VConsoleElementPlugin=void 0,Ii.VConsoleStoragePlugin=void 0,Ii.VConsolePlugin=it,Ii.VConsoleLogPlugin=Ln,Ii.VConsoleDefaultPlugin=Cn,Ii.VConsoleSystemPlugin=En,Ii.VConsoleNetworkPlugin=Er,Ii.VConsoleElementPlugin=si,Ii.VConsoleStoragePlugin=Di;var Pi=Ii}(),__nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__}()},module.exports=n()},8207:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/,n=/\s+$/;function r(t,e){if(e=e||{},(t=t||"")instanceof r)return t;if(!(this instanceof r))return new r(t,e);var n=i(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function i(e){var n={r:0,g:0,b:0},r=1,i=null,a=null,l=null,u=!1,A=!1;return"string"==typeof e&&(e=j(e)),"object"==t(e)&&(N(e.r)&&N(e.g)&&N(e.b)?(n=o(e.r,e.g,e.b),u=!0,A="%"===String(e.r).substr(-1)?"prgb":"rgb"):N(e.h)&&N(e.s)&&N(e.v)?(i=k(e.s),a=k(e.v),n=c(e.h,i,a),u=!0,A="hsv"):N(e.h)&&N(e.s)&&N(e.l)&&(i=k(e.s),l=k(e.l),n=s(e.h,i,l),u=!0,A="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=B(r),{ok:u,format:e.format||A,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function o(t,e,n){return{r:255*S(t,255),g:255*S(e,255),b:255*S(n,255)}}function a(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function s(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=S(t,360),e=S(e,100),n=S(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function l(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function c(t,e,n){t=6*S(t,360),e=S(e,100),n=S(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}function u(t,e,n,r){var i=[F(Math.round(t).toString(16)),F(Math.round(e).toString(16)),F(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function A(t,e,n,r,i){var o=[F(Math.round(t).toString(16)),F(Math.round(e).toString(16)),F(Math.round(n).toString(16)),F(R(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h(t,e,n,r){return[F(R(r)),F(Math.round(t).toString(16)),F(Math.round(e).toString(16)),F(Math.round(n).toString(16))].join("")}function d(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s-=e/100,n.s=T(n.s),r(n)}function p(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s+=e/100,n.s=T(n.s),r(n)}function f(t){return r(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l+=e/100,n.l=T(n.l),r(n)}function g(t,e){e=0===e?0:e||10;var n=r(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),r(n)}function y(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l-=e/100,n.l=T(n.l),r(n)}function v(t,e){var n=r(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,r(n)}function _(t){var e=r(t).toHsl();return e.h=(e.h+180)%360,r(e)}function w(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=r(t).toHsl(),i=[r(t)],o=360/e,a=1;a<e;a++)i.push(r({h:(n.h+a*o)%360,s:n.s,l:n.l}));return i}function b(t){var e=r(t).toHsl(),n=e.h;return[r(t),r({h:(n+72)%360,s:e.s,l:e.l}),r({h:(n+216)%360,s:e.s,l:e.l})]}function x(t,e,n){e=e||6,n=n||30;var i=r(t).toHsl(),o=360/n,a=[r(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(r(i));return a}function M(t,e){e=e||6;for(var n=r(t).toHsv(),i=n.h,o=n.s,a=n.v,s=[],l=1/e;e--;)s.push(r({h:i,s:o,v:a})),a=(a+l)%1;return s}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=B(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return A(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*S(this._r,255))+"%",g:Math.round(100*S(this._g,255))+"%",b:Math.round(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*S(this._r,255))+"%, "+Math.round(100*S(this._g,255))+"%, "+Math.round(100*S(this._b,255))+"%)":"rgba("+Math.round(100*S(this._r,255))+"%, "+Math.round(100*S(this._g,255))+"%, "+Math.round(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=r(t);n="#"+h(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},r.fromRatio=function(e,n){if("object"==t(e)){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]="a"===o?e[o]:k(e[o]));e=i}return r(e,n)},r.equals=function(t,e){return!(!t||!e)&&r(t).toRgbString()==r(e).toRgbString()},r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r.mix=function(t,e,n){n=0===n?0:n||50;var i=r(t).toRgb(),o=r(e).toRgb(),a=n/100;return r({r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a})},r.readability=function(t,e){var n=r(t),i=r(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},r.isReadable=function(t,e,n){var i,o,a=r.readability(t,e);switch(o=!1,(i=W(n)).level+i.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},r.mostReadable=function(t,e,n){var i,o,a,s,l=null,c=0;o=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var u=0;u<e.length;u++)(i=r.readability(t,e[u]))>c&&(c=i,l=r(e[u]));return r.isReadable(t,l,{level:a,size:s})||!o?l:(n.includeFallbackColors=!1,r.mostReadable(t,["#fff","#000"],n))};var L=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=r.hexNames=E(L);function E(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function B(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function S(t,e){I(t)&&(t="100%");var n=P(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return Math.min(1,Math.max(0,t))}function D(t){return parseInt(t,16)}function I(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function P(t){return"string"==typeof t&&-1!=t.indexOf("%")}function F(t){return 1==t.length?"0"+t:""+t}function k(t){return t<=1&&(t=100*t+"%"),t}function R(t){return Math.round(255*parseFloat(t)).toString(16)}function U(t){return D(t)/255}var O,H,Y,Q=(H="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",Y="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+Y),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+Y),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+Y),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function N(t){return!!Q.CSS_UNIT.exec(t)}function j(t){t=t.replace(e,"").replace(n,"").toLowerCase();var r,i=!1;if(L[t])t=L[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(r=Q.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Q.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Q.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Q.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Q.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Q.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Q.hex8.exec(t))?{r:D(r[1]),g:D(r[2]),b:D(r[3]),a:U(r[4]),format:i?"name":"hex8"}:(r=Q.hex6.exec(t))?{r:D(r[1]),g:D(r[2]),b:D(r[3]),format:i?"name":"hex"}:(r=Q.hex4.exec(t))?{r:D(r[1]+""+r[1]),g:D(r[2]+""+r[2]),b:D(r[3]+""+r[3]),a:U(r[4]+""+r[4]),format:i?"name":"hex8"}:!!(r=Q.hex3.exec(t))&&{r:D(r[1]+""+r[1]),g:D(r[2]+""+r[2]),b:D(r[3]+""+r[3]),format:i?"name":"hex"}}function W(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}return r}()},2536:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});const r=function(){this.__data__=[],this.size=0};var i=n(9651);const o=function(t,e){for(var n=t.length;n--;)if((0,i.Z)(t[n][0],e))return n;return-1};var a=Array.prototype.splice;const s=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)};const l=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]};const c=function(t){return o(this.__data__,t)>-1};const u=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function A(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}A.prototype.clear=r,A.prototype.delete=s,A.prototype.get=l,A.prototype.has=c,A.prototype.set=u;const h=A},6183:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(5084),i=n(6092);const o=(0,r.Z)(i.Z,"Map")},520:(t,e,n)=>{"use strict";n.d(e,{Z:()=>x});const r=(0,n(5084).Z)(Object,"create");const i=function(){this.__data__=r?r(null):{},this.size=0};const o=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var a=Object.prototype.hasOwnProperty;const s=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0};var l=Object.prototype.hasOwnProperty;const c=function(t){var e=this.__data__;return r?void 0!==e[t]:l.call(e,t)};const u=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this};function A(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}A.prototype.clear=i,A.prototype.delete=o,A.prototype.get=s,A.prototype.has=c,A.prototype.set=u;const h=A;var d=n(2536),p=n(6183);const f=function(){this.size=0,this.__data__={hash:new h,map:new(p.Z||d.Z),string:new h}};const m=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const g=function(t,e){var n=t.__data__;return m(e)?n["string"==typeof e?"string":"hash"]:n.map};const y=function(t){var e=g(this,t).delete(t);return this.size-=e?1:0,e};const v=function(t){return g(this,t).get(t)};const _=function(t){return g(this,t).has(t)};const w=function(t,e){var n=g(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function b(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}b.prototype.clear=f,b.prototype.delete=y,b.prototype.get=v,b.prototype.has=_,b.prototype.set=w;const x=b},3203:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(5084),i=n(6092);const o=(0,r.Z)(i.Z,"Set")},5668:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(520);const i=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const o=function(t){return this.__data__.has(t)};function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r.Z;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o;const s=a},5365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(2536);const i=function(){this.__data__=new r.Z,this.size=0};const o=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const a=function(t){return this.__data__.get(t)};const s=function(t){return this.__data__.has(t)};var l=n(6183),c=n(520);const u=function(t,e){var n=this.__data__;if(n instanceof r.Z){var i=n.__data__;if(!l.Z||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new c.Z(i)}return n.set(t,e),this.size=n.size,this};function A(t){var e=this.__data__=new r.Z(t);this.size=e.size}A.prototype.clear=i,A.prototype.delete=o,A.prototype.get=a,A.prototype.has=s,A.prototype.set=u;const h=A},7685:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(6092).Z.Symbol},7623:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(6092).Z.Uint8Array},3840:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(5084),i=n(6092);const o=(0,r.Z)(i.Z,"WeakMap")},8774:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},3771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(2889),i=n(4732),o=n(7771),a=n(5763),s=n(6009),l=n(7212),c=Object.prototype.hasOwnProperty;const u=function(t,e){var n=(0,o.Z)(t),u=!n&&(0,i.Z)(t),A=!n&&!u&&(0,a.Z)(t),h=!n&&!u&&!A&&(0,l.Z)(t),d=n||u||A||h,p=d?(0,r.Z)(t.length,String):[],f=p.length;for(var m in t)!e&&!c.call(t,m)||d&&("length"==m||A&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,s.Z)(m,f))||p.push(m);return p}},4073:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},8694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},3327:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(8694),i=n(7771);const o=function(t,e,n){var o=e(t);return(0,i.Z)(t)?o:(0,r.Z)(o,n(t))}},3243:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(7685),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void 0;const l=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i};var c=Object.prototype.toString;const u=function(t){return c.call(t)};var A=r.Z?r.Z.toStringTag:void 0;const h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":A&&A in Object(t)?l(t):u(t)}},1443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S});var r=n(5365),i=n(5668),o=n(2338),a=n(9548);const s=function(t,e,n,r,s,l){var c=1&n,u=t.length,A=e.length;if(u!=A&&!(c&&A>u))return!1;var h=l.get(t),d=l.get(e);if(h&&d)return h==e&&d==t;var p=-1,f=!0,m=2&n?new i.Z:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var g=t[p],y=e[p];if(r)var v=c?r(y,g,p,e,t,l):r(g,y,p,t,e,l);if(void 0!==v){if(v)continue;f=!1;break}if(m){if(!(0,o.Z)(e,(function(t,e){if(!(0,a.Z)(m,e)&&(g===t||s(g,t,n,r,l)))return m.push(e)}))){f=!1;break}}else if(g!==y&&!s(g,y,n,r,l)){f=!1;break}}return l.delete(t),l.delete(e),f};var l=n(7685),c=n(7623),u=n(9651),A=n(4910),h=n(6545),d=l.Z?l.Z.prototype:void 0,p=d?d.valueOf:void 0;const f=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new c.Z(t),new c.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.Z)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=A.Z;case"[object Set]":var d=1&r;if(l||(l=h.Z),t.size!=e.size&&!d)return!1;var f=a.get(t);if(f)return f==e;r|=2,a.set(t,e);var m=s(l(t),l(e),r,i,o,a);return a.delete(t),m;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1};var m=n(1808),g=Object.prototype.hasOwnProperty;const y=function(t,e,n,r,i,o){var a=1&n,s=(0,m.Z)(t),l=s.length;if(l!=(0,m.Z)(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:g.call(e,u)))return!1}var A=o.get(t),h=o.get(e);if(A&&h)return A==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<l;){var f=t[u=s[c]],y=e[u];if(r)var v=a?r(y,f,u,e,t,o):r(f,y,u,t,e,o);if(!(void 0===v?f===y||i(f,y,n,r,o):v)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(d=!1)}return o.delete(t),o.delete(e),d};var v=n(762),_=n(7771),w=n(5763),b=n(7212),x="[object Arguments]",M="[object Array]",L="[object Object]",C=Object.prototype.hasOwnProperty;const E=function(t,e,n,i,o,a){var l=(0,_.Z)(t),c=(0,_.Z)(e),u=l?M:(0,v.Z)(t),A=c?M:(0,v.Z)(e),h=(u=u==x?L:u)==L,d=(A=A==x?L:A)==L,p=u==A;if(p&&(0,w.Z)(t)){if(!(0,w.Z)(e))return!1;l=!0,h=!1}if(p&&!h)return a||(a=new r.Z),l||(0,b.Z)(t)?s(t,e,n,i,o,a):f(t,e,u,n,i,o,a);if(!(1&n)){var m=h&&C.call(t,"__wrapped__"),g=d&&C.call(e,"__wrapped__");if(m||g){var E=m?t.value():t,B=g?e.value():e;return a||(a=new r.Z),o(E,B,n,i,a)}}return!!p&&(a||(a=new r.Z),y(t,e,n,i,o,a))};var B=n(8533);const S=function t(e,n,r,i,o){return e===n||(null==e||null==n||!(0,B.Z)(e)&&!(0,B.Z)(n)?e!=e&&n!=n:E(e,n,r,i,t,o))}},4808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var r,i=n(3234),o=n(1819),a=(r=/[^.]+$/.exec(o.Z&&o.Z.keys&&o.Z.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";const s=function(t){return!!a&&a in t};var l=n(7226),c=n(19),u=/^\[object .+?Constructor\]$/,A=Function.prototype,h=Object.prototype,d=A.toString,p=h.hasOwnProperty,f=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(t){return!(!(0,l.Z)(t)||s(t))&&((0,i.Z)(t)?f:u).test((0,c.Z)(t))}},8448:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(2764);const i=(0,n(1851).Z)(Object.keys,Object);var o=Object.prototype.hasOwnProperty;const a=function(t){if(!(0,r.Z)(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},4193:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){return function(e){return null==e?void 0:e[t]}}},5807:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=Math.floor;const i=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=r(e/2))&&(t+=t)}while(e);return n}},7855:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},2889:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},2845:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(7685),i=n(4073),o=n(7771),a=n(2714),s=r.Z?r.Z.prototype:void 0,l=s?s.toString:void 0;const c=function t(e){if("string"==typeof e)return e;if((0,o.Z)(e))return(0,i.Z)(e,t)+"";if((0,a.Z)(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},3404:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(7170),i=/^\s+/;const o=function(t){return t?t.slice(0,(0,r.Z)(t)+1).replace(i,""):t}},1162:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){return function(e){return t(e)}}},9548:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){return t.has(e)}},7449:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(7771),i=n(9365),o=n(474),a=n(7338);const s=function(t,e){return(0,r.Z)(t)?t:(0,i.Z)(t,e)?[t]:(0,o.Z)((0,a.Z)(t))}},5042:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(7855);const i=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:(0,r.Z)(t,e,n)}},1819:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(6092).Z["__core-js_shared__"]},9628:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(5807),i=n(2845),o=n(5042),a=n(9047),s=n(5625),l=n(5876),c=Math.ceil;const u=function(t,e){var n=(e=void 0===e?" ":(0,i.Z)(e)).length;if(n<2)return n?(0,r.Z)(e,t):e;var u=(0,r.Z)(e,c(t/(0,s.Z)(e)));return(0,a.Z)(e)?(0,o.Z)((0,l.Z)(u),0,t).join(""):u.slice(0,t)}},3413:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},1808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(3327),i=n(5695),o=n(7179);const a=function(t){return(0,r.Z)(t,o.Z,i.Z)}},5084:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(4808);const i=function(t,e){return null==t?void 0:t[e]};const o=function(t,e){var n=i(t,e);return(0,r.Z)(n)?n:void 0}},5695:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8774),i=n(532),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;const s=a?function(t){return null==t?[]:(t=Object(t),(0,r.Z)(a(t),(function(e){return o.call(t,e)})))}:i.Z},762:(t,e,n)=>{"use strict";n.d(e,{Z:()=>x});var r=n(5084),i=n(6092);const o=(0,r.Z)(i.Z,"DataView");var a=n(6183);const s=(0,r.Z)(i.Z,"Promise");var l=n(3203),c=n(3840),u=n(3243),A=n(19),h="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",m="[object DataView]",g=(0,A.Z)(o),y=(0,A.Z)(a.Z),v=(0,A.Z)(s),_=(0,A.Z)(l.Z),w=(0,A.Z)(c.Z),b=u.Z;(o&&b(new o(new ArrayBuffer(1)))!=m||a.Z&&b(new a.Z)!=h||s&&b(s.resolve())!=d||l.Z&&b(new l.Z)!=p||c.Z&&b(new c.Z)!=f)&&(b=function(t){var e=(0,u.Z)(t),n="[object Object]"==e?t.constructor:void 0,r=n?(0,A.Z)(n):"";if(r)switch(r){case g:return m;case y:return h;case v:return d;case _:return p;case w:return f}return e});const x=b},6174:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(7449),i=n(4732),o=n(7771),a=n(6009),s=n(1656),l=n(2281);const c=function(t,e,n){for(var c=-1,u=(e=(0,r.Z)(e,t)).length,A=!1;++c<u;){var h=(0,l.Z)(e[c]);if(!(A=null!=t&&n(t,h)))break;t=t[h]}return A||++c!=u?A:!!(u=null==t?0:t.length)&&(0,s.Z)(u)&&(0,a.Z)(h,u)&&((0,o.Z)(t)||(0,i.Z)(t))}},9047:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const i=function(t){return r.test(t)}},6009:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=/^(?:0|[1-9]\d*)$/;const i=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},9365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(7771),i=n(2714),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;const s=function(t,e){if((0,r.Z)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!(0,i.Z)(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},2764:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=Object.prototype;const i=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},4910:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},8351:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(3413),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===i&&r.Z.process;const s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}()},1851:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){return function(n){return t(e(n))}}},6092:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(3413),i="object"==typeof self&&self&&self.Object===Object&&self;const o=r.Z||i||Function("return this")()},6545:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},5625:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});const r=(0,n(4193).Z)("length");var i=n(9047),o="\\ud800-\\udfff",a="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",c="[^"+o+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+s+"|"+l+")"+"?",d="[\\ufe0e\\ufe0f]?",p=d+h+("(?:\\u200d(?:"+[c,u,A].join("|")+")"+d+h+")*"),f="(?:"+[c+s+"?",s,u,A,a].join("|")+")",m=RegExp(l+"(?="+l+")|"+f+p,"g");const g=function(t){for(var e=m.lastIndex=0;m.test(t);)++e;return e};const y=function(t){return(0,i.Z)(t)?g(t):r(t)}},5876:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});const r=function(t){return t.split("")};var i=n(9047),o="\\ud800-\\udfff",a="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",c="[^"+o+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+s+"|"+l+")"+"?",d="[\\ufe0e\\ufe0f]?",p=d+h+("(?:\\u200d(?:"+[c,u,A].join("|")+")"+d+h+")*"),f="(?:"+[c+s+"?",s,u,A,a].join("|")+")",m=RegExp(l+"(?="+l+")|"+f+p,"g");const g=function(t){return t.match(m)||[]};const y=function(t){return(0,i.Z)(t)?g(t):r(t)}},474:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(2454);var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;const a=function(t){var e=(0,r.Z)(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}))},2281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2714);const i=function(t){if("string"==typeof t||(0,r.Z)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},19:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=Function.prototype.toString;const i=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7170:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=/\s/;const i=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},9651:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e){return t===e||t!=t&&e!=e}},1910:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const r=function(t,e){return null!=t&&e in Object(t)};var i=n(6174);const o=function(t,e){return null!=t&&(0,i.Z)(t,e,r)}},4732:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(3243),i=n(8533);const o=function(t){return(0,i.Z)(t)&&"[object Arguments]"==(0,r.Z)(t)};var a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;const c=o(function(){return arguments}())?o:function(t){return(0,i.Z)(t)&&s.call(t,"callee")&&!l.call(t,"callee")}},7771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=Array.isArray},585:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(3234),i=n(1656);const o=function(t){return null!=t&&(0,i.Z)(t.length)&&!(0,r.Z)(t)}},5763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(6092),i=n(7979),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===o?r.Z.Buffer:void 0;const l=(s?s.isBuffer:void 0)||i.Z},9697:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(8448),i=n(762),o=n(4732),a=n(7771),s=n(585),l=n(5763),c=n(2764),u=n(7212),A=Object.prototype.hasOwnProperty;const h=function(t){if(null==t)return!0;if((0,s.Z)(t)&&((0,a.Z)(t)||"string"==typeof t||"function"==typeof t.splice||(0,l.Z)(t)||(0,u.Z)(t)||(0,o.Z)(t)))return!t.length;var e=(0,i.Z)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if((0,c.Z)(t))return!(0,r.Z)(t).length;for(var n in t)if(A.call(t,n))return!1;return!0}},576:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(1443);const i=function(t,e){return(0,r.Z)(t,e)}},3234:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(3243),i=n(7226);const o=function(t){if(!(0,i.Z)(t))return!1;var e=(0,r.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1656:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},7226:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},8533:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){return null!=t&&"object"==typeof t}},2714:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(3243),i=n(8533);const o=function(t){return"symbol"==typeof t||(0,i.Z)(t)&&"[object Symbol]"==(0,r.Z)(t)}},7212:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var r=n(3243),i=n(1656),o=n(8533),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;const s=function(t){return(0,o.Z)(t)&&(0,i.Z)(t.length)&&!!a[(0,r.Z)(t)]};var l=n(1162),c=n(8351),u=c.Z&&c.Z.isTypedArray;const A=u?(0,l.Z)(u):s},9360:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){return void 0===t}},7179:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(3771),i=n(8448),o=n(585);const a=function(t){return(0,o.Z)(t)?(0,r.Z)(t):(0,i.Z)(t)}},8133:(t,e,n)=>{"use strict";n.r(e),n.d(e,{add:()=>s,after:()=>c,ary:()=>It,assign:()=>Kt,assignIn:()=>ee,assignInWith:()=>re,assignWith:()=>oe,at:()=>ve,attempt:()=>Te,before:()=>De,bind:()=>Pe,bindAll:()=>Fe,bindKey:()=>Re,camelCase:()=>Bn,capitalize:()=>je,castArray:()=>Sn,ceil:()=>Fn,chain:()=>kn,chunk:()=>Hn,clamp:()=>Qn,clone:()=>Pr,cloneDeep:()=>Fr,cloneDeepWith:()=>kr,cloneWith:()=>Rr,commit:()=>Ur,compact:()=>Or,concat:()=>Hr,cond:()=>ti,conforms:()=>ri,conformsTo:()=>ii,constant:()=>et,countBy:()=>fi,create:()=>mi,curry:()=>yi,curryRight:()=>_i,debounce:()=>Mi,deburr:()=>Ze,default:()=>gd,defaultTo:()=>Li,defaults:()=>Si,defaultsDeep:()=>Qi,defer:()=>Wi,delay:()=>zi,difference:()=>Ji,differenceBy:()=>eo,differenceWith:()=>ro,divide:()=>io,drop:()=>oo,dropRight:()=>ao,dropRightWhile:()=>lo,dropWhile:()=>co,each:()=>Ao,eachRight:()=>go,endsWith:()=>yo,entries:()=>xo,entriesIn:()=>Mo,eq:()=>Ft.Z,escape:()=>Bo,escapeRegExp:()=>Do,every:()=>Fo,extend:()=>ee,extendWith:()=>re,fill:()=>Uo,filter:()=>Yo,find:()=>Wo,findIndex:()=>jo,findKey:()=>zo,findLast:()=>Xo,findLastIndex:()=>Zo,findLastKey:()=>qo,first:()=>Jo,flatMap:()=>ea,flatMapDeep:()=>ra,flatMapDepth:()=>ia,flatten:()=>ge,flattenDeep:()=>aa,flattenDepth:()=>sa,flip:()=>la,floor:()=>ca,flow:()=>Aa,flowRight:()=>ha,forEach:()=>Ao,forEachRight:()=>go,forIn:()=>da,forInRight:()=>pa,forOwn:()=>fa,forOwnRight:()=>ma,fromPairs:()=>ga,functions:()=>va,functionsIn:()=>_a,get:()=>ce,groupBy:()=>xa,gt:()=>Ca,gte:()=>Ea,has:()=>Da,hasIn:()=>Gr.Z,head:()=>Jo,identity:()=>u,inRange:()=>Ra,includes:()=>Qa,indexOf:()=>ja,initial:()=>Wa,intersection:()=>Ka,intersectionBy:()=>Xa,intersectionWith:()=>qa,invert:()=>ns,invertBy:()=>ss,invoke:()=>us,invokeMap:()=>hs,isArguments:()=>de.Z,isArray:()=>H.Z,isArrayBuffer:()=>fs,isArrayLike:()=>Qt.Z,isArrayLikeObject:()=>Di,isBoolean:()=>ms,isBuffer:()=>vr.Z,isDate:()=>vs,isElement:()=>_s,isEmpty:()=>ws.Z,isEqual:()=>bs.Z,isEqualWith:()=>xs,isError:()=>Be,isFinite:()=>Ls,isFunction:()=>Ii.Z,isInteger:()=>Cs,isLength:()=>Es.Z,isMap:()=>Mr,isMatch:()=>Bs,isMatchWith:()=>Ss,isNaN:()=>Ds,isNative:()=>Rs,isNil:()=>Us,isNull:()=>Os,isNumber:()=>Ts,isObject:()=>f.Z,isObjectLike:()=>Y.Z,isPlainObject:()=>Ee,isRegExp:()=>Qs,isSafeInteger:()=>js,isSet:()=>Er,isString:()=>Ua,isSymbol:()=>r.Z,isTypedArray:()=>Pi.Z,isUndefined:()=>Ws.Z,isWeakMap:()=>Vs,isWeakSet:()=>zs,iteratee:()=>Gs,join:()=>Zs,kebabCase:()=>qs,keyBy:()=>$s,keys:()=>Vt.Z,keysIn:()=>$t,last:()=>$i,lastIndexOf:()=>rl,lodash:()=>V,lowerCase:()=>ol,lowerFirst:()=>al,lt:()=>ll,lte:()=>cl,map:()=>ta,mapKeys:()=>ul,mapValues:()=>Al,matches:()=>hl,matchesProperty:()=>dl,max:()=>fl,maxBy:()=>ml,mean:()=>vl,meanBy:()=>_l,memoize:()=>wl.Z,merge:()=>xl,mergeWith:()=>Yi,method:()=>Ml,methodOf:()=>Ll,min:()=>Cl,minBy:()=>El,mixin:()=>Bl,multiply:()=>Sl,negate:()=>Tl,next:()=>kl,noop:()=>D,now:()=>wi,nth:()=>Ul,nthArg:()=>Ol,omit:()=>Nl,omitBy:()=>zl,once:()=>Gl,orderBy:()=>Jl,over:()=>tc,overArgs:()=>ic,overEvery:()=>oc,overSome:()=>sc,pad:()=>hc,padEnd:()=>dc,padStart:()=>pc.Z,parseInt:()=>gc,partial:()=>vc,partialRight:()=>wc,partition:()=>xc,pick:()=>Lc,pickBy:()=>Vl,plant:()=>Cc,property:()=>Jr,propertyOf:()=>Ec,pull:()=>Ic,pullAll:()=>Dc,pullAllBy:()=>Pc,pullAllWith:()=>Fc,pullAt:()=>Oc,random:()=>Vc,range:()=>Xc,rangeRight:()=>qc,rearg:()=>$c,reduce:()=>eu,reduceRight:()=>ru,reject:()=>iu,remove:()=>ou,repeat:()=>su,replace:()=>lu,rest:()=>cu,result:()=>uu,reverse:()=>hu,round:()=>du,sample:()=>mu,sampleSize:()=>_u,set:()=>wu,setWith:()=>bu,shuffle:()=>Lu,size:()=>Eu,slice:()=>Bu,snakeCase:()=>Tu,some:()=>Iu,sortBy:()=>Pu,sortedIndex:()=>Ou,sortedIndexBy:()=>Hu,sortedIndexOf:()=>Yu,sortedLastIndex:()=>Qu,sortedLastIndexBy:()=>Nu,sortedLastIndexOf:()=>ju,sortedUniq:()=>Vu,sortedUniqBy:()=>zu,split:()=>Gu,spread:()=>Zu,startCase:()=>qu,startsWith:()=>Ju,stubArray:()=>Jn.Z,stubFalse:()=>Fs.Z,stubObject:()=>$u,stubString:()=>tA,stubTrue:()=>eA,subtract:()=>nA,sum:()=>rA,sumBy:()=>iA,tail:()=>oA,take:()=>aA,takeRight:()=>sA,takeRightWhile:()=>lA,takeWhile:()=>cA,tap:()=>uA,template:()=>CA,templateSettings:()=>gA,throttle:()=>EA,thru:()=>BA,times:()=>IA,toArray:()=>Fl,toFinite:()=>ka.Z,toInteger:()=>l.Z,toIterator:()=>PA,toJSON:()=>kA,toLength:()=>ko,toLower:()=>RA,toNumber:()=>Tn.Z,toPairs:()=>xo,toPairsIn:()=>Mo,toPath:()=>OA,toPlainObject:()=>ki,toSafeInteger:()=>YA,toString:()=>Ue.Z,toUpper:()=>QA,transform:()=>NA,trim:()=>zA,trimEnd:()=>KA,trimStart:()=>XA,truncate:()=>JA,unary:()=>$A,unescape:()=>rh,union:()=>lh,unionBy:()=>uh,unionWith:()=>Ah,uniq:()=>hh,uniqBy:()=>dh,uniqWith:()=>ph,uniqueId:()=>mh,unset:()=>gh,unzip:()=>vh,unzipWith:()=>_h,update:()=>bh,updateWith:()=>xh,upperCase:()=>Lh,upperFirst:()=>Ne,value:()=>kA,valueOf:()=>kA,values:()=>Ha,valuesIn:()=>Ch,without:()=>Bh,words:()=>Mn,wrap:()=>Sh,wrapperAt:()=>Th,wrapperChain:()=>Dh,wrapperCommit:()=>Ur,wrapperLodash:()=>V,wrapperNext:()=>kl,wrapperPlant:()=>Cc,wrapperReverse:()=>Ih,wrapperToIterator:()=>PA,wrapperValue:()=>kA,xor:()=>Fh,xorBy:()=>Rh,xorWith:()=>Uh,zip:()=>Oh,zipObject:()=>Yh,zipObjectDeep:()=>Qh,zipWith:()=>jh});var r=n(2714);const i=function(t){return"number"==typeof t?t:(0,r.Z)(t)?NaN:+t};var o=n(2845);const a=function(t,e){return function(n,r){var a;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(a=n),void 0!==r){if(void 0===a)return r;"string"==typeof n||"string"==typeof r?(n=(0,o.Z)(n),r=(0,o.Z)(r)):(n=i(n),r=i(r)),a=t(n,r)}return a}};const s=a((function(t,e){return t+e}),0);var l=n(4930);const c=function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=(0,l.Z)(t),function(){if(--t<1)return e.apply(this,arguments)}};const u=function(t){return t};var A=n(3840);const h=A.Z&&new A.Z;var d=h?function(t,e){return h.set(t,e),t}:u;const p=d;var f=n(7226),m=Object.create,g=function(){function t(){}return function(e){if(!(0,f.Z)(e))return{};if(m)return m(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const y=g;const v=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=y(t.prototype),r=t.apply(n,e);return(0,f.Z)(r)?r:n}};var _=n(6092);const w=function(t,e,n){var r=1&e,i=v(t);return function e(){return(this&&this!==_.Z&&this instanceof e?i:t).apply(r?n:this,arguments)}};const b=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var x=Math.max;const M=function(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,c=x(o-a,0),u=Array(l+c),A=!r;++s<l;)u[s]=e[s];for(;++i<a;)(A||i<o)&&(u[n[i]]=t[i]);for(;c--;)u[s++]=t[i++];return u};var L=Math.max;const C=function(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=L(o-s,0),A=Array(u+c),h=!r;++i<u;)A[i]=t[i];for(var d=i;++l<c;)A[d+l]=e[l];for(;++a<s;)(h||i<o)&&(A[d+n[a]]=t[i++]);return A};const E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r};const B=function(){};function S(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}S.prototype=y(B.prototype),S.prototype.constructor=S;const T=S;const D=function(){};var I=h?function(t){return h.get(t)}:D;const P=I;const F={};var k=Object.prototype.hasOwnProperty;const R=function(t){for(var e=t.name+"",n=F[e],r=k.call(F,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e};function U(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}U.prototype=y(B.prototype),U.prototype.constructor=U;const O=U;var H=n(7771),Y=n(8533);const Q=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};const N=function(t){if(t instanceof T)return t.clone();var e=new O(t.__wrapped__,t.__chain__);return e.__actions__=Q(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e};var j=Object.prototype.hasOwnProperty;function W(t){if((0,Y.Z)(t)&&!(0,H.Z)(t)&&!(t instanceof T)){if(t instanceof O)return t;if(j.call(t,"__wrapped__"))return N(t)}return new O(t)}W.prototype=B.prototype,W.prototype.constructor=W;const V=W;const z=function(t){var e=R(t),n=V[e];if("function"!=typeof n||!(e in T.prototype))return!1;if(t===n)return!0;var r=P(n);return!!r&&t===r[0]};var G=Date.now;const K=function(t){var e=0,n=0;return function(){var r=G(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}};const Z=K(p);var X=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /;const J=function(t){var e=t.match(X);return e?e[1].split(q):[]};var $=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const tt=function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")};const et=function(t){return function(){return t}};var nt=n(5084),rt=function(){try{var t=(0,nt.Z)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const it=rt;var ot=it?function(t,e){return it(t,"toString",{configurable:!0,enumerable:!1,value:et(e),writable:!0})}:u;const at=K(ot);const st=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};const lt=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1};const ct=function(t){return t!=t};const ut=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1};const At=function(t,e,n){return e==e?ut(t,e,n):lt(t,ct,n)};const ht=function(t,e){return!!(null==t?0:t.length)&&At(t,e,0)>-1};var dt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const pt=function(t,e){return st(dt,(function(n){var r="_."+n[0];e&n[1]&&!ht(t,r)&&t.push(r)})),t.sort()};const ft=function(t,e,n){var r=e+"";return at(t,tt(r,pt(J(r),n)))};const mt=function(t,e,n,r,i,o,a,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var A=[t,e,i,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,l,c],h=n.apply(void 0,A);return z(t)&&Z(h,A),h.placeholder=r,ft(h,t,e)};const gt=function(t){return t.placeholder};var yt=n(6009),vt=Math.min;const _t=function(t,e){for(var n=t.length,r=vt(e.length,n),i=Q(t);r--;){var o=e[r];t[r]=(0,yt.Z)(o,n)?i[o]:void 0}return t};var wt="__lodash_placeholder__";const bt=function(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==wt||(t[n]=wt,o[i++]=n)}return o};const xt=function t(e,n,r,i,o,a,s,l,c,u){var A=128&n,h=1&n,d=2&n,p=24&n,f=512&n,m=d?void 0:v(e);return function g(){for(var y=arguments.length,w=Array(y),b=y;b--;)w[b]=arguments[b];if(p)var x=gt(g),L=E(w,x);if(i&&(w=M(w,i,o,p)),a&&(w=C(w,a,s,p)),y-=L,p&&y<u){var B=bt(w,x);return mt(e,n,t,g.placeholder,r,w,B,l,c,u-y)}var S=h?r:this,T=d?S[e]:e;return y=w.length,l?w=_t(w,l):f&&y>1&&w.reverse(),A&&c<y&&(w.length=c),this&&this!==_.Z&&this instanceof g&&(T=m||v(T)),T.apply(S,w)}};const Mt=function(t,e,n){var r=v(t);return function i(){for(var o=arguments.length,a=Array(o),s=o,l=gt(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:bt(a,l);if((o-=c.length)<n)return mt(t,e,xt,i.placeholder,void 0,a,c,void 0,void 0,n-o);var u=this&&this!==_.Z&&this instanceof i?r:t;return b(u,this,a)}};const Lt=function(t,e,n,r){var i=1&e,o=v(t);return function e(){for(var a=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),A=this&&this!==_.Z&&this instanceof e?o:t;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++a];return b(A,i?n:this,u)}};var Ct="__lodash_placeholder__",Et=128,Bt=Math.min;const St=function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==Et&&8==n||r==Et&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?M(l,s,e[4]):s,t[4]=l?bt(t[3],Ct):e[4]}return(s=e[5])&&(l=t[5],t[5]=l?C(l,s,e[6]):s,t[6]=l?bt(t[5],Ct):e[6]),(s=e[7])&&(t[7]=s),r&Et&&(t[8]=null==t[8]?e[8]:Bt(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t};var Tt=Math.max;const Dt=function(t,e,n,r,i,o,a,s){var c=2&e;if(!c&&"function"!=typeof t)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(e&=-97,r=i=void 0),a=void 0===a?a:Tt((0,l.Z)(a),0),s=void 0===s?s:(0,l.Z)(s),u-=i?i.length:0,64&e){var A=r,h=i;r=i=void 0}var d=c?void 0:P(t),f=[t,e,n,r,i,A,h,o,a,s];if(d&&St(f,d),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=void 0===f[9]?c?0:t.length:Tt(f[9]-u,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?Mt(t,e,s):32!=e&&33!=e||i.length?xt.apply(void 0,f):Lt(t,e,n,r);else var m=w(t,e,n);return ft((d?p:Z)(m,f),t,e)};const It=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Dt(t,128,void 0,void 0,void 0,void 0,e)};const Pt=function(t,e,n){"__proto__"==e&&it?it(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Ft=n(9651),kt=Object.prototype.hasOwnProperty;const Rt=function(t,e,n){var r=t[e];kt.call(t,e)&&(0,Ft.Z)(r,n)&&(void 0!==n||e in t)||Pt(t,e,n)};const Ut=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Pt(n,s,l):Rt(n,s,l)}return n};var Ot=Math.max;const Ht=function(t,e,n){return e=Ot(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Ot(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),b(t,this,s)}};const Yt=function(t,e){return at(Ht(t,e,u),t+"")};var Qt=n(585);const Nt=function(t,e,n){if(!(0,f.Z)(n))return!1;var r=typeof e;return!!("number"==r?(0,Qt.Z)(n)&&(0,yt.Z)(e,n.length):"string"==r&&e in n)&&(0,Ft.Z)(n[e],t)};const jt=function(t){return Yt((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Nt(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))};var Wt=n(2764),Vt=n(7179),zt=Object.prototype.hasOwnProperty,Gt=jt((function(t,e){if((0,Wt.Z)(e)||(0,Qt.Z)(e))Ut(e,(0,Vt.Z)(e),t);else for(var n in e)zt.call(e,n)&&Rt(t,n,e[n])}));const Kt=Gt;var Zt=n(3771);const Xt=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var qt=Object.prototype.hasOwnProperty;const Jt=function(t){if(!(0,f.Z)(t))return Xt(t);var e=(0,Wt.Z)(t),n=[];for(var r in t)("constructor"!=r||!e&&qt.call(t,r))&&n.push(r);return n};const $t=function(t){return(0,Qt.Z)(t)?(0,Zt.Z)(t,!0):Jt(t)};var te=jt((function(t,e){Ut(e,$t(e),t)}));const ee=te;var ne=jt((function(t,e,n,r){Ut(e,$t(e),t,r)}));const re=ne;var ie=jt((function(t,e,n,r){Ut(e,(0,Vt.Z)(e),t,r)}));const oe=ie;var ae=n(7449),se=n(2281);const le=function(t,e){for(var n=0,r=(e=(0,ae.Z)(e,t)).length;null!=t&&n<r;)t=t[(0,se.Z)(e[n++])];return n&&n==r?t:void 0};const ce=function(t,e,n){var r=null==t?void 0:le(t,e);return void 0===r?n:r};const ue=function(t,e){for(var n=-1,r=e.length,i=Array(r),o=null==t;++n<r;)i[n]=o?void 0:ce(t,e[n]);return i};var Ae=n(8694),he=n(7685),de=n(4732),pe=he.Z?he.Z.isConcatSpreadable:void 0;const fe=function(t){return(0,H.Z)(t)||(0,de.Z)(t)||!!(pe&&t&&t[pe])};const me=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=fe),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):(0,Ae.Z)(o,l):i||(o[o.length]=l)}return o};const ge=function(t){return(null==t?0:t.length)?me(t,1):[]};const ye=function(t){return at(Ht(t,void 0,ge),t+"")};const ve=ye(ue);var _e=n(3243);const we=(0,n(1851).Z)(Object.getPrototypeOf,Object);var be=Function.prototype,xe=Object.prototype,Me=be.toString,Le=xe.hasOwnProperty,Ce=Me.call(Object);const Ee=function(t){if(!(0,Y.Z)(t)||"[object Object]"!=(0,_e.Z)(t))return!1;var e=we(t);if(null===e)return!0;var n=Le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ce};const Be=function(t){if(!(0,Y.Z)(t))return!1;var e=(0,_e.Z)(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ee(t)};var Se=Yt((function(t,e){try{return b(t,void 0,e)}catch(t){return Be(t)?t:new Error(t)}}));const Te=Se;const De=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=(0,l.Z)(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};var Ie=Yt((function(t,e,n){var r=1;if(n.length){var i=bt(n,gt(Ie));r|=32}return Dt(t,r,e,n,i)}));Ie.placeholder={};const Pe=Ie;const Fe=ye((function(t,e){return st(e,(function(e){e=(0,se.Z)(e),Pt(t,e,Pe(t[e],t))})),t}));var ke=Yt((function(t,e,n){var r=3;if(n.length){var i=bt(n,gt(ke));r|=32}return Dt(e,r,t,n,i)}));ke.placeholder={};const Re=ke;var Ue=n(7338),Oe=n(5042),He=n(9047),Ye=n(5876);const Qe=function(t){return function(e){e=(0,Ue.Z)(e);var n=(0,He.Z)(e)?(0,Ye.Z)(e):void 0,r=n?n[0]:e.charAt(0),i=n?(0,Oe.Z)(n,1).join(""):e.slice(1);return r[t]()+i}};const Ne=Qe("toUpperCase");const je=function(t){return Ne((0,Ue.Z)(t).toLowerCase())};const We=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n};const Ve=function(t){return function(e){return null==t?void 0:t[e]}};const ze=Ve({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});var Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Ze=function(t){return(t=(0,Ue.Z)(t))&&t.replace(Ge,ze).replace(Ke,"")};var Xe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const qe=function(t){return t.match(Xe)||[]};var Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const $e=function(t){return Je.test(t)};var tn="\\ud800-\\udfff",en="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",rn="A-Z\\xc0-\\xd6\\xd8-\\xde",on="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",an="["+on+"]",sn="\\d+",ln="["+en+"]",cn="["+nn+"]",un="[^"+tn+on+sn+en+nn+rn+"]",An="(?:\\ud83c[\\udde6-\\uddff]){2}",hn="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+rn+"]",pn="(?:"+cn+"|"+un+")",fn="(?:"+dn+"|"+un+")",mn="(?:['](?:d|ll|m|re|s|t|ve))?",gn="(?:['](?:D|LL|M|RE|S|T|VE))?",yn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",vn="[\\ufe0e\\ufe0f]?",_n=vn+yn+("(?:\\u200d(?:"+["[^"+tn+"]",An,hn].join("|")+")"+vn+yn+")*"),wn="(?:"+[ln,An,hn].join("|")+")"+_n,bn=RegExp([dn+"?"+cn+"+"+mn+"(?="+[an,dn,"$"].join("|")+")",fn+"+"+gn+"(?="+[an,dn+pn,"$"].join("|")+")",dn+"?"+pn+"+"+mn,dn+"+"+gn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sn,wn].join("|"),"g");const xn=function(t){return t.match(bn)||[]};const Mn=function(t,e,n){return t=(0,Ue.Z)(t),void 0===(e=n?void 0:e)?$e(t)?xn(t):qe(t):t.match(e)||[]};var Ln=RegExp("[']","g");const Cn=function(t){return function(e){return We(Mn(Ze(e).replace(Ln,"")),t,"")}};var En=Cn((function(t,e,n){return e=e.toLowerCase(),t+(n?je(e):e)}));const Bn=En;const Sn=function(){if(!arguments.length)return[];var t=arguments[0];return(0,H.Z)(t)?t:[t]};var Tn=n(5742),Dn=_.Z.isFinite,In=Math.min;const Pn=function(t){var e=Math[t];return function(t,n){if(t=(0,Tn.Z)(t),(n=null==n?0:In((0,l.Z)(n),292))&&Dn(t)){var r=((0,Ue.Z)(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return+((r=((0,Ue.Z)(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}};const Fn=Pn("ceil");const kn=function(t){var e=V(t);return e.__chain__=!0,e};var Rn=n(7855),Un=Math.ceil,On=Math.max;const Hn=function(t,e,n){e=(n?Nt(t,e,n):void 0===e)?1:On((0,l.Z)(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Array(Un(r/e));i<r;)a[o++]=(0,Rn.Z)(t,i,i+=e);return a};const Yn=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};const Qn=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=(0,Tn.Z)(n))==n?n:0),void 0!==e&&(e=(e=(0,Tn.Z)(e))==e?e:0),Yn((0,Tn.Z)(t),e,n)};var Nn=n(5365);const jn=function(t,e){return t&&Ut(e,(0,Vt.Z)(e),t)};const Wn=function(t,e){return t&&Ut(e,$t(e),t)};var Vn="object"==typeof exports&&exports&&!exports.nodeType&&exports,zn=Vn&&"object"==typeof module&&module&&!module.nodeType&&module,Gn=zn&&zn.exports===Vn?_.Z.Buffer:void 0,Kn=Gn?Gn.allocUnsafe:void 0;const Zn=function(t,e){if(e)return t.slice();var n=t.length,r=Kn?Kn(n):new t.constructor(n);return t.copy(r),r};var Xn=n(5695);const qn=function(t,e){return Ut(t,(0,Xn.Z)(t),e)};var Jn=n(532),$n=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)(0,Ae.Z)(e,(0,Xn.Z)(t)),t=we(t);return e}:Jn.Z;const tr=$n;const er=function(t,e){return Ut(t,tr(t),e)};var nr=n(1808),rr=n(3327);const ir=function(t){return(0,rr.Z)(t,$t,tr)};var or=n(762),ar=Object.prototype.hasOwnProperty;const sr=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ar.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var lr=n(7623);const cr=function(t){var e=new t.constructor(t.byteLength);return new lr.Z(e).set(new lr.Z(t)),e};const ur=function(t,e){var n=e?cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var Ar=/\w*$/;const hr=function(t){var e=new t.constructor(t.source,Ar.exec(t));return e.lastIndex=t.lastIndex,e};var dr=he.Z?he.Z.prototype:void 0,pr=dr?dr.valueOf:void 0;const fr=function(t){return pr?Object(pr.call(t)):{}};const mr=function(t,e){var n=e?cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const gr=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return cr(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ur(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mr(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return hr(t);case"[object Symbol]":return fr(t)}};const yr=function(t){return"function"!=typeof t.constructor||(0,Wt.Z)(t)?{}:y(we(t))};var vr=n(5763);const _r=function(t){return(0,Y.Z)(t)&&"[object Map]"==(0,or.Z)(t)};var wr=n(1162),br=n(8351),xr=br.Z&&br.Z.isMap;const Mr=xr?(0,wr.Z)(xr):_r;const Lr=function(t){return(0,Y.Z)(t)&&"[object Set]"==(0,or.Z)(t)};var Cr=br.Z&&br.Z.isSet;const Er=Cr?(0,wr.Z)(Cr):Lr;var Br="[object Arguments]",Sr="[object Function]",Tr="[object Object]",Dr={};Dr[Br]=Dr["[object Array]"]=Dr["[object ArrayBuffer]"]=Dr["[object DataView]"]=Dr["[object Boolean]"]=Dr["[object Date]"]=Dr["[object Float32Array]"]=Dr["[object Float64Array]"]=Dr["[object Int8Array]"]=Dr["[object Int16Array]"]=Dr["[object Int32Array]"]=Dr["[object Map]"]=Dr["[object Number]"]=Dr[Tr]=Dr["[object RegExp]"]=Dr["[object Set]"]=Dr["[object String]"]=Dr["[object Symbol]"]=Dr["[object Uint8Array]"]=Dr["[object Uint8ClampedArray]"]=Dr["[object Uint16Array]"]=Dr["[object Uint32Array]"]=!0,Dr["[object Error]"]=Dr[Sr]=Dr["[object WeakMap]"]=!1;const Ir=function t(e,n,r,i,o,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!(0,f.Z)(e))return e;var A=(0,H.Z)(e);if(A){if(s=sr(e),!l)return Q(e,s)}else{var h=(0,or.Z)(e),d=h==Sr||"[object GeneratorFunction]"==h;if((0,vr.Z)(e))return Zn(e,l);if(h==Tr||h==Br||d&&!o){if(s=c||d?{}:yr(e),!l)return c?er(e,Wn(s,e)):qn(e,jn(s,e))}else{if(!Dr[h])return o?e:{};s=gr(e,h,l)}}a||(a=new Nn.Z);var p=a.get(e);if(p)return p;a.set(e,s),Er(e)?e.forEach((function(i){s.add(t(i,n,r,i,e,a))})):Mr(e)&&e.forEach((function(i,o){s.set(o,t(i,n,r,o,e,a))}));var m=u?c?ir:nr.Z:c?$t:Vt.Z,g=A?void 0:m(e);return st(g||e,(function(i,o){g&&(i=e[o=i]),Rt(s,o,t(i,n,r,o,e,a))})),s};const Pr=function(t){return Ir(t,4)};const Fr=function(t){return Ir(t,5)};const kr=function(t,e){return Ir(t,5,e="function"==typeof e?e:void 0)};const Rr=function(t,e){return Ir(t,4,e="function"==typeof e?e:void 0)};const Ur=function(){return new O(this.value(),this.__chain__)};const Or=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i};const Hr=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return(0,Ae.Z)((0,H.Z)(n)?Q(n):[n],me(e,1))};var Yr=n(4073),Qr=n(1443);const Nr=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var A=new Nn.Z;if(r)var h=r(c,u,l,t,e,A);if(!(void 0===h?(0,Qr.Z)(u,c,3,r,A):h))return!1}}return!0};const jr=function(t){return t==t&&!(0,f.Z)(t)};const Wr=function(t){for(var e=(0,Vt.Z)(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jr(i)]}return e};const Vr=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};const zr=function(t){var e=Wr(t);return 1==e.length&&e[0][2]?Vr(e[0][0],e[0][1]):function(n){return n===t||Nr(n,t,e)}};var Gr=n(1910),Kr=n(9365);const Zr=function(t,e){return(0,Kr.Z)(t)&&jr(e)?Vr((0,se.Z)(t),e):function(n){var r=ce(n,t);return void 0===r&&r===e?(0,Gr.Z)(n,t):(0,Qr.Z)(e,r,3)}};var Xr=n(4193);const qr=function(t){return function(e){return le(e,t)}};const Jr=function(t){return(0,Kr.Z)(t)?(0,Xr.Z)((0,se.Z)(t)):qr(t)};const $r=function(t){return"function"==typeof t?t:null==t?u:"object"==typeof t?(0,H.Z)(t)?Zr(t[0],t[1]):zr(t):Jr(t)};const ti=function(t){var e=null==t?0:t.length,n=$r;return t=e?(0,Yr.Z)(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[n(t[0]),t[1]]})):[],Yt((function(n){for(var r=-1;++r<e;){var i=t[r];if(b(i[0],this,n))return b(i[1],this,n)}}))};const ei=function(t,e,n){var r=n.length;if(null==t)return!r;for(t=Object(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0};const ni=function(t){var e=(0,Vt.Z)(t);return function(n){return ei(n,t,e)}};const ri=function(t){return ni(Ir(t,1))};const ii=function(t,e){return null==e||ei(t,e,(0,Vt.Z)(e))};const oi=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r};const ai=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}};const si=ai();const li=function(t,e){return t&&si(t,e,Vt.Z)};const ci=function(t,e){return function(n,r){if(null==n)return n;if(!(0,Qt.Z)(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}};const ui=ci(li);const Ai=function(t,e,n,r){return ui(t,(function(t,i,o){e(r,t,n(t),o)})),r};const hi=function(t,e){return function(n,r){var i=(0,H.Z)(n)?oi:Ai,o=e?e():{};return i(n,t,$r(r,2),o)}};var di=Object.prototype.hasOwnProperty,pi=hi((function(t,e,n){di.call(t,n)?++t[n]:Pt(t,n,1)}));const fi=pi;const mi=function(t,e){var n=y(t);return null==e?n:jn(n,e)};function gi(t,e,n){var r=Dt(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=gi.placeholder,r}gi.placeholder={};const yi=gi;function vi(t,e,n){var r=Dt(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=vi.placeholder,r}vi.placeholder={};const _i=vi;const wi=function(){return _.Z.Date.now()};var bi=Math.max,xi=Math.min;const Mi=function(t,e,n){var r,i,o,a,s,l,c=0,u=!1,A=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||A&&t-c>=o}function m(){var t=wi();if(p(t))return g(t);s=setTimeout(m,function(t){var n=e-(t-l);return A?xi(n,o-(t-c)):n}(t))}function g(t){return s=void 0,h&&r?d(t):(r=i=void 0,a)}function y(){var t=wi(),n=p(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return c=t,s=setTimeout(m,e),u?d(t):a}(l);if(A)return clearTimeout(s),s=setTimeout(m,e),d(l)}return void 0===s&&(s=setTimeout(m,e)),a}return e=(0,Tn.Z)(e)||0,(0,f.Z)(n)&&(u=!!n.leading,o=(A="maxWait"in n)?bi((0,Tn.Z)(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(wi())},y};const Li=function(t,e){return null==t||t!=t?e:t};var Ci=Object.prototype,Ei=Ci.hasOwnProperty,Bi=Yt((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Nt(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=$t(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(void 0===u||(0,Ft.Z)(u,Ci[c])&&!Ei.call(t,c))&&(t[c]=o[c])}return t}));const Si=Bi;const Ti=function(t,e,n){(void 0!==n&&!(0,Ft.Z)(t[e],n)||void 0===n&&!(e in t))&&Pt(t,e,n)};const Di=function(t){return(0,Y.Z)(t)&&(0,Qt.Z)(t)};var Ii=n(3234),Pi=n(7212);const Fi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};const ki=function(t){return Ut(t,$t(t))};const Ri=function(t,e,n,r,i,o,a){var s=Fi(t,n),l=Fi(e,n),c=a.get(l);if(c)Ti(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,A=void 0===u;if(A){var h=(0,H.Z)(l),d=!h&&(0,vr.Z)(l),p=!h&&!d&&(0,Pi.Z)(l);u=l,h||d||p?(0,H.Z)(s)?u=s:Di(s)?u=Q(s):d?(A=!1,u=Zn(l,!0)):p?(A=!1,u=mr(l,!0)):u=[]:Ee(l)||(0,de.Z)(l)?(u=s,(0,de.Z)(s)?u=ki(s):(0,f.Z)(s)&&!(0,Ii.Z)(s)||(u=yr(l))):A=!1}A&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),Ti(t,n,u)}};const Ui=function t(e,n,r,i,o){e!==n&&si(n,(function(a,s){if(o||(o=new Nn.Z),(0,f.Z)(a))Ri(e,n,s,r,t,i,o);else{var l=i?i(Fi(e,s),a,s+"",e,n,o):void 0;void 0===l&&(l=a),Ti(e,s,l)}}),$t)};const Oi=function t(e,n,r,i,o,a){return(0,f.Z)(e)&&(0,f.Z)(n)&&(a.set(n,e),Ui(e,n,void 0,t,a),a.delete(n)),e};var Hi=jt((function(t,e,n,r){Ui(t,e,n,r)}));const Yi=Hi;const Qi=Yt((function(t){return t.push(void 0,Oi),b(Yi,void 0,t)}));const Ni=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)};var ji=Yt((function(t,e){return Ni(t,1,e)}));const Wi=ji;var Vi=Yt((function(t,e,n){return Ni(t,(0,Tn.Z)(e)||0,n)}));const zi=Vi;var Gi=n(5668);const Ki=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1};var Zi=n(9548);const Xi=function(t,e,n,r){var i=-1,o=ht,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=(0,Yr.Z)(e,(0,wr.Z)(n))),r?(o=Ki,a=!1):e.length>=200&&(o=Zi.Z,a=!1,e=new Gi.Z(e));t:for(;++i<s;){var u=t[i],A=null==n?u:n(u);if(u=r||0!==u?u:0,a&&A==A){for(var h=c;h--;)if(e[h]===A)continue t;l.push(u)}else o(e,A,r)||l.push(u)}return l};var qi=Yt((function(t,e){return Di(t)?Xi(t,me(e,1,Di,!0)):[]}));const Ji=qi;const $i=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var to=Yt((function(t,e){var n=$i(e);return Di(n)&&(n=void 0),Di(t)?Xi(t,me(e,1,Di,!0),$r(n,2)):[]}));const eo=to;var no=Yt((function(t,e){var n=$i(e);return Di(n)&&(n=void 0),Di(t)?Xi(t,me(e,1,Di,!0),void 0,n):[]}));const ro=no;const io=a((function(t,e){return t/e}),1);const oo=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:(0,l.Z)(e),(0,Rn.Z)(t,e<0?0:e,r)):[]};const ao=function(t,e,n){var r=null==t?0:t.length;return r?(e=r-(e=n||void 0===e?1:(0,l.Z)(e)),(0,Rn.Z)(t,0,e<0?0:e)):[]};const so=function(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?(0,Rn.Z)(t,r?0:o,r?o+1:i):(0,Rn.Z)(t,r?o+1:0,r?i:o)};const lo=function(t,e){return t&&t.length?so(t,$r(e,3),!0,!0):[]};const co=function(t,e){return t&&t.length?so(t,$r(e,3),!0):[]};const uo=function(t){return"function"==typeof t?t:u};const Ao=function(t,e){return((0,H.Z)(t)?st:ui)(t,uo(e))};const ho=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t};const po=ai(!0);const fo=function(t,e){return t&&po(t,e,Vt.Z)};const mo=ci(fo,!0);const go=function(t,e){return((0,H.Z)(t)?ho:mo)(t,uo(e))};const yo=function(t,e,n){t=(0,Ue.Z)(t),e=(0,o.Z)(e);var r=t.length,i=n=void 0===n?r:Yn((0,l.Z)(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e};const vo=function(t,e){return(0,Yr.Z)(e,(function(e){return[e,t[e]]}))};var _o=n(4910);const wo=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n};const bo=function(t){return function(e){var n=(0,or.Z)(e);return"[object Map]"==n?(0,_o.Z)(e):"[object Set]"==n?wo(e):vo(e,t(e))}};const xo=bo(Vt.Z);const Mo=bo($t);const Lo=Ve({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var Co=/[&<>"']/g,Eo=RegExp(Co.source);const Bo=function(t){return(t=(0,Ue.Z)(t))&&Eo.test(t)?t.replace(Co,Lo):t};var So=/[\\^$.*+?()[\]{}|]/g,To=RegExp(So.source);const Do=function(t){return(t=(0,Ue.Z)(t))&&To.test(t)?t.replace(So,"\\$&"):t};const Io=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0};const Po=function(t,e){var n=!0;return ui(t,(function(t,r,i){return n=!!e(t,r,i)})),n};const Fo=function(t,e,n){var r=(0,H.Z)(t)?Io:Po;return n&&Nt(t,e,n)&&(e=void 0),r(t,$r(e,3))};const ko=function(t){return t?Yn((0,l.Z)(t),0,4294967295):0};const Ro=function(t,e,n,r){var i=t.length;for((n=(0,l.Z)(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:(0,l.Z)(r))<0&&(r+=i),r=n>r?0:ko(r);n<r;)t[n++]=e;return t};const Uo=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Nt(t,e,n)&&(n=0,r=i),Ro(t,e,n,r)):[]};var Oo=n(8774);const Ho=function(t,e){var n=[];return ui(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n};const Yo=function(t,e){return((0,H.Z)(t)?Oo.Z:Ho)(t,$r(e,3))};const Qo=function(t){return function(e,n,r){var i=Object(e);if(!(0,Qt.Z)(e)){var o=$r(n,3);e=(0,Vt.Z)(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}};var No=Math.max;const jo=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:(0,l.Z)(n);return i<0&&(i=No(r+i,0)),lt(t,$r(e,3),i)};const Wo=Qo(jo);const Vo=function(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r};const zo=function(t,e){return Vo(t,$r(e,3),li)};var Go=Math.max,Ko=Math.min;const Zo=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=(0,l.Z)(n),i=n<0?Go(r+i,0):Ko(i,r-1)),lt(t,$r(e,3),i,!0)};const Xo=Qo(Zo);const qo=function(t,e){return Vo(t,$r(e,3),fo)};const Jo=function(t){return t&&t.length?t[0]:void 0};const $o=function(t,e){var n=-1,r=(0,Qt.Z)(t)?Array(t.length):[];return ui(t,(function(t,i,o){r[++n]=e(t,i,o)})),r};const ta=function(t,e){return((0,H.Z)(t)?Yr.Z:$o)(t,$r(e,3))};const ea=function(t,e){return me(ta(t,e),1)};var na=1/0;const ra=function(t,e){return me(ta(t,e),na)};const ia=function(t,e,n){return n=void 0===n?1:(0,l.Z)(n),me(ta(t,e),n)};var oa=1/0;const aa=function(t){return(null==t?0:t.length)?me(t,oa):[]};const sa=function(t,e){return(null==t?0:t.length)?(e=void 0===e?1:(0,l.Z)(e),me(t,e)):[]};const la=function(t){return Dt(t,512)};const ca=Pn("floor");const ua=function(t){return ye((function(e){var n=e.length,r=n,i=O.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!a&&"wrapper"==R(o))var a=new O([],!0)}for(r=a?r:n;++r<n;){o=e[r];var s=R(o),l="wrapper"==s?P(o):void 0;a=l&&z(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[R(l[0])].apply(a,l[3]):1==o.length&&z(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&(0,H.Z)(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))};const Aa=ua();const ha=ua(!0);const da=function(t,e){return null==t?t:si(t,uo(e),$t)};const pa=function(t,e){return null==t?t:po(t,uo(e),$t)};const fa=function(t,e){return t&&li(t,uo(e))};const ma=function(t,e){return t&&fo(t,uo(e))};const ga=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r};const ya=function(t,e){return(0,Oo.Z)(e,(function(e){return(0,Ii.Z)(t[e])}))};const va=function(t){return null==t?[]:ya(t,(0,Vt.Z)(t))};const _a=function(t){return null==t?[]:ya(t,$t(t))};var wa=Object.prototype.hasOwnProperty,ba=hi((function(t,e,n){wa.call(t,n)?t[n].push(e):Pt(t,n,[e])}));const xa=ba;const Ma=function(t,e){return t>e};const La=function(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=(0,Tn.Z)(e),n=(0,Tn.Z)(n)),t(e,n)}};const Ca=La(Ma);const Ea=La((function(t,e){return t>=e}));var Ba=Object.prototype.hasOwnProperty;const Sa=function(t,e){return null!=t&&Ba.call(t,e)};var Ta=n(6174);const Da=function(t,e){return null!=t&&(0,Ta.Z)(t,e,Sa)};var Ia=Math.max,Pa=Math.min;const Fa=function(t,e,n){return t>=Pa(e,n)&&t<Ia(e,n)};var ka=n(9640);const Ra=function(t,e,n){return e=(0,ka.Z)(e),void 0===n?(n=e,e=0):n=(0,ka.Z)(n),t=(0,Tn.Z)(t),Fa(t,e,n)};const Ua=function(t){return"string"==typeof t||!(0,H.Z)(t)&&(0,Y.Z)(t)&&"[object String]"==(0,_e.Z)(t)};const Oa=function(t,e){return(0,Yr.Z)(e,(function(e){return t[e]}))};const Ha=function(t){return null==t?[]:Oa(t,(0,Vt.Z)(t))};var Ya=Math.max;const Qa=function(t,e,n,r){t=(0,Qt.Z)(t)?t:Ha(t),n=n&&!r?(0,l.Z)(n):0;var i=t.length;return n<0&&(n=Ya(i+n,0)),Ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&At(t,e,n)>-1};var Na=Math.max;const ja=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:(0,l.Z)(n);return i<0&&(i=Na(r+i,0)),At(t,e,i)};const Wa=function(t){return(null==t?0:t.length)?(0,Rn.Z)(t,0,-1):[]};var Va=Math.min;const za=function(t,e,n){for(var r=n?Ki:ht,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,c=[];a--;){var u=t[a];a&&e&&(u=(0,Yr.Z)(u,(0,wr.Z)(e))),l=Va(u.length,l),s[a]=!n&&(e||i>=120&&u.length>=120)?new Gi.Z(a&&u):void 0}u=t[0];var A=-1,h=s[0];t:for(;++A<i&&c.length<l;){var d=u[A],p=e?e(d):d;if(d=n||0!==d?d:0,!(h?(0,Zi.Z)(h,p):r(c,p,n))){for(a=o;--a;){var f=s[a];if(!(f?(0,Zi.Z)(f,p):r(t[a],p,n)))continue t}h&&h.push(p),c.push(d)}}return c};const Ga=function(t){return Di(t)?t:[]};const Ka=Yt((function(t){var e=(0,Yr.Z)(t,Ga);return e.length&&e[0]===t[0]?za(e):[]}));var Za=Yt((function(t){var e=$i(t),n=(0,Yr.Z)(t,Ga);return e===$i(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?za(n,$r(e,2)):[]}));const Xa=Za;const qa=Yt((function(t){var e=$i(t),n=(0,Yr.Z)(t,Ga);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?za(n,void 0,e):[]}));const Ja=function(t,e,n,r){return li(t,(function(t,i,o){e(r,n(t),i,o)})),r};const $a=function(t,e){return function(n,r){return Ja(n,t,e(r),{})}};var ts=Object.prototype.toString,es=$a((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ts.call(e)),t[e]=n}),et(u));const ns=es;var rs=Object.prototype,is=rs.hasOwnProperty,os=rs.toString,as=$a((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=os.call(e)),is.call(t,e)?t[e].push(n):t[e]=[n]}),$r);const ss=as;const ls=function(t,e){return e.length<2?t:le(t,(0,Rn.Z)(e,0,-1))};const cs=function(t,e,n){e=(0,ae.Z)(e,t);var r=null==(t=ls(t,e))?t:t[(0,se.Z)($i(e))];return null==r?void 0:b(r,t,n)};const us=Yt(cs);var As=Yt((function(t,e,n){var r=-1,i="function"==typeof e,o=(0,Qt.Z)(t)?Array(t.length):[];return ui(t,(function(t){o[++r]=i?b(e,t,n):cs(t,e,n)})),o}));const hs=As;const ds=function(t){return(0,Y.Z)(t)&&"[object ArrayBuffer]"==(0,_e.Z)(t)};var ps=br.Z&&br.Z.isArrayBuffer;const fs=ps?(0,wr.Z)(ps):ds;const ms=function(t){return!0===t||!1===t||(0,Y.Z)(t)&&"[object Boolean]"==(0,_e.Z)(t)};const gs=function(t){return(0,Y.Z)(t)&&"[object Date]"==(0,_e.Z)(t)};var ys=br.Z&&br.Z.isDate;const vs=ys?(0,wr.Z)(ys):gs;const _s=function(t){return(0,Y.Z)(t)&&1===t.nodeType&&!Ee(t)};var ws=n(9697),bs=n(576);const xs=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?(0,Qr.Z)(t,e,void 0,n):!!r};var Ms=_.Z.isFinite;const Ls=function(t){return"number"==typeof t&&Ms(t)};const Cs=function(t){return"number"==typeof t&&t==(0,l.Z)(t)};var Es=n(1656);const Bs=function(t,e){return t===e||Nr(t,e,Wr(e))};const Ss=function(t,e,n){return n="function"==typeof n?n:void 0,Nr(t,e,Wr(e),n)};const Ts=function(t){return"number"==typeof t||(0,Y.Z)(t)&&"[object Number]"==(0,_e.Z)(t)};const Ds=function(t){return Ts(t)&&t!=+t};var Is=n(4808),Ps=n(1819),Fs=n(7979);const ks=Ps.Z?Ii.Z:Fs.Z;const Rs=function(t){if(ks(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return(0,Is.Z)(t)};const Us=function(t){return null==t};const Os=function(t){return null===t};const Hs=function(t){return(0,Y.Z)(t)&&"[object RegExp]"==(0,_e.Z)(t)};var Ys=br.Z&&br.Z.isRegExp;const Qs=Ys?(0,wr.Z)(Ys):Hs;var Ns=9007199254740991;const js=function(t){return Cs(t)&&t>=-9007199254740991&&t<=Ns};var Ws=n(9360);const Vs=function(t){return(0,Y.Z)(t)&&"[object WeakMap]"==(0,or.Z)(t)};const zs=function(t){return(0,Y.Z)(t)&&"[object WeakSet]"==(0,_e.Z)(t)};const Gs=function(t){return $r("function"==typeof t?t:Ir(t,1))};var Ks=Array.prototype.join;const Zs=function(t,e){return null==t?"":Ks.call(t,e)};var Xs=Cn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}));const qs=Xs;var Js=hi((function(t,e,n){Pt(t,n,e)}));const $s=Js;const tl=function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r};var el=Math.max,nl=Math.min;const rl=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=(0,l.Z)(n))<0?el(r+i,0):nl(i,r-1)),e==e?tl(t,e,i):lt(t,ct,i,!0)};var il=Cn((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}));const ol=il;const al=Qe("toLowerCase");const sl=function(t,e){return t<e};const ll=La(sl);const cl=La((function(t,e){return t<=e}));const ul=function(t,e){var n={};return e=$r(e,3),li(t,(function(t,r,i){Pt(n,e(t,r,i),t)})),n};const Al=function(t,e){var n={};return e=$r(e,3),li(t,(function(t,r,i){Pt(n,r,e(t,r,i))})),n};const hl=function(t){return zr(Ir(t,1))};const dl=function(t,e){return Zr(t,Ir(e,1))};const pl=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s==s&&!(0,r.Z)(s):n(s,l)))var l=s,c=a}return c};const fl=function(t){return t&&t.length?pl(t,u,Ma):void 0};const ml=function(t,e){return t&&t.length?pl(t,$r(e,2),Ma):void 0};const gl=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n};const yl=function(t,e){var n=null==t?0:t.length;return n?gl(t,e)/n:NaN};const vl=function(t){return yl(t,u)};const _l=function(t,e){return yl(t,$r(e,2))};var wl=n(2454),bl=jt((function(t,e,n){Ui(t,e,n)}));const xl=bl;const Ml=Yt((function(t,e){return function(n){return cs(n,t,e)}}));const Ll=Yt((function(t,e){return function(n){return cs(t,n,e)}}));const Cl=function(t){return t&&t.length?pl(t,u,sl):void 0};const El=function(t,e){return t&&t.length?pl(t,$r(e,2),sl):void 0};const Bl=function(t,e,n){var r=(0,Vt.Z)(e),i=ya(e,r),o=!((0,f.Z)(n)&&"chain"in n&&!n.chain),a=(0,Ii.Z)(t);return st(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Q(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,(0,Ae.Z)([this.value()],arguments))})})),t};const Sl=a((function(t,e){return t*e}),1);const Tl=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};const Dl=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n};var Il=n(6545),Pl=he.Z?he.Z.iterator:void 0;const Fl=function(t){if(!t)return[];if((0,Qt.Z)(t))return Ua(t)?(0,Ye.Z)(t):Q(t);if(Pl&&t[Pl])return Dl(t[Pl]());var e=(0,or.Z)(t);return("[object Map]"==e?_o.Z:"[object Set]"==e?Il.Z:Ha)(t)};const kl=function(){void 0===this.__values__&&(this.__values__=Fl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}};const Rl=function(t,e){var n=t.length;if(n)return e+=e<0?n:0,(0,yt.Z)(e,n)?t[e]:void 0};const Ul=function(t,e){return t&&t.length?Rl(t,(0,l.Z)(e)):void 0};const Ol=function(t){return t=(0,l.Z)(t),Yt((function(e){return Rl(e,t)}))};const Hl=function(t,e){return e=(0,ae.Z)(e,t),null==(t=ls(t,e))||delete t[(0,se.Z)($i(e))]};const Yl=function(t){return Ee(t)?void 0:t};var Ql=ye((function(t,e){var n={};if(null==t)return n;var r=!1;e=(0,Yr.Z)(e,(function(e){return e=(0,ae.Z)(e,t),r||(r=e.length>1),e})),Ut(t,ir(t),n),r&&(n=Ir(n,7,Yl));for(var i=e.length;i--;)Hl(n,e[i]);return n}));const Nl=Ql;const jl=function(t,e,n,r){if(!(0,f.Z)(t))return t;for(var i=-1,o=(e=(0,ae.Z)(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var l=(0,se.Z)(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=(0,f.Z)(u)?u:(0,yt.Z)(e[i+1])?[]:{})}Rt(s,l,c),s=s[l]}return t};const Wl=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=le(t,a);n(s,a)&&jl(o,(0,ae.Z)(a,t),s)}return o};const Vl=function(t,e){if(null==t)return{};var n=(0,Yr.Z)(ir(t),(function(t){return[t]}));return e=$r(e),Wl(t,n,(function(t,n){return e(t,n[0])}))};const zl=function(t,e){return Vl(t,Tl($r(e)))};const Gl=function(t){return De(2,t)};const Kl=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};const Zl=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=(0,r.Z)(t),s=void 0!==e,l=null===e,c=e==e,u=(0,r.Z)(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0};const Xl=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Zl(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index};const ql=function(t,e,n){e=e.length?(0,Yr.Z)(e,(function(t){return(0,H.Z)(t)?function(e){return le(e,1===t.length?t[0]:t)}:t})):[u];var r=-1;e=(0,Yr.Z)(e,(0,wr.Z)($r));var i=$o(t,(function(t,n,i){var o=(0,Yr.Z)(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return Kl(i,(function(t,e){return Xl(t,e,n)}))};const Jl=function(t,e,n,r){return null==t?[]:((0,H.Z)(e)||(e=null==e?[]:[e]),n=r?void 0:n,(0,H.Z)(n)||(n=null==n?[]:[n]),ql(t,e,n))};const $l=function(t){return ye((function(e){return e=(0,Yr.Z)(e,(0,wr.Z)($r)),Yt((function(n){var r=this;return t(e,(function(t){return b(t,r,n)}))}))}))};const tc=$l(Yr.Z);const ec=Yt;var nc=Math.min,rc=ec((function(t,e){var n=(e=1==e.length&&(0,H.Z)(e[0])?(0,Yr.Z)(e[0],(0,wr.Z)($r)):(0,Yr.Z)(me(e,1),(0,wr.Z)($r))).length;return Yt((function(r){for(var i=-1,o=nc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return b(t,this,r)}))}));const ic=rc;const oc=$l(Io);var ac=n(2338);const sc=$l(ac.Z);var lc=n(9628),cc=n(5625),uc=Math.ceil,Ac=Math.floor;const hc=function(t,e,n){t=(0,Ue.Z)(t);var r=(e=(0,l.Z)(e))?(0,cc.Z)(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return(0,lc.Z)(Ac(i),n)+t+(0,lc.Z)(uc(i),n)};const dc=function(t,e,n){t=(0,Ue.Z)(t);var r=(e=(0,l.Z)(e))?(0,cc.Z)(t):0;return e&&r<e?t+(0,lc.Z)(e-r,n):t};var pc=n(3265),fc=/^\s+/,mc=_.Z.parseInt;const gc=function(t,e,n){return n||null==e?e=0:e&&(e=+e),mc((0,Ue.Z)(t).replace(fc,""),e||0)};var yc=Yt((function(t,e){var n=bt(e,gt(yc));return Dt(t,32,void 0,e,n)}));yc.placeholder={};const vc=yc;var _c=Yt((function(t,e){var n=bt(e,gt(_c));return Dt(t,64,void 0,e,n)}));_c.placeholder={};const wc=_c;var bc=hi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));const xc=bc;const Mc=function(t,e){return Wl(t,e,(function(e,n){return(0,Gr.Z)(t,n)}))};const Lc=ye((function(t,e){return null==t?{}:Mc(t,e)}));const Cc=function(t){for(var e,n=this;n instanceof B;){var r=N(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e};const Ec=function(t){return function(e){return null==t?void 0:le(t,e)}};const Bc=function(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1};var Sc=Array.prototype.splice;const Tc=function(t,e,n,r){var i=r?Bc:At,o=-1,a=e.length,s=t;for(t===e&&(e=Q(e)),n&&(s=(0,Yr.Z)(t,(0,wr.Z)(n)));++o<a;)for(var l=0,c=e[o],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==t&&Sc.call(s,l,1),Sc.call(t,l,1);return t};const Dc=function(t,e){return t&&t.length&&e&&e.length?Tc(t,e):t};const Ic=Yt(Dc);const Pc=function(t,e,n){return t&&t.length&&e&&e.length?Tc(t,e,$r(n,2)):t};const Fc=function(t,e,n){return t&&t.length&&e&&e.length?Tc(t,e,void 0,n):t};var kc=Array.prototype.splice;const Rc=function(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;(0,yt.Z)(i)?kc.call(t,i,1):Hl(t,i)}}return t};var Uc=ye((function(t,e){var n=null==t?0:t.length,r=ue(t,e);return Rc(t,(0,Yr.Z)(e,(function(t){return(0,yt.Z)(t,n)?+t:t})).sort(Zl)),r}));const Oc=Uc;var Hc=Math.floor,Yc=Math.random;const Qc=function(t,e){return t+Hc(Yc()*(e-t+1))};var Nc=parseFloat,jc=Math.min,Wc=Math.random;const Vc=function(t,e,n){if(n&&"boolean"!=typeof n&&Nt(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=(0,ka.Z)(t),void 0===e?(e=t,t=0):e=(0,ka.Z)(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Wc();return jc(t+i*(e-t+Nc("1e-"+((i+"").length-1))),e)}return Qc(t,e)};var zc=Math.ceil,Gc=Math.max;const Kc=function(t,e,n,r){for(var i=-1,o=Gc(zc((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a};const Zc=function(t){return function(e,n,r){return r&&"number"!=typeof r&&Nt(e,n,r)&&(n=r=void 0),e=(0,ka.Z)(e),void 0===n?(n=e,e=0):n=(0,ka.Z)(n),r=void 0===r?e<n?1:-1:(0,ka.Z)(r),Kc(e,n,r,t)}};const Xc=Zc();const qc=Zc(!0);var Jc=ye((function(t,e){return Dt(t,256,void 0,void 0,void 0,e)}));const $c=Jc;const tu=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n};const eu=function(t,e,n){var r=(0,H.Z)(t)?We:tu,i=arguments.length<3;return r(t,$r(e,4),n,i,ui)};const nu=function(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n};const ru=function(t,e,n){var r=(0,H.Z)(t)?nu:tu,i=arguments.length<3;return r(t,$r(e,4),n,i,mo)};const iu=function(t,e){return((0,H.Z)(t)?Oo.Z:Ho)(t,Tl($r(e,3)))};const ou=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=$r(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Rc(t,i),n};var au=n(5807);const su=function(t,e,n){return e=(n?Nt(t,e,n):void 0===e)?1:(0,l.Z)(e),(0,au.Z)((0,Ue.Z)(t),e)};const lu=function(){var t=arguments,e=(0,Ue.Z)(t[0]);return t.length<3?e:e.replace(t[1],t[2])};const cu=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=void 0===e?e:(0,l.Z)(e),Yt(t,e)};const uu=function(t,e,n){var r=-1,i=(e=(0,ae.Z)(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[(0,se.Z)(e[r])];void 0===o&&(r=i,o=n),t=(0,Ii.Z)(o)?o.call(t):o}return t};var Au=Array.prototype.reverse;const hu=function(t){return null==t?t:Au.call(t)};const du=Pn("round");const pu=function(t){var e=t.length;return e?t[Qc(0,e-1)]:void 0};const fu=function(t){return pu(Ha(t))};const mu=function(t){return((0,H.Z)(t)?pu:fu)(t)};const gu=function(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Qc(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t};const yu=function(t,e){return gu(Q(t),Yn(e,0,t.length))};const vu=function(t,e){var n=Ha(t);return gu(n,Yn(e,0,n.length))};const _u=function(t,e,n){return e=(n?Nt(t,e,n):void 0===e)?1:(0,l.Z)(e),((0,H.Z)(t)?yu:vu)(t,e)};const wu=function(t,e,n){return null==t?t:jl(t,e,n)};const bu=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:jl(t,e,n,r)};const xu=function(t){return gu(Q(t))};const Mu=function(t){return gu(Ha(t))};const Lu=function(t){return((0,H.Z)(t)?xu:Mu)(t)};var Cu=n(8448);const Eu=function(t){if(null==t)return 0;if((0,Qt.Z)(t))return Ua(t)?(0,cc.Z)(t):t.length;var e=(0,or.Z)(t);return"[object Map]"==e||"[object Set]"==e?t.size:(0,Cu.Z)(t).length};const Bu=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Nt(t,e,n)?(e=0,n=r):(e=null==e?0:(0,l.Z)(e),n=void 0===n?r:(0,l.Z)(n)),(0,Rn.Z)(t,e,n)):[]};var Su=Cn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));const Tu=Su;const Du=function(t,e){var n;return ui(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n};const Iu=function(t,e,n){var r=(0,H.Z)(t)?ac.Z:Du;return n&&Nt(t,e,n)&&(e=void 0),r(t,$r(e,3))};const Pu=Yt((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Nt(t,e[0],e[1])?e=[]:n>2&&Nt(e[0],e[1],e[2])&&(e=[e[0]]),ql(t,me(e,1),[])}));var Fu=Math.floor,ku=Math.min;const Ru=function(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,l=null===e,c=(0,r.Z)(e),u=void 0===e;o<a;){var A=Fu((o+a)/2),h=n(t[A]),d=void 0!==h,p=null===h,f=h==h,m=(0,r.Z)(h);if(s)var g=i||f;else g=u?f&&(i||d):l?f&&d&&(i||!p):c?f&&d&&!p&&(i||!m):!p&&!m&&(i?h<=e:h<e);g?o=A+1:a=A}return ku(a,4294967294)};const Uu=function(t,e,n){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;i<o;){var a=i+o>>>1,s=t[a];null!==s&&!(0,r.Z)(s)&&(n?s<=e:s<e)?i=a+1:o=a}return o}return Ru(t,e,u,n)};const Ou=function(t,e){return Uu(t,e)};const Hu=function(t,e,n){return Ru(t,e,$r(n,2))};const Yu=function(t,e){var n=null==t?0:t.length;if(n){var r=Uu(t,e);if(r<n&&(0,Ft.Z)(t[r],e))return r}return-1};const Qu=function(t,e){return Uu(t,e,!0)};const Nu=function(t,e,n){return Ru(t,e,$r(n,2),!0)};const ju=function(t,e){if(null==t?0:t.length){var n=Uu(t,e,!0)-1;if((0,Ft.Z)(t[n],e))return n}return-1};const Wu=function(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!(0,Ft.Z)(s,l)){var l=s;o[i++]=0===a?0:a}}return o};const Vu=function(t){return t&&t.length?Wu(t):[]};const zu=function(t,e){return t&&t.length?Wu(t,$r(e,2)):[]};const Gu=function(t,e,n){return n&&"number"!=typeof n&&Nt(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=(0,Ue.Z)(t))&&("string"==typeof e||null!=e&&!Qs(e))&&!(e=(0,o.Z)(e))&&(0,He.Z)(t)?(0,Oe.Z)((0,Ye.Z)(t),0,n):t.split(e,n):[]};var Ku=Math.max;const Zu=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:Ku((0,l.Z)(e),0),Yt((function(n){var r=n[e],i=(0,Oe.Z)(n,0,e);return r&&(0,Ae.Z)(i,r),b(t,this,i)}))};var Xu=Cn((function(t,e,n){return t+(n?" ":"")+Ne(e)}));const qu=Xu;const Ju=function(t,e,n){return t=(0,Ue.Z)(t),n=null==n?0:Yn((0,l.Z)(n),0,t.length),e=(0,o.Z)(e),t.slice(n,n+e.length)==e};const $u=function(){return{}};const tA=function(){return""};const eA=function(){return!0};const nA=a((function(t,e){return t-e}),0);const rA=function(t){return t&&t.length?gl(t,u):0};const iA=function(t,e){return t&&t.length?gl(t,$r(e,2)):0};const oA=function(t){var e=null==t?0:t.length;return e?(0,Rn.Z)(t,1,e):[]};const aA=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:(0,l.Z)(e),(0,Rn.Z)(t,0,e<0?0:e)):[]};const sA=function(t,e,n){var r=null==t?0:t.length;return r?(e=r-(e=n||void 0===e?1:(0,l.Z)(e)),(0,Rn.Z)(t,e<0?0:e,r)):[]};const lA=function(t,e){return t&&t.length?so(t,$r(e,3),!1,!0):[]};const cA=function(t,e){return t&&t.length?so(t,$r(e,3)):[]};const uA=function(t,e){return e(t),t};var AA=Object.prototype,hA=AA.hasOwnProperty;const dA=function(t,e,n,r){return void 0===t||(0,Ft.Z)(t,AA[n])&&!hA.call(r,n)?e:t};var pA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};const fA=function(t){return"\\"+pA[t]};const mA=/<%=([\s\S]+?)%>/g;const gA={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:mA,variable:"",imports:{_:{escape:Bo}}};var yA=/\b__p \+= '';/g,vA=/\b(__p \+=) '' \+/g,_A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wA=/[()=,{}\[\]\/\s]/,bA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xA=/($^)/,MA=/['\n\r\u2028\u2029\\]/g,LA=Object.prototype.hasOwnProperty;const CA=function(t,e,n){var r=gA.imports._.templateSettings||gA;n&&Nt(t,e,n)&&(e=void 0),t=(0,Ue.Z)(t),e=re({},e,r,dA);var i,o,a=re({},e.imports,r.imports,dA),s=(0,Vt.Z)(a),l=Oa(a,s),c=0,u=e.interpolate||xA,A="__p += '",h=RegExp((e.escape||xA).source+"|"+u.source+"|"+(u===mA?bA:xA).source+"|"+(e.evaluate||xA).source+"|$","g"),d=LA.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,r,a,s,l){return r||(r=a),A+=t.slice(c,l).replace(MA,fA),n&&(i=!0,A+="' +\n__e("+n+") +\n'"),s&&(o=!0,A+="';\n"+s+";\n__p += '"),r&&(A+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),A+="';\n";var p=LA.call(e,"variable")&&e.variable;if(p){if(wA.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else A="with (obj) {\n"+A+"\n}\n";A=(o?A.replace(yA,""):A).replace(vA,"$1").replace(_A,"$1;"),A="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+A+"return __p\n}";var f=Te((function(){return Function(s,d+"return "+A).apply(void 0,l)}));if(f.source=A,Be(f))throw f;return f};const EA=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,f.Z)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mi(t,e,{leading:r,maxWait:e,trailing:i})};const BA=function(t,e){return e(t)};var SA=n(2889),TA=4294967295,DA=Math.min;const IA=function(t,e){if((t=(0,l.Z)(t))<1||t>9007199254740991)return[];var n=TA,r=DA(t,TA);e=uo(e),t-=TA;for(var i=(0,SA.Z)(r,e);++n<t;)e(n);return i};const PA=function(){return this};const FA=function(t,e){var n=t;return n instanceof T&&(n=n.value()),We(e,(function(t,e){return e.func.apply(e.thisArg,(0,Ae.Z)([t],e.args))}),n)};const kA=function(){return FA(this.__wrapped__,this.__actions__)};const RA=function(t){return(0,Ue.Z)(t).toLowerCase()};var UA=n(474);const OA=function(t){return(0,H.Z)(t)?(0,Yr.Z)(t,se.Z):(0,r.Z)(t)?[t]:Q((0,UA.Z)((0,Ue.Z)(t)))};var HA=9007199254740991;const YA=function(t){return t?Yn((0,l.Z)(t),-9007199254740991,HA):0===t?t:0};const QA=function(t){return(0,Ue.Z)(t).toUpperCase()};const NA=function(t,e,n){var r=(0,H.Z)(t),i=r||(0,vr.Z)(t)||(0,Pi.Z)(t);if(e=$r(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:(0,f.Z)(t)&&(0,Ii.Z)(o)?y(we(t)):{}}return(i?st:li)(t,(function(t,r,i){return e(n,t,r,i)})),n};var jA=n(3404);const WA=function(t,e){for(var n=t.length;n--&&At(e,t[n],0)>-1;);return n};const VA=function(t,e){for(var n=-1,r=t.length;++n<r&&At(e,t[n],0)>-1;);return n};const zA=function(t,e,n){if((t=(0,Ue.Z)(t))&&(n||void 0===e))return(0,jA.Z)(t);if(!t||!(e=(0,o.Z)(e)))return t;var r=(0,Ye.Z)(t),i=(0,Ye.Z)(e),a=VA(r,i),s=WA(r,i)+1;return(0,Oe.Z)(r,a,s).join("")};var GA=n(7170);const KA=function(t,e,n){if((t=(0,Ue.Z)(t))&&(n||void 0===e))return t.slice(0,(0,GA.Z)(t)+1);if(!t||!(e=(0,o.Z)(e)))return t;var r=(0,Ye.Z)(t),i=WA(r,(0,Ye.Z)(e))+1;return(0,Oe.Z)(r,0,i).join("")};var ZA=/^\s+/;const XA=function(t,e,n){if((t=(0,Ue.Z)(t))&&(n||void 0===e))return t.replace(ZA,"");if(!t||!(e=(0,o.Z)(e)))return t;var r=(0,Ye.Z)(t),i=VA(r,(0,Ye.Z)(e));return(0,Oe.Z)(r,i).join("")};var qA=/\w*$/;const JA=function(t,e){var n=30,r="...";if((0,f.Z)(e)){var i="separator"in e?e.separator:i;n="length"in e?(0,l.Z)(e.length):n,r="omission"in e?(0,o.Z)(e.omission):r}var a=(t=(0,Ue.Z)(t)).length;if((0,He.Z)(t)){var s=(0,Ye.Z)(t);a=s.length}if(n>=a)return t;var c=n-(0,cc.Z)(r);if(c<1)return r;var u=s?(0,Oe.Z)(s,0,c).join(""):t.slice(0,c);if(void 0===i)return u+r;if(s&&(c+=u.length-c),Qs(i)){if(t.slice(c).search(i)){var A,h=u;for(i.global||(i=RegExp(i.source,(0,Ue.Z)(qA.exec(i))+"g")),i.lastIndex=0;A=i.exec(h);)var d=A.index;u=u.slice(0,void 0===d?c:d)}}else if(t.indexOf((0,o.Z)(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r};const $A=function(t){return It(t,1)};const th=Ve({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var eh=/&(?:amp|lt|gt|quot|#39);/g,nh=RegExp(eh.source);const rh=function(t){return(t=(0,Ue.Z)(t))&&nh.test(t)?t.replace(eh,th):t};var ih=n(3203),oh=ih.Z&&1/(0,Il.Z)(new ih.Z([,-0]))[1]==1/0?function(t){return new ih.Z(t)}:D;const ah=oh;const sh=function(t,e,n){var r=-1,i=ht,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Ki;else if(o>=200){var c=e?null:ah(t);if(c)return(0,Il.Z)(c);a=!1,i=Zi.Z,l=new Gi.Z}else l=e?[]:s;t:for(;++r<o;){var u=t[r],A=e?e(u):u;if(u=n||0!==u?u:0,a&&A==A){for(var h=l.length;h--;)if(l[h]===A)continue t;e&&l.push(A),s.push(u)}else i(l,A,n)||(l!==s&&l.push(A),s.push(u))}return s};const lh=Yt((function(t){return sh(me(t,1,Di,!0))}));var ch=Yt((function(t){var e=$i(t);return Di(e)&&(e=void 0),sh(me(t,1,Di,!0),$r(e,2))}));const uh=ch;const Ah=Yt((function(t){var e=$i(t);return e="function"==typeof e?e:void 0,sh(me(t,1,Di,!0),void 0,e)}));const hh=function(t){return t&&t.length?sh(t):[]};const dh=function(t,e){return t&&t.length?sh(t,$r(e,2)):[]};const ph=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?sh(t,void 0,e):[]};var fh=0;const mh=function(t){var e=++fh;return(0,Ue.Z)(t)+e};const gh=function(t,e){return null==t||Hl(t,e)};var yh=Math.max;const vh=function(t){if(!t||!t.length)return[];var e=0;return t=(0,Oo.Z)(t,(function(t){if(Di(t))return e=yh(t.length,e),!0})),(0,SA.Z)(e,(function(e){return(0,Yr.Z)(t,(0,Xr.Z)(e))}))};const _h=function(t,e){if(!t||!t.length)return[];var n=vh(t);return null==e?n:(0,Yr.Z)(n,(function(t){return b(e,void 0,t)}))};const wh=function(t,e,n,r){return jl(t,e,n(le(t,e)),r)};const bh=function(t,e,n){return null==t?t:wh(t,e,uo(n))};const xh=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:wh(t,e,uo(n),r)};var Mh=Cn((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}));const Lh=Mh;const Ch=function(t){return null==t?[]:Oa(t,$t(t))};var Eh=Yt((function(t,e){return Di(t)?Xi(t,e):[]}));const Bh=Eh;const Sh=function(t,e){return vc(uo(e),t)};const Th=ye((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ue(e,t)};return!(e>1||this.__actions__.length)&&r instanceof T&&(0,yt.Z)(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:BA,args:[i],thisArg:void 0}),new O(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));const Dh=function(){return kn(this)};const Ih=function(){var t=this.__wrapped__;if(t instanceof T){var e=t;return this.__actions__.length&&(e=new T(this)),(e=e.reverse()).__actions__.push({func:BA,args:[hu],thisArg:void 0}),new O(e,this.__chain__)}return this.thru(hu)};const Ph=function(t,e,n){var r=t.length;if(r<2)return r?sh(t[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Xi(o[i]||a,t[s],e,n));return sh(me(o,1),e,n)};const Fh=Yt((function(t){return Ph((0,Oo.Z)(t,Di))}));var kh=Yt((function(t){var e=$i(t);return Di(e)&&(e=void 0),Ph((0,Oo.Z)(t,Di),$r(e,2))}));const Rh=kh;const Uh=Yt((function(t){var e=$i(t);return e="function"==typeof e?e:void 0,Ph((0,Oo.Z)(t,Di),void 0,e)}));const Oh=Yt(vh);const Hh=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a};const Yh=function(t,e){return Hh(t||[],e||[],Rt)};const Qh=function(t,e){return Hh(t||[],e||[],jl)};var Nh=Yt((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,_h(t,n)}));const jh=Nh,Wh={chunk:Hn,compact:Or,concat:Hr,difference:Ji,differenceBy:eo,differenceWith:ro,drop:oo,dropRight:ao,dropRightWhile:lo,dropWhile:co,fill:Uo,findIndex:jo,findLastIndex:Zo,first:Jo,flatten:ge,flattenDeep:aa,flattenDepth:sa,fromPairs:ga,head:Jo,indexOf:ja,initial:Wa,intersection:Ka,intersectionBy:Xa,intersectionWith:qa,join:Zs,last:$i,lastIndexOf:rl,nth:Ul,pull:Ic,pullAll:Dc,pullAllBy:Pc,pullAllWith:Fc,pullAt:Oc,remove:ou,reverse:hu,slice:Bu,sortedIndex:Ou,sortedIndexBy:Hu,sortedIndexOf:Yu,sortedLastIndex:Qu,sortedLastIndexBy:Nu,sortedLastIndexOf:ju,sortedUniq:Vu,sortedUniqBy:zu,tail:oA,take:aA,takeRight:sA,takeRightWhile:lA,takeWhile:cA,union:lh,unionBy:uh,unionWith:Ah,uniq:hh,uniqBy:dh,uniqWith:ph,unzip:vh,unzipWith:_h,without:Bh,xor:Fh,xorBy:Rh,xorWith:Uh,zip:Oh,zipObject:Yh,zipObjectDeep:Qh,zipWith:jh},Vh={countBy:fi,each:Ao,eachRight:go,every:Fo,filter:Yo,find:Wo,findLast:Xo,flatMap:ea,flatMapDeep:ra,flatMapDepth:ia,forEach:Ao,forEachRight:go,groupBy:xa,includes:Qa,invokeMap:hs,keyBy:$s,map:ta,orderBy:Jl,partition:xc,reduce:eu,reduceRight:ru,reject:iu,sample:mu,sampleSize:_u,shuffle:Lu,size:Eu,some:Iu,sortBy:Pu},zh={now:wi},Gh={after:c,ary:It,before:De,bind:Pe,bindKey:Re,curry:yi,curryRight:_i,debounce:Mi,defer:Wi,delay:zi,flip:la,memoize:wl.Z,negate:Tl,once:Gl,overArgs:ic,partial:vc,partialRight:wc,rearg:$c,rest:cu,spread:Zu,throttle:EA,unary:$A,wrap:Sh},Kh={castArray:Sn,clone:Pr,cloneDeep:Fr,cloneDeepWith:kr,cloneWith:Rr,conformsTo:ii,eq:Ft.Z,gt:Ca,gte:Ea,isArguments:de.Z,isArray:H.Z,isArrayBuffer:fs,isArrayLike:Qt.Z,isArrayLikeObject:Di,isBoolean:ms,isBuffer:vr.Z,isDate:vs,isElement:_s,isEmpty:ws.Z,isEqual:bs.Z,isEqualWith:xs,isError:Be,isFinite:Ls,isFunction:Ii.Z,isInteger:Cs,isLength:Es.Z,isMap:Mr,isMatch:Bs,isMatchWith:Ss,isNaN:Ds,isNative:Rs,isNil:Us,isNull:Os,isNumber:Ts,isObject:f.Z,isObjectLike:Y.Z,isPlainObject:Ee,isRegExp:Qs,isSafeInteger:js,isSet:Er,isString:Ua,isSymbol:r.Z,isTypedArray:Pi.Z,isUndefined:Ws.Z,isWeakMap:Vs,isWeakSet:zs,lt:ll,lte:cl,toArray:Fl,toFinite:ka.Z,toInteger:l.Z,toLength:ko,toNumber:Tn.Z,toPlainObject:ki,toSafeInteger:YA,toString:Ue.Z},Zh={add:s,ceil:Fn,divide:io,floor:ca,max:fl,maxBy:ml,mean:vl,meanBy:_l,min:Cl,minBy:El,multiply:Sl,round:du,subtract:nA,sum:rA,sumBy:iA},Xh={clamp:Qn,inRange:Ra,random:Vc},qh={assign:Kt,assignIn:ee,assignInWith:re,assignWith:oe,at:ve,create:mi,defaults:Si,defaultsDeep:Qi,entries:xo,entriesIn:Mo,extend:ee,extendWith:re,findKey:zo,findLastKey:qo,forIn:da,forInRight:pa,forOwn:fa,forOwnRight:ma,functions:va,functionsIn:_a,get:ce,has:Da,hasIn:Gr.Z,invert:ns,invertBy:ss,invoke:us,keys:Vt.Z,keysIn:$t,mapKeys:ul,mapValues:Al,merge:xl,mergeWith:Yi,omit:Nl,omitBy:zl,pick:Lc,pickBy:Vl,result:uu,set:wu,setWith:bu,toPairs:xo,toPairsIn:Mo,transform:NA,unset:gh,update:bh,updateWith:xh,values:Ha,valuesIn:Ch},Jh={at:Th,chain:kn,commit:Ur,lodash:V,next:kl,plant:Cc,reverse:Ih,tap:uA,thru:BA,toIterator:PA,toJSON:kA,value:kA,valueOf:kA,wrapperChain:Dh},$h={camelCase:Bn,capitalize:je,deburr:Ze,endsWith:yo,escape:Bo,escapeRegExp:Do,kebabCase:qs,lowerCase:ol,lowerFirst:al,pad:hc,padEnd:dc,padStart:pc.Z,parseInt:gc,repeat:su,replace:lu,snakeCase:Tu,split:Gu,startCase:qu,startsWith:Ju,template:CA,templateSettings:gA,toLower:RA,toUpper:QA,trim:zA,trimEnd:KA,trimStart:XA,truncate:JA,unescape:rh,upperCase:Lh,upperFirst:Ne,words:Mn},td={attempt:Te,bindAll:Fe,cond:ti,conforms:ri,constant:et,defaultTo:Li,flow:Aa,flowRight:ha,identity:u,iteratee:Gs,matches:hl,matchesProperty:dl,method:Ml,methodOf:Ll,mixin:Bl,noop:D,nthArg:Ol,over:tc,overEvery:oc,overSome:sc,property:Jr,propertyOf:Ec,range:Xc,rangeRight:qc,stubArray:Jn.Z,stubFalse:Fs.Z,stubObject:$u,stubString:tA,stubTrue:eA,times:IA,toPath:OA,uniqueId:mh};const ed=function(){var t=new T(this.__wrapped__);return t.__actions__=Q(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Q(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Q(this.__views__),t};const nd=function(){if(this.__filtered__){var t=new T(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t};var rd=Math.max,id=Math.min;const od=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=id(e,t+a);break;case"takeRight":t=rd(t,e-a)}}return{start:t,end:e}};var ad=Math.min;const sd=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=(0,H.Z)(t),r=e<0,i=n?t.length:0,o=od(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,A=u.length,h=0,d=ad(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return FA(t,this.__actions__);var p=[];t:for(;l--&&h<d;){for(var f=-1,m=t[c+=e];++f<A;){var g=u[f],y=g.iteratee,v=g.type,_=y(m);if(2==v)m=_;else if(!_){if(1==v)continue t;break t}}p[h++]=m}return p};var ld,cd,ud=4294967295,Ad=Array.prototype,hd=Object.prototype.hasOwnProperty,dd=he.Z?he.Z.iterator:void 0,pd=Math.max,fd=Math.min,md=(ld=Bl,function(t,e,n){if(null==n){var r=(0,f.Z)(e),i=r&&(0,Vt.Z)(e),o=i&&i.length&&ya(e,i);(o?o.length:r)||(n=e,e=t,t=this)}return ld(t,e,n)});V.after=Gh.after,V.ary=Gh.ary,V.assign=qh.assign,V.assignIn=qh.assignIn,V.assignInWith=qh.assignInWith,V.assignWith=qh.assignWith,V.at=qh.at,V.before=Gh.before,V.bind=Gh.bind,V.bindAll=td.bindAll,V.bindKey=Gh.bindKey,V.castArray=Kh.castArray,V.chain=Jh.chain,V.chunk=Wh.chunk,V.compact=Wh.compact,V.concat=Wh.concat,V.cond=td.cond,V.conforms=td.conforms,V.constant=td.constant,V.countBy=Vh.countBy,V.create=qh.create,V.curry=Gh.curry,V.curryRight=Gh.curryRight,V.debounce=Gh.debounce,V.defaults=qh.defaults,V.defaultsDeep=qh.defaultsDeep,V.defer=Gh.defer,V.delay=Gh.delay,V.difference=Wh.difference,V.differenceBy=Wh.differenceBy,V.differenceWith=Wh.differenceWith,V.drop=Wh.drop,V.dropRight=Wh.dropRight,V.dropRightWhile=Wh.dropRightWhile,V.dropWhile=Wh.dropWhile,V.fill=Wh.fill,V.filter=Vh.filter,V.flatMap=Vh.flatMap,V.flatMapDeep=Vh.flatMapDeep,V.flatMapDepth=Vh.flatMapDepth,V.flatten=Wh.flatten,V.flattenDeep=Wh.flattenDeep,V.flattenDepth=Wh.flattenDepth,V.flip=Gh.flip,V.flow=td.flow,V.flowRight=td.flowRight,V.fromPairs=Wh.fromPairs,V.functions=qh.functions,V.functionsIn=qh.functionsIn,V.groupBy=Vh.groupBy,V.initial=Wh.initial,V.intersection=Wh.intersection,V.intersectionBy=Wh.intersectionBy,V.intersectionWith=Wh.intersectionWith,V.invert=qh.invert,V.invertBy=qh.invertBy,V.invokeMap=Vh.invokeMap,V.iteratee=td.iteratee,V.keyBy=Vh.keyBy,V.keys=Vt.Z,V.keysIn=qh.keysIn,V.map=Vh.map,V.mapKeys=qh.mapKeys,V.mapValues=qh.mapValues,V.matches=td.matches,V.matchesProperty=td.matchesProperty,V.memoize=Gh.memoize,V.merge=qh.merge,V.mergeWith=qh.mergeWith,V.method=td.method,V.methodOf=td.methodOf,V.mixin=md,V.negate=Tl,V.nthArg=td.nthArg,V.omit=qh.omit,V.omitBy=qh.omitBy,V.once=Gh.once,V.orderBy=Vh.orderBy,V.over=td.over,V.overArgs=Gh.overArgs,V.overEvery=td.overEvery,V.overSome=td.overSome,V.partial=Gh.partial,V.partialRight=Gh.partialRight,V.partition=Vh.partition,V.pick=qh.pick,V.pickBy=qh.pickBy,V.property=td.property,V.propertyOf=td.propertyOf,V.pull=Wh.pull,V.pullAll=Wh.pullAll,V.pullAllBy=Wh.pullAllBy,V.pullAllWith=Wh.pullAllWith,V.pullAt=Wh.pullAt,V.range=td.range,V.rangeRight=td.rangeRight,V.rearg=Gh.rearg,V.reject=Vh.reject,V.remove=Wh.remove,V.rest=Gh.rest,V.reverse=Wh.reverse,V.sampleSize=Vh.sampleSize,V.set=qh.set,V.setWith=qh.setWith,V.shuffle=Vh.shuffle,V.slice=Wh.slice,V.sortBy=Vh.sortBy,V.sortedUniq=Wh.sortedUniq,V.sortedUniqBy=Wh.sortedUniqBy,V.split=$h.split,V.spread=Gh.spread,V.tail=Wh.tail,V.take=Wh.take,V.takeRight=Wh.takeRight,V.takeRightWhile=Wh.takeRightWhile,V.takeWhile=Wh.takeWhile,V.tap=Jh.tap,V.throttle=Gh.throttle,V.thru=BA,V.toArray=Kh.toArray,V.toPairs=qh.toPairs,V.toPairsIn=qh.toPairsIn,V.toPath=td.toPath,V.toPlainObject=Kh.toPlainObject,V.transform=qh.transform,V.unary=Gh.unary,V.union=Wh.union,V.unionBy=Wh.unionBy,V.unionWith=Wh.unionWith,V.uniq=Wh.uniq,V.uniqBy=Wh.uniqBy,V.uniqWith=Wh.uniqWith,V.unset=qh.unset,V.unzip=Wh.unzip,V.unzipWith=Wh.unzipWith,V.update=qh.update,V.updateWith=qh.updateWith,V.values=qh.values,V.valuesIn=qh.valuesIn,V.without=Wh.without,V.words=$h.words,V.wrap=Gh.wrap,V.xor=Wh.xor,V.xorBy=Wh.xorBy,V.xorWith=Wh.xorWith,V.zip=Wh.zip,V.zipObject=Wh.zipObject,V.zipObjectDeep=Wh.zipObjectDeep,V.zipWith=Wh.zipWith,V.entries=qh.toPairs,V.entriesIn=qh.toPairsIn,V.extend=qh.assignIn,V.extendWith=qh.assignInWith,md(V,V),V.add=Zh.add,V.attempt=td.attempt,V.camelCase=$h.camelCase,V.capitalize=$h.capitalize,V.ceil=Zh.ceil,V.clamp=Xh.clamp,V.clone=Kh.clone,V.cloneDeep=Kh.cloneDeep,V.cloneDeepWith=Kh.cloneDeepWith,V.cloneWith=Kh.cloneWith,V.conformsTo=Kh.conformsTo,V.deburr=$h.deburr,V.defaultTo=td.defaultTo,V.divide=Zh.divide,V.endsWith=$h.endsWith,V.eq=Kh.eq,V.escape=$h.escape,V.escapeRegExp=$h.escapeRegExp,V.every=Vh.every,V.find=Vh.find,V.findIndex=Wh.findIndex,V.findKey=qh.findKey,V.findLast=Vh.findLast,V.findLastIndex=Wh.findLastIndex,V.findLastKey=qh.findLastKey,V.floor=Zh.floor,V.forEach=Vh.forEach,V.forEachRight=Vh.forEachRight,V.forIn=qh.forIn,V.forInRight=qh.forInRight,V.forOwn=qh.forOwn,V.forOwnRight=qh.forOwnRight,V.get=qh.get,V.gt=Kh.gt,V.gte=Kh.gte,V.has=qh.has,V.hasIn=qh.hasIn,V.head=Wh.head,V.identity=u,V.includes=Vh.includes,V.indexOf=Wh.indexOf,V.inRange=Xh.inRange,V.invoke=qh.invoke,V.isArguments=Kh.isArguments,V.isArray=H.Z,V.isArrayBuffer=Kh.isArrayBuffer,V.isArrayLike=Kh.isArrayLike,V.isArrayLikeObject=Kh.isArrayLikeObject,V.isBoolean=Kh.isBoolean,V.isBuffer=Kh.isBuffer,V.isDate=Kh.isDate,V.isElement=Kh.isElement,V.isEmpty=Kh.isEmpty,V.isEqual=Kh.isEqual,V.isEqualWith=Kh.isEqualWith,V.isError=Kh.isError,V.isFinite=Kh.isFinite,V.isFunction=Kh.isFunction,V.isInteger=Kh.isInteger,V.isLength=Kh.isLength,V.isMap=Kh.isMap,V.isMatch=Kh.isMatch,V.isMatchWith=Kh.isMatchWith,V.isNaN=Kh.isNaN,V.isNative=Kh.isNative,V.isNil=Kh.isNil,V.isNull=Kh.isNull,V.isNumber=Kh.isNumber,V.isObject=f.Z,V.isObjectLike=Kh.isObjectLike,V.isPlainObject=Kh.isPlainObject,V.isRegExp=Kh.isRegExp,V.isSafeInteger=Kh.isSafeInteger,V.isSet=Kh.isSet,V.isString=Kh.isString,V.isSymbol=Kh.isSymbol,V.isTypedArray=Kh.isTypedArray,V.isUndefined=Kh.isUndefined,V.isWeakMap=Kh.isWeakMap,V.isWeakSet=Kh.isWeakSet,V.join=Wh.join,V.kebabCase=$h.kebabCase,V.last=$i,V.lastIndexOf=Wh.lastIndexOf,V.lowerCase=$h.lowerCase,V.lowerFirst=$h.lowerFirst,V.lt=Kh.lt,V.lte=Kh.lte,V.max=Zh.max,V.maxBy=Zh.maxBy,V.mean=Zh.mean,V.meanBy=Zh.meanBy,V.min=Zh.min,V.minBy=Zh.minBy,V.stubArray=td.stubArray,V.stubFalse=td.stubFalse,V.stubObject=td.stubObject,V.stubString=td.stubString,V.stubTrue=td.stubTrue,V.multiply=Zh.multiply,V.nth=Wh.nth,V.noop=td.noop,V.now=zh.now,V.pad=$h.pad,V.padEnd=$h.padEnd,V.padStart=$h.padStart,V.parseInt=$h.parseInt,V.random=Xh.random,V.reduce=Vh.reduce,V.reduceRight=Vh.reduceRight,V.repeat=$h.repeat,V.replace=$h.replace,V.result=qh.result,V.round=Zh.round,V.sample=Vh.sample,V.size=Vh.size,V.snakeCase=$h.snakeCase,V.some=Vh.some,V.sortedIndex=Wh.sortedIndex,V.sortedIndexBy=Wh.sortedIndexBy,V.sortedIndexOf=Wh.sortedIndexOf,V.sortedLastIndex=Wh.sortedLastIndex,V.sortedLastIndexBy=Wh.sortedLastIndexBy,V.sortedLastIndexOf=Wh.sortedLastIndexOf,V.startCase=$h.startCase,V.startsWith=$h.startsWith,V.subtract=Zh.subtract,V.sum=Zh.sum,V.sumBy=Zh.sumBy,V.template=$h.template,V.times=td.times,V.toFinite=Kh.toFinite,V.toInteger=l.Z,V.toLength=Kh.toLength,V.toLower=$h.toLower,V.toNumber=Kh.toNumber,V.toSafeInteger=Kh.toSafeInteger,V.toString=Kh.toString,V.toUpper=$h.toUpper,V.trim=$h.trim,V.trimEnd=$h.trimEnd,V.trimStart=$h.trimStart,V.truncate=$h.truncate,V.unescape=$h.unescape,V.uniqueId=td.uniqueId,V.upperCase=$h.upperCase,V.upperFirst=$h.upperFirst,V.each=Vh.forEach,V.eachRight=Vh.forEachRight,V.first=Wh.head,md(V,(cd={},li(V,(function(t,e){hd.call(V.prototype,e)||(cd[e]=t)})),cd),{chain:!1}),V.VERSION="4.17.21",(V.templateSettings=$h.templateSettings).imports._=V,st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){V[t].placeholder=V})),st(["drop","take"],(function(t,e){T.prototype[t]=function(n){n=void 0===n?1:pd((0,l.Z)(n),0);var r=this.__filtered__&&!e?new T(this):this.clone();return r.__filtered__?r.__takeCount__=fd(n,r.__takeCount__):r.__views__.push({size:fd(n,ud),type:t+(r.__dir__<0?"Right":"")}),r},T.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),st(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;T.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$r(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),st(["head","last"],(function(t,e){var n="take"+(e?"Right":"");T.prototype[t]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");T.prototype[t]=function(){return this.__filtered__?new T(this):this[n](1)}})),T.prototype.compact=function(){return this.filter(u)},T.prototype.find=function(t){return this.filter(t).head()},T.prototype.findLast=function(t){return this.reverse().find(t)},T.prototype.invokeMap=Yt((function(t,e){return"function"==typeof t?new T(this):this.map((function(n){return cs(n,t,e)}))})),T.prototype.reject=function(t){return this.filter(Tl($r(t)))},T.prototype.slice=function(t,e){t=(0,l.Z)(t);var n=this;return n.__filtered__&&(t>0||e<0)?new T(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=(0,l.Z)(e))<0?n.dropRight(-e):n.take(e-t)),n)},T.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},T.prototype.toArray=function(){return this.take(ud)},li(T.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=V[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(V.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof T,l=a[0],c=s||(0,H.Z)(e),u=function(t){var e=i.apply(V,(0,Ae.Z)([t],a));return r&&A?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var A=this.__chain__,h=!!this.__actions__.length,d=o&&!A,p=s&&!h;if(!o&&c){e=p?e:new T(this);var f=t.apply(e,a);return f.__actions__.push({func:BA,args:[u],thisArg:void 0}),new O(f,A)}return d&&p?t.apply(this,a):(f=this.thru(u),d?r?f.value()[0]:f.value():f)})})),st(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ad[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);V.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply((0,H.Z)(i)?i:[],t)}return this[n]((function(n){return e.apply((0,H.Z)(n)?n:[],t)}))}})),li(T.prototype,(function(t,e){var n=V[e];if(n){var r=n.name+"";hd.call(F,r)||(F[r]=[]),F[r].push({name:e,func:n})}})),F[xt(void 0,2).name]=[{name:"wrapper",func:void 0}],T.prototype.clone=ed,T.prototype.reverse=nd,T.prototype.value=sd,V.prototype.at=Jh.at,V.prototype.chain=Jh.wrapperChain,V.prototype.commit=Jh.commit,V.prototype.next=Jh.next,V.prototype.plant=Jh.plant,V.prototype.reverse=Jh.reverse,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=Jh.value,V.prototype.first=V.prototype.head,dd&&(V.prototype[dd]=Jh.toIterator);const gd=V},2454:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(520);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r.Z),n}i.Cache=r.Z;const o=i},3265:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(9628),i=n(5625),o=n(4930),a=n(7338);const s=function(t,e,n){t=(0,a.Z)(t);var s=(e=(0,o.Z)(e))?(0,i.Z)(t):0;return e&&s<e?(0,r.Z)(e-s,n)+t:t}},532:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(){return[]}},7979:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(){return!1}},9640:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(5742),i=1/0;const o=function(t){return t?(t=(0,r.Z)(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},4930:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(9640);const i=function(t){var e=(0,r.Z)(t),n=e%1;return e==e?n?e-n:e:0}},5742:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(3404),i=n(7226),o=n(2714),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;const u=function(t){if("number"==typeof t)return t;if((0,o.Z)(t))return NaN;if((0,i.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,i.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=(0,r.Z)(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},7338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2845);const i=function(t){return null==t?"":(0,r.Z)(t)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var t=__webpack_require__(1652),e=__webpack_require__(7771),n=__webpack_require__(3265),r=__webpack_require__(576),i=__webpack_require__(1910),o=__webpack_require__(710),a=__webpack_require__(6461),s=__webpack_require__.n(a),l=__webpack_require__(1415),c=__webpack_require__.n(l);const u=function(t){var e=this;this.onDecodeMapData=function(t){e._onDecodeMapData||(e._onDecodeMapData=e._invoke.bind("onDecodeMapData")),null==e._onDecodeMapData||e._onDecodeMapData({mapHeader:t.mapHeader,mapRooms:t.mapRooms})},this.onDecodePathData=function(t){e._onDecodePathData||(e._onDecodePathData=e._invoke.bind("onDecodePathData")),null==e._onDecodePathData||e._onDecodePathData(t)},this.onClickSplitArea=function(t){var n=t.data;e._onClickSplitArea||(e._onClickSplitArea=e._invoke.bind("onClickSplitArea")),null==e._onClickSplitArea||e._onClickSplitArea(n)},this.onMapId=function(t){var n={dataMapId:t.data.dataMapId,mapId:t.data.mapId,target:t.data.target,performanceTimestamp:t.data.performanceTimestamp};e._onMapId||(e._onMapId=e._invoke.bind("onMapId")),null==e._onMapId||e._onMapId(n)},this.onClickModel=function(t){e._onClickModel||(e._onClickModel=e._invoke.bind("onClickModel")),null==e._onClickModel||e._onClickModel(t)},this.onModelLoadingProgress=function(t){e._onModelLoadingProgress||(e._onModelLoadingProgress=e._invoke.bind("onModelLoadingProgress")),null==e._onModelLoadingProgress||e._onModelLoadingProgress(t)},this.onMapLoadEnd=function(t){e._onMapLoadEnd||(e._onMapLoadEnd=e._invoke.bind("onMapLoadEnd")),null==e._onMapLoadEnd||e._onMapLoadEnd(t)},this.onClickRoom=function(t){e._onClickRoom||(e._onClickRoom=e._invoke.bind("onClickRoom")),null==e._onClickRoom||e._onClickRoom(t)},this.onLongPressInAreaView=function(t){e._onLongPressInAreaView||(e._onLongPressInAreaView=e._invoke.bind("onLongPressInAreaView")),null==e._onLongPressInAreaView||e._onLongPressInAreaView(t)},this.onLaserMapPoints=function(t,n){e._onLaserMapPoints||(e._onLaserMapPoints=e._invoke.bind("onLaserMapPoints")),null==e._onLaserMapPoints||e._onLaserMapPoints(t,n)},this.onLoggerInfo=function(t){e.enableLoggerInfo&&(e._onLoggerInfo||(e._onLoggerInfo=e._invoke.bind("onLoggerInfo")),null==e._onLoggerInfo||e._onLoggerInfo(t))},this.onGestureChange=function(t){e._onGestureChange||(e._onGestureChange=e._invoke.bind("onGestureChange")),null==e._onGestureChange||e._onGestureChange(t)},this.onClickRoomMoreProperties=function(t){e._onClickRoomMoreProperties||(e._onClickRoomMoreProperties=e._invoke.bind("onClickRoomMoreProperties")),null==e._onClickRoomMoreProperties||e._onClickRoomMoreProperties(t)},this.onClickRoomProperties=function(t){e._onClickRoomProperties||(e._onClickRoomProperties=e._invoke.bind("onClickRoomProperties")),null==e._onClickRoomProperties||e._onClickRoomProperties(t)},this.onPosPoints=function(t,n){e._onPosPoints||(e._onPosPoints=e._invoke.bind("onPosPoints")),null==e._onPosPoints||e._onPosPoints(t,n)},this.onSplitLine=function(t,n){e._onSplitLine||(e._onSplitLine=e._invoke.bind("onSplitLine")),null==e._onSplitLine||e._onSplitLine(t,n)},this.onScreenSnapshot=function(t){e._onScreenSnapshot||(e._onScreenSnapshot=e._invoke.bind("onScreenSnapshot")),null==e._onScreenSnapshot||e._onScreenSnapshot(t)},this.onVirtualInfoRendered=function(t){e._onVirtualInfoRendered||(e._onVirtualInfoRendered=e._invoke.bind("onVirtualInfoRendered")),null==e._onVirtualInfoRendered||e._onVirtualInfoRendered(t)},this.onClickMapView=function(t){e._onClickMapView||(e._onClickMapView=e._invoke.bind("onClickMapView")),null==e._onClickMapView||e._onClickMapView(t)},this.onRobotPositionChange=function(t){e._onRobotPositionChange||(e._onRobotPositionChange=e._invoke.bind("onRobotPositionChange")),null==e._onRobotPositionChange||e._onRobotPositionChange(t)},this.onRenderContextLost=function(t){e._onRenderContextLost||(e._onRenderContextLost=e._invoke.bind("onRenderContextLost")),null==e._onRenderContextLost||e._onRenderContextLost(t)},this.onRenderContextRestored=function(t){e._onRenderContextRestored||(e._onRenderContextRestored=e._invoke.bind("onRenderContextRestored")),null==e._onRenderContextRestored||e._onRenderContextRestored(t)},this.onContainerVisibilityChange=function(t){e._onContainerVisibilityChange||(e._onContainerVisibilityChange=e._invoke.bind("onContainerVisibilityChange")),null==e._onContainerVisibilityChange||e._onContainerVisibilityChange(t)},this.onVirtualInfoOutOfBoundingBox=function(t){e._onVirtualInfoOutOfBoundingBox||(e._onVirtualInfoOutOfBoundingBox=e._invoke.bind("onVirtualInfoOutOfBoundingBox")),null==e._onVirtualInfoOutOfBoundingBox||e._onVirtualInfoOutOfBoundingBox(t)},this.onClickMaterial=function(t){e._onClickMaterial||(e._onClickMaterial=e._invoke.bind("onClickMaterial")),null==e._onClickMaterial||e._onClickMaterial(t)},this.onClickInfoWindow=function(t){e._onClickInfoWindow||(e._onClickInfoWindow=e._invoke.bind("onClickInfoWindow")),null==e._onClickInfoWindow||e._onClickInfoWindow(t)},this.onCruiseStatusMapClick=function(t){e._onCruiseStatusMapClick||(e._onCruiseStatusMapClick=e._invoke.bind("onCruiseStatusMapClick")),null==e._onCruiseStatusMapClick||e._onCruiseStatusMapClick(t)},this.onClickCustomLayer=function(t){e._onClickCustomLayer||(e._onClickCustomLayer=e._invoke.bind("onClickCustomLayer")),null==e._onClickCustomLayer||e._onClickCustomLayer(t)},this.onD3MapViewModeEnd=function(t){e._onD3MapViewModeEnd||(e._onD3MapViewModeEnd=e._invoke.bind("onD3MapViewModeEnd")),null==e._onD3MapViewModeEnd||e._onD3MapViewModeEnd(t)},this._invoke=t.invoke,this.enableLoggerInfo=!1,this._invoke.define("onLoggerInfoEnable",(function(t){e.enableLoggerInfo=t}))};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var h=/^\s+/,d=/\s+$/;function p(t,e){if(e=e||{},(t=t||"")instanceof p)return t;if(!(this instanceof p))return new p(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(h,"").replace(d,"").toLowerCase();var e,n=!1;if(D[t])t=D[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=W.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=W.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=W.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=W.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=W.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=W.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=W.hex8.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),a:Y(e[4]),format:n?"name":"hex8"};if(e=W.hex6.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),format:n?"name":"hex"};if(e=W.hex4.exec(t))return{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),a:Y(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=W.hex3.exec(t))return{r:R(e[1]+""+e[1]),g:R(e[2]+""+e[2]),b:R(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==A(t)&&(V(t.r)&&V(t.g)&&V(t.b)?(l=t.r,c=t.g,u=t.b,e={r:255*F(l,255),g:255*F(c,255),b:255*F(u,255)},a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(r=O(t.s),i=O(t.v),e=function(t,e,n){t=6*F(t,360),e=F(e,100),n=F(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],A=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*A}}(t.h,r,i),a=!0,s="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(r=O(t.s),o=O(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=F(t,360),e=F(e,100),n=F(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));var l,c,u;return n=P(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function f(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function m(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function g(t,e,n,r){var i=[U(Math.round(t).toString(16)),U(Math.round(e).toString(16)),U(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(t,e,n,r){return[U(H(r)),U(Math.round(t).toString(16)),U(Math.round(e).toString(16)),U(Math.round(n).toString(16))].join("")}function v(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.s-=e/100,n.s=k(n.s),p(n)}function _(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.s+=e/100,n.s=k(n.s),p(n)}function w(t){return p(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.l+=e/100,n.l=k(n.l),p(n)}function x(t,e){e=0===e?0:e||10;var n=p(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),p(n)}function M(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.l-=e/100,n.l=k(n.l),p(n)}function L(t,e){var n=p(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,p(n)}function C(t){var e=p(t).toHsl();return e.h=(e.h+180)%360,p(e)}function E(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=p(t).toHsl(),r=[p(t)],i=360/e,o=1;o<e;o++)r.push(p({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function B(t){var e=p(t).toHsl(),n=e.h;return[p(t),p({h:(n+72)%360,s:e.s,l:e.l}),p({h:(n+216)%360,s:e.s,l:e.l})]}function S(t,e,n){e=e||6,n=n||30;var r=p(t).toHsl(),i=360/n,o=[p(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(p(r));return o}function T(t,e){e=e||6;for(var n=p(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(p({h:r,s:i,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=P(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=m(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[U(Math.round(t).toString(16)),U(Math.round(e).toString(16)),U(Math.round(n).toString(16)),U(H(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*F(this._r,255))+"%",g:Math.round(100*F(this._g,255))+"%",b:Math.round(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*F(this._r,255))+"%, "+Math.round(100*F(this._g,255))+"%, "+Math.round(100*F(this._b,255))+"%)":"rgba("+Math.round(100*F(this._r,255))+"%, "+Math.round(100*F(this._g,255))+"%, "+Math.round(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+y(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=p(t);n="#"+y(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(E,[3])},tetrad:function(){return this._applyCombination(E,[4])}},p.fromRatio=function(t,e){if("object"==A(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:O(t[r]));t=n}return p(t,e)},p.equals=function(t,e){return!(!t||!e)&&p(t).toRgbString()==p(e).toRgbString()},p.random=function(){return p.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},p.mix=function(t,e,n){n=0===n?0:n||50;var r=p(t).toRgb(),i=p(e).toRgb(),o=n/100;return p({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},p.readability=function(t,e){var n=p(t),r=p(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(t,e,n){var r,i,o=p.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},p.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=p.readability(t,e[c]))>l&&(l=r,s=p(e[c]));return p.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,p.mostReadable(t,["#fff","#000"],n))};var D=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=p.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(D);function P(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function F(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function k(t){return Math.min(1,Math.max(0,t))}function R(t){return parseInt(t,16)}function U(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}function H(t){return Math.round(255*parseFloat(t)).toString(16)}function Y(t){return R(t)/255}var Q,N,j,W=(N="[\\s|\\(]+("+(Q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",j="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+N),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+N),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+N),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!W.CSS_UNIT.exec(t)}var z=__webpack_require__(9360),G=__webpack_require__(9697),K=__webpack_require__(2454);function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}var X=t.cQ.ColorUtils,q=["#ABD6FFFF","#FF818181","#00FFFF00","#7ED321FF"],J=function(t){var e=window.location.href.split("?");if(e.length>1){e=e[1].split("&");for(var n=0;n<e.length;n++){var r=e[n].split("=");if(r[0]===t)return r[1]}return null}return null},$=function(t,e){void 0===e&&(e=2);var n=parseInt(t,10).toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(0,e)},tt=function(t,e){if(null==t)return"";var n=Number(t).toString(2),r=parseInt(n+e,2);return $(String(r),2)},et=function(t,e,n,r,i,o,a){var s="#D0D0D0";p(r).isValid()&&(s=p(r).toHexString());var l="#D0D0D1";p(i).isValid()&&(l=p(i).toHexString());var c="#D0D0D2";p(o).isValid()&&(c=p(o).toHexString());var u="#D0D0D3";function A(t,e){var n=X.hex2hsv(e),r=n[0],i=n[1],o=n[2];return X.hsv2hex(r,i,o-t).toUpperCase()}p(a).isValid()&&(u=p(a).toHexString());for(var h=new Map,d=0,f=n.length,m=0;m<e;m++){var g=A(d,n[m%f]),y=m;h.set(y,g),m%f==0&&(d+=1)}return 0===t||1===t?(h.set(60,s),h.set(61,l),h.set(62,c),h.set(63,u)):(h.set(28,s),h.set(29,l),h.set(30,c),h.set(31,u)),h},nt=function(t,e){function n(t,e){var n=X.hex2hsv(e),r=n[0],i=n[1],o=n[2];return X.hsv2hex(r,i,o-t).toUpperCase()}for(var r=new Map,i=0,o=e.length,a=0;a<t;a++){var s=n(i,e[a%o]),l=a;r.set(l,s),a%o==0&&(i+=1)}return r},rt=function(t,e,n,r){return t&&t[r]?t[r]:e&&e[r]?e[r]:n[r]},it=function(t,e,n){var r=[];if(t.name&&r.push({propertyType:"text",value:t.name}),!e&&!(0,z.Z)(e)||(0,G.Z)(n))return r;var i=n.attributesFan,o=n.attributesWater,a=i.attributesFanIconEnum,s=void 0===a?[]:a,l=i.attributesFanEnum,c=o.attributesWaterIconEnum,u=void 0===c?[]:c,A=o.attributesWaterEnum,h=[],d=t.water_level,p=t.fan,f=t.sweep_count,m=A.indexOf(d||""),g=-1!==m&&u[m]?u[m]:null;g&&h.push({value:d,icon:g});var y=l.indexOf(p||""),v=-1!==y&&s[y]?s[y]:null;v&&h.push({value:p,icon:v});var _=h.filter((function(t){var e=t.value;return!!t.icon||!(0,z.Z)(e)&&+e<5})).map((function(t){t.value;return{propertyType:"uri",value:t.icon}}));return _.length>0&&r.push.apply(r,_),f&&parseInt(f,10)&&parseInt(f,10)<255&&r.push({propertyType:"text",value:" "+f}),r},ot=function(t,e,n){if(void 0===n)return{};var r=n.floorMaterial2d,i=n.floorMaterial3d,o=r||{},a=o.typeEnum,s=void 0===a?[]:a,l=o.attributes,c=void 0===l?{}:l,u=i||{},A=u.typeEnum,h=void 0===A?[]:A,d=u.attributes,p=void 0===d?{}:d;return e?Z({value:h[t]},p):Z({value:s[t]},c)},at=function(t,e){if(!e)return[];var r=[];return e.forEach((function(e){var i=(0,n.Z)(parseInt(e,16).toString(2),8,"0"),a=parseInt(i.slice(0,5),2);t&&Object.keys(t).forEach((function(t){var e=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),i=e.slice(5);parseInt(e.slice(0,5),2)!==a||i!==o.BITMAP_TYPE_MAP_V2.sweep&&i!==o.BITMAP_TYPE_MAP_V2.carpet||r.push(t)}))})),r},st=function(t){if(!t)return[];var e=[].concat(t),r=[];return e.forEach((function(t){var e=!1,i=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),o=parseInt(i.slice(0,5),2);r.forEach((function(t){var r=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),i=parseInt(r.slice(0,5),2);o===i&&(e=!0)})),e||r.push(t)})),r},lt=function(t){if(p(t).isValid()){var e=p(t).toHex8().slice(0,6);return("#"+$(String(Math.round(255*p(t).getAlpha())))+e).toUpperCase()}return!1},ct=(0,K.Z)((function(t,e,n,r){var i,a=q[0],s=q[1],l=q[2];return((i={})[o.BITMAP_TYPE_MAP.sweep]=e?lt(e):a,i[o.BITMAP_TYPE_MAP.barrier]=n?lt(n):s,i[o.BITMAP_TYPE_MAP.unknown]=r?lt(r):l,i)[t]||a}),(function(t){return t})),ut=(0,K.Z)((function(t,e,n,r){var i,a=q[0],s=q[1],l=q[2];return((i={})[o.BITMAP_TYPE_MAP_V2.sweep]=e?lt(e):a,i[o.BITMAP_TYPE_MAP_V2.barrier]=n?lt(n):s,i[o.BITMAP_TYPE_MAP_V2.unknown]=r?lt(r):l,i[o.BITMAP_TYPE_MAP_V2.carpet]=e?lt(e):a,i)[t]||a}),(function(t){return t})),At=(0,K.Z)((function(t,e,n,r){var i,o=q[0],a=q[1],s=q[2];return((i={}).sweep=e?lt(e):o,i.barrier=n?lt(n):a,i.unknown=r?lt(r):s,i)[t]||o}),(function(t){return t}));const ht=function(t){this._invoke=t.invoke,this.onMapData=t.onMapData,this.onStructuredMapData=t.onStructuredMapData,this.onPathData=t.onPathData,this.onCommandData=t.onCommandData,this.onConfigurationData=t.onConfigurationData,this.onRuntimeData=t.onRuntimeData,this.onRootStyle=t.onRootStyle,this._invoke.define("onMapData",this.onMapData),this._invoke.define("onStructuredMapData",this.onStructuredMapData),this._invoke.define("onPathData",this.onPathData),this._invoke.define("onCommandData",this.onCommandData),this._invoke.define("onConfigurationData",this.onConfigurationData),this._invoke.define("onRuntimeData",this.onRuntimeData),this._invoke.define("onRootStyle",this.onRootStyle)};const dt=function(e){var n=this;this._createGlobalEventListener=function(){window.onerror=function(t,e,n,r,i){console.error(t,e,n,r,i)}},this._createDebugMode=function(){var t=null;return n._getParamsFromLocationOrInjection().isDebuggerMode&&(t=new(c())),t},this._getParamsFromLocationOrInjection=function(){var t="debugger"===J("mode"),e="string"==typeof window.__INDOOR__MAP__INJECTED__?JSON.parse(window.__INDOOR__MAP__INJECTED__):window.__INDOOR__MAP__INJECTED__||{},n=e.resourceUsageLevel,r=void 0===n?J("resourceUsageLevel"):n,i=e.enablePageReload,o=void 0===i?J("enablePageReload")||!0:i,a=e.enableAICapability,s=void 0===a?J("enableAICapability"):a,l=e.platform,c=void 0===l?J("platform")||"webview":l,u=e.socketAddress;return{resourceUsageLevel:r,enableAICapability:s,platform:c,isDebuggerMode:t,socketAddress:void 0===u?J("socketAddress"):u,enablePageReload:o}},this._createIndoorMapInstance=function(){var e=n._getParamsFromLocationOrInjection(),r=e.resourceUsageLevel,i=e.enableAICapability,o=e.isDebuggerMode,a=e.platform,l=e.socketAddress,c=e.enablePageReload;return new t.xB({debugMode:o,enablePageReload:c,platform:a,container:n._containerElement,antialias:!0,socketAddress:l,logarithmicDepthBuffer:!0,preserveDrawingBuffer:!0,invoke:s(),useWorker:!0,resourceUsageLevel:r,enableAICapability:i,onClickSplitArea:n.invokeCallbackInstance.onClickSplitArea,onMapId:n.invokeCallbackInstance.onMapId,onClickRoom:n.invokeCallbackInstance.onClickRoom,onLaserMapPoints:n.invokeCallbackInstance.onLaserMapPoints,onLongPressInAreaView:n.invokeCallbackInstance.onLongPressInAreaView,onLoggerInfo:n.invokeCallbackInstance.onLoggerInfo,onClickModel:n.invokeCallbackInstance.onClickModel,onModelLoadingProgress:n.invokeCallbackInstance.onModelLoadingProgress,onMapLoadEnd:n.invokeCallbackInstance.onMapLoadEnd,onClickRoomMoreProperties:n.invokeCallbackInstance.onClickRoomMoreProperties,onGestureChange:n.invokeCallbackInstance.onGestureChange,onPosPoints:n.invokeCallbackInstance.onPosPoints,onClickRoomProperties:n.invokeCallbackInstance.onClickRoomProperties,onClickMapView:n.invokeCallbackInstance.onClickMapView,onSplitLine:n.invokeCallbackInstance.onSplitLine,onScreenSnapshot:n.invokeCallbackInstance.onScreenSnapshot,onVirtualInfoRendered:n.invokeCallbackInstance.onVirtualInfoRendered,onRobotPositionChange:n.invokeCallbackInstance.onRobotPositionChange,onRenderContextLost:n.invokeCallbackInstance.onRenderContextLost,onRenderContextRestored:n.invokeCallbackInstance.onRenderContextRestored,onContainerVisibilityChange:n.invokeCallbackInstance.onContainerVisibilityChange,onVirtualInfoOutOfBoundingBox:n.invokeCallbackInstance.onVirtualInfoOutOfBoundingBox,onClickMaterial:n.invokeCallbackInstance.onClickMaterial,onClickInfoWindow:n.invokeCallbackInstance.onClickInfoWindow,onCruiseStatusMapClick:n.invokeCallbackInstance.onCruiseStatusMapClick,onClickCustomLayer:n.invokeCallbackInstance.onClickCustomLayer,onD3MapViewModeEnd:n.invokeCallbackInstance.onD3MapViewModeEnd})},this._containerElement=e.container,this.onMapData=e.onMapData,this.onStructuredMapData=e.onStructuredMapData,this.onPathData=e.onPathData,this.onCommandData=e.onCommandData,this.onConfigurationData=e.onConfigurationData,this.onRuntimeData=e.onRuntimeData,this.onRootStyle=e.onRootStyle,this._createDebugMode(),this._createGlobalEventListener(),this.invokeCallbackInstance=new u({invoke:s()}),this.invokeOpenApiInstance=new ht({invoke:s(),onMapData:this.onMapData,onStructuredMapData:this.onStructuredMapData,onPathData:this.onPathData,onCommandData:this.onCommandData,onConfigurationData:this.onConfigurationData,onRuntimeData:this.onRuntimeData,onRootStyle:this.onRootStyle}),this.indoorMapInstance=this._createIndoorMapInstance()};var pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAAAkUlEQVQ4EWNgGLaAEZ/PLB0cVH79+t8PUsPGxlh4/MCBO7jUM+GSIFV88BnEguwFUJgg83/9/i8L44PYQHkYF0wjhxmKQbCARVEN4/xnKALKw3gw2hfGoFoYobgIFMUwG0A02GtAl4DYjEyMvawsDE9AbGwAxSBkP4MUg8IE5h2QIejyyAZSzWuDzyBkbw4zNgA1SiyLi2V24wAAAABJRU5ErkJggg==";function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ft.apply(this,arguments)}var mt="%c Middleware Log: ",gt="background: #00cca3; color: #FFFFFF; font-size: 16px",yt=t.cQ.ColorUtils,vt=255;document.addEventListener("DOMContentLoaded",(function(){var t,a,s,l,c,u,A,h,d,p,f=!0,m=null,g=null,y={},v=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).info.apply(e,[mt+" "+t,gt].concat(r)),S&&"function"==typeof S.invokeCallbackInstance.onLoggerInfo&&S.invokeCallbackInstance.onLoggerInfo({info:mt+" "+t,theme:gt,args:ft({},r)})},_=function(t){if(!y[t]){var e={r:1,g:1,b:1};if(t&&9===t.length&&0===t.indexOf("#")){var n=parseInt(t.substring(1),16),r=n>>>24,i=n>>16&255,o=n>>8&255,a=255&n;e.r=Math.floor(i/2.55)/100,e.g=Math.floor(o/2.55)/100,e.b=Math.floor(a/2.55)/100;var s={colorFormat:e,alpha:Math.floor(r/2.55)/100};y[t]=s}else{var l={colorFormat:e,alpha:1};y[t]=l}}return y[t]},w=function(t,r){var i=function(t){var r={},i=u,a=i.mapColorConfig,s=void 0===a?{cleaningColor:"#ABD6FFFF",barrierColor:"#818181",unknownColor:"#00FFFF00"}:a,l=i.highlightMapColor,c=void 0===l?o.DEFAULT_HIGHLIGHT_MAP_COLOR:l,A=s.cleaningColor,h=s.barrierColor,d=s.unknownColor,p=t>1?o.BITMAP_TYPE_MAP_V2:o.BITMAP_TYPE_MAP,f=t>1?o.UNKNOWN_AREA_ID_V2:o.UNKNOWN_AREA_ID,m=t>1?5:6,g=et(t,vt,o.DEFAULT_NORMAL_MAP_COLOR),y=et(t,vt,(0,e.Z)(c)&&c.length>0?c:o.DEFAULT_HIGHLIGHT_MAP_COLOR),v=t>1?ut:ct;if(0===t)return Object.values(o.BITMAP_TYPE_HEX_MAP).forEach((function(t){var e=(0,n.Z)(parseInt(t,16).toString(2),8,"0").slice(6),i=v(e,A,h,d);r[t]={normalColor:i,highlightColor:i,pixelType:o.BITMAP_TYPE_MAP_REFLECTION[e]}})),r;for(var _=0;_<=vt;_++){var w=$(""+_),b=(0,n.Z)(parseInt(w,16).toString(2),8,"0"),x=b.slice(m),M=parseInt(b.slice(0,m),2);if(x===p.barrier||x===p.unknown){var L=v(x,A,h,d);r[w]={normalColor:L,highlightColor:L,pixelType:o.BITMAP_TYPE_MAP_REFLECTION[x]}}if(t>1&&x===o.BITMAP_TYPE_MAP_V2.carpet){var C=tt(M,o.BITMAP_TYPE_MAP_V2.carpet);r[C]={normalColor:yt.hex2ahexUpcase(g.get(M)),highlightColor:yt.hex2ahexUpcase(y.get(M)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[x]}}x===p.sweep&&f.includes(M)&&(r[w]={normalColor:yt.hex2ahexUpcase(g.get(M)),highlightColor:yt.hex2ahexUpcase(y.get(M)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[x]})}return r}(t);if(t>0)for(var a=u.highlightMapColor,s=void 0===a?o.DEFAULT_HIGHLIGHT_MAP_COLOR:a,l=et(t,vt,o.DEFAULT_NORMAL_MAP_COLOR),c=et(t,vt,(0,e.Z)(s)&&s.length>0?s:o.DEFAULT_HIGHLIGHT_MAP_COLOR),A=t>1?o.BITMAP_TYPE_MAP_V2:o.BITMAP_TYPE_MAP,h=0,d=r.length;h<d;h++){var p=r[h];i[tt(p.roomId,A.sweep)]={roomId:p.roomId,normalColor:yt.hex2ahexUpcase(l.get(p.roomId)),highlightColor:yt.hex2ahexUpcase(c.get(p.roomId)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[A.sweep],name:p.name,fan:String(p.suction),order:String(p.order),water_level:String(p.cistern),sweep_count:String(p.sweepTimes),mop_count:String(p.mopTimes),sweep_forbidden:String(p.sweepForbidden),mop_forbidden:String(p.mopForbidden),y_mode:String(p.yMop),floorMaterial:p.floorMaterial,vertexData:[]}}return i},b=function(t){var e={};if(A&&u){var r=A,i=r.preCustomRoomConfig,a=void 0===i?{}:i,s=r.customRoomConfig,c=void 0===s?{}:s,h=r.isCustomizeMode,d=r.selectRoomData,p=r.uiInterFace,f=r.foldableRoomIds,m=void 0===f?[]:f,g=u,y=g.roomAttributesConfig,_=void 0===y?{attributesFan:{},attributesWater:{}}:y,w=g.roomStyleConfig,b=g.roomFloorMaterialConfig,x=void 0===b?{}:b,M=g.roomPropertyStyle,L=void 0===M?"foldable":M,C=p.isSelectRoom,E=p.isFoldable,B=l.mapHeader.version;Object.keys(t).forEach((function(r){var i=Object.keys(c).length?c[r]:null,s=t[r],l=Object.keys(a).length?a[r]:null,u=rt(l,i,s,"name"),A=rt(l,i,s,"water_level"),p=rt(l,i,s,"fan"),f=rt(l,i,s,"sweep_count"),g=rt(l,i,s,"floorMaterial"),y=rt(l,i,s,"order"),b={water_level:A,fan:p,sweep_count:f},M=it(b,h||!1,_),S=ot(g,!1,x),T=ot(g,!0,x),D=!1,I="",P="",F=0;if(0===B)P=(I=(0,n.Z)(parseInt(r,16).toString(2),8,"0")).slice(6),e[r]=ft({defaultOrder:parseInt(y,10)<=31?y:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:M,extend:JSON.stringify(ft({},s,b)),roomFloorMaterial2d:S,roomFloorMaterial3d:T,name:"",roomPropertyStyle:L,isFoldable:E||m.includes(r)||C&&d.includes(r)},w);else if(1===B)P=(I=(0,n.Z)(parseInt(r,16).toString(2),8,"0")).slice(6),F=parseInt(I.slice(0,6),2),C&&(D=d.includes(r),P===o.BITMAP_TYPE_MAP.sweep&&(y=D?d.indexOf(r)+1:0)),(o.UNKNOWN_AREA_ID.includes(F)||F<=32)&&(e[r]=ft({defaultOrder:parseInt(y,10)<=31?y:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:M,extend:JSON.stringify(ft({},s,b)),roomFloorMaterial2d:S,roomFloorMaterial3d:T,name:P===o.BITMAP_TYPE_MAP.sweep&&F<=32?u:"",roomPropertyStyle:L,isFoldable:E||m.includes(r)||C&&d.includes(r)},w));else if(2===B||3===B){var k=at(t,d),R=st(k),U=at(t,m),O=st(U);if(P=(I=(0,n.Z)(parseInt(r,16).toString(2),8,"0")).slice(5),F=parseInt(I.slice(0,5),2),C){D=R.includes(r);var H=function(t,e){for(var r=0,i=0;i<e.length;i++){var o=(0,n.Z)(parseInt(e[i],16).toString(2),8,"0"),a=parseInt(o.slice(0,5),2);if(t.roomId===a){r=i;break}}return r}(s,d);P!==o.BITMAP_TYPE_MAP_V2.sweep&&P!==o.BITMAP_TYPE_MAP_V2.carpet||(y=String(D?H+1:0))}(o.UNKNOWN_AREA_ID_V2.includes(F)||F<=27)&&(e[r]=ft({defaultOrder:parseInt(y,10)<=26?y:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:M,extend:JSON.stringify(ft({},s,b)),roomFloorMaterial2d:S,roomFloorMaterial3d:T,name:P===o.BITMAP_TYPE_MAP_V2.sweep&&F<=27?u:"",roomPropertyStyle:L,isFoldable:E||O.includes(r)||C&&R.includes(r)},w))}else v("Map protocol version : "+B+" is not support by standard template, please use @ray-js/robot-middleware sdk to develop by your self")}))}return e},x=function(t,e){for(var n=u,r=n.mapColorConfig,i=void 0===r?{cleaningColor:"#ABD6FFFF",barrierColor:"#FF818181",unknownColor:"#00FFFF00"}:r,o=n.roomStyleConfig,a=i.cleaningColor,s=i.barrierColor,l=i.unknownColor,c=[],A=0,h=t.length;A<h;A++){for(var d=t[A].coordinates,p=new Array(d.length/2*3),f=At(e,a,s,l),m=At(e,a,s,l),g=_(f),y=g.colorFormat,v=g.alpha,w=_(m),b=w.colorFormat,x=w.alpha,M=[b.r,b.g,b.b],L=[y.r,y.g,y.b],C={x:0,y:0},E=0,B=d.length;E<B;E+=2){var S=E/2*3,T=d[E],D=-d[E+1];C.x+=T,C.y+=D,p[S]=T,p[S+1]=D,p[S+2]=0}C.x/=d.length/2,C.y/=d.length/2;var I={useContour:!1,center:C,pointsArray:p,colorsArray:M,normalColorsArray:L,pointsAttribute:ft({colorHex:e,vertexDataOuter:[],vertexDataOuterOnScs:[],points:p,normalColors:L,normalColorAlpha:v,colors:M,colorAlpha:x,defaultOrder:0,normalColor:f,highlightColor:m,pixelType:e,roomProperty:[],extend:ft({},{normalColor:f,highlightColor:m}),roomFloorMaterial2d:void 0,roomFloorMaterial3d:void 0,name:"",roomPropertyStyle:"",isFoldable:!1},o)};c.push(I)}return c},M=function(t){var e=l=(0,o.decodeMap)(t),n=e.mapHeader,i=e.mapData;return(0,r.Z)(m,n)&&(0,r.Z)(g,i.mapRooms)||(m=n,g=i.mapRooms,S.invokeCallbackInstance.onDecodeMapData({mapHeader:n,mapRooms:i.mapRooms})),{mapDataStructured:l,textureObject:[{url:pt}]}},L=function(n){var i;if(u&&Object.keys(u).length&&A&&Object.keys(A).length){var a=n.id,s=n.size,l=void 0===s?[0,0]:s,c=n.origin,h=void 0===c?[0,0]:c,d=n.carpet,p=void 0===d?[]:d,f=(u||{}).staticPrefix,y=void 0===f?"":f,v=A||{},w=v.selectRoomData,b=v.isFreezeMap,M=v.is3d,L=void 0!==M&&M,C=v.pathVisible,E=v.materialObject,B=void 0===E?{}:E,T=v.areaInfoList,D=void 0===T?"[]":T,I=function(t){var n=[];if(A&&u){var i=t.id,a=t.status,s=t.resolution,l=t.origin,c=void 0===l?[0,0]:l,h=t.charger,d=void 0===h?{coordinate:[0,0],angle:0}:h,p=t.rooms,f=void 0===p?{}:p,y=t.obstacles,v=void 0===y?[]:y,w=t.unknown,b=void 0===w?[]:w,M=t.size,L=void 0===M?[0,0]:M,C=A.roomProperty,E=void 0===C?{}:C,B=A,T=B.preCustomRoomConfig,D=void 0===T?{}:T,I=B.customRoomConfig,P=void 0===I?{}:I,F=B.isCustomizeMode,k=B.selectRoomData,R=B.uiInterFace,U=B.foldableRoomIds,O=void 0===U?[]:U,H=u,Y=H.roomAttributesConfig,Q=void 0===Y?{attributesFan:{},attributesWater:{}}:Y,N=H.roomStyleConfig,j=H.roomFloorMaterialConfig,W=void 0===j?{}:j,V=H.highlightMapColor,z=void 0===V?o.DEFAULT_HIGHLIGHT_MAP_COLOR:V,G=R.isSelectRoom,K=R.isFoldable,Z={version:0,mapHeaderStr:"",id:i,mapWidth:L[0],mapHeight:L[1],mapResolution:s,mapStable:Boolean(a),originX:c[0],originY:c[1],chargeX:d.coordinate[0],chargeY:d.coordinate[1],chargeDirection:d.angle,chargePositionTransformed:{x:d.coordinate[0]-c[0],y:d.coordinate[1]-c[1]},dataLengthAfterCompress:0,dataLengthBeforeCompress:0},X=[],q=nt(vt,o.DEFAULT_NORMAL_MAP_COLOR),J=nt(vt,(0,e.Z)(z)&&z.length>0?z:o.DEFAULT_HIGHLIGHT_MAP_COLOR);Object.keys(f).forEach((function(t){var e=f[t],r=parseInt(t,10),i=(0,o.numToHexString)(r,2),a=yt.hex2ahexUpcase(q.get(r)),s=yt.hex2ahexUpcase(J.get(r)),l=_(a),c=l.colorFormat,u=l.alpha,A=_(s),h=A.colorFormat,d=A.alpha,p=ft({roomId:r,normalColor:a,highlightColor:s},E[r]),m={roomId:r,pointHex:(0,o.numToHexString)(r),name:p.name,colorOrder:p.color_order,order:p.defaultOrder,suction:p.fan,cistern:p.water_level,sweepTimes:p.sweep_count,sweepForbidden:Boolean(p.sweep_forbidden),mopForbidden:Boolean(p.mop_forbidden),mopTimes:p.mop_count,yMop:Boolean(p.y_mop),floorMaterial:p.floorMaterial};X.push(m);var g=Object.keys(P).length?P[i]:null,y=Object.keys(D).length?D[i]:null,v=rt(y,g,p,"name"),w=rt(y,g,p,"water_level"),b=rt(y,g,p,"fan"),x=rt(y,g,p,"sweep_count"),M=rt(y,g,p,"floorMaterial"),L=rt(y,g,p,"order"),C={water_level:w,fan:b,sweep_count:x},B=it(C,F,Q),S=ot(M,!1,W),T=ot(M,!0,W);G&&(L=k.includes(i)?k.indexOf(i)+1:0);for(var I=e.coordinates,R=void 0===I?[]:I,U=[],H=[],Y={x:0,y:0},j=0,V=R.length;j<V;j+=2){var z=R[j],Z=-R[j+1];Y.x+=z,Y.y+=Z,U.push({x:z,y:Z}),H.push({x:z,y:-Z})}U.push(U[0]),H.push(H[0]),Y.x/=R.length/2,Y.y/=R.length/2;var $=[h.r,h.g,h.b],tt=[c.r,c.g,c.b],et={useContour:!0,center:Y,pointsArray:[],colorsArray:$,normalColorsArray:tt,pointsAttribute:ft({colorHex:i,vertexDataOuter:U,vertexDataOuterOnScs:H,points:[],normalColors:tt,normalColorAlpha:u,colors:$,colorAlpha:d,defaultOrder:L||0,normalColor:a,highlightColor:s,pixelType:"sweep",roomProperty:B,extend:ft({},p,C),roomFloorMaterial2d:S,roomFloorMaterial3d:T,name:v||"",roomPropertyStyle:"foldable",isFoldable:K||O.includes(i)||G&&k.includes(i)},N)};n.push(et)}));var $=x(v,"barrier"),tt=x(b,"sweep");n.push.apply(n,$.concat(tt)),(0,r.Z)(m,Z)&&(0,r.Z)(g,X)||(m=Z,g=X,S.invokeCallbackInstance.onDecodeMapData({mapHeader:Z,mapRooms:X}))}return n}(n),P=function(t){for(var e=[],n=0,r=t.length;n<r;n++){for(var i=t[n].coordinates,o=new Array(i.length/2),a=0,s=i.length;a<s;a+=2){var l=i[a],c=i[a+1];o[a/2]={x:l,y:c}}e.push({url:pt,pointList:o})}return e}(p),F={staticPrefix:y,performanceTimestamp:t,dataMapId:a,width:l[0],height:l[1],origin:{x:h[0],y:h[1]},center:[l[0]/2,-l[1]/2],materialObject:B,areaInfoList:D,textureObject:P,structuredInfo:I};i=ft({},u,{selectRoomData:w,is3d:L,pathVisible:C,isFreezeMap:b,mapStructuredData:F})}return i},C=function(){if(p){var t=p.size,e=void 0===t?[0,0]:t;f=0===e[0]||0===e[1];var n=L(p);f&&(v("Map is empty"),S.indoorMapInstance.clearMap(),S.invokeCallbackInstance.onMapLoadEnd(!0)),p&&!f&&n&&S.indoorMapInstance.onDrawMapWithStructuredData(n)}},E=function(){h||(h=M(a));var e=function(e){var n;if(u&&Object.keys(u).length&&A&&Object.keys(A).length){var r=e.mapDataStructured,i=r.mapHeader,o=r.mapData,a=(u||{}).staticPrefix,s=A||{},l=s.selectRoomData,c=s.isFreezeMap,h=s.is3d,d=s.pathVisible,p=s.materialObject,f=void 0===p?{}:p,m=s.areaInfoList,g=void 0===m?"[]":m,y=b(w(i.version,o.mapRooms)),v={staticPrefix:a,performanceTimestamp:t,version:i.version,dataMapId:i.id,width:i.mapWidth,height:i.mapHeight,origin:{x:i.originX,y:i.originY},map:o.mapPointsStr,roomInfo:y,materialObject:f,areaInfoList:g,textureObject:e.textureObject};n=ft({},u,{selectRoomData:l,is3d:h,pathVisible:d,isFreezeMap:c,mapData:v})}return n}(h),n=((h||{}).mapDataStructured||{mapWidth:0,mapHeight:0}).mapHeader;(f=0===n.mapWidth||0===n.mapHeight)&&(v("Map is empty"),S.indoorMapInstance.clearMap(),S.invokeCallbackInstance.onMapLoadEnd(!0)),e&&!f&&S.indoorMapInstance.onDrawMapWithData(e)},B=function(){var t=function(t){var e;if(u&&Object.keys(u).length&&A&&Object.keys(A).length){var n=t.pathDataStructured,r=n.pathHeader,i=n.pathPoints,o=A,a=o.is3d,s=o.uiInterFace,l=u,c=l.robotParams,h=l.markerIcon,d=l.pathConfig,p=void 0===d?{pathColor:{}}:d,f=l.robotConfig,m=void 0===f?{ringConfig:{ringRate:2}}:f,g=void 0!==c?c:h,y=r.direction;if(i.length){var v,_=i[i.length-1];i[i.length-1]=Object.assign(_,{hidden:!s.isShowCurPosRing||!1,rate:m.ringConfig.ringRate,bgColor:m.ringConfig.ringBgColor,duration:m.ringConfig.ringDuration,borderWidth:m.ringConfig.ringBorderWidth,animationType:"normal",theta:y,dataColors:{common:p.pathColor.commonColor,charge:p.pathColor.chargeColor,transitions:p.pathColor.transitionsColor,mop:null==(v=p.pathColor)?void 0:v.mopColor},dataType:{common:"laser",charge:"laser",transitions:"laser",mop:"smearing"}})}e={pathPoints:i,marker:g,is3d:a}}return e}(d);t&&!f&&S.indoorMapInstance.onDrawPathWithData(t.pathPoints,t.marker,t.is3d)},S=new dt({container:document.getElementById("root"),onStructuredMapData:function(e,n){if(n){t=n;var i=(new Date).getTime();v("structuredMapDataDispatcher transfer cost time ==>",i-n)}u&&Object.keys(u).length&&A&&Object.keys(A).length&&((0,r.Z)(p,e)||(p=e,C())),p=e},onMapData:function(e,n){if(n){t=n;var r=(new Date).getTime();v("mapDataDispatcher transfer cost time ==>",r-n)}u&&Object.keys(u).length&&A&&Object.keys(A).length&&a!==e&&(h=M(e),E()),a=e},onPathData:function(t,e){if(e){var n=(new Date).getTime();v("pathDataDispatcher transfer cost time ==>",n-e)}s!==t&&(d=function(t){return c=(0,o.decodePath)(t),S.invokeCallbackInstance.onDecodePathData(c.pathHeader),{pathDataStructured:c}}(t),B()),s=t},onCommandData:function(t,e){if(e){var n=(new Date).getTime();v("commandDataDispatcher transfer cost time ==>",n-e)}},onConfigurationData:function(t,e){if(e){var n=(new Date).getTime();v("configurationDataDispatcher transfer cost time ==>",n-e)}u=t,a&&(h=M(a),E()),p&&C(),s&&B()},onRuntimeData:function(t,e){var n;if(e){var r=(new Date).getTime();v("runtimeDataDispatcher transfer cost time ==>",r-e)}var o=t||{},l=o.pathVisible,c=o.is3d,u=void 0!==c&&c,h=u!==(!!(0,i.Z)(A,"is3d")&&A.is3d),d=l!==(null==(n=A||{})?void 0:n.pathVisible),m=ft({},A),g=Boolean(a)||Boolean(p);A=t,g&&s&&d&&!f&&(l?S.indoorMapInstance.reCreatePathIntoScene():S.indoorMapInstance.removePathFromScene()),m&&g&&h&&!f&&S.indoorMapInstance.changeMapViewMode(u),a&&E(),p&&C(),s&&B()},onRootStyle:function(t){var e=document.getElementById("root");e.style.cssText="";for(var n=Object.entries(t),r=0;r<n.length;r++){var i=n[r],o=i[0],a=i[1];e.style[o]=a}}});return S}),!1)})(),__webpack_exports__})()));</script>
        </html>
        