<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <meta http-equiv="X-UA-Compatible" content="ie=edge" />
            <link rel="icon" href="data:;base64,=">
            <title>IndoorMap</title>
            <style>
              body {
                margin: 0;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                  sans-serif;
                touch-action: none;
                -ms-touch-action: none;
                -webkit-touch-callout: none;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                -webkit-user-select: none;
                -ms-user-select: none;
                user-select: none;
              }
          
              code {
                font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
                  monospace;
              }
          
              #root {
                width: 100vw;
                height: 100vh;
              }
            </style>
          </head>
          <body>
            <div id="root"></div>
          </body>
          <script>/*! For license information please see app.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,(()=>(()=>{var __webpack_modules__={1652:(t,e,n)=>{"use strict";n.d(e,{cQ:()=>IM,xB:()=>DM}),t=n.hmd(t);var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o,a,s=Object.prototype.toString,l=function(t){var e=s.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===s.call(t.callee)),n},c=Array.prototype.slice,A=l,u=Object.keys,d=u?function(t){return u(t)}:function(){if(a)return o;var t;if(a=1,!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=l,r=Object.prototype.propertyIsEnumerable,s=!r.call({toString:null},"toString"),c=r.call((function(){}),"prototype"),A=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&e.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();t=function(t){var r=null!==t&&"object"==typeof t,o="[object Function]"===n.call(t),a=i(t),l=r&&"[object String]"===n.call(t),d=[];if(!r&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var p=c&&o;if(l&&t.length>0&&!e.call(t,0))for(var f=0;f<t.length;++f)d.push(String(f));if(a&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var g in t)p&&"prototype"===g||!e.call(t,g)||d.push(String(g));if(s)for(var y=function(t){if("undefined"==typeof window||!h)return u(t);try{return u(t)}catch(t){return!1}}(t),v=0;v<A.length;++v)y&&"constructor"===A[v]||!e.call(t,A[v])||d.push(A[v]);return d}}return o=t}(),h=Object.keys;d.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return A(t)?h(c.call(t)):h(t)})}else Object.keys=d;return Object.keys||d};var p,f=d,m=Error,g=EvalError,y=RangeError,v=ReferenceError,_=SyntaxError,w=TypeError,x=URIError,b="undefined"!=typeof Symbol&&Symbol,M={__proto__:null,foo:{}},L=Object,C=Object.prototype.toString,B=Math.max,S=function(t,e){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var r=0;r<e.length;r+=1)n[r+t.length]=e[r];return n},E=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==C.apply(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,i=function(t){for(var e=[],n=1,i=0;n<t.length;n+=1,i+=1)e[i]=t[n];return e}(arguments),r=B(0,e.length-i.length),o=[],a=0;a<r;a++)o[a]="$"+a;if(n=Function("binder","return function ("+function(t){for(var e="",n=0;n<t.length;n+=1)e+=t[n],n+1<t.length&&(e+=",");return e}(o)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var r=e.apply(this,S(i,arguments));return Object(r)===r?r:this}return e.apply(t,S(i,arguments))})),e.prototype){var s=function(){};s.prototype=e.prototype,n.prototype=new s,s.prototype=null}return n},T=Function.prototype.call,D=Object.prototype.hasOwnProperty,I=E.call(T,D),P=m,k=g,F=y,U=v,R=_,O=w,H=x,Y=Function,Q=function(t){try{return Y('"use strict"; return ('+t+").constructor;")()}catch(t){}},j=Object.getOwnPropertyDescriptor;if(j)try{j({},"")}catch(Ru){j=null}var N=function(){throw new O},W=j?function(){try{return N}catch(t){try{return j(arguments,"callee").get}catch(t){return N}}}():N,V="function"==typeof b&&"function"==typeof Symbol&&"symbol"==typeof b("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}(),z={__proto__:M}.foo===M.foo&&!(M instanceof L),G=Object.getPrototypeOf||(z?function(t){return t.__proto__}:null),K={},Z="undefined"!=typeof Uint8Array&&G?G(Uint8Array):p,X={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?p:ArrayBuffer,"%ArrayIteratorPrototype%":V&&G?G([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":K,"%AsyncGenerator%":K,"%AsyncGeneratorFunction%":K,"%AsyncIteratorPrototype%":K,"%Atomics%":"undefined"==typeof Atomics?p:Atomics,"%BigInt%":"undefined"==typeof BigInt?p:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?p:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":P,"%eval%":eval,"%EvalError%":k,"%Float32Array%":"undefined"==typeof Float32Array?p:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?p:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?p:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":K,"%Int8Array%":"undefined"==typeof Int8Array?p:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?p:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&G?G(G([][Symbol.iterator]())):p,"%JSON%":"object"==typeof JSON?JSON:p,"%Map%":"undefined"==typeof Map?p:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&V&&G?G((new Map)[Symbol.iterator]()):p,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?p:Promise,"%Proxy%":"undefined"==typeof Proxy?p:Proxy,"%RangeError%":F,"%ReferenceError%":U,"%Reflect%":"undefined"==typeof Reflect?p:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?p:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&V&&G?G((new Set)[Symbol.iterator]()):p,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&G?G(""[Symbol.iterator]()):p,"%Symbol%":V?Symbol:p,"%SyntaxError%":R,"%ThrowTypeError%":W,"%TypedArray%":Z,"%TypeError%":O,"%Uint8Array%":"undefined"==typeof Uint8Array?p:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?p:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?p:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?p:Uint32Array,"%URIError%":H,"%WeakMap%":"undefined"==typeof WeakMap?p:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?p:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?p:WeakSet};if(G)try{null.error}catch(Ru){var q=G(G(Ru));X["%Error.prototype%"]=q}var J=function t(e){var n;if("%AsyncFunction%"===e)n=Q("async function () {}");else if("%GeneratorFunction%"===e)n=Q("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=Q("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&G&&(n=G(r.prototype))}return X[e]=n,n},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},tt=E,et=I,nt=tt.call(Function.call,Array.prototype.concat),it=tt.call(Function.apply,Array.prototype.splice),rt=tt.call(Function.call,String.prototype.replace),ot=tt.call(Function.call,String.prototype.slice),at=tt.call(Function.call,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,ct=function(t,e){var n,i=t;if(et($,i)&&(i="%"+(n=$[i])[0]+"%"),et(X,i)){var r=X[i];if(r===K&&(r=J(i)),void 0===r&&!e)throw new O("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new R("intrinsic "+t+" does not exist!")},At=function(t,e){if("string"!=typeof t||0===t.length)throw new O("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new O('"allowMissing" argument must be a boolean');if(null===at(/^%?[^%]*%?$/,t))throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=ot(t,0,1),n=ot(t,-1);if("%"===e&&"%"!==n)throw new R("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new R("invalid intrinsic syntax, expected opening `%`");var i=[];return rt(t,st,(function(t,e,n,r){i[i.length]=n?rt(r,lt,"$1"):e||t})),i}(t),i=n.length>0?n[0]:"",r=ct("%"+i+"%",e),o=r.name,a=r.value,s=!1,l=r.alias;l&&(i=l[0],it(n,nt([0,1],l)));for(var c=1,A=!0;c<n.length;c+=1){var u=n[c],d=ot(u,0,1),h=ot(u,-1);if(('"'===d||"'"===d||"`"===d||'"'===h||"'"===h||"`"===h)&&d!==h)throw new R("property names with quotes must have matching quotes");if("constructor"!==u&&A||(s=!0),et(X,o="%"+(i+="."+u)+"%"))a=X[o];else if(null!=a){if(!(u in a)){if(!e)throw new O("base intrinsic for "+t+" exists, but the property is not available.");return}if(j&&c+1>=n.length){var p=j(a,u);a=(A=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:a[u]}else A=et(a,u),a=a[u];A&&!s&&(X[o]=a)}}return a},ut=At("%Object.defineProperty%",!0)||!1;if(ut)try{ut({},"a",{value:1})}catch(Ru){ut=!1}var dt=ut,ht=At("%Object.getOwnPropertyDescriptor%",!0);if(ht)try{ht([],"length")}catch(Ru){ht=null}var pt=ht,ft=dt,mt=_,gt=w,yt=pt,vt=dt,_t=function(){return!!vt};_t.hasArrayLengthDefineBug=function(){if(!vt)return null;try{return 1!==vt([],"length",{value:1}).length}catch(t){return!0}};var wt=_t,xt=f,bt="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Mt=Object.prototype.toString,Lt=Array.prototype.concat,Ct=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new gt("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new gt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new gt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new gt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new gt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new gt("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],s=!!yt&&yt(t,e);if(ft)ft(t,e,{configurable:null===o&&s?s.configurable:!o,enumerable:null===i&&s?s.enumerable:!i,value:n,writable:null===r&&s?s.writable:!r});else{if(!a&&(i||r||o))throw new mt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}},Bt=wt(),St=function(t,e,n,i){if(e in t)if(!0===i){if(t[e]===n)return}else if("function"!=typeof(r=i)||"[object Function]"!==Mt.call(r)||!i())return;var r;Bt?Ct(t,e,n,!0):Ct(t,e,n)},Et=function(t,e){var n=arguments.length>2?arguments[2]:{},i=xt(e);bt&&(i=Lt.call(i,Object.getOwnPropertySymbols(e)));for(var r=0;r<i.length;r+=1)St(t,i[r],e[i[r]],n[i[r]])};Et.supportsDescriptors=!!Bt;var Tt=Et,Dt={exports:{}};"undefined"!=typeof self?Dt.exports=self:"undefined"!=typeof window?Dt.exports=window:Dt.exports=Function("return this")();var It,Pt,kt,Ft,Ut,Rt,Ot,Ht,Yt,Qt,jt,Nt,Wt,Vt,zt,Gt,Kt=Dt.exports,Zt=Tt,Xt=pt,qt=function(){return"object"==typeof i&&i&&i.Math===Math&&i.Array===Array?i:Kt};!function(){var t=qt();if(Zt.supportsDescriptors){var e=Xt(t,"globalThis");e&&(!e.configurable||!e.enumerable&&e.writable&&globalThis===t)||Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else"object"==typeof globalThis&&globalThis===t||(t.globalThis=t)}(),function(t){t.indoorMapWrapper="IndoorMapWrapper",t.indoorMapStable="IndoorMapStable",t.indoorMapPoints="IndoorMapPoints",t.indoorMapCircleLayer="IndoorMapCircleLayer",t.indoorMapCircleLineLayer="IndoorMapCircleLineLayer",t.indoorMapImgCloud="IndoorMapImgCloud",t.indoorMapFluorescenceLayer="IndoorMapFluorescenceLayer",t.indoorMapSelectedLayer="IndoorMapSelectedLayer",t.indoorMapTextLayer="IndoorMapTextLayer",t.indoorMapSplitLineLayer="IndoorMapSplitLineLayer",t.indoorMapPolygonLineLayer="IndoorMapPolygonLineLayer",t.indoorMapMaterialLayer="IndoorMapMaterialLayer",t.indoorMapModel="IndoorMapModel",t.indoorMapDashEditLine="IndoorMapDashEditLine",t.indoorMapInfoWindow="IndoorMapInfoWindow",t.indoorMapCustomLayer="IndoorMapCustomLayer",t.indoorMapAxes="IndoorMapAxes",t.indoorMapPolygonLayerCircle="IndoorMapPolygonLayerCircle",t.indoorMapD3FrameLayer="IndoorMapD3FrameLayer",t.indoorMapD3FrameFloorLayer="IndoorMapD3FrameFloorLayer",t.indoorMapPlaneFloorMaterialLayer="IndoorMapPlaneFloorMaterial",t.indoorMapPosLayer="IndoorMapPosLayer",t.indoorMapSmearMaterial="IndoorMapSmearMaterial",t.indoorMapFilter="IndoorMapFilter"}(It||(It={})),function(t){t.ios="ios",t.android="android",t.h5="web"}(Pt||(Pt={})),function(t){t.mini="mini",t.webview="webview"}(kt||(kt={})),function(t){t.sweep="sweep",t.unknown="unknown",t.barrier="barrier",t.carpet="carpet"}(Ft||(Ft={})),function(t){t[t.laserMap=1]="laserMap",t[t.carpet=1.1]="carpet",t[t.cleanPath=1.2]="cleanPath",t[t.pilePosition=1.21]="pilePosition",t[t.robot=1.22]="robot",t[t.virtualWall=1.23]="virtualWall",t[t.forbidArea=1.33]="forbidArea",t[t.areaSet=1.43]="areaSet",t[t.posPosition=1.53]="posPosition",t[t.material=1.6]="material",t[t.selected=1.61]="selected",t[t.sprite=1.62]="sprite",t[t.splitLine=1.7]="splitLine",t[t.otherArea=1.8]="otherArea",t[t.roomLabel=1.81]="roomLabel"}(Ut||(Ut={})),function(t){t[t.normal=0]="normal",t[t.pressToRun=1]="pressToRun",t[t.areaSet=2]="areaSet",t[t.virtualArea=3]="virtualArea",t[t.virtualWall=4]="virtualWall",t[t.mapSplit=5]="mapSplit",t[t.mapClick=5]="mapClick",t[t.mapSelect=6]="mapSelect",t[t.mapTimerSelect=7]="mapTimerSelect",t[t.mapCruise=8]="mapCruise"}(Rt||(Rt={})),function(t){t[t.normal=0]="normal",t[t.rest=1]="rest",t[t.merge=2]="merge",t[t.split=3]="split",t[t.click=4]="click"}(Ot||(Ot={})),function(t){t.edit="edit",t.active="active"}(Ht||(Ht={})),function(t){t.default="default",t.waterDroplets="waterDroplets"}(Yt||(Yt={})),function(t){t[t.posPosition=1]="posPosition",t[t.sweepForbidden=2]="sweepForbidden",t[t.mopForbidden=3]="mopForbidden",t[t.virtualWall=4]="virtualWall",t[t.climbingForbidden=5]="climbingForbidden",t[t.normalCleaningZone=6]="normalCleaningZone"}(Qt||(Qt={})),function(t){t[t.PosPosition=1]="PosPosition",t[t.AreaSet=2]="AreaSet",t[t.ForbidArea=3]="ForbidArea",t[t.VirtualWall=4]="VirtualWall",t[t.Material=5]="Material",t[t.Selected=6]="Selected",t[t.Carpet=7]="Carpet",t[t.D3Model=8]="D3Model",t[t.PlaneMaterial=9]="PlaneMaterial",t[t.PlaneFloorMaterial=10]="PlaneFloorMaterial",t[t.Fluorescence=11]="Fluorescence",t[t.D3Frame=12]="D3Frame",t[t.CustomLayer=13]="CustomLayer",t[t.SmearMaterial=14]="SmearMaterial"}(jt||(jt={})),function(t){t.square="square",t.circle="circle"}(Nt||(Nt={})),function(t){t.normal="normal",t.dashEdit="dashEdit"}(Wt||(Wt={})),function(t){t.normal="normal"}(Vt||(Vt={})),function(t){t.smear="smearing",t.laser="laser"}(zt||(zt={})),function(t){t.center="center",t.bottom="bottom",t.top="top"}(Gt||(Gt={}));Object.freeze({__proto__:null,get IndoorMapClasses(){return It},get PlatformEnum(){return Pt},get ProgramEnv(){return kt},get SweepType(){return Ft},get layersHeightLevel(){return Ut},get nativeMapStatusEnum(){return Rt},get mapSplitStateEnum(){return Ot},get viewTypeEnum(){return Ht},get OrderTypeEnum(){return Yt},get AreaInfoTypeEnum(){return Qt},get IVirtualInfoTypeEnum(){return jt},get AreaInfoVertexTypeEnum(){return Nt},get IAreaViewTypeEnum(){return Wt},get IAnimationTypeEnum(){return Vt},get IPathTypeEnum(){return zt},get IPositionEnum(){return Gt}}),Object.freeze({__proto__:null});const Jt=100,$t=101,te=102,ee=200,ne=201,ie=202,re=203,oe=204,ae=205,se=206,le=207,ce=208,Ae=209,ue=210,de=301,he=302,pe=306,fe=1e3,me=1001,ge=1002,ye=1003,ve=1004,_e=1005,we=1006,xe=1007,be=1008,Me=1009,Le=1012,Ce=1014,Be=1015,Se=1016,Ee=1020,Te=1022,De=1023,Ie=1026,Pe=1027,ke=2300,Fe=2301,Ue=2302,Re=3e3,Oe=3001,He=3007,Ye=3002,Qe=3004,je=3005,Ne=3006,We=7680,Ve=7681,ze=35044,Ge="300 es";class Ke{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t);t.target=null}}}const Ze=[];for(let t=0;t<256;t++)Ze[t]=(t<16?"0":"")+t.toString(16);let Xe=1234567;const qe=Math.PI/180,Je=180/Math.PI;function $e(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ze[255&t]+Ze[t>>8&255]+Ze[t>>16&255]+Ze[t>>24&255]+"-"+Ze[255&e]+Ze[e>>8&255]+"-"+Ze[e>>16&15|64]+Ze[e>>24&255]+"-"+Ze[63&n|128]+Ze[n>>8&255]+"-"+Ze[n>>16&255]+Ze[n>>24&255]+Ze[255&i]+Ze[i>>8&255]+Ze[i>>16&255]+Ze[i>>24&255]).toUpperCase()}function tn(t,e,n){return Math.max(e,Math.min(n,t))}function en(t,e){return(t%e+e)%e}function nn(t,e,n){return(1-n)*t+n*e}function rn(t){return!(t&t-1)&&0!==t}function on(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function an(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var sn=Object.freeze({__proto__:null,DEG2RAD:qe,RAD2DEG:Je,generateUUID:$e,clamp:tn,euclideanModulo:en,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:nn,damp:function(t,e,n,i){return nn(t,e,1-Math.exp(-n*i))},pingpong:function(t,e=1){return e-Math.abs(en(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(Xe=t%2147483647),Xe=16807*Xe%2147483647,(Xe-1)/2147483646},degToRad:function(t){return t*qe},radToDeg:function(t){return t*Je},isPowerOfTwo:rn,ceilPowerOfTwo:on,floorPowerOfTwo:an,setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+i)/2),A=a((e+i)/2),u=o((e-i)/2),d=a((e-i)/2),h=o((i-e)/2),p=a((i-e)/2);switch(r){case"XYX":t.set(s*A,l*u,l*d,s*c);break;case"YZY":t.set(l*d,s*A,l*u,s*c);break;case"ZXZ":t.set(l*u,l*d,s*A,s*c);break;case"XZX":t.set(s*A,l*p,l*h,s*c);break;case"YXY":t.set(l*h,s*A,l*p,s*c);break;case"ZYZ":t.set(l*p,l*h,s*A,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}});class ln{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}ln.prototype.isVector2=!0;class cn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,a,s,l){const c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],A=n[7],u=n[2],d=n[5],h=n[8],p=i[0],f=i[3],m=i[6],g=i[1],y=i[4],v=i[7],_=i[2],w=i[5],x=i[8];return r[0]=o*p+a*g+s*_,r[3]=o*f+a*y+s*w,r[6]=o*m+a*v+s*x,r[1]=l*p+c*g+A*_,r[4]=l*f+c*y+A*w,r[7]=l*m+c*v+A*x,r[2]=u*p+d*g+h*_,r[5]=u*f+d*y+h*w,r[8]=u*m+d*v+h*x,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*o*c-e*a*l-n*r*c+n*a*s+i*r*l-i*o*s}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],A=c*o-a*l,u=a*s-c*r,d=l*r-o*s,h=e*A+n*u+i*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);const p=1/h;return t[0]=A*p,t[1]=(i*l-c*n)*p,t[2]=(a*n-i*o)*p,t[3]=u*p,t[4]=(c*e-i*s)*p,t[5]=(i*r-a*e)*p,t[6]=d*p,t[7]=(n*s-l*e)*p,t[8]=(o*e-n*r)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,a){const s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-i*l,i*s,-i*(-l*o+s*a)+a+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],l=i[4],c=i[7];return i[0]=e*r+n*s,i[3]=e*o+n*l,i[6]=e*a+n*c,i[1]=-n*r+e*s,i[4]=-n*o+e*l,i[7]=-n*a+e*c,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}let An;cn.prototype.isMatrix3=!0;class un{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===An&&(An=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),An.width=t.width,An.height=t.height;const n=An.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=An}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}}let dn=0;class hn extends Ke{constructor(t=hn.DEFAULT_IMAGE,e=hn.DEFAULT_MAPPING,n=me,i=me,r=we,o=be,a=De,s=Me,l=1,c=Re){super(),Object.defineProperty(this,"id",{value:dn++}),this.uuid=$e(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new ln(0,0),this.repeat=new ln(1,1),this.center=new ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=$e()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(pn(i[t].image)):e.push(pn(i[t]))}else e=pn(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case fe:t.x=t.x-Math.floor(t.x);break;case me:t.x=t.x<0?0:1;break;case ge:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case fe:t.y=t.y-Math.floor(t.y);break;case me:t.y=t.y<0?0:1;break;case ge:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&this.version++}}function pn(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?un.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}hn.DEFAULT_IMAGE=void 0,hn.DEFAULT_MAPPING=300,hn.prototype.isTexture=!0;class fn{constructor(t=0,e=0,n=0,i=1){this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,a=.1,s=t.elements,l=s[0],c=s[4],A=s[8],u=s[1],d=s[5],h=s[9],p=s[2],f=s[6],m=s[10];if(Math.abs(c-u)<o&&Math.abs(A-p)<o&&Math.abs(h-f)<o){if(Math.abs(c+u)<a&&Math.abs(A+p)<a&&Math.abs(h+f)<a&&Math.abs(l+d+m-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,s=(d+1)/2,g=(m+1)/2,y=(c+u)/4,v=(A+p)/4,_=(h+f)/4;return t>s&&t>g?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=y/n,r=v/n):s>g?s<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=y/i,r=_/i):g<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=v/r,i=_/r),this.set(n,i,r,e),this}let g=Math.sqrt((f-h)*(f-h)+(A-p)*(A-p)+(u-c)*(u-c));return Math.abs(g)<.001&&(g=1),this.x=(f-h)/g,this.y=(A-p)/g,this.z=(u-c)/g,this.w=Math.acos((l+d+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}fn.prototype.isVector4=!0;class mn extends Ke{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new fn(0,0,t,e),this.scissorTest=!1,this.viewport=new fn(0,0,t,e),this.texture=new hn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:t,height:e,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:we,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}mn.prototype.isWebGLRenderTarget=!0;class gn{constructor(t=0,e=0,n=0,i=1){this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,i)}static slerpFlat(t,e,n,i,r,o,a){let s=n[i+0],l=n[i+1],c=n[i+2],A=n[i+3];const u=r[o+0],d=r[o+1],h=r[o+2],p=r[o+3];if(0===a)return t[e+0]=s,t[e+1]=l,t[e+2]=c,void(t[e+3]=A);if(1===a)return t[e+0]=u,t[e+1]=d,t[e+2]=h,void(t[e+3]=p);if(A!==p||s!==u||l!==d||c!==h){let t=1-a;const e=s*u+l*d+c*h+A*p,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,a=Math.sin(a*o)/r}const r=a*n;if(s=s*t+u*r,l=l*t+d*r,c=c*t+h*r,A=A*t+p*r,t===1-a){const t=1/Math.sqrt(s*s+l*l+c*c+A*A);s*=t,l*=t,c*=t,A*=t}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=A}static multiplyQuaternionsFlat(t,e,n,i,r,o){const a=n[i],s=n[i+1],l=n[i+2],c=n[i+3],A=r[o],u=r[o+1],d=r[o+2],h=r[o+3];return t[e]=a*h+c*A+s*d-l*u,t[e+1]=s*h+c*u+l*A-a*d,t[e+2]=l*h+c*d+a*u-s*A,t[e+3]=c*h-a*A-s*u-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,o=t._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2),A=a(r/2),u=s(n/2),d=s(i/2),h=s(r/2);switch(o){case"XYZ":this._x=u*c*A+l*d*h,this._y=l*d*A-u*c*h,this._z=l*c*h+u*d*A,this._w=l*c*A-u*d*h;break;case"YXZ":this._x=u*c*A+l*d*h,this._y=l*d*A-u*c*h,this._z=l*c*h-u*d*A,this._w=l*c*A+u*d*h;break;case"ZXY":this._x=u*c*A-l*d*h,this._y=l*d*A+u*c*h,this._z=l*c*h+u*d*A,this._w=l*c*A-u*d*h;break;case"ZYX":this._x=u*c*A-l*d*h,this._y=l*d*A+u*c*h,this._z=l*c*h-u*d*A,this._w=l*c*A+u*d*h;break;case"YZX":this._x=u*c*A+l*d*h,this._y=l*d*A+u*c*h,this._z=l*c*h-u*d*A,this._w=l*c*A-u*d*h;break;case"XZY":this._x=u*c*A-l*d*h,this._y=l*d*A-u*c*h,this._z=l*c*h+u*d*A,this._w=l*c*A+u*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],a=e[5],s=e[9],l=e[2],c=e[6],A=e[10],u=n+a+A;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(c-s)*t,this._y=(r-l)*t,this._z=(o-i)*t}else if(n>a&&n>A){const t=2*Math.sqrt(1+n-a-A);this._w=(c-s)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+l)/t}else if(a>A){const t=2*Math.sqrt(1+a-n-A);this._w=(r-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(s+c)/t}else{const t=2*Math.sqrt(1+A-n-a);this._w=(o-i)/t,this._x=(r+l)/t,this._y=(s+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(tn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+o*a+i*l-r*s,this._y=i*c+o*s+r*a-n*l,this._z=r*c+o*l+n*s-i*a,this._w=o*c-n*a-i*s-r*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let a=o*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const s=1-a*a;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),A=Math.sin((1-e)*c)/l,u=Math.sin(e*c)/l;return this._w=o*A+this._w*u,this._x=n*A+this._x*u,this._y=i*A+this._y*u,this._z=r*A+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,n){this.copy(t).slerp(e,n)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}gn.prototype.isQuaternion=!0;class yn{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_n.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(_n.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*i-a*n,c=s*n+a*e-r*i,A=s*i+r*n-o*e,u=-r*e-o*n-a*i;return this.x=l*s+u*-r+c*-a-A*-o,this.y=c*s+u*-o+A*-r-l*-a,this.z=A*s+u*-a+l*-o-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return vn.copy(this).projectOnVector(t),this.sub(vn)}reflect(t){return this.sub(vn.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(tn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}yn.prototype.isVector3=!0;const vn=new yn,_n=new gn;class wn{constructor(t=new yn(1/0,1/0,1/0),e=new yn(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.length;s<l;s+=3){const l=t[s],c=t[s+1],A=t[s+2];l<e&&(e=l),c<n&&(n=c),A<i&&(i=A),l>r&&(r=l),c>o&&(o=c),A>a&&(a=A)}return this.min.set(e,n,i),this.max.set(r,o,a),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let s=0,l=t.count;s<l;s++){const l=t.getX(s),c=t.getY(s),A=t.getZ(s);l<e&&(e=l),c<n&&(n=c),A<i&&(i=A),l>r&&(r=l),c>o&&(o=c),A>a&&(a=A)}return this.min.set(e,n,i),this.max.set(r,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=bn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Mn.copy(e.boundingBox),Mn.applyMatrix4(t.matrixWorld),this.union(Mn));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,bn),bn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Dn),In.subVectors(this.max,Dn),Ln.subVectors(t.a,Dn),Cn.subVectors(t.b,Dn),Bn.subVectors(t.c,Dn),Sn.subVectors(Cn,Ln),En.subVectors(Bn,Cn),Tn.subVectors(Ln,Bn);let e=[0,-Sn.z,Sn.y,0,-En.z,En.y,0,-Tn.z,Tn.y,Sn.z,0,-Sn.x,En.z,0,-En.x,Tn.z,0,-Tn.x,-Sn.y,Sn.x,0,-En.y,En.x,0,-Tn.y,Tn.x,0];return!!Fn(e,Ln,Cn,Bn,In)&&(e=[1,0,0,0,1,0,0,0,1],!!Fn(e,Ln,Cn,Bn,In)&&(Pn.crossVectors(Sn,En),e=[Pn.x,Pn.y,Pn.z],Fn(e,Ln,Cn,Bn,In)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return bn.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(bn).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(xn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),xn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),xn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),xn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),xn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),xn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),xn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),xn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(xn)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}wn.prototype.isBox3=!0;const xn=[new yn,new yn,new yn,new yn,new yn,new yn,new yn,new yn],bn=new yn,Mn=new wn,Ln=new yn,Cn=new yn,Bn=new yn,Sn=new yn,En=new yn,Tn=new yn,Dn=new yn,In=new yn,Pn=new yn,kn=new yn;function Fn(t,e,n,i,r){for(let o=0,a=t.length-3;o<=a;o+=3){kn.fromArray(t,o);const a=r.x*Math.abs(kn.x)+r.y*Math.abs(kn.y)+r.z*Math.abs(kn.z),s=e.dot(kn),l=n.dot(kn),c=i.dot(kn);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Un=new wn,Rn=new yn,On=new yn,Hn=new yn;class Yn{constructor(t=new yn,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Un.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Hn.subVectors(t,this.center);const e=Hn.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(Hn.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return On.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(Rn.copy(t.center).add(On)),this.expandByPoint(Rn.copy(t.center).sub(On)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Qn=new yn,jn=new yn,Nn=new cn;class Wn{constructor(t=new yn(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=Qn.subVectors(n,e).cross(jn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(Qn),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Nn.getNormalMatrix(t),i=this.coplanarPoint(Qn).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Wn.prototype.isPlane=!0;const Vn=new Yn,zn=new yn;class Gn{constructor(t=new Wn,e=new Wn,n=new Wn,i=new Wn,r=new Wn,o=new Wn){this.planes=[t,e,n,i,r,o]}set(t,e,n,i,r,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],A=n[7],u=n[8],d=n[9],h=n[10],p=n[11],f=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(a-i,A-s,p-u,y-f).normalize(),e[1].setComponents(a+i,A+s,p+u,y+f).normalize(),e[2].setComponents(a+r,A+l,p+d,y+m).normalize(),e[3].setComponents(a-r,A-l,p-d,y-m).normalize(),e[4].setComponents(a-o,A-c,p-h,y-g).normalize(),e[5].setComponents(a+o,A+c,p+h,y+g).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Vn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Vn)}intersectsSprite(t){return Vn.center.set(0,0,0),Vn.radius=.7071067811865476,Vn.applyMatrix4(t.matrixWorld),this.intersectsSphere(Vn)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(zn.x=i.normal.x>0?t.max.x:t.min.x,zn.y=i.normal.y>0?t.max.y:t.min.y,zn.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(zn)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Kn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,a,s,l,c,A,u,d,h,p,f){const m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=A,m[14]=u,m[3]=d,m[7]=h,m[11]=p,m[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Kn).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/Zn.setFromMatrixColumn(t,0).length(),r=1/Zn.setFromMatrixColumn(t,1).length(),o=1/Zn.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),A=Math.sin(r);if("XYZ"===t.order){const t=o*c,n=o*A,i=a*c,r=a*A;e[0]=s*c,e[4]=-s*A,e[8]=l,e[1]=n+i*l,e[5]=t-r*l,e[9]=-a*s,e[2]=r-t*l,e[6]=i+n*l,e[10]=o*s}else if("YXZ"===t.order){const t=s*c,n=s*A,i=l*c,r=l*A;e[0]=t+r*a,e[4]=i*a-n,e[8]=o*l,e[1]=o*A,e[5]=o*c,e[9]=-a,e[2]=n*a-i,e[6]=r+t*a,e[10]=o*s}else if("ZXY"===t.order){const t=s*c,n=s*A,i=l*c,r=l*A;e[0]=t-r*a,e[4]=-o*A,e[8]=i+n*a,e[1]=n+i*a,e[5]=o*c,e[9]=r-t*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){const t=o*c,n=o*A,i=a*c,r=a*A;e[0]=s*c,e[4]=i*l-n,e[8]=t*l+r,e[1]=s*A,e[5]=r*l+t,e[9]=n*l-i,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){const t=o*s,n=o*l,i=a*s,r=a*l;e[0]=s*c,e[4]=r-t*A,e[8]=i*A+n,e[1]=A,e[5]=o*c,e[9]=-a*c,e[2]=-l*c,e[6]=n*A+i,e[10]=t-r*A}else if("XZY"===t.order){const t=o*s,n=o*l,i=a*s,r=a*l;e[0]=s*c,e[4]=-A,e[8]=l*c,e[1]=t*A+r,e[5]=o*c,e[9]=n*A-i,e[2]=i*A-n,e[6]=a*c,e[10]=r*A+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(qn,t,Jn)}lookAt(t,e,n){const i=this.elements;return ei.subVectors(t,e),0===ei.lengthSq()&&(ei.z=1),ei.normalize(),$n.crossVectors(n,ei),0===$n.lengthSq()&&(1===Math.abs(n.z)?ei.x+=1e-4:ei.z+=1e-4,ei.normalize(),$n.crossVectors(n,ei)),$n.normalize(),ti.crossVectors(ei,$n),i[0]=$n.x,i[4]=ti.x,i[8]=ei.x,i[1]=$n.y,i[5]=ti.y,i[9]=ei.y,i[2]=$n.z,i[6]=ti.z,i[10]=ei.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],A=n[5],u=n[9],d=n[13],h=n[2],p=n[6],f=n[10],m=n[14],g=n[3],y=n[7],v=n[11],_=n[15],w=i[0],x=i[4],b=i[8],M=i[12],L=i[1],C=i[5],B=i[9],S=i[13],E=i[2],T=i[6],D=i[10],I=i[14],P=i[3],k=i[7],F=i[11],U=i[15];return r[0]=o*w+a*L+s*E+l*P,r[4]=o*x+a*C+s*T+l*k,r[8]=o*b+a*B+s*D+l*F,r[12]=o*M+a*S+s*I+l*U,r[1]=c*w+A*L+u*E+d*P,r[5]=c*x+A*C+u*T+d*k,r[9]=c*b+A*B+u*D+d*F,r[13]=c*M+A*S+u*I+d*U,r[2]=h*w+p*L+f*E+m*P,r[6]=h*x+p*C+f*T+m*k,r[10]=h*b+p*B+f*D+m*F,r[14]=h*M+p*S+f*I+m*U,r[3]=g*w+y*L+v*E+_*P,r[7]=g*x+y*C+v*T+_*k,r[11]=g*b+y*B+v*D+_*F,r[15]=g*M+y*S+v*I+_*U,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],a=t[5],s=t[9],l=t[13],c=t[2],A=t[6],u=t[10],d=t[14];return t[3]*(+r*s*A-i*l*A-r*a*u+n*l*u+i*a*d-n*s*d)+t[7]*(+e*s*d-e*l*u+r*o*u-i*o*d+i*l*c-r*s*c)+t[11]*(+e*l*A-e*a*d-r*o*A+n*o*d+r*a*c-n*l*c)+t[15]*(-i*a*c-e*s*A+e*a*u+i*o*A-n*o*u+n*s*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],A=t[9],u=t[10],d=t[11],h=t[12],p=t[13],f=t[14],m=t[15],g=A*f*l-p*u*l+p*s*d-a*f*d-A*s*m+a*u*m,y=h*u*l-c*f*l-h*s*d+o*f*d+c*s*m-o*u*m,v=c*p*l-h*A*l+h*a*d-o*p*d-c*a*m+o*A*m,_=h*A*s-c*p*s-h*a*u+o*p*u+c*a*f-o*A*f,w=e*g+n*y+i*v+r*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return t[0]=g*x,t[1]=(p*u*r-A*f*r-p*i*d+n*f*d+A*i*m-n*u*m)*x,t[2]=(a*f*r-p*s*r+p*i*l-n*f*l-a*i*m+n*s*m)*x,t[3]=(A*s*r-a*u*r-A*i*l+n*u*l+a*i*d-n*s*d)*x,t[4]=y*x,t[5]=(c*f*r-h*u*r+h*i*d-e*f*d-c*i*m+e*u*m)*x,t[6]=(h*s*r-o*f*r-h*i*l+e*f*l+o*i*m-e*s*m)*x,t[7]=(o*u*r-c*s*r+c*i*l-e*u*l-o*i*d+e*s*d)*x,t[8]=v*x,t[9]=(h*A*r-c*p*r-h*n*d+e*p*d+c*n*m-e*A*m)*x,t[10]=(o*p*r-h*a*r+h*n*l-e*p*l-o*n*m+e*a*m)*x,t[11]=(c*a*r-o*A*r-c*n*l+e*A*l+o*n*d-e*a*d)*x,t[12]=_*x,t[13]=(c*p*i-h*A*i+h*n*u-e*p*u-c*n*f+e*A*f)*x,t[14]=(h*a*i-o*p*i-h*n*s+e*p*s+o*n*f-e*a*f)*x,t[15]=(o*A*i-c*a*i+c*n*s-e*A*s-o*n*u+e*a*u)*x,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,a=t.y,s=t.z,l=r*o,c=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*o,0,l*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,r,o){return this.set(1,n,r,0,t,1,o,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,a=e._z,s=e._w,l=r+r,c=o+o,A=a+a,u=r*l,d=r*c,h=r*A,p=o*c,f=o*A,m=a*A,g=s*l,y=s*c,v=s*A,_=n.x,w=n.y,x=n.z;return i[0]=(1-(p+m))*_,i[1]=(d+v)*_,i[2]=(h-y)*_,i[3]=0,i[4]=(d-v)*w,i[5]=(1-(u+m))*w,i[6]=(f+g)*w,i[7]=0,i[8]=(h+y)*x,i[9]=(f-g)*x,i[10]=(1-(u+p))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=Zn.set(i[0],i[1],i[2]).length();const o=Zn.set(i[4],i[5],i[6]).length(),a=Zn.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Xn.copy(this);const s=1/r,l=1/o,c=1/a;return Xn.elements[0]*=s,Xn.elements[1]*=s,Xn.elements[2]*=s,Xn.elements[4]*=l,Xn.elements[5]*=l,Xn.elements[6]*=l,Xn.elements[8]*=c,Xn.elements[9]*=c,Xn.elements[10]*=c,e.setFromRotationMatrix(Xn),n.x=r,n.y=o,n.z=a,this}makePerspective(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),A=(n+i)/(n-i),u=-(o+r)/(o-r),d=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=A,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,i,r,o){const a=this.elements,s=1/(e-t),l=1/(n-i),c=1/(o-r),A=(e+t)*s,u=(n+i)*l,d=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-A,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}Kn.prototype.isMatrix4=!0;const Zn=new yn,Xn=new Kn,qn=new yn(0,0,0),Jn=new yn(1,1,1),$n=new yn,ti=new yn,ei=new yn;function ni(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function ii(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=i.get(e);void 0===o?i.set(e,function(e,i){const r=e.array,o=e.usage,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,o),e.onUploadCallback();let s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:(r instanceof Uint8Array||r instanceof Uint8ClampedArray)&&(s=5121),{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){const o=i.array,a=i.updateRange;t.bindBuffer(r,e),-1===a.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,e,r),o.version=e.version)}}}const ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},oi={h:0,s:0,l:0},ai={h:0,s:0,l:0};function si(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function li(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function ci(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class Ai{constructor(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=en(t,1),e=tn(e,0,1),n=tn(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=si(r,i,t+1/3),this.g=si(r,i,t),this.b=si(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=ri[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=li(t.r),this.g=li(t.g),this.b=li(t.b),this}copyLinearToSRGB(t){return this.r=ci(t.r),this.g=ci(t.g),this.b=ci(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),o=Math.min(e,n,i);let a,s;const l=(o+r)/2;if(o===r)a=0,s=0;else{const t=r-o;switch(s=l<=.5?t/(r+o):t/(2-r-o),r){case e:a=(n-i)/t+(n<i?6:0);break;case n:a=(i-e)/t+2;break;case i:a=(e-n)/t+4}a/=6}return t.h=a,t.s=s,t.l=l,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(oi),oi.h+=t,oi.s+=e,oi.l+=n,this.setHSL(oi.h,oi.s,oi.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(oi),t.getHSL(ai);const n=nn(oi.h,ai.h,e),i=nn(oi.s,ai.s,e),r=nn(oi.l,ai.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ai.NAMES=ri,Ai.prototype.isColor=!0,Ai.prototype.r=1,Ai.prototype.g=1,Ai.prototype.b=1;const ui=new yn,di=new ln;class hi{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=ze,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new Ai),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new ln),e[n++]=r.x,e[n++]=r.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new yn),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new fn),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)di.fromBufferAttribute(this,e),di.applyMatrix3(t),this.setXY(e,di.x,di.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)ui.fromBufferAttribute(this,e),ui.applyMatrix3(t),this.setXYZ(e,ui.x,ui.y,ui.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)ui.x=this.getX(e),ui.y=this.getY(e),ui.z=this.getZ(e),ui.applyMatrix4(t),this.setXYZ(e,ui.x,ui.y,ui.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)ui.x=this.getX(e),ui.y=this.getY(e),ui.z=this.getZ(e),ui.applyNormalMatrix(t),this.setXYZ(e,ui.x,ui.y,ui.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)ui.x=this.getX(e),ui.y=this.getY(e),ui.z=this.getZ(e),ui.transformDirection(t),this.setXYZ(e,ui.x,ui.y,ui.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==ze&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}hi.prototype.isBufferAttribute=!0;class pi extends hi{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class fi extends hi{constructor(t,e,n){super(new Uint32Array(t),e,n)}}(class extends hi{constructor(t,e,n){super(new Uint16Array(t),e,n)}}).prototype.isFloat16BufferAttribute=!0;class mi extends hi{constructor(t,e,n){super(new Float32Array(t),e,n)}}const gi=new Kn,yi=new gn;class vi{constructor(t=0,e=0,n=0,i=vi.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i=this._order){return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,r=i[0],o=i[4],a=i[8],s=i[1],l=i[5],c=i[9],A=i[2],u=i[6],d=i[10];switch(e){case"XYZ":this._y=Math.asin(tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-tn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-A,r),this._z=0);break;case"ZXY":this._x=Math.asin(tn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-A,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-tn(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(tn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-A,r)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return gi.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gi,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return yi.setFromEuler(this),this.setFromQuaternion(yi,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new yn(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}vi.prototype.isEuler=!0,vi.DefaultOrder="XYZ",vi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _i{constructor(){this.mask=1}set(t){this.mask=1<<t}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}}let wi=0;const xi=new yn,bi=new gn,Mi=new Kn,Li=new yn,Ci=new yn,Bi=new yn,Si=new gn,Ei=new yn(1,0,0),Ti=new yn(0,1,0),Di=new yn(0,0,1),Ii={type:"added"},Pi={type:"removed"};class ki extends Ke{constructor(){super(),Object.defineProperty(this,"id",{value:wi++}),this.uuid=$e(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ki.DefaultUp.clone();const t=new yn,e=new vi,n=new gn,i=new yn(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Kn},normalMatrix:{value:new cn}}),this.matrix=new Kn,this.matrixWorld=new Kn,this.matrixAutoUpdate=ki.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new _i,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return bi.setFromAxisAngle(t,e),this.quaternion.multiply(bi),this}rotateOnWorldAxis(t,e){return bi.setFromAxisAngle(t,e),this.quaternion.premultiply(bi),this}rotateX(t){return this.rotateOnAxis(Ei,t)}rotateY(t){return this.rotateOnAxis(Ti,t)}rotateZ(t){return this.rotateOnAxis(Di,t)}translateOnAxis(t,e){return xi.copy(t).applyQuaternion(this.quaternion),this.position.add(xi.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ei,t)}translateY(t){return this.translateOnAxis(Ti,t)}translateZ(t){return this.translateOnAxis(Di,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Mi.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Li.copy(t):Li.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Ci.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mi.lookAt(Ci,Li,this.up):Mi.lookAt(Li,Ci,this.up),this.quaternion.setFromRotationMatrix(Mi),i&&(Mi.extractRotation(i.matrixWorld),bi.setFromRotationMatrix(Mi),this.quaternion.premultiply(bi.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Ii)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Pi)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Pi)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Mi.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Mi.multiply(t.parent.matrixWorld)),t.applyMatrix4(Mi),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ci,t,Bi),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ci,Si,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),a=o(t.images),s=o(t.shapes),l=o(t.skeletons),c=o(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}function Fi(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}ki.DefaultUp=new yn(0,1,0),ki.DefaultMatrixAutoUpdate=!0,ki.prototype.isObject3D=!0;let Ui=0;const Ri=new Kn,Oi=new ki,Hi=new yn,Yi=new wn,Qi=new wn,ji=new yn;class Ni extends Ke{constructor(){super(),Object.defineProperty(this,"id",{value:Ui++}),this.uuid=$e(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Fi(t)>65535?fi:pi)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new cn).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ri.makeRotationFromQuaternion(t),this.applyMatrix4(Ri),this}rotateX(t){return Ri.makeRotationX(t),this.applyMatrix4(Ri),this}rotateY(t){return Ri.makeRotationY(t),this.applyMatrix4(Ri),this}rotateZ(t){return Ri.makeRotationZ(t),this.applyMatrix4(Ri),this}translate(t,e,n){return Ri.makeTranslation(t,e,n),this.applyMatrix4(Ri),this}scale(t,e,n){return Ri.makeScale(t,e,n),this.applyMatrix4(Ri),this}lookAt(t){return Oi.lookAt(t),Oi.updateMatrix(),this.applyMatrix4(Oi.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hi).negate(),this.translate(Hi.x,Hi.y,Hi.z),this}setFromPoints(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new mi(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new wn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new yn(-1/0,-1/0,-1/0),new yn(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Yi.setFromBufferAttribute(n),this.morphTargetsRelative?(ji.addVectors(this.boundingBox.min,Yi.min),this.boundingBox.expandByPoint(ji),ji.addVectors(this.boundingBox.max,Yi.max),this.boundingBox.expandByPoint(ji)):(this.boundingBox.expandByPoint(Yi.min),this.boundingBox.expandByPoint(Yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Yn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new yn,1/0);if(t){const n=this.boundingSphere.center;if(Yi.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Qi.setFromBufferAttribute(n),this.morphTargetsRelative?(ji.addVectors(Yi.min,Qi.min),Yi.expandByPoint(ji),ji.addVectors(Yi.max,Qi.max),Yi.expandByPoint(ji)):(Yi.expandByPoint(Qi.min),Yi.expandByPoint(Qi.max))}Yi.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)ji.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(ji));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],a=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)ji.fromBufferAttribute(o,e),a&&(Hi.fromBufferAttribute(t,e),ji.add(Hi)),i=Math.max(i,n.distanceToSquared(ji))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,i=e.position.array,r=e.normal.array,o=e.uv.array,a=i.length/3;void 0===e.tangent&&this.setAttribute("tangent",new hi(new Float32Array(4*a),4));const s=e.tangent.array,l=[],c=[];for(let t=0;t<a;t++)l[t]=new yn,c[t]=new yn;const A=new yn,u=new yn,d=new yn,h=new ln,p=new ln,f=new ln,m=new yn,g=new yn;function y(t,e,n){A.fromArray(i,3*t),u.fromArray(i,3*e),d.fromArray(i,3*n),h.fromArray(o,2*t),p.fromArray(o,2*e),f.fromArray(o,2*n),u.sub(A),d.sub(A),p.sub(h),f.sub(h);const r=1/(p.x*f.y-f.x*p.y);isFinite(r)&&(m.copy(u).multiplyScalar(f.y).addScaledVector(d,-p.y).multiplyScalar(r),g.copy(d).multiplyScalar(p.x).addScaledVector(u,-f.x).multiplyScalar(r),l[t].add(m),l[e].add(m),l[n].add(m),c[t].add(g),c[e].add(g),c[n].add(g))}let v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let t=0,e=v.length;t<e;++t){const e=v[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)y(n[t+0],n[t+1],n[t+2])}const _=new yn,w=new yn,x=new yn,b=new yn;function M(t){x.fromArray(r,3*t),b.copy(x);const e=l[t];_.copy(e),_.sub(x.multiplyScalar(x.dot(e))).normalize(),w.crossVectors(b,e);const n=w.dot(c[t])<0?-1:1;s[4*t]=_.x,s[4*t+1]=_.y,s[4*t+2]=_.z,s[4*t+3]=n}for(let t=0,e=v.length;t<e;++t){const e=v[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)M(n[t+0]),M(n[t+1]),M(n[t+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new hi(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new yn,r=new yn,o=new yn,a=new yn,s=new yn,l=new yn,c=new yn,A=new yn;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),h=t.getX(u+1),p=t.getX(u+2);i.fromBufferAttribute(e,d),r.fromBufferAttribute(e,h),o.fromBufferAttribute(e,p),c.subVectors(o,r),A.subVectors(i,r),c.cross(A),a.fromBufferAttribute(n,d),s.fromBufferAttribute(n,h),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let t=0,a=e.count;t<a;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,r),A.subVectors(i,r),c.cross(A),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,o=t.attributes[i],a=o.array,s=o.itemSize*e,l=Math.min(a.length,r.length-s);for(let t=0,e=s;t<l;t++,e++)r[e]=a[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)ji.fromBufferAttribute(t,e),ji.normalize(),t.setXYZ(e,ji.x,ji.y,ji.z)}toNonIndexed(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let a=0,s=0;for(let r=0,l=e.length;r<l;r++){a=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*i;for(let t=0;t<i;t++)o[s++]=n[a++]}return new hi(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Ni,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],a=r[i];for(let e=0,i=a.length;e<i;e++){const i=t(a[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e];t.data.attributes[e]=i.toJSON(t.data)}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];o.push(i.toJSON(t.data))}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new Ni).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ni.prototype.isBufferGeometry=!0;class Wi extends Ni{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const s=[],l=[],c=[],A=[];let u=0,d=0;function h(t,e,n,i,r,o,h,p,f,m,g){const y=o/f,v=h/m,_=o/2,w=h/2,x=p/2,b=f+1,M=m+1;let L=0,C=0;const B=new yn;for(let o=0;o<M;o++){const a=o*v-w;for(let s=0;s<b;s++){const u=s*y-_;B[t]=u*i,B[e]=a*r,B[n]=x,l.push(B.x,B.y,B.z),B[t]=0,B[e]=0,B[n]=p>0?1:-1,c.push(B.x,B.y,B.z),A.push(s/f),A.push(1-o/m),L+=1}}for(let t=0;t<m;t++)for(let e=0;e<f;e++){const n=u+e+b*t,i=u+e+b*(t+1),r=u+(e+1)+b*(t+1),o=u+(e+1)+b*t;s.push(n,i,o),s.push(i,r,o),C+=6}a.addGroup(d,C,g),d+=C,u+=L}h("z","y","x",-1,-1,n,e,t,o,r,0),h("z","y","x",1,-1,n,e,-t,o,r,1),h("x","z","y",1,1,t,n,e,i,o,2),h("x","z","y",1,-1,t,n,-e,i,o,3),h("x","y","z",1,-1,t,e,n,i,r,4),h("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new mi(l,3)),this.setAttribute("normal",new mi(c,3)),this.setAttribute("uv",new mi(A,2))}static fromJSON(t){return new Wi(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}class Vi extends Ni{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,a=Math.floor(n),s=Math.floor(i),l=a+1,c=s+1,A=t/a,u=e/s,d=[],h=[],p=[],f=[];for(let t=0;t<c;t++){const e=t*u-o;for(let n=0;n<l;n++){const i=n*A-r;h.push(i,-e,0),p.push(0,0,1),f.push(n/a),f.push(1-t/s)}}for(let t=0;t<s;t++)for(let e=0;e<a;e++){const n=e+l*t,i=e+l*(t+1),r=e+1+l*(t+1),o=e+1+l*t;d.push(n,i,o),d.push(i,r,o)}this.setIndex(d),this.setAttribute("position",new mi(h,3)),this.setAttribute("normal",new mi(p,3)),this.setAttribute("uv",new mi(f,2))}static fromJSON(t){return new Vi(t.width,t.height,t.widthSegments,t.heightSegments)}}let zi=0;class Gi extends Ke{constructor(){super(),Object.defineProperty(this,"id",{value:zi++}),this.uuid=$e(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Jt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=We,this.stencilZFail=We,this.stencilZPass=We,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(n.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(n.specularTintMap=this.specularTintMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(n.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}function Ki(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Zi(t){const e={};for(let n=0;n<t.length;n++){const i=Ki(t[n]);for(const t in i)e[t]=i[t]}return e}Gi.prototype.isMaterial=!0;const Xi={clone:Ki,merge:Zi};class qi extends Gi{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ki(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}qi.prototype.isShaderMaterial=!0;const Ji=new yn,$i=new yn,tr=new yn,er=new yn,nr=new yn,ir=new yn,rr=new yn;class or{constructor(t=new yn,e=new yn(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ji)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ji.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ji.copy(this.direction).multiplyScalar(e).add(this.origin),Ji.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){$i.copy(t).add(e).multiplyScalar(.5),tr.copy(e).sub(t).normalize(),er.copy(this.origin).sub($i);const r=.5*t.distanceTo(e),o=-this.direction.dot(tr),a=er.dot(this.direction),s=-er.dot(tr),l=er.lengthSq(),c=Math.abs(1-o*o);let A,u,d,h;if(c>0)if(A=o*s-a,u=o*a-s,h=r*c,A>=0)if(u>=-h)if(u<=h){const t=1/c;A*=t,u*=t,d=A*(A+o*u+2*a)+u*(o*A+u+2*s)+l}else u=r,A=Math.max(0,-(o*u+a)),d=-A*A+u*(u+2*s)+l;else u=-r,A=Math.max(0,-(o*u+a)),d=-A*A+u*(u+2*s)+l;else u<=-h?(A=Math.max(0,-(-o*r+a)),u=A>0?-r:Math.min(Math.max(-r,-s),r),d=-A*A+u*(u+2*s)+l):u<=h?(A=0,u=Math.min(Math.max(-r,-s),r),d=u*(u+2*s)+l):(A=Math.max(0,-(o*r+a)),u=A>0?r:Math.min(Math.max(-r,-s),r),d=-A*A+u*(u+2*s)+l);else u=o>0?-r:r,A=Math.max(0,-(o*u+a)),d=-A*A+u*(u+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(A).add(this.origin),i&&i.copy(tr).multiplyScalar(u).add($i),d}intersectSphere(t,e){Ji.subVectors(t.center,this.origin);const n=Ji.dot(this.direction),i=Ji.dot(Ji)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,A=1/this.direction.z,u=this.origin;return l>=0?(n=(t.min.x-u.x)*l,i=(t.max.x-u.x)*l):(n=(t.max.x-u.x)*l,i=(t.min.x-u.x)*l),c>=0?(r=(t.min.y-u.y)*c,o=(t.max.y-u.y)*c):(r=(t.max.y-u.y)*c,o=(t.min.y-u.y)*c),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),A>=0?(a=(t.min.z-u.z)*A,s=(t.max.z-u.z)*A):(a=(t.max.z-u.z)*A,s=(t.min.z-u.z)*A),n>s||a>i?null:((a>n||n!=n)&&(n=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,Ji)}intersectTriangle(t,e,n,i,r){nr.subVectors(e,t),ir.subVectors(n,t),rr.crossVectors(nr,ir);let o,a=this.direction.dot(rr);if(a>0){if(i)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}er.subVectors(this.origin,t);const s=o*this.direction.dot(ir.crossVectors(er,ir));if(s<0)return null;const l=o*this.direction.dot(nr.cross(er));if(l<0)return null;if(s+l>a)return null;const c=-o*er.dot(rr);return c<0?null:this.at(c/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}const ar=new yn,sr=new yn,lr=new yn,cr=new yn,Ar=new yn,ur=new yn,dr=new yn,hr=new yn,pr=new yn,fr=new yn;class mr{constructor(t=new yn,e=new yn,n=new yn){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),ar.subVectors(t,e),i.cross(ar);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){ar.subVectors(i,e),sr.subVectors(n,e),lr.subVectors(t,e);const o=ar.dot(ar),a=ar.dot(sr),s=ar.dot(lr),l=sr.dot(sr),c=sr.dot(lr),A=o*l-a*a;if(0===A)return r.set(-2,-1,-1);const u=1/A,d=(l*s-a*c)*u,h=(o*c-a*s)*u;return r.set(1-d-h,h,d)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,cr),cr.x>=0&&cr.y>=0&&cr.x+cr.y<=1}static getUV(t,e,n,i,r,o,a,s){return this.getBarycoord(t,e,n,i,cr),s.set(0,0),s.addScaledVector(r,cr.x),s.addScaledVector(o,cr.y),s.addScaledVector(a,cr.z),s}static isFrontFacing(t,e,n,i){return ar.subVectors(n,e),sr.subVectors(t,e),ar.cross(sr).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ar.subVectors(this.c,this.b),sr.subVectors(this.a,this.b),.5*ar.cross(sr).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return mr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return mr.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return mr.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return mr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return mr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,r=this.c;let o,a;Ar.subVectors(i,n),ur.subVectors(r,n),hr.subVectors(t,n);const s=Ar.dot(hr),l=ur.dot(hr);if(s<=0&&l<=0)return e.copy(n);pr.subVectors(t,i);const c=Ar.dot(pr),A=ur.dot(pr);if(c>=0&&A<=c)return e.copy(i);const u=s*A-c*l;if(u<=0&&s>=0&&c<=0)return o=s/(s-c),e.copy(n).addScaledVector(Ar,o);fr.subVectors(t,r);const d=Ar.dot(fr),h=ur.dot(fr);if(h>=0&&d<=h)return e.copy(r);const p=d*l-s*h;if(p<=0&&l>=0&&h<=0)return a=l/(l-h),e.copy(n).addScaledVector(ur,a);const f=c*h-d*A;if(f<=0&&A-c>=0&&d-h>=0)return dr.subVectors(r,i),a=(A-c)/(A-c+(d-h)),e.copy(i).addScaledVector(dr,a);const m=1/(f+p+u);return o=p*m,a=u*m,e.copy(n).addScaledVector(Ar,o).addScaledVector(ur,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}class gr extends Gi{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Ai(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}gr.prototype.isMeshBasicMaterial=!0;const yr=new Kn,vr=new or,_r=new Yn,wr=new yn,xr=new yn,br=new yn,Mr=new yn,Lr=new yn,Cr=new yn,Br=new yn,Sr=new yn,Er=new yn,Tr=new ln,Dr=new ln,Ir=new ln,Pr=new yn,kr=new yn;class Fr extends ki{constructor(t=new Ni,e=new gr){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),_r.copy(n.boundingSphere),_r.applyMatrix4(r),!1===t.ray.intersectsSphere(_r))return;if(yr.copy(r).invert(),vr.copy(t.ray).applyMatrix4(yr),null!==n.boundingBox&&!1===vr.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,a=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,A=n.attributes.uv2,u=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,h=u.length;n<h;n++){const h=u[n],p=i[h.materialIndex];for(let n=Math.max(h.start,d.start),i=Math.min(h.start+h.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),u=r.getX(n+1),d=r.getX(n+2);o=Ur(this,p,t,vr,a,s,l,c,A,i,u,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=h.materialIndex,e.push(o))}}else for(let n=Math.max(0,d.start),u=Math.min(r.count,d.start+d.count);n<u;n+=3){const u=r.getX(n),d=r.getX(n+1),h=r.getX(n+2);o=Ur(this,i,t,vr,a,s,l,c,A,u,d,h),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==a)if(Array.isArray(i))for(let n=0,r=u.length;n<r;n++){const r=u[n],h=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3)o=Ur(this,h,t,vr,a,s,l,c,A,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,e.push(o))}else for(let n=Math.max(0,d.start),r=Math.min(a.count,d.start+d.count);n<r;n+=3)o=Ur(this,i,t,vr,a,s,l,c,A,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Ur(t,e,n,i,r,o,a,s,l,c,A,u){wr.fromBufferAttribute(r,c),xr.fromBufferAttribute(r,A),br.fromBufferAttribute(r,u);const d=t.morphTargetInfluences;if(o&&d){Br.set(0,0,0),Sr.set(0,0,0),Er.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=d[t],n=o[t];0!==e&&(Mr.fromBufferAttribute(n,c),Lr.fromBufferAttribute(n,A),Cr.fromBufferAttribute(n,u),a?(Br.addScaledVector(Mr,e),Sr.addScaledVector(Lr,e),Er.addScaledVector(Cr,e)):(Br.addScaledVector(Mr.sub(wr),e),Sr.addScaledVector(Lr.sub(xr),e),Er.addScaledVector(Cr.sub(br),e)))}wr.add(Br),xr.add(Sr),br.add(Er)}t.isSkinnedMesh&&(t.boneTransform(c,wr),t.boneTransform(A,xr),t.boneTransform(u,br));const h=function(t,e,n,i,r,o,a,s){let l;if(l=1===e.side?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,2!==e.side,s),null===l)return null;kr.copy(s),kr.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(kr);return c<n.near||c>n.far?null:{distance:c,point:kr.clone(),object:t}}(t,e,n,i,wr,xr,br,Pr);if(h){s&&(Tr.fromBufferAttribute(s,c),Dr.fromBufferAttribute(s,A),Ir.fromBufferAttribute(s,u),h.uv=mr.getUV(Pr,wr,xr,br,Tr,Dr,Ir,new ln)),l&&(Tr.fromBufferAttribute(l,c),Dr.fromBufferAttribute(l,A),Ir.fromBufferAttribute(l,u),h.uv2=mr.getUV(Pr,wr,xr,br,Tr,Dr,Ir,new ln));const t={a:c,b:A,c:u,normal:new yn,materialIndex:0};mr.getNormal(wr,xr,br,t.normal),h.face=t}return h}Fr.prototype.isMesh=!0;const Rr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in vec3 f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( f90 - f0 ) * fresnel + f0;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in vec3 f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, vec3( 1.0 ), dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\t#ifdef SPECULAR\n\t\tvec3 specularIntensityFactor = vec3( specularIntensity );\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularColorF90 = mix( specularIntensityFactor, vec3( 1.0 ), metalnessFactor );\n\t#else\n\t\tvec3 specularIntensityFactor = vec3( 1.0 );\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularColorF90 = vec3( 1.0 );\n\t#endif\n\tmaterial.specularColor = mix( min( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularColorF90 = vec3( 1.0 );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n\tvec3 specularColorF90;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), vec3( 1.0 ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularColorF90, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t\t#ifdef USE_TANGENT\n\t\t\tvTangent = normalize( transformedTangent );\n\t\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t\t#endif\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Or={common:{diffuse:{value:new Ai(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new cn},uv2Transform:{value:new cn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ai(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ai(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new cn}},sprite:{diffuse:{value:new Ai(16777215)},opacity:{value:1},center:{value:new ln(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new cn}}},Hr={basic:{uniforms:Zi([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.fog]),vertexShader:Rr.meshbasic_vert,fragmentShader:Rr.meshbasic_frag},lambert:{uniforms:Zi([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.fog,Or.lights,{emissive:{value:new Ai(0)}}]),vertexShader:Rr.meshlambert_vert,fragmentShader:Rr.meshlambert_frag},phong:{uniforms:Zi([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.fog,Or.lights,{emissive:{value:new Ai(0)},specular:{value:new Ai(1118481)},shininess:{value:30}}]),vertexShader:Rr.meshphong_vert,fragmentShader:Rr.meshphong_frag},standard:{uniforms:Zi([Or.common,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.roughnessmap,Or.metalnessmap,Or.fog,Or.lights,{emissive:{value:new Ai(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rr.meshphysical_vert,fragmentShader:Rr.meshphysical_frag},toon:{uniforms:Zi([Or.common,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.gradientmap,Or.fog,Or.lights,{emissive:{value:new Ai(0)}}]),vertexShader:Rr.meshtoon_vert,fragmentShader:Rr.meshtoon_frag},matcap:{uniforms:Zi([Or.common,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.fog,{matcap:{value:null}}]),vertexShader:Rr.meshmatcap_vert,fragmentShader:Rr.meshmatcap_frag},points:{uniforms:Zi([Or.points,Or.fog]),vertexShader:Rr.points_vert,fragmentShader:Rr.points_frag},dashed:{uniforms:Zi([Or.common,Or.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rr.linedashed_vert,fragmentShader:Rr.linedashed_frag},depth:{uniforms:Zi([Or.common,Or.displacementmap]),vertexShader:Rr.depth_vert,fragmentShader:Rr.depth_frag},normal:{uniforms:Zi([Or.common,Or.bumpmap,Or.normalmap,Or.displacementmap,{opacity:{value:1}}]),vertexShader:Rr.normal_vert,fragmentShader:Rr.normal_frag},sprite:{uniforms:Zi([Or.sprite,Or.fog]),vertexShader:Rr.sprite_vert,fragmentShader:Rr.sprite_frag},background:{uniforms:{uvTransform:{value:new cn},t2D:{value:null}},vertexShader:Rr.background_vert,fragmentShader:Rr.background_frag},cube:{uniforms:Zi([Or.envmap,{opacity:{value:1}}]),vertexShader:Rr.cube_vert,fragmentShader:Rr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rr.equirect_vert,fragmentShader:Rr.equirect_frag},distanceRGBA:{uniforms:Zi([Or.common,Or.displacementmap,{referencePosition:{value:new yn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rr.distanceRGBA_vert,fragmentShader:Rr.distanceRGBA_frag},shadow:{uniforms:Zi([Or.lights,Or.fog,{color:{value:new Ai(0)},opacity:{value:1}}]),vertexShader:Rr.shadow_vert,fragmentShader:Rr.shadow_frag}};function Yr(t,e,n,i,r){const o=new Ai(0);let a,s,l=0,c=null,A=0,u=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),l=e,d(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(t){l=t,d(o,l)},render:function(n,r){let h=!1,p=!0===r.isScene?r.background:null;p&&p.isTexture&&(p=e.get(p));const f=t.xr,m=f.getSession&&f.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?d(o,l):p&&p.isColor&&(d(p,1),h=!0),(t.autoClear||h)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.mapping===pe)?(void 0===s&&(s=new Fr(new Wi(1,1,1),new qi({name:"BackgroundCubeMaterial",uniforms:Ki(Hr.cube.uniforms),vertexShader:Hr.cube.vertexShader,fragmentShader:Hr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),s.material.uniforms.envMap.value=p,s.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,c===p&&A===p.version&&u===t.toneMapping||(s.material.needsUpdate=!0,c=p,A=p.version,u=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):p&&p.isTexture&&(void 0===a&&(a=new Fr(new Vi(2,2),new qi({name:"BackgroundMaterial",uniforms:Ki(Hr.background.uniforms),vertexShader:Hr.background.vertexShader,fragmentShader:Hr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),a.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&A===p.version&&u===t.toneMapping||(a.material.needsUpdate=!0,c=p,A=p.version,u=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Qr(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==o,s={},l=d(null);let c=l;function A(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function u(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function d(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function h(){const t=c.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function p(t){f(t,0)}function f(n,r){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),s[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function m(){const e=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function g(e,n,r,o,a,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,o,a,s):t.vertexAttribIPointer(e,n,r,a,s)}function y(){v(),c!==l&&(c=l,A(c.object))}function v(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,u,y,v){let _=!1;if(a){const e=function(e,n,r){const a=!0===r.wireframe;let l=s[e.id];void 0===l&&(l={},s[e.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let A=c[a];return void 0===A&&(A=d(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),c[a]=A),A}(y,u,l);c!==e&&(c=e,A(c.object)),_=function(t,e){const n=c.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],o=i[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;r++}return c.attributesNum!==r||c.index!==e}(y,v),_&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,r++}c.attributes=n,c.attributesNum=r,c.index=e}(y,v)}else{const t=!0===l.wireframe;c.geometry===y.id&&c.program===u.id&&c.wireframe===t||(c.geometry=y.id,c.program=u.id,c.wireframe=t,_=!0)}!0===r.isInstancedMesh&&(_=!0),null!==v&&n.update(v,34963),_&&(function(r,o,a,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;h();const l=s.attributes,c=a.getAttributes(),A=o.defaultAttributeValues;for(const e in c){const i=c[e];if(i>=0){const o=l[e];if(void 0!==o){const e=o.normalized,r=o.itemSize,a=n.get(o);if(void 0===a)continue;const l=a.buffer,c=a.type,A=a.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,a=n.stride,u=o.offset;n&&n.isInstancedInterleavedBuffer?(f(i,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):p(i),t.bindBuffer(34962,l),g(i,r,c,e,a*A,u*A)}else o.isInstancedBufferAttribute?(f(i,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):p(i),t.bindBuffer(34962,l),g(i,r,c,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const o=e.buffer,a=e.type;f(i+0,1),f(i+1,1),f(i+2,1),f(i+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i+0,4,a,!1,64,0),t.vertexAttribPointer(i+1,4,a,!1,64,16),t.vertexAttribPointer(i+2,4,a,!1,64,32),t.vertexAttribPointer(i+3,4,a,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const o=e.buffer,a=e.type;f(i,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i,3,a,!1,12,0)}else if(void 0!==A){const n=A[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}m()}(r,l,u,y),null!==v&&t.bindBuffer(34963,n.get(v).buffer))},reset:y,resetDefaultState:v,dispose:function(){y();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;const e=s[t.id];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete s[t.id]},releaseStatesOfProgram:function(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)u(i[t].object),delete i[t];delete n[t.id]}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:m}}function jr(t,e,n,i){const r=i.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,i){t.drawArrays(o,e,i),n.update(i,o,1)},this.renderInstances=function(i,a,s){if(0===s)return;let l,c;if(r)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,a,s),n.update(a,o,s)}}function Nr(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||e.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,A=t.getParameter(34930),u=t.getParameter(35660),d=t.getParameter(3379),h=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),y=u>0,v=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:A,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:o?t.getParameter(36183):0}}function Wr(t){const e=this;let n=null,i=0,r=!1,o=!1;const a=new Wn,s=new cn,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function A(t,n,i,r){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const e=i+4*o,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)a.copy(t[e]).applyMatrix4(r,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const a=0!==t.length||e||0!==i||r;return r=e,n=A(t,o,0),i=t.length,a},this.beginShadows=function(){o=!0,A(null)},this.endShadows=function(){o=!1,c()},this.setState=function(e,a,s){const u=e.clippingPlanes,d=e.clipIntersection,h=e.clipShadows,p=t.get(e);if(!r||null===u||0===u.length||o&&!h)o?A(null):c();else{const t=o?0:i,e=4*t;let r=p.clippingState||null;l.value=r,r=A(u,a,e,s);for(let t=0;t!==e;++t)r[t]=n[t];p.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}Hr.physical={uniforms:Zi([Hr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ln(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ai(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new Ai(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new Ai(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Rr.meshphysical_vert,fragmentShader:Rr.meshphysical_frag};class Vr extends ki{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Kn,this.projectionMatrix=new Kn,this.projectionMatrixInverse=new Kn}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}Vr.prototype.isCamera=!0;class zr extends Vr{constructor(t=50,e=1,n=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Je*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*qe*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Je*Math.atan(Math.tan(.5*qe*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*qe*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,a=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/a,i*=o.width/t,n*=o.height/a}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}zr.prototype.isPerspectiveCamera=!0;const Gr=90;class Kr extends ki{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new zr(Gr,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new yn(1,0,0)),this.add(i);const r=new zr(Gr,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new yn(-1,0,0)),this.add(r);const o=new zr(Gr,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new yn(0,1,0)),this.add(o);const a=new zr(Gr,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new yn(0,-1,0)),this.add(a);const s=new zr(Gr,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new yn(0,0,1)),this.add(s);const l=new zr(Gr,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new yn(0,0,-1)),this.add(l)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[i,r,o,a,s,l]=this.children,c=t.xr.enabled,A=t.getRenderTarget();t.xr.enabled=!1;const u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=u,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(A),t.xr.enabled=c}}class Zr extends hn{constructor(t,e,n,i,r,o,a,s,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:de,n,i,r,o,a=void 0!==a?a:Te,s,l,c),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Zr.prototype.isCubeTexture=!0;class Xr extends mn{constructor(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),super(t,t,e),e=e||{},this.texture=new Zr(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:we,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=De,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new Wi(5,5,5),a=new qi({name:"CubemapFromEquirect",uniforms:Ki(n),vertexShader:i,fragmentShader:r,side:1,blending:0});a.uniforms.tEquirect.value=e;const s=new Fr(o,a),l=e.minFilter;return e.minFilter===be&&(e.minFilter=we),new Kr(1,10,this).update(t,s),e.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)}}function qr(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=de:304===e&&(t.mapping=he),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const a=t.getRenderTarget(),s=new Xr(o.height/2);return s.fromEquirectangularTexture(t,r),e.set(r,s),t.setRenderTarget(a),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}Xr.prototype.isWebGLCubeRenderTarget=!0;class Jr extends Vr{constructor(t=-1,e=1,n=1,i=-1,r=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,a=i+e,s=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,a-=e*this.view.offsetY,s=a-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Jr.prototype.isOrthographicCamera=!0;class $r extends qi{constructor(t){super(t),this.type="RawShaderMaterial"}}$r.prototype.isRawShaderMaterial=!0;const to=Math.pow(2,8),eo=[.125,.215,.35,.446,.526,.582],no=5+eo.length,io={[Re]:0,[Oe]:1,[Ye]:2,[Qe]:3,[je]:4,[Ne]:5,[He]:6},ro=new gr({side:1,depthWrite:!1,depthTest:!1}),oo=new Fr(new Wi,ro),ao=new Jr,{_lodPlanes:so,_sizeLods:lo,_sigmas:co}=function(){const t=[],e=[],n=[];let i=8;for(let r=0;r<no;r++){const o=Math.pow(2,i);e.push(o);let a=1/o;r>4?a=eo[r-8+4-1]:0==r&&(a=0),n.push(a);const s=1/(o-1),l=-s/2,c=1+s/2,A=[l,l,c,l,c,c,l,l,c,c,l,c],u=6,d=6,h=3,p=2,f=1,m=new Float32Array(h*d*u),g=new Float32Array(p*d*u),y=new Float32Array(f*d*u);for(let t=0;t<u;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];m.set(i,h*d*t),g.set(A,p*d*t);const r=[t,t,t,t,t,t];y.set(r,f*d*t)}const v=new Ni;v.setAttribute("position",new hi(m,h)),v.setAttribute("uv",new hi(g,p)),v.setAttribute("faceIndex",new hi(y,f)),t.push(v),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),Ao=new Ai;let uo=null;const ho=(1+Math.sqrt(5))/2,po=1/ho,fo=[new yn(1,1,1),new yn(-1,1,1),new yn(1,1,-1),new yn(-1,1,-1),new yn(0,ho,po),new yn(0,ho,-po),new yn(po,0,ho),new yn(-po,0,ho),new yn(ho,po,0),new yn(-ho,po,0)];function mo(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);return t.multiplyScalar(Math.pow(2,-n)),(n+128)/255}class go{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(){const t=new Float32Array(20),e=new yn(0,1,0);return new $r({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:e},inputEncoding:{value:io[Re]},outputEncoding:{value:io[Re]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,i=100){uo=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(t,n,i,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=xo(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=wo(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<so.length;t++)so[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(uo),t.scissorTest=!1,_o(t,0,0,t.width,t.height)}_fromTexture(t){uo=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:ye,minFilter:ye,generateMipmaps:!1,type:Me,format:1023,encoding:yo(t)?t.encoding:Ye,depthBuffer:!1},n=vo(e);return n.depthBuffer=!t,this._pingPongRenderTarget=vo(e),n}_compileMaterial(t){const e=new Fr(so[0],t);this._renderer.compile(e,ao)}_sceneToCubeUV(t,e,n,i){const r=new zr(90,1,e,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.outputEncoding,A=s.toneMapping;s.getClearColor(Ao),s.toneMapping=0,s.outputEncoding=Re,s.autoClear=!1;let u=!1;const d=t.background;if(d){if(d.isColor){ro.color.copy(d).convertSRGBToLinear(),t.background=null;const e=mo(ro.color);ro.opacity=e,u=!0}}else{ro.color.copy(Ao).convertSRGBToLinear();const t=mo(ro.color);ro.opacity=t,u=!0}for(let e=0;e<6;e++){const n=e%3;0==n?(r.up.set(0,o[e],0),r.lookAt(a[e],0,0)):1==n?(r.up.set(0,0,o[e]),r.lookAt(0,a[e],0)):(r.up.set(0,o[e],0),r.lookAt(0,0,a[e])),_o(i,n*to,e>2?to:0,to,to),s.setRenderTarget(i),u&&s.render(oo,r),s.render(t,r)}s.toneMapping=A,s.outputEncoding=c,s.autoClear=l}_textureToCubeUV(t,e){const n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=xo()):null==this._equirectShader&&(this._equirectShader=wo());const i=t.isCubeTexture?this._cubemapShader:this._equirectShader,r=new Fr(so[0],i),o=i.uniforms;o.envMap.value=t,t.isCubeTexture||o.texelSize.value.set(1/t.image.width,1/t.image.height),o.inputEncoding.value=io[t.encoding],o.outputEncoding.value=io[e.texture.encoding],_o(e,0,0,3*to,2*to),n.setRenderTarget(e),n.render(r,ao)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let e=1;e<no;e++){const n=Math.sqrt(co[e]*co[e]-co[e-1]*co[e-1]),i=fo[(e-1)%fo.length];this._blur(t,e-1,e,n,i)}e.autoClear=n}_blur(t,e,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,i,"latitudinal",r),this._halfBlur(o,t,n,n,i,"longitudinal",r)}_halfBlur(t,e,n,i,r,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Fr(so[i],l),A=l.uniforms,u=lo[n]-1,d=isFinite(r)?Math.PI/(2*u):2*Math.PI/39,h=r/d,p=isFinite(r)?1+Math.floor(3*h):20;p>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const f=[];let m=0;for(let t=0;t<20;++t){const e=t/h,n=Math.exp(-e*e/2);f.push(n),0==t?m+=n:t<p&&(m+=2*n)}for(let t=0;t<f.length;t++)f[t]=f[t]/m;A.envMap.value=t.texture,A.samples.value=p,A.weights.value=f,A.latitudinal.value="latitudinal"===o,a&&(A.poleAxis.value=a),A.dTheta.value=d,A.mipInt.value=8-n,A.inputEncoding.value=io[t.texture.encoding],A.outputEncoding.value=io[t.texture.encoding];const g=lo[i];_o(e,3*Math.max(0,to-2*g),(0===i?0:2*to)+2*g*(i>4?i-8+4:0),3*g,2*g),s.setRenderTarget(e),s.render(c,ao)}}function yo(t){return void 0!==t&&t.type===Me&&(t.encoding===Re||t.encoding===Oe||t.encoding===He)}function vo(t){const e=new mn(3*to,3*to,t);return e.texture.mapping=pe,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function _o(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function wo(){const t=new ln(1,1);return new $r({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:io[Re]},outputEncoding:{value:io[Re]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function xo(){return new $r({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:io[Re]},outputEncoding:{value:io[Re]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function bo(t){let e=new WeakMap,n=null;function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(r.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const o=r.mapping,a=303===o||304===o,s=o===de||o===he;if(a||s){if(e.has(r))return e.get(r).texture;{const o=r.image;if(a&&o&&o.height>0||s&&o&&function(t){let e=0;for(let n=0;n<6;n++)void 0!==t[n]&&e++;return 6===e}(o)){const o=t.getRenderTarget();null===n&&(n=new go(t));const s=a?n.fromEquirectangular(r):n.fromCubemap(r);return e.set(r,s),t.setRenderTarget(o),r.addEventListener("dispose",i),s.texture}return null}}}return r},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Mo(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Lo(t,e,n,i){const r={},o=new WeakMap;function a(t){const s=t.target;null!==s.index&&e.remove(s.index);for(const t in s.attributes)e.remove(s.attributes[t]);s.removeEventListener("dispose",a),delete r[s.id];const l=o.get(s);l&&(e.remove(l),o.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){const n=[],i=t.index,r=t.attributes.position;let a=0;if(null!==i){const t=i.array;a=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{const t=r.array;a=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const s=new(Fi(n)>65535?fi:pi)(n,1);s.version=a;const l=o.get(t);l&&e.remove(l),o.set(t,s)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",a),r[e.id]=!0,n.memory.geometries++),e},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const i=t.morphAttributes;for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function Co(t,e,n,i){const r=i.isWebGL2;let o,a,s;this.setMode=function(t){o=t},this.setIndex=function(t){a=t.type,s=t.bytesPerElement},this.render=function(e,i){t.drawElements(o,i,a,e*s),n.update(i,o,1)},this.renderInstances=function(i,l,c){if(0===c)return;let A,u;if(r)A=t,u="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===A)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");A[u](o,l,a,i*s,c),n.update(l,o,c)}}function Bo(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function So(t,e){return t[0]-e[0]}function Eo(t,e){return Math.abs(e[1])-Math.abs(t[1])}function To(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,o,a,s){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let A=e[o.id];if(void 0===A||A.length!==c){A=[];for(let t=0;t<c;t++)A[t]=[t,0];e[o.id]=A}for(let t=0;t<c;t++){const e=A[t];e[0]=t,e[1]=l[t]}A.sort(Eo);for(let t=0;t<8;t++)t<c&&A[t][1]?(i[t][0]=A[t][0],i[t][1]=A[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(So);const u=o.morphAttributes.position,d=o.morphAttributes.normal;let h=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],a=e[1];r!==Number.MAX_SAFE_INTEGER&&a?(u&&o.getAttribute("morphTarget"+t)!==u[r]&&o.setAttribute("morphTarget"+t,u[r]),d&&o.getAttribute("morphNormal"+t)!==d[r]&&o.setAttribute("morphNormal"+t,d[r]),n[t]=a,h+=a):(u&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),d&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const p=o.morphTargetsRelative?1:1-h;s.getUniforms().setValue(t,"morphTargetBaseInfluence",p),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}class Do extends mn{constructor(t,e,n){super(t,e,n),this.samples=4}copy(t){return super.copy.call(this,t),this.samples=t.samples,this}}function Io(t,e,n,i){let r=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){const a=i.render.frame,s=t.geometry,l=e.get(t,s);return r.get(l)!==a&&(e.update(l),r.set(l,a)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",o)&&t.addEventListener("dispose",o),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}Do.prototype.isWebGLMultisampleRenderTarget=!0;class Po extends hn{constructor(t=null,e=1,n=1,i=1){super(null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=ye,this.minFilter=ye,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Po.prototype.isDataTexture2DArray=!0;class ko extends hn{constructor(t=null,e=1,n=1,i=1){super(null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=ye,this.minFilter=ye,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ko.prototype.isDataTexture3D=!0;const Fo=new hn,Uo=new Po,Ro=new ko,Oo=new Zr,Ho=[],Yo=[],Qo=new Float32Array(16),jo=new Float32Array(9),No=new Float32Array(4);function Wo(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=Ho[r];if(void 0===o&&(o=new Float32Array(r),Ho[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function Vo(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function zo(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Go(t,e){let n=Yo[e];void 0===n&&(n=new Int32Array(e),Yo[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Ko(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Zo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Vo(n,e))return;t.uniform2fv(this.addr,e),zo(n,e)}}function Xo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Vo(n,e))return;t.uniform3fv(this.addr,e),zo(n,e)}}function qo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Vo(n,e))return;t.uniform4fv(this.addr,e),zo(n,e)}}function Jo(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Vo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zo(n,e)}else{if(Vo(n,i))return;No.set(i),t.uniformMatrix2fv(this.addr,!1,No),zo(n,i)}}function $o(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Vo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zo(n,e)}else{if(Vo(n,i))return;jo.set(i),t.uniformMatrix3fv(this.addr,!1,jo),zo(n,i)}}function ta(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Vo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zo(n,e)}else{if(Vo(n,i))return;Qo.set(i),t.uniformMatrix4fv(this.addr,!1,Qo),zo(n,i)}}function ea(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function na(t,e){const n=this.cache;Vo(n,e)||(t.uniform2iv(this.addr,e),zo(n,e))}function ia(t,e){const n=this.cache;Vo(n,e)||(t.uniform3iv(this.addr,e),zo(n,e))}function ra(t,e){const n=this.cache;Vo(n,e)||(t.uniform4iv(this.addr,e),zo(n,e))}function oa(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function aa(t,e){const n=this.cache;Vo(n,e)||(t.uniform2uiv(this.addr,e),zo(n,e))}function sa(t,e){const n=this.cache;Vo(n,e)||(t.uniform3uiv(this.addr,e),zo(n,e))}function la(t,e){const n=this.cache;Vo(n,e)||(t.uniform4uiv(this.addr,e),zo(n,e))}function ca(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Fo,r)}function Aa(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Ro,r)}function ua(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Oo,r)}function da(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Uo,r)}function ha(t,e){t.uniform1fv(this.addr,e)}function pa(t,e){const n=Wo(e,this.size,2);t.uniform2fv(this.addr,n)}function fa(t,e){const n=Wo(e,this.size,3);t.uniform3fv(this.addr,n)}function ma(t,e){const n=Wo(e,this.size,4);t.uniform4fv(this.addr,n)}function ga(t,e){const n=Wo(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ya(t,e){const n=Wo(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function va(t,e){const n=Wo(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function _a(t,e){t.uniform1iv(this.addr,e)}function wa(t,e){t.uniform2iv(this.addr,e)}function xa(t,e){t.uniform3iv(this.addr,e)}function ba(t,e){t.uniform4iv(this.addr,e)}function Ma(t,e){t.uniform1uiv(this.addr,e)}function La(t,e){t.uniform2uiv(this.addr,e)}function Ca(t,e){t.uniform3uiv(this.addr,e)}function Ba(t,e){t.uniform4uiv(this.addr,e)}function Sa(t,e,n){const i=e.length,r=Go(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||Fo,r[t])}function Ea(t,e,n){const i=e.length,r=Go(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||Oo,r[t])}function Ta(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Ko;case 35664:return Zo;case 35665:return Xo;case 35666:return qo;case 35674:return Jo;case 35675:return $o;case 35676:return ta;case 5124:case 35670:return ea;case 35667:case 35671:return na;case 35668:case 35672:return ia;case 35669:case 35673:return ra;case 5125:return oa;case 36294:return aa;case 36295:return sa;case 36296:return la;case 35678:case 36198:case 36298:case 36306:case 35682:return ca;case 35679:case 36299:case 36307:return Aa;case 35680:case 36300:case 36308:case 36293:return ua;case 36289:case 36303:case 36311:case 36292:return da}}(e.type)}function Da(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return ha;case 35664:return pa;case 35665:return fa;case 35666:return ma;case 35674:return ga;case 35675:return ya;case 35676:return va;case 5124:case 35670:return _a;case 35667:case 35671:return wa;case 35668:case 35672:return xa;case 35669:case 35673:return ba;case 5125:return Ma;case 36294:return La;case 36295:return Ca;case 36296:return Ba;case 35678:case 36198:case 36298:case 36306:case 35682:return Sa;case 35680:case 36300:case 36308:case 36293:return Ea}}(e.type)}function Ia(t){this.id=t,this.seq=[],this.map={}}Da.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),zo(e,t)},Ia.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const Pa=/(\w+)(\])?(\[|\.)?/g;function ka(t,e){t.seq.push(e),t.map[e.id]=e}function Fa(t,e,n){const i=t.name,r=i.length;for(Pa.lastIndex=0;;){const o=Pa.exec(i),a=Pa.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===r){ka(n,void 0===c?new Ta(s,t,e):new Da(s,t,e));break}{let t=n.map[s];void 0===t&&(t=new Ia(s),ka(n,t)),n=t}}}function Ua(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Fa(n,t.getUniformLocation(e,n.name),this)}}function Ra(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}Ua.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},Ua.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},Ua.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,i)}},Ua.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let Oa=0;function Ha(t){switch(t){case Re:return["Linear","( value )"];case Oe:return["sRGB","( value )"];case Ye:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case He:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Ya(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function Qa(t,e){const n=Ha(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ja(t,e){const n=Ha(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Na(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wa(t){return""!==t}function Va(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function za(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ga=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ka(t){return t.replace(Ga,Za)}function Za(t,e){const n=Rr[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Ka(n)}const Xa=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,qa=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ja(t){return t.replace(qa,ts).replace(Xa,$a)}function $a(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ts(t,e,n,i)}function ts(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function es(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ns(t,e,n,i){const r=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case de:case he:e="ENVMAP_TYPE_CUBE";break;case pe:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),A=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case he:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),u=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),d=t.gammaFactor>0?t.gammaFactor:1,h=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission>0)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wa).join("\n")}(n),p=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),f=r.createProgram();let m,g,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(m=[p].filter(Wa).join("\n"),m.length>0&&(m+="\n"),g=[h,p].filter(Wa).join("\n"),g.length>0&&(g+="\n")):(m=[es(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wa).join("\n"),g=[h,es(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+A:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Rr.tonemapping_pars_fragment:"",0!==n.toneMapping?Na("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Rr.encodings_pars_fragment,n.map?Qa("mapTexelToLinear",n.mapEncoding):"",n.matcap?Qa("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Qa("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Qa("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularTintMap?Qa("specularTintMapTexelToLinear",n.specularTintMapEncoding):"",n.lightMap?Qa("lightMapTexelToLinear",n.lightMapEncoding):"",ja("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wa).join("\n")),a=Ka(a),a=Va(a,n),a=za(a,n),s=Ka(s),s=Va(s,n),s=za(s,n),a=Ja(a),s=Ja(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",m=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",n.glslVersion===Ge?"":"out highp vec4 pc_fragColor;",n.glslVersion===Ge?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const v=y+g+s,_=Ra(r,35633,y+m+a),w=Ra(r,35632,v);if(r.attachShader(f,_),r.attachShader(f,w),void 0!==n.index0AttributeName?r.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(f).trim(),e=r.getShaderInfoLog(_).trim(),n=r.getShaderInfoLog(w).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(f,35714)){i=!1;const e=Ya(r,_,"vertex"),n=Ya(r,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(f,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:m},fragmentShader:{log:n,prefix:g}})}let x,b;return r.deleteShader(_),r.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new Ua(r,f)),x},this.getAttributes=function(){return void 0===b&&(b=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,f)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.name=n.shaderName,this.id=Oa++,this.cacheKey=e,this.usedTimes=1,this.program=f,this.vertexShader=_,this.fragmentShader=w,this}function is(t,e,n,i,r,o,a){const s=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,A=r.floatVertexTextures,u=r.maxVertexUniforms,d=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function m(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=Re,e}return{getParameters:function(o,s,f,g,y){const v=g.fog,_=o.isMeshStandardMaterial?g.environment:null,w=(o.isMeshStandardMaterial?n:e).get(o.envMap||_),x=p[o.type],b=y.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(A)return 1024;{const t=u,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}}(y):0;let M,L;if(null!==o.precision&&(h=r.getMaxPrecision(o.precision),h!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",h,"instead.")),x){const t=Hr[x];M=t.vertexShader,L=t.fragmentShader}else M=o.vertexShader,L=o.fragmentShader;const C=t.getRenderTarget();return{isWebGL2:l,shaderID:x,shaderName:o.type,vertexShader:M,fragmentShader:L,defines:o.defines,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:h,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null!==C?m(C.texture):t.outputEncoding,map:!!o.map,mapEncoding:m(o.map),matcap:!!o.matcap,matcapEncoding:m(o.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:m(w),envMapCubeUV:!!w&&(w.mapping===pe||307===w.mapping),lightMap:!!o.lightMap,lightMapEncoding:m(o.lightMap),aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,emissiveMapEncoding:m(o.emissiveMap),bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:1===o.normalMapType,tangentSpaceNormalMap:0===o.normalMapType,clearcoatMap:!!o.clearcoatMap,clearcoatRoughnessMap:!!o.clearcoatRoughnessMap,clearcoatNormalMap:!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularTintMap:!!o.specularTintMap,specularTintMapEncoding:m(o.specularTintMap),alphaMap:!!o.alphaMap,gradientMap:!!o.gradientMap,sheen:!!o.sheen,transmission:!!o.transmission,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!y.geometry&&!!y.geometry.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!y.geometry&&!!y.geometry.attributes.color&&4===y.geometry.attributes.color.itemSize,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.displacementMap||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularTintMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmission||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularTintMap||!o.displacementMap),fog:!!v,useFog:o.fog,fogExp2:v&&v.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===y.isSkinnedMesh&&b>0,maxBones:b,useVertexTexture:A,morphTargets:!!y.geometry&&!!y.geometry.morphAttributes.position,morphNormals:!!y.geometry&&!!y.geometry.morphAttributes.normal,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:o.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,alphaTest:o.alphaTest,doubleSided:2===o.side,flipSided:1===o.side,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<f.length;t++)n.push(e[f[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;if(e){const t=Hr[e];n=Xi.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=s.length;t<e;t++){const e=s[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new ns(t,n,e,o),s.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},programs:s}}function rs(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function os(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function as(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ss(t){const e=[];let n=0;const i=[],r=[],o=[],a={id:-1};function s(i,r,o,s,l,c){let A=e[n];const u=t.get(o);return void 0===A?(A={id:i.id,object:i,geometry:r,material:o,program:u.program||a,groupOrder:s,renderOrder:i.renderOrder,z:l,group:c},e[n]=A):(A.id=i.id,A.object=i,A.geometry=r,A.material=o,A.program=u.program||a,A.groupOrder=s,A.renderOrder=i.renderOrder,A.z=l,A.group=c),n++,A}return{opaque:i,transmissive:r,transparent:o,init:function(){n=0,i.length=0,r.length=0,o.length=0},push:function(t,e,n,a,l,c){const A=s(t,e,n,a,l,c);n.transmission>0?r.push(A):!0===n.transparent?o.push(A):i.push(A)},unshift:function(t,e,n,a,l,c){const A=s(t,e,n,a,l,c);n.transmission>0?r.unshift(A):!0===n.transparent?o.unshift(A):i.unshift(A)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||os),r.length>1&&r.sort(e||as),o.length>1&&o.sort(e||as)}}}function ls(t){let e=new WeakMap;return{get:function(n,i){let r;return!1===e.has(n)?(r=new ss(t),e.set(n,[r])):i>=e.get(n).length?(r=new ss(t),e.get(n).push(r)):r=e.get(n)[i],r},dispose:function(){e=new WeakMap}}}function cs(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new yn,color:new Ai};break;case"SpotLight":n={position:new yn,direction:new yn,color:new Ai,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new yn,color:new Ai,distance:0,decay:0};break;case"HemisphereLight":n={direction:new yn,skyColor:new Ai,groundColor:new Ai};break;case"RectAreaLight":n={color:new Ai,position:new yn,halfWidth:new yn,halfHeight:new yn}}return t[e.id]=n,n}}}let As=0;function us(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ds(t,e){const n=new cs,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new yn);const o=new yn,a=new Kn,s=new Kn;return{setup:function(o){let a=0,s=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let c=0,A=0,u=0,d=0,h=0,p=0,f=0,m=0;o.sort(us);for(let t=0,e=o.length;t<e;t++){const e=o[t],g=e.color,y=e.intensity,v=e.distance,_=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)a+=g.r*y,s+=g.g*y,l+=g.b*y;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],y);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[c]=n,r.directionalShadowMap[c]=_,r.directionalShadowMatrix[c]=e.shadow.matrix,p++}r.directional[c]=t,c++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(g).multiplyScalar(y),t.distance=v,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[u]=n,r.spotShadowMap[u]=_,r.spotShadowMatrix[u]=e.shadow.matrix,m++}r.spot[u]=t,u++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(g).multiplyScalar(y),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[d]=t,d++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[A]=n,r.pointShadowMap[A]=_,r.pointShadowMatrix[A]=e.shadow.matrix,f++}r.point[A]=t,A++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(y),t.groundColor.copy(e.groundColor).multiplyScalar(y),r.hemi[h]=t,h++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=Or.LTC_FLOAT_1,r.rectAreaLTC2=Or.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Or.LTC_HALF_1,r.rectAreaLTC2=Or.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=a,r.ambient[1]=s,r.ambient[2]=l;const g=r.hash;g.directionalLength===c&&g.pointLength===A&&g.spotLength===u&&g.rectAreaLength===d&&g.hemiLength===h&&g.numDirectionalShadows===p&&g.numPointShadows===f&&g.numSpotShadows===m||(r.directional.length=c,r.spot.length=u,r.rectArea.length=d,r.point.length=A,r.hemi.length=h,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=f,r.spotShadowMatrix.length=m,g.directionalLength=c,g.pointLength=A,g.spotLength=u,g.rectAreaLength=d,g.hemiLength=h,g.numDirectionalShadows=p,g.numPointShadows=f,g.numSpotShadows=m,r.version=As++)},setupView:function(t,e){let n=0,i=0,l=0,c=0,A=0;const u=e.matrixWorldInverse;for(let e=0,d=t.length;e<d;e++){const d=t[e];if(d.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(u),n++}else if(d.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(u),l++}else if(d.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),s.identity(),a.copy(d.matrixWorld),a.premultiply(u),s.extractRotation(a),t.halfWidth.set(.5*d.width,0,0),t.halfHeight.set(0,.5*d.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(d.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(d.matrixWorld),t.position.applyMatrix4(u),i++}else if(d.isHemisphereLight){const t=r.hemi[A];t.direction.setFromMatrixPosition(d.matrixWorld),t.direction.transformDirection(u),t.direction.normalize(),A++}}},state:r}}function hs(t,e){const n=new ds(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ps(t,e){let n=new WeakMap;return{get:function(i,r=0){let o;return!1===n.has(i)?(o=new hs(t,e),n.set(i,[o])):r>=n.get(i).length?(o=new hs(t,e),n.get(i).push(o)):o=n.get(i)[r],o},dispose:function(){n=new WeakMap}}}class fs extends Gi{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}fs.prototype.isMeshDepthMaterial=!0;class ms extends Gi{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new yn,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}ms.prototype.isMeshDistanceMaterial=!0;function gs(t,e,n){let i=new Gn;const r=new ln,o=new ln,a=new fn,s=new fs({depthPacking:3201}),l=new ms,c={},A=n.maxTextureSize,u={0:1,1:0,2:2},d=new qi({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ln},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new Ni;p.setAttribute("position",new hi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Fr(p,d),m=this;function g(n,i){const r=e.update(f);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,d,f,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,h,f,null)}function y(e,n,i,r,o,a,A){let d=null;const h=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(d=void 0!==h?h:!0===r.isPointLight?l:s,t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=d.uuid,e=i.uuid;let n=c[t];void 0===n&&(n={},c[t]=n);let r=n[e];void 0===r&&(r=d.clone(),n[e]=r),d=r}return d.visible=i.visible,d.wireframe=i.wireframe,d.side=3===A?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],d.clipShadows=i.clipShadows,d.clippingPlanes=i.clippingPlanes,d.clipIntersection=i.clipIntersection,d.wireframeLinewidth=i.wireframeLinewidth,d.linewidth=i.linewidth,!0===r.isPointLight&&!0===d.isMeshDistanceMaterial&&(d.referencePosition.setFromMatrixPosition(r.matrixWorld),d.nearDistance=o,d.farDistance=a),d}function v(n,r,o,a,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],A=r[c.materialIndex];if(A&&A.visible){const e=y(n,0,A,a,o.near,o.far,s);t.renderBufferDirect(o,null,i,e,n,c)}}}else if(r.visible){const e=y(n,0,r,a,o.near,o.far,s);t.renderBufferDirect(o,null,i,e,n,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)v(l[t],r,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,n,s){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,c=e.length;l<c;l++){const c=e[l],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const h=u.getFrameExtents();if(r.multiply(h),o.copy(u.mapSize),(r.x>A||r.y>A)&&(r.x>A&&(o.x=Math.floor(A/h.x),r.x=o.x*h.x,u.mapSize.x=o.x),r.y>A&&(o.y=Math.floor(A/h.y),r.y=o.y*h.y,u.mapSize.y=o.y)),null===u.map&&!u.isPointLightShadow&&3===this.type){const t={minFilter:we,magFilter:we,format:De};u.map=new mn(r.x,r.y,t),u.map.texture.name=c.name+".shadowMap",u.mapPass=new mn(r.x,r.y,t),u.camera.updateProjectionMatrix()}if(null===u.map){const t={minFilter:ye,magFilter:ye,format:De};u.map=new mn(r.x,r.y,t),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const p=u.getViewportCount();for(let t=0;t<p;t++){const e=u.getViewport(t);a.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),d.viewport(a),u.updateMatrices(c,t),i=u.getFrustum(),v(n,s,u.camera,c,this.type)}u.isPointLightShadow||3!==this.type||g(u,s),u.needsUpdate=!1}m.needsUpdate=!1,t.setRenderTarget(l,c,u)}}function ys(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new fn;let i=null;const r=new fn(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,a,s){!0===s&&(e*=a,i*=a,o*=a),n.set(e,i,o,a),!1===r.equals(n)&&(t.clearColor(e,i,o,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?R(2929):O(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},a=new function(){let e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(t){e||(t?R(2960):O(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&o===a||(t.stencilFunc(e,n,a),i=e,r=n,o=a)},setOp:function(e,n,i){a===e&&s===n&&l===i||(t.stencilOp(e,n,i),a=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null}}};let s={},l=null,c={},A=null,u=!1,d=null,h=null,p=null,f=null,m=null,g=null,y=null,v=!1,_=null,w=null,x=null,b=null,M=null;const L=t.getParameter(35661);let C=!1,B=0;const S=t.getParameter(7938);-1!==S.indexOf("WebGL")?(B=parseFloat(/^WebGL (\d)/.exec(S)[1]),C=B>=1):-1!==S.indexOf("OpenGL ES")&&(B=parseFloat(/^OpenGL ES (\d)/.exec(S)[1]),C=B>=2);let E=null,T={};const D=t.getParameter(3088),I=t.getParameter(2978),P=(new fn).fromArray(D),k=(new fn).fromArray(I);function F(e,n,i){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<i;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,r);return o}const U={};function R(e){!0!==s[e]&&(t.enable(e),s[e]=!0)}function O(e){!1!==s[e]&&(t.disable(e),s[e]=!1)}U[3553]=F(3553,3553,1),U[34067]=F(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),R(2929),o.setFunc(3),j(!1),N(1),R(2884),Q(0);const H={[Jt]:32774,[$t]:32778,[te]:32779};if(i)H[103]=32775,H[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(H[103]=t.MIN_EXT,H[104]=t.MAX_EXT)}const Y={[ee]:0,[ne]:1,[ie]:768,[oe]:770,[ue]:776,[ce]:774,[se]:772,[re]:769,[ae]:771,[Ae]:775,[le]:773};function Q(e,n,i,r,o,a,s,l){if(0!==e){if(!1===u&&(R(3042),u=!0),5===e)o=o||n,a=a||i,s=s||r,n===h&&o===m||(t.blendEquationSeparate(H[n],H[o]),h=n,m=o),i===p&&r===f&&a===g&&s===y||(t.blendFuncSeparate(Y[i],Y[r],Y[a],Y[s]),p=i,f=r,g=a,y=s),d=e,v=null;else if(e!==d||l!==v){if(h===Jt&&m===Jt||(t.blendEquation(32774),h=Jt,m=Jt),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}p=null,f=null,g=null,y=null,d=e,v=l}}else!0===u&&(O(3042),u=!1)}function j(e){_!==e&&(e?t.frontFace(2304):t.frontFace(2305),_=e)}function N(e){0!==e?(R(2884),e!==w&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):O(2884),w=e}function W(e,n,i){e?(R(32823),b===n&&M===i||(t.polygonOffset(n,i),b=n,M=i)):O(32823)}function V(e){void 0===e&&(e=33984+L-1),E!==e&&(t.activeTexture(e),E=e)}return{buffers:{color:r,depth:o,stencil:a},enable:R,disable:O,bindFramebuffer:function(e,n){return null===n&&null!==l&&(n=l),c[e]!==n&&(t.bindFramebuffer(e,n),c[e]=n,i&&(36009===e&&(c[36160]=n),36160===e&&(c[36009]=n)),!0)},bindXRFramebuffer:function(e){e!==l&&(t.bindFramebuffer(36160,e),l=e)},useProgram:function(e){return A!==e&&(t.useProgram(e),A=e,!0)},setBlending:Q,setMaterial:function(t,e){2===t.side?O(2884):R(2884);let n=1===t.side;e&&(n=!n),j(n),1===t.blending&&!1===t.transparent?Q(0):Q(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;a.setTest(i),i&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?R(32926):O(32926)},setFlipSided:j,setCullFace:N,setLineWidth:function(e){e!==x&&(C&&t.lineWidth(e),x=e)},setPolygonOffset:W,setScissorTest:function(t){t?R(3089):O(3089)},activeTexture:V,bindTexture:function(e,n){null===E&&V();let i=T[E];void 0===i&&(i={type:void 0,texture:void 0},T[E]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||U[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=T[E];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===P.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),P.copy(e))},viewport:function(e){!1===k.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),k.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===i&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),s={},E=null,T={},l=null,c={},A=null,u=!1,d=null,h=null,p=null,f=null,m=null,g=null,y=null,v=!1,_=null,w=null,x=null,b=null,M=null,P.set(0,0,t.canvas.width,t.canvas.height),k.set(0,0,t.canvas.width,t.canvas.height),r.reset(),o.reset(),a.reset()}}}function vs(t,e,n,i,r,o,a){const s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,A=r.maxTextureSize,u=r.maxSamples,d=new WeakMap;let h,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function f(t,e){return p?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function m(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?an:Math.floor,o=i(r*t.width),a=i(r*t.height);void 0===h&&(h=f(o,a));const s=n?f(o,a):h;return s.width=o,s.height=a,s.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return rn(t.width)&&rn(t.height)}function y(t,e){return t.generateMipmaps&&e&&t.minFilter!==ye&&t.minFilter!==we}function v(e,n,r,o,a=1){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log2(Math.max(r,o,a))}function _(n,i,r){if(!1===s)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function w(t){return t===ye||t===ve||t===_e?9728:9729}function x(e){const n=e.target;n.removeEventListener("dispose",x),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&d.delete(n),a.memory.textures--}function b(e){const n=e.target;n.removeEventListener("dispose",b),function(e){const n=e.texture,r=i.get(e),o=i.get(n);if(e){if(void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),a.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(r.__webglFramebuffer[e]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[e]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&t.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(let e=0,r=n.length;e<r;e++){const r=i.get(n[e]);r.__webglTexture&&(t.deleteTexture(r.__webglTexture),a.memory.textures--),i.remove(n[e])}i.remove(n),i.remove(e)}}(n)}let M=0;function L(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=a.render.frame;d.get(t)!==e&&(d.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void D(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function C(e,r){const a=i.get(e);e.version>0&&a.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;T(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const a=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,A=[];for(let t=0;t<6;t++)A[t]=a||l?l?i.image[t].image:i.image[t]:m(i.image[t],!1,!0,c);const u=A[0],d=g(u)||s,h=o.convert(i.format),p=o.convert(i.type),f=_(i.internalFormat,h,p);let w;if(E(34067,i,d),a){for(let t=0;t<6;t++){w=A[t].mipmaps;for(let e=0;e<w.length;e++){const r=w[e];i.format!==De&&i.format!==Te?null!==h?n.compressedTexImage2D(34069+t,e,f,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,f,r.width,r.height,0,h,p,r.data)}}e.__maxMipLevel=w.length-1}else{w=i.mipmaps;for(let t=0;t<6;t++)if(l){n.texImage2D(34069+t,0,f,A[t].width,A[t].height,0,h,p,A[t].data);for(let e=0;e<w.length;e++){const i=w[e].image[t].image;n.texImage2D(34069+t,e+1,f,i.width,i.height,0,h,p,i.data)}}else{n.texImage2D(34069+t,0,f,h,p,A[t]);for(let e=0;e<w.length;e++){const i=w[e];n.texImage2D(34069+t,e+1,f,h,p,i.image[t])}}e.__maxMipLevel=w.length}y(i,d)&&v(34067,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(a,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,a.__webglTexture))}const B={[fe]:10497,[me]:33071,[ge]:33648},S={[ye]:9728,[ve]:9984,[_e]:9986,[we]:9729,[xe]:9985,[be]:9987};function E(n,o,a){if(a?(t.texParameteri(n,10242,B[o.wrapS]),t.texParameteri(n,10243,B[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,B[o.wrapR]),t.texParameteri(n,10240,S[o.magFilter]),t.texParameteri(n,10241,S[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===me&&o.wrapT===me||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,w(o.magFilter)),t.texParameteri(n,10241,w(o.minFilter)),o.minFilter!==ye&&o.minFilter!==we&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const a=e.get("EXT_texture_filter_anisotropic");if(o.type===Be&&!1===e.has("OES_texture_float_linear"))return;if(!1===s&&o.type===Se&&!1===e.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function T(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",x),e.__webglTexture=t.createTexture(),a.memory.textures++)}function D(e,i,r){let a=3553;i.isDataTexture2DArray&&(a=35866),i.isDataTexture3D&&(a=32879),T(e,i),n.activeTexture(33984+r),n.bindTexture(a,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);const l=function(t){return!s&&(t.wrapS!==me||t.wrapT!==me||t.minFilter!==ye&&t.minFilter!==we)}(i)&&!1===g(i.image),c=m(i.image,l,!1,A),u=g(c)||s,d=o.convert(i.format);let h,p=o.convert(i.type),f=_(i.internalFormat,d,p);E(a,i,u);const w=i.mipmaps;if(i.isDepthTexture)f=6402,s?f=i.type===Be?36012:i.type===Ce?33190:i.type===Ee?35056:33189:i.type===Be&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Ie&&6402===f&&i.type!==Le&&i.type!==Ce&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Le,p=o.convert(i.type)),i.format===Pe&&6402===f&&(f=34041,i.type!==Ee&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Ee,p=o.convert(i.type))),n.texImage2D(3553,0,f,c.width,c.height,0,d,p,null);else if(i.isDataTexture)if(w.length>0&&u){for(let t=0,e=w.length;t<e;t++)h=w[t],n.texImage2D(3553,t,f,h.width,h.height,0,d,p,h.data);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,f,c.width,c.height,0,d,p,c.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=w.length;t<e;t++)h=w[t],i.format!==De&&i.format!==Te?null!==d?n.compressedTexImage2D(3553,t,f,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,f,h.width,h.height,0,d,p,h.data);e.__maxMipLevel=w.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,f,c.width,c.height,c.depth,0,d,p,c.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,f,c.width,c.height,c.depth,0,d,p,c.data),e.__maxMipLevel=0;else if(w.length>0&&u){for(let t=0,e=w.length;t<e;t++)h=w[t],n.texImage2D(3553,t,f,d,p,h);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,f,d,p,c),e.__maxMipLevel=0;y(i,u)&&v(a,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function I(e,r,a,s,l){const c=o.convert(a.format),A=o.convert(a.type),u=_(a.internalFormat,c,A);32879===l||35866===l?n.texImage3D(l,0,u,r.width,r.height,r.depth,0,c,A,null):n.texImage2D(l,0,u,r.width,r.height,0,c,A,null),n.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,s,l,i.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function P(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Be?r=36012:e.type===Ce&&(r=33190));const i=k(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=k(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,r=o.convert(e.format),a=o.convert(e.type),s=_(e.internalFormat,r,a);if(i){const e=k(n);t.renderbufferStorageMultisample(36161,e,s,n.width,n.height)}else t.renderbufferStorage(36161,s,n.width,n.height)}t.bindRenderbuffer(36161,null)}function k(t){return s&&t.isWebGLMultisampleRenderTarget?Math.min(u,t.samples):0}let F=!1,U=!1;this.allocateTextureUnit=function(){const t=M;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),M+=1,t},this.resetTextureUnits=function(){M=0},this.setTexture2D=L,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?D(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?D(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=C,this.setupRenderTarget=function(e){const l=e.texture,c=i.get(e),A=i.get(l);e.addEventListener("dispose",b),!0!==e.isWebGLMultipleRenderTargets&&(A.__webglTexture=t.createTexture(),A.__version=l.version,a.memory.textures++);const u=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,h=!0===e.isWebGLMultisampleRenderTarget,p=l.isDataTexture3D||l.isDataTexture2DArray,f=g(e)||s;if(!s||l.format!==Te||l.type!==Be&&l.type!==Se||(l.format=De,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){c.__webglFramebuffer=[];for(let e=0;e<6;e++)c.__webglFramebuffer[e]=t.createFramebuffer()}else if(c.__webglFramebuffer=t.createFramebuffer(),d)if(r.drawBuffers){const n=e.texture;for(let e=0,r=n.length;e<r;e++){const r=i.get(n[e]);void 0===r.__webglTexture&&(r.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h)if(s){c.__webglMultisampledFramebuffer=t.createFramebuffer(),c.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,c.__webglColorRenderbuffer);const i=o.convert(l.format),r=o.convert(l.type),a=_(l.internalFormat,i,r),s=k(e);t.renderbufferStorageMultisample(36161,s,a,e.width,e.height),n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(c.__webglDepthRenderbuffer=t.createRenderbuffer(),P(c.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,A.__webglTexture),E(34067,l,f);for(let t=0;t<6;t++)I(c.__webglFramebuffer[t],e,l,36064,34069+t);y(l,f)&&v(34067,l,e.width,e.height),n.bindTexture(34067,null)}else if(d){const t=e.texture;for(let r=0,o=t.length;r<o;r++){const o=t[r],a=i.get(o);n.bindTexture(3553,a.__webglTexture),E(3553,o,f),I(c.__webglFramebuffer,e,o,36064+r,3553),y(o,f)&&v(3553,o,e.width,e.height)}n.bindTexture(3553,null)}else{let t=3553;p&&(s?t=l.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(t,A.__webglTexture),E(t,l,f),I(c.__webglFramebuffer,e,l,36064,t),y(l,f)&&v(t,l,e.width,e.height,e.depth),n.bindTexture(t,null)}e.depthBuffer&&function(e){const r=i.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),L(r.depthTexture,0);const o=i.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===Ie)t.framebufferTexture2D(36160,36096,3553,o,0);else{if(r.depthTexture.format!==Pe)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,o,0)}}(r.__webglFramebuffer,e)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=t.createRenderbuffer(),P(r.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),P(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){const e=g(t)||s,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let o=0,a=r.length;o<a;o++){const a=r[o];if(y(a,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,r=i.get(a).__webglTexture;n.bindTexture(e,r),v(e,a,t.width,t.height),n.bindTexture(e,null)}}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(s){const r=e.width,o=e.height;let a=16384;e.depthBuffer&&(a|=256),e.stencilBuffer&&(a|=1024);const s=i.get(e);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),t.blitFramebuffer(0,0,r,o,0,0,r,o,a,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),L(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),t=t.texture),C(t,e)}}function _s(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(t===Me)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===Le)return 5123;if(1013===t)return 5124;if(t===Ce)return 5125;if(t===Be)return 5126;if(t===Se)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===Te)return 6407;if(t===De)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===Ie)return 6402;if(t===Pe)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===Ee?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class ws extends zr{constructor(t=[]){super(),this.cameras=t}}ws.prototype.isArrayCamera=!0;class xs extends ki{constructor(){super(),this.type="Group"}}xs.prototype.isGroup=!0;const bs={type:"move"};class Ms{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new xs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new xs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new yn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new yn),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new xs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new yn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new yn),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let i=null,r=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==a&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(bs))),l&&t.hand){o=!0;for(const i of t.hand.values()){const t=e.getJointPose(i,n);if(void 0===l.joints[i.jointName]){const t=new xs;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[i.jointName]=t,l.add(t)}const r=l.joints[i.jointName];null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=t.radius),r.visible=null!==t}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],a=i.position.distanceTo(r.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==o),this}}class Ls extends Ke{constructor(t,e){super();const n=this,i=t.state;let r=null,o=1,a=null,s="local-floor",l=null,c=null,A=null,u=null,d=null;const h=[],p=new Map,f=new zr;f.layers.enable(1),f.viewport=new fn;const m=new zr;m.layers.enable(2),m.viewport=new fn;const g=[f,m],y=new ws;y.layers.enable(1),y.layers.enable(2);let v=null,_=null;function w(t){const e=p.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function x(){p.forEach((function(t,e){t.disconnect(e)})),p.clear(),v=null,_=null,i.bindXRFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(t){const e=r.inputSources;for(let t=0;t<h.length;t++)p.set(e[t],h[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=p.get(n);i&&(i.dispatchEvent({type:"disconnected",data:n}),p.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=p.get(n);i&&i.dispatchEvent({type:"connected",data:n})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=h[t];return void 0===e&&(e=new Ms,h[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=h[t];return void 0===e&&(e=new Ms,h[t]=e),e.getGripSpace()},this.getHand=function(t){let e=h[t];return void 0===e&&(e=new Ms,h[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=async function(t){if(r=t,null!==r){r.addEventListener("select",w),r.addEventListener("selectstart",w),r.addEventListener("selectend",w),r.addEventListener("squeeze",w),r.addEventListener("squeezestart",w),r.addEventListener("squeezeend",w),r.addEventListener("end",x),r.addEventListener("inputsourceschange",b);const t=e.getContextAttributes();if(!0!==t.xrCompatible&&await e.makeXRCompatible(),void 0===r.renderState.layers){const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:d})}else{let n=0;if(t.antialias){const n={antialias:!0,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(r,e,n),r.updateRenderState({layers:[d]})}else{t.depth&&(n=t.stencil?34041:6402);const i={colorFormat:t.alpha?6408:6407,depthFormat:n,scaleFactor:o};c=new XRWebGLBinding(r,e),u=c.createProjectionLayer(i),A=e.createFramebuffer(),r.updateRenderState({layers:[u]})}}a=await r.requestReferenceSpace(s),S.setContext(r),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const M=new yn,L=new yn;function C(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;y.near=m.near=f.near=t.near,y.far=m.far=f.far=t.far,v===y.near&&_===y.far||(r.updateRenderState({depthNear:y.near,depthFar:y.far}),v=y.near,_=y.far);const e=t.parent,n=y.cameras;C(y,e);for(let t=0;t<n.length;t++)C(n[t],e);y.matrixWorld.decompose(y.position,y.quaternion,y.scale),t.position.copy(y.position),t.quaternion.copy(y.quaternion),t.scale.copy(y.scale),t.matrix.copy(y.matrix),t.matrixWorld.copy(y.matrixWorld);const i=t.children;for(let t=0,e=i.length;t<e;t++)i[t].updateMatrixWorld(!0);2===n.length?function(t,e,n){M.setFromMatrixPosition(e.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);const i=M.distanceTo(L),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],A=(r[8]-1)/r[0],u=(o[8]+1)/o[0],d=a*A,h=a*u,p=i/(-A+u),f=p*-A;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(f),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const m=a+p,g=s+p,y=d-f,v=h+(i-f),_=l*s/g*m,w=c*s/g*m;t.projectionMatrix.makePerspective(y,v,_,w,m,g)}(y,f,m):y.projectionMatrix.copy(f.projectionMatrix)},this.getCamera=function(){return y},this.getFoveation=function(){return null!==u?u.fixedFoveation:null!==d?d.fixedFoveation:void 0},this.setFoveation=function(t){null!==u&&(u.fixedFoveation=t),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=t)};let B=null;const S=new ni;S.setAnimationLoop((function(t,n){if(l=n.getViewerPose(a),null!==l){const t=l.views;null!==d&&i.bindXRFramebuffer(d.framebuffer);let n=!1;t.length!==y.cameras.length&&(y.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const o=t[r];let a=null;if(null!==d)a=d.getViewport(o);else{const t=c.getViewSubImage(u,o);i.bindXRFramebuffer(A),void 0!==t.depthStencilTexture&&e.framebufferTexture2D(36160,36096,3553,t.depthStencilTexture,0),e.framebufferTexture2D(36160,36064,3553,t.colorTexture,0),a=t.viewport}const s=g[r];s.matrix.fromArray(o.transform.matrix),s.projectionMatrix.fromArray(o.projectionMatrix),s.viewport.set(a.x,a.y,a.width,a.height),0===r&&y.matrix.copy(s.matrix),!0===n&&y.cameras.push(s)}}const o=r.inputSources;for(let t=0;t<h.length;t++){const e=h[t],i=o[t];e.update(i,n,a)}B&&B(t,n)})),this.setAnimationLoop=function(t){B=t},this.dispose=function(){}}}function Cs(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularTintMap&&(r=n.specularTintMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o,a){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e,i){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),e.transmission>0&&(t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationTint.value.copy(e.attenuationTint),t.specularIntensity.value=e.specularIntensity,t.specularTint.value.copy(e.specularTint),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap),e.specularTintMap&&(t.specularTintMap.value=e.specularTintMap)}(t,i,a):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Bs(t={}){const e=void 0!==t.canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",A=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let u=null,d=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Re,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const f=this;let m=!1,g=0,y=0,v=null,_=-1,w=null;const x=new fn,b=new fn;let M=null,L=e.width,C=e.height,B=1,S=null,E=null;const T=new fn(0,0,L,C),D=new fn(0,0,L,C);let I=!1;const P=[],k=new Gn;let F=!1,U=!1,R=null;const O=new Kn,H=new yn,Y={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Q(){return null===v?B:1}let j,N,W,V,z,G,K,Z,X,q,J,$,tt,et,nt,it,rt,ot,at,st,lt,ct,At,ut=n;function dt(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:i,depth:r,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:A};if(e.addEventListener("webglcontextlost",ft,!1),e.addEventListener("webglcontextrestored",mt,!1),null===ut){const e=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&e.shift(),ut=dt(e,t),null===ut)throw dt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ut.getShaderPrecisionFormat&&(ut.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function ht(){j=new Mo(ut),N=new Nr(ut,j,t),j.init(N),ct=new _s(ut,j,N),W=new ys(ut,j,N),P[0]=1029,V=new Bo,z=new rs,G=new vs(ut,j,W,z,N,ct,V),K=new qr(f),Z=new bo(f),X=new ii(ut,N),At=new Qr(ut,j,X,N),q=new Lo(ut,X,V,At),J=new Io(ut,q,X,V),at=new To(ut),it=new Wr(z),$=new is(f,K,Z,j,N,At,it),tt=new Cs(z),et=new ls(z),nt=new ps(j,N),ot=new Yr(f,K,W,J,s),rt=new gs(f,J,N),st=new jr(ut,j,V,N),lt=new Co(ut,j,V,N),V.programs=$.programs,f.capabilities=N,f.extensions=j,f.properties=z,f.renderLists=et,f.shadowMap=rt,f.state=W,f.info=V}ht();const pt=new Ls(f,ut);function ft(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const t=V.autoReset,e=rt.enabled,n=rt.autoUpdate,i=rt.needsUpdate,r=rt.type;ht(),V.autoReset=t,rt.enabled=e,rt.autoUpdate=n,rt.needsUpdate=i,rt.type=r}function gt(t){const e=t.target;e.removeEventListener("dispose",gt),function(t){(function(t){const e=z.get(t).programs;void 0!==e&&e.forEach((function(t){$.releaseProgram(t)}))})(t),z.remove(t)}(e)}this.xr=pt,this.getContext=function(){return ut},this.getContextAttributes=function(){return ut.getContextAttributes()},this.forceContextLoss=function(){const t=j.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=j.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(L,C,!1))},this.getSize=function(t){return t.set(L,C)},this.setSize=function(t,n,i){pt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(L=t,C=n,e.width=Math.floor(t*B),e.height=Math.floor(n*B),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(L*B,C*B).floor()},this.setDrawingBufferSize=function(t,n,i){L=t,C=n,B=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(x)},this.getViewport=function(t){return t.copy(T)},this.setViewport=function(t,e,n,i){t.isVector4?T.set(t.x,t.y,t.z,t.w):T.set(t,e,n,i),W.viewport(x.copy(T).multiplyScalar(B).floor())},this.getScissor=function(t){return t.copy(D)},this.setScissor=function(t,e,n,i){t.isVector4?D.set(t.x,t.y,t.z,t.w):D.set(t,e,n,i),W.scissor(b.copy(D).multiplyScalar(B).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(t){W.setScissorTest(I=t)},this.setOpaqueSort=function(t){S=t},this.setTransparentSort=function(t){E=t},this.getClearColor=function(t){return t.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor.apply(ot,arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha.apply(ot,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),ut.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ft,!1),e.removeEventListener("webglcontextrestored",mt,!1),et.dispose(),nt.dispose(),z.dispose(),K.dispose(),Z.dispose(),J.dispose(),At.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",vt),pt.removeEventListener("sessionend",_t),R&&(R.dispose(),R=null),wt.stop()},this.renderBufferImmediate=function(t,e){At.initAttributes();const n=z.get(t);t.hasPositions&&!n.position&&(n.position=ut.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ut.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ut.createBuffer()),t.hasColors&&!n.color&&(n.color=ut.createBuffer());const i=e.getAttributes();t.hasPositions&&(ut.bindBuffer(34962,n.position),ut.bufferData(34962,t.positionArray,35048),At.enableAttribute(i.position),ut.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(ut.bindBuffer(34962,n.normal),ut.bufferData(34962,t.normalArray,35048),At.enableAttribute(i.normal),ut.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(ut.bindBuffer(34962,n.uv),ut.bufferData(34962,t.uvArray,35048),At.enableAttribute(i.uv),ut.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(ut.bindBuffer(34962,n.color),ut.bufferData(34962,t.colorArray,35048),At.enableAttribute(i.color),ut.vertexAttribPointer(i.color,3,5126,!1,0,0)),At.disableUnusedAttributes(),ut.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=Y);const a=r.isMesh&&r.matrixWorld.determinant()<0,s=Bt(t,e,i,r);W.setMaterial(i,a);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let A,u=1;!0===i.wireframe&&(l=q.getWireframeAttribute(n),u=2),void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||at.update(r,n,i,s),At.setup(r,i,s,n,l);let d=st;null!==l&&(A=X.get(l),d=lt,d.setIndex(A));const h=null!==l?l.count:c.count,p=n.drawRange.start*u,f=n.drawRange.count*u,m=null!==o?o.start*u:0,g=null!==o?o.count*u:1/0,y=Math.max(p,m),v=Math.min(h,p+f,m+g)-1,_=Math.max(0,v-y+1);if(0!==_){if(r.isMesh)!0===i.wireframe?(W.setLineWidth(i.wireframeLinewidth*Q()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),W.setLineWidth(t*Q()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,_,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,t)}else d.render(y,_)}},this.compile=function(t,e){d=nt.get(t),d.init(),p.push(d),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights(),t.traverse((function(e){const n=e.material;if(n)if(Array.isArray(n))for(let i=0;i<n.length;i++)Lt(n[i],t,e);else Lt(n,t,e)})),p.pop(),d=null};let yt=null;function vt(){wt.stop()}function _t(){wt.start()}const wt=new ni;function xt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||k.intersectsSprite(t)){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(O);const e=J.update(t),r=t.material;r.visible&&u.push(t,e,r,n,H.z,null)}}else if(t.isImmediateRenderObject)i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(O),u.push(t,null,t.material,n,H.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==V.render.frame&&(t.skeleton.update(),t.skeleton.frame=V.render.frame),!t.frustumCulled||k.intersectsObject(t))){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(O);const e=J.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r[a.materialIndex];s&&s.visible&&u.push(t,e,s,n,H.z,a)}}else r.visible&&u.push(t,e,r,n,H.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)xt(r[t],e,n,i)}function bt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;if(n.isArrayCamera){const r=n.cameras;for(let n=0,o=r.length;n<o;n++){const o=r[n];W.viewport(x.copy(o.viewport)),d.setupLightsView(o);for(let n=0,r=t.length;n<r;n++){const r=t[n],a=r.object,s=r.geometry,l=null===i?r.material:i,c=r.group;a.layers.test(o.layers)&&Mt(a,e,o,s,l,c)}}}else for(let r=0,o=t.length;r<o;r++){const o=t[r];Mt(o.object,e,n,o.geometry,null===i?o.material:i,o.group)}}function Mt(t,e,n,i,r,o){if(t.onBeforeRender(f,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=Bt(n,e,r,t);W.setMaterial(r),At.reset(),function(t,e){t.render((function(t){f.renderBufferImmediate(t,e)}))}(t,i)}else!0===r.transparent&&2===r.side?(r.side=1,r.needsUpdate=!0,f.renderBufferDirect(n,e,i,r,t,o),r.side=0,r.needsUpdate=!0,f.renderBufferDirect(n,e,i,r,t,o),r.side=2):f.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(f,e,n,i,r,o)}function Lt(t,e,n){!0!==e.isScene&&(e=Y);const i=z.get(t),r=d.state.lights,o=d.state.shadowsArray,a=r.state.version,s=$.getParameters(t,r.state,o,e,n),l=$.getProgramCacheKey(s);let c=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?Z:K).get(t.envMap||i.environment),void 0===c&&(t.addEventListener("dispose",gt),c=new Map,i.programs=c);let A=c.get(l);if(void 0!==A){if(i.currentProgram===A&&i.lightsStateVersion===a)return Ct(t,s),A}else s.uniforms=$.getUniforms(t),t.onBuild(s,f),t.onBeforeCompile(s,f),A=$.acquireProgram(s,l),c.set(l,A),i.uniforms=s.uniforms;const u=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(u.clippingPlanes=it.uniform),Ct(t,s),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(u.ambientLightColor.value=r.state.ambient,u.lightProbe.value=r.state.probe,u.directionalLights.value=r.state.directional,u.directionalLightShadows.value=r.state.directionalShadow,u.spotLights.value=r.state.spot,u.spotLightShadows.value=r.state.spotShadow,u.rectAreaLights.value=r.state.rectArea,u.ltc_1.value=r.state.rectAreaLTC1,u.ltc_2.value=r.state.rectAreaLTC2,u.pointLights.value=r.state.point,u.pointLightShadows.value=r.state.pointShadow,u.hemisphereLights.value=r.state.hemi,u.directionalShadowMap.value=r.state.directionalShadowMap,u.directionalShadowMatrix.value=r.state.directionalShadowMatrix,u.spotShadowMap.value=r.state.spotShadowMap,u.spotShadowMatrix.value=r.state.spotShadowMatrix,u.pointShadowMap.value=r.state.pointShadowMap,u.pointShadowMatrix.value=r.state.pointShadowMatrix);const h=A.getUniforms(),p=Ua.seqWithValue(h.seq,u);return i.currentProgram=A,i.uniformsList=p,A}function Ct(t,e){const n=z.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents}function Bt(t,e,n,i){!0!==e.isScene&&(e=Y),G.resetTextureUnits();const r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,a=null===v?f.outputEncoding:v.texture.encoding,s=(n.isMeshStandardMaterial?Z:K).get(n.envMap||o),l=!0===n.vertexColors&&!!i.geometry&&!!i.geometry.attributes.color&&4===i.geometry.attributes.color.itemSize,c=!!i.geometry&&!!i.geometry.attributes.tangent,A=!!i.geometry&&!!i.geometry.morphAttributes.position,u=!!i.geometry&&!!i.geometry.morphAttributes.normal,h=z.get(n),p=d.state.lights;if(!0===F&&(!0===U||t!==w)){const e=t===w&&n.id===_;it.setState(n,t,e)}let m=!1;n.version===h.__version?h.needsLights&&h.lightsStateVersion!==p.state.version||h.outputEncoding!==a||i.isInstancedMesh&&!1===h.instancing?m=!0:i.isInstancedMesh||!0!==h.instancing?i.isSkinnedMesh&&!1===h.skinning?m=!0:i.isSkinnedMesh||!0!==h.skinning?h.envMap!==s||n.fog&&h.fog!==r?m=!0:void 0===h.numClippingPlanes||h.numClippingPlanes===it.numPlanes&&h.numIntersection===it.numIntersection?(h.vertexAlphas!==l||h.vertexTangents!==c||h.morphTargets!==A||h.morphNormals!==u)&&(m=!0):m=!0:m=!0:m=!0:(m=!0,h.__version=n.version);let g=h.currentProgram;!0===m&&(g=Lt(n,e,i));let y=!1,x=!1,b=!1;const M=g.getUniforms(),L=h.uniforms;if(W.useProgram(g.program)&&(y=!0,x=!0,b=!0),n.id!==_&&(_=n.id,x=!0),y||w!==t){if(M.setValue(ut,"projectionMatrix",t.projectionMatrix),N.logarithmicDepthBuffer&&M.setValue(ut,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,x=!0,b=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=M.map.cameraPosition;void 0!==e&&e.setValue(ut,H.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&M.setValue(ut,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||i.isSkinnedMesh)&&M.setValue(ut,"viewMatrix",t.matrixWorldInverse)}if(i.isSkinnedMesh){M.setOptional(ut,i,"bindMatrix"),M.setOptional(ut,i,"bindMatrixInverse");const t=i.skeleton;t&&(N.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),M.setValue(ut,"boneTexture",t.boneTexture,G),M.setValue(ut,"boneTextureSize",t.boneTextureSize)):M.setOptional(ut,t,"boneMatrices"))}return(x||h.receiveShadow!==i.receiveShadow)&&(h.receiveShadow=i.receiveShadow,M.setValue(ut,"receiveShadow",i.receiveShadow)),x&&(M.setValue(ut,"toneMappingExposure",f.toneMappingExposure),h.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(L,b),r&&n.fog&&tt.refreshFogUniforms(L,r),tt.refreshMaterialUniforms(L,n,B,C,R),Ua.upload(ut,h.uniformsList,L,G)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ua.upload(ut,h.uniformsList,L,G),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(ut,"center",i.center),M.setValue(ut,"modelViewMatrix",i.modelViewMatrix),M.setValue(ut,"normalMatrix",i.normalMatrix),M.setValue(ut,"modelMatrix",i.matrixWorld),g}wt.setAnimationLoop((function(t){yt&&yt(t)})),"undefined"!=typeof window&&wt.setContext(window),this.setAnimationLoop=function(t){yt=t,pt.setAnimationLoop(t),null===t?wt.stop():wt.start()},pt.addEventListener("sessionstart",vt),pt.addEventListener("sessionend",_t),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===m)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===pt.enabled&&!0===pt.isPresenting&&(!0===pt.cameraAutoUpdate&&pt.updateCamera(e),e=pt.getCamera()),!0===t.isScene&&t.onBeforeRender(f,t,e,v),d=nt.get(t,p.length),d.init(),p.push(d),O.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),k.setFromProjectionMatrix(O),U=this.localClippingEnabled,F=it.init(this.clippingPlanes,U,e),u=et.get(t,h.length),u.init(),h.push(u),xt(t,e,0,f.sortObjects),u.finish(),!0===f.sortObjects&&u.sort(S,E),!0===F&&it.beginShadows();const n=d.state.shadowsArray;rt.render(n,t,e),d.setupLights(),d.setupLightsView(e),!0===F&&it.endShadows(),!0===this.info.autoReset&&this.info.reset(),ot.render(u,t);const i=u.opaque,r=u.transmissive,o=u.transparent;i.length>0&&bt(i,t,e),r.length>0&&function(t,e,n,i){if(null===R){const t=!0===a&&!0===N.isWebGL2;R=new(t?Do:mn)(1024,1024,{generateMipmaps:!0,type:null!==ct.convert(Se)?Se:Me,minFilter:be,magFilter:ye,wrapS:me,wrapT:me})}const r=f.getRenderTarget();f.setRenderTarget(R),f.clear();const o=f.toneMapping;f.toneMapping=0,bt(t,n,i),f.toneMapping=o,G.updateMultisampleRenderTarget(R),G.updateRenderTargetMipmap(R),f.setRenderTarget(r),bt(e,n,i)}(i,r,t,e),o.length>0&&bt(o,t,e),null!==v&&(G.updateMultisampleRenderTarget(v),G.updateRenderTargetMipmap(v)),!0===t.isScene&&t.onAfterRender(f,t,e),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),At.resetDefaultState(),_=-1,w=null,p.pop(),d=p.length>0?p[p.length-1]:null,h.pop(),u=h.length>0?h[h.length-1]:null},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTarget=function(t,e=0,n=0){v=t,g=e,y=n,t&&void 0===z.get(t).__webglFramebuffer&&G.setupRenderTarget(t);let i=null,r=!1,o=!1;if(t){const n=t.texture;(n.isDataTexture3D||n.isDataTexture2DArray)&&(o=!0);const a=z.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=a[e],r=!0):i=t.isWebGLMultisampleRenderTarget?z.get(t).__webglMultisampledFramebuffer:a,x.copy(t.viewport),b.copy(t.scissor),M=t.scissorTest}else x.copy(T).multiplyScalar(B).floor(),b.copy(D).multiplyScalar(B).floor(),M=I;if(W.bindFramebuffer(36160,i)&&N.drawBuffers){let e=!1;if(t)if(t.isWebGLMultipleRenderTargets){const n=t.texture;if(P.length!==n.length||36064!==P[0]){for(let t=0,e=n.length;t<e;t++)P[t]=36064+t;P.length=n.length,e=!0}}else 1===P.length&&36064===P[0]||(P[0]=36064,P.length=1,e=!0);else 1===P.length&&1029===P[0]||(P[0]=1029,P.length=1,e=!0);e&&(N.isWebGL2?ut.drawBuffers(P):j.get("WEBGL_draw_buffers").drawBuffersWEBGL(P))}if(W.viewport(x),W.scissor(b),W.setScissorTest(M),r){const i=z.get(t.texture);ut.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}else if(o){const i=z.get(t.texture),r=e||0;ut.framebufferTextureLayer(36160,36064,i.__webglTexture,n||0,r)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,a){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=z.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){W.bindFramebuffer(36160,s);try{const a=t.texture,s=a.format,l=a.type;if(s!==De&&ct.convert(s)!==ut.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Se&&(j.has("EXT_color_buffer_half_float")||N.isWebGL2&&j.has("EXT_color_buffer_float"));if(!(l===Me||ct.convert(l)===ut.getParameter(35738)||l===Be&&(N.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ut.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ut.readPixels(e,n,i,r,ct.convert(s),ct.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const t=null!==v?z.get(v).__webglFramebuffer:null;W.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i);let a=ct.convert(e.format);N.isWebGL2&&(6407===a&&(a=32849),6408===a&&(a=32856)),G.setTexture2D(e,0),ut.copyTexImage2D(3553,n,a,t.x,t.y,r,o,0),W.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,o=e.image.height,a=ct.convert(n.format),s=ct.convert(n.type);G.setTexture2D(n,0),ut.pixelStorei(37440,n.flipY),ut.pixelStorei(37441,n.premultiplyAlpha),ut.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ut.texSubImage2D(3553,i,t.x,t.y,r,o,a,s,e.image.data):e.isCompressedTexture?ut.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):ut.texSubImage2D(3553,i,t.x,t.y,a,s,e.image),0===i&&n.generateMipmaps&&ut.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i,r=0){if(f.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=t.max.x-t.min.x+1,a=t.max.y-t.min.y+1,s=t.max.z-t.min.z+1,l=ct.convert(i.format),c=ct.convert(i.type);let A;if(i.isDataTexture3D)G.setTexture3D(i,0),A=32879;else{if(!i.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");G.setTexture2DArray(i,0),A=35866}ut.pixelStorei(37440,i.flipY),ut.pixelStorei(37441,i.premultiplyAlpha),ut.pixelStorei(3317,i.unpackAlignment);const u=ut.getParameter(3314),d=ut.getParameter(32878),h=ut.getParameter(3316),p=ut.getParameter(3315),m=ut.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ut.pixelStorei(3314,g.width),ut.pixelStorei(32878,g.height),ut.pixelStorei(3316,t.min.x),ut.pixelStorei(3315,t.min.y),ut.pixelStorei(32877,t.min.z),n.isDataTexture||n.isDataTexture3D?ut.texSubImage3D(A,r,e.x,e.y,e.z,o,a,s,l,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ut.compressedTexSubImage3D(A,r,e.x,e.y,e.z,o,a,s,l,g.data)):ut.texSubImage3D(A,r,e.x,e.y,e.z,o,a,s,l,c,g),ut.pixelStorei(3314,u),ut.pixelStorei(32878,d),ut.pixelStorei(3316,h),ut.pixelStorei(3315,p),ut.pixelStorei(32877,m),0===r&&i.generateMipmaps&&ut.generateMipmap(A),W.unbindTexture()},this.initTexture=function(t){G.setTexture2D(t,0),W.unbindTexture()},this.resetState=function(){g=0,y=0,v=null,W.reset(),At.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Ss extends ki{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}Ss.prototype.isScene=!0;class Es{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=ze,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$e()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$e()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$e()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Es.prototype.isInterleavedBuffer=!0;const Ts=new yn;class Ds{constructor(t,e,n,i=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Ts.x=this.getX(e),Ts.y=this.getY(e),Ts.z=this.getZ(e),Ts.applyMatrix4(t),this.setXYZ(e,Ts.x,Ts.y,Ts.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Ts.x=this.getX(e),Ts.y=this.getY(e),Ts.z=this.getZ(e),Ts.applyNormalMatrix(t),this.setXYZ(e,Ts.x,Ts.y,Ts.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Ts.x=this.getX(e),Ts.y=this.getY(e),Ts.z=this.getZ(e),Ts.transformDirection(t),this.setXYZ(e,Ts.x,Ts.y,Ts.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new hi(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ds(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ds.prototype.isInterleavedBufferAttribute=!0;class Is extends Gi{constructor(t){super(),this.type="SpriteMaterial",this.color=new Ai(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let Ps;Is.prototype.isSpriteMaterial=!0;const ks=new yn,Fs=new yn,Us=new yn,Rs=new ln,Os=new ln,Hs=new Kn,Ys=new yn,Qs=new yn,js=new yn,Ns=new ln,Ws=new ln,Vs=new ln;class zs extends ki{constructor(t){if(super(),this.type="Sprite",void 0===Ps){Ps=new Ni;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Es(t,5);Ps.setIndex([0,1,2,0,2,3]),Ps.setAttribute("position",new Ds(e,3,0,!1)),Ps.setAttribute("uv",new Ds(e,2,3,!1))}this.geometry=Ps,this.material=void 0!==t?t:new Is,this.center=new ln(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fs.setFromMatrixScale(this.matrixWorld),Hs.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Us.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fs.multiplyScalar(-Us.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Gs(Ys.set(-.5,-.5,0),Us,o,Fs,i,r),Gs(Qs.set(.5,-.5,0),Us,o,Fs,i,r),Gs(js.set(.5,.5,0),Us,o,Fs,i,r),Ns.set(0,0),Ws.set(1,0),Vs.set(1,1);let a=t.ray.intersectTriangle(Ys,Qs,js,!1,ks);if(null===a&&(Gs(Qs.set(-.5,.5,0),Us,o,Fs,i,r),Ws.set(0,1),a=t.ray.intersectTriangle(Ys,js,Qs,!1,ks),null===a))return;const s=t.ray.origin.distanceTo(ks);s<t.near||s>t.far||e.push({distance:s,point:ks.clone(),uv:mr.getUV(ks,Ys,Qs,js,Ns,Ws,Vs,new ln),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Gs(t,e,n,i,r,o){Rs.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Os.x=o*Rs.x-r*Rs.y,Os.y=r*Rs.x+o*Rs.y):Os.copy(Rs),t.copy(e),t.x+=Os.x,t.y+=Os.y,t.applyMatrix4(Hs)}zs.prototype.isSprite=!0;const Ks=new yn,Zs=new fn,Xs=new fn,qs=new yn,Js=new Kn;class $s extends Fr{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Kn,this.bindMatrixInverse=new Kn}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new fn,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,i=this.geometry;Zs.fromBufferAttribute(i.attributes.skinIndex,t),Xs.fromBufferAttribute(i.attributes.skinWeight,t),Ks.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const i=Xs.getComponent(t);if(0!==i){const r=Zs.getComponent(t);Js.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(qs.copy(Ks).applyMatrix4(Js),i)}}return e.applyMatrix4(this.bindMatrixInverse)}}$s.prototype.isSkinnedMesh=!0;class tl extends ki{constructor(){super(),this.type="Bone"}}tl.prototype.isBone=!0;class el extends hn{constructor(t=null,e=1,n=1,i,r,o,a,s,l=ye,c=ye,A,u){super(null,o,a,s,l,c,i,r,A,u),this.image={data:t,width:e,height:n},this.magFilter=l,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}el.prototype.isDataTexture=!0;const nl=new Kn,il=new Kn;class rl{constructor(t=[],e=[]){this.uuid=$e(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Kn)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Kn;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:il;nl.multiplyMatrices(r,e[i]),nl.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new rl(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=on(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new el(e,t,t,De,Be);return this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new tl),this.bones.push(r),this.boneInverses.push((new Kn).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}}const ol=new Kn,al=new Kn,sl=[],ll=new Fr;(class extends Fr{constructor(t,e,n){super(t,e),this.instanceMatrix=new hi(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,i=this.count;if(ll.geometry=this.geometry,ll.material=this.material,void 0!==ll.material)for(let r=0;r<i;r++){this.getMatrixAt(r,ol),al.multiplyMatrices(n,ol),ll.matrixWorld=al,ll.raycast(t,sl);for(let t=0,n=sl.length;t<n;t++){const n=sl[t];n.instanceId=r,n.object=this,e.push(n)}sl.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new hi(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class cl extends Gi{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Ai(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}cl.prototype.isLineBasicMaterial=!0;const Al=new yn,ul=new yn,dl=new Kn,hl=new or,pl=new Yn;class fl extends ki{constructor(t=new Ni,e=new cl){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)Al.fromBufferAttribute(e,t-1),ul.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Al.distanceTo(ul);t.setAttribute("lineDistance",new mi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pl.copy(n.boundingSphere),pl.applyMatrix4(i),pl.radius+=r,!1===t.ray.intersectsSphere(pl))return;dl.copy(i).invert(),hl.copy(t.ray).applyMatrix4(dl);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new yn,c=new yn,A=new yn,u=new yn,d=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i)for(let n=Math.max(0,o.start),a=Math.min(i.count,o.start+o.count)-1;n<a;n+=d){const o=i.getX(n),a=i.getX(n+1);if(l.fromBufferAttribute(r,o),c.fromBufferAttribute(r,a),hl.distanceSqToSegment(l,c,u,A)>s)continue;u.applyMatrix4(this.matrixWorld);const d=t.ray.origin.distanceTo(u);d<t.near||d>t.far||e.push({distance:d,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}else for(let n=Math.max(0,o.start),i=Math.min(r.count,o.start+o.count)-1;n<i;n+=d){if(l.fromBufferAttribute(r,n),c.fromBufferAttribute(r,n+1),hl.distanceSqToSegment(l,c,u,A)>s)continue;u.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(u);i<t.near||i>t.far||e.push({distance:i,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}fl.prototype.isLine=!0;const ml=new yn,gl=new yn;class yl extends fl{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)ml.fromBufferAttribute(e,t),gl.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+ml.distanceTo(gl);t.setAttribute("lineDistance",new mi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}yl.prototype.isLineSegments=!0;class vl extends fl{constructor(t,e){super(t,e),this.type="LineLoop"}}vl.prototype.isLineLoop=!0;class _l extends Gi{constructor(t){super(),this.type="PointsMaterial",this.color=new Ai(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}_l.prototype.isPointsMaterial=!0;const wl=new Kn,xl=new or,bl=new Yn,Ml=new yn;class Ll extends ki{constructor(t=new Ni,e=new _l){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),bl.copy(n.boundingSphere),bl.applyMatrix4(i),bl.radius+=r,!1===t.ray.intersectsSphere(bl))return;wl.copy(i).invert(),xl.copy(t.ray).applyMatrix4(wl);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){const r=n.index,a=n.attributes.position;if(null!==r)for(let n=Math.max(0,o.start),l=Math.min(r.count,o.start+o.count);n<l;n++){const o=r.getX(n);Ml.fromBufferAttribute(a,o),Cl(Ml,o,s,i,t,e,this)}else for(let n=Math.max(0,o.start),r=Math.min(a.count,o.start+o.count);n<r;n++)Ml.fromBufferAttribute(a,n),Cl(Ml,n,s,i,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function Cl(t,e,n,i,r,o,a){const s=xl.distanceSqToPoint(t);if(s<n){const n=new yn;xl.closestPointToPoint(t,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:e,face:null,object:a})}}Ll.prototype.isPoints=!0;class Bl extends hn{constructor(t,e,n,i,r,o,a,s,l){super(t,e,n,i,r,o,a,s,l),this.needsUpdate=!0}}Bl.prototype.isCanvasTexture=!0;class Sl extends Ni{constructor(t=1,e=8,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},e=Math.max(3,e);const r=[],o=[],a=[],s=[],l=new yn,c=new ln;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let r=0,A=3;r<=e;r++,A+=3){const u=n+r/e*i;l.x=t*Math.cos(u),l.y=t*Math.sin(u),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[A]/t+1)/2,c.y=(o[A+1]/t+1)/2,s.push(c.x,c.y)}for(let t=1;t<=e;t++)r.push(t,t+1,0);this.setIndex(r),this.setAttribute("position",new mi(o,3)),this.setAttribute("normal",new mi(a,3)),this.setAttribute("uv",new mi(s,2))}static fromJSON(t){return new Sl(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class El{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let i=0;const r=n.length;let o;o=e||t*n[r-1];let a,s=0,l=r-1;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),a=n[i]-o,a<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)}getTangent(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),a=this.getPoint(r),s=e||(o.isVector2?new ln:new yn);return s.copy(a).sub(o).normalize(),s}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new yn,i=[],r=[],o=[],a=new yn,s=new Kn;for(let e=0;e<=t;e++){const n=e/t;i[e]=this.getTangentAt(n,new yn),i[e].normalize()}r[0]=new yn,o[0]=new yn;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),A=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),A<=l&&(l=A,n.set(0,1,0)),u<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),o[e]=o[e-1].clone(),a.crossVectors(i[e-1],i[e]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(tn(i[e-1].dot(i[e]),-1,1));r[e].applyMatrix4(s.makeRotationAxis(a,t))}o[e].crossVectors(i[e],r[e])}if(!0===e){let e=Math.acos(tn(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(a.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(s.makeRotationAxis(i[n],e*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Tl extends El{constructor(t=0,e=0,n=1,i=1,r=0,o=2*Math.PI,a=!1,s=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(t,e){const n=e||new ln,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const a=this.aStartAngle+t*r;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,i=l-this.aY;s=n*t-i*e+this.aX,l=n*e+i*t+this.aY}return n.set(s,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Tl.prototype.isEllipseCurve=!0;class Dl extends Tl{constructor(t,e,n,i,r,o){super(t,e,n,n,i,r,o),this.type="ArcCurve"}}function Il(){let t=0,e=0,n=0,i=0;function r(r,o,a,s){t=r,e=a,n=-3*r+3*o-2*a-s,i=2*r-2*o+a+s}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,a,s){let l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,c=(n-e)/a-(i-e)/(a+s)+(i-n)/s;l*=a,c*=a,r(e,n,l,c)},calc:function(r){const o=r*r;return t+e*r+n*o+i*(o*r)}}}Dl.prototype.isArcCurve=!0;const Pl=new yn,kl=new Il,Fl=new Il,Ul=new Il;class Rl extends El{constructor(t=[],e=!1,n="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}getPoint(t,e=new yn){const n=e,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?a=i[(l-1)%r]:(Pl.subVectors(i[0],i[1]).add(i[0]),a=Pl);const A=i[l%r],u=i[(l+1)%r];if(this.closed||l+2<r?s=i[(l+2)%r]:(Pl.subVectors(i[r-1],i[r-2]).add(i[r-1]),s=Pl),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(A),t),n=Math.pow(A.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(s),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),kl.initNonuniformCatmullRom(a.x,A.x,u.x,s.x,e,n,i),Fl.initNonuniformCatmullRom(a.y,A.y,u.y,s.y,e,n,i),Ul.initNonuniformCatmullRom(a.z,A.z,u.z,s.z,e,n,i)}else"catmullrom"===this.curveType&&(kl.initCatmullRom(a.x,A.x,u.x,s.x,this.tension),Fl.initCatmullRom(a.y,A.y,u.y,s.y,this.tension),Ul.initCatmullRom(a.z,A.z,u.z,s.z,this.tension));return n.set(kl.calc(c),Fl.calc(c),Ul.calc(c)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new yn).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Ol(t,e,n,i,r){const o=.5*(i-e),a=.5*(r-n),s=t*t;return(2*n-2*i+o+a)*(t*s)+(-3*n+3*i-2*o-a)*s+o*t+n}function Hl(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Yl(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}Rl.prototype.isCatmullRomCurve3=!0;class Ql extends El{constructor(t=new ln,e=new ln,n=new ln,i=new ln){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new ln){const n=e,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Yl(t,i.x,r.x,o.x,a.x),Yl(t,i.y,r.y,o.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Ql.prototype.isCubicBezierCurve=!0;class jl extends El{constructor(t=new yn,e=new yn,n=new yn,i=new yn){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new yn){const n=e,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Yl(t,i.x,r.x,o.x,a.x),Yl(t,i.y,r.y,o.y,a.y),Yl(t,i.z,r.z,o.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}jl.prototype.isCubicBezierCurve3=!0;class Nl extends El{constructor(t=new ln,e=new ln){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ln){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new ln;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Nl.prototype.isLineCurve=!0;class Wl extends El{constructor(t=new ln,e=new ln,n=new ln){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new ln){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(Hl(t,i.x,r.x,o.x),Hl(t,i.y,r.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Wl.prototype.isQuadraticBezierCurve=!0;class Vl extends El{constructor(t=new yn,e=new yn,n=new yn){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new yn){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(Hl(t,i.x,r.x,o.x),Hl(t,i.y,r.y,o.y),Hl(t,i.z,r.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Vl.prototype.isQuadraticBezierCurve3=!0;class zl extends El{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new ln){const n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),a=r-o,s=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],A=i[o>i.length-3?i.length-1:o+2];return n.set(Ol(a,s.x,l.x,c.x,A.x),Ol(a,s.y,l.y,c.y,A.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new ln).fromArray(n))}return this}}zl.prototype.isSplineCurve=!0;var Gl=Object.freeze({__proto__:null,ArcCurve:Dl,CatmullRomCurve3:Rl,CubicBezierCurve:Ql,CubicBezierCurve3:jl,EllipseCurve:Tl,LineCurve:Nl,LineCurve3:class extends El{constructor(t=new yn,e=new yn){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new yn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:Wl,QuadraticBezierCurve3:Vl,SplineCurve:zl});function Kl(t,e,n,i,r){let o,a;if(r===function(t,e,n,i){let r=0;for(let o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)a=fc(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=fc(o,t[o],t[o+1],a);return a&&cc(a,a.next)&&(mc(a),a=a.next),a}function Zl(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!cc(i,i.next)&&0!==lc(i.prev,i,i.next))i=i.next;else{if(mc(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function Xl(t,e,n,i,r,o,a){if(!t)return;!a&&o&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=rc(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ,i);e++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(t,i,r,o);let s,l,c=t;for(;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Jl(t,i,r,o):ql(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),mc(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?Xl(t=$l(Zl(t),e,n),e,n,i,r,o,2):2===a&&tc(t,e,n,i,r,o):Xl(Zl(t),e,n,i,r,o,1);break}}function ql(t){const e=t.prev,n=t,i=t.next;if(lc(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(ac(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&lc(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Jl(t,e,n,i){const r=t.prev,o=t,a=t.next;if(lc(r,o,a)>=0)return!1;const s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,c=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,A=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,u=rc(s,l,e,n,i),d=rc(c,A,e,n,i);let h=t.prevZ,p=t.nextZ;for(;h&&h.z>=u&&p&&p.z<=d;){if(h!==t.prev&&h!==t.next&&ac(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&lc(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&ac(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&lc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=u;){if(h!==t.prev&&h!==t.next&&ac(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&lc(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&ac(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&lc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function $l(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!cc(r,o)&&Ac(r,i,i.next,o)&&hc(r,o)&&hc(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),mc(i),mc(i.next),i=t=o),i=i.next}while(i!==t);return Zl(i)}function tc(t,e,n,i,r,o){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&sc(a,t)){let s=pc(a,t);return a=Zl(a,a.next),s=Zl(s,s.next),Xl(a,e,n,i,r,o),void Xl(s,e,n,i,r,o)}t=t.next}a=a.next}while(a!==t)}function ec(t,e){return t.x-e.x}function nc(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let o,a=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>a){if(a=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(i===a)return o;const s=o,l=o.x,c=o.y;let A,u=1/0;n=o;do{i>=n.x&&n.x>=l&&i!==n.x&&ac(r<c?i:a,r,l,c,r<c?a:i,r,n.x,n.y)&&(A=Math.abs(r-n.y)/(i-n.x),hc(n,t)&&(A<u||A===u&&(n.x>o.x||n.x===o.x&&ic(o,n)))&&(o=n,u=A)),n=n.next}while(n!==s);return o}(t,e),e){const n=pc(e,t);Zl(e,e.next),Zl(n,n.next)}}function ic(t,e){return lc(t.prev,t,e.prev)<0&&lc(e.next,t,t.next)<0}function rc(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function oc(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ac(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function sc(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ac(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(hc(t,e)&&hc(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(lc(t.prev,t,e.prev)||lc(t,e.prev,e))||cc(t,e)&&lc(t.prev,t,t.next)>0&&lc(e.prev,e,e.next)>0)}function lc(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function cc(t,e){return t.x===e.x&&t.y===e.y}function Ac(t,e,n,i){const r=dc(lc(t,e,n)),o=dc(lc(t,e,i)),a=dc(lc(n,i,t)),s=dc(lc(n,i,e));return r!==o&&a!==s||!(0!==r||!uc(t,n,e))||!(0!==o||!uc(t,i,e))||!(0!==a||!uc(n,t,i))||!(0!==s||!uc(n,e,i))}function uc(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function dc(t){return t>0?1:t<0?-1:0}function hc(t,e){return lc(t.prev,t,t.next)<0?lc(t,e,t.next)>=0&&lc(t,t.prev,e)>=0:lc(t,e,t.prev)<0||lc(t,t.next,e)<0}function pc(t,e){const n=new gc(t.i,t.x,t.y),i=new gc(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function fc(t,e,n,i){const r=new gc(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function mc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function gc(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class yc{static area(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n}static isClockWise(t){return yc.area(t)<0}static triangulateShape(t,e){const n=[],i=[],r=[];vc(t),_c(n,t);let o=t.length;e.forEach(vc);for(let t=0;t<e.length;t++)i.push(o),o+=e[t].length,_c(n,e[t]);const a=function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let o=Kl(t,0,r,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,A,u,d,h;if(i&&(o=function(t,e,n,i){const r=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*i,l=o<a-1?e[o+1]*i:t.length,c=Kl(t,s,l,i,!1),c===c.next&&(c.steiner=!0),r.push(oc(c));for(r.sort(ec),o=0;o<r.length;o++)nc(r[o],n),n=Zl(n,n.next);return n}(t,e,o,n)),t.length>80*n){s=c=t[0],l=A=t[1];for(let e=n;e<r;e+=n)u=t[e],d=t[e+1],u<s&&(s=u),d<l&&(l=d),u>c&&(c=u),d>A&&(A=d);h=Math.max(c-s,A-l),h=0!==h?1/h:0}return Xl(o,a,n,s,l,h),a}(n,i);for(let t=0;t<a.length;t+=3)r.push(a.slice(t,t+3));return r}}function vc(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function _c(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class wc extends Ni{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let e=0,n=t.length;e<n;e++)o(t[e]);function o(t){const o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1;let l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,A=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:A-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,h=void 0!==e.bevelSegments?e.bevelSegments:3;const p=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:xc;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);let m,g,y,v,_,w=!1;p&&(m=p.getSpacedPoints(s),w=!0,c=!1,g=p.computeFrenetFrames(s,!1),y=new yn,v=new yn,_=new yn),c||(h=0,A=0,u=0,d=0);const x=t.extractPoints(a);let b=x.shape;const M=x.holes;if(!yc.isClockWise(b)){b=b.reverse();for(let t=0,e=M.length;t<e;t++){const e=M[t];yc.isClockWise(e)&&(M[t]=e.reverse())}}const L=yc.triangulateShape(b,M),C=b;for(let t=0,e=M.length;t<e;t++){const e=M[t];b=b.concat(e)}function B(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const S=b.length,E=L.length;function T(t,e,n){let i,r,o;const a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,c=n.y-t.y,A=a*a+s*s,u=a*c-s*l;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(A),d=Math.sqrt(l*l+c*c),h=e.x-s/u,p=e.y+a/u,f=((n.x-c/d-h)*c-(n.y+l/d-p)*l)/(a*c-s*l);i=h+a*f-t.x,r=p+s*f-t.y;const m=i*i+r*r;if(m<=2)return new ln(i,r);o=Math.sqrt(m/2)}else{let t=!1;a>Number.EPSILON?l>Number.EPSILON&&(t=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(s)===Math.sign(c)&&(t=!0),t?(i=-s,r=a,o=Math.sqrt(A)):(i=a,r=s,o=Math.sqrt(A/2))}return new ln(i/o,r/o)}const D=[];for(let t=0,e=C.length,n=e-1,i=t+1;t<e;t++,n++,i++)n===e&&(n=0),i===e&&(i=0),D[t]=T(C[t],C[n],C[i]);const I=[];let P,k=D.concat();for(let t=0,e=M.length;t<e;t++){const e=M[t];P=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),P[t]=T(e[t],e[i],e[r]);I.push(P),k=k.concat(P)}for(let t=0;t<h;t++){const e=t/h,n=A*Math.cos(e*Math.PI/2),i=u*Math.sin(e*Math.PI/2)+d;for(let t=0,e=C.length;t<e;t++){const e=B(C[t],D[t],i);R(e.x,e.y,-n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];P=I[t];for(let t=0,r=e.length;t<r;t++){const r=B(e[t],P[t],i);R(r.x,r.y,-n)}}}const F=u+d;for(let t=0;t<S;t++){const e=c?B(b[t],k[t],F):b[t];w?(v.copy(g.normals[0]).multiplyScalar(e.x),y.copy(g.binormals[0]).multiplyScalar(e.y),_.copy(m[0]).add(v).add(y),R(_.x,_.y,_.z)):R(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<S;e++){const n=c?B(b[e],k[e],F):b[e];w?(v.copy(g.normals[t]).multiplyScalar(n.x),y.copy(g.binormals[t]).multiplyScalar(n.y),_.copy(m[t]).add(v).add(y),R(_.x,_.y,_.z)):R(n.x,n.y,l/s*t)}for(let t=h-1;t>=0;t--){const e=t/h,n=A*Math.cos(e*Math.PI/2),i=u*Math.sin(e*Math.PI/2)+d;for(let t=0,e=C.length;t<e;t++){const e=B(C[t],D[t],i);R(e.x,e.y,l+n)}for(let t=0,e=M.length;t<e;t++){const e=M[t];P=I[t];for(let t=0,r=e.length;t<r;t++){const r=B(e[t],P[t],i);w?R(r.x,r.y+m[s-1].y,m[s-1].x+n):R(r.x,r.y,l+n)}}}function U(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=s+2*h;t<n;t++){const n=S*t,o=S*(t+1);H(e+i+n,e+r+n,e+r+o,e+i+o)}}}function R(t,e,n){o.push(t),o.push(e),o.push(n)}function O(t,e,r){Y(t),Y(e),Y(r);const o=i.length/3,a=f.generateTopUV(n,i,o-3,o-2,o-1);Q(a[0]),Q(a[1]),Q(a[2])}function H(t,e,r,o){Y(t),Y(e),Y(o),Y(e),Y(r),Y(o);const a=i.length/3,s=f.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);Q(s[0]),Q(s[1]),Q(s[3]),Q(s[1]),Q(s[2]),Q(s[3])}function Y(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function Q(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(c){let t=0,e=S*t;for(let t=0;t<E;t++){const n=L[t];O(n[2]+e,n[1]+e,n[0]+e)}t=s+2*h,e=S*t;for(let t=0;t<E;t++){const n=L[t];O(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<E;t++){const e=L[t];O(e[2],e[1],e[0])}for(let t=0;t<E;t++){const e=L[t];O(e[0]+S*s,e[1]+S*s,e[2]+S*s)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;U(C,e),e+=C.length;for(let t=0,n=M.length;t<n;t++){const n=M[t];U(n,e),e+=n.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new mi(i,3)),this.setAttribute("uv",new mi(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let i=0,r=t.shapes.length;i<r;i++){const r=e[t.shapes[i]];n.push(r)}const i=t.options.extrudePath;return void 0!==i&&(t.options.extrudePath=(new Gl[i.type]).fromJSON(i)),new wc(n,t.options)}}const xc={generateTopUV:function(t,e,n,i,r){const o=e[3*n],a=e[3*n+1],s=e[3*i],l=e[3*i+1],c=e[3*r],A=e[3*r+1];return[new ln(o,a),new ln(s,l),new ln(c,A)]},generateSideWallUV:function(t,e,n,i,r,o){const a=e[3*n],s=e[3*n+1],l=e[3*n+2],c=e[3*i],A=e[3*i+1],u=e[3*i+2],d=e[3*r],h=e[3*r+1],p=e[3*r+2],f=e[3*o],m=e[3*o+1],g=e[3*o+2];return Math.abs(s-A)<Math.abs(a-c)?[new ln(a,1-l),new ln(c,1-u),new ln(d,1-p),new ln(f,1-g)]:[new ln(s,1-l),new ln(A,1-u),new ln(h,1-p),new ln(m,1-g)]}};class bc extends Ni{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],o=[];let a=0,s=0;if(!1===Array.isArray(t))l(t);else for(let e=0;e<t.length;e++)l(t[e]),this.addGroup(a,s,e),a+=s,s=0;function l(t){const a=i.length/3,l=t.extractPoints(e);let c=l.shape;const A=l.holes;!1===yc.isClockWise(c)&&(c=c.reverse());for(let t=0,e=A.length;t<e;t++){const e=A[t];!0===yc.isClockWise(e)&&(A[t]=e.reverse())}const u=yc.triangulateShape(c,A);for(let t=0,e=A.length;t<e;t++){const e=A[t];c=c.concat(e)}for(let t=0,e=c.length;t<e;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=u.length;t<e;t++){const e=u[t],i=e[0]+a,r=e[1]+a,o=e[2]+a;n.push(i,r,o),s+=3}}this.setIndex(n),this.setAttribute("position",new mi(i,3)),this.setAttribute("normal",new mi(r,3)),this.setAttribute("uv",new mi(o,2))}toJSON(){const t=super.toJSON();return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let i=0,r=t.shapes.length;i<r;i++){const r=e[t.shapes[i]];n.push(r)}return new bc(n,t.curveSegments)}}class Mc extends Ni{constructor(t){if(super(),this.type="WireframeGeometry",!0===t.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const e=[],n=new Set,i=new yn,r=new yn;if(null!==t.index){const o=t.attributes.position,a=t.index;let s=t.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let t=0,l=s.length;t<l;++t){const l=s[t],c=l.start;for(let t=c,s=c+l.count;t<s;t+=3)for(let s=0;s<3;s++){const l=a.getX(t+s),c=a.getX(t+(s+1)%3);i.fromBufferAttribute(o,l),r.fromBufferAttribute(o,c),!0===Lc(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}}else{const o=t.attributes.position;for(let t=0,a=o.count/3;t<a;t++)for(let a=0;a<3;a++){const s=3*t+a,l=3*t+(a+1)%3;i.fromBufferAttribute(o,s),r.fromBufferAttribute(o,l),!0===Lc(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new mi(e,3))}}function Lc(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i,r),!0)}class Cc extends Gi{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ai(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Cc.prototype.isMeshStandardMaterial=!0;class Bc extends Cc{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ln(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=tn(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new Ai(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new Ai(1,1,1),this.specularTintMap=null,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Ai).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationTint.copy(t.attenuationTint),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularTint.copy(t.specularTint),this.specularTintMap=t.specularTintMap,this}}Bc.prototype.isMeshPhysicalMaterial=!0;class Sc extends Gi{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Ai(16777215),this.specular=new Ai(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Sc.prototype.isMeshPhongMaterial=!0;class Ec extends Gi{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Ai(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}Ec.prototype.isMeshLambertMaterial=!0;class Tc extends cl{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}Tc.prototype.isLineDashedMaterial=!0;const Dc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Ic=new class{constructor(t,e,n){const i=this;let r,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===o&&void 0!==i.onStart&&i.onStart(t,a,s),o=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],i=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}};class Pc{constructor(t){this.manager=void 0!==t?t:Ic,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}class kc extends Pc{constructor(t){super(t)}load(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Dc.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),Dc.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}class Fc extends Pc{constructor(t){super(t)}load(t,e,n,i){const r=new hn,o=new kc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Te:De,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}class Uc extends Pc{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Dc.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){Dc.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}Uc.prototype.isImageBitmapLoader=!0;class Rc{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}}class Oc extends ki{constructor(t,e=1){super(),this.type="Light",this.color=new Ai(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Oc.prototype.isLight=!0;const Hc=new Kn,Yc=new yn,Qc=new yn;class jc{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ln(512,512),this.map=null,this.mapPass=null,this.matrix=new Kn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gn,this._frameExtents=new ln(1,1),this._viewportCount=1,this._viewports=[new fn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Yc.setFromMatrixPosition(t.matrixWorld),e.position.copy(Yc),Qc.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Qc),e.updateMatrixWorld(),Hc.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Hc),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Nc extends jc{constructor(){super(new zr(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*Je*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}Nc.prototype.isSpotLightShadow=!0;class Wc extends Oc{constructor(t,e,n=0,i=Math.PI/3,r=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(ki.DefaultUp),this.updateMatrix(),this.target=new ki,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.shadow=new Nc}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Wc.prototype.isSpotLight=!0;const Vc=new Kn,zc=new yn,Gc=new yn;class Kc extends jc{constructor(){super(new zr(90,1,.5,500)),this._frameExtents=new ln(4,2),this._viewportCount=6,this._viewports=[new fn(2,1,1,1),new fn(0,1,1,1),new fn(3,1,1,1),new fn(1,1,1,1),new fn(3,0,1,1),new fn(1,0,1,1)],this._cubeDirections=[new yn(1,0,0),new yn(-1,0,0),new yn(0,0,1),new yn(0,0,-1),new yn(0,1,0),new yn(0,-1,0)],this._cubeUps=[new yn(0,1,0),new yn(0,1,0),new yn(0,1,0),new yn(0,1,0),new yn(0,0,1),new yn(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),zc.setFromMatrixPosition(t.matrixWorld),n.position.copy(zc),Gc.copy(n.position),Gc.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Gc),n.updateMatrixWorld(),i.makeTranslation(-zc.x,-zc.y,-zc.z),Vc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vc)}}Kc.prototype.isPointLightShadow=!0;class Zc extends Oc{constructor(t,e,n=0,i=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Kc}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}Zc.prototype.isPointLight=!0,class extends Oc{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(ki.DefaultUp),this.updateMatrix(),this.groundColor=new Ai(e)}copy(t){return Oc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}.prototype.isHemisphereLight=!0;class Xc extends jc{constructor(){super(new Jr(-5,5,5,-5,.5,500))}}Xc.prototype.isDirectionalLightShadow=!0;class qc extends Oc{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(ki.DefaultUp),this.updateMatrix(),this.target=new ki,this.shadow=new Xc}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}qc.prototype.isDirectionalLight=!0;class Jc extends Oc{constructor(t,e){super(t,e),this.type="AmbientLight"}}Jc.prototype.isAmbientLight=!0;class $c{constructor(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const a=e[1];t<a&&(n=2,r=a);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}$c.prototype.beforeStart_=$c.prototype.copySampleValue_,$c.prototype.afterEnd_=$c.prototype.copySampleValue_;class tA extends $c{constructor(t,e,n,i){super(t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=t,a=2*e-n;break;case 2402:r=i.length-2,a=e+i[r]-i[r+1];break;default:r=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=this._offsetPrev,A=this._offsetNext,u=this._weightPrev,d=this._weightNext,h=(n-e)/(i-e),p=h*h,f=p*h,m=-u*f+2*u*p-u*h,g=(1+u)*f+(-1.5-2*u)*p+(-.5+u)*h+1,y=(-1-d)*f+(1.5+d)*p+.5*h,v=d*f-d*p;for(let t=0;t!==a;++t)r[t]=m*o[c+t]+g*o[l+t]+y*o[s+t]+v*o[A+t];return r}}class eA extends $c{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=(n-e)/(i-e),A=1-c;for(let t=0;t!==a;++t)r[t]=o[l+t]*A+o[s+t]*c;return r}}class nA extends $c{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}const iA={arraySlice:function(t,e,n){return iA.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,a=0;a!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[a++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let a=o[i];if(void 0!==a)if(Array.isArray(a))do{a=o[i],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[i],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{a=o[i],void 0!==a&&(e.push(o.time),n.push(a)),o=t[r++]}while(void 0!==o)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const a=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],s=e.getValueSize(),l=[],c=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*r;if(!(o<n||o>=i)){l.push(e.times[t]);for(let n=0;n<s;++n)c.push(e.values[t*s+n])}}0!==l.length&&(e.times=iA.convertArray(l,e.times.constructor),e.values=iA.convertArray(c,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let t=0;t<o.tracks.length;++t)s>o.tracks[t].times[0]&&(s=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const a=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===a)continue;let s=0;const l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const A=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=A/3);const u=i.times.length-1;let d;if(o<=i.times[0]){const t=s,e=l-s;d=iA.arraySlice(i.values,t,e)}else if(o>=i.times[u]){const t=u*l+s,e=t+l-s;d=iA.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=s,n=l-s;t.evaluate(o),d=iA.arraySlice(t.resultBuffer,e,n)}"quaternion"===r&&(new gn).fromArray(d).normalize().conjugate().toArray(d);const h=a.times.length;for(let t=0;t<h;++t){const e=t*A+c;if("quaternion"===r)gn.multiplyQuaternionsFlat(a.values,e,d,0,a.values,e);else{const t=A-2*c;for(let n=0;n<t;++n)a.values[e+n]-=d[n]}}}return t.blendMode=2501,t}};class rA{constructor(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=iA.convertArray(e,this.TimeBufferType),this.values=iA.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:iA.convertArray(t.times,Array),values:iA.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new nA(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new eA(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new tA(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case ke:e=this.InterpolantFactoryMethodDiscrete;break;case Fe:e=this.InterpolantFactoryMethodLinear;break;case Ue:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ke;case this.InterpolantFactoryMethodLinear:return Fe;case this.InterpolantFactoryMethodSmooth:return Ue}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=iA.arraySlice(n,r,o),this.values=iA.arraySlice(this.values,r*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,i),t=!1;break}if(null!==o&&o>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,i,o),t=!1;break}o=i}if(void 0!==i&&iA.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t}optimize(){const t=iA.arraySlice(this.times),e=iA.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Ue,r=t.length-1;let o=1;for(let a=1;a<r;++a){let r=!1;const s=t[a];if(s!==t[a+1]&&(1!==a||s!==t[0]))if(i)r=!0;else{const t=a*n,i=t-n,o=t+n;for(let a=0;a!==n;++a){const n=e[t+a];if(n!==e[i+a]||n!==e[o+a]){r=!0;break}}}if(r){if(a!==o){t[o]=t[a];const i=a*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,a=0;a!==n;++a)e[i+a]=e[t+a];++o}return o!==t.length?(this.times=iA.arraySlice(t,0,o),this.values=iA.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this}clone(){const t=iA.arraySlice(this.times,0),e=iA.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}rA.prototype.TimeBufferType=Float32Array,rA.prototype.ValueBufferType=Float32Array,rA.prototype.DefaultInterpolation=Fe;class oA extends rA{}oA.prototype.ValueTypeName="vector";class aA extends $c{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(i-e);let l=t*a;for(let t=l+a;l!==t;l+=4)gn.slerpFlat(r,0,o,l-a,o,l,s);return r}}class sA extends rA{InterpolantFactoryMethodLinear(t){return new aA(this.times,this.values,this.getValueSize(),t)}}sA.prototype.ValueTypeName="quaternion",sA.prototype.DefaultInterpolation=Fe,sA.prototype.InterpolantFactoryMethodSmooth=void 0;class lA extends rA{}lA.prototype.ValueTypeName="number";const cA="\\[\\]\\.:\\/",AA=new RegExp("["+cA+"]","g"),uA="[^"+cA+"]",dA="[^"+cA.replace("\\.","")+"]",hA=/((?:WC+[\/:])*)/.source.replace("WC",uA),pA=/(WCOD+)?/.source.replace("WCOD",dA),fA=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uA),mA=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uA),gA=new RegExp("^"+hA+pA+fA+mA+"$"),yA=["material","materials","bones"];class vA{constructor(t,e,n){this.path=e,this.parsedPath=n||vA.parseTrackName(e),this.node=vA.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new vA.Composite(t,e,n):new vA(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(AA,"")}static parseTrackName(t){const e=gA.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==yA.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.node[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=vA.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const o=t[i];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vA.Composite=class{constructor(t,e,n){const i=n||vA.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},vA.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vA.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vA.prototype.GetterByBindingType=[vA.prototype._getValue_direct,vA.prototype._getValue_array,vA.prototype._getValue_arrayElement,vA.prototype._getValue_toArray],vA.prototype.SetterByBindingTypeAndVersioning=[[vA.prototype._setValue_direct,vA.prototype._setValue_direct_setNeedsUpdate,vA.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vA.prototype._setValue_array,vA.prototype._setValue_array_setNeedsUpdate,vA.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vA.prototype._setValue_arrayElement,vA.prototype._setValue_arrayElement_setNeedsUpdate,vA.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vA.prototype._setValue_fromArray,vA.prototype._setValue_fromArray_setNeedsUpdate,vA.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _A extends rA{}_A.prototype.ValueTypeName="bool",_A.prototype.ValueBufferType=Array,_A.prototype.DefaultInterpolation=ke,_A.prototype.InterpolantFactoryMethodLinear=void 0,_A.prototype.InterpolantFactoryMethodSmooth=void 0;class wA extends rA{}wA.prototype.ValueTypeName="color";class xA extends rA{}xA.prototype.ValueTypeName="string",xA.prototype.ValueBufferType=Array,xA.prototype.DefaultInterpolation=ke,xA.prototype.InterpolantFactoryMethodLinear=void 0,xA.prototype.InterpolantFactoryMethodSmooth=void 0;class bA{constructor(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=$e(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(MA(n[t]).scale(i));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(rA.toJSON(n[t]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let a=[],s=[];a.push((t+r-1)%r,t,(t+1)%r),s.push(0,1,0);const l=iA.getKeyframeOrder(a);a=iA.sortedArray(a,1,l),s=iA.sortedArray(s,1,l),i||0!==a[0]||(a.push(r),s.push(s[0])),o.push(new lA(".morphTargetInfluences["+e[t].name+"]",a,s).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(this.CreateFromMorphTargetSequence(t,i[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],a=[];iA.flattenJSON(n,o,a,i),0!==o.length&&r.push(new t(e,o,a))}},i=[],r=t.name||"default",o=t.fps||30,a=t.blendMode;let s=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const r=l[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new lA(".morphTargetInfluence["+n+"]",t,o))}s=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(oA,o+".position",r,"pos",i),n(sA,o+".quaternion",r,"rot",i),n(oA,o+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,s,i,a)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function MA(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lA;case"vector":case"vector2":case"vector3":case"vector4":return oA;case"color":return wA;case"quaternion":return sA;case"bool":case"boolean":return _A;case"string":return xA}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];iA.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}class LA extends Ni{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}LA.prototype.isInstancedBufferGeometry=!0;class CA extends Es{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}CA.prototype.isInstancedInterleavedBuffer=!0,class extends hi{constructor(t,e,n,i=1){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}.prototype.isInstancedBufferAttribute=!0;class BA{constructor(t,e,n=0,i=1/0){this.ray=new or(t,e),this.near=n,this.far=i,this.camera=null,this.layers=new _i,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!1,n=[]){return EA(t,this,n,e),n.sort(SA),n}intersectObjects(t,e=!1,n=[]){for(let i=0,r=t.length;i<r;i++)EA(t[i],this,n,e);return n.sort(SA),n}}function SA(t,e){return t.distance-e.distance}function EA(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)EA(i[t],e,n,!0)}}class TA{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=DA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=DA();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function DA(){return("undefined"==typeof performance?Date:performance).now()}class IA{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(tn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const PA=new yn,kA=new yn;class FA extends yl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Ni;n.setAttribute("position",new mi(e,3)),n.setAttribute("color",new mi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new cl({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,n){const i=new Ai,r=this.geometry.attributes.color.array;return i.set(t),i.toArray(r,0),i.toArray(r,3),i.set(e),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UA extends El{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Nl(e,t))}getPoint(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],o=r.getLength(),a=0===o?0:1-t/o;return r.getPointAt(a)}i++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a);for(let t=0;t<s.length;t++){const i=s[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new Gl[n.type]).fromJSON(n))}return this}}class RA extends UA{constructor(t){super(),this.type="Path",this.currentPoint=new ln,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new Nl(this.currentPoint.clone(),new ln(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,i){const r=new Wl(this.currentPoint.clone(),new ln(t,e),new ln(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(t,e,n,i,r,o){const a=new Ql(this.currentPoint.clone(),new ln(t,e),new ln(n,i),new ln(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new zl(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,i,r,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+a,e+s,n,i,r,o),this}absarc(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this}ellipse(t,e,n,i,r,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,n,i,r,o,a,s),this}absellipse(t,e,n,i,r,o,a,s){const l=new Tl(t,e,n,i,r,o,a,s);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class OA extends RA{constructor(t){super(t),this.uuid=$e(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new RA).fromJSON(n))}return this}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"131"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="131");var HA=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function YA(){throw new Error("setTimeout has not been defined")}function QA(){throw new Error("clearTimeout has not been defined")}var jA=YA,NA=QA;function WA(t){if(jA===setTimeout)return setTimeout(t,0);if((jA===YA||!jA)&&setTimeout)return jA=setTimeout,setTimeout(t,0);try{return jA(t,0)}catch(e){try{return jA.call(null,t,0)}catch(e){return jA.call(this,t,0)}}}"function"==typeof HA.setTimeout&&(jA=setTimeout),"function"==typeof HA.clearTimeout&&(NA=clearTimeout);var VA,zA=[],GA=!1,KA=-1;function ZA(){GA&&VA&&(GA=!1,VA.length?zA=VA.concat(zA):KA=-1,zA.length&&XA())}function XA(){if(!GA){var t=WA(ZA);GA=!0;for(var e=zA.length;e;){for(VA=zA,zA=[];++KA<e;)VA&&VA[KA].run();KA=-1,e=zA.length}VA=null,GA=!1,function(t){if(NA===clearTimeout)return clearTimeout(t);if((NA===QA||!NA)&&clearTimeout)return NA=clearTimeout,clearTimeout(t);try{return NA(t)}catch(e){try{return NA.call(null,t)}catch(e){return NA.call(this,t)}}}(t)}}function qA(t,e){this.fun=t,this.array=e}function JA(){}qA.prototype.run=function(){this.fun.apply(null,this.array)};var $A=JA,tu=JA,eu=JA,nu=JA,iu=JA,ru=JA,ou=JA,au=HA.performance||{},su=au.now||au.mozNow||au.msNow||au.oNow||au.webkitNow||function(){return(new Date).getTime()},lu=new Date,cu={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];zA.push(new qA(t,e)),1!==zA.length||GA||WA(XA)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:$A,addListener:tu,once:eu,off:nu,removeListener:iu,removeAllListeners:ru,emit:ou,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*su.call(au),n=Math.floor(e),i=Math.floor(e%1*1e9);return t&&(n-=t[0],(i-=t[1])<0&&(n--,i+=1e9)),[n,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-lu)/1e3}},Au={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Au.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Au.Bounce.In(2*t):.5*Au.Bounce.Out(2*t-1)+.5}}},uu="undefined"==typeof self&&void 0!==cu&&cu.hrtime?function(){var t=cu.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},du=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=uu()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]],o=!e;r&&!1===r.update(t,o)&&!e&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),hu={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=hu.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,o=hu.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=hu.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=hu.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}}(),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),a=.5*(i-e),s=r*r;return(2*e-2*n+o+a)*(r*s)+(-3*e+3*n-2*o-a)*s+o*r+e}}},pu=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),fu=new du,mu=function(){function t(t,e){void 0===e&&(e=fu),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Au.Linear.None,this._interpolationFunction=hu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=pu.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?uu()+parseFloat(t):t:uu(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,i){for(var r in n){var o=t[r],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[r]);if("undefined"!==s&&"function"!==s){if(l){var c=n[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[r]=[o].concat(c)}if("object"!==s&&!a||!o||l)void 0===e[r]&&(e[r]=o),a||(e[r]*=1),i[r]=l?n[r].slice().reverse():e[r]||0;else{for(var A in e[r]=a?[]:{},o)e[r][A]=o[A];i[r]=a?[]:{},this._setupProperties(o,e[r],n[r],i[r])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=uu()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=uu()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=uu()),void 0===e&&(e=!0),this._isPaused)return!0;var n,i,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>r)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,i){for(var r in n)if(void 0!==e[r]){var o=e[r]||0,a=n[r],s=Array.isArray(t[r]),l=Array.isArray(a);!s&&l?t[r]=this._interpolationFunction(a,i):"object"==typeof a&&a?this._updateProperties(t[r],o,a,i):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[r]=o+(a-o)*i)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),gu=pu.nextId,yu=fu,vu=yu.getAll.bind(yu),_u=yu.removeAll.bind(yu),wu=yu.add.bind(yu),xu=yu.remove.bind(yu),bu=yu.update.bind(yu),Mu={Easing:Au,Group:du,Interpolation:hu,now:uu,Sequence:pu,nextId:gu,Tween:mu,VERSION:"18.6.4",getAll:vu,removeAll:_u,add:wu,remove:xu,update:bu};const Lu={type:"change"},Cu={type:"start"},Bu={type:"end"};class Su extends Ke{constructor(t,e){super(),void 0===e&&console.warn('OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new yn,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",N),this._domElementKeyEvents=t},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.rotateUp=M,this.rotateLeft=b,this.rotateRight=function(t){s.theta+=t},this.rotateDown=function(t){s.phi+=t},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Lu),n.update(),r=i.NONE},this.update=function(){const e=new yn,u=(new gn).setFromUnitVectors(t.up,new yn(0,1,0)),d=u.clone().invert(),h=new yn,p=new gn,f=2*Math.PI;return function(){const t=n.object.position;e.copy(t).sub(n.target),e.applyQuaternion(u),a.setFromVector3(e),n.autoRotate&&r===i.NONE&&b(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(a.theta+=s.theta*n.dampingFactor,a.phi+=s.phi*n.dampingFactor):(a.theta+=s.theta,a.phi+=s.phi);let m=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(m)&&isFinite(g)&&(m<-Math.PI?m+=f:m>Math.PI&&(m-=f),g<-Math.PI?g+=f:g>Math.PI&&(g-=f),a.theta=m<=g?Math.max(m,Math.min(g,a.theta)):a.theta>(m+g)/2?Math.max(m,a.theta):Math.min(g,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=l,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(c,n.dampingFactor):n.target.add(c),e.setFromSpherical(a),e.applyQuaternion(d),t.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(s.theta*=1-n.dampingFactor,s.phi*=1-n.dampingFactor,c.multiplyScalar(1-n.dampingFactor)):(s.set(0,0,0),c.set(0,0,0)),l=1,!!(A||h.distanceToSquared(n.object.position)>o||8*(1-p.dot(n.object.quaternion))>o)&&(n.dispatchEvent(Lu),h.copy(n.object.position),p.copy(n.object.quaternion),A=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",W),n.domElement.removeEventListener("pointerdown",O),n.domElement.removeEventListener("pointercancel",Q),n.domElement.removeEventListener("wheel",j),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",Y),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",N)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=i.NONE;const o=1e-6,a=new IA,s=new IA;let l=1;const c=new yn;let A=!1;const u=new ln,d=new ln,h=new ln,p=new ln,f=new ln,m=new ln,g=new ln,y=new ln,v=new ln,_=[],w={};function x(){return Math.pow(.95,n.zoomSpeed)}function b(t){s.theta-=t}function M(t){s.phi-=t}const L=function(){const t=new yn;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),c.add(t)}}(),C=function(){const t=new yn;return function(e,i){!0===n.screenSpacePanning?t.setFromMatrixColumn(i,1):(t.setFromMatrixColumn(i,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),c.add(t)}}(),B=function(){const t=new yn;return function(e,i){const r=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;t.copy(o).sub(n.target);let a=t.length();a*=Math.tan(n.object.fov/2*Math.PI/180),L(2*e*a/r.clientHeight,n.object.matrix),C(2*i*a/r.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(L(e*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),C(i*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function S(t){n.object.isPerspectiveCamera?l/=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*t)),n.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function E(t){n.object.isPerspectiveCamera?l*=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/t)),n.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function T(t){u.set(t.clientX,t.clientY)}function D(t){p.set(t.clientX,t.clientY)}function I(){if(1===_.length)u.set(_[0].pageX,_[0].pageY);else{const t=.5*(_[0].pageX+_[1].pageX),e=.5*(_[0].pageY+_[1].pageY);u.set(t,e)}}function P(){if(1===_.length)p.set(_[0].pageX,_[0].pageY);else{const t=.5*(_[0].pageX+_[1].pageX),e=.5*(_[0].pageY+_[1].pageY);p.set(t,e)}}function k(){const t=_[0].pageX-_[1].pageX,e=_[0].pageY-_[1].pageY,n=Math.sqrt(t*t+e*e);g.set(0,n)}function F(t){try{if(1==_.length)d.set(t.pageX,t.pageY);else{const e=z(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);d.set(n,i)}h.subVectors(d,u).multiplyScalar(n.rotateSpeed);const e=n.domElement;b(2*Math.PI*h.x/e.clientHeight),M(2*Math.PI*h.y/e.clientHeight),u.copy(d)}catch(t){console.error(t)}}function U(t){try{if(1===_.length)f.set(t.pageX,t.pageY);else{const e=z(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);f.set(n,i)}m.subVectors(f,p).multiplyScalar(n.panSpeed),B(m.x,m.y),p.copy(f)}catch(t){console.error(t)}}function R(t){try{const e=z(t),i=t.pageX-e.x,r=t.pageY-e.y,o=Math.sqrt(i*i+r*r);y.set(0,o),v.set(0,Math.pow(y.y/g.y,n.zoomSpeed)),S(v.y),g.copy(y)}catch(t){console.error(t)}}function O(t){!1!==n.enabled&&(0===_.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",H),n.domElement.addEventListener("pointerup",Y)),function(t){_.push(t)}(t),"touch"===t.pointerType?function(t){if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else{switch(V(t),_.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;I(),r=i.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;P(),r=i.TOUCH_PAN;break;default:r=i.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&k(),n.enablePan&&P(),r=i.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&k(),n.enableRotate&&I(),r=i.TOUCH_DOLLY_ROTATE;break;default:r=i.NONE}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Cu)}}(t):function(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===n.enableZoom)return;!function(t){g.set(t.clientX,t.clientY)}(t),r=i.DOLLY;break;case 0:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;D(t),r=i.PAN}else{if(!1===n.enableRotate)return;T(t),r=i.ROTATE}break;case 2:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;T(t),r=i.ROTATE}else{if(!1===n.enablePan)return;D(t),r=i.PAN}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Cu)}(t))}function H(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else switch(V(t),r){case i.TOUCH_ROTATE:if(!1===n.enableRotate)return;F(t),n.update();break;case i.TOUCH_PAN:if(!1===n.enablePan)return;U(t),n.update();break;case i.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(t){n.enableZoom&&R(t),n.enablePan&&U(t)}(t),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(t){n.enableZoom&&R(t),n.enableRotate&&F(t)}(t),n.update();break;default:r=i.NONE}}(t):function(t){if(!1!==n.enabled)if(t.pageX<0||t.pageY<0)console.error("OrbitsControlsevent.pageX or event.pageY set to less then 0 !");else switch(r){case i.ROTATE:if(!1===n.enableRotate)return;!function(t){d.set(t.clientX,t.clientY),h.subVectors(d,u).multiplyScalar(n.rotateSpeed);const e=n.domElement;b(2*Math.PI*h.x/e.clientHeight),M(2*Math.PI*h.y/e.clientHeight),u.copy(d),n.update()}(t);break;case i.DOLLY:if(!1===n.enableZoom)return;!function(t){y.set(t.clientX,t.clientY),v.subVectors(y,g),v.y>0?S(x()):v.y<0&&E(x()),g.copy(y),n.update()}(t);break;case i.PAN:if(!1===n.enablePan)return;!function(t){f.set(t.clientX,t.clientY),m.subVectors(f,p).multiplyScalar(n.panSpeed),B(m.x,m.y),p.copy(f),n.update()}(t)}}(t))}function Y(t){!1!==n.enabled&&(t.pointerType,n.dispatchEvent(Bu),r=i.NONE,function(t){delete w[t.pointerId];for(let e=0;e<_.length;e++)if(_[e].pointerId==t.pointerId)return void _.splice(e,1)}(t),0===_.length&&(n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",H),n.domElement.removeEventListener("pointerup",Y)))}function Q(t){_.length>0&&(n.dispatchEvent(Bu),r=i.NONE),_.splice(0,_.length)}function j(t){!1===n.enabled||!1===n.enableZoom||r!==i.NONE&&r!==i.ROTATE||(t.preventDefault(),n.dispatchEvent(Cu),function(t){t.deltaY<0?E(x()):t.deltaY>0&&S(x()),n.update()}(t),n.dispatchEvent(Bu))}function N(t){!1!==n.enabled&&!1!==n.enablePan&&function(t){let e=!1;switch(t.code){case n.keys.UP:B(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:B(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:B(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:B(-n.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),n.update())}(t)}function W(t){!1!==n.enabled&&t.preventDefault()}function V(t){let e=w[t.pointerId];void 0===e&&(e=new ln,w[t.pointerId]=e),e.set(t.pageX,t.pageY)}function z(t){try{const e=t.pointerId===_[0].pointerId?_[1]:_[0];return w[e.pointerId]}catch(t){console.error(t)}}n.domElement.addEventListener("contextmenu",W),n.domElement.addEventListener("pointerdown",O),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",j,{passive:!1}),this.update()}}const Eu=t=>{let e=t.offsetLeft,n=t.offsetParent;for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e},Tu=t=>{for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e};var Du=Object.freeze({__proto__:null,getElementLeft:Eu,getElementTop:Tu});const Iu=t=>{if(null!==t){for(var e=0;e<t.children.length;e++)Iu(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&t.material.bumpMap.dispose(),t.material.envMap&&t.material.envMap.dispose(),t.material.lightMap&&t.material.lightMap.dispose(),t.material.map&&t.material.map.dispose(),t.material.normalMap&&t.material.normalMap.dispose(),t.material.specularMap&&t.material.specularMap.dispose(),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t.dispose&&t.dispose()},Pu={mode2d:"3D",mode3d:"2D",maxAngle:Math.PI/2,minAngle:Math.PI/2,defaultAngle:Math.PI/3};function ku(t,e){return new RegExp(e).test(t),parseFloat(RegExp.$1)}var Fu=window&&"ActiveXObject"in window,Uu=Fu&&!document.addEventListener,Ru=window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"",Ou=-1!==Ru.indexOf("webkit"),Hu=-1!==Ru.indexOf("chrome"),Yu=-1!==Ru.indexOf("phantom"),Qu=-1!==Ru.indexOf("android"),ju=-1!==Ru.search("android [23]"),Nu=-1!==Ru.indexOf("iphone"),Wu=-1!==Ru.indexOf("symbianos"),Vu=-1!==Ru.indexOf("windows phone"),zu=-1!==Ru.indexOf("ipad"),Gu=Nu||Vu||Wu||Qu||zu,Ku=window&&window.navigator&&window.navigator&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints&&!window.PointerEvent,Zu=window&&window.PointerEvent&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints||Ku,Xu=window&&"devicePixelRatio"in window&&1<window.devicePixelRatio||window&&"matchMedia"in window&&window.matchMedia("(min-resolution:144dppi)")&&window.matchMedia("(min-resolution:144dppi)").matches,qu=document.documentElement,Ju=Fu&&qu&&"transition"in qu.style,$u=window&&"WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ju,td=window&&qu&&"MozPerspective"in qu.style,ed=window&&qu&&"OTransition"in qu.style;const nd={ver:(id=navigator.userAgent,/opera/i.test(id)||/OPR/i.test(id)?"Opera"+ku(id,"OPR/(\\d+\\.+\\d+)"):/compatible/i.test(id)&&/MSIE/i.test(id)?"IE"+ku(id,"MSIE (\\d+\\.+\\d+)"):/Edge/i.test(id)?"Edge"+ku(id,"Edge/(\\d+\\.+\\d+)"):/Firefox/i.test(id)?"Firefox"+ku(id,"Firefox/(\\d+\\.+\\d+)"):/Safari/i.test(id)&&!/Chrome/i.test(id)?"Safari"+ku(id,"Safari/(\\d+\\.+\\d+)"):/Chrome/i.test(id)&&/Safari/i.test(id)?"Chrome"+ku(id,"Chrome/(\\d+\\.+\\d+)"):window.ActiveXObject||"ActiveXObject"in window?"IE11":void 0),miniApp:!!window,ie:Fu,ielt9:Uu,webkit:Ou,android:Qu,android23:ju,iphone:Nu,ipad:zu,symbian:Wu,winphone:Vu,chrome:Hu,ie3d:Ju,webkit3d:$u,gecko3d:td,opera3d:ed,mobile:Gu,mobileWebkit:Gu&&Ou,mobileWebkit3d:Gu&&$u,touch:Yu,msPointer:Ku,pointer:Zu,retina:Xu};var id;const rd=t=>t.map((t=>`${(t>>>4).toString(16)}${(15&t).toString(16)}`)).join("");var od=Object.freeze({__proto__:null,highLowToInt:(t,e)=>e+(t<<8),bytesToHexString:rd}),ad="object"==typeof HA&&HA&&HA.Object===Object&&HA,sd="object"==typeof self&&self&&self.Object===Object&&self,ld=ad||sd||Function("return this")(),cd=ld.Symbol,Ad=Object.prototype,ud=Ad.hasOwnProperty,dd=Ad.toString,hd=cd?cd.toStringTag:void 0,pd=Object.prototype.toString,fd=cd?cd.toStringTag:void 0;function md(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":fd&&fd in Object(t)?function(t){var e=ud.call(t,hd),n=t[hd];try{t[hd]=void 0;var i=!0}catch(t){}var r=dd.call(t);return i&&(e?t[hd]=n:delete t[hd]),r}(t):function(t){return pd.call(t)}(t)}function gd(t){return null!=t&&"object"==typeof t}function yd(t){return"symbol"==typeof t||gd(t)&&"[object Symbol]"==md(t)}var vd=Array.isArray,_d=1/0,wd=cd?cd.prototype:void 0,xd=wd?wd.toString:void 0;function bd(t){if("string"==typeof t)return t;if(vd(t))return function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}(t,bd)+"";if(yd(t))return xd?xd.call(t):"";var e=t+"";return"0"==e&&1/t==-_d?"-0":e}var Md=/\s/,Ld=/^\s+/;function Cd(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Bd=/^[-+]0x[0-9a-f]+$/i,Sd=/^0b[01]+$/i,Ed=/^0o[0-7]+$/i,Td=parseInt,Dd=1/0;function Id(t){return t?(t=function(t){if("number"==typeof t)return t;if(yd(t))return NaN;if(Cd(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Cd(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Md.test(t.charAt(e)););return e}(t)+1).replace(Ld,""):t}(t);var n=Sd.test(t);return n||Ed.test(t)?Td(t.slice(2),n?2:8):Bd.test(t)?NaN:+t}(t))===Dd||t===-Dd?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Pd(t){var e=Id(t),n=e%1;return e==e?n?e-n:e:0}function kd(t){return t}function Fd(t){if(!Cd(t))return!1;var e=md(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Ud,Rd=ld["__core-js_shared__"],Od=(Ud=/[^.]+$/.exec(Rd&&Rd.keys&&Rd.keys.IE_PROTO||""))?"Symbol(src)_1."+Ud:"",Hd=Function.prototype.toString;function Yd(t){if(null!=t){try{return Hd.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Qd=/^\[object .+?Constructor\]$/,jd=Function.prototype,Nd=Object.prototype,Wd=jd.toString,Vd=Nd.hasOwnProperty,zd=RegExp("^"+Wd.call(Vd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gd(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Cd(t)||(e=t,Od&&Od in e))&&(Fd(t)?zd:Qd).test(Yd(t));var e}(n)?n:void 0}var Kd=Gd(ld,"WeakMap"),Zd=Object.create,Xd=function(){function t(){}return function(e){if(!Cd(e))return{};if(Zd)return Zd(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function qd(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var Jd=Date.now;function $d(t){return function(){return t}}var th,eh,nh,ih=function(){try{var t=Gd(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),rh=ih,oh=rh?function(t,e){return rh(t,"toString",{configurable:!0,enumerable:!1,value:$d(e),writable:!0})}:kd,ah=(th=oh,eh=0,nh=0,function(){var t=Jd(),e=16-(t-nh);if(nh=t,e>0){if(++eh>=800)return arguments[0]}else eh=0;return th.apply(void 0,arguments)}),sh=/^(?:0|[1-9]\d*)$/;function lh(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&sh.test(t))&&t>-1&&t%1==0&&t<e}function ch(t,e,n){"__proto__"==e&&rh?rh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ah(t,e){return t===e||t!=t&&e!=e}var uh=Object.prototype.hasOwnProperty;function dh(t,e,n){var i=t[e];uh.call(t,e)&&Ah(i,n)&&(void 0!==n||e in t)||ch(t,e,n)}function hh(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?ch(n,s,l):dh(n,s,l)}return n}var ph=Math.max;function fh(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function mh(t){return null!=t&&fh(t.length)&&!Fd(t)}function gh(t,e,n){if(!Cd(n))return!1;var i=typeof e;return!!("number"==i?mh(n)&&lh(e,n.length):"string"==i&&e in n)&&Ah(n[e],t)}var yh=Object.prototype;function vh(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yh)}function _h(t){return gd(t)&&"[object Arguments]"==md(t)}var wh=Object.prototype,xh=wh.hasOwnProperty,bh=wh.propertyIsEnumerable,Mh=_h(function(){return arguments}())?_h:function(t){return gd(t)&&xh.call(t,"callee")&&!bh.call(t,"callee")},Lh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ch=Lh&&t&&!t.nodeType&&t,Bh=Ch&&Ch.exports===Lh?ld.Buffer:void 0,Sh=(Bh?Bh.isBuffer:void 0)||function(){return!1},Eh={};function Th(t){return function(e){return t(e)}}Eh["[object Float32Array]"]=Eh["[object Float64Array]"]=Eh["[object Int8Array]"]=Eh["[object Int16Array]"]=Eh["[object Int32Array]"]=Eh["[object Uint8Array]"]=Eh["[object Uint8ClampedArray]"]=Eh["[object Uint16Array]"]=Eh["[object Uint32Array]"]=!0,Eh["[object Arguments]"]=Eh["[object Array]"]=Eh["[object ArrayBuffer]"]=Eh["[object Boolean]"]=Eh["[object DataView]"]=Eh["[object Date]"]=Eh["[object Error]"]=Eh["[object Function]"]=Eh["[object Map]"]=Eh["[object Number]"]=Eh["[object Object]"]=Eh["[object RegExp]"]=Eh["[object Set]"]=Eh["[object String]"]=Eh["[object WeakMap]"]=!1;var Dh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ih=Dh&&t&&!t.nodeType&&t,Ph=Ih&&Ih.exports===Dh&&ad.process,kh=function(){try{return Ih&&Ih.require&&Ih.require("util").types||Ph&&Ph.binding&&Ph.binding("util")}catch(t){}}(),Fh=kh&&kh.isTypedArray,Uh=Fh?Th(Fh):function(t){return gd(t)&&fh(t.length)&&!!Eh[md(t)]},Rh=Object.prototype.hasOwnProperty;function Oh(t,e){var n=vd(t),i=!n&&Mh(t),r=!n&&!i&&Sh(t),o=!n&&!i&&!r&&Uh(t),a=n||i||r||o,s=a?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=s.length;for(var c in t)!e&&!Rh.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||lh(c,l))||s.push(c);return s}function Hh(t,e){return function(n){return t(e(n))}}var Yh=Hh(Object.keys,Object),Qh=Object.prototype.hasOwnProperty;function jh(t){return mh(t)?Oh(t):function(t){if(!vh(t))return Yh(t);var e=[];for(var n in Object(t))Qh.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var Nh=Object.prototype.hasOwnProperty;function Wh(t){return mh(t)?Oh(t,!0):function(t){if(!Cd(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vh(t),n=[];for(var i in t)("constructor"!=i||!e&&Nh.call(t,i))&&n.push(i);return n}(t)}var Vh=Gd(Object,"create"),zh=Object.prototype.hasOwnProperty,Gh=Object.prototype.hasOwnProperty;function Kh(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Zh(t,e){for(var n=t.length;n--;)if(Ah(t[n][0],e))return n;return-1}Kh.prototype.clear=function(){this.__data__=Vh?Vh(null):{},this.size=0},Kh.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kh.prototype.get=function(t){var e=this.__data__;if(Vh){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return zh.call(e,t)?e[t]:void 0},Kh.prototype.has=function(t){var e=this.__data__;return Vh?void 0!==e[t]:Gh.call(e,t)},Kh.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vh&&void 0===e?"__lodash_hash_undefined__":e,this};var Xh=Array.prototype.splice;function qh(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}qh.prototype.clear=function(){this.__data__=[],this.size=0},qh.prototype.delete=function(t){var e=this.__data__,n=Zh(e,t);return!(n<0||(n==e.length-1?e.pop():Xh.call(e,n,1),--this.size,0))},qh.prototype.get=function(t){var e=this.__data__,n=Zh(e,t);return n<0?void 0:e[n][1]},qh.prototype.has=function(t){return Zh(this.__data__,t)>-1},qh.prototype.set=function(t,e){var n=this.__data__,i=Zh(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var Jh=Gd(ld,"Map");function $h(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function tp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ep(t){return null==t?"":bd(t)}function np(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}tp.prototype.clear=function(){this.size=0,this.__data__={hash:new Kh,map:new(Jh||qh),string:new Kh}},tp.prototype.delete=function(t){var e=$h(this,t).delete(t);return this.size-=e?1:0,e},tp.prototype.get=function(t){return $h(this,t).get(t)},tp.prototype.has=function(t){return $h(this,t).has(t)},tp.prototype.set=function(t,e){var n=$h(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var ip=Hh(Object.getPrototypeOf,Object),rp=Function.prototype,op=Object.prototype,ap=rp.toString,sp=op.hasOwnProperty,lp=ap.call(Object);function cp(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}var Ap=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function up(t){return Ap.test(t)}var dp="\\ud800-\\udfff",hp="["+dp+"]",pp="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",fp="\\ud83c[\\udffb-\\udfff]",mp="[^"+dp+"]",gp="(?:\\ud83c[\\udde6-\\uddff]){2}",yp="[\\ud800-\\udbff][\\udc00-\\udfff]",vp="(?:"+pp+"|"+fp+")?",_p="[\\ufe0e\\ufe0f]?",wp=_p+vp+"(?:\\u200d(?:"+[mp,gp,yp].join("|")+")"+_p+vp+")*",xp="(?:"+[mp+pp+"?",pp,gp,yp,hp].join("|")+")",bp=RegExp(fp+"(?="+fp+")|"+xp+wp,"g");var Mp=Math.ceil,Lp=Math.max;function Cp(t){var e=this.__data__=new qh(t);this.size=e.size}Cp.prototype.clear=function(){this.__data__=new qh,this.size=0},Cp.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Cp.prototype.get=function(t){return this.__data__.get(t)},Cp.prototype.has=function(t){return this.__data__.has(t)},Cp.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qh){var i=n.__data__;if(!Jh||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new tp(i)}return n.set(t,e),this.size=n.size,this};var Bp="object"==typeof exports&&exports&&!exports.nodeType&&exports,Sp=Bp&&t&&!t.nodeType&&t,Ep=Sp&&Sp.exports===Bp?ld.Buffer:void 0,Tp=Ep?Ep.allocUnsafe:void 0;function Dp(t,e){if(e)return t.slice();var n=t.length,i=Tp?Tp(n):new t.constructor(n);return t.copy(i),i}function Ip(){return[]}var Pp=Object.prototype.propertyIsEnumerable,kp=Object.getOwnPropertySymbols,Fp=kp?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a)&&(o[r++]=a)}return o}(kp(t),(function(e){return Pp.call(t,e)})))}:Ip,Up=Fp,Rp=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)np(e,Up(t)),t=ip(t);return e}:Ip;function Op(t,e,n){var i=e(t);return vd(t)?i:np(i,n(t))}function Hp(t){return Op(t,jh,Up)}function Yp(t){return Op(t,Wh,Rp)}var Qp=Gd(ld,"DataView"),jp=Gd(ld,"Promise"),Np=Gd(ld,"Set"),Wp="[object Map]",Vp="[object Promise]",zp="[object Set]",Gp="[object WeakMap]",Kp="[object DataView]",Zp=Yd(Qp),Xp=Yd(Jh),qp=Yd(jp),Jp=Yd(Np),$p=Yd(Kd),tf=md;(Qp&&tf(new Qp(new ArrayBuffer(1)))!=Kp||Jh&&tf(new Jh)!=Wp||jp&&tf(jp.resolve())!=Vp||Np&&tf(new Np)!=zp||Kd&&tf(new Kd)!=Gp)&&(tf=function(t){var e=md(t),n="[object Object]"==e?t.constructor:void 0,i=n?Yd(n):"";if(i)switch(i){case Zp:return Kp;case Xp:return Wp;case qp:return Vp;case Jp:return zp;case $p:return Gp}return e});var ef=tf,nf=Object.prototype.hasOwnProperty,rf=ld.Uint8Array;function of(t){var e=new t.constructor(t.byteLength);return new rf(e).set(new rf(t)),e}var af=/\w*$/,sf=cd?cd.prototype:void 0,lf=sf?sf.valueOf:void 0;function cf(t,e){var n=e?of(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Af(t){return"function"!=typeof t.constructor||vh(t)?{}:Xd(ip(t))}var uf=kh&&kh.isMap,df=uf?Th(uf):function(t){return gd(t)&&"[object Map]"==ef(t)},hf=kh&&kh.isSet,pf=hf?Th(hf):function(t){return gd(t)&&"[object Set]"==ef(t)},ff="[object Arguments]",mf="[object Function]",gf="[object Object]",yf={};function vf(t,e,n,i,r,o){var a,s=1&e,l=2&e,c=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Cd(t))return t;var A=vd(t);if(A){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&nf.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return qd(t,a)}else{var u=ef(t),d=u==mf||"[object GeneratorFunction]"==u;if(Sh(t))return Dp(t,s);if(u==gf||u==ff||d&&!r){if(a=l||d?{}:Af(t),!s)return l?function(t,e){return hh(t,Rp(t),e)}(t,function(t,e){return t&&hh(e,Wh(e),t)}(a,t)):function(t,e){return hh(t,Up(t),e)}(t,function(t,e){return t&&hh(e,jh(e),t)}(a,t))}else{if(!yf[u])return r?t:{};a=function(t,e,n){var i,r,o,a=t.constructor;switch(e){case"[object ArrayBuffer]":return of(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var n=e?of(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cf(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(o=new(r=t).constructor(r.source,af.exec(r))).lastIndex=r.lastIndex,o;case"[object Symbol]":return i=t,lf?Object(lf.call(i)):{}}}(t,u,s)}}o||(o=new Cp);var h=o.get(t);if(h)return h;o.set(t,a),pf(t)?t.forEach((function(i){a.add(vf(i,e,n,i,t,o))})):df(t)&&t.forEach((function(i,r){a.set(r,vf(i,e,n,r,t,o))}));var p=A?void 0:(c?l?Yp:Hp:l?Wh:jh)(t);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(p||t,(function(i,r){p&&(i=t[r=i]),dh(a,r,vf(i,e,n,r,t,o))})),a}function _f(t){return vf(t,5)}function wf(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new tp;++e<n;)this.add(t[e])}function xf(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}yf[ff]=yf["[object Array]"]=yf["[object ArrayBuffer]"]=yf["[object DataView]"]=yf["[object Boolean]"]=yf["[object Date]"]=yf["[object Float32Array]"]=yf["[object Float64Array]"]=yf["[object Int8Array]"]=yf["[object Int16Array]"]=yf["[object Int32Array]"]=yf["[object Map]"]=yf["[object Number]"]=yf[gf]=yf["[object RegExp]"]=yf["[object Set]"]=yf["[object String]"]=yf["[object Symbol]"]=yf["[object Uint8Array]"]=yf["[object Uint8ClampedArray]"]=yf["[object Uint16Array]"]=yf["[object Uint32Array]"]=!0,yf["[object Error]"]=yf[mf]=yf["[object WeakMap]"]=!1,wf.prototype.add=wf.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wf.prototype.has=function(t){return this.__data__.has(t)};function bf(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),A=o.get(e);if(c&&A)return c==e&&A==t;var u=-1,d=!0,h=2&n?new wf:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var p=t[u],f=e[u];if(i)var m=a?i(f,p,u,e,t,o):i(p,f,u,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!xf(e,(function(t,e){if(a=e,!h.has(a)&&(p===t||r(p,t,n,i,o)))return h.push(e);var a}))){d=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Mf(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Lf(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Cf=cd?cd.prototype:void 0,Bf=Cf?Cf.valueOf:void 0,Sf=Object.prototype.hasOwnProperty,Ef="[object Arguments]",Tf="[object Array]",Df="[object Object]",If=Object.prototype.hasOwnProperty;function Pf(t,e,n,i,r){return t===e||(null==t||null==e||!gd(t)&&!gd(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=vd(t),s=vd(e),l=a?Tf:ef(t),c=s?Tf:ef(e),A=(l=l==Ef?Df:l)==Df,u=(c=c==Ef?Df:c)==Df,d=l==c;if(d&&Sh(t)){if(!Sh(e))return!1;a=!0,A=!1}if(d&&!A)return o||(o=new Cp),a||Uh(t)?bf(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new rf(t),new rf(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ah(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Mf;case"[object Set]":var l=1&i;if(s||(s=Lf),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=2,a.set(t,e);var A=bf(s(t),s(e),i,r,o,a);return a.delete(t),A;case"[object Symbol]":if(Bf)return Bf.call(t)==Bf.call(e)}return!1}(t,e,l,n,i,r,o);if(!(1&n)){var h=A&&If.call(t,"__wrapped__"),p=u&&If.call(e,"__wrapped__");if(h||p){var f=h?t.value():t,m=p?e.value():e;return o||(o=new Cp),r(f,m,n,i,o)}}return!!d&&(o||(o=new Cp),function(t,e,n,i,r,o){var a=1&n,s=Hp(t),l=s.length;if(l!=Hp(e).length&&!a)return!1;for(var c=l;c--;){var A=s[c];if(!(a?A in e:Sf.call(e,A)))return!1}var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<l;){var f=t[A=s[c]],m=e[A];if(i)var g=a?i(m,f,A,e,t,o):i(f,m,A,t,e,o);if(!(void 0===g?f===m||r(f,m,n,i,o):g)){h=!1;break}p||(p="constructor"==A)}if(h&&!p){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,i,r,o))}(t,e,n,i,Pf,r))}var kf=function(t,e,n){for(var i=-1,r=Object(t),o=n(t),a=o.length;a--;){var s=o[++i];if(!1===e(r[s],s,r))break}return t};function Ff(t,e,n){(void 0!==n&&!Ah(t[e],n)||void 0===n&&!(e in t))&&ch(t,e,n)}function Uf(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function Rf(t,e,n,i,r){t!==e&&kf(e,(function(o,a){if(r||(r=new Cp),Cd(o))!function(t,e,n,i,r,o,a){var s=Uf(t,n),l=Uf(e,n),c=a.get(l);if(c)Ff(t,n,c);else{var A=o?o(s,l,n+"",t,e,a):void 0,u=void 0===A;if(u){var d=vd(l),h=!d&&Sh(l),p=!d&&!h&&Uh(l);A=l,d||h||p?vd(s)?A=s:function(t){return gd(t)&&mh(t)}(s)?A=qd(s):h?(u=!1,A=Dp(l,!0)):p?(u=!1,A=cf(l,!0)):A=[]:function(t){if(!gd(t)||"[object Object]"!=md(t))return!1;var e=ip(t);if(null===e)return!0;var n=sp.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ap.call(n)==lp}(l)||Mh(l)?(A=s,Mh(s)?A=function(t){return hh(t,Wh(t))}(s):Cd(s)&&!Fd(s)||(A=Af(l))):u=!1}u&&(a.set(l,A),r(A,l,i,o,a),a.delete(l)),Ff(t,n,A)}}(t,e,a,n,Rf,i,r);else{var s=i?i(Uf(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Ff(t,a,s)}}),Wh)}function Of(t,e){return Pf(t,e)}var Hf,Yf=(Hf=function(t,e,n){Rf(t,e,n)},function(t,e){return ah(function(t,e,n){return e=ph(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=ph(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,kd),t+"")}((function(t,e){var n=-1,i=e.length,r=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(r=Hf.length>3&&"function"==typeof r?(i--,r):void 0,o&&gh(e[0],e[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++n<i;){var a=e[n];a&&Hf(t,a,n)}return t}))),Qf=Yf,jf=Math.floor;function Nf(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=jf(e/2))&&(t+=t)}while(e);return n}var Wf=function(t){return null==t?void 0:t.length},Vf="\\ud800-\\udfff",zf="["+Vf+"]",Gf="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Kf="\\ud83c[\\udffb-\\udfff]",Zf="[^"+Vf+"]",Xf="(?:\\ud83c[\\udde6-\\uddff]){2}",qf="[\\ud800-\\udbff][\\udc00-\\udfff]",Jf="(?:"+Gf+"|"+Kf+")?",$f="[\\ufe0e\\ufe0f]?",tm=$f+Jf+"(?:\\u200d(?:"+[Zf,Xf,qf].join("|")+")"+$f+Jf+")*",em="(?:"+[Zf+Gf+"?",Gf,Xf,qf,zf].join("|")+")",nm=RegExp(Kf+"(?="+Kf+")|"+em+tm,"g");function im(t){return up(t)?function(t){for(var e=nm.lastIndex=0;nm.test(t);)++e;return e}(t):Wf(t)}var rm=Math.ceil;function om(t,e){var n=(e=void 0===e?" ":bd(e)).length;if(n<2)return n?Nf(e,t):e;var i=Nf(e,rm(t/im(e)));return up(e)?function(t,e,n){var i=t.length;return(n=void 0===n?i:n)>=i?t:cp(t,0,n)}(function(t){return up(t)?function(t){return t.match(bp)||[]}(t):function(t){return t.split("")}(t)}(i),0,t).join(""):i.slice(0,t)}function am(t,e,n){t=ep(t);var i=(e=Pd(e))?im(t):0;return e&&i<e?om(e-i,n)+t:t}const sm=t=>{let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){try{e=(0,eval)(`(${t})`)}catch(n){e=t}}else e=void 0===t?{}:t;return e};var lm=Object.freeze({__proto__:null,parseJSON:sm});function cm(t,e=2){let n=parseInt(t,10).toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(0,e),n}const Am=(t,e)=>{const n=[],i=t.length;for(let r=0;r<i;r+=e)n.push(t.slice(r,r+e));return n},um=t=>{const e=t.trim(),n="0x"===e.substr(0,2).toLowerCase()?e.substr(2):e,i=n.length;if(i%2!=0)return"";let r;const o=[];for(let t=0;t<i;t+=2)r=parseInt(n.substr(t,2),16),o.push(String.fromCharCode(r));return o.join("")},dm=(t,e)=>Number((e/10**t).toFixed(t)),hm={0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"+":62,"/":63};var pm=Object.freeze({__proto__:null,toFixed16:cm,stringToAtHex:t=>{for(var e="",n=0;n<t.length;n++)""===e?e=t.charCodeAt(n).toString(16):e+=`${t.charCodeAt(n).toString(16)}`;return e},partition:Am,hexStringToNumber:t=>Am(t,2).map((t=>parseInt(t,16))),highLowToInt:(t,e)=>e+(t<<8),atHexToString:um,stringToBase36Arr:t=>{const e=[];if(!t)return e;for(let n=0;n<t.length;n++)e.push(`${t.charCodeAt(n).toString(36)}`);return e},base36ArrToString:t=>{const e=[];return t.forEach((t=>{e.push(String.fromCharCode(parseInt(t,36)))})),e.join("")},ASCIIToJson:t=>sm(um(t)),toJsonSafe:t=>sm(t.replace(/(\{.*\}).*/,"$1")),scaleNumber:dm,shrinkValue:t=>dm(1,t),DECToHex:function(t,e=2,n=!0){return null==t?"":n?function(t){return ep(t).toLowerCase()}(am(Number(t).toString(16),e,"0")):n?void 0:function(t){return ep(t).toUpperCase()}(am(Number(t).toString(16),e,"0"))},UTF8ToHex:t=>Array.from(t).map((t=>t.charCodeAt(0)<128?t.charCodeAt(0).toString(16).padStart(2,"0"):encodeURIComponent(t).replace(/\%/g,"").toLowerCase())).join(""),hexToUTF8:t=>{var e;return decodeURIComponent("%"+(null==(e=t.match(/.{1,2}/g))?void 0:e.join("%")))},dealPL:t=>t>32768?t-65536:t,DECNumberToHex:function(t,e){if(null==t)return"";const n=Number(t).toString(2);return cm(parseInt(n+e,2))},base64to2:t=>{let e=.75*t.length;t=t.replace(/=*$/,"");const n=new Int8Array(e);let i,r,o,a,s=0;for(let e=0;e<t.length;e+=4)i=hm[t[e]],r=hm[t[e+1]],o=hm[t[e+2]],a=hm[t[e+3]],n[s++]=i<<2|r>>4,n[s++]=r<<4|o>>2,n[s++]=o<<6|a;return n},arrayBufferToBase64:t=>{let e="";const n=new Uint8Array(t),i=n.byteLength;for(var r=0;r<i;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}}),fm=(t,e)=>{var n=0,i=document.createElement("div");function r(t){return i.appendChild(t.dom),t}function o(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";n=t}i.style.cssText="position:absolute;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener(e,(function(t){t.preventDefault(),o(++n%i.children.length)}),!1);var a=(performance||Date).now(),s=a,l=0,c=r(new fm.Panel("FPS","#0ff","#002",t)),A=r(new fm.Panel("MS","#0f0","#020",t));if(self&&self.performance&&self.performance.memory)var u=r(new fm.Panel("MB","#f08","#201",t));return o(0),{REVISION:16,dom:i,addPanel:r,showPanel:o,begin:function(){a=(performance||Date).now()},end:function(){l++;var t=(performance||Date).now();if(A.update(t-a,200),t>=s+1e3&&(c.update(1e3*l/(t-s),100),s=t,l=0,u)){var e=performance&&performance.memory;e&&u.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:i,setMode:o}};fm.Panel=function(t,e,n,i){var r=1/0,o=0,a=Math.round,s=a(i||1),l=80*s,c=48*s,A=3*s,u=2*s,d=3*s,h=15*s,p=74*s,f=30*s,m=document.createElement("canvas");m.width=l,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,l,c),g.fillStyle=e,g.fillText(t,A,u),g.fillRect(d,h,p,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d,h,p,f),{dom:m,update:function(i,c){r=Math.min(r,i),o=Math.max(o,i),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,l,h),g.fillStyle=e,g.fillText(a(i)+" "+t+" ("+a(r)+"-"+a(o)+")",A,u),g.drawImage(m,d+s,h,p-s,f,d,h,p-s,f),g.fillRect(d+p-s,h,s,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d+p-s,h,s,a((1-i/c)*f))}}};var mm={exports:{}},gm=function(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),n}(Object.freeze({__proto__:null,default:{}}));mm.exports=function(){var t=t||function(t){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==i&&i.crypto&&(e=i.crypto),!e)try{e=gm}catch(t){}var n=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),o={},a=o.lib={},s=a.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||A).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var s=0;s<r;s+=4)e[i+s>>>2]=n[s>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(n());return new l.init(e,t)}}),c=o.enc={},A=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new l.init(n,e/2)}},u=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new l.init(n,e)}},d=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,i=this._data,r=i.words,o=i.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,A=t.min(4*c,o);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(r,u);n=r.splice(0,c),i.sigBytes-=A}return new l.init(n,A)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=h.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=o.algo={};return o}(Math);return function(e){var n=t,i=n.lib,r=i.WordArray,o=i.Hasher,a=n.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],h=t[e+2],p=t[e+3],f=t[e+4],m=t[e+5],g=t[e+6],y=t[e+7],v=t[e+8],_=t[e+9],w=t[e+10],x=t[e+11],b=t[e+12],M=t[e+13],L=t[e+14],C=t[e+15],B=o[0],S=o[1],E=o[2],T=o[3];B=c(B,S,E,T,a,7,s[0]),T=c(T,B,S,E,l,12,s[1]),E=c(E,T,B,S,h,17,s[2]),S=c(S,E,T,B,p,22,s[3]),B=c(B,S,E,T,f,7,s[4]),T=c(T,B,S,E,m,12,s[5]),E=c(E,T,B,S,g,17,s[6]),S=c(S,E,T,B,y,22,s[7]),B=c(B,S,E,T,v,7,s[8]),T=c(T,B,S,E,_,12,s[9]),E=c(E,T,B,S,w,17,s[10]),S=c(S,E,T,B,x,22,s[11]),B=c(B,S,E,T,b,7,s[12]),T=c(T,B,S,E,M,12,s[13]),E=c(E,T,B,S,L,17,s[14]),B=A(B,S=c(S,E,T,B,C,22,s[15]),E,T,l,5,s[16]),T=A(T,B,S,E,g,9,s[17]),E=A(E,T,B,S,x,14,s[18]),S=A(S,E,T,B,a,20,s[19]),B=A(B,S,E,T,m,5,s[20]),T=A(T,B,S,E,w,9,s[21]),E=A(E,T,B,S,C,14,s[22]),S=A(S,E,T,B,f,20,s[23]),B=A(B,S,E,T,_,5,s[24]),T=A(T,B,S,E,L,9,s[25]),E=A(E,T,B,S,p,14,s[26]),S=A(S,E,T,B,v,20,s[27]),B=A(B,S,E,T,M,5,s[28]),T=A(T,B,S,E,h,9,s[29]),E=A(E,T,B,S,y,14,s[30]),B=u(B,S=A(S,E,T,B,b,20,s[31]),E,T,m,4,s[32]),T=u(T,B,S,E,v,11,s[33]),E=u(E,T,B,S,x,16,s[34]),S=u(S,E,T,B,L,23,s[35]),B=u(B,S,E,T,l,4,s[36]),T=u(T,B,S,E,f,11,s[37]),E=u(E,T,B,S,y,16,s[38]),S=u(S,E,T,B,w,23,s[39]),B=u(B,S,E,T,M,4,s[40]),T=u(T,B,S,E,a,11,s[41]),E=u(E,T,B,S,p,16,s[42]),S=u(S,E,T,B,g,23,s[43]),B=u(B,S,E,T,_,4,s[44]),T=u(T,B,S,E,b,11,s[45]),E=u(E,T,B,S,C,16,s[46]),B=d(B,S=u(S,E,T,B,h,23,s[47]),E,T,a,6,s[48]),T=d(T,B,S,E,y,10,s[49]),E=d(E,T,B,S,L,15,s[50]),S=d(S,E,T,B,m,21,s[51]),B=d(B,S,E,T,b,6,s[52]),T=d(T,B,S,E,p,10,s[53]),E=d(E,T,B,S,w,15,s[54]),S=d(S,E,T,B,l,21,s[55]),B=d(B,S,E,T,v,6,s[56]),T=d(T,B,S,E,C,10,s[57]),E=d(E,T,B,S,g,15,s[58]),S=d(S,E,T,B,M,21,s[59]),B=d(B,S,E,T,f,6,s[60]),T=d(T,B,S,E,x,10,s[61]),E=d(E,T,B,S,h,15,s[62]),S=d(S,E,T,B,_,21,s[63]),o[0]=o[0]+B|0,o[1]=o[1]+S|0,o[2]=o[2]+E|0,o[3]=o[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296),a=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var A=l[c];l[c]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,i,r,o,a){var s=t+(e&n|~e&i)+r+a;return(s<<o|s>>>32-o)+e}function A(t,e,n,i,r,o,a){var s=t+(e&i|n&~i)+r+a;return(s<<o|s>>>32-o)+e}function u(t,e,n,i,r,o,a){var s=t+(e^n^i)+r+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,i,r,o,a){var s=t+(n^(e|~i))+r+a;return(s<<o|s>>>32-o)+e}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),t}();var ym=r(mm.exports);const vm={listeners:{},on(t,e){vm.listeners[t]||(vm.listeners[t]=[]),vm.listeners[t].push(e)},off(t,e){if("function"==typeof e){const n=vm.listeners[t];if(n){const t=n.indexOf(e);t>=0&&n.splice(t,1)}}else delete vm.listeners[t]},emit(t,e){(vm.listeners[t]||[]).forEach((t=>{t(e)}))}},_m=(t,e)=>{vm.on(t,e)},wm=(t,e)=>{vm.off(t,e)};function xm(t,e){_m(t,(n=>{e(n),wm(t)}))}const bm=_m,Mm=(t,e)=>{vm.emit(t,e)},Lm=wm;let Cm="() => {\n\tlet _canvasStore;\n\tconsole.log('ScreenshotWorkerRender: Thread has been started ');\n\n\t/**\n\t * \n\t * @param ctx \n\t * @param x \n\t * @param y \n\t * @param w \n\t * @param h \n\t * @returns \n\t */\n\tconst detectWhiteScreenWithPixel = data => {\n\t\ttry {\n\t\t const colorSet = new Set(data);\n\t\t const colorArr = Array.from(colorSet);\n\t\t if (colorArr.length === 1) {\n\t\t\tif (colorArr[0] === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t }\n\t\t return false;\n\t\t} catch (e) {\n\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot detectWhiteScreenWithPixel occur an error ==>', e);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'init') {\n\t\t\tinitRendererCanvas(msg.data);\n\t\t}\n\t\tif (msg.data.name === 'capture') {\n\t\t\toffScreenRender(msg.data)\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\n\tconst initRendererCanvas = data => {\n\t\tconst { parameters = {} } = data;\n\t\tconst\t{ canvas } = parameters;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\t};\n\n\tconst offScreenRender = data => {\n\t\ttry {\n\t\t\tconst endTimestamp = new Date().getTime();\n\t\t\tconst { parameters } = data;\n\t\t\tconst { imageData, pixelRatio, step, timestamp } = parameters;\n\n\t\t\tconst canvas = new OffscreenCanvas(_canvasStore.width, _canvasStore.height);\n\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\tif (!ctx) {\n\t\t\t\tconsole.warn('ScreenshotWorkerRender: Please provide canvas element params ');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot receive captured cmd use time ==>', endTimestamp - timestamp);\n\t\t\tlet snapshotImage = { image: '', width: 0, height: 0, step: step }; \n\n\t\t\tctx?.restore();\n\t\t\tctx?.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\tself.createImageBitmap(imageData).then(source => {\n\t\t\tctx?.translate(0, canvas.height);\n\t\t\tctx?.scale(1, -1);\n\t\t\tctx?.drawImage(source, 0, 0);\n\t\t\tctx?.restore();\n\t\t\tcanvas[canvas.convertToBlob ? 'convertToBlob' : 'toBlob']().then(blob => {\n\t\t\t\t\tconst isWhiteScreen = detectWhiteScreenWithPixel(imageData.data);\n\t\t\t\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot captured a white picture ==>', isWhiteScreen);\n\t\t\t\t\tif (!isWhiteScreen) {\n\t\t\t\t\t\tconst image = new FileReaderSync().readAsDataURL(blob);\n\t\t\t\t\t\tconst styleWidth = canvas.width / pixelRatio;\n\t\t\t\t\t\tconst styleHeight = canvas.height / pixelRatio;\n\t\t\t\t\t\tsnapshotImage =\t{ image: image, width: styleWidth, height: styleHeight, step: step }; \n\t\t\t\t\t}\n\t\t\t\t\tself.postMessage({ name: 'update', snapshotImage: snapshotImage });\n\t\t\t\t});\n\t\t\t});\n\t} catch (e) {\n\t\tconsole.log('ScreenshotWorkerRenderscreenSnapshot offScreenRender occur an error ==>', e);\n\t}\n}\n}";Cm=Cm.substring(Cm.indexOf("{")+1,Cm.lastIndexOf("}"));const Bm=new Blob([Cm],{type:"application/javascript"}),Sm=new class{constructor(){this.options={success:"#00cca3",error:"#FFaa00",info:"#5091F3"}}log(t,e,...n){console.log(`%c Robot Log: ${e}`,`background: ${t}; color: #FFFFFF; font-size: 20px`,...n)}success(t,...e){this.log(this.options.success,t,...e)}error(t,...e){this.log(this.options.error,t,...e)}info(t,...e){this.log(this.options.info,t,...e)}},Em=(t=kt.webview)=>t!==kt.mini&&"undefined"!=typeof window&&"function"==typeof Worker,Tm=(t=kt.webview)=>t!==kt.mini&&"function"==typeof document.createElement("canvas").transferControlToOffscreen,Dm=()=>"undefined"!=typeof window&&void 0!==window.indexedDB&&!0,Im=t=>{if("undefined"!=typeof window&&"function"==typeof Worker)try{const e=window.URL||window.webkitURL,n=e.createObjectURL(t),i=new Worker(n),r=()=>{n&&e.revokeObjectURL(n),i.terminate()},o=t=>{i.onmessage=e=>{t(e.data)}};return{postMessage:i.postMessage.bind(i),onMessage:o,terminate:r}}catch(t){Sm.info(`Workers: createWorker error message: ${t.message}, stack: ${t.stack}`)}else Sm.info("Workers: the env does not support web worker.")};class Pm{constructor(t){this.name=void 0,this.disabled=void 0,this.loggerInfo=void 0,this.options={performance:"#00cca3",error:"#f81c1c",info:"#5091f3",warn:"#ffaa00"},this.setLoggerInfo=t=>{t&&(this.loggerInfo=t)},this.setLoggerDisabled=t=>{this.disabled=t},this.name=t,this.disabled=!1,this.loggerInfo=void 0}log(t,e,n,...i){if(!this.disabled&&"function"==typeof this.loggerInfo)try{const t=`%c ${this.name} Log: ${n}`,r=`background: ${e}; color: #FFFFFF; font-size: 16px`;this.loggerInfo({info:t,theme:r,args:{...i}})}catch(t){console.error(`%c ${this.name} Log: ${n}`,`background: ${e}; color: #FFFFFF; font-size: 16px`,t)}}success(t,...e){this.log("info",this.options.performance,t,...e)}error(t,...e){this.log("error",this.options.error,t,...e)}info(t,...e){this.log("log",this.options.info,t,...e)}warn(t,...e){this.log("warn",this.options.warn,t,...e)}}class km{constructor(t=async()=>{}){this.name=void 0,this.then=void 0,this.logger=void 0,this.debug=void 0;const e=(async()=>(await t(),delete this.then,this))();this.name=this.constructor.name,this.logger=new Pm(this.name),this.then=e.then.bind(e),this.debug={isDevMode:!1}}}const Fm=["Failed to execute 'shaderSource' on 'WebGL2RenderingContext'"];class Um extends km{constructor(t){super(),this.stats=void 0,this.enablePageReload=void 0,this.platform=void 0,this.isMobile=void 0,this.props=void 0,this.env=void 0,this.pixelRatio=void 0,this.statsMode=void 0,this.antialias=void 0,this.useWorker=void 0,this.fitWidth=void 0,this.fitHeight=void 0,this.logarithmicDepthBuffer=void 0,this.preserveDrawingBuffer=void 0,this.map=void 0,this.oath=void 0,this.onGestureChange=void 0,this.onClickMapView=void 0,this.onScreenSnapshot=void 0,this.onGlobalError=void 0,this.onRenderContextLost=void 0,this.onRenderContextRestored=void 0,this.onContainerVisibilityChange=void 0,this.onContainerPageReload=void 0,this.visibility=void 0,this.eventTap=void 0,this.eventTapUp=void 0,this.eventTapMove=void 0,this.container=void 0,this.snapshotCanvas=void 0,this.offscreenCanvas=void 0,this.bgColor=void 0,this.d3BgColor=void 0,this.offsetLeft=void 0,this.offsetTop=void 0,this.canvasWidth=void 0,this.canvasHeight=void 0,this.canvasWidthHalf=void 0,this.canvasHeightHalf=void 0,this.scene=void 0,this.sceneOrtho=void 0,this.cameraOrtho=void 0,this.camera=void 0,this.renderer=void 0,this.controls=void 0,this.dragControls=void 0,this.transFormControls=void 0,this.rayCaster=void 0,this.ambientLight=void 0,this.lightTop=void 0,this.lightFront=void 0,this.lightBack=void 0,this.lightLeft=void 0,this.lightRight=void 0,this.frameId=void 0,this.globalEvents=void 0,this.animateFn=void 0,this.frameList=void 0,this.clickFn=void 0,this.clickFnUp=void 0,this.clickFnMove=void 0,this.controlStartFn=void 0,this.controlEndFn=void 0,this.controlChangeFn=void 0,this.dragPlane=void 0,this.mousePoint=void 0,this.worldPoint=void 0,this.offset=void 0,this.worldPosition=void 0,this.inverseMatrix=void 0,this.intersection=void 0,this.draggableObjects=void 0,this.interactive=void 0,this.enableLayerMoveable=void 0,this.zoomLevel=void 0,this.moving=void 0,this.isEnablePan=void 0,this.shouldRender=void 0,this.staticFps=void 0,this.clock=void 0,this.timeStart=void 0,this.snapshotWorker=void 0,this.rendererTarget=void 0,this.isThread=void 0,this.originFov=void 0,this.enhanceSkills=void 0,this.isWebGLContextLost=void 0,this.duringHeavyTask=void 0,this.initRenderer=()=>new Promise(((t,e)=>{var n;const i="function"==typeof(null==(n=this.container)?void 0:n.getContext)?{canvas:this.container}:{};this.renderer&&(this.removeCanvasWebGLEvent(),this.renderer.dispose());const r=()=>{var e;if(this.renderer=new Bs({...i,antialias:this.antialias,logarithmicDepthBuffer:this.logarithmicDepthBuffer,alpha:!0,preserveDrawingBuffer:this.preserveDrawingBuffer}),!this.renderer.domElement)return console.log("retry create renderer"),void setTimeout((()=>{r()}),500);this.renderer.autoClear=!1,this.renderer.setClearColor(16777215,0),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.logger.info("set rendering element size: width, height ==>",this.renderer.domElement.width,this.renderer.domElement.height),this.renderer.setPixelRatio(this.pixelRatio),this.logger.info("setPixelRatio width, height, pixelRatio ==>",this.container.clientWidth,this.container.clientHeight,this.pixelRatio),this.logger.info("renderer rendering element width, height ==>",this.renderer.domElement.width,this.renderer.domElement.height),this.rendererTarget=new mn(this.renderer.domElement.width,this.renderer.domElement.height),"function"!=typeof(null==(e=this.container)?void 0:e.getContext)&&(this.container.appendChild(this.renderer.domElement),this.renderer.domElement.addEventListener("webglcontextlost",this.onContextLost,!1),this.renderer.domElement.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.renderer.domElement.addEventListener("webglcontextcreationerror",this.onContextCreateError,!1)),this.isWebGLContextLost=!1,t(this.renderer)};r()})),this.setPixelRatio=t=>{this.pixelRatio=t,this.renderer.setPixelRatio(this.pixelRatio)},this.setDuringHeavyTask=t=>{t?this.renderer.setRenderTarget(this.rendererTarget):this.renderer.setRenderTarget(null),this.duringHeavyTask=t},this.onError=t=>{var e,n;const i=null==(e=t.error)?void 0:e.stack;let r=null==(n=t.error)?void 0:n.toString();i&&(r+="\n"+i),this.logger.error("onError",t,r);let o=-1;if(Fm.forEach(((t,e)=>{-1!==r.indexOf(t)&&(o=e)})),-1!==o&&this.enablePageReload){this.logger.error("Starting reload this page...");const t={info:Fm[o],timestamp:(new Date).getTime()};this.onContainerPageReload(t),window.location.reload()}this.onGlobalError(r)},this.onUnhandledRejection=t=>{var e,n;let i=(null==(e=t.reason)?void 0:e.message)||t.reason;const r=null==(n=t.reason)?void 0:n.stack;r&&(i+="\n"+r),this.logger.error("onUnhandledRejection ==>",i)},this.detectWhiteScreenWithPixel=t=>{const e=new Set(t.data),n=Array.from(e);return 1===n.length&&0===n[0]},this.getCacheInstance=()=>this.cacheInstance,this.getUnionId=()=>this.uuid,this.getVisibility=()=>this.visibility,this.checkOathPermission=()=>!!this.oath.auth||(this.logger.warn("Oops !!! You do not have permission to call this API"),!1),this.updateEnhanceSkills=t=>{JSON.stringify(this.enhanceSkills)!==JSON.stringify(t)&&(this.enhanceSkills=this.props.enhanceSkills,this.oath.auth=this.ca(t))},this.ca=t=>{try{if(0===t.length)return!1;const e=um(rd(t));return"f3fc5bf162d5f6be5a003157cb41b30a"===ym.MD5(e).toString().toLowerCase()}catch(t){return this.logger("3d authorization failed"),!1}},this.forceFpsImprove=()=>{this.staticFps=60,this.redraw()},this.forceFpsDownToStaticFps=t=>{this.staticFps=t||this.props.staticFps||60,this.redraw()},this.enableInteractive=t=>{this.interactive=t},this.enableLayerMoveableEvent=t=>{this.enableLayerMoveable=t},this.worldToScreen=t=>{const e=(new yn).copy(t).project(this.camera);return new ln(Math.round(e.x*this.canvasWidthHalf+this.canvasWidthHalf),Math.round(-e.y*this.canvasHeightHalf+this.canvasHeightHalf))},this.setPlane=()=>{const t=new yn,e=new Wn;return e.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(e.normal),t),e},this.updateEvent=t=>{let e={x:0,y:0};"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type?(this.mousePoint.x=(t.changedTouches[0].clientX-this.offsetLeft)/this.canvasWidth*2-1,this.mousePoint.y=-(t.changedTouches[0].clientY-this.offsetTop)/this.canvasHeight*2+1,e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}):(this.mousePoint.x=(t.clientX-this.offsetLeft)/this.canvasWidth*2-1,this.mousePoint.y=-(t.clientY-this.offsetTop)/this.canvasHeight*2+1,e={x:t.clientX,y:t.clientY}),t.mousePoint=this.mousePoint,t.mouseClient=e},this.rotateAngle=(t,e)=>180*Math.atan2(e.x-t.x,e.y-t.y)/Math.PI*.2,this.rotateAngleByLength=(t,e,n)=>{const i=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),r=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)),o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=(Math.pow(i,2)+Math.pow(r,2)-Math.pow(o,2))/(2*i*r);return Math.round(180*Math.acos(a)/Math.PI)},this.calculateDirection=(t,e,n)=>{const i=(new ln).copy(t).sub(n),r=(new ln).copy(e).sub(n);return i.cross(r)},this.resize=()=>{this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.display="block",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.canvasWidth=this.container.clientWidth,this.canvasWidthHalf=this.canvasWidth/2,this.canvasHeight=this.container.clientHeight,this.canvasHeightHalf=this.canvasHeight/2,this.offsetLeft=Eu(this.container),this.offsetTop=Tu(this.container),this.renderer.setSize(this.canvasWidth,this.canvasHeight),this.renderer.setPixelRatio(this.pixelRatio),this.setSnapshotCanvasSize(this.snapshotCanvas),this.updateCameraAspect(),this.autoFitScreen(this.fitWidth,this.fitHeight),this.redraw(),Mm(`${this.getUnionId()}_mapResize`,{fov:this.camera.fov})},this.setSnapshotCanvasSize=t=>{this.isThread?(t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height):(t.width=this.renderer.domElement.width,t.height=this.renderer.domElement.height,t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height)},this.redraw=()=>{this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera)},this.onScreenSnapshotThreadEvt=t=>{this.logger.info("onScreenSnapshotThreadEvt",t),"update"===t.name&&this.onScreenSnapshot(t.snapshotImage)},this.receiveRemoveEvt=()=>{this.snapshotWorker&&(this.snapshotWorker.terminate(),this.snapshotWorker=void 0)},this.screenSnapshot=(t,e,n="unknown")=>{this.logger.info("It has started snapshot");try{this.isThread&&(this.snapshotWorker||(this.snapshotWorker=Im(Bm),this.offscreenCanvas=this.snapshotCanvas.transferControlToOffscreen(),this.snapshotWorker.postMessage({name:"init",parameters:{canvas:this.offscreenCanvas}},[this.offscreenCanvas])));let i={image:"",width:0,height:0,step:n},r=new Uint8Array(this.renderer.domElement.width*this.renderer.domElement.height*4);this.renderer.setRenderTarget(this.rendererTarget),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera),this.renderer.readRenderTargetPixels(this.rendererTarget,0,0,this.renderer.domElement.width,this.renderer.domElement.height,r);const o=new ImageData(new Uint8ClampedArray(r),this.renderer.domElement.width,this.renderer.domElement.height);if(this.renderer.setRenderTarget(null),!this.snapshotWorker||t){const t=document.createElement("canvas");t.width=this.renderer.domElement.width,t.height=this.renderer.domElement.height,t.style.width=this.renderer.domElement.style.width,t.style.height=this.renderer.domElement.style.height;const r=t.getContext("2d");null==r||r.clearRect(0,0,t.width,t.height),null==r||r.drawImage(this.renderer.domElement,0,0);const a=this.detectWhiteScreenWithPixel(o);if(this.logger.info("screenSnapshot captured a white picture ==>",a),!a){const e=t.toDataURL("image/png",1);i={image:e,width:t.width/this.pixelRatio,height:t.height/this.pixelRatio,step:n}}return e&&this.onScreenSnapshot(i),i}this.offscreenCanvas&&o?(this.snapshotWorker.onMessage(this.onScreenSnapshotThreadEvt),this.snapshotWorker.postMessage({name:"capture",parameters:{imageData:o,pixelRatio:this.pixelRatio,step:n,timestamp:(new Date).getTime()}})):(this.logger.info("screenSnapshot captured with worker did not executed"),e&&this.onScreenSnapshot(i))}catch(t){return this.logger.error("It has been occur an error on screenSnapshot ==>",t),{image:"",width:0,height:0}}},this.onClickObject=t=>{try{if(t=t||window&&window.event,!this.interactive)return;this.updateEvent(t);const e=new yn(this.mousePoint.x,this.mousePoint.y,1);e.unproject(this.camera),this.rayCaster.setFromCamera(this.mousePoint,this.camera),this.rayCaster.params.Points.threshold=2,this.rayCaster.set(this.camera.position,e.sub(this.camera.position).normalize());const n=[this.globalEvents[this.eventTap],this.globalEvents[this.eventTapMove],this.globalEvents[this.eventTapUp]],i=this.getVisibleList(n),r=this.rayCaster.intersectObjects(i,!0);if(r.length>0){this.controls.enablePan=!1;let e=0;const n=r.findIndex((t=>{var e;return!0!==(null==(e=t.object)||null==(e=e.userData)?void 0:e.enableFilter)}));-1!==n&&(e=n);let i=r[e].object;this.intersection=i,this.intersection.clickPoint=r[e].point;let o=this.intersection;this.intersection.draggerEnable=!0,this.intersection.type===It.indoorMapPoints&&(this.controls.enablePan=!0),this.isEnablePan&&(this.controls.enablePan=!0),this.intersection.parent&&this.intersection.parent.type===It.indoorMapWrapper&&(o=this.intersection.parent,o.childCopy=this.intersection),this.emitClickEvent(o),!this.intersection.parent||this.intersection.parent.type!==It.indoorMapWrapper&&this.intersection.parent.type!==It.indoorMapModel&&this.intersection.parent.type!==It.indoorMapInfoWindow&&this.intersection.parent.type!==It.indoorMapCustomLayer?this.intersection&&this.intersection[this.eventTap]&&this.intersection[this.eventTap].callback&&(0,this.intersection[this.eventTap].callback)(this.intersection,t,this.eventTap):(0,this.intersection.parent[this.eventTap].callback)(o,t,this.eventTap)}else this.onClickMapView({eventType:this.eventTap,data:{extend:null}})}catch(t){this.logger.error("onClickObject ==>",t)}},this.emitClickEvent=t=>{try{this.dragPlane.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(this.dragPlane.normal),this.worldPosition.setFromMatrixPosition(t.matrixWorld)),this.rayCaster.ray.intersectPlane(this.dragPlane,this.worldPoint)&&t.parent&&t.parent.matrixWorld&&(this.inverseMatrix.copy(t.parent.matrixWorld).invert(),this.offset.copy(this.worldPoint).sub(this.worldPosition.setFromMatrixPosition(t.matrixWorld)))}catch(t){this.logger.error("emitClickEvent",t)}},this.emitMoveEvent=(t,e)=>{try{let n=t;e&&(t.childCopy=e,n=e);const i=this.worldPoint.sub(this.offset).applyMatrix4(this.inverseMatrix);i.x=Math.round(i.x),i.y=Math.round(i.y),i.z=Math.round(i.z),t.beforePosition=(new yn).copy(n.position),t.position.copy(i)}catch(t){this.logger.error("emitMoveEvent",t)}},this.getVisibleList=t=>{const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(const t in r){const i=r[t].object3d,o=r[t].eventType;var n;if(i[o]||(i[o]={}),i&&r[t].callback&&(i[o].callback=r[t].callback),i.visible&&(null==(n=i.userData)||!n.enableFilter))if(0===e.length)i.type===It.indoorMapPoints?i.geometry&&e.push(i):e.push(i);else{let t=!1;e.forEach((e=>{e.uuid===i.uuid&&(t=!0)})),t||(i.type===It.indoorMapPoints?i.geometry&&e.push(i):e.push(i))}}}return e},this.dispatchEvent=t=>{const e=this;Object.assign(t,{$on(t,n){e.globalEvents.hasOwnProperty(t)&&(e.globalEvents[t][this.id]={object3d:this,eventType:t,callback:n})},$off(t){if(!t)throw new Error("");e.globalEvents.hasOwnProperty(t)&&delete e.globalEvents[t][this.id]}})},this.sceneRender=(t=!0)=>{this.shouldRender=t,this.shouldRender&&this.resize()},this.checkIfIsContainerValid=()=>0===this.container.clientWidth||0===this.container.clientHeight,this.animate=()=>{if(this.frameId=requestAnimationFrame(this.animate),!this.shouldRender)return;if(this.isWebGLContextLost)return;if(this.duringHeavyTask)return;const t=this.clock.getDelta();this.timeStart=this.timeStart+t,this.timeStart>1/this.staticFps&&(this.stats&&this.stats.begin(),this.animateFn.forEach((t=>{"function"==typeof t.fn&&t.fn()})),this.controls.update(),Mu.update(),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.render(this.scene,this.camera),this.timeStart=0,this.stats&&this.stats.end())},this.registerAnimateFn=(t,e)=>(this.animateFn.push({fnId:e,fn:t}),this.animateFn.length-1),this.removeAnimateFn=t=>{if(-1===t){const t=this.animateFn.length;return this.animateFn.length=0,this.animateFn=[],t}return this.animateFn.splice(t,1)},this.removeAnimateFnByFnId=t=>{this.animateFn.forEach(((e,n)=>{e.fnId===t&&this.animateFn.splice(n,1)}))},this.cancelAnimation=()=>{cancelAnimationFrame(this.frameId),this.renderer.clear(),this.renderer.clearDepth(),this.renderer.renderLists.dispose(),this.renderer.dispose(),this.controls.dispose(),this.scene.clear(),this.resetGlobalEvents(),this.renderer.forceContextLoss(),this.renderer.domElement=null,this.renderer.content=null,this.renderer=null,this.scene=null,this.camera=null,this.lightFront=null,this.lightBack=null,this.dragPlane=null,this.rayCaster=null,Dc.clear()},this.getMemoryInfo=()=>{const t=performance||window.performance;if(t&&t.memory){const{jsHeapSizeLimit:e,usedJSHeapSize:n,totalJSHeapSize:i}=t.memory;return{jsHeapSizeLimit:e,usedJSHeapSize:n,totalJSHeapSize:i,usePercentage:(n/e*100).toFixed(2)}}return this.logger.info("The program env does not support to get memory information"),{jsHeapSizeLimit:0,usedJSHeapSize:0,totalJSHeapSize:0,usePercentage:0}},this.setAxes=t=>{if(void 0!==t&&"number"!=typeof t)return null;const e=new FA(t||250);e.type=It.indoorMapAxes,this.scene.add(e),this.redraw()},this.removeAxes=()=>this.scene?((t,e,n)=>{for(var i,r=null,o=t.children.length-1;o>=0;o--)(i=t.children[o])&&(null==n?i.type===e&&(null===r&&(r=0),r++,Iu(i),t.remove(i)):i.type===e&&i.class===n&&(null===r&&(r=0),r++,Iu(i),t.remove(i)));return r})(this.scene,It.indoorMapAxes):null,this.zoom=t=>{this.camera.position.z=100*t},this.setTopScene=()=>{this.controls.reset(),this.controls.maxPolarAngle=Pu.minAngle,this.controls.rotateUp(this.controls.maxPolarAngle),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=100*this.zoomLevel,this.controls.maxPolarAngle=0,this.resize()},this.rotateViewScene=t=>{t<0?this.controls.rotateLeft(-t):this.controls.rotateRight(t),this.resize()},this.rotateViewLeft=t=>{const e=t/(Math.PI/180);Math.abs(e)%90==0?(this.controls.rotateLeft(t),this.resize()):this.logger.warn("The input rotation angle must be an integer multiple of 90 degrees")},this.rotateViewRight=()=>{const t=rotateAngle/(Math.PI/180);Math.abs(t)%90==0?(this.controls.rotateRight(rotateAngle),this.resize()):this.logger.warn("The input rotation angle must be an integer multiple of 90 degrees")},this.setSideScene=()=>{this.controls.maxPolarAngle=Pu.defaultAngle,this.controls.rotateDown(this.controls.maxPolarAngle),this.controls.rotateRight(45*Math.PI/180),this.resize()},this.setIsEnablePan=t=>{this.isEnablePan=t,this.controls.enablePan=t},this.enable3dControls=t=>{this.controls.enableRotate=t,t?(this.controls.mouseButtons={LEFT:2,MIDDLE:1,RIGHT:0},this.controls.touches={ONE:1,TWO:3}):(this.controls.mouseButtons={LEFT:2,MIDDLE:1,RIGHT:0},this.controls.touches={ONE:1,TWO:2})},this.onVisibility=()=>{let t={};document.hidden?(this.visibility=!1,t={info:"container has been enter background",timestamp:(new Date).getTime()},this.logger.info("The Container has been enter background")):(this.visibility=!0,t={info:"container has been enter foreground",timestamp:(new Date).getTime()},this.logger.info("The Container has been enter foreground")),this.onContainerVisibilityChange(t)},this.onContextLost=t=>{t.preventDefault();const e={info:"context lost",timestamp:(new Date).getTime()};this.isWebGLContextLost=!0,this.onRenderContextLost(e),this.renderer.forceContextRestore(),setTimeout((()=>{this.isWebGLContextLost&&(this.debug.isDevMode&&this.logger.error("reset to an new renderer"),this.initRenderer())}),500),this.logger.error("onContextLost ==>",e)},this.onContextRestored=t=>{t.preventDefault(),this.resize();const e={info:"context restored",timestamp:(new Date).getTime()};this.isWebGLContextLost=!1,this.onRenderContextRestored(e),this.logger.error("onContextRestored ==>",e)},this.onContextCreateError=t=>{t.preventDefault();const e={info:"context create error",timestamp:(new Date).getTime()};this.logger.error("onContextCreateError ==>",e)},this.changeContainerColor=t=>{this.container.style.background=t},this.setD3ViewMode=t=>{t?(this.changeContainerColor(this.d3BgColor),this.enable3dControls(!0),this.setSideScene()):(this.changeContainerColor(this.bgColor),this.enable3dControls(!1),this.setTopScene())},this.calcFov=(t,e,n)=>{let i=e;return n<1&&(i/=n),2*Math.atan(i/t/2)*(180/Math.PI)},this.autoFitScreen=(t,e)=>{this.fitWidth=t,this.fitHeight=e;let n=this.fitWidth>this.fitHeight?this.fitWidth:this.fitHeight;n<235&&(n=235),this.camera.fov=Math.ceil(this.calcFov(100*this.zoomLevel,n,this.canvasWidth/this.canvasHeight)),this.updateCameraAspect()},this.updateCameraAspect=()=>{this.camera.aspect=this.canvasWidth/this.canvasHeight,this.camera.updateProjectionMatrix()},this.getFitScale=()=>{if(this.camera.fov>20){let t=Math.ceil(this.camera.fov/20*this.camera.aspect);return t>1.5&&(t/=1.5),isNaN(t)?1:t}return 1},this.setBgColor=(t="#F5F5F5")=>{this.bgColor=t,this.changeContainerColor(this.bgColor)},this.setD3BgColor=(t="#EBF6FD")=>{this.d3BgColor=t,this.changeContainerColor(this.d3BgColor)},this.removeCanvasWebGLEvent=()=>{this.renderer.domElement&&(this.renderer.domElement.removeEventListener("webglcontextlost",this.onContextLost,!1),this.renderer.domElement.removeEventListener("webglcontextrestored",this.onContextRestored,!1),this.renderer.domElement.removeEventListener("webglcontextcreationerror",this.onContextCreateError,!1))},this.removeIndoorMap2DEvent=()=>{var t;"function"==typeof(null==(t=this.container)?void 0:t.getContext)?(this.container.removeEventListener("webglcontextlost",this.onContextLost,!1),this.container.removeEventListener("webglcontextrestored",this.onContextRestored,!1),this.container.removeEventListener("webglcontextcreationerror",this.onContextCreateError,!1)):this.removeCanvasWebGLEvent(),this.snapshotWorker&&(this.snapshotWorker.terminate(),this.snapshotWorker=void 0),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("resize",this.resize,!1),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("error",this.onError,!1),window&&"function"==typeof window.removeEventListener&&window.removeEventListener("unhandledrejection",this.onUnhandledRejection,!1),Lm(`${this.getUnionId()}_animationFrame`),this.controls.removeEventListener("start",this.controlStartFn),this.controls.removeEventListener("change",this.controlChangeFn),this.controls.removeEventListener("end",this.controlEndFn),this.container.removeEventListener(this.eventTap,this.clickFn,!1),this.container.removeEventListener(this.eventTapUp,this.clickFnUp,!1),this.container.removeEventListener(this.eventTapMove,this.clickFnMove,!1),document.removeEventListener("visibilitychange",this.onVisibility,!1)},this.setGestureEnable=t=>{this.controls&&(this.controls.enable=t,this.controls.update())},this.resetGlobalEvents=()=>{this.globalEvents={mousedown:{},mousemove:{},mouseup:{},touchstart:{},touchmove:{},touchend:{}}},this.props=t}async init(){var t;const{props:e}=this;this.logger.setLoggerInfo(e.onLoggerInfo),this.uuid=`uuid_${(new Date).getTime()}}`,this.onGestureChange=e.onGestureChange||(()=>{this.logger.warn("It seems not setup onGestureChange function")}),this.onClickMapView=e.onClickMapView||(()=>{this.logger.warn("It seems not setup onClickMapView function")}),this.onGlobalError=e.onGlobalError||(()=>{this.logger.warn("It seems not setup onGlobalError function")}),this.onScreenSnapshot=e.onScreenSnapshot||(()=>{this.logger.warn("It seems not setup onScreenSnapshot function")}),this.onRenderContextLost=e.onRenderContextLost||(()=>{this.logger.warn("It seems not setup onRenderContextLost function")}),this.onRenderContextRestored=e.onRenderContextRestored||(()=>{this.logger.warn("It seems not setup onRenderContextRestored function")}),this.onContainerVisibilityChange=e.onContainerVisibilityChange||(()=>{this.logger.warn("It seems not setup onContainerVisibilityChange function")}),this.onContainerPageReload=e.onContainerPageReload||(()=>{this.logger.warn("It seems not setup onContainerPageReload function")}),window&&"function"==typeof window.addEventListener&&window.addEventListener("error",this.onError,!1),window&&"function"==typeof window.addEventListener&&window.addEventListener("unhandledrejection",this.onUnhandledRejection,!1),this.enablePageReload=void 0!==e.enablePageReload&&e.enablePageReload,this.enhanceSkills=e.enhanceSkills||[],this.oath={auth:this.ca(this.enhanceSkills||[])},this.platform=void 0!==e.platform?e.platform:Pt.ios,this.env=void 0!==e.env?e.env:kt.webview,this.shouldRender=!0,this.staticFps=e.staticFps||60,this.useWorker=void 0===e.useWorker||e.useWorker,this.isThread=Em(this.env)&&Tm(this.env),this.clock=new TA,this.timeStart=0,this.fitWidth=0,this.fitHeight=0,this.statsMode=void 0!==e.statsMode?e.statsMode:-1,this.antialias=void 0===e.antialias||e.antialias,this.isMobile=void 0!==e.isMobile?e.isMobile:nd.mobile,this.preserveDrawingBuffer=void 0===e.preserveDrawingBuffer||e.preserveDrawingBuffer,this.logarithmicDepthBuffer=void 0===e.logarithmicDepthBuffer||e.logarithmicDepthBuffer,this.interactive=!0,this.enableLayerMoveable=!0,this.zoomLevel=9,this.draggableObjects=[],this.dragPlane=new Wn,this.mousePoint=new ln,this.offset=new yn,this.worldPosition=new yn,this.inverseMatrix=new Kn,this.worldPoint=new yn,this.animateFn=[],this.frameList=[],this.visibility=!0,this.globalEvents={mousedown:{},mousemove:{},mouseup:{},touchstart:{},touchmove:{},touchend:{}},this.bgColor="#F5F5F5",this.d3BgColor="#EBF6FD",this.frameId=0,this.moving=!1,this.duringHeavyTask=!1,this.pixelRatio=e.pixelRatio||window&&window.devicePixelRatio||1,this.container=e.container||e.canvas,this.snapshotCanvas=document.createElement("canvas"),0!==this.container.clientWidth&&0!==this.container.clientHeight||this.logger.warn("the container width or height must not be zero"),this.offsetLeft=Eu(this.container),this.offsetTop=Tu(this.container),this.canvasWidth=this.container.clientWidth,this.canvasHeight=this.container.clientHeight,this.canvasWidthHalf=this.container.clientWidth/2,this.canvasHeightHalf=this.container.clientHeight/2,this.scene=new Ss,this.eventTap=this.isMobile&&"ontouchstart"in window?"touchstart":"mousedown",this.eventTapUp=this.isMobile&&"ontouchstart"in window?"touchend":"mouseup",this.eventTapMove=this.isMobile&&"ontouchstart"in window?"touchmove":"mousemove",this.logger.info("SDK Version ==>","0.1.0-beta-3"),this.logger.info("Browser Version ==>",nd.ver),this.logger.info("Mobile Env ==>",this.isMobile),this.logger.info("Thread Env ==>",Em(this.env)),this.logger.info("isSupportOffScreenRender Env ==>",Tm(this.env)),this.logger.info("isSupportFunctionCallee Env ==>",((t=kt.webview)=>t!==kt.mini&&"undefined"!=typeof window&&"function"==typeof Function)(this.env)),this.logger.info("isSupportLocalCache Env ==>",Dm()),this.camera=new zr(20,this.canvasWidth/this.canvasHeight,.1,5e3),this.originFov=this.camera.fov,this.isWebGLContextLost=!1,await this.initRenderer(),this.controls=new Su(this.camera,this.container),this.controls.enable=!0,this.controls.enableZoom=!0,this.controls.maxPolarAngle=Pu.minAngle,this.controls.maxDistance=2500,this.controls.minDistance=100,this.enable3dControls(!1),this.controlStartFn=()=>{this.duringHeavyTask&&this.renderer.setRenderTarget(null),this.resize(),this.moving=!0,this.forceFpsImprove(),Mm(`${this.getUnionId()}_mapMoving`,{moving:!0}),this.onGestureChange(!0)},this.controlChangeFn=()=>{this.duringHeavyTask&&this.redraw()},this.controlEndFn=()=>{this.moving=!1,this.forceFpsDownToStaticFps(),Mm(`${this.getUnionId()}_mapMoving`,{moving:!1}),this.onGestureChange(!1)},this.controls.addEventListener("start",this.controlStartFn),this.container.addEventListener("change",this.controlChangeFn),this.controls.addEventListener("end",this.controlEndFn),bm(`${this.getUnionId()}_animationFrame`,(t=>{const{status:e=1,frameAnimationId:n=0}=t,i=this.frameList.findIndex((t=>t.frameAnimationId===n));1===e?-1===i&&this.frameList.push(t):0===e&&this.frameList.length>0&&i>0&&this.frameList.splice(i,1),this.frameList.length>0&&(this.staticFps=this.props.staticFps<30?60:this.props.staticFps),0===this.frameList.length&&(this.staticFps=this.props.staticFps||60),this.logger.info("Receive animation frame frameList, staticFps ==> ",this.frameList,this.staticFps)})),this.ambientLight=new Jc(16382459,1),this.scene.add(this.ambientLight),this.lightTop=new Wc(16382459,.5),this.lightTop.position.set(0,500,0),this.scene.add(this.lightTop),this.rayCaster=new BA,this.clickFn=t=>{this.interactive&&this.onClickObject(t)},this.clickFnUp=t=>{this.controls.enablePan=!0,this.interactive&&this.intersection&&(this.updateEvent(t),this.intersection[this.eventTapUp]&&(0,this.intersection[this.eventTapUp].callback)(this.intersection,t,this.eventTapUp),this.intersection&&(this.intersection.transformRotate=!1),this.intersection&&(this.intersection.draggerEnable=!1),this.intersection=null)},this.clickFnMove=t=>{try{if(!this.interactive)return;if(!this.intersection)return;if(!this.enableLayerMoveable)return;if(this.updateEvent(t),this.intersection.draggerEnable){if(this.rayCaster.setFromCamera(this.mousePoint,this.camera),this.rayCaster.ray.intersectPlane(this.dragPlane,this.worldPoint)){if(this.intersection.type===It.indoorMapStable||this.intersection.type===It.indoorMapPoints||this.intersection.type===It.indoorMapTextLayer||this.intersection.type===It.indoorMapSplitLineLayer||this.intersection.type===It.indoorMapPolygonLineLayer||this.intersection.type===It.indoorMapMaterialLayer||this.intersection.type===It.indoorMapModel||this.intersection.type===It.indoorMapImgCloud||this.intersection.type===It.indoorMapDashEditLine||this.intersection.type===It.indoorMapFilter)return;if(this.intersection.parent&&this.intersection.parent.type===It.indoorMapWrapper){const e=this.intersection.parent;this.intersection.disableInnerDragger||this.emitMoveEvent(e,this.intersection),(0,this.intersection.parent[this.eventTapMove].callback)(e,t,this.eventTapMove)}else this.intersection.disableInnerDragger||this.emitMoveEvent(this.intersection)}this.intersection[this.eventTapMove]&&this.intersection[this.eventTapMove].callback&&(0,this.intersection[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove)}this.intersection.intersectionCopy&&this.intersection.intersectionCopy.draggerEnable&&this.intersection.intersectionCopy[this.eventTapMove]&&this.intersection.intersectionCopy[this.eventTapMove].callback&&(0,this.intersection.intersectionCopy[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove),this.intersection.transformRotate&&this.intersection[this.eventTapMove]&&this.intersection[this.eventTapMove].callback&&(0,this.intersection[this.eventTapMove].callback)(this.intersection,t,this.eventTapMove)}catch(t){this.logger.error("clickFnMove ==>",t)}},this.container.addEventListener(this.eventTap,this.clickFn,!1),this.container.addEventListener(this.eventTapUp,this.clickFnUp,!1),this.container.addEventListener(this.eventTapMove,this.clickFnMove,!1),"function"==typeof(null==(t=this.container)?void 0:t.getContext)&&(this.container.addEventListener("webglcontextlost",this.onContextLost,!1),this.container.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.container.addEventListener("webglcontextcreationerror",this.onContextCreateError,!1)),document.addEventListener("visibilitychange",this.onVisibility,!1),this.platform===Pt.ios&&(document.documentElement.style.webkitUserSelect="none",document.documentElement.style.webkitTouchCallout="none"),this.statsMode>0&&(this.stats=new fm(this.pixelRatio,this.eventTap),this.stats.showPanel(this.statsMode),this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",this.stats.domElement.style.right="0px",this.stats.domElement.style.left="inherit",this.container.appendChild(this.stats.domElement)),window&&"function"==typeof window.addEventListener&&window.addEventListener("resize",this.resize,!1),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.display="block",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.snapshotCanvas.style.width=this.renderer.domElement.style.width,this.snapshotCanvas.style.height=this.renderer.domElement.style.height,this.snapshotCanvas.width=this.renderer.domElement.width,this.snapshotCanvas.height=this.renderer.domElement.height,this.animate()}}const Rm=t=>{if(Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].x=t[e].x,t[e].y=-t[e].y;else t.x=t.x,t.y=-t.y},Om=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),Hm=(t,e)=>(t/10**e).toFixed(e),Ym=["touchstart","touchmove","touchend","mousedown","mousemove","mouseup"];class Qm extends km{constructor(){super(),this.layer=void 0,this.storage=void 0,this.bytesMemory=void 0,this.colorCache=void 0,this.dataInfo=void 0,this.paramsCache=void 0,this.estimateBytesUsedOnLayer=t=>{try{if(null!==t){if(t.children)for(let e=0;e<t.children.length;e++)this.estimateBytesUsedOnLayer(t.children[e]);t.geometry&&(this.bytesMemory+=function(t){let e=0;for(const n in t.attributes){const i=t.getAttribute(n);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}(t.geometry))}}catch(t){this.logger.error("estimateBytesUsedOnLayer function occur error ==>",t)}},this.getUsedMemory=()=>(this.bytesMemory=0,this.estimateBytesUsedOnLayer(this.layer),(this.bytesMemory/1048576).toFixed(1)),this.computed=()=>{this.layer&&this.layer.userData&&(this.layer.userData={...this.layer.userData,storage:{...this.storage}})},this.setStorage=t=>{this.storage={...this.storage,...t},this.computed()},this.setStorageByKey=(t,e)=>{this.storage={...this.storage,[t]:e},this.computed()},this.clearStorage=()=>{this.storage={}},this.getStorageByKey=t=>this.storage[t],this.getStorage=()=>this.storage,this.getUserData=()=>{var t;return(null==(t=this.layer)?void 0:t.userData)||{}},this.getDataInfo=()=>this.dataInfo,this.setDataInfo=t=>{this.dataInfo=t},this.setParamsCache=t=>{this.paramsCache=t},this.getParamsCache=()=>this.paramsCache,this.remove=()=>{try{if(this.layer){const t="function"==typeof this.layer.removeFromParent&&this.layer.removeFromParent();if(this.disposeEvent(this.layer),this.dispose(),t)return t.id}return-1}catch(t){this.logger.error("remove function occur error ==>",t)}},this.dispatchScope=t=>{t.scope=this},this.disposeEvent=t=>{try{if(null!==t){if(t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.disposeEvent(t.children[e]);"function"==typeof t.$off&&Ym.forEach((e=>t.$off(e)))}}catch(t){this.logger.error("disposeEvent occur error ==>",t)}},this.dispose=()=>{this.dealloc(this.layer),this.layer.userData={},this.layer=null},this.dealloc=t=>{try{if(null!==t){if("function"==typeof t.removeFromParent&&t.removeFromParent(),t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.dealloc(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&(t.material.bumpMap.dispose(),t.material.bumpMap=void 0),t.material.envMap&&(t.material.envMap.dispose(),t.material.envMap=void 0),t.material.lightMap&&(t.material.lightMap.dispose(),t.material.lightMap=void 0),t.material.map&&(t.material.map.dispose(),t.material.map=void 0),t.material.normalMap&&(t.material.normalMap.dispose(),t.material.normalMap=void 0),t.material.specularMap&&(t.material.specularMap.dispose(),t.material.specularMap=void 0),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t&&"function"==typeof t.dispose&&t.dispose(),t&&"function"==typeof t.clear&&t.clear()}catch(t){this.logger.error("dealloc function occur error ==>",t)}},this.argb2Rgb=t=>{if(!this.colorCache[t]){const e=new Ai;if(t&&9===t.length&&0===t.indexOf("#")){const n=parseInt(t.substring(1),16),i=n>>>24,r=n>>16&255,o=n>>8&255,a=255&n;e.setRGB(Math.floor(r/2.55)/100,Math.floor(o/2.55)/100,Math.floor(a/2.55)/100);const s={colorFormat:e,alpha:Math.floor(i/2.55)/100};this.colorCache[t]=s}else{e.setRGB(1,1,1);const n={colorFormat:e,alpha:1};this.colorCache[t]=n,this.debug.isDevMode&&this.logger.error("argb2Rgb occur an unexpected format value")}}return this.colorCache[t]},this.calcHorizontalOnBase=(t,e,n,i)=>{let r=[],o=[],a=[];if(t.length<2)return t;a.push({x:2*t[0].x-t[1].x,y:2*t[0].y-t[1].y}),a.push(t[0]);for(let n=1,i=t.length-1;n<i;n++)Math.pow(t[n].y-t[n-1].y,2)+Math.pow(t[n].x-t[n-1].x,2)>e*e&&a.push(t[n]);a.push(t[t.length-1]),a.push({x:2*t[t.length-1].x-t[t.length-2].x,y:2*t[t.length-1].y-t[t.length-2].y});for(let t=1,n=a.length-1;t<n;t++){let n=a[t-1].x,i=a[t-1].y,s=a[t].x,l=a[t].y,c=a[t+1].x,A=n-s,u=i-l,d=s-c,h=l-a[t+1].y,p=0,f=0;0===d?(p=-Math.PI/2,h<0&&(p=-p)):p=Math.atan(h/d),0===A?(f=-Math.PI/2,u<0&&(f=-f)):f=Math.atan(u/A),c<s&&(p+=Math.PI),s<n&&(f+=Math.PI);let m=(f-p-Math.PI)/2,g=p+m,y=e/Math.sin(m),v=y*Math.cos(g),_=y*Math.sin(g),w=s+v,x=l+_,b=s-v,M=l-_;r.push({x:w,y:x}),o.push({x:b,y:M})}let s=r.concat(o.reverse());return s.push(r[0]),s=s.map((t=>({x:parseFloat(t.x.toFixed(2)),y:parseFloat(t.y.toFixed(2))}))),s},this.parallelLineOfPolyline=(t,e)=>{function n(t){return t<-o?-1:t>o?1:0}function i(t,e){const n=Math.sqrt(t**2+e**2);return[t/n,e/n]}function r(t,e,n,i){return t*i-n*e}const o=1e-8,a=[],s=[],l=t.length;for(let o=0;o<l;o++)if(0===o){const{x:n,y:r}=t[o],{x:l,y:c}=t[o+1],[A,u]=i(r-c,l-n);a.push({x:n+A*e,y:r+u*e}),s.push({x:n-A*e,y:r-u*e})}else if(o===l-1){const{x:n,y:r}=t[o-1],{x:l,y:c}=t[o],[A,u]=i(r-c,l-n);a.push({x:l+A*e,y:c+u*e}),s.push({x:l-A*e,y:c-u*e})}else{const{x:l,y:c}=t[o],{x:A,y:u}=t[o-1],{x:d,y:h}=t[o+1],[p,f]=i(A-l,u-c),[m,g]=i(d-l,h-c);if(0===n(r(p,f,m,g)))continue;const[y,v]=i((p+m)/2,(f+g)/2),_=e/Math.abs(r(y,v,m,g));r(A-l,u-c,d-l,h-c)>0?(a.push({x:l-y*_,y:c-v*_}),s.push({x:l+y*_,y:c+v*_})):(a.push({x:l+y*_,y:c+v*_}),s.push({x:l-y*_,y:c-v*_}))}return[...a,...s.reverse(),a[0]].map((t=>({x:+t.x.toFixed(2),y:+t.y.toFixed(2)})))},this.calculateCoordinatesBetweenPoints=(t,e,n,i,r)=>{const o=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y),s=t.x<e.x?1:-1,l=t.y<e.y?1:-1;let c=o-a,A=t.x,u=t.y;for(;r.push({x:A,y:u,colorHex:i,isRoom:n}),A!==e.x||u!==e.y;){const t=2*c;t>-a&&(c-=a,A+=s),t<o&&(c+=o,u+=l)}},this.calculateFlatVector3BetweenPoints=(t,e,n)=>{const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),o=t.x<e.x?1:-1,a=t.y<e.y?1:-1;let s=i-r,{x:l}=t,{y:c}=t;for(;n.push(l,c,0),l!==e.x||c!==e.y;){const t=2*s;t>-r&&(s-=r,l+=o),t<i&&(s+=i,c+=a)}},this.layer=null,this.storage={},this.bytesMemory=0,this.dataInfo={},this.paramsCache={},this.colorCache={}}}class jm extends Qm{constructor(t){super(),this.params=void 0,this.lineLayer=void 0,this.createCurveLines=t=>{const e=new Dl(0,0,t.radius,0,2*Math.PI).getPoints(50),n=t.lineParams.lineWidth,i=t.lineParams.lineColor,r=t.lineParams.dashSize,o=t.lineParams.gapSize,a=t.lineParams.isDash,s=t.lineParams.opacity,l=new Ni;l.setFromPoints(e);let c=null;c=a?new Tc({color:i,linewidth:n,dashSize:r,gapSize:o,opacity:s}):new cl({color:i,linewidth:n,opacity:s});const A=new fl(l,c);return A.position.z=1,this.lineLayer=A,this.dispatchScope(A),A.type=It.indoorMapCircleLineLayer,A.computeLineDistances(),A},this.createCircles=t=>{const e=t.radius,n=t.segments,i=new Sl(e,n),r=t.depthWrite,o=new gr({color:t.color,transparent:t.transparent,opacity:t.opacity,depthWrite:r}),a=new Fr(i,o);a.position.set(t.point.x,t.point.y,t.height),a.type=It.indoorMapCircleLayer,this.dispatchScope(a);const s=this.createCurveLines(t);return a.add(s),a},this.updateCircleLayerPosition=t=>{var e;null==(e=this.layer)||e.position.set(t.x,-t.y,this.params.height)};const e=Qf({color:"#000000",opacity:.3,transparent:!0,showLine:!0,depthWrite:!0,lineParams:{lineWidth:1,isDash:!0,dashSize:1.5,gapSize:1,lineColor:"#FFFFFF",opacity:1},height:2,radius:30,segments:100,point:{x:40,y:40}},t);Rm(e.point),this.params=e,this.layer=this.createCircles(e)}}class Nm extends Qm{constructor(t){super(),this.position=void 0,this.origin=void 0,this.bgColor=void 0,this.borderColor=void 0,this.createNearCircle=t=>{const{colorFormat:e,alpha:n}=this.argb2Rgb(this.bgColor),{colorFormat:i,alpha:r}=this.argb2Rgb(this.borderColor),o={color:e,opacity:n,point:{x:t.position.x+this.origin.x,y:t.position.y+this.origin.y},radius:20,lineParams:{lineColor:i,opacity:r}};return new jm(o).layer},this.updateNearCirclePosition=t=>{this.layer.scope.updateCircleLayerPosition({x:t.x+this.origin.x,y:t.y+this.origin.y})},this.hideNearCircle=t=>{this.layer.visible=!t},this.removeNearCircle=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.position=t.position,this.origin=t.origin||{x:0,y:0},this.bgColor=t.bgColor||"#4d000000",this.borderColor=t.borderColor||"#FFFFFFFF",this.layer=this.createNearCircle(t)}}var Wm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAM+ElEQVR4Ad1cXWhdWRU+N0mTpk3SSTJTcGbwJ2m1jJ1aEUXKiKXaTvFhHoQyKIoFkSkICqNYCs6T+tARZnR0tK3MQLEv1j4UH0oLpQzOVAISsa1YmTQtdOKMVtL0J/1Nk7i+0/Odrrvv2ufv3nvS3A0na+29115rfd/d+5x9zj25lWDhS6XBKcw32F8ud40Gkxa87HjMpzSSywCYJ0YeW5IFmYewPLY6Ria9KIAsztN8W/1WW5ZYFklWm/aV1q9tM+tFASQFSPOp+306/et+tkFaZOg2n659UNe2bCssfQkXcZjkS/dZutWWNQdNCHVK+PDprn9t5/ZlrmsgmQc5hkk+dB91U54+ffrJoaGhDUuWLFnT3t7+8ba2tlUSZ6BSqfSI7I1iXp+fn58W/fLc3Ny52dnZd2dmZv51/vz5v6xbt24isiExPgkz9kVDqkRSX5VhMyogxzrapJ1Hu+g4OuRYEh2dGzduXDo5Obn17t27vxNyxoSougp8wBd8wrfE6VTxEJt5MC9IK3d+4NJdbvElw4QJoIrIM2fODN+5c+fnwt57dTGYPPg9xEAsoSSNWB+OUtm0kkgkcmxs7CmZQW8KD3eTuWhor4S8+yZiFyS2FFLTyMSM5KzsPHjw4ICAelVommkoVfmczSAH5KKIZZ5YSZwMFramkWoFQxuTQWIxkaJ3XblyZZvgnsiHvanWE8gJucnBUwFyTiMVOBteLEJBJpKpInP37t29MiN+21Rq6nCO3JCj5O2SSmItrA0l1Apgkdk1Ojq6Sq64f6sDbylDkSNyFZYwW7H74ExtOqlZyMQn3XXhwoX1kujDtMQTPxzkipwjUoGh6aSmkYlPNiTz4sWLX5DsJxMRPJydk8hdkQpMPI1hFVocSHP+Yjlyl3lIpmxLPr1IyeRHPAkMQhEvVk2ZqS6hIJOEImBIZnTOXDTLnAy6EstfnVP18idul49cU9QdTKf6at61c+fOFTi5u8kt1jqwAFM0U/WFivhdXjKT6g7UMxOBsDSW3r59e89iJc+XNzABW4TRJdXlRcyqC4hyCwbp4joJ6/IQ4rmurq4XtGEr6MAEbILFxO1gdLkKz4mOTVXVHRAG2bt3b09/f/+rVZYtVAE2YBRIJFWjcznRfTU6HVBaS71blsUvfEumVdqBUdjplsPd+IMT8kMZE2kteXbCmIUDK6dOnRqWZfFddrSqBEZgFXwxdoVVc6Oa72+D2GAZ0RlsQn3NmjU/FB3bplYvHRHWGg4M4DF3vhkaG8hgOqyMjIw82dnZ+XXDYa6m0f/MBz87ORu89tfZ4NLNXEMTjSdvBcFvRmeDl0dmg3/8r/5vMoAVmCVozIFKQHMUN+tGV9dOQHzbzZs3f9rd3f1iPLqAAjJ/cHwmHtnXVQle+XJHsKpfh4+7MyvnpuaDF4/fC67deUDkr59dEqx9rD6/t27demXZsmU/lkTmogMB9MEcw8CcoTqqq6NekS/B2pYuXfo8RxeVR8eR14MCAkAECClaLDLh64gTq4h/YAZ2GRvyEEm6crnybps4GAND/ciRIxvlG8gn6Kmo7MFNnVPqIdVHJkL0YFteZwFmYBc3NZxYrjlDrT600UllcHDwqz6jPO1f+2R7gGXuliKkJpGJGM8/hTvl+kuEPeYiyaNLqEaqHVTkBP3FJEdZ+1YuC8JzZr2kppGJ8/IgdpENKBH2Kj6UW82ZueQ5MB5z/PjxJ+TFA+zJGlJwAQLgoqRmIbPei5wGCuzgQLeJXsMT+nmydWzDKgfggrTBMqinrSipZZNJjBEHMSdsd2TFXfLsx0CU0IFsGz5xv9rYv3lJXSgygTrigISiiRxBj4tFKA0pA3nfaHU8osFKVlIXkkxAdjggN5QxK2hgI3VKkI2jXV7KelvOI/gyq2klibAVcsXGLlVv2pkIzsONuDGgP5+Uh89/l5fY8N3TrBzeTb41Q+GTpIZS9mL9aGxm4UztNbZUV2Xzb5EJ2zLIBO6IgypeLD58hLq2fJ3QbW9oPST1Sx2BRaobKCRTbDGmpJKJgzRCw2zl08HD1lLK6gGZdSmkkkzYllUUB4lBLULdAW696RgqEjEpKPpgswDFjerWzY0984yN5Sk83houpSRdnJhAkdtUji0qHQ5iblx/1gx1bQLHWU1/oxqykMlYZZOalYNMhMqWYYpAmiWTyMTWyLpQlUlqVg4yESr70PFmEQm/aWRia+S7UJVFalYOkgiNn/jK+5RjzSI0C5nYGvHqX/SBSr35OxzE3Lh+LUJd4/nr16+/6w5sRD0rmYwVklrHUyr6KSIjDmq4cX1ZhGqb0MHJkydHdGMj9LxkMibvqMqeqYoDl1SmFkpc/rkFoA4JonngsXebnENGG/VMtCiZkkdcGuEjdpaiyAVpXO7jPyNmuIfX9/Kog2Ae3n0oDSgD+fbvbRlYd/nvjaDm20k6zfOgI8tMxdfKjSgKO/mgrHGvl7zPKGyfmJg4XDO6QMMf/jlrPujIQybDppGKWI0oEfZEfhhHE8o2DEShDCtbtmz5s0z998NKHX+mH3wlH3spQiYHJ5FqxeK4rBKYgd2xJzeUcbdFKDppCBke8h763PT09B/jkQWVZ4eqQ9ZDJlPwkfqV4epYtM8jgRnYZUzMRTSeHFW54/es1oUJhlUXqvXr14+vXbv2O9LOcVXOslQe76kET68E0ErwKZG7NnQEH+5j+CwebJuB7kqwZeh+Wh95pC34/mc76n5rRCLNHD58+IVDhw5dE919qGwlMk8klgRqfSDbNvnEfrV8+fJvWN5are3GjRu/7+np+Z7gsq7unLWAzdk6764JdtBIT/NQf+utt/De5D0YtHi5J1h/KRhrOIjaCF9zVrUHpYFe5tA5S8MZKvX2q1ev/qSvr6+l3xG9du3a6ytWrHhJ8HLfScmZqYkmdzUzNO4QhcxzIB3N7dq1a7dc/T6gcatJYANGwRVjjvhwOUmErmcmZiVmJF6sxStXeC0aL7bgq5A+OfrlH6W+Kc8IW7IAGzBGWIE5y6vhYvbgttOnc8lTkuhQyrJ4ube399uhpxb5Iw9B3pDT2Y8EDpc4pTtbgZgzNtZBjFVcQy57yNjxtm3bXpIfUTltOViMbcACTBqj6Bq7y0sqTHfZc0Zi2ePNTvxDlLw/Fy59/MdZ/4EDB56WByf/XuxrHxiABZjkADYsdWDVPwjDCzN40VxJ1S7aiMvcOpcul+H4nhqBB44dO7ZBTuSXFyupyB0YgCXCBGzAmOXcCZ4SiyYVnwRnafwPs9KGQAiIC9QjcgzIy/2bFyOpyBm5A0OEBZg0mWn/SCvmyUUTas1Sd+nHpOJTXkzLH7mqmYmJASzWUsdk4nJ3+UlmM+p1B+lZym2UPp/GpO7fv3+dfP9y6mFf/sgRuQpePTM1mbn+gy6NVYtQi1QsfV6kYlI3b978uPz6zBsPK6nIDTl6yPSdN4Hf5SWNx6p+dzAcalKx9LnhryFV+h49e/bst2RZvf+wEItckBNyk8OamSQz7bwJbnIXl1DUSSiv/GmkDm7fvv2jMiNeF1IX9IewkANyEQyDcmQl03feLESoxK2Z4i6p3J9aMzXcp0YAHpVf9fqc3IUcEGJL/ak2xERsyQOzEmRyn6kvQHpmAhOIbDiZ4jMsINE9fDOVFyq9Tw23VeIDYB7bt2/f+suXL7/WzN0AfCMGYiFmFJuzEh8095ncuGNC6GVemMysU9eyI8mSS0w4iGY7dVeG/StXrmw/evToM8PDw8/JA+tn5GvaITgqWoTE8/JA+J3x8fE/bd269Z1Lly7hHlzfNsa3zFE767DROlLgOOi6oD2xWET5Bli2JA9jqFOSSNSpU9Imlnv27PnQpk2bPi+/prBa/r9ylfy/+sfkPYB+OZbzZVc5XUzLRvyGHFPyc5YX5EcCzk1NTY2dOHFiZMeOHR9IHBLhShJGiX6t016aYx/QdYFNagGgrMVny/aYHHFo6V4ylT1y0f5Q9xUC1JLEWNIi0LVDLPpz4/raq+yYfFVjSsUawzZIV2cbpUsswrGPY9kG6SsaoCYG9rqeRKS2pQ6pi46j201dAzANPI3WOLZp6eqo+w6E0vYMzTbWNUDqWkJPOuCH/dS1hM5Cv6ynSjfZ1AHKwDeW7Vq6OupWG9yz3dVRZ9FAqZMkq+62wY9uo18t2a/bUnWdfKqxYeAbr9upQ6bpCKFtjJBxEwFTogM660k6ndCWdUpfO/u9ksl7DTJ0JPnQfdSzSoamPesuWNazSvihLX1qmdSn7UzdTdY0ytiY5Ev3WbrVljFsFTkkgxI+fLrrX9u5fZnrGkjmQSmGaT51v09nCN3PNkgLvG7z6doHdW3LtsLSl3Bhh2pgmm+r32pTLr2qRYrVph2k9WvbzDruWZtdipKUJ6885OSxzZNDaFsGWJ1U2fEYu6kkMgjkQgFsZg6lkadBUP8/4xtLtVlVRlMAAAAASUVORK5CYII=",Vm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAMp0lEQVR4AeVcXWgdxxXeK9mSYkuWJbtOm7imsuy2hNa4DYTWSakwNYhC81AwgdJiQwt1KbSh0Bo/BAp9cgtNfwix3SZU1E/uSymuf6hxHhIHQXHBcsAlsqzUUZPUoB/bEv65kdTzrfdbn507s3+6u/dKGVidMzNnzjnfd2dm9+7uVcVrfKnUOYXFOvvL5K7eYJKClx2P+ZRGchkAs8TIYkuyILMQlsVWx0il5wWQxnmSb1u/rS1NLBtJtjbtK6lf26bW8wKIC5DkU/e7dPrX/WyDtJGh21y69kFd27Itt3QlnMdhnC/dZ9NtbWlz0IRQp4QPl27613ZmX+q6BpJ6kGEY50P3UbfKkZGRzVu3bt21evXqz7a2tn66paVlm8TprVQqnSK7gpi3FxcXZ0WfWlhYuDo/P/92tVr997Vr197csWPHRGBDYlwSZuwLhkREXF/EsIgKyLEdLdLOo1V0HKvkWB0cbQMDAx2Tk5OD9+/f/4OQMypELanAB3zBJ3xLnDYVD7GZB/OCtOXOD1y6yy2uZJgwAUSIvHz5cv+9e/d+Jey9uyQG4we/ixiIJZQkEevCUSqbtiRiiRwdHX1CZtCrwsP9eC7q2ish77+K2DmJLYXUJDIxIzkr206cONEroF4Umqp1pSqbsypyQC6KWOaJlcTJYMNWGKm2YGhjMkgsJFL09pmZmb2CeyIb9kKtJ5ATcpODWwFyTiIVOOtebISCTCQTIfPw4cNdMiNeLpSaJThHbshR8jZJJbE2rHUl1BbARmb7xYsXt8kZ919LwFvKUOSIXIUlzFZcfXCmFk5qGjLxSbePj4/vlESbaYnHfjjIFTkHpAJD4aQmkYlP1ifz+vXrX5HsJ2MRNGfnJHJXpAITtzGsQhsH0py92ByZy9wnUy5LvrBMyeRHPAkMQhFPVoXMVJNQkElCEdAnM9gzl80yJ4OmxPJXe6pe/sRt8pFpipqD6VSfzdsPHjzYjc3dTG651oEFmIKZqk9UxG/ykppUc6CemQiEpdFx9+7dI8uVPFfewARsAUaTVJMXMYsWEGUWDNLFdOLX5SbEs+3t7d/XhitBByZgEyxW3AZGkyt/TzRsIlVzgB/k6NGjnT09PS9GLFdQBdiAUSCRVI3O5ET31eh0QGlb6o/IsviNa8mslHZgFHYekcO88Acn5IcyJNK25NkJYxYOrFy6dKlflsUP2bFSJTACq+ALsSusmhvV/MCYDaaRdgQd5LfIfcaX29ra9nFQo+UHc573/D+q3gezi9723hbv119b5XXhoqcORb7zDwmxPxBXC8GBu/n60FH8O/2uGarJDYkdHh7eLGR+S3tppK7JRB6jUwveT8596M1W65MVsAKzeAs5UJ41R2Gzi1AY0Emoy3ObA1LBpUTDy/TdhzNTJwNSr075k0U359VXB5hruHA5JKGabVP3nYnjlo6OjudcjspsxwxcL1eKX3yU6Uejt+HrR50KMAO7uCOpJj+M5LfbM3o4GMa+o1OnTg3IE8jHObpREsv8e3+vekMj895Pv9zqfb0/yt7+Ha3eExs15qVlCszALl58HgJvWo8EwHfyuMKBlQ0bNnwzzrCMPr1n/kkIRQGpKKfG5j2QiaPeJcD+mvglH849xSQUA1g42JeyQX+VHY2QmkzG16Q+/ckW7+nNOn1aLV0G2CN8iFeSinbq1m9KHBhmcu7cucflxYP+sKFkxUYmUwCpl/63WBiZiAPs4IAxA1nDk28rf9BhKxxQkU15l82gjLY4MhEfS3znoy4I9csw4CDkxOG5EndSwhjfwZo1az7jcFBocxoyi9gzbaACDkgoTKyfoo1QGlJ68r7RdluQItuaiUzgNDggN5QhFZpQdNYYoG3VqlWl7p/NRibYCjiw8qN504RiHAvJ9aVci/Wwo2jZjGQCc8BBhBcbFy5CTVu+Tmi217XerGQGIFNxkESoP8Xl08HN1kJLk5OJGUoOfE5cZNgINQeYdZev3O3NTqYCZnJh1q0X9hwfGstdeLw1XEhZLmQaHITcmKTYZqhp4xnOavrzNiwXMoEvLQepCJXn1dN5SXONm3Lcz6R9UTc66D+rTMtBKkLlxwFjWRNIsr9+c9F/bGGzazYykWNaDuIIDe+gyLOVURvwItqakUzgNDgIuTE5sBFqGi/evn37bXNgEfVmJRNYAw5quDF5MO+Hmv2+gwsXLgzv3Ys3qetXPt5ZidwMRn1wq+3zrV/MpXgCB8F4k9SIW5z+eQlAHRLIeOAWeIvsIRcbeU9UcmhYkRPSmPwY7UlJAI+T8aiAj5UhQTAP53UoDSi9O3fuvC4DP5JFYScflDV86DXmMvLbJyYm/loz+iPSEGCP5YdUcJmbdRCNPn+5Q27ZsqVV3kd/S5b9YzTOKt+RSyU8spiRa9AyCh4175M7+n3dgJKvyHJ/r6+v73Py2jiWOpc7JAjWS94P4DopwRhZ8FNZFIcLs7Ozf1m3bt2P/ZE5/vz89Q+9d2bgsrwyLvGGvpH/3QxgBnbJOOQiyN4KBDPR2mE48G1Onz79R2mX1wzylbJmps7u1j1dy6xXA8wYqAl1csa1YJM8y1P6y18+sd+vXbv225lTkwGv/WfB++0/seRd+eTx6h6zvqPiPf9UqzewBRCyl7m5uT93dnb+SEZihnK5Q+dBIKb0lzdIxYHoIA/bAd5jk53IWyMHbrB2nzx58km5UdDI321K+FJKFViBOcAODsCF+YMG8uZPSv+PGFGKGiEX7ZEZKvXWmzdv/kL20hX9juitW7de6u7ufkHwcmZSmvspZ6eYeouutQAjGlKno4VDhw4dlrPf+/CwEguwAaNgCzGLTh4AWeuoWwtmIw+97HGKxGvReD0ajwHWydEjP5T6TikLrwFBgA0YA6zAnObVcDGrXep+o2rnkqck0b6UZfHLrq6u73LQSpByE+QV2c5+Jli4xCnN2Qq4XMWhHrfkYYTC6U0ZOpYbJi/IP1EZeWC2/P8CCzAJkhCjBT+BajLZViO55M0ZiWWvz/hYBjj79Rw/fvzzcuPkvw1YmXUNCQzAAkwBNmDUZ3ZwwG+OmIiaK6naizYiqbyE0nvpWhnuX0aJ7D179uwu2cin6oqwRGfIHRiARQ5eJgFjmr0TPMUWTSo+CX+/FMnrUp6gEBAnqPVy9MrL/XuWI6nIGbkDQ4AFmDSZ5nVn6tkpfvyiCbXNUnPph6TiU15Oyx+5qpmJiQEstqWOycTlbvLjk5b0xxykZymXPr9BIYGQ1KGhoR3y/OVSiSs2VyjkiFwldz0zNZlYicC6ZDLFR2TD5Sy1kYo9Bht3hNQ9e/Y8Jv995pVcSEsYhNyQo+RtI9O1b5pLHbxkKrZZqknF0ud+WkOq9G28cuXKPllW75XAUaoQyAU5ITc54shM2jczkynxamYpZyr2Ep75k0jdsH///k/JjHhJEDfyhkoVOSAXyX2DHGnJdO2buQiVuImkYo9xkepfp0o/AGyU/+r1lHwLOS7Elvqv2hATsZFDkAuvM/UJiMscWICJk8a2zHOTKX79AgfmwaVvzlSeqPR1qn9ZJT5A7MeOHTu2c2pq6ndFXg3AN2IgFmIGsTkr9XUmL9yxdellnntmpmXbZkeSJZeQcP2JUjelP27Tpk2tZ86ceaa/v/9ZuWH9jDym3QpHeYuQeE1uCL8xNjb2t8HBwTdu3LiB7+D8ugxpfp1kXfdBR+G4B7WHf9n/sMXQbEQZJmHVZmsjlW0kEnXqlLQJ5ZEjRz6xe/fuL8l/U9guv6/cJj+r7pMHgj1yrOXLrrJdzMqF+Jwc0/Iz83H5JwFXp6enR8+fPz984MCB9yUOiTAlyaNEv9ZpD7BaR50F7YkFgNIWly3bQ3LEoU13kqnskYv2h7qrEKCWJMMmbQSadohFf2ZcV3vEjslHGhMqtjFsgzR1tlGaxCIc+ziWbZCuogFqYmCv63FEalvqkLroOLrdqmsAVgNHo20c27Q0ddRdB0Jpe4ZmG+saIHUtoccd8MN+6lpCZ6Ff1hOlmWziAGXgGst2LU0ddVsb3LPd1FFn0UCpkyRb3WyDH91Gv1qyX7cl6jr5RGOLgWu8bqcOmaQjhLaxhAybCJgSHdBZj9PphLasU7ra2e+UTN5pkKIjzofuo55WMjTtWTfBsp5Wwg9t6VPLuD5tZ9XNZK1GKRvjfOk+m25rSxk2Qg7JoIQPl27613ZmX+q6BpJ6UIJhkk/d79IZQvezDdIGXre5dO2DurZlW27pSji3QzUwybet39amXDpVGym2Nu0gqV/bptbxnbXokpekLHllISeLbZYcfNsywOqkyo7H2IWSyCCQjQJYZA6lkadBUP8/wjB08j9jWWkAAAAASUVORK5CYII=",zm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAAMvklEQVR4Ae1cbYxUZxW+M/sBLSyw1dC0paC7LGlNWWv6p+EjrgQChER/ABtNNRJiDCHG8EcxsdXUkihRA9HGLESlWH4QCgkxNMAPcbVIMCkoyw9WYMElS5sSt8vH8rU7s+N5LvMMZ9773q/ZOzO7sCe5Oec973nPe95nzvtx79yZlFN9SiUcQi5hf7HcJT2YsM4r3R/jqRjIlRhgnD7i2BIs8DiAxbHVfUSSSx1AFOdhvm31Nl2Uvmwg2XTaV1i9to0slzqAoA7CfOp6P5n+dT114DYwtM5P1j4oa1vqSuZ+AZfiMMiXrrPJNl3UGDQglMnhw082/Ws7sy5yWQ8kciPDMMiHrqMclbMb2rNsDpzlqBx+aEufmgfVaTurbAZrNQpQ+rXXesrgYTK60jYBXRdA0QBAZjlIpl/askzup2e9L2fwvgYBFX5tqdfclFG26dAd9aaMMkkPmDI4L9hRJtc6yppD1oR2sak2dosHDfSg6YI6zU0ZZb8Lflz7ffv2Pbdw4cJXGxoa5tXX17fU1NQ0p9PpxlQqNRUXDHO53KCwW8IHMplMz/Dw8IU7d+78p6ur68TSpUuvwsRyicrtwwaWqUMspg7tEycbIGnpBVeNXPiQcNXJVS/XJLkmy/WEXE/KBUAa5Jom13Rcs2fPbuzu7v7a4ODgrmw2e1FAGhXBx927d//Q19e3qrW1dYr0gb4RA2JBTIiNcSJmxm8bm1SXh2ydQcdgCGZUIGfs3bv3pRs3bmwXAK6OCsGAxiMjI32Sub8+efJki8TqB2wYqBhn4mQDlFlpA5MZiQxhRs4QufHQoUOvSDb+SXAYCsAi6aqh+/fv7zpz5sxLEgNiM7MVYyCwtrFKdXJk68AGpp7eABLTm1O7cePGjc9LRr4tSA0njVYMf8P37t3bvmPHjs9KbFwGuARUBNQoYOq1EusksxJrJLLyqQsXLnxLpvZHMQZeVlNZCq729/e3K1AxBqyrZQU1DEy9XnKKF2Xl8uXLn7l58+bvy4rOKJxLtnZs3rwZH7xeAsoCahiY+DSZmSaYblbu2bNn/tDQ0JlRjLciTSVbT586dWquArUsmWoCau7mgWAePXp0QTl376SRxmlAlqUvWUDluE08xDQ6mY3pFFMBnx6mOqaINTPliLJMAvw06UFXwF//lStXFufHpjcqjt/ERUyjkdkQDk0wsUPyoI6d3J3myMxxCiY/r/7Lly+/LONBwpigmriISTiZjUwwMdWtYO7evbt1PE1zImhyTP/8moqxjhpUDShTndmp100cjQqZuWzZsmfHwwZkgudXFlBPb926FTckGDM3KeKhMZLqh4QKTbaybkyHmgPs9PXr17dOnz59vXY23mV54NIhD2c2yThG5DIftujhFR6iABg/0uBqUCkT1NS5c+dWPWpgApS6uroNkihfFZFjJlYaG+pcjlQm2Yy0I8rgANPl69ata5g3b97P6SSIXxzIOb84kXV6rufw+C3I1JlSn3JWNaedja9gAlSPJFG2yePEv7S3t9+SKDBmkBk89K6OBjCyydAVwMvL7hQXmVP9Tel0o5RD6TvvZ5yLA5g90WlLW52zaJYOLXrbpCxl6m+Xqb9Z/AE0Tn+418C6ctiU50jATXBT8sk1CZjfhecohMyMS58Mxm8Tt48we5n635ND/9y8HbGwNiOgBA5GpkwHJk+vXLny+2Kvlw1rJ1SGTXPakTfItF88myFSWxVeO2fOnB9Iz8SAQZhY+YKhG1LWUz+1c+fO56ZOnYqnNYnQE7UpZ82LaacmHyLW0C8LmDNx6zAGSLL0tbNnz26ZP3/+FQmHQHqmT1h2EUwPX7NmzXpxjENvInQ3k3N6b+Scny6uLYCaiOPknNTJ5rtB3P1YLg+Q7MacT0Qe9R4QqZs5c2aNrJ2r6SQp/vcrI86bH2ScrG+4SfVUmh/ZmL7e1tbGmUonGjN3B2cFOYFkGZw6lx85cmSRfAv5rDYoRX6yrigW18UYB3XWgQMH2vJjJSZFQzfR1pVsQI46V25ubsZhd9S05oW0s+Rz3nPmWAZVvtrGzAQONkqZU55GbEAwi/iUKVMW0XA0PC1eX19Y43xlHIFaW1vblh8zMSqCwAYoDcnZAOVUR0fHM/LiQROVo+UEtW2ON5SxmKnyosVceZliVn7cJkZFa6gLmAUg6t3GS5YsedViE0mFo5AmlnFUemNRrTNeQG1qalqgxkF8XJU3LR5Y0oic7VONjY0tLMTluDcn4dCOcyYpDNR95+LdstJvObicSV8Qv8DGQ2HnUDYoNJ48eTJvwVgXmeNBR+vTaQe3k7gDMg/tBDWXyzh/kyOUpjOfjDjf+MLDD0DXVVqWJW+eX59hERaAFAdutk6aNOnzfs6i6PGgY7Xs7iaYbAtQfyKHe529qPuifBBjheTI6JtULkj5QCkjcsjgONPop0s18qbbh/IJPS/6shIO95jmyEyA2a5uS8vacQTn8kyiV0BFluIWhE+f3NsRggg3lAloEZBS7wIsXw2ck53uKTR4jKlfMMCNjQdQgBSL+H5mrEaPnjG+a7JSbECtXiaUBQRiAyrrB94cftwJX4dYKejY5C6y+VYFWdbQ27IpjYk1lBvXv2XjermCG1dQUtkABXjYoEgFMKEQQAcqscuz8yD+npwCdpzOuCb/vDridP8v7R65cPQqM32a91+EDXRhU143gJyTt4Av551VnXVdKz7842bgZwHPU6/dcZwD3SPO8T49rPjDkKS66NcqDFC2K0Qg71P6OqNxpXjrTG/4APWt496H1ABz/aFh57cfZpzXO4ed353KlhymvG503q+xN6IHlm42ikjO9rmBgYELLFSbr5XDvnlHhZg6e72gAujBoUJeOO/3FGd3nLHI18rdYv/QmWqsATXBoxn1roNjx46dZEW1ud9tKuIyQb2twES9WYYuKl26dOmEsiU+rkoDShsXOCmQa31uw4YNH0vKX6Ky2pyg2h79AdQt/8gm+h2V7PAX5bdPfflxmxj5fo0MQ+yV4J7r9u3bx6dNm9aUd1p1BlDxPNVxMm5m6oD++t+sO5BZvvc22jpclmcZnXkrD5jQI0OtFXm9BhP2brmnp+fPKIwlIqi2TD0moO6X3T0JunXr1gHx44uZ35Q3G2hgcytWrDguR4ePkggwSR8E1fYd1Z1hc0gl9dy3evXqznxLYlLkyARU98oGHn7t2rWs/IALn9SYI4CKL/5s36aONlh5oXhvZ2cnUt3EqeDaBLRQkRc8YOad5fbv3/9HkYfNBtUq45z5nkzrd7qyzrtnsw7WTNv3/qOIb/j8+fMd0l6D6XHHmzRyGFAGB+DkkIuekcp6sk3eb3pN9FUlHtr1OTNKQJ3frI9i5trI2XOXvDmCV3EAqM5SDXCOGVqkVL1A73eNHD58+DdS/+BmWjWqtPiBcWiP0r88141iRptMb2/vr6RALKj34EZAaaC5bkyZn4zL5a3eS7KW7tSNqiE/PTUWOG6IzTOit5HsfLulpYW33MTCOlQ/QE3k6QS8CNRNmzb9Unb8j63eK6TEF3/tL9a4r5GHdYnMnNuYdn60AKtXJLp68ODBt8SSGLCRxog6D8fHxgtg40LPeG0RC85kufhjL/zgtFGuz8iPFr4tdxCPJMmPFtbKGDF2YMA9BLgQp6JULyrkjYQVSDeCTJA1dzuZ+FnNA8wAjCZbGjPVyTHleUHnymvXrn1D1pou7Ww8yzLd/rVt27Yfyhg4bnJzWNAHki0rkYW4WbZN/Wmid3/nOfHTRH9cw0DFD0v1eloAdeLHs3ZQbYBiedCZClAnft5tx8+qDQMVO58vqBN/QODF1AQUZWYpMzUQ1Im/yIgPKjcpW6a659SJP3GJDyp2f2YqN6qJvxny4likiTL9ka3c/bFZTfwRVhGE3kJUUJmtPAEwW3m04l+1vSuH50r/Vds7Y+Wv2gCvDVBuVNys9OFfZyvv//FVGYDF+vrY/5mgYOCSDVgAqkGNA+wj9XeXAKcUsrWjTnNTRtnvQhyufRn/kJX33fq+XOtMLFhn6n3LHLCvQUCFX1vqNTdllG06dEe9KaNM0gOlDM4LdpTJtY6y5pA1oV1s0sHHbiwN/NprPWXwMBkxaBuU/YgDJoddEHi0I6e9zb+2sdX76hi8r0GEiiAfuo5yVM6uac+yOViWo3L4oS19ah5Up+2sshms1SiiMsiXrrPJNl3EbovAIRjk8OEnm/61nVkXuawHErlRiGGYT13vJ7MLXU8duG3wWucnax+UtS11JXO/gEt2qBqG+bbV23TKpa9oA8Wm0w7C6rVtZBlPjcpNpYIUJ6444MSxjRODa1uJweqgKt0f+y4riOwEvFoDLGcMFQNPD4Ly/wHSqj6IYELXcgAAAABJRU5ErkJggg==",Gm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAA2FBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////9+0yGE1Svo99fn99aR2ULv+eTA6ZOO2D2t43Kr4m+e3li654i25oJ/0yL7/fn0++yC1CeN2DvL7aac3VWx5Hmu43Tl9tKB1CeO2Dya3FL2/PC554eK1zby+unO7qzI7KHc88OA0yTr+N2G1S+X202B1Cb8/vug3lz4/PSz5X3J7KLi9c2h317w+eWv43aZ3FAtIvOvAAAAF3RSTlMACU6Pt9vs+RFgr/UKfPIDZuYbyzdc9yj9kOwAAAHySURBVHhenZbndtpAEEYXAcKAKTKYu2r04u703uv7v1FOSBTxacVxju5vFul+Mzsj41Dz6o2m32r5zUbdq5kHOGl3uuTQ7bRPzHFOe30c+r1TU85gGAAQTRfLJAyT5WIaARAMB6aEsxFAtJ7ZA2brCGB0ZhzGAZDON7bAZp4CwdgUOJ/AdnVhS7hYbWFyXvg9sLu2R7jeAXJiPIH40h7lMobJ+MA3gDi0Bb7ZnDCG4J/5YAQ75/8fX8kzdjDK0h3C1nn/Z89v1WMLw7/1DeCpLfD+K4+ssILgT817kDp5XpEW002ht++3PsxtgRt4YQvMof+7E9sQbYrCW7h1ah5B2xjTgbUjDHsFZQ0dY2pdmDnCkFqHGXRrxoPYESZTUGLwTB2mjjCZgjKFumnAwhHOFYQFNEwTliqM8NLmLKFpfEhUWHj12uYk4JsWhCIsvHlrDwihlR9Q3gHwJLHOAX0lfdKHj1ZIwM+lhfATwGe7R6Q1Vq3Fl9JYs8IpdxKQFM6DyFXOAlIi8PLmE2UJSJsva29VloCkvUsv0I0EJBeo/IreSUByRbMhcC/KEpAOgWzMrERZApIxUzrIwu8SkAyy0lH5QwKSUVk+jH/aHB3GFcZ9hYWiK+v+gZVVYSlWXLu62ON8scey2Kt8OlT/OPn/z59frKW0mxwtEXcAAAAASUVORK5CYII=",Km="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAB7CAYAAAD0WJeRAAAH3UlEQVR4Ae1dA7QsuxLNxbdt3m/btm3bSnoOU31uf9u2bdt+tq5tm/vNXq/Xu0fDnEkyPdlr1eOdrklNr0qqaldFxYZagesawZPqYjOLTxuLH2nBv4xgqbHYrQV76rLDCLbUZYMWrKrL/4zge3V5X5bjdUOCx+gC1ywfmQBgXi3H/Y2F0YLva4sVdcEcyXFjcbYRfCazeP5wgRuqQUN90fcyOT5sLNa6G7QDwwv+nuV4zeh7cQ1VVWQWNzOCdxiLJVx4SDGCQ3X5KV2MqgpGC9zcCL6gLQ7XBbGJEZxUm8BT6cb61cC3NBZfNoIjPg3nYPCz9AServoFRYErasHHghnYXX5FN6dihs7xUB7DAhvKXQT7jEWtKLAwtrf4ykbwKe7sXg3iwX+PFLipigEjOe5oBMtDGcODsbfUBI9SIcHjkRbs4hequBzNLEaDnEyM4LUBNrygkgm+UhSY7y1sNjk+SMWDKEbwrR/8AAtUr5EJPkCFAy2C7/f0RMIjzwmFydg98dmZxUunHt+SZDnePtcb3xOqvvE5pGKfPVcpzRsbi+3JqE2iyBx3d4345huLvzRXlsQw9fsRXMHFLw+3pywJCxndRX0F7sEEeXuKkhjBMVPgfp0HJYLTOlSWRHDeJz6By3WS7nxBMlzXYbpudwO8rFM2LrmQTSx+qFYwOd7iqCyJYKhlAl9bbE7Gcs9h05aqEch5iHwBBzRJNoKL6rIn8uPe25qF2idFFt7+3whyEm6KAlefEbW+H1dhhScTvFUL/hxTmsAIzmh00rhzJF/yMDl3DP1VhyADyQgWk6MXw1qGCtxtthToxyM4Gn2XhBvliKzAtUvKw7HAm+LH1GR8/vO4jBFsC0nRIgu0B+W2J5B5GtDYm6cUCIZyPDDkDk1GqeoRdIFbGYvzg61vclhuBDbUKaI0ck9Bbga51EHcocXoZP/8pxCnilqO5/ikCjN3HCCF+rsTIbfF/gC/9KcDUCReHWBD3EM/HcY/C3bwZBCAujZfW5weoLZ47yC/srEwKhDMBB7ue73MhjLsfqfvDbDMAwSDEZzi2diitOAbnpX+LII2j1HfVDJlBH/zvAm+WAXGkODWPtdMGytmw7zG/4JFKjy47vUe171M+Q5RiwKXVwEQMlNpBOv4y271qHCbigRsf/NZ3lL8i0eFS6MxtMUXvb5gXn2VYI+KBDz9eIwbdtNHr/Hpo1kVicR1nOL1BfPdMpwVuEMkb/RGn9w8vtG/93x4f7MKDP7YnlMOf1HsD/ScUPprBG/zhOeA5euKFWTfrWQcfhLYP5/lOXv3Tip9QgDOw/tVIIRYL/ky3uP+Ug6y2h0gH70wSP1Q8LiSoosNAZT/UHkG3WQI3vSlRQ4t+Fog2tRbvGXscjw4ELH+5Mnh6HND9VjXJvBE1WOQcuCQ03GTHO+e/EWuyUUHYvPsoQ/r4Xi3Ozmlgt3z7w9Rk6EF/wnZ/8GqRw988rOMxd6A3Vq7yQKb/qV0BMTAX/AUpBwx/m7cQFt8PgJG6c9nsnneh6vFwDkm9bYuXzAWN+mG3GgE75lElAm9lqc0ytF+Mqp2Mov/ZhbjJsddZ+sLqX0QVyr50bqsfR6NqMnzQh6dGxYtY26sp89jJqwu59ZlZ+TdCa9tlXD5lbOiJJvZstxypFoylPPbXLRbT/tBl0qSCHaNvQfXUe1Avws36u4EkqTjzgU2JXaoJIngHx2P/2FEw909GbB98qYpcJvu8gSCh7V33EvinELIBB9qqSi9zac5j2dj64W2ODUZtHH2MStwu7lptBHctkEWLAnZ/HMJLXjlDCVJPqt6Adb5TihJfrmDsT5dNbWvTuPXsLPnhHoWOZmOHPC5Sc/wRUJ5xwC/zR/1SkQJWWMMJoL/MWL2fpFNVGPnPbD2g12swMu+BmWqLvknoZnzXx+AoOS9UdzBogUXVDn1Wc70Dw8OvuIoiipOZYzuHkST4xVVm55bXnQTH8hKrZChF8d+89s5FfDLf/RwsY1zSvX2/ZxSZd+2Q4+N9/P1C/v1TizmclQ/gWzOPnybR1S/geMiAgyKcpFf9e29s2xp6It8iGBV31/Yzpt3Ijf04VqO+6oqwAg+EXES/62qKiinRf4/wiT+j1TVwFxusBa0BtNw2E6iqgi2uYUenl3KwfIiserCCIro2x6qAOYQOIwloJG/rQYFbFMLwQ/hZIMAc1HDgmdXr03wgn1slVODCCN4o0f+8kvVIINXgnhwGV9Wgw52v/IewB5ufmeVPX8JLBaQ0N2LTttpfSUJOsfzemDo56oEh+ST260YCWXL3X/d/TJOKUniCU0vfBdscbl6pCa4hUpojWwCj+42+ZQJnqYSOvLXuYdL0BNYKNUWv+nAZfynS5J4AgumRrCyDUNv7WAGUwJbNt5c4Krj47geKzJD78SioUuKu4ebkcQ5ZJV/lp/hZ/mMaS3DyT28rcDVaSAOAsxy3HM20RbvbZbHaPQ5PpPPpg7qGsg3174LN+L0LxqkHZnVXwtO5s1q7XyeuqiTugfFyNfk7cJcfCfC6wDfJlg62S9rwWM6fQ518ztU3shcbNcieEbJVD2aWbzG5VmVNvZkP9ytmHGM6HF8xPU5/C7J0G6SDD02hmvFYmi6jrQZOojDZpiOdw7S6HiXAhYXSQGLQwjOeuJIjjvX5a7ky016Q+/O/8b/xz8Tewh+Mb8B7arZ/2x5AAAAAElFTkSuQmCC",Zm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAkCAYAAABmMXGeAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACOSURBVHgB7dbRCYAgEAbgX9dxj0ZwjzbICRqgDdynEZzDzrin0Ci9XuJ+OASFj0PhEODknF0pSIWwQJW4AkbDHaZLrRiIbez7EdgaY3ZaozR8pgCVa0gKK6zwL2GDzjDgK0eTxQfpQm+63HiUvgdFH0pBBRV8CAZp0ImCaE+pSNNmxkioq0Wiwxos9j0/AOTf6rSzAxp9AAAAAElFTkSuQmCC";class Xm extends Qm{constructor(t){super(),this.animate=void 0,this.params=void 0,this.point=void 0,this.initImgCloud=(t,e)=>{try{const n=t.isScale,i=t.scale;if("number"!=typeof t.size||t.size<=0)throw new Error("Invalid size parameter");const r=(new Fc).load(t.image,(()=>{r.needsUpdate=!0,r.magFilter=we,r.minFilter=we}));let o,a,s=null;if(n){const e=t.size/2,n=4*t.size;o=new Sl(e,n),a=new gr({map:r,transparent:!0,opacity:1,depthTest:!1,alphaTest:.1}),s=new Fr(o,a)}else a=new Is({map:r,transparent:!0,opacity:1,sizeAttenuation:!1,alphaTest:.1}),s=new zs(a),s&&s.scale.set(i,i,i);return a&&(a.needsUpdate=!0),s&&(s.position.set(t.point.x,t.point.y,t.height),s.type=e,s.point=new yn(t.point.x,t.point.y,t.height),s.params=t),s}catch(t){this.logger.error("initImgCloud ==>",t)}},this.updateImgCloudPosition=t=>{this.layer.position.set(t.x,-t.y,this.params.height)},this.hideLayer=t=>{this.layer&&(this.layer.visible=!t)};const e={class:"",image:Km,animate:!1,animateOptions:{duration:500,delay:10,distance:30},popup:!0,isScale:!0,scale:.02,popupOptions:{direction:"up",multiple:!1,size:[80,30],data:{name:"react-indoor-map"},container:"",callback:function(){},closeCallback:function(){}},size:16,height:5,point:{x:0,y:0}};this.point=t.point;const n=Qf(e,t);Rm(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud),this.dispatchScope(this.layer)}}let qm="() => {\n\ttry {\n\t\tlet requestFrameId;\n\t\tlet point;\n\t\tlet color;\n\t\tlet borderColor;\n\t\tlet context;\n\t\tlet size;\n\t\tlet ratio;\n\t\tlet parameters;\n\t\tlet radius;\n\t\tlet isAdd;\n\t\tlet durationStep;\n\t\tlet lineWidth;\n\n\t\tconsole.log('BreatheWorkerRender: Thread has been started');\n\n\t\tconst evtFunc = msg => {\n\t\t\tif (msg.data.name === 'render') {\n\t\t\t\tbreatheAnimationOffScreenRender(msg.data)\n\t\t\t}\n\t\t\tif (msg.data.name === 'remove') {\n\t\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\t\tself.postMessage('remove');\n\t\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\t\tconsole.log('BreatheWorkerRender: Thread has been disposed');\n\t\t\t}\n\n\t\t\tif (msg.data.name === 'stop') {\n\t\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\t\tconsole.log('BreatheWorkerRender: Thread has been stopped');\n\t\t\t}\n\n\t\t\tif (msg.data.name === 'resume') {\n\t\t\t\tdrawBreatheWithoutCompositeOperation();\n\t\t\t}\n\t\t}\n\n\t\tself.addEventListener('message', evtFunc, false);\n\n\t\tconst drawBreatheWithoutCompositeOperation = () => {\n\t\t\t\t//\n\t\t\t\tconst drawCircle = (context, width, height) => {\n\t\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t\t\tcontext.beginPath();\n\t\t\t\t\tcontext.arc(point.x, point.y, radius, 0, Math.PI * 2);\n\t\t\t\t\tcontext.closePath();\n\t\t\t\t\tcontext.fillStyle = color;\n\t\t\t\t\tcontext.fill();\n\t\t\t\t\tcontext.lineWidth = lineWidth;\n\t\t\t\t\tcontext.strokeStyle = borderColor; \n\t\t\t\t\tcontext.stroke();\n\n\t\t\t\t\tif (isAdd) {\n\t\t\t\t\t\tradius += durationStep;\n\t\t\t\t\t\tif (radius >= size / 2 - lineWidth) {\n\t\t\t\t\t\t\tisAdd = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tradius -= durationStep;\n\t\t\t\t\t\tif (radius <= size / 4 - lineWidth) {\n\t\t\t\t\t\t\tisAdd = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tself.postMessage('update');\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconst render = (context, width, height) => {\n\t\t\t\t\tdrawCircle(context, width, height);\n\t\t\t\t};\n\n\t\t\t\tconst run = () => { \n\t\t\t\t\trender(context, size * ratio, size * ratio);\n\t\t\t\t\tif (parameters.animate) {\n\t\t\t\t\t\tif (parameters.duration !== 0) {\n\t\t\t\t\t\t\trequestFrameId = requestAnimationFrame(run);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\trun();\n\t\t\t}\n\n\t\t/**\n\t\t * \n\t\t */\n\t\tconst breatheAnimationOffScreenRender = data => {\n\t\t\tconst { canvas, parameters: params, pixelRatio } = data;\n\t\t\tif (!canvas) {\n\t\t\t\tconsole.warn('BreatheWorkerRender: Please provide an offscreenCanvas\tparams');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontext = canvas.getContext('2d');\n\t\t\tif (!context) {\n\t\t\t\tconsole.warn('BreatheWorkerRender: Please provide canvas element params');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tparameters = params;\n\t\t\tratio = pixelRatio;\n\t\t\tsize = parameters.isScale ? parameters.size : parameters.size / parameters.scale;\n\t\t\tcanvas.width = size * ratio;\n\t\t\tcanvas.height = size * ratio;\n\t\t\tcontext?.scale(ratio, ratio);\n\t\t\tlineWidth = parameters.borderWidth;\n\t\t\tradius = size / 2 - lineWidth;\n\t\t\tisAdd = true;\n\t\t\tdurationStep = parameters.isScale ?\t(0.1 / parameters.duration) : (0.1 / parameters.duration) / parameters.scale;\n\n\t\t\tpoint = {x: size / 2, y: size / 2};\n\t\t\tcolor = parameters.color;\n\t\t\tborderColor = parameters.borderColor;\n\t\t\t\n\t\t\tdrawBreatheWithoutCompositeOperation();\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e); \n\t}\n}";qm=qm.substring(qm.indexOf("{")+1,qm.lastIndexOf("}"));const Jm=new Blob([qm],{type:"application/javascript"});class $m extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.worker=void 0,this.texture=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.requestFrameId=void 0,this.frameAnimationId=void 0,this.useWorker=void 0,this.point=void 0,this.params=void 0,this.initImgCloud=(t,e)=>{if(t.animationType===Vt.normal&&(this.texture=this.createBreathAnimateCanvasWithoutCompositeOperation(t)),this.texture){if("number"!=typeof t.size||t.size<=0)throw new Error("Invalid size parameter");const{rate:n=2,scale:i=.02}=t,r=t.size/2,o=4*t.size;let a=null;if(t.isScale){const t=new Sl(r,o),e=new gr({map:this.texture,transparent:!0,opacity:1});a=new Fr(t,e)}else{const t=new Is({map:this.texture,transparent:!0,opacity:1,sizeAttenuation:!1});a=new zs(t),a.scale.set(i*n,i*n,i*n)}return a.position.set(t.point.x,t.point.y,t.height),a.type=e,a.point=new yn(t.point.x,t.point.y,t.height),a.params=t,a}return new ki},this.createBreathAnimateCanvasWithoutCompositeOperation=t=>{const e=document.createElement("canvas"),n=t.isScale?t.size:t.size/t.scale;e.style.width=n+"px",e.style.height=n+"px",e.width=n,e.height=n;const i=new hn(e);if(this.worker){this.offScreenCanvas=e.transferControlToOffscreen();const n={name:"render",canvas:this.offScreenCanvas,parameters:{...t,indoorMap2d:{}},pixelRatio:this.indoorMap2d.pixelRatio};this.worker.postMessage(n,[this.offScreenCanvas]),this.logger.info("Start thread to animate"),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const r=e.getContext("2d"),o=t.borderWidth;let a=n/2-o,s=!0;const l=t.isScale?.1/t.duration:.1/t.duration/t.scale,c=(e,c,A)=>{const u=()=>{((t,r,u)=>{((t,r,u)=>{t.clearRect(0,0,r,u),t.beginPath(),t.arc(e.x,e.y,a,0,2*Math.PI),t.closePath(),t.fillStyle=c,t.fill(),t.lineWidth=o,t.strokeStyle=A,t.stroke(),s?(a+=l,a>=n/2-o&&(s=!1)):(a-=l,a<=n/4-o&&(s=!0)),i.needsUpdate=!0})(t,r,u)})(r,n,n),t.animate&&0!==t.duration&&(this.requestFrameId=requestAnimationFrame(u))};u()};c({x:n/2,y:n/2},t.color,t.borderColor)}return i.magFilter=we,i.minFilter=we,i},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Mm(`${this.indoorMap2d.getUnionId()}_BreatheLayer_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=void 0,this.worker=void 0,this.workerStatus=!1)},this.getFrameAnimationId=()=>this.frameAnimationId,this.removeBreathe=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{xm(`${this.indoorMap2d.getUnionId()}_BreatheLayer_remove`,(()=>{this.logger.info("BreatheLayer has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{this.requestFrameId&&cancelAnimationFrame(this.requestFrameId),t(this.remove())})),this.show=()=>{this.layer&&(this.worker&&this.worker.postMessage({name:"resume"}),this.layer.visible=!0)},this.hide=()=>{this.layer&&(this.worker&&this.worker.postMessage({name:"stop"}),this.layer.visible=!1)};const e={animate:!0,color:"#000000",borderColor:"#000000",duration:2,animationType:Vt.normal,borderWidth:1,size:16,height:2,rate:2,isScale:!1,scale:.02,point:{x:0,y:0}};this.point=t.point,this.workerStatus=!1,this.indoorMap2d=t.indoorMap2d,this.frameAnimationId=(new Date).getTime(),this.requestFrameId=0,this.useWorker=void 0===t.useWorker||t.useWorker,Em(this.indoorMap2d.env)&&Tm(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Im(Jm),this.logger.info("Start thread for breath animation"));const n=Qf(e,t);Rm(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud)}}const tg=255,eg=/^rgb/,ng=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*([\.\d]+))?\)/,ig=/^#/,rg=(t,e=2)=>(t+="").length<e?"0".repeat(e-t.length)+t:t.slice(0,e),og=(t,e,n)=>Math.min(n,Math.max(e,t));function ag(t){let e;if(/^rgb/.test(t)){const n=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*([\.\d]+))?\)/)||[];e=[n[1],n[2],n[3]].map((t=>parseInt(t)));let i=n[4];return void 0!==i&&(i=i>1?1:i<0?0:i,e.push(i)),e}const n=(t=t.replace(/^#/,"")).length;return 6!==n&&3!==n&&(t="000000"),e=3===n?t.split("").map((t=>`${t}${t}`)):t.match(/[0-9a-f]{2}/gi)||[],e.map((t=>((t=parseInt(t,16))<0&&(t=0),t>tg&&(t=tg),t)))}function sg(t){let[e,n,i]=ag(t);e/=tg,n/=tg,i/=tg;const r=Math.max(e,n,i),o=r-Math.min(e,n,i);let a,s,l;return a=0==o?0:r===e?(n-i)/o%6:r===n?(i-e)/o+2:(e-n)/o+4,a*=60,a<0&&(a+=360),l=r,s=0===o?0:o/l,s*=100,l*=100,[a,s,l]}function lg(t,e,n){let i=Math.round(65536*t)+Math.round(256*e)+Math.round(n);i=i.toString(16,6);const r=i.length;if(r<6)for(let t=0;t<6-r;t++)i=`0${i}`;return i=i.toUpperCase(),`#${i}`}function cg(t,e,n,i){let r,o,a;r=t+1.4075*(n-128),o=t-.3455*(e-128)-.7169*(n-128),a=t+1.779*(e-128),r=r<0?0:r,r=r>tg?tg:r,o=o<0?0:o,o=o>tg?tg:o,a=a<0?0:a,a=a>tg?tg:a;const s=[r,o,a];return void 0!==i&&s.push(i>1?1:i<0?0:i),s}function Ag(t=0,e=0,n=0,i){const r=[t,e,n].map(((t,e)=>{let n=t;return n&&(n=parseFloat(n)),0===e?(n%=360)<0?n+360:n:og(Math.round(t),0,100)})),o=Math.round(r[2]/100*255);if(0==r[1])return[o,o,o];const a=r[0],s=a%60,l=Math.round(r[2]*(100-r[1])/1e4*255),c=Math.round(r[2]*(6e3-r[1]*s)/6e5*255),A=Math.round(r[2]*(6e3-r[1]*(60-s))/6e5*255);let u;switch(Math.floor(a/60)){case 0:u=[o,A,l];break;case 1:u=[c,o,l];break;case 2:u=[l,o,A];break;case 3:u=[l,c,o];break;case 4:u=[A,l,o];break;default:u=[o,l,c]}return void 0!==i&&u.push(og(Number(i),0,1)),u}function ug(t=0,e=0,n=0){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>255&&(t=255),e>255&&(e=255),n>255&&(n=255),t/=255,e/=255,n/=255;const i=Math.max(t,e,n),r=i-Math.min(t,e,n);let o,a,s;return o=0==r?0:i==t?(e-n)/r%6:i==e?(n-t)/r+2:(t-e)/r+4,o*=60,o<0&&(o+=360),s=i,a=0==r?0:r/s,a*=100,s*=100,[o,a,s]}function dg(t,e,n){const i=Ag(t,e,n).map((t=>Math.round(t)));return lg.apply(this,i)}function hg(t=0,e=0,n=0,i){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>=360&&(t=359),e>100&&(e=100),n>100&&(n=100),e/=100,n/=100;const r=(1-Math.abs(2*n-1))*e,o=t/60,a=r*(1-Math.abs(o%2-1));let s=0,l=0,c=0;o>=0&&o<1?(s=r,l=a):o>=1&&o<2?(s=a,l=r):o>=2&&o<3?(l=r,c=a):o>=3&&o<4?(l=a,c=r):o>=4&&o<5?(s=a,c=r):(s=r,c=a);const A=n-r/2;s+=A,l+=A,c+=A,s*=tg,l*=tg,c*=tg;const u=[s,l,c];return void 0!==i&&u.push(i>1?1:i<0?0:i),u}function pg(t,e,n,i){return gg(Ag(t,e,n,i))}function fg(...t){return pg.apply(this,t)}function mg(t){const e=t/100;let n,i,r;return e<66?n=255:(n=e-55,n=351.97690566805693+.114206453784165*n-40.25366309332127*Math.log(n),n<0&&(n=0),n>255&&(n=255)),e<66?(i=e-2,i=-155.25485562709179-.44596950469579133*i+104.49216199393888*Math.log(i),i<0&&(i=0),i>255&&(i=255)):(i=e-50,i=325.4494125711974+.07943456536662342*i-28.0852963507957*Math.log(i),i<0&&(i=0),i>255&&(i=255)),e>=66?r=255:e<=20?r=0:(r=e-10,r=.8274096064007395*r-254.76935184120902+115.67994401066147*Math.log(r),r<0&&(r=0),r>255&&(r=255)),[n,i,r]}function gg(t,e){const n=t.length;return 4===n&&(e=t.pop()),t=t.map((t=>Math.round(t))),4===n?(t.push(e),`rgba(${t.join(", ")})`):void 0!==e&&3===t.length?(t.push(e>1?1:e<0?0:e),`rgba(${t.join(", ")})`):`rgb(${t.join(", ")})`}function yg(t,e){return e?yg(e,t%e):t}function vg(t,e){let n,i,r,o;return 0===e?[1,0]:(n=vg(e,t%e),r=n[0],o=n[1],i=[o,r-Math.floor(t/e)*o],r=i[0],o=i[1],i)}function _g(t,e,n){let i,r,o,a,s,l;return t*e!=0&&(i=yg(t,n),i%e==0&&1!==e?(a=vg(t,n),o=a[0],a[1],l=o*(e/i),function(){let t,e,o;for(o=[],r=t=0,e=n;0<=e?t<e:t>e;r=0<=e?++t:--t)(s=l+r*Math.floor(n/i)>0)&&o.push(s);return o}().slice(0,i)):[e])}function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xg(t){const{length:e}=t;let n=[];for(let i=0;i<e/2;i++){const e=2*i,r=t[e],o=t[e+1];n[i]=r+o}return n}function bg(t){if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(3),n=(parseInt(t.slice(1,3),16)/255).toFixed(1),i=new Ai;return i.setHex(Number(e)),`rgba(${Math.round(255*i.r)},${Math.round(255*i.g)},${Math.round(255*i.b)},${n})`}if(7===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(1),n=new Ai;return n.setHex(Number(e)),`rgb(${Math.round(255*n.r)},${Math.round(255*n.g)},${Math.round(255*n.b)})`}return"rgb"===t.slice(0,3)||"rgba"===t.slice(0,4)?t:"rgba(255,255,255,1)"}function Mg(t){let e,n=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),i=(n&&n[4]||"").trim(),r=n?(256|n[1]).toString(16).slice(1)+(256|n[2]).toString(16).slice(1)+(256|n[3]).toString(16).slice(1):t;return e=""!==i?i:1,r+=e,r}var Lg=Object.freeze({__proto__:null,decode:ag,hex2hsv:sg,hex2hsb:function(t){return sg(t)},rgb2hex:lg,hex2hsl:function(t){let[e,n,i]=ag(t);e/=tg,n/=tg,i/=tg;const r=Math.max(e,n,i),o=Math.min(e,n,i),a=r-o;let s,l,c;return s=0==a?0:r===e?(n-i)/a%6:r===n?(i-e)/a+2:(e-n)/a+4,s*=60,s<0&&(s+=360),l=(r+o)/2,c=0==a?0:a/(1-Math.abs(2*l-1)),c*=100,l*=100,[s,c,l]},hex2yuv:function(t){const[e,n,i]=ag(t);return[.299*e+.587*n+.114*i,-.168736*e+-.331264*n+.5*i+128,.5*e+-.418688*n+-.081312*i+128]},yuv2rgb:cg,hsv2rgb:Ag,hsb2rgb:function(t,e,n,i){return Ag(t,e,n,i)},rgb2hsv:ug,rgb2hsb:function(t,e,n){return ug(t,e,n)},hsv2hex:dg,hsb2hex:function(t,e,n){return dg(t,e,n)},rgb2hsl:function(t=0,e=0,n=0){(t=parseFloat(t))<0&&(t=0),(e=parseFloat(e))<0&&(e=0),(n=parseFloat(n))<0&&(n=0),t>255&&(t=255),e>255&&(e=255),n>255&&(n=255),t/=255,e/=255,n/=255;const i=Math.max(t,e,n),r=Math.min(t,e,n),o=i-r;let a,s,l;return a=0==o?0:i==t?(e-n)/o%6:i==e?(n-t)/o+2:(t-e)/o+4,a*=60,a<0&&(a+=360),l=(i+r)/2,s=0==o?0:o/(1-Math.abs(2*l-1)),s*=100,l*=100,a=a.toFixed(0),s=s.toFixed(0),l=l.toFixed(0),[a,s,l]},hsl2rgb:hg,hsl2hex:function(t,e,n){return lg(...hg(t,e,n))},randomRgb:function(t=0,e=255){const n=(n,i)=>{let r=e,o=t;return r<o&&(r=n,o=i),Math.random()*(r-o)+o};return[n(t,e),n(t,e),n(t,e)]},randomHsb:function(){const t=(t,e)=>{let n=e,i=t;return n<i&&(n=t,i=e),Math.random()*(n-i)+i};return[t(0,360),t(0,100),t(0,100)]},complement:function(t){const e=ag(t).map((t=>Math.round(t))),n=Math.min(...e)+Math.max(...e);return lg(...e.map((t=>n-t)))},reversed:function(t){return lg(...ag(t).map((t=>Math.round(t))).map((t=>tg-t)))},hex2RgbString:function(t,e){return gg(ag(t),e)},hsv2RgbString:pg,hsb2RgbString:fg,hsl2RgbString:function(t,e,n,i){return gg(hg(t,e,n,i))},yuv2RgbString:function(t,e,n,i){return gg(cg(t,e,n,i))},encodeColorData:function(t){let e=t.slice(0,3),n=t.slice(3);if(e=e.map((t=>t<0?0:t>255?255:t)),0===n.length)n=Array(4).fill(0);else{let t=n[0];t=t%360?t%360:t,t=t<0?360+t:t;const e=parseInt(t/256,10),i=parseInt(t%256,10);n.splice(1,0,i),n[0]=e}return e.concat(n).map((t=>rg(Math.round(t).toString(16),2))).join("")},decodeColorData:function(t=""){const e=t.match(/[a-z\d]{2}/gi)||[],n=7-e.length,i=Array(n<0?0:n).fill("00"),r=e.concat(i),o=r.slice(3);return[...r.slice(0,3).map((t=>parseInt(t,16))),parseInt(o[0]+o[1],16),parseInt(o[2],16),parseInt(o[3],16)]},decodeColorDataWithPosition:function(t=""){const e=t.match(/[a-z\d]{2}/gi)||[],n=7-e.length,i=Array(n<0?0:n).fill("00"),r=e.concat(i).map((t=>parseInt(t,16)));return r[3]/=100,r[4]/=100,r},encodeColorDataWithPosition:function(t){let e=t.slice(0,3),n=t.slice(3);e=e.map((t=>t<0?0:t>255?255:t));let i=4-n.length;i=i<0?0:i,n=n.concat(Array(i).fill(0));const[r,o]=n;return n[0]=100*r,n[1]=100*o,e.concat(n).map((t=>rg(Math.round(t).toString(16),2))).join("")},encodeSceneData:function(t){if(0===t.length)return"";const e=(t,n)=>t.reduce(((t,n)=>n.concat?e(n,t):t+rg(Math.round(n).toString(16),2)),n);return e(t,"")},decodeSceneData:function(t){if(!t)return[];const e=t.match(/[a-z\d]{2}/gi),[n,i,r,o,...a]=e,s=[n,i,r,o].map((t=>parseInt(t,16))),l=[],c=Math.min(s[3],a.length/3)||1;s[3]=c;for(let t=0;t<c;t++){const e=3*t-1;l.push([a[e+1],a[e+2],a[e+3]].map((t=>parseInt(t,16))))}return s.concat(l)},decodeSceneDataWithMode:function(t){if(!t)return[];const e=t.match(/[a-z\d]{2}/gi),[n,i,r,o,...a]=e,s=[n,i,r,o].map((t=>parseInt(t,16))),l=[],c=Math.min(s[3],a.length/8);s[3]=c;for(let t=0;t<c;t++){const e=8*t-1,n=[];let i=1;for(;i<9;)n.push(a[e+i]),i++;l.push(n.map((t=>parseInt(t,16))))}return s.concat(l)},kelvin2rgbUsingTH:function(t){const e=t/100;let n,i,r;return e<=66?n=255:(n=e-60,n=329.698727446*Math.pow(n,-.1332047592),n<0&&(n=0),n>255&&(n=255)),e<=66?(i=e,i=99.4708025861*Math.log(i)-161.1195681661,i<0&&(i=0),i>255&&(i=255)):(i=e-60,i=288.1221695283*Math.pow(i,-.0755148492),i<0&&(i=0),i>255&&(i=255)),e>=66?r=255:e<=19?r=0:(r=e-10,r=138.5177312231*Math.log(r)-305.0447927307,r<0&&(r=0),r>255&&(r=255)),[n,i,r]},kelvin2rgb:mg,rgb2kelvin:function([t,,e]){let n,i=1e3,r=4e4;for(;r-i>.4;){n=(r+i)/2;const[o,,a]=mg(n);a/o>=e/t?r=n:i=n}return Math.round(n)},toRgbString:gg,calculateWhiteColorForView:(t,e)=>fg(36.8,60*e/100,100,.6+t/100*.4),_gcd:yg,_gcdEx:vg,getSolutionOfLinearConguenceEquation:_g,hsvToRgb:function(t,e,n){let i,r,o,a,s,l,c,A;switch(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(1,e)),n=Math.max(0,Math.min(1,n)),a=(_g(1,Math.floor(t/60),6)||[0])[0],s=t/60-a,l=n*(1-e),c=n*(1-s*e),A=n*(1-(1-s)*e),a%6){case 0:i=n,r=A,o=l;break;case 1:i=c,r=n,o=l;break;case 2:i=l,r=n,o=A;break;case 3:i=l,r=c,o=n;break;case 4:i=A,r=l,o=n;break;case 5:i=n,r=l,o=c}return{r:Math.round(255*i),g:Math.round(255*r),b:Math.round(255*o)}},rgbToHsv:function(t,e,n){let i,r,o;const a=Math.min(t,e,n),s=Math.max(t,e,n),l=s-a;return o=s/255,0===s?{h:-1,s:0,v:o}:(r=l/s,i=t===s?(e-n)/l:e===s?2+(n-t)/l:4+(t-e)/l,i*=60,i<0&&(i+=360),{h:Math.round(i),s:r,v:o})},_hueToRgb:wg,hslToRgb:function(t,e,n){const i=(t%360+360)%360/360,r=n<.5?n*(1+e):n+e-n*e,o=2*n-r,a=wg(o,r,i+1/3),s=wg(o,r,i),l=wg(o,r,i-1/3);return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*l)}},rgbToHsl:function(t,e,n){let i,r,o,a,s,l,c,A;switch(i=parseFloat(t)/255,r=parseFloat(e)/255,o=parseFloat(n)/255,c=Math.min(i,r,o),A=Math.max(i,r,o),l=(A+c)/2,A===c?(s=0,a=Number.NaN):s=l<.5?(A-c)/(A+c):(A-c)/(2-A-c),A){case i:a=(r-o)/(A-c);break;case r:a=2+(o-i)/(A-c);break;case o:a=4+(i-r)/(A-c)}return a*=60,a+=a<0?360:0,{h:a,s:s,l:l}},hex2ahexUpcase:function(t){return(function(t,e=1){return`#${cm(Math.round(255*e).toString())}${t.replace(ig,"")}`.toUpperCase()}(t)||"#000000").toUpperCase()},hex2rgba:function(t,e=1){const n=cm(Math.round(255*e).toString());return`${t.replace(ig,"")}${n}`.toUpperCase()},getRgb:xg,hex2Rgba:bg,hex8toHex6:function(t){return Mg(bg(t))},rgba2hex:Mg,decodeColor:function(t){let e;if(eg.test(t)){const n=t.match(ng)||[];e=[n[1],n[2],n[3]].map((t=>parseInt(t)));let i=n[4];return void 0!==i&&(i=i>1?1:i<0?0:i,i=Math.floor(255*i),e.push(i)),e}const n=(t=t.replace(ig,"")).length;return 6!==n&&3!==n&&8!==n&&(t="000000"),e=3===n?t.split("").map((t=>`${t}${t}`)):xg(t),e=e.map((t=>{let e=parseInt(t,16);return e<0&&(e=0),e>255&&(e=255),e})),3===e.length&&e.push(255),e}});class Cg extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.is3d=void 0,this.origin=void 0,this.position=void 0,this.directionAngle=void 0,this.isScale=void 0,this.scale=void 0,this.params=void 0,this.animation=void 0,this.breatheLayer=void 0,this.markerLayer=void 0,this.createPilePosition=t=>{if(this.is3d){const e=new ki;return e.position.set(t.position.x+this.origin.x,-(t.position.y+this.origin.y),0),this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.indoorMap2d.map.modelLoader.loadModelLayer({value:t.pileModelHref||`${this.indoorMap2d.map.getStaticPrefix()}/app/robot/models/pilePosition.gltf`,unionId:String((new Date).getTime())},{info:{id:"002",parent:"pilePosition",type:"pilePosition",name:"pilePosition",preview:""},infoKey:"pilePosition",scale:.8,rotate:0,point:{x:0,y:0,z:0},origin:this.origin},!1,"pilePosition").then((t=>{t&&(this.markerLayer=t.layer,e.add(this.markerLayer))})),e}{const e=new ki;e.position.set(t.position.x+this.origin.x,-(t.position.y+this.origin.y),0);const n={point:{x:0,y:0},image:t.pileIcon||Gm,size:t.size||8,height:Ut.pilePosition,isScale:this.isScale,scale:this.scale},i=new Xm(n);return this.markerLayer=i.layer,e.add(i.layer),e}},this.createBreathe=t=>{const{rate:e=2,borderWidth:n=1,borderColor:i="#00000000",color:r="#FF000000",duration:o=2,animationType:a=Vt.normal}=t,s={point:{x:0,y:0},indoorMap2d:this.indoorMap2d,size:this.params.size||8,rate:e,animate:!0,color:bg(r),borderColor:bg(i),duration:o,borderWidth:n,animationType:a,isScale:this.isScale,scale:this.scale,height:Ut.pilePosition-.01,useWorker:this.indoorMap2d.useWorker};return new $m(s)},this.getAnimationConfig=()=>this.animation,this.setAnimationConfig=t=>{this.animation=t,this.showBreathe(!1,t)},this.showBreathe=async(t,e)=>{if(e&&(this.animation=e),t){if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}if(this.animation){this.breatheLayer=this.createBreathe(this.animation),this.layer&&this.layer.add(this.breatheLayer.layer);const t=this.breatheLayer.getFrameAnimationId();return void Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}!this.animation&&this.logger.warn("If you want to setup to show breathe animation, please set the params")}},this.updatePilePosition=(t,e)=>{if(e&&(this.origin={...e}),this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition)this.layer.scope.updateImgCloudPosition({x:t.x+this.origin.x,y:t.y+this.origin.y});else{const e=this.layer.position.z;this.layer.position.set(t.x+this.origin.x,-(t.y+this.origin.y),e)}},this.updatePilePositionDirection=t=>{this.is3d?this.layer.rotation.z=-t:this.markerLayer.type===It.indoorMapImgCloud&&(this.markerLayer.isSprite?this.markerLayer.material.rotation=-t:this.markerLayer.rotation.z=-t),this.directionAngle=t},this.getPilePositionDirectionAngle=()=>this.directionAngle,this.hidePilePosition=t=>{this.layer.visible=!t},this.removePilePosition=async()=>{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}return this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.is3d=t.is3d,this.origin=t.origin||{x:0,y:0},this.position=t.position,this.directionAngle=0,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.animation=t.animation||void 0,this.params=t,this.breatheLayer=null,this.markerLayer=null,this.layer=this.createPilePosition(t)}}const Bg=(t,e)=>{void 0===e&&(e={});const n=e.hasOwnProperty("fontFace")?e.fontFace:"Arial",i=e.hasOwnProperty("fontSize")?e.fontSize:16,r=e.hasOwnProperty("borderThickness")?e.borderThickness:2;!e.hasOwnProperty("borderColor")||e.borderColor,!e.hasOwnProperty("backgroundColor")||e.backgroundColor;const o=e.hasOwnProperty("color")?e.color:"#000000";let a=e.fontScale||.3;a>1&&(a=1);const s=document.createElement("canvas"),l=s.getContext("2d");if(l){const c=e.bold?"Bold ":" ",A=((t,e)=>{if(!t)return window&&window.devicePixelRatio||1;const n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e||window&&window.devicePixelRatio||1)/n})(l,e.pixelRatio||1);l.font=c+i+"px "+n;const u=l.measureText(t).width+2*r,d=u;s.style.width=u+"px",s.style.height=d+"px",s.width=u*A,s.height=d*A,l.scale(A,A),l.fillStyle=o,l.textAlign="center",l.textBaseline="middle",l.fillText(t,u/2,d/2);const h=new Bl(s);h.magFilter=we,h.minFilter=we,h.needsUpdate=!0;const p=new Vi(u,d),f=new gr({map:h,transparent:!0});f.depthTest=!1;const m=new Fr(p,f);return m.scale.set(a,a,1),m}return null},Sg=new wn,Eg=new yn;class Tg extends LA{constructor(){super(),this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new mi([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new mi([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(t){const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==e&&(e.applyMatrix4(t),n.applyMatrix4(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new CA(e,6,1);return this.setAttribute("instanceStart",new Ds(n,3,0)),this.setAttribute("instanceEnd",new Ds(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new CA(e,6,1);return this.setAttribute("instanceColorStart",new Ds(n,3,0)),this.setAttribute("instanceColorEnd",new Ds(n,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new Mc(t.geometry)),this}fromLineSegments(t){const e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new wn);const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),Sg.setFromBufferAttribute(e),this.boundingBox.union(Sg))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Yn),null===this.boundingBox&&this.computeBoundingBox();const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let i=0;for(let r=0,o=t.count;r<o;r++)Eg.fromBufferAttribute(t,r),i=Math.max(i,n.distanceToSquared(Eg)),Eg.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Eg));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}Tg.prototype.isLineSegmentsGeometry=!0,Or.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ln(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},Hr.line={uniforms:Xi.merge([Or.common,Or.fog,Or.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass\tendcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class Dg extends qi{constructor(t){super({type:"LineMaterial",uniforms:Xi.clone(Hr.line.uniforms),vertexShader:Hr.line.vertexShader,fragmentShader:Hr.line.fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){!0===t?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),!0===t?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),!0===t?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(t)}}Dg.prototype.isLineMaterial=!0;const Ig=new yn,Pg=new yn,kg=new fn,Fg=new fn,Ug=new fn,Rg=new yn,Og=new Kn,Hg=new class{constructor(t=new yn,e=new yn){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){PA.subVectors(t,this.start),kA.subVectors(this.end,this.start);const n=kA.dot(kA);let i=kA.dot(PA)/n;return e&&(i=tn(i,0,1)),i}closestPointToPoint(t,e,n){const i=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},Yg=new yn,Qg=new wn,jg=new Yn,Ng=new fn;function Wg(t,e,n,i){return Ng.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Ng.multiplyScalar(1/Ng.w),Ng.x=n/i.width,Ng.y=n/i.height,Ng.applyMatrix4(t.projectionMatrixInverse),Ng.multiplyScalar(1/Ng.w),Math.abs(Math.max(Ng.x,Ng.y))}class Vg extends Fr{constructor(t=new Tg,e=new Dg({color:16777215*Math.random()})){super(t,e),this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,i=new Float32Array(2*e.count);for(let t=0,r=0,o=e.count;t<o;t++,r+=2)Ig.fromBufferAttribute(e,t),Pg.fromBufferAttribute(n,t),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+Ig.distanceTo(Pg);const r=new CA(i,2,1);return t.setAttribute("instanceDistanceStart",new Ds(r,1,0)),t.setAttribute("instanceDistanceEnd",new Ds(r,1,1)),this}raycast(t,e){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');const n=void 0!==t.params.Line2&&t.params.Line2.threshold||0,i=t.ray,r=t.camera,o=r.projectionMatrix,a=this.matrixWorld,s=this.geometry,l=this.material,c=l.resolution,A=l.linewidth+n,u=s.attributes.instanceStart,d=s.attributes.instanceEnd,h=-r.near;null===s.boundingSphere&&s.computeBoundingSphere(),jg.copy(s.boundingSphere).applyMatrix4(a);const p=Wg(r,Math.max(r.near,jg.distanceToPoint(i.origin)),A,c);if(jg.radius+=p,!1===t.ray.intersectsSphere(jg))return;null===s.boundingBox&&s.computeBoundingBox(),Qg.copy(s.boundingBox).applyMatrix4(a);const f=Wg(r,Math.max(r.near,Qg.distanceToPoint(i.origin)),A,c);if(Qg.max.x+=f,Qg.max.y+=f,Qg.max.z+=f,Qg.min.x-=f,Qg.min.y-=f,Qg.min.z-=f,!1!==t.ray.intersectsBox(Qg)){i.at(1,Ug),Ug.w=1,Ug.applyMatrix4(r.matrixWorldInverse),Ug.applyMatrix4(o),Ug.multiplyScalar(1/Ug.w),Ug.x*=c.x/2,Ug.y*=c.y/2,Ug.z=0,Rg.copy(Ug),Og.multiplyMatrices(r.matrixWorldInverse,a);for(let t=0,n=u.count;t<n;t++){if(kg.fromBufferAttribute(u,t),Fg.fromBufferAttribute(d,t),kg.w=1,Fg.w=1,kg.applyMatrix4(Og),Fg.applyMatrix4(Og),kg.z>h&&Fg.z>h)continue;if(kg.z>h){const t=kg.z-Fg.z,e=(kg.z-h)/t;kg.lerp(Fg,e)}else if(Fg.z>h){const t=Fg.z-kg.z,e=(Fg.z-h)/t;Fg.lerp(kg,e)}kg.applyMatrix4(o),Fg.applyMatrix4(o),kg.multiplyScalar(1/kg.w),Fg.multiplyScalar(1/Fg.w),kg.x*=c.x/2,kg.y*=c.y/2,Fg.x*=c.x/2,Fg.y*=c.y/2,Hg.start.copy(kg),Hg.start.z=0,Hg.end.copy(Fg),Hg.end.z=0;const n=Hg.closestPointToPointParameter(Rg,!0);Hg.at(n,Yg);const r=sn.lerp(kg.z,Fg.z,n),s=r>=-1&&r<=1,l=Rg.distanceTo(Yg)<.5*A;if(s&&l){Hg.start.fromBufferAttribute(u,t),Hg.end.fromBufferAttribute(d,t),Hg.start.applyMatrix4(a),Hg.end.applyMatrix4(a);const n=new yn,r=new yn;i.distanceSqToSegment(Hg.start,Hg.end,r,n),e.push({point:r,pointOnLine:n,distance:i.origin.distanceTo(r),object:this,face:null,faceIndex:t,uv:null,uv2:null})}}}}}Vg.prototype.isLineSegments2=!0;class zg extends Tg{constructor(){super(),this.type="LineGeometry"}setPositions(t){for(var e=t.length-3,n=new Float32Array(2*e),i=0;i<e;i+=3)n[2*i]=t[i],n[2*i+1]=t[i+1],n[2*i+2]=t[i+2],n[2*i+3]=t[i+3],n[2*i+4]=t[i+4],n[2*i+5]=t[i+5];return super.setPositions(n),this}setColors(t){for(var e=t.length-3,n=new Float32Array(2*e),i=0;i<e;i+=3)n[2*i]=t[i],n[2*i+1]=t[i+1],n[2*i+2]=t[i+2],n[2*i+3]=t[i+3],n[2*i+4]=t[i+4],n[2*i+5]=t[i+5];return super.setColors(n),this}fromLine(t){var e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}}zg.prototype.isLineGeometry=!0;class Gg extends Vg{constructor(t=new zg,e=new Dg({color:16777215*Math.random()})){super(t,e),this.type="Line2"}}Gg.prototype.isLine2=!0;class Kg extends Qm{constructor(t){super(),this.params=void 0,this.lineLayer=void 0,this.lineCoverLayer=void 0,this.unitLayer=void 0,this.sideLayer=void 0,this.sideVertexEvent=void 0,this.vertexLayers=void 0,this.vertexPoints=void 0,this.d3VertexPoints=void 0,this.vertexEvents=void 0,this.center=void 0,this.minY=void 0,this.maxX=void 0,this.innerWidth=void 0,this.innerHeight=void 0,this.vertexEventEnable=void 0,this.isHideVertex=void 0,this.isHideUniText=void 0,this.isHideLayer=void 0,this.createLines=t=>{let e=[];const n=[];for(let i=0,r=t.points.length;i<r;i++){let r=t.points[i];e.push(new yn(r.x,r.y,t.height)),n.push(r.x,r.y,t.height)}this.vertexPoints=e;let i=null,r=null,o=null,a=null;const s=t.lineWidth,l=t.color,c=t.opacity,A=t.dashSize,u=t.gapSize,d=t.isDash,h=t.shouldExtendLine,p=t.extendTimes,f=t.depthWrite,m=t.isFatLine;if(t.is3d){var g,y,v;const e=this.calcHorizontalOnBase(t.points,.5);this.d3VertexPoints=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];this.d3VertexPoints.push(new ln(n.x,n.y))}const n={depth:t.d3Height,bevelEnabled:!1},r=new gr({color:l,opacity:c,transparent:!0}),o=new OA(this.d3VertexPoints),a=new wc(o,n);null==(g=a.boundingBox)||g.getCenter(this.center),this.minY=null==(y=a.boundingBox)?void 0:y.min.y,this.maxX=null==(v=a.boundingBox)?void 0:v.max.x,i=new Fr(a,r)}else{var _,w,x;const e=new zg;if(e.setPositions(n),e.computeBoundingBox(),null==(_=e.boundingBox)||_.getCenter(this.center),this.minY=null==(w=e.boundingBox)?void 0:w.min.y,this.maxX=null==(x=e.boundingBox)?void 0:x.max.x,d?o=new Dg({color:h?"#ffffff":l,dashed:d,linewidth:h?s*p:s,alphaToCoverage:!0,transparent:!0,opacity:h?0:c,dashSize:A,gapSize:u,depthWrite:f,vertexColors:!1}):m?(o=new Dg({color:h?"#ffffff":l,linewidth:h?s*p:s,transparent:!0,opacity:h?0:c,depthWrite:!0,colorWrite:!1,stencilWrite:!0,stencilRef:1,stencilZPass:Ve}),a=new Dg({color:h?"#ffffff":l,dashed:d,linewidth:h?s*p:s,transparent:!0,opacity:h?0:c,depthWrite:!0,vertexColors:!1,stencilWrite:!0,stencilRef:0,stencilFunc:517,stencilFail:Ve,stencilZPass:Ve}),o.needsUpdate=!0,a.needsUpdate=!0,a.resolution.set(this.innerWidth/2,this.innerHeight/2),r=new Gg(e,a),r.scale.set(1,1,1),r.computeLineDistances(),r.renderOrder=2):(o=new Dg({color:h?"#ffffff":l,dashed:!0,gapSize:0,dashOffset:0,dashSize:100,alphaToCoverage:!0,linewidth:h?s*p:s,transparent:!0,opacity:h?0:c,depthWrite:f,vertexColors:!1}),o.needsUpdate=!0),o.resolution.set(this.innerWidth/2,this.innerHeight/2),i=new Gg(e,o),i.scale.set(1,1,1),i.computeLineDistances(),r&&(i.add(r),i.renderOrder=1,i.fatLine=r,i.fatLineMaterial=a),h){const t=new zg;t.setPositions(n);let e=null;e=new Dg(d?{color:l,linewidth:s,vertexColors:!1,alphaToCoverage:!0,dashed:d,dashSize:A,gapSize:u}:{color:l,alphaToCoverage:!0,dashed:!0,dashSize:100,gapSize:0,dashOffset:0,linewidth:s,vertexColors:!1}),e.resolution.set(this.innerWidth/2,this.innerHeight/2);const r=new Gg(t,e);r.type="IndoorMapLineLayer",r.computeLineDistances(),this.lineCoverLayer=r,i.add(r)}if(0===t.vertexParams.showVertexIndex.length&&(t.vertexParams.showVertexIndex=new Array(t.points.length).fill("").map(((t,e)=>e))),!t.noVertices)for(let e=0,n=t.points.length;e<n;e++)if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){let n=null;n="circle"===t.vertexParams.vertexType?this.createCircles(t,e):this.createSquares(t,e),this.isHideVertex=!1,n&&(n.position.set(this.vertexPoints[e].x,this.vertexPoints[e].y,this.vertexPoints[e].z+1),i.add(n))}if(!t.noUnitText){const e={text:t.unitText,unitTextFontStyle:t.unitTextFontStyle},n=this.createUnitTextLayer(e);this.isHideUniText=!1,this.unitLayer=n,i.add(n)}if(t.showSideVertex){const e=this.createSideCircles(t);this.sideLayer=e,e.position.set(this.center.x,this.center.y+100*t.sideParams.radius*this.params.sideParams.scale,this.params.height),i.add(e)}}return this.lineLayer=i,this.dispatchScope(i),i.type="IndoorMapLineLayer",i},this.createUnitTextLayer=t=>{const e=Bg(t.text,t.unitTextFontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.position.set(this.center.x,this.center.y,0),e},this.updateUnitText=t=>{if(this.unitLayer){const n=Bg(t,this.params.unitTextFontStyle);this.dispatchScope(n);const i=this.vertexPoints[0],r=this.vertexPoints[1];if(i&&r){var e;const t=this.calcDegrees(r,i);n.type=It.indoorMapTextLayer,n.position.set(this.center.x,this.center.y-5,0),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.rotateZ(t),null==(e=this.layer)||e.add(this.unitLayer)}}},this.updateSquareVertexDegree=t=>{const e=this.vertexLayers[0],n=this.vertexLayers[1];if(void 0===t){const t=this.vertexPoints[0],i=this.vertexPoints[1];if(t&&i){const r=this.calcDegrees(i,t);e&&n&&(e.rotateZ(r),n.rotateZ(r))}}else{const i=t*Math.PI/180;e&&n&&(e.rotateZ(i),n.rotateZ(i))}},this.updateSideLayer=()=>{if(this.sideLayer){const t=this.calcSidePoints(this.center,this.vertexPoints[0],100*this.params.sideParams.radius*this.params.sideParams.scale);this.sideLayer.position.set(t.x,t.y,this.params.height)}},this.calcSidePoints=(t,e,n)=>{const i=this.calcDegrees(t,e)+Math.PI/2;return this.movePoint(t,i,n)},this.calcDegrees=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),this.movePoint=(t,e,n)=>{const i=n*Math.sin(e),r=n*Math.cos(e);return new yn(t.x+r,t.y+i)},this.updateLinePoints=t=>{let e=[];this.params.points=t;const n=t;Rm(n);const i=[];for(let t=0,r=n.length;t<r;t++){let r=n[t];e.push(new yn(r.x,r.y,this.params.height)),i.push(r.x,r.y,this.params.height)}this.vertexPoints=e,this.layer.geometry.setPositions(i)},this.createCircles=(t,e)=>{const n=t.vertexParams.radius,i=t.vertexParams.segments,r=t.vertexParams.vertexImages;let o=null,a=null;if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){const n=(new Fc).load(r[e]||Gm,(()=>{n.needsUpdate=!0,n.magFilter=we,n.minFilter=we}));o=new Is({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1}),a=new zs(o);const i=t.vertexParams.scale;a.scale.set(i,i,i)}else{const e=new Sl(n,i);o=new gr({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});const r=new Fr(e,o);r.type=It.indoorMapStable;const s=new Sl(n*t.vertexParams.extendTimes,i),l=new gr({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});a=new Fr(s,l),a.add(r)}return a.type="IndoorMapLineLayerCircle",a.userIndex=e,this.vertexLayers.push(a),this.dispatchScope(a),a},this.createSideCircles=t=>{const e=t.sideParams.radius,n=t.sideParams.segments,i=t.sideParams.sideVertexImage;let r=null,o=null;if(t.sideParams.showSideVertexImage&&!t.sideParams.isScale){const e=(new Fc).load(i||Gm,(()=>{e.needsUpdate=!0,e.magFilter=we,e.minFilter=we}));r=new Is({map:e,transparent:!0,color:t.sideParams.sideVertexColor,opacity:t.sideParams.opacity,sizeAttenuation:!1}),o=new zs(r);const n=t.sideParams.scale;o.scale.set(n,n,n)}else{const i=new Sl(e,n);r=new gr({color:t.sideParams.sideVertexColor,transparent:!0,opacity:t.sideParams.opacity}),o=new Fr(i,r)}return o.type="IndoorMapLineLayerCircle",o.userIndex=-1,this.dispatchScope(o),o},this.createSquares=(t,e)=>{const n=t.vertexParams.radius,i=t.vertexParams.vertexImages;let r=null,o=null;if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){const n=(new Fc).load(i[e]||Gm,(()=>{n.needsUpdate=!0,n.magFilter=we,n.minFilter=we}));r=new Is({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1}),o=new zs(r);const a=t.vertexParams.scale;o.scale.set(a,a,a)}else{const e=new Vi(2*n,2*n);r=new gr({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});const i=new Fr(e,r);i.type=It.indoorMapStable;const a=new Vi(2*n*t.vertexParams.extendTimes,2*n*t.vertexParams.extendTimes),s=new gr({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});o=new Fr(a,s),o.add(i)}return o.type="IndoorMapLineLayerCircle",o.userIndex=e,this.vertexLayers.push(o),this.dispatchScope(o),o},this.removeLineLayer=()=>this.remove(),this.disableEnableFilter=t=>{this.layer.userData.enableFilter=t},this.hideVertex=t=>{this.vertexEventEnable=!t,this.isHideVertex=t,this.vertexLayers.forEach((e=>{e&&(e.visible=!t)})),this.sideLayer&&(this.sideLayer.visible=!t)},this.getIsHideVertex=()=>this.isHideVertex,this.getIsHideUniText=()=>this.isHideUniText,this.getVertexEventEnable=()=>this.vertexEventEnable,this.hideUnitText=t=>{this.unitLayer&&(this.isHideUniText=t,this.unitLayer.visible=!t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.hideLayer=(t,e=!1)=>{this.layer&&(e?this.layer.visible=!t:(this.isHideLayer&&(this.layer.visible=!t),this.isHideLayer=e))},this.vertexLayers=[],this.vertexPoints=[],this.d3VertexPoints=[],this.center=new yn,this.isHideUniText=!0,this.isHideVertex=!0,this.isHideLayer=!1;const e={class:"",is3d:!1,d3Height:5,color:"#BC2121",opacity:.5,transparent:!0,height:5,noVertices:!1,depthWrite:!0,noUnitText:!1,unitText:"0.0m",lineWidth:1,isDash:!0,dashSize:1,gapSize:.5,shouldExtendLine:!0,extendTimes:6,showSideVertex:!1,sideParams:{isScale:!1,scale:.02,sideVertexImage:"",sideVertexEvent:()=>{this.logger.info("It seems not set up sideVertexEvent")},showSideVertexImage:!0,radius:4,segments:32,sideVertexColor:"#BC2121",opacity:1},vertexParams:{isScale:!1,scale:.02,vertexImages:[],vertexEvents:[],showVertexIndex:[],showVertexImage:!1,vertexType:"circle",extendTimes:2,radius:4,segments:32,vertexColor:"#BC2121",opacity:1},fontStyle:{color:"#000000",fontSize:24,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1},unitTextFontStyle:{color:"#000000",fontSize:24,fontScale:.3,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1},points:[{x:0,y:0},{x:0,y:0}],isFatLine:!1},n=Qf(e,t);Rm(n.points),n.is3d&&(n.height=0),this.params=n,this.d3Height=n.d3Height||5,this.innerWidth=n.innerWidth,this.innerHeight=n.innerHeight,this.vertexEvents=n.vertexParams.vertexEvents,this.sideVertexEvent=n.sideParams.sideVertexEvent,this.vertexEventEnable=!0,this.layer=this.createLines(n)}}let Zg="() => {\n\tlet requestFrameId;\n\n\tconsole.log('SleepWorkerRender: Thread has been started ');\n\n\tconst evtFunc = msg => {\n\t\n\t\tif (msg.data.name === 'render') {\n\t\t\tbreatheAnimationOffScreenRender(msg.data)\n\t\t}\n\t\tif (msg.data.name === 'remove') {\n\t\t\tcancelAnimationFrame(requestFrameId);\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tconsole.log('SleepWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\t/**\n\t * \n\t */\n\tconst breatheAnimationOffScreenRender = (data) => {\n\t\tconst { canvas, parameters, pixelRatio } = data;\n\t\tif (!canvas) { \n\t\t\tconsole.warn('SleepWorkerRender: Please provide an offscreenCanvas\tparams ');\n\t\t\treturn;\n\t\t}\n\t\tconst context = canvas.getContext('2d');\n\t\tif (!context) {\n\t\t\tconsole.warn('SleepWorkerRender: Please provide canvas element params ');\n\t\t\treturn;\n\t\t}\n\t\tconst ratio = pixelRatio;\n\t\t\tconst fontSize = 32;\n\t\t\tconst size = parameters.size * fontSize;\n\t\t\tcontext?.scale(ratio, ratio);\n\t\t\tcontext.lineWidth = 4;\n\t\t\tcontext.strokeStyle = '#FFFFFF';\n\t\t\tcontext.textBaseline = \"middle\";\n\t\t\tcontext.fillStyle = '#000000';\n\t\t\tcontext.translate(size / 4 * 2.5, size / 8);\n\n\t\t\tconst run = () => {\n\t\t\t\tconst sleepText = 'zzz';\n\t\t\t\tconst sleepArr = sleepText.split('');\n\t\t\t\tlet index = 0;\n\t\t\t\tconst length = sleepArr.length;\n\t\t\t\trequestFrameId = setInterval(() => {\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tcontext.clearRect(0, 0, size * ratio, size * ratio);\n\t\t\t\t\t}\n\t\t\t\t\tconst text = sleepArr[index];\n\t\t\t\t\tcontext.font = fontSize + index * 2 + 'px sans-serif';\n\t\t\t\t\tconst width = context.measureText(text).width * 2;\n\t\t\t\t\tconst height = fontSize + 2;\n\t\t\t\t\tconst xOffSet = width * index + 1;\n\t\t\t\t\tconst yOffSet = height * (length - index);\n\t\t\t\t\tcontext.strokeText(text, xOffSet, yOffSet);\n\t\t\t\t\tcontext.fillText(text, xOffSet, yOffSet);\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tself.postMessage('update');\n\t\t\t\t\t});\n\t\t\t\t\tif (index >= length - 1) {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t}, 400);\n\t\t\t}\n\t\n\t\t\trun();\n\t}\n }";Zg=Zg.substring(Zg.indexOf("{")+1,Zg.lastIndexOf("}"));const Xg=new Blob([Zg],{type:"application/javascript"});class qg extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.requestFrameId=void 0,this.frameAnimationId=void 0,this.worker=void 0,this.texture=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.useWorker=void 0,this.initImgCloud=(t,e)=>{this.texture=this.createSleepAnimateCanvas(t);let n=null;if(t.isScale){const e=new Vi(t.size,t.size),i=new gr({map:this.texture,transparent:!0,opacity:1});n=new Fr(e,i)}else{const e=new Is({map:this.texture,transparent:!0,opacity:1,sizeAttenuation:!1});n=new zs(e),n.scale.set(t.scale*t.rate,t.scale*t.rate,t.scale*t.rate)}return n.position.set(t.point.x,t.point.y,t.height),n.type=e,n.point=new yn(t.point.x,t.point.y,t.height),n.params=t,n},this.createSleepAnimateCanvas=t=>{const e=document.createElement("canvas"),n=this.indoorMap2d.pixelRatio,i=32*t.size;e.width=i*n,e.height=i*n,e.style.width=i+"px",e.style.height=i+"px";const r=new hn(e);if(this.worker){this.offScreenCanvas=e.transferControlToOffscreen();const n={name:"render",canvas:this.offScreenCanvas,parameters:{...t,indoorMap2d:{}},pixelRatio:this.indoorMap2d.pixelRatio};this.worker.postMessage(n,[this.offScreenCanvas]),this.logger.info("Start thread to animate"),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const t=e.getContext("2d");null==t||t.scale(n,n),t.lineWidth=4,t.strokeStyle="#FFFFFF",t.textBaseline="middle",t.fillStyle="#000000",t.translate(i/4*2.5,i/8);const o=()=>{const e="zzz".split("");let o=0;const a=e.length;this.requestFrameId=setInterval((()=>{0===o&&t.clearRect(0,0,i*n,i*n);const s=e[o];t.font=32+2*o+"px sans-serif";const l=2*t.measureText(s).width*o+1,c=34*(a-o);t.strokeText(s,l,c),t.fillText(s,l,c),r.needsUpdate=!0,o>=a-1?o=0:o+=1}),400)};o()}return r.magFilter=we,r.minFilter=we,r},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Mm(`${this.indoorMap2d.getUnionId()}_Sleep_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.worker=null,this.workerStatus=!1)},this.getFrameAnimationId=()=>this.frameAnimationId,this.removeSleepBreathe=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{xm(`${this.indoorMap2d.getUnionId()}_Sleep_remove`,(()=>{this.logger.info("Sleep has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{this.requestFrameId&&cancelAnimationFrame(this.requestFrameId),t(this.remove())})),this.logger.setLoggerInfo(t.onLoggerInfo),this.point=t.point,this.workerStatus=!1,this.frameAnimationId=(new Date).getTime(),this.indoorMap2d=t.indoorMap2d,this.useWorker=void 0===t.useWorker||t.useWorker,Em(this.indoorMap2d.env)&&Tm(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Im(Xg));const e=Qf({duration:.4,size:16,rate:2,height:2,isScale:!1,scale:.02,point:{x:0,y:0}},t);Rm(e.point),this.params=e,this.layer=this.initImgCloud(e,It.indoorMapImgCloud)}}class Jg extends Qm{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.is3d=void 0,this.origin=void 0,this.position=void 0,this.directionAngle=void 0,this.markerLayer=void 0,this.breatheLayer=void 0,this.sleepLayer=void 0,this.params=void 0,this.isScale=void 0,this.scale=void 0,this.animation=void 0,this.breatheHidden=void 0,this.createRobot=t=>{if(this.is3d){const e=new ki;e.position.set(t.position.x,-t.position.y,0);const n=String((new Date).getTime());return this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.indoorMap2d.map.modelLoader.loadModelLayer({value:`${this.indoorMap2d.map.getStaticPrefix()}/app/robot/models/robot.gltf`,unionId:n},{info:{id:"001",parent:"robot",type:"robot",name:"robot",preview:""},infoKey:"robot",scale:.8,rotate:0,point:{x:0,y:0,z:0},origin:this.origin},!1,"robot").then((t=>{t&&(this.markerLayer=t.layer,e.add(this.markerLayer))})),e}{const e=new ki;e.position.set(t.position.x,-t.position.y,0);const n={point:{x:0,y:0},image:t.markerIcon||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAhFBMVEUAAAD////p7P/i5f/o6v/v8P/29v/8/P/////j5//m6P/6+v/////j5f/5+f/////j5//09P/29v/r7f/r7//k5v/7+/9xe/+UnP+Gjv+lq/93gf+VnP9zff////+Rmf/Lzv+utP+Xnv94gf/Lz//R1f/9/f/29v/e4P+HkP/19v+kq/+FqXFRAAAAF3RSTlMACV2y2/X8/hF21P4Kmv0Dfvoc6z9x/kOizgoAAAFjSURBVHhelZbXroMwDIbNHi2U0JGwR+d4//c7UpyiHlbq/8Y3/pDxDExkmJbtuJ7nOrZlGqCRH4Sb+kubMPBXgG0U1xPF0XYB2CWsnhVLdnNAuq8XtU+nwIHVK2KHMXA8DQ6vSy6y4pyJ/PIaiNNx5D+4X8uKD6rK64D8Iw6f7z8aPlLzUMDpK6pUxX/r+Iy6GxIsHfKp8nPv+az6u8rVJ7uJ8n/yBT0Vkaj6Moyn54vqMSqGNY8Q7/iKOvSJZL/FmB++KsxV7ANAgHCzDjToFQBAiPXiGmEFQwAD+7/UASXOhwEm9k+lAyrsKxMsaVuuVSsBC2xp33ogl4ANjrRCDwgJOOBKm+mBTAIueNIWeqCQgKeAsx44I0AOif7TmNb857T+XrgLFo7cGuTmo7Y3eYDII0pdAuQ1Q15k9FVJX8b0dU8/KNOT1b5FVhSZyNvRySIfRfrZpR92+tOB/jghP3/+AKjht2PUfiypAAAAAElFTkSuQmCC",size:t.size||8,height:Ut.robot,isScale:this.isScale,scale:this.scale},i=new Xm(n);return this.markerLayer=i.layer,e.add(this.markerLayer),e}},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.createBreathe=t=>{const{rate:e=2,borderColor:n="#00000000",borderWidth:i=1,color:r="#FF000000",duration:o=2,animationType:a=Vt.normal}=t,s={point:{x:0,y:0},size:this.params.size||8,rate:e,animate:!0,color:bg(r),borderColor:bg(n),borderWidth:i,indoorMap2d:this.indoorMap2d,duration:o,animationType:a,height:Ut.robot-.01,isScale:this.isScale,scale:this.scale,useWorker:this.indoorMap2d.useWorker};return new $m(s)},this.createSleep=()=>{var t;const e={point:{x:0,y:0},size:2*(this.params.size||8),rate:2*((null==(t=this.animation)?void 0:t.rate)||2),duration:.4,indoorMap2d:this.indoorMap2d,height:Ut.robot+.01,isScale:this.isScale,scale:this.scale,useWorker:this.indoorMap2d.useWorker};return new qg(e)},this.getAnimationConfig=()=>this.animation,this.getCurrentRobotPosition=()=>({position:{x:this.position.x-this.origin.x,y:this.position.y-this.origin.y},originPosition:{x:this.position.x,y:this.position.y}}),this.getCurrentRobotOrigin=()=>this.origin,this.setAnimationConfig=t=>{this.animation=t,this.showBreathe(!1,t)},this.setStoreParams=(t,e)=>{this.origin=e,this.position=t},this.updateRobotPosition=(t,e)=>{if(this.position.x!==t.x||this.position.y!==t.y){if(this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition)this.layer.scope.updateImgCloudPosition({x:t.x,y:t.y});else{const e=this.layer.position.z;this.layer.position.set(t.x,-t.y,e)}this.setStoreParams(t,e)}},this.updateLinearRobotPosition=(t,e,n=1e3,i,r)=>{if(this.position.x===t.x&&this.position.y===t.y)return;if(9999===this.position.x&&9999===this.position.y)return void this.updateRobotPosition(t,e);const o=this.position;if(this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition){const a=new Mu.Tween(o).to(t,n).easing(Mu.Easing.Linear.None);a.start().onUpdate((()=>{this.layer.scope.updateImgCloudPosition({x:o.x,y:o.y}),"function"==typeof i&&i()})).onComplete((()=>{"function"==typeof r&&r(),this.setStoreParams(t,e),Mu.remove(a)}))}else{const i=this.layer.position.z;let a={x:o.x,y:-o.y},s={x:t.x,y:-t.y};const l=new Mu.Tween(a).to(s,n).easing(Mu.Easing.Linear.None);l.start().onUpdate((()=>{this.layer.position.set(a.x,a.y,i)})).onComplete((()=>{"function"==typeof r&&r(),this.setStoreParams(t,e),Mu.remove(l)}))}},this.updateRobotDirection=t=>{this.markerLayer&&(this.markerLayer.type===It.indoorMapImgCloud?this.markerLayer.isSprite?this.markerLayer.material.rotation=-t:this.markerLayer.rotation.z=-t:this.layer.rotation.z=-t,this.directionAngle=t)},this.getRobotDirectionAngle=()=>this.directionAngle,this.getPointAtDistance=(t,e,n)=>({x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}),this.linearizePoints=(t,e,n)=>{const i=[],r=e.x-t.x,o=e.y-t.y;for(let e=0;e<n;e++){const a=e/(n-1),s=t.x-r*a,l=t.y-o*a;i.push({x:s,y:l})}return i},this.getPointsBySlopeAndCurrentRobotPosition=t=>{const e=this.getRobotDirectionAngle(),n=this.getPointAtDistance(this.position,e,t);return this.linearizePoints(this.position,n,t)},this.getCurrentRobotNDCPosition=()=>this.layer?{x:this.layer.position.x-this.origin.x,y:-this.layer.position.y-this.origin.y}:null,this.showBreathe=async(t,e)=>{if(!(this.is3d||this.breatheHidden===t&&this.animation&&JSON.stringify(this.animation)===JSON.stringify(e)))if("boolean"==typeof t&&(this.breatheHidden=t),e&&(this.animation=e),t){if(this.breatheLayer){this.breatheLayer.hide();const t=this.breatheLayer.getFrameAnimationId();Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.breatheLayer){this.breatheLayer.show();const t=this.breatheLayer.getFrameAnimationId();Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}else if(this.animation){this.breatheLayer=this.createBreathe(this.animation),this.layer&&this.layer.add(this.breatheLayer.layer);const t=this.breatheLayer.getFrameAnimationId();return void Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}!this.animation&&this.logger.warn("If you want to setup to show breathe animation, please set the params")}},this.showSleepBreathe=async t=>{if(!this.is3d)if(t){if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}}else{if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}this.sleepLayer=this.createSleep(),this.layer&&this.layer.add(this.sleepLayer.layer);const t=this.sleepLayer.getFrameAnimationId();Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1})}},this.removeRobot=async()=>{if(this.breatheLayer){const t=this.breatheLayer.getFrameAnimationId();await this.breatheLayer.removeBreathe(),this.breatheLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}if(this.sleepLayer){const t=this.sleepLayer.getFrameAnimationId();await this.sleepLayer.removeSleepBreathe(),this.sleepLayer=null,Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:0})}return this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.class="robot",this.indoorMap2d=t.indoorMap2d,this.origin=t.origin||{x:0,y:0},this.is3d=t.is3d,this.position=t.position,this.params=t,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.breatheHidden=!0,this.markerLayer=null,this.breatheLayer=null,this.sleepLayer=null,this.directionAngle=0,this.animation=t.animation||void 0,this.layer=this.createRobot(t),this.getInfo(this.layer)}}function $g(){return function(t,e){if(!Array.isArray(t)||0===t.length)return{};const n=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),i=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];if(t.length>=2)for(let n=1;n<t.length;n++){const r={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};[t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===r.type?i[i.length-1].push(r):i.push([r])}return{robot:n,pathArray:i}}(...arguments)}function ty(){return function(t,e,n,i,r){let o=!1;const a=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),s=n.length>=1&&t.length-n.length>0?n.length:1;let l;i[i.length-1]&&i[i.length-1].length&&t.length-n.length>=0&&t.length>=2?t[s].type===t[s-1].type?(l=[Object.assign([],i[i.length-1])],r&&i[i.length-1].length>1&&(o=!0)):l=[]:l=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];for(let n=s;n<t.length;n++){const i={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};if([t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===i.type){const t=l[l.length-1];t[t.length-1].type===i.type?l[l.length-1].push(i):l.push([i])}else l.push([i])}return{robot:a,pathArray:l,flag:o}}(...arguments)}function ey(){return function(t,e){if(!Array.isArray(t)||0===t.length)return{};const n=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),i=[[{type:t[0].type,x:e.x+t[0].x,y:e.y+t[0].y}]];if(t.length>=2)for(let n=1;n<t.length;n++){const r={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y};[t[n-1].type,(e.x,t[n-1].x),(e.y,t[n-1].y)][0]===r.type?i[i.length-1].push(r):i.push([r])}const r=[];for(let t=0;t<i.length;t++){const e=i[t];e.length%2==1&&e.push(e[e.length-1]);const n=[];for(let t=1;t<e.length;t++){const i=[e[t-1],e[t]];n.push(i)}r.push(n)}return{robot:n,pathArray:r}}(...arguments)}function ny(){return function(t,e,n,i,r){const o=Object.assign({},t[t.length-1],{x:t[t.length-1].x+e.x,y:t[t.length-1].y+e.y}),a=n.length>=1&&t.length>=n.length?n.length-1:0,s=[[{type:t[a].type,x:e.x+t[a].x,y:e.y+t[a].y}]];for(let n=a+1;n<t.length;n++){const i={type:t[n].type,x:e.x+t[n].x,y:e.y+t[n].y},r={type:t[n-1].type,x:e.x+t[n-1].x,y:e.y+t[n-1].y};if(i.type===r.type){const t=s[s.length-1];t[t.length-1].type===i.type?s[s.length-1].push(i):s.push([i])}else s.push([i])}const l=[];for(let t=0;t<s.length;t++){const e=s[t];e.length%2==1&&e.push(e[e.length-1]);const n=[];for(let t=1;t<e.length;t++){const i=[e[t-1],e[t]];n.push(i)}l.push(n)}return{robot:o,pathArray:l,flag:!1,uuid:r}}(...arguments)}$g.toString(),ty.toString(),ny.toString(),ey.toString();let iy="() => {\n\tconst evtFunc = msg => {\n\n\t\tfunction convertPathWithTypeFn() {\n\t\t\tfunction convertPathWithType(points, origin) {\n\t\t\t\tif (!Array.isArray(points) || points.length === 0) return {};\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst firstPoint = {\ttype: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tif ( points.length >= 2 ) {\n\t\t\t\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn { robot: robot, pathArray: result };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithType(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeIncrementalFn() {\n\t\t\tfunction convertPathWithTypeIncremental(\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * 1.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]\n\t\t\t\t * 2.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'transition'}]\n\t\t\t\t * 3.[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'common'}, {x: 0, y: 4, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpoints,\n\t\t\t\torigin,\n\t\t\t\t /**\n\t\t\t\t * \n\t\t\t\t * 1. []\n\t\t\t\t * 2. [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]\n\t\t\t\t * 3. [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}, {x: 0, y: 2, type: 'common'}, {x: 0, y: 3, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpathData,\n\t\t\t\t /**\n\t\t\t\t * \n\t\t\t\t * 1. [[]]\n\t\t\t\t * 2. [[{x: 0, y: 0, type: 'transition'}, {x: 0, y: 1, type: 'transition'}]]\n\t\t\t\t * 3. [[{x: 0, y: 2, type: 'common'}, [{x: 0, y: 3, type: 'transition'}]]] \n\t\t\t\t */\n\t\t\t\tpathArray,\n\t\t\t\tuuid\n\t\t\t) {\n\t\t\t\tlet flag = false;\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst startIndex = pathData.length >= 1 && points.length - pathData.length > 0 ? pathData.length : 1;\n\t\t\t\tlet result;\n\t\t\n\t\t\t\t// 0\n\t\t\t\tif (pathArray[pathArray.length - 1] && pathArray[pathArray.length - 1].length && points.length - pathData.length >= 0 && points.length >= 2) {\n\t\t\t\t\t// \n\t\t\t\t\tif (points[startIndex].type === points[startIndex - 1].type) {\n\t\t\t\t\t\tconst temp = Object.assign([], pathArray[pathArray.length - 1]);\n\t\t\t\t\t\tresult = [temp];\n\t\t\t\t\t\tif (uuid && pathArray[pathArray.length - 1].length > 1) {\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = [];\n\t\t\t\t\t} \n\t\t\t\t} else {\n\t\t\t\t\tconst tempPoint =\t{ type: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y }\n\t\t\t\t\tresult = [[tempPoint]];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (let i = startIndex; i < points.length; i++) {\n\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\tconst lastGroup = result[result.length - 1];\n\t\t\t\t\t\tif (lastGroup[lastGroup.length - 1].type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn { robot, pathArray: result, flag };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeIncremental(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeLinearFn() {\n\t\t\tfunction convertPathWithTypeLinear(points, origin) {\n\t\t\t\tif (!Array.isArray(points) || points.length === 0) return {};\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\tconst firstPoint = {\ttype: points[0].type, x: origin.x + points[0].x, y: origin.y + points[0].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tif (points.length >= 2) {\n\t\t\t\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\t\tif (prePoint.type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t // , \n\t\t\t\t const list = [];\n\t\t\t\t for (let i = 0; i < result.length; i++) {\n\t\t\t\t\t const item = result[i];\n\t\t\t\t\t // , \n\t\t\t\t\t if (item.length % 2 === 1) {\n\t\t\t\t\t\t item.push(item[item.length - 1]);\n\t\t\t\t\t }\n\t\t\t\t\t const second = [];\n\t\t\t\t\t for (let j = 1; j < item.length; j++) {\n\t\t\t\t\t\t const previous = item[j - 1];\n\t\t\t\t\t\t const current = item[j];\n\t\t\t\t\t\t const third = [previous, current];\n\t\t\t\t\t\t second.push(third);\n\t\t\t\t\t }\n\t\t\t\t\t list.push(second);\n\t\t\t\t }\n\t\t\t\treturn { robot: robot, pathArray: list };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeLinear(...arguments);\n\t\t}\n\n\t\tfunction convertPathWithTypeIncrementalLinearFn() {\n\t\t\tfunction convertPathWithTypeIncrementalLinear(\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpoints,\n\t\t\t\torigin,\n\t\t\t\t/**\n\t\t\t\t * \n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t */\n\t\t\t\tpathData,\n\t\t\t\t/**\n\t\t\t\t * [\n\t\t\t\t * [\n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}],\n\t\t\t\t * [{x: 0, y: 0, type: 'transition'}, {x: 0, y: 0, type: 'transition'}]\n\t\t\t\t * ], \n\t\t\t\t * [\n\t\t\t\t * [{x: 0, y: 0, type: 'common'}, {x: 0, y: 0, type: 'common'}],\n\t\t\t\t * [{x: 0, y: 0, type: 'common'}, {x: 0, y: 0, type: 'common'}]\n\t\t\t\t * ],\n\t\t\t\t * ]\n\t\t\t\t */\n\t\t\t\tpathArray,\n\t\t\t\tuuid\n\t\t\t) {\n\t\t\t\tlet flag = false;\n\t\t\t\tconst robot = Object.assign({}, points[points.length - 1], { x: points[points.length - 1].x + origin.x, y: points[points.length - 1].y + origin.y });\n\t\t\t\t// \n\t\t\t\tconst startIndex = pathData.length >= 1 && points.length >= pathData.length ? pathData.length - 1 : 0;\n\t\t\t\tconst firstPoint =\t{ type: points[startIndex].type, x: origin.x + points[startIndex].x, y: origin.y + points[startIndex].y };\n\t\t\t\tconst result = [[firstPoint]];\n\t\t\t\tfor (let i = startIndex + 1; i < points.length; i++) {\n\t\t\t\t\tconst currentPoint =\t{ type: points[i].type, x: origin.x + points[i].x, y: origin.y + points[i].y };\n\t\t\t\t\tconst prePoint = { type: points[i - 1].type, x: origin.x + points[i - 1].x, y: origin.y + points[i - 1].y };\n\t\t\t\t\tif (currentPoint.type === prePoint.type) {\n\t\t\t\t\t\tconst lastGroup = result[result.length - 1];\n\t\t\t\t\t\tif (lastGroup[lastGroup.length - 1].type === currentPoint.type) {\n\t\t\t\t\t\t\tresult[result.length - 1].push(currentPoint);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.push([currentPoint]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// , \n\t\t\t\tconst list = [];\n\t\t\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\t\t\tconst item = result[i];\n\t\t\t\t\t// , \n\t\t\t\t\tif (item.length % 2 === 1) {\n\t\t\t\t\t\titem.push(item[item.length - 1]);\n\t\t\t\t\t}\n\t\t\t\t\tconst second = [];\n\t\t\t\t\tfor (let j = 1; j < item.length; j++) {\n\t\t\t\t\t\tconst previous = item[j - 1];\n\t\t\t\t\t\tconst current = item[j];\n\t\t\t\t\t\tconst third = [previous, current];\n\t\t\t\t\t\tsecond.push(third);\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(second);\n\t\t\t\t}\n\t\t\t\treturn { robot, pathArray: list, flag, uuid };\n\t\t\t}\n\t\t\n\t\t\treturn convertPathWithTypeIncrementalLinear(...arguments);\n\t\t}\n\n\n\t\tconst { name } = msg.data;\n\t\tconst FunctionCallee = Function || window.Function;\n\t\t\n\t\tif (name === 'updatePath') {\n\t\t\tconst { pathLinearAnimate, points, origin, timestamp } = msg.data;\n\n\t\t\tconst convertPathWithTypeLinearFnStr = convertPathWithTypeLinearFn.toString();\n\t\t\tconst convertPathWithTypeFnStr =convertPathWithTypeFn.toString();\n\t\t\tconst fnStr = pathLinearAnimate ? convertPathWithTypeLinearFnStr.substring(\n\t\t\t\tconvertPathWithTypeLinearFnStr.indexOf('{') + 1,\n\t\t\t\tconvertPathWithTypeLinearFnStr.lastIndexOf('}')) : convertPathWithTypeFnStr.substring(\n\t\t\t\t\tconvertPathWithTypeFnStr.indexOf('{') + 1,\n\t\t\t\t\tconvertPathWithTypeFnStr.lastIndexOf('}'));\n\n\t\t\tconst fn = new FunctionCallee(fnStr);\n\t\t\tconst result = fn(points, origin);\n\t\t\tresult.name = 'updatePath';\n\t\t\tresult.timestamp = timestamp;\n\t\t\tself.postMessage(result);\n\t\t}\n\n\t\tif (name === 'updatePathIncrement') {\n\t\t\tconst { pathLinearAnimate, points, origin, pathData, pathArray, uuid, timestamp } = msg.data;\n\n\t\t\tconst convertPathWithTypeIncrementalLinearFnStr = convertPathWithTypeIncrementalLinearFn.toString();\n\t\t\tconst convertPathWithTypeIncrementalFnStr = convertPathWithTypeIncrementalFn.toString();\n\n\t\t\tconst fnStr = pathLinearAnimate ?\tconvertPathWithTypeIncrementalLinearFnStr.substring(\n\t\t\t\tconvertPathWithTypeIncrementalLinearFnStr.indexOf('{') + 1,\n\t\t\t\tconvertPathWithTypeIncrementalLinearFnStr.lastIndexOf('}')) : convertPathWithTypeIncrementalFnStr.substring(\n\t\t\t\t\tconvertPathWithTypeIncrementalFnStr.indexOf('{') + 1,\n\t\t\t\t\tconvertPathWithTypeIncrementalFnStr.lastIndexOf('}'));\n\n\t\t\tconst fn = new FunctionCallee(fnStr)\n\t\t\tconst result = fn(points, origin, pathData, pathArray, uuid);\n\t\t\tresult.name = 'updatePathIncrement';\n\t\t\tresult.timestamp = timestamp;\n\t\t\tself.postMessage(result);\n\t\t}\n\n\t\tif (name === 'remove') {\n\t\t\tself.postMessage({ name: 'remove' });\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t}\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";iy=iy.substring(iy.indexOf("{")+1,iy.lastIndexOf("}"));const ry=new Blob([iy],{type:"application/javascript"});class oy extends Qm{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.lineLayers=void 0,this.robotLayer=void 0,this.pathLinearAnimate=void 0,this.pathWidth=void 0,this.origin=void 0,this.is3d=void 0,this.pathData=void 0,this.pathArray=void 0,this.uuid=void 0,this.moving=void 0,this.pathWorker=void 0,this.useWorker=void 0,this.isAddEventListenerUpdate=void 0,this.isAddEventListenerUpdateIncrement=void 0,this.lastPathData=void 0,this.shouldUpdate=void 0,this.pathVisible=void 0,this.distanceToCamera=void 0,this.onRobotPositionChange=void 0,this.onPathInitThreadEnd=void 0,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.class="cleanPath",this.markerIcon=t.markerIcon,this.indoorMap2d=t.indoorMap2d,Em(this.indoorMap2d.env)&&this.useWorker&&(this.pathWorker=Im(ry)),this.is3d=t.is3d,this.pathLinearAnimate=t.pathLinearAnimate,this.pathWidth=t.pathWidth,this.origin=t.origin||{x:0,y:0},this.distanceToCamera=t.distanceToCamera||0,this.pathVisible=void 0===t.pathVisible||t.pathVisible,this.setParamsCache(t),this.lineLayers={},this.onRobotPositionChange=t.onRobotPositionChange||(()=>{this.logger.warn("It seems not setup onRobotPositionChange function")}),this.onPathInitThreadEnd=t.onPathInitThreadEnd||(()=>{this.logger.warn("It seems not setup onPathInitThreadEnd function")}),bm(`${this.indoorMap2d.getUnionId()}_mapMoving`,(t=>{const{moving:e}=t;this.moving=e,!e&&this.lastPathData&&this.shouldUpdate&&(this.shouldUpdate=!1,this.updateCleanPathPoints(this.lastPathData))})),this.pathData=Array.isArray(t.pathData)&&t.pathData||[],this.lastPathData=Array.isArray(t.pathData)&&t.pathData||[],this.pathArray=[[]],this.layer=new ki;const{robot:e,pathArray:n}=$g(t.pathData,this.origin);this.initRenderPath(t,n,e),this.getInfo(this.layer)},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.initRenderPath=(t,e,n)=>{try{if(!n)return;this.pathArray=e&&e.length>0?e:[[]];const{dataColors:m={},dataTypes:g={}}=n;if(e&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(n.length>1){var i;const r=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(i=this.layer)||i.add(r.layer),t===e.length-1&&(this.uuid=r.layer.uuid)}else{let i=!1;if(e[t+1]?(n.push(e[t+1][0]),i=!0):e[t-1],i){var r;const i=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(r=this.layer)||r.add(i.layer),t===e.length-1&&(this.uuid=i.layer.uuid)}}}const y={color:n.bgColor,borderColor:n.borderColor||"#00000000",borderWidth:void 0!==n.borderWidth?n.borderWidth:1,duration:void 0!==n.duration?n.duration:2,animationType:n.animationType||Vt.normal,rate:n.rate||2};if(t.robot&&void 0!==n){var o,a,s;this.robotLayer=t.robot,null==(o=this.robotLayer)||o.showBreathe(n.hidden,y),null==(a=this.robotLayer)||a.updateRobotPosition(new ln(n.x,n.y),this.origin);const{theta:e=0}=n,i=e*Math.PI/180;null==(s=this.robotLayer)||s.updateRobotDirection(i),this.onRobotPositionChange({directionAngle:i,position:{x:n.x-this.origin.x,y:n.y-this.origin.y},originPosition:{x:n.x,y:n.y}})}if(!this.robotLayer){var l,c,A,u,d,h,p,f;const t="string"!=typeof this.markerIcon,e=t?null==(l=this.markerIcon)?void 0:l.markerIcon:this.markerIcon,i=t&&void 0!==(null==(c=this.markerIcon)||null==(c=c.iconParams)?void 0:c.scale)?null==(A=this.markerIcon)||null==(A=A.iconParams)?void 0:A.scale:.01,r=!!t&&void 0!==(null==(u=this.markerIcon)||null==(u=u.iconParams)?void 0:u.isScale)&&(null==(d=this.markerIcon)||null==(d=d.iconParams)?void 0:d.isScale),o={indoorMap2d:this.indoorMap2d,origin:this.indoorMap2d.map.origin,markerIcon:e,position:new ln(n.x,n.y),isScale:r,scale:i*this.indoorMap2d.getFitScale(),is3d:this.is3d},a=new Jg(o);this.putRobotIntoMap(a),null==(h=this.robotLayer)||h.showBreathe(n.hidden,y),null==(p=this.robotLayer)||p.updateRobotPosition(new ln(n.x,n.y),this.origin);const{theta:s=0}=n,m=s*Math.PI/180;null==(f=this.robotLayer)||f.updateRobotDirection(m),this.onRobotPositionChange({directionAngle:m,position:{x:n.x-this.origin.x,y:n.y-this.origin.y},originPosition:{x:n.x,y:n.y}})}this.onPathInitThreadEnd(!0)}catch(t){this.logger.warn("initRenderPath occur error ==>",t)}},this.createCleanPath=(t,e,n)=>{let i=1;const{colorFormat:r,alpha:o}=this.argb2Rgb(e);1===this.pathWidth?i=this.pathWidth/6:this.pathWidth>1&&(i=this.pathWidth/12);const a={color:r,opacity:o,points:t.length>1?t:[],lineWidth:i,shouldExtendLine:!1,noUnitText:!0,noVertices:!0,isDash:!1,depthWrite:!0,height:this.is3d?.2:Ut.cleanPath,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},s=new Kg(a);if(s.layer.userData.enableFilter=!0,n===zt.smear){const t=new Kg({...a,isFatLine:!0,color:16777215,opacity:.5,lineWidth:3,isDash:!1});t.layer.position.set(0,-.1,0),s.layer.add(t.layer);const e=this.indoorMap2d.camera.position.distanceTo(t.layer.position),n=this.distanceToCamera/e,i=3*n>12?12:3*n;t.layer.fatLineMaterial.linewidth=i,t.layer.material.linewidth=i,this.indoorMap2d.registerAnimateFn((()=>{const e=this.indoorMap2d.camera.position.distanceTo(t.layer.position),n=this.distanceToCamera/e,i=3*n>12?12:3*n;t.layer.fatLineMaterial.linewidth=i,t.layer.material.linewidth=i}),t.layer.uuid)}return 0!==o&&this.pathVisible||(s.layer.visible=!1),s},this.updateParamsCacheWithNewPathData=t=>{const e=this.getParamsCache(),n=Object.assign(e,{pathData:t});return this.setParamsCache(n),n},this.updateParamsCacheWithNewOrigin=t=>{const e=this.getParamsCache(),n=Object.assign(e,{origin:t});return this.setParamsCache(n),n},this.updateCleanPathPoints=(t,e=!1,n=!1)=>{if(this.lastPathData=Array.isArray(t)&&t||[],!this.indoorMap2d.getVisibility())return void this.logger.warn("Due to the visibility, the updateCleanPathPoints function has called return");if(this.indoorMap2d.map&&this.indoorMap2d.map.mapFreeze)return void this.logger.warn("Due to the mapFreeze, the updateCleanPathPoints function has called return");if(this.moving)return this.shouldUpdate=!0,void this.logger.warn("Due to the gesture has been moving, the updateCleanPathPoints function has called return");if(!e&&this.pathData.length===t.length&&JSON.stringify(this.pathData)===JSON.stringify(t))return;if(0===t.length)return this.removeCleanPathChild(),this.pathArray=[[]],this.pathData=[],void(this.uuid=void 0);let i=!0;if(this.indoorMap2d.map&&(i=JSON.stringify(this.origin)===JSON.stringify(this.indoorMap2d.map.origin),i||(this.origin=this.indoorMap2d.map.origin,this.updateParamsCacheWithNewOrigin(this.origin))),this.pathWorker&&this.useWorker&&(this.isAddEventListenerUpdate||(this.isAddEventListenerUpdate=!0,this.pathWorker.onMessage(this.pathCallbackEvt))),t.length>this.pathData.length&&i)if(this.pathWorker&&this.useWorker&&!n){const e=(new Date).getTime();this.pathWorker.postMessage({name:"updatePathIncrement",pathLinearAnimate:this.pathLinearAnimate,points:t,origin:this.origin,pathData:this.pathData,pathArray:this.pathArray,uuid:this.uuid,timestamp:e})}else{const e=(new Date).getTime(),n=this.pathLinearAnimate?ny:ty,{robot:i,pathArray:r,flag:o}=n(t,this.origin,this.pathData,this.pathArray,this.uuid);o&&(this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(this.uuid),this.uuid=void 0),this.updateCleanPathRender(t,i,r);const a=(new Date).getTime();this.logger.info("synchronous updatePathIncrement time ==>",a-e),this.indoorMap2d.sceneRender(!0)}else if(this.pathArray=[[]],this.pathData=[],this.uuid=void 0,this.pathWorker&&this.useWorker&&!n){const e=(new Date).getTime();this.pathWorker.postMessage({name:"updatePath",pathLinearAnimate:this.pathLinearAnimate,points:t,origin:this.origin,timestamp:e})}else{const e=(new Date).getTime(),n=this.pathLinearAnimate?ey:$g,{robot:i,pathArray:r}=n(t,this.origin);this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(),this.updateCleanPathRender(t,i,r);const o=(new Date).getTime();this.logger.info("synchronous updatePathFull time ==>",o-e),this.indoorMap2d.sceneRender(!0)}},this.updateCleanPathOnOriginChange=t=>{JSON.stringify(t)!==JSON.stringify(this.origin)&&(this.logger.info(`updateCleanPathOnOriginChange ==> this.origin = ${JSON.stringify(this.origin)}, newOrigin = ${JSON.stringify(t)}`),this.updateCleanPathPoints(this.lastPathData,!0,!0))},this.pathCallbackEvt=t=>{const{robot:e,pathArray:n,name:i,flag:r,timestamp:o=(new Date).getTime()}=t;if("remove"!==i){if("updatePath"==i){this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(),this.updateCleanPathRender(this.lastPathData,e,n);const t=(new Date).getTime();return this.logger.info("asynchronous updatePathFull time ==>",t-o),void this.indoorMap2d.sceneRender(!0)}if("updatePathIncrement"===i){r&&(this.indoorMap2d.sceneRender(!1),this.removeCleanPathChild(this.uuid),this.uuid=void 0),this.updateCleanPathRender(this.lastPathData,e,n);const t=(new Date).getTime();return this.logger.info("asynchronous updatePathIncrement time ==>",t-o),void this.indoorMap2d.sceneRender(!0)}}else this.removeThreadEvt()},this.updateCleanPathRender=(t,e,n)=>{try{var i,r;if(!e)return;this.pathArray=n||[[]],this.pathData=t;const p={color:e.bgColor,borderColor:e.borderColor||"#00000000",borderWidth:void 0!==e.borderWidth?e.borderWidth:1,duration:void 0!==e.duration?e.duration:2,animationType:e.animationType||Vt.normal,rate:e.rate||2};if(!this.robotLayer){var o,a,s,l,c;const t="string"!=typeof this.markerIcon,n=t?null==(o=this.markerIcon)?void 0:o.markerIcon:this.markerIcon,i=t&&void 0!==(null==(a=this.markerIcon)||null==(a=a.iconParams)?void 0:a.scale)?null==(s=this.markerIcon)||null==(s=s.iconParams)?void 0:s.scale:.01,r=!!t&&void 0!==(null==(l=this.markerIcon)||null==(l=l.iconParams)?void 0:l.isScale)&&(null==(c=this.markerIcon)||null==(c=c.iconParams)?void 0:c.isScale),A={indoorMap2d:this.indoorMap2d,markerIcon:n,origin:this.indoorMap2d.map.origin,is3d:this.is3d,isScale:r,scale:i*this.indoorMap2d.getFitScale(),animation:p,position:new ln(e.x,e.y)},u=new Jg(A);this.putRobotIntoMap(u)}null==(i=this.robotLayer)||i.showBreathe(e.hidden,p);const{theta:f=0,dataColors:m={},dataTypes:g={}}=e,y=f*Math.PI/180;if(null==(r=this.robotLayer)||r.updateRobotDirection(y),this.pathLinearAnimate){if(n&&n.length>0)for(let t=0;t<n.length;t++){const i=n[t];for(let t=0;t<i.length;t++){const n=i[t];if(n.length>=2){var A;const t=this.createCleanPath(n,m[n[1].type],g[n[1].type]||zt.laser);null==(A=this.robotLayer)||A.updateLinearRobotPosition(new ln(e.x,e.y),this.origin,500,(()=>{}),(()=>{var e;null==(e=this.layer)||e.add(t.layer)}))}}}}else{var u;if(n&&n.length>0)for(let t=0;t<n.length;t++){const e=n[t];if(e.length>1){var d;const i=this.createCleanPath(e,m[e[1].type],g[e[1].type]||zt.laser);null==(d=this.layer)||d.add(i.layer),t===n.length-1&&(this.uuid=i.layer.uuid)}else if(1===e.length&&(n[t+1]?e.push(n[t+1][0]):n[t-1],e.length>1)){var h;const i=this.createCleanPath(e,m[e[1].type],g[e[1].type]||zt.laser);null==(h=this.layer)||h.add(i.layer),t===n.length-1&&(this.uuid=i.layer.uuid)}}null==(u=this.robotLayer)||u.updateRobotPosition(new ln(e.x,e.y),this.origin)}this.onRobotPositionChange({directionAngle:y,position:{x:e.x-this.origin.x,y:e.y-this.origin.y},originPosition:{x:e.x,y:e.y}})}catch(t){this.logger.warn("updateCleanPathRender occur error ==>",t)}},this.getRobotLayer=()=>this.robotLayer,this.putRobotIntoMap=t=>(this.removeCleanPathRobotLayer(),this.robotLayer=t,this.indoorMap2d.map.addSweepLayer(this.robotLayer),this.robotLayer),this.removeCleanPathRobotLayer=()=>{if(this.robotLayer)this.indoorMap2d.map&&this.indoorMap2d.map.removeFromAreaInfoWithClassType("robot"),this.robotLayer.removeRobot(),this.robotLayer=null;else if(this.indoorMap2d.map){const t=this.indoorMap2d.map.removeFromAreaInfoWithClassType("robot");this.logger.warn("removeCleanPathRobotLayer function exceeds the set logic and is automatically corrected.",t)}},this.removeThreadEvt=()=>{try{Em(this.indoorMap2d.env)&&this.pathWorker&&(this.pathWorker.terminate(),this.pathWorker=null)}catch(t){this.logger.warn("removeThreadEvt occur error ==>",t)}},this.removeCleanPath=()=>(this.pathWorker&&(this.pathWorker.postMessage({name:"remove"}),this.removeThreadEvt()),this.removeCleanPathChild(),this.remove()),this.removeCleanPathChild=t=>{var e,n,i,r;if(t)for(let e=null!=(i=this.layer)&&null!=(i=i.children)&&i.length?(null==(r=this.layer)?void 0:r.children.length)-1:-1;e>=0;e--){var o;if((null==(o=this.layer)?void 0:o.children[e].uuid)===t){var a,s,l;for(let t=null!=(a=this.layer)&&null!=(a=a.children[e].children)&&a.length?(null==(s=this.layer)?void 0:s.children[e].children.length)-1:-1;t>=0;t--){var c;this.indoorMap2d.removeAnimateFnByFnId(null==(c=this.layer)?void 0:c.children[e].children[t].uuid)}const t=null==(l=this.layer)?void 0:l.children[e].removeFromParent();this.dealloc(t)}}else for(let t=null!=(e=this.layer)&&null!=(e=e.children)&&e.length?(null==(n=this.layer)?void 0:n.children.length)-1:-1;t>=0;t--){var A,u,d;for(let e=null!=(A=this.layer)&&null!=(A=A.children[t].children)&&A.length?(null==(u=this.layer)?void 0:u.children[t].children.length)-1:-1;e>=0;e--){var h;this.indoorMap2d.removeAnimateFnByFnId(null==(h=this.layer)?void 0:h.children[t].children[e].uuid)}const e=null==(d=this.layer)?void 0:d.children[t].removeFromParent();this.dealloc(e)}},this.useWorker=void 0===t.useWorker||t.useWorker,this.isAddEventListenerUpdate=!1,this.shouldUpdate=!1,this.init(t)}}class ay extends Qm{constructor(t){super(),this.textLayer=void 0,this.origin=void 0,this.defaultHeight=void 0,this.is3d=void 0,this.factor=void 0,this.font=void 0,this.color=void 0,this.bgColor=void 0,this.points=void 0,this.indoorMap2d=void 0,this.class=void 0,this.id=void 0,this.type=void 0,this.content=void 0,this.extend=void 0,this.showEditable=void 0,this.showVertexImage=void 0,this.vertexImages=void 0,this.vertexType=void 0,this.vertexColor=void 0,this.showUnitText=void 0,this.vertexExtendTimes=void 0,this.unitTextFontSize=void 0,this.unitTextColor=void 0,this.radius=void 0,this.lineWidth=void 0,this.isDash=void 0,this.dashSize=void 0,this.gapSize=void 0,this.sideVertex=void 0,this.visible=void 0,this.onLaserMapPoints=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.updateUnitText=t=>{if(t)return void this.layer.scope.updateUnitText(t);const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1],i=(Om(e,n)*this.factor).toFixed(1)+"m";this.layer.scope.updateUnitText(i)},this.updateSquareVertexDegree=(t=!1)=>{if("square"===this.vertexType){const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1];if(e&&n){const i=180*this.layer.scope.calcDegrees(n,e)/Math.PI,r=0===i||90===i||-90===i||180===i?45:t?45+i:void 0;this.layer.scope.updateSquareVertexDegree(r)}}},this.updateSideLayer=()=>{this.layer.scope.updateSideLayer()},this.hideVertex=t=>{this.layer.scope.disableEnableFilter(t),this.layer.scope.hideVertex(t),this.layer.position.z=t?this.defaultHeight:Ut.otherArea},this.hideUnitText=t=>{this.layer.scope.hideUnitText(t)},this.removeVirtualWall=()=>(this.removeVirtualWallEvent(),this.remove()),this.hideVirtualWall=t=>{this.layer.scope.hideLayer(t)},this.hideLayer=t=>{this.layer&&this.layer.scope.hideLayer(t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.getIsHideVertex=()=>this.layer.scope.getIsHideVertex(),this.getIsHideUniText=()=>this.layer.scope.getIsHideUniText(),this.getIsEditable=()=>!(this.layer.scope.getIsHideUniText()||this.layer.scope.getIsHideVertex()),this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.defaultHeight=Ut.virtualWall,this.class="virtualWall",this.type=jt.VirtualWall,this.origin=_f(t.origin||{x:0,y:0}),this.is3d=t.is3d,this.id=t.id||"-1",this.factor=t.factor||.05,this.font=t.font||12,this.color=t.color||"#00000000",this.bgColor=t.bgColor||"#f81c1c",this.showEditable="boolean"!=typeof t.showEditable||t.showEditable,this.vertexType=t.vertexType||"circle",this.vertexImages=t.vertexImages||[],this.vertexColor=t.vertexColor||"#ffffffff",this.showUnitText=void 0===t.showUnitText||t.showUnitText,this.unitTextFontSize=t.unitTextFontSize?t.unitTextFontSize:t.font?t.font:12,this.unitTextColor=t.unitTextColor?t.unitTextColor:t.color?t.color:"#00000000",this.radius=t.radius||6,this.lineWidth=void 0!==t.lineWidth?t.lineWidth:1,this.isDash=void 0===t.isDash||t.isDash,this.dashSize=void 0!==t.dashSize?t.dashSize:4,this.gapSize=void 0!==t.gapSize?t.gapSize:2,this.vertexExtendTimes=void 0!==t.vertexExtendTimes?t.vertexExtendTimes:2,this.showVertexImage=void 0===t.showVertexImage||t.showVertexImage,this.sideVertex=void 0!==t.sideVertex?t.sideVertex:{showSideVertex:!1,showSideVertexImage:!0,sideVertexImage:Wm,sideVertexColor:"#ffffffff",radius:6},this.visible=void 0===t.visible||t.visible;const e=[];t.points&&t.points.forEach((t=>{const n={x:t.x+this.origin.x,y:t.y+this.origin.y};e.push(n)})),this.points=e,this.extend=t.extend||{},this.content=t.content||{text:null},this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{this.logger.warn("It seems not setup onVirtualInfoOutOfBoundingBox function")}),2===this.points.length?(this.layer=this.createVirtualWall(),this.layer.scope.hideVertexAndUnitText(!t.showEditable),this.updateUnitText(),this.updateSquareVertexDegree(!0),this.updateSideLayer(),this.createVirtualWallEvent(),this.getInfo(this.layer.scope,"add")):this.logger.warn("You must set 2 points for virtualWall")},this.createVirtualWall=()=>{const t=t=>{if(!t)return;if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=this.getInfo(t,"remove");this.removeVirtualWall(),this.onLaserMapPoints(e,"remove"),this.indoorMap2d.map.removeFromAreaInfo(e.target)},e=t=>{if(!t)return;if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=t.userIndex,n=t.scope.vertexPoints[e].z,i=new yn(t.position.x,t.position.y,n);t.scope.vertexPoints[e].copy(i),this.redrawVirtualWall(t.scope)},{colorFormat:n,alpha:i}=this.argb2Rgb(this.vertexColor),{colorFormat:r,alpha:o}=this.argb2Rgb(this.sideVertex.sideVertexColor),a={noUnitText:!this.showUnitText,unitText:"1.0m",points:this.points,lineWidth:this.lineWidth,isDash:this.isDash,dashSize:this.dashSize,gapSize:this.gapSize,shouldExtendLine:!0,is3d:this.is3d,color:this.bgColor,height:this.defaultHeight,depthWrite:!1,showSideVertex:this.sideVertex.showSideVertex,sideParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showSideVertexImage:this.sideVertex.showSideVertex,sideVertexEvent:t,sideVertexImage:this.sideVertex.sideVertexImage,radius:this.sideVertex.radius,segments:32,sideVertexColor:r,opacity:o},vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showVertexImage:this.showVertexImage,vertexEvents:this.sideVertex.showSideVertex?[e,e]:[t,e],vertexImages:0!==this.vertexImages.length?this.vertexImages:[Wm,zm],vertexType:this.vertexType,radius:this.radius,segments:32,vertexColor:n,extendTimes:this.vertexExtendTimes,opacity:i},unitTextFontStyle:{fontSize:this.unitTextFontSize,fontScale:.4*this.indoorMap2d.getFitScale(),color:bg(this.unitTextColor),pixelRatio:this.indoorMap2d.pixelRatio},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},s=new Kg(a);return this.visible||s.hideLayer(!0,!0),s.layer},this.updateOriginAndPosition=t=>{this.redrawVirtualWall(void 0,t),this.origin=Object.assign({},t)},this.redrawVirtualWall=(t,e)=>{const n=t||this.layer.scope;if(this.is3d){var i,r,o;const t={depth:this.d3Height,bevelEnabled:!1},e=new OA(this.d3VertexPoints),a=new wc(e,t);n.geometry=a,null==(i=a.boundingBox)||i.getCenter(n.center),this.minY=null==(r=n.geometry.boundingBox)?void 0:r.min.y,this.maxX=null==(o=n.geometry.boundingBox)?void 0:o.max.x}else{var a,s,l,c;const t=n.lineLayer.geometry,i=[];n.vertexPoints.forEach(((t,r)=>{e&&(t.x=t.x-this.origin.x+e.x,t.y=t.y+this.origin.y-e.y,n.vertexLayers[r].position.set(t.x,t.y,t.z)),i.push(t.x,t.y,t.z)})),t.setPositions(i),n.lineCoverLayer&&(n.lineCoverLayer.geometry.setPositions(i),n.lineCoverLayer.computeLineDistances()),t.computeBoundingBox(),null==(a=t.boundingBox)||a.getCenter(n.center),n.lineLayer.computeLineDistances(),this.minY=null==(s=t.boundingBox)?void 0:s.min.y,this.maxX=null==(l=t.boundingBox)?void 0:l.max.x,null==(c=n.unitLayer)||c.position.set(n.center.x,n.center.y,0),this.updateUnitText(),this.updateSideLayer()}const A=this.getInfo(n,"resize");this.onLaserMapPoints(A,"resize");const u=this.judgeIsOutOfBoundingBox(A);this.onVirtualInfoOutOfBoundingBox({...A,isOutOfBoundingBox:u})},this.createVirtualWallEvent=()=>{var t,e;this.removeVirtualWallEvent();const n=this.layer.scope,i=this.indoorMap2d,r=n.vertexLayers[0],o=n.vertexLayers[1],a=n.sideLayer;this.layer&&i.dispatchEvent(this.layer),r&&i.dispatchEvent(r),o&&i.dispatchEvent(o),a&&i.dispatchEvent(a),this.sideVertex.showSideVertex?null==r||r.$on(i.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})):null==r||r.$on(i.eventTap,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}})),null==o||o.$on(i.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})),null==a||a.$on(i.eventTap,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);t.userIndex;const e=t.scope.sideVertexEvent;"function"==typeof e&&e(t.scope)}})),null==(t=this.layer)||t.$on(i.eventTap,((t,e)=>{(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())&&(t.draggerEnable=!1)})),null==(e=this.layer)||e.$on(i.eventTapMove,((t,e)=>{if(this.checkEditable()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const n=this.getInfo(t.scope,"move");this.onLaserMapPoints(n,"move");const i=this.judgeIsOutOfBoundingBox(n);this.onVirtualInfoOutOfBoundingBox({...n,isOutOfBoundingBox:i})}))},this.judgeIsOutOfBoundingBox=t=>{const{points:e}=t.data,{width:n,height:i}=this.indoorMap2d.map.getMapDataWidthHeight();let r=!1;return e.forEach((t=>{(t.x>n||t.y>i||t.x<0||t.y<0)&&(r=!0)})),r},this.removeVirtualWallEvent=()=>{var t;const e=this.layer.scope,n=this.indoorMap2d,i=e.vertexLayers[0],r=e.vertexLayers[1],o=e.sideLayer;this.sideVertex.showSideVertex?i&&"function"==typeof i.$off&&i.$off(n.eventTapMove):i&&"function"==typeof i.$off&&i.$off(n.eventTap),r&&"function"==typeof r.$off&&r.$off(n.eventTapMove),o&&"function"==typeof o.$off&&o.$off(n.eventTap),"function"==typeof(null==(t=this.layer)?void 0:t.$off)&&(this.layer.$off(n.eventTap),this.layer.$off(n.eventTapMove))},this.getInfo=(t,e)=>{const n=[];this.indoorMap2d.scene.updateMatrixWorld(!0);const i=new yn;t.layer.getWorldPosition(i),i.setFromMatrixPosition(t.layer.matrixWorld),0===i.x&&0===i.y?t.vertexPoints.forEach(((t,e)=>{const i={x:t.x,y:-t.y};n.push(i)})):t.vertexPoints.forEach(((e,i)=>{const r={x:e.x+t.lineLayer.position.x,y:-(e.y+t.lineLayer.position.y)};n.push(r)}));const r={operation:e,target:t.layer.id,type:this.type,data:{id:this.id,content:this.content,extend:this.extend,points:n}};return this.setDataInfo(r),r},this.checkEditable=()=>[Rt.normal,Rt.virtualArea,Rt.areaSet,Rt.pressToRun,Rt.mapSplit,Rt.mapSelect,Rt.mapTimerSelect].some((t=>this.indoorMap2d.map.state===t)),this.logger.setLoggerInfo(t.onLoggerInfo),this.init(t)}}class sy extends Qm{constructor(t){super(),this.points=void 0,this.imagePadding=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.height=void 0,this.createPlaneMaterial=t=>{const e=new OA(t.points);let n;if(t.uri){const e=(new Fc).load(t.uri,(()=>{e.magFilter=we,e.minFilter=we,e.mapping=300,e.needsUpdate=!0}));n=new gr({color:16777215,map:e,opacity:1,transparent:!0,depthWrite:!0,alphaTest:.1})}else n=new gr({color:16777215,opacity:1,depthWrite:!0,transparent:!0});const i=new yn,r=new bc(e);r.computeVertexNormals(),r.computeBoundingBox(),r.boundingBox.getCenter(i),r.attributes.uv.array=new Float32Array([1,1,0,1,0,0,1,0]);const o=r.boundingBox.max.x-r.boundingBox.min.x,a=r.boundingBox.max.y-r.boundingBox.min.y,s=2*this.imagePadding,l=(o-s>0?o-s:0)/o,c=(a-s>0?a-s:0)/a;r.attributes.uv.needsUpdate=!0;const A=new Fr(r,n);return A.type="IndoorMapPlaneMaterialLayer",A.scale.set(l,c,1),A.position.x-=i.x*(l-1),A.position.y-=i.y*(c-1),A.position.z=this.height,this.dispatchScope(A),A},this.updatePlanePoints=t=>{const e=new yn,n=new OA(t),i=new bc(n);i.computeVertexNormals(),i.computeBoundingBox(),i.boundingBox.getCenter(e),i.attributes.uv.array=new Float32Array([1,1,0,1,0,0,1,0]),i.attributes.uv.needsUpdate=!0,this.layer.geometry.dispose(),this.layer.geometry=i;const r=i.boundingBox.max.x-i.boundingBox.min.x,o=i.boundingBox.max.y-i.boundingBox.min.y,a=2*this.imagePadding,s=(r-a>0?r-a:0)/r,l=(o-a>0?o-a:0)/o;this.layer.scale.set(s,l,1),this.layer.position.x=0-e.x*(s-1),this.layer.position.y=0-e.y*(l-1),this.layer.userData.enableFilter=!0},this.removePlaneMaterial=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="planeMaterial",this.type=t.type||jt.PlaneMaterial,this.points=t.points,this.uri=t.uri||"",this.imagePadding=void 0!==t.imagePadding?t.imagePadding:10,this.height=t.height||.002,this.layer=this.createPlaneMaterial(t)}}class ly extends Qm{constructor(t){super(),this.params=void 0,this.center=void 0,this.maxX=void 0,this.minY=void 0,this.maxY=void 0,this.minX=void 0,this.minAreaWidth=void 0,this.maxAreaWidth=void 0,this.minAreaHeight=void 0,this.maxAreaHeight=void 0,this.imagePadding=void 0,this.useImageSizeAsAreaSizeLimit=void 0,this.faceLayer=void 0,this.center=void 0,this.lineLayer=void 0,this.textLayer=void 0,this.unitLayer=void 0,this.imageIconLayer=void 0,this.vertexLayers=void 0,this.vertexPoints=void 0,this.vertexEvents=void 0,this.dashLineEditLayer=void 0,this.innerWidth=void 0,this.innerHeight=void 0,this.vertexEventEnable=void 0,this.isHideVertex=void 0,this.isHideUniText=void 0,this.isHideLayer=void 0,this.changePivot=t=>{if(this.faceLayer&&this.faceLayer.geometry){const e=new yn;this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(e),this.center=e,this.faceLayer.position.set(-this.center.x,-this.center.y,this.params.height),t&&(this.layer=new ki,this.layer&&this.layer.position.set(this.center.x,this.center.y,this.params.height),this.layer.add(this.faceLayer),this.layer.type=It.indoorMapWrapper,this.dispatchScope(this.layer))}},this.refreshLayerPosition=()=>{if(this.layer&&this.faceLayer){const t=new yn;this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(t),this.center=t,this.layer.position.set(this.center.x,this.center.y,this.params.height)}},this.initPolygonLayer=t=>{const e=(t=>{const e=[];for(var n=0,i=t.length;n<i;n++){const i=new ln(t[n].x,t[n].y);if(n>0){let t=e[e.length-1];i.x===t.x&&i.y===t.y||e.push(i)}else e.push(i)}return e})(t.points);for(let t=0;t<e.length-1;t++){const n=e[t];for(let i=t+1;i<e.length;i++){const t=e[i],r=Om(n,t);(r<this.minAreaWidth||r<this.minAreaHeight)&&this.logger.warn("The size you set seems to be smaller than the minimum size of the polygon"),(r>this.maxAreaWidth||r>this.maxAreaHeight)&&this.logger.warn("The size you set seems to be larger than the maximum size of the polygon")}}this.vertexPoints=e,0===t.vertexParams.showVertexIndex.length&&(t.vertexParams.showVertexIndex=new Array(e.length).fill("").map(((t,e)=>e)));let n=null;const i=new gr({color:t.color,opacity:t.opacity,transparent:t.transparent,depthWrite:!1});if(t.is3d){const r={depth:t.d3Height,bevelEnabled:!1},o=new OA(e),a=new wc(o,r);n=new Fr(a,i),n.type="IndoorMapPolygonLayer",n.position.set(0,0,t.height),this.dispatchScope(n)}else{const a=new OA(e),s=new bc(a);n=new Fr(s,i),n.type="IndoorMapPolygonLayer",n.position.set(0,0,t.height);const l=new yn;if(n.geometry.computeBoundingBox(),n.geometry.boundingBox.getCenter(l),this.center=l,this.minY=n.geometry.boundingBox.min.y,this.maxY=n.geometry.boundingBox.max.y,this.minX=n.geometry.boundingBox.min.x,this.maxX=n.geometry.boundingBox.max.x,this.dispatchScope(n),!t.noLines){const e=this.createLines(this.vertexPoints,t);n.add(e)}if(!t.noVertices)for(let i=0,r=e.length;i<r;i++){let e=null;e="circle"===t.vertexParams.vertexType?this.createCircles(t,i):this.createSquares(t,i),this.isHideVertex=!1,e&&(e.position.set(this.vertexPoints[i].x,this.vertexPoints[i].y,.1),n.add(e))}if(!t.noUnitText){var r,o;const e={point:{x:l.x,y:l.y-(null==(r=t.unitTextFontStyle)?void 0:r.fontSize)*(null==(o=t.unitTextFontStyle)?void 0:o.fontScale)/2-2},text:t.unitText,fontStyle:t.unitTextFontStyle},i=this.createUnitTextLayer(e);this.isHideUniText=!1,this.unitLayer=i,n.add(i)}}const a=new yn;if(n.geometry.computeBoundingBox(),n.geometry.boundingBox.getCenter(a),this.center=a,this.minY=n.geometry.boundingBox.min.y,this.maxX=n.geometry.boundingBox.max.x,this.minX=n.geometry.boundingBox.min.x,this.maxX=n.geometry.boundingBox.max.x,!t.noImageIcon)if("static"===t.imageMode){const e={image:t.image,size:t.imageStyle.imageSize,isScale:t.imageStyle.isScale,scale:t.imageStyle.scale,point:{x:a.x,y:a.y}},i=new Xm(e);i.layer.userData.enableFilter=!0,this.imageIconLayer=i.layer,n.add(i.layer)}else if("dynamic"===t.imageMode){const i={uri:t.image,points:e,imagePadding:this.imagePadding,height:.002},r=new sy(i);r.layer.userData.enableFilter=!0,this.imageIconLayer=r.layer,n.add(r.layer)}if(!t.noText){const e=t.noImageIcon?0:t.imageStyle.imageSize,i={point:{x:a.x,y:a.y-e},text:t.text,fontStyle:t.fontStyle},r=this.createTextLayer(i);this.textLayer=r,n.add(r)}return this.faceLayer=n,n},this.createCircles=(t,e)=>{const n=t.vertexParams.radius,i=t.vertexParams.segments,r=t.vertexParams.vertexImages,o=t.vertexParams.extendTimes;let a=null,s=null;if(t.vertexParams.showVertexImage){const n=(new Fc).load(r[e]||Gm,(()=>{n.needsUpdate=!0,n.magFilter=we,n.minFilter=we}));a=new Is({map:n,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1})}else a=new gr({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){s=new zs(a);const e=t.vertexParams.scale;s.scale.set(e,e,e)}else{const t=new Sl(n,i),e=new Fr(t,a);e.type=It.indoorMapStable;const r=new Sl(n*o,i),l=new gr({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});s=new Fr(r,l),s.add(e)}this.dispatchScope(s),s.type=It.indoorMapPolygonLayerCircle,s.userIndex=e,this.vertexLayers.push(s)}else this.vertexLayers.push(s);return s},this.createSquares=(t,e)=>{let n=null,i=null;const r=t.vertexParams.radius,o=t.vertexParams.vertexImages,a=t.vertexParams.extendTimes;if(t.vertexParams.showVertexImage){const i=(new Fc).load(o[e]||Gm,(()=>{i.needsUpdate=!0,i.magFilter=we,i.minFilter=we}));n=new Is({map:i,transparent:!0,color:t.vertexParams.vertexColor,opacity:t.vertexParams.opacity,sizeAttenuation:!1})}else n=new gr({color:t.vertexParams.vertexColor,transparent:!0,opacity:t.vertexParams.opacity});if(-1!==t.vertexParams.showVertexIndex.indexOf(e)){if(t.vertexParams.showVertexImage&&!t.vertexParams.isScale){i=new zs(n);const e=t.vertexParams.scale;i.scale.set(e,e,e)}else{const t=new Vi(2*r,2*r),e=new Fr(t,n);e.type=It.indoorMapStable;const o=new Vi(2*r*a,2*r*a),s=new gr({color:"#ffffff",transparent:!0,opacity:0,depthWrite:!1});i=new Fr(o,s),i.add(e)}this.dispatchScope(i),i.type=It.indoorMapPolygonLayerCircle,i.userIndex=e,this.vertexLayers.push(i)}else this.vertexLayers.push(i);return i},this.createLines=(t,e)=>{try{const{lineWidth:n,color:i,dashSize:r,gapSize:o,isDash:a,opacity:s}=e.lineParams;let l,c=[];for(let e=0,n=t.length;e<=n;e++)l=e===n?t[0]:t[e],c.push(new ln(l.x,-l.y));const A={noUnitText:!0,unitText:"",color:i,opacity:s,points:c,lineWidth:n,dashSize:r,gapSize:o,isDash:a,shouldExtendLine:!1,is3d:!1,noVertices:!0,height:.1,innerWidth:this.innerWidth,innerHeight:this.innerHeight},u=new Kg(A);return this.lineLayer=u.layer,this.dispatchScope(u.layer),u.layer.type=It.indoorMapPolygonLineLayer,u.layer}catch(t){this.logger.error("createLines ==>",t)}},this.createTextLayer=t=>{const e=Bg(t.text,t.fontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.userData.enableFilter=!0,e.position.set(t.point.x,t.point.y,.1),e},this.updateTextLayer=t=>{var e;const n=this.params.noImageIcon?0:this.params.imageStyle.imageSize,i=(null==(e=this.params.fontStyle)?void 0:e.fontSize)/2-2,{position:r}=this.params.fontStyle,o=Bg(t,this.params.fontStyle);this.dispatchScope(o),o.type=It.indoorMapTextLayer,o.userData.enableFilter=!0;let a=this.center.x,s=this.center.y-n;r===Gt.bottom?s=this.minY-i:r===Gt.top&&(s=this.maxY+i),o.position.set(a,s,.1),this.textLayer&&this.textLayer.removeFromParent(),this.textLayer=o,this.faceLayer.add(this.textLayer)},this.updateTextLayerDynamic=()=>{var t,e;const n=this.params.noImageIcon?0:this.params.imageStyle.imageSize,i=(null==(t=this.params.fontStyle)?void 0:t.fontSize)/2-2,{position:r}=this.params.fontStyle;this.computedCenterDynamic();let o=this.center.x,a=this.center.y-n;r===Gt.bottom?a=this.minY-i:r===Gt.top&&(this.vertexPoints[0],this.vertexPoints[1],a=this.maxY+i),null==(e=this.textLayer)||e.position.set(o,a,.1)},this.computedCenterDynamic=()=>{const t=new yn;return this.faceLayer.geometry.computeBoundingBox(),this.faceLayer.geometry.boundingBox.getCenter(t),this.minY=this.faceLayer.geometry.boundingBox.min.y,this.maxX=this.faceLayer.geometry.boundingBox.max.x,this.minX=this.faceLayer.geometry.boundingBox.min.x,this.maxY=this.faceLayer.geometry.boundingBox.max.y,this.center=t,t},this.createUnitTextLayer=t=>{const e=Bg(t.text,t.unitTextFontStyle);return this.dispatchScope(e),e.type=It.indoorMapTextLayer,e.userData.enableFilter=!0,e.position.set(t.point.x,t.point.y,-.1),e},this.updateUnitText=t=>{if(this.unitLayer){var e;const n=Bg(t,this.params.unitTextFontStyle);this.dispatchScope(n),n.type=It.indoorMapTextLayer,n.userData.enableFilter=!0;const i=this.vertexPoints[0],r=this.vertexPoints[1],o=this.vertexPoints[2],a=this.vertexPoints[3],s=(null==(e=this.params.unitTextFontStyle)?void 0:e.fontSize)/2-2,{position:l}=this.params.unitTextFontStyle;if(l===Gt.bottom){if(o&&a){const t={x:(o.x+a.x)/2,y:(o.y+a.y)/2-s},e=this.calcDegrees(o,a);n.position.set(t.x,t.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.rotateZ(e),this.faceLayer.add(this.unitLayer)}}else if(l===Gt.top){if(i&&r){const t={x:(i.x+r.x)/2,y:(i.y+r.y)/2+s},e=this.calcDegrees(r,i);n.position.set(t.x,t.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.userData.enableFilter=!0,this.unitLayer.rotateZ(e),this.faceLayer.add(this.unitLayer)}}else if(l===Gt.center&&i&&o&&a){const t=this.params.noImageIcon?0:this.params.imageStyle.imageSize,e={x:(o.x+a.x)/2,y:(i.y+o.y)/2-t},r=this.calcDegrees(o,a);n.position.set(e.x,e.y,-.1),this.unitLayer.removeFromParent(),this.unitLayer=n,this.unitLayer.userData.enableFilter=!0,this.unitLayer.rotateZ(r),this.faceLayer.add(this.unitLayer)}}},this.updateUnitTextPositionDynamic=()=>{var t,e;const n=this.computedCenterDynamic(),i=this.params.noImageIcon?0:this.params.imageStyle.imageSize,{position:r}=this.params.unitTextFontStyle,o=(null==(t=this.params.unitTextFontStyle)?void 0:t.fontSize)/2-2;let a=this.minY-o;r===Gt.top?a=this.maxY+o:r===Gt.center&&(a=n.y-i),null==(e=this.unitLayer)||e.position.set(n.x,a,-.1)},this.updateImageIconPositionDynamic=()=>{if("static"===this.params.imageMode){var t;const e=this.computedCenterDynamic();null==(t=this.imageIconLayer)||t.position.set(e.x,e.y,.001)}},this.updateDynamicModeImageSize=t=>{"dynamic"===this.params.imageMode&&this.imageIconLayer&&this.imageIconLayer.scope.updatePlanePoints(t)},this.updateDashEditLine=(t,e)=>{if(void 0===this.dashLineEditLayer){const n=[t,e];Rm(n);const i={color:this.params.lineParams.color,lineWidth:this.params.lineParams.lineWidth,is3d:!1,isDash:!0,innerHeight:this.innerWidth,innerWidth:this.innerHeight,dashSize:this.params.lineParams.dashSize,gapSize:this.params.lineParams.gapSize,height:.001,noVertices:!0,noUnitText:!0,points:n,shouldExtendLine:!1};this.dashLineEditLayer=new Kg(i),this.dashLineEditLayer.layer.type=It.indoorMapDashEditLine,this.dashLineEditLayer.layer.enableFilter=!0,this.faceLayer.add(this.dashLineEditLayer.layer)}else{const n=[t.x,t.y,.001,e.x,e.y,.001];this.dashLineEditLayer.layer.geometry.setPositions(n),this.dashLineEditLayer.layer.computeLineDistances()}},this.redrawVertexPointsPosition=()=>{this.vertexPoints.forEach(((t,e)=>{var n;null==(n=this.vertexLayers[e])||n.position.set(t.x,t.y,t.z)}))},this.hideDashEditLine=t=>{if(this.dashLineEditLayer)return this.dashLineEditLayer.layer.visible=!t,void this.changeLineDashType(t)},this.hideLineOnDynamicImageMode=t=>{"dynamic"===this.params.imageMode&&this.lineLayer&&(this.lineLayer.visible=!t)},this.calcDegrees=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),this.disableEnableFilter=t=>{this.layer.userData.enableFilter=t},this.hideVertex=t=>{this.hideDashEditLine(t),this.isHideVertex=t,this.vertexEventEnable=!t,this.vertexLayers.forEach((e=>{e&&(e.visible=!t)}))},this.getIsHideVertex=()=>this.isHideVertex,this.getIsHideUniText=()=>this.isHideUniText,this.getVertexEventEnable=()=>this.vertexEventEnable,this.hideUnitText=t=>{this.unitLayer&&(this.isHideUniText=!0,this.unitLayer.visible=!t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.changeLineDashType=t=>{if(this.lineLayer){this.lineLayer.removeFromParent();const e=_f(this.params);e.lineParams.isDash=t;const n=this.createLines(this.vertexPoints,e);this.faceLayer.add(n)}},this.hideLine=t=>{this.lineLayer&&(this.lineLayer.visible=!t)},this.hideLayer=(t,e=!1)=>{this.layer&&(e?this.layer.visible=!t:(this.isHideLayer&&(this.layer.visible=!t),this.isHideLayer=e))},this.vertexPoints=[],this.vertexLayers=[],this.vertexEvents=[],this.isHideUniText=!0,this.isHideVertex=!0,this.isHideLayer=!1;const e={class:"",is3d:!1,d3Height:5,color:"#BC2121",opacity:.5,transparent:!0,height:5,minAreaWidth:10,minAreaHeight:10,maxAreaHeight:1/0,maxAreaWidth:1/0,noVertices:!1,noLines:!1,noText:!1,noUnitText:!1,noImageIcon:!0,text:"",unitText:"",image:"",imageMode:"static",useImageSizeAsAreaSizeLimit:!1,imagePadding:0,imageStyle:{isScale:!1,scale:.02,imageSize:8},vertexParams:{vertexType:"circle",vertexImages:[],vertexEvents:[],showVertexIndex:[],showVertexImage:!1,vertexColor:"#BC2121",extendTimes:2,radius:6,segments:32,opacity:1,isScale:!1,scale:.02},lineParams:{color:"#ffffff",opacity:1,lineWidth:1,isDash:!0,dashSize:1,gapSize:.5},fontStyle:{color:"#000000",fontSize:24,fontScale:.2,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1,position:Gt.center},unitTextFontStyle:{color:"#000000",fontSize:24,fontScale:.3,FontFace:"Helvetica, MicrosoftYaHei ",bold:!1,pixelRatio:window&&window.devicePixelRatio||1,position:Gt.bottom},points:[{x:0,y:0}]};this.points=t.points;const n=Qf(e,t);Rm(n.points),n.is3d&&(n.height=0),this.params=n,this.minAreaWidth=this.params.minAreaWidth,this.maxAreaWidth=this.params.maxAreaWidth,this.minAreaHeight=this.params.minAreaHeight,this.maxAreaHeight=this.params.maxAreaHeight,this.imagePadding=this.params.imagePadding,this.useImageSizeAsAreaSizeLimit=this.params.useImageSizeAsAreaSizeLimit,this.vertexEvents=n.vertexParams.vertexEvents,this.innerWidth=n.innerWidth,this.innerHeight=n.innerHeight,this.vertexEventEnable=!0,this.layer=this.initPolygonLayer(n),this.layer&&this.changePivot(!0)}}class cy{constructor(t,e,n,i){this.tl=void 0,this.tr=void 0,this.br=void 0,this.bl=void 0,this.boundingBox=void 0,this.tl=[t||0,e||0],this.br=[n||0,i||0],this.tr=[n||0,e||0],this.bl=[t||0,i||0]}}const Ay=(t,e=!0)=>{const n=new cy;if(t.length<1)return n;let i=9999999,r=9999999,o=-9999999,a=-9999999;for(let n=t.length-1;n>=0;n--){const s={x:t[n].x,y:e?-t[n].y:t[n].y};s.x>o&&(o=s.x),s.x<i&&(i=s.x),s.y>a&&(a=s.y),s.y<r&&(r=s.y)}n.tl=[i,r],n.tr=[o,r],n.bl=[i,a],n.br=[o,a];const s=Math.sqrt(Math.pow(n.tr[0]-n.tl[0],2)+Math.pow(n.tr[1]-n.tl[1],2)),l=Math.sqrt(Math.pow(n.br[0]-n.bl[0],2)+Math.pow(n.br[1]-n.bl[1],2));return n.boundingBox={minX:i,minY:r,maxX:o,maxY:a,width:s,height:l},n};function uy(t,e){this.start=t,this.end=e,this.x=this.end.x-this.start.x,this.y=this.end.y-this.start.y,this.cosx=0===this.x&&0===this.y?2:this.x/Math.sqrt(this.x*this.x+this.y*this.y),this.cross=function(t){return this.x*t.y-t.x*this.y}}const dy=t=>{if(null!=t&&t.length>0){let e=t[0];for(let n=1;n<t.length;n++)(t[n].y<e.y||t[n].y===e.y&&t[n].x<e.x)&&(e=t[n]);return e}return null},hy=(t,e,n,i)=>{let r=n,o=i,a=e[n],s=new uy(t,a);for(;r<o;){for(;r<o&&s.cosx>new uy(t,e[o]).cosx;)o--;for(r<o&&(e[r++]=e[o]);r<o&&s.cosx<new uy(t,e[r]).cosx;)r++;r<o&&(e[o--]=e[r])}return e[r]=a,n<r&&hy(t,e,n,r-1),i>r&&hy(t,e,r+1,i),e},py=(t,e,n,i)=>{const r=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-i.x)*(e.y-i.y)-(t.y-i.y)*(e.x-i.x);if(r*o>=0)return!1;const a=(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x);if(a*(a+r-o)>=0)return!1;const s=a/(o-r),l=s*(e.x-t.x),c=s*(e.y-t.y);return{x:t.x+l,y:t.y+c}},fy=(t,e,n)=>{const i=(e.y-t.y)/(e.x-t.x);return{x:n,y:t.y+(n-t.x)*i}};var my,gy,yy=Object.freeze({__proto__:null,getBoundingRect:Ay,getCenterOfBounding:t=>[(t.boundingBox.minX+t.boundingBox.maxX)/2,(t.boundingBox.minY+t.boundingBox.maxY)/2],LineVector:uy,translateCoord:(t,e)=>{const n=t[0],i=t[1];return[n-e[0],i-e[1]]},getMultipleRectCenter:t=>{const e=[-999999,-999999];let n=0,i=0;for(let e=0,r=t.length;e<r;e++){const r=t[e];n+=void 0!==r.x?r.x:r[0],i+=void 0!==r.y?r.y:r[1]}return e[0]=n/t.length,e[1]=i/t.length,e},getBasePoint:dy,quickSort:hy,lineSegmentsIntersection:py,pointAtX:fy});!function(t){t[t.areaSet=2]="areaSet",t[t.forbid=3]="forbid"}(my||(my={}));class vy extends Qm{constructor(t){super(),this.class=void 0,this.type=void 0,this.text=void 0,this.points=void 0,this.origin=void 0,this.defaultHeight=void 0,this.id=void 0,this.is3d=void 0,this.renameEnable=void 0,this.deleteEnable=void 0,this.isRotate=void 0,this.minAreaWidth=void 0,this.minAreaHeight=void 0,this.maxAreaWidth=void 0,this.maxAreaHeight=void 0,this.useImageSizeAsAreaSizeLimit=void 0,this.indoorMap2d=void 0,this.factor=void 0,this.font=void 0,this.color=void 0,this.bgColor=void 0,this.borderColor=void 0,this.textColor=void 0,this.textSize=void 0,this.textPosition=void 0,this.image=void 0,this.imageMode=void 0,this.imagePadding=void 0,this.imageSize=void 0,this.imageScale=void 0,this.imageIsScale=void 0,this.content=void 0,this.extend=void 0,this.areaType=void 0,this.vertexType=void 0,this.vertexImages=void 0,this.showVertexImage=void 0,this.vertexColor=void 0,this.vertexExtendTimes=void 0,this.showUnitText=void 0,this.unitTextColor=void 0,this.unitTextFontSize=void 0,this.unitPosition=void 0,this.radius=void 0,this.lineWidth=void 0,this.isDash=void 0,this.dashSize=void 0,this.gapSize=void 0,this.viewType=void 0,this.dashLineEditLayer=void 0,this.type=void 0,this.initial=void 0,this.showEditable=void 0,this.visible=void 0,this.onLongPressInAreaView=void 0,this.onLaserMapPoints=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.updateOriginAndPosition=t=>{this.redrawForbidArea(void 0,t),this.origin=Object.assign({},t)},this.updateUnitText=t=>{if(t)return void this.layer.scope.updateUnitText(t);const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1],i=this.layer.scope.vertexPoints[2],r=this.useImageSizeAsAreaSizeLimit?2*this.imagePadding:0,o=Om(e,n)-r>0?Om(e,n)-r:0,a=Om(n,i)-r>0?Om(n,i)-r:0,s=(o*this.factor).toFixed(1)+"m x "+(a*this.factor).toFixed(1)+"m";this.layer.scope.updateUnitText(s)},this.updateText=t=>{var e;this.layer.scope.updateTextLayer(t);const n=this.getDataInfo();void 0!==(null==n||null==(e=n.data)||null==(e=e.content)?void 0:e.text)&&(n.data.content.text=t,this.setDataInfo(n))},this.hideVertex=t=>{this.layer.scope.disableEnableFilter(t),this.layer.scope.hideDashEditLine(t),this.layer.scope.hideLineOnDynamicImageMode(t),this.layer.scope.vertexLayers.forEach(((e,n)=>{e&&(e.visible=!t,this.isRotate||1!==n||(e.visible=!1),this.renameEnable||3!==n||(e.visible=!1),this.deleteEnable||0!==n||(e.visible=!1))})),this.layer.position.z=t?this.defaultHeight:Ut.otherArea},this.hideUnitText=t=>{this.layer.scope.hideUnitText(t)},this.removeForbidArea=()=>(this.removeForbidAreaEvent(),this.remove()),this.hideForbidArea=t=>{this.layer.scope.hideLayer(t)},this.hideLayer=t=>{this.layer.scope.hideLayer(t)},this.hideVertexAndUnitText=t=>{this.hideVertex(t),this.hideUnitText(t)},this.getIsHideVertex=()=>this.layer.scope.getIsHideVertex(),this.getIsHideUniText=()=>this.layer.scope.getIsHideUniText(),this.getIsEditable=()=>!(this.layer.scope.getIsHideUniText()||this.layer.scope.getIsHideVertex()),this.init=t=>{this.origin=_f(t.origin||{x:0,y:0}),this.minAreaWidth=t.minAreaWidth||10,this.minAreaHeight=t.minAreaHeight||10,this.maxAreaWidth=t.maxAreaWidth||1/0,this.maxAreaHeight=t.maxAreaHeight||1/0,this.initial=!0,this.is3d=t.is3d,this.d3Height=t.d3Height||5,this.class="forbidArea",this.type=t.type||jt.ForbidArea,this.text=t.text||"",this.textPosition=void 0!==t.textPosition?t.textPosition:Gt.center,this.areaType=t.areaType||0,this.defaultHeight=this.areaType===my.areaSet?Ut.areaSet:this.areaType===my.forbid?Ut.forbidArea:Ut.otherArea,this.content=t.content||{text:""},this.extend=t.extend||{},this.id=t.id||"-1",this.indoorMap2d=t.indoorMap2d,this.factor=t.factor||.05,this.font=t.font||12,this.vertexType=t.vertexType||"circle",this.vertexImages=t.vertexImages||[],this.vertexColor=t.vertexColor||"#ffffffff",this.radius=t.radius||6,this.lineWidth=void 0!==t.lineWidth?t.lineWidth:1,this.isDash=void 0===t.isDash||t.isDash,this.dashSize=void 0!==t.dashSize?t.dashSize:4,this.gapSize=void 0!==t.gapSize?t.gapSize:2,this.showVertexImage=void 0===t.showVertexImage||t.showVertexImage,this.vertexExtendTimes=void 0!==t.vertexExtendTimes?t.vertexExtendTimes:3,this.showUnitText=void 0===t.showUnitText||t.showUnitText,this.unitPosition=void 0!==t.unitPosition?t.unitPosition:Gt.bottom,this.unitTextColor=t.unitTextColor?t.unitTextColor:t.color?t.color:"#00000000",this.unitTextFontSize=t.unitTextFontSize?t.unitTextFontSize:t.font?t.font:12,this.color=t.color||"#00000000",this.renameEnable=t.renameEnable||!1,this.deleteEnable=t.deleteEnable||!1,this.isRotate="boolean"!=typeof t.isRotate||t.isRotate,this.borderColor=t.borderColor||"#ffffffff",this.bgColor=t.bgColor||"#7ff81c1c",this.textColor=t.textColor||"#ff000000",this.textSize=t.textSize||12,this.image=t.image||"",this.imageMode=t.imageMode||"static",this.imagePadding=void 0!==t.imagePadding?t.imagePadding:10,this.useImageSizeAsAreaSizeLimit=void 0!==t.useImageSizeAsAreaSizeLimit&&t.useImageSizeAsAreaSizeLimit,this.imageSize=t.imageSize||8,this.imageScale=t.imageScale||.02,this.imageIsScale=void 0===t.imageIsScale||t.imageIsScale,this.showEditable="boolean"!=typeof t.showEditable||t.showEditable,this.viewType=t.viewType||Wt.normal,this.visible=void 0===t.visible||t.visible;const e=[];t.points&&t.points.forEach((t=>{const n={x:t.x+this.origin.x,y:t.y+this.origin.y};e.push(n)})),this.points=e,this.onLongPressInAreaView=t.onLongPressInAreaView||(()=>{this.logger.warn("It seems not setup onLongPressInAreaView function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{this.logger.warn("It seems not setup onVirtualInfoOutOfBoundingBox function")}),4===this.points.length?(this.layer=this.createForbidArea(),this.layer&&(this.layer.scope.hideVertexAndUnitText(!t.showEditable),this.updateUnitText(),this.createForbidAreaEvent(),this.getInfo(this.layer.scope,!0),this.updateText(this.text))):this.logger.warn("You must setting 4 points for forbidArea")},this.rotateInstead=(t,e)=>{let n;if(this.is3d){const t=this.calcHorizontal(this.points,.5);e.points=t,n=new ly(e)}else{const i=t.vertexPoints[1],r=t.vertexPoints[2],o=t.vertexPoints[3],a=Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2)),s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l={x:t.center.x-s/2,y:-t.center.y-a/2},c={x:t.center.x+s/2,y:-t.center.y-a/2},A={x:t.center.x+s/2,y:-t.center.y+a/2},u={x:t.center.x-s/2,y:-t.center.y+a/2},d=t.calcDegrees(r,o);t.layer.rotateZ(-d),e.points=[l,c,A,u],n=new ly(e),n.layer.rotateZ(d),t=null}const i=n.vertexPoints[0],r=n.vertexPoints[2];return this.viewType===Wt.dashEdit&&n.updateDashEditLine(i,r),n},this.createForbidArea=()=>{const t=[0,1,2,3];this.isRotate||(t[1]=-1),this.renameEnable||(t[3]=-1),this.deleteEnable||(t[0]=-1);let e=this.points;const{data:{length:n=0}}=this.indoorMap2d.map.getLaserMapPointsInfo(this.areaType),{colorFormat:i,alpha:r}=this.argb2Rgb(this.vertexColor),{colorFormat:o,alpha:a}=this.argb2Rgb(this.bgColor),{colorFormat:s,alpha:l}=this.argb2Rgb(this.borderColor),c={color:o,opacity:a,is3d:this.is3d,d3Height:this.d3Height,transparent:!0,noText:!this.renameEnable,noUnitText:!this.showUnitText,minAreaWidth:this.minAreaWidth,maxAreaWidth:this.maxAreaWidth,minAreaHeight:this.minAreaHeight,maxAreaHeight:this.maxAreaHeight,text:this.text,imageMode:this.imageMode,imagePadding:this.imagePadding,image:this.image,noImageIcon:!this.image,imageStyle:{imageSize:this.imageSize,scale:this.imageScale*this.indoorMap2d.getFitScale(),isScale:this.imageIsScale},fontStyle:{fontSize:this.textSize,fontScale:.3*this.indoorMap2d.getFitScale(),color:bg(this.textColor),pixelRatio:this.indoorMap2d.pixelRatio,position:this.textPosition},unitTextFontStyle:{fontSize:this.unitTextFontSize,fontScale:.4*this.indoorMap2d.getFitScale(),color:bg(this.unitTextColor),pixelRatio:this.indoorMap2d.pixelRatio,position:this.unitPosition},lineParams:{isDash:this.isDash,lineWidth:this.lineWidth,dashSize:this.dashSize,gapSize:this.gapSize,color:s,opacity:l},unitText:"0.0m",vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),showVertexImage:this.showVertexImage,vertexImages:0===this.vertexImages.length?[Wm,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVKADAAQAAAABAAAAVAAAAAC3aM1AAAASEElEQVR4AdVcCZBdRRXtv0wmezKTBbIJZC+gAkGJMRCNkEBCGajSIiyV0pSahBJXoiKlllappahoKWWZhEXRCIJlSYGQIBGQNZigJCEFJplEk8lKZibLZJ35/3vOm3ff3N+/33/v/VnIdNWbe7v79u17z7uvu9/r/pMy731KdbIJhU7Wl0hdZzsT1Xl39yf2dBvI3eFgkj6SyApYpEkASyKr+4jFV+pAHOVRul31rrI4fblAcpVpXVH1WjY2X6kD5TqI0qnrw3jRr+uljNQFhi4L47UO4bWslFVMwwyuRGE5XbrOxbvK4tqgARFeKHWE8bZ+LWfXxc5rR2I3sgTL6dB1wjvppk2bRo8dO3ZGVVXV5EwmMzGdTo9HP7WpVKo/6AC/z2OFQqEZfGM+n9+ey+W2trS0vLNjx45Xp0yZUu/LCDBhlGJS5zcpIuXqigS7IkNwXFca5XJlwPPK4qryr16zZs3q3dDQMPfMmTP3AZxtAKpDiTqoizqpG/30Uv2xb7FD7CJ12S43HNXdm8KMEYPFgSIgN2/ePO706dM/AXq7O4Rg+ca72Qf7AiRRwIb50a1ouowoC+S2bdsuRAQ9CBzOlMeiU2vR5ZkH2XeFwHYLqFFgMiIlKns99thjtXDq54CppVOhSqashTbQFgWs2MknSYLB5VuXgerqjGViDA0LgARfffjw4Rvhd30y37tUup420TZcMhTQ5ihQ6WenJxegBJPGFIF59913D0BE/LpLoemActpGG2G3DaoA6/K1UwF1deACs/qNN94Yjxn3Xx3wt1ua0kbaCpQYrVx9SKR2OahxwOSdrt65c+elMPRsesTL3hzaSpt9UOlDl4MaBSbvrAfmrl27ZsL6hrIenJ2VDbRdgUqfZBjjU+jCAMXJk0uR/Zh7YGJZMrWHgim3uIE+ACKZrLokUm1ACaYAyg49MP0xs8c85oKgTfn4qzFVP/7it41HohC1G4tSPZtX33nnnYM4uNvG9dQ8faFPfqTqiUr8t3GJDardUEcmO+Kj0fvUqVPLeyp4YXbTJ/rm+2iDauMCseJEATvZZbYS5tP4CHF9bW3to3ZjO//PfQXz6u686Y+H6IaJGTOsry3hzjecNObNA3mz+2jBHDtjzNHTBrRgsri15/RLmXN59U+Zi4elTA3d78TU2Nh405AhQ56Ayjwufn2yL91b0dcpGzwK6jLhSXkxUlMrVqwYsHjx4o34tDYS+dD0wq68+e6LrSaNlnl0W9MnZVZdX2X68b470psHCua5/+XNhr15s7e53c6MbwW9S3lmFDx9VEHdU89Jm9kXpM3M96VN/xDdju5CixC9e++7775Lli5degxCNEQDy3btxhXzReBR0DedrJeY15c3luCx+GF1dfWXfJlQ8u1/tJpX9+RNjub46fuzqsyVo4u7WY8o/u2mnNnybt4QvBxltcnSOITKDeuNqfKmCzPmZlx9OG12IOFr1S969+59F1TQeg0oLbOtC/IEKCxprwNQN27cOA5g3h7WSJfzUdVgso6PrSQCuWR1q/na31vMO4faUM+5zJUGIZTRz3S6NWUewo1Z8JcW8+d3cCPbu2oTSPCXPtJXNAl8V801Nqq47RGWApeQKKOMx0+ePPmr4Dt0/wnAin/nPCDrGhWQYolPGXmulEEYuOoKfuA046bdu6HVfPXvraYZN7XClPV9LcHAoS+wNAyYQACNRWFq3bp1o3v16nWrQ2HsoiOnjLljbas34bCRHUXy+FZjgXbZiLS5aGjaDMCaYgAmNdbtxwbIfoyvdYcL5q2DeQ9CaSNGFPzI5KS2ZHWL+clVVWaUbKKIUAxKX+HzD6ZPn74b4oKJxD3zwgfaRIgFNs+8XN7YeeLEie/36dPnjqB1BPPlZ9uBE1FvUkkhlixT0ughj2CdBhBvxBg49ZyUN6NLOxc9jJn/JUx8T23Pm3ca8gA8hcmqWDHB7lOVMr+YkzXja7SLLo2lZSdPnvxZ3759v4UaPkq82IG+kPWS17GMobonm2c+hU2wNAbpm/zGFZO0A0wqu2BQ2qy4rsr8+OqsuXxENJhsMxiRO39C2iyflzXfmZk1QxxLMg4vJ1sK5q7nW80R3ICkiT7Td7TzcPCpqLGx8pZBUqmpNGaZxz/99NOzsEwapYUq4fUjLtbcelHGrLwuaybVSklyzR89L23+cEOVmTeOL3NM7boI6qGTBfPdl1qD5VabTPRf+kzffYWilFT4IiUSoUWFKiMNU1joflyVdwLbZs9XpmXNkqkZb7nUUaW94M2dH8qY2y7LwlvvCQxUciT49/68eRCrgKTJ9z3Aolx7G1CNulaQwgD9kXKKktcVzM2IzA9jMd6EiUoujosdTTdfmDZfuNw93/5xS868eyJZD77vRXgoDRoz5/JHGgZt1q5dOwoHD7gm69T0CJzjZad+mEQ+f3nGzBtr329bMjz/8UlpU9eUwYRVrJ9Dzqq3cuYr02RoCNchNfSdGMyePZuzvSQBsuhRoMVSIYJCBVhOSDOksDvoCUwiP32t1TQicjuSCNrogSlv9hc9fPT/ui1n9h+XknjUxyDAJKRVKiwEBGRPAZYNk0IUlC3uhSDIYCmTNPGWM5L2Hiu6+UnVeMuupVOzJUsprn2eBKhJko+BAMqmTsdcgIqgUIPzRhOSdC6ylwxPA5jkoLStHY05f3BggqhMTGeOSZmJQ9KG69wgwaR1e5LZZWEghgkNVOuRm5UlAizLZrMVjZ8LMDkcPp0xL2LxfVy9wwe9OxgsU8yYQSmz5NJMp3w5Yhfzx6fNPa8zLtsSoaxrysO2trWslJejPgZOfPx23h3SgGp9Aq5H4WSNrozLVyEqbn9/xrvitukKuemjdHi297BhX97MPt9d1y7VxvkYFOGCmpIwj6et/Tih3U+PyPOj9tjBcFXFF4f2eny8TpBifQ2IAtQzAXeHZzR7dDoP47F2luM0dwHiJoWBui2lrXUfUms3sPMi16NoLbZJbEcqeLe3Vdj5optmAxQIY0uAp4Z7dBpUnSr6VMj3e/2xO8o5C4MAG7udK0JtGXxq6/mAHsfLAh9zSWnEa98E+09xMYgFKParm8SQnkoPHC+Y4neMghnaVyEc4VhcDGIBih8H1EX0d9ZX78Wgpfe3+CY2FLuwcVNcDMLWoewnWFPgPOU2bFrF7btI7ij2dO5/M2d2YsviitFp7EryYevexMlnu793pXse6vggres1TwxUPsBGlXmsC1AKa58Lx44d2zpgQKxlWJF+RsGX/tZq/nekbe9nM/aAmlsy5rOXxP/SU6SwwgzPB3ASstOF2K+Km4gBZG0tdr7sLM++vAavvPLKurgda7mtjQVEZpsz8kr/aAXfI7XOSvi/1bXtN+m2wzF+jkywulYYlICo9ca6RQsWLNiDQTnxODoYSxU7cRz7TQVfzW09cfOMzi3Y89ebdzxMMS3kddSll74TA1edXRYGKO+Cvgx2/16yG0flRyACuIuplyv8RLGmLmf+01D2RkepjlV/stWYe9fnir6HsiGHovefW3qzw5Qq3zUmTgc0oCJs6/XK6+vrH7cr4uQ/g69G9vhFV7gL2dEPyFH93/N6zjRgc05HJ2/uMDzuV4zRrpfX5PteFh/R4NIqyAv1ZK+55poXEfp7pWFcOmlIyszA7K6jlBFy+HTBfPOFVsMo6orEkylrd5Z+RObN/Ry+gHFDL06iz/TdkhVshAbVYWpFkNS7cA4939zc/KegZQKGu5D8lKcX1nSM55k+t6bVHEy4aVauaxp7/0b3XhU/Ml80LG245Rw30Wf6DvkAC78t8yWJmp0VfnmRktWrV9+P8pYSLREF7xtozDdmZEtOi1A5l1SLn2oxPEfa0cQPxstwzGfV5tLI5M1kVC77YKIlW4vvM03TWIQZW5CR2UUJtr5oSRp37N5+/fotZA9JEx9D1y6nHMP54Mi0uf0DWcMbkCSdAn6P/ydv/oDdTL6zu8ZsDjk/whknnkqJm44fP/77/v37fxHyjFDeJVJ9CbABlduleyEveeEDOmPGjK0TJ078NGQIdqJ02blps+NIwezCpZOsUffhENjjW3M4SFYwp2H2cJxSDjvnSdC2HCqYJ3Cu6Xsv58yr9XlzBm1El9ZP/q4rsubDCSYiNGl99tlnFz/88MON4GkwgSSVC6yXmA+SBk4KA/BQQF6i1ItQ5DNHjhz53sCBA2OdERWlQtn7Sj9SqbzIGl9IH/qq7Z3CybmUGYGLUcZPbvwwzGOQJzChUQf/uID0Tj6jjqdTPoZ9pSTp6NGjvxo0aNC30UYiU6gNrHahEBah0rdnLzJFFJ1tmDdv3s34ip34fZSKPoC1Kc/Hv4bTzcxri9ixznMVcPBEwfwXUb2jqYAz98YcQL6FbpVJ1DsMfdxzdZX5UIJFPFViZt+3bNmyRevXr+fJAJqjQaQIy7SZLPOSAMWMzTMvV0mU4odSHxs/fvzvPC0V/iFIK/HhhD9q8I6CO01MppxRzOHg6vMz5g5MQGHn+ctp3b59+ycnTJjwV8hIVArVwNqgetbbIEo/Uk5KMIWSDx59ROqP8dHkM9KoUvrWuwWz/F858xbO2DMJKHH10TjO4nzsP4Il0cKLMxWdBWV/+AjyAIazr4MVEIUKmEIp7oFIBqksoBTw7FRUojQA9dprr+3z5JNPrsEhgCls0NG0C48z9/Cfxy9BuG8uiQDTGEYeeWb0t80ajLME8hOTMmZMwhWC9EGKfwizaf78+XOfeeYZ/KjHe8w1mAIkgZOLzSSVAMoKmitJeFI7SgNQV61aNfqWW25ZgwNVI6VhZ9B9+CD8Nk4lH8Kin2c7SY/i7WogPrjwoO0ggHhOP2Mm403sPByMEGMr7ZtvRI888sjchQsX1kMHwXOBKaCyGw9AMkiabyvx/9IufQlw/G7KHRh+Ze6DC654//qHP+OrxR2dAYMase/SIxNtpw/0BRd94mRLH+krfabvxECGO41R5L3UwgRUg8oflWpQ+YANxlWLw/1zeiKotJm20wffF/qkwaTPGkzioTFCtnzSwuQ1oLxT7IA/BuQGAj/RBqDyLmPvZU9PCVPaqiKTgUFf6BN9o4/0tUPRifZeigKVUeoE9aGHHpqC/ZeNZzuotJG2wg8dmRrMDj/qbVC2/XUBakeqPPolkTpnzpyR+O8zD5ytoNI22hgCZti4aT/qxChRigJVj6cloKKnoW+//fan8FjtPVuApS20ibbhckWmgBk1biYGk8jbgDIvUcrZjgN1FKhDFi1adD4i4lcA9T39R1i0gbbA5iG44oIZNqtXBCj6jQRVJinX48/lB8+V0oGh+K9e0/AWsgrAduu/amOf7Js2+LbQJtqmJyAdmfSJQHY6mNDppSSRKhOVXqd6yypoIrDDVq5ceSl+4P/LrlwNUDf7YF/s0+9bolKvM2U2Z0Dox7xiMOOGrktOgIYtQSTrgVt4m3rthg8fnlmzZs2V48aNux4frK/E/wwdS0WVJoC4Ax+EX66rq3ti7ty5Lx88eJBvOnyDkUvecmzKeikjzyRt2nLtf6W+vcTiXEBZIkHWJesCVcoESOaFFyoyAV2+fPmIq666anpNTc0E/L5yPI7+XIDX2Rpc/eSwK4aLZizEj+Nqwj8I2Il/hLC9qalp23PPPbfutttu24d+BAibCmBCWa95kaezmmdeEssjEx2Km8JkpTwABwpdfCiYSp62aH3MhyVxUFMBw0VdANpy7Ev02f2GlRfJifFFhREZVxspI7V5KRNqA8vupE7aShlpWNIOamAor/PlgNSywpPqpPvR5U5eO+AUCCl0tZMyTW2e+bCLXWl56VrKJK8dFF5T8uUu6pF64TUlL0n0Sj6S2sZGNlACYW2lXFObZ95VRvVSbvPMS9KOCi8gufJ2GfXoMtGrqdTrskheGx8p7BAIa6/LhSeN4tmFlnF0GRSJw0JZQV7y5XhRIrKSFxpWLvWhVIwPFYhRUU6HrhM+LpWuRV7ytrOSj0upR2RFp6bl6rSck7eNdQrFLCynS9e5eFdZzG6LwBEwhFJHGG/r13J2Xey8diR2owjBKJ26PoyXLnS9lJG6nNdlYbzWIbyWlbKKaZjBFStUDaN0u+pdZUplKOsCxVWmFUTVa9nYPN9ZuzpVClISu5KAk0Q2iQ2ebHc4q43q7v6k7y4FUTohfa8c7Eobug087YTw/wdgP+9agCZhjgAAAABJRU5ErkJggg==",zm,Vm]:this.vertexImages,vertexType:this.vertexType,extendTimes:this.vertexExtendTimes,vertexColor:i,opacity:r,radius:this.radius,vertexEvents:[t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.deleteEnable)return;const e=this.getInfo(t,!1,"remove");this.removeForbidArea(),this.onLaserMapPoints(e,"remove"),this.indoorMap2d.map.removeFromAreaInfo(e.target)},(t,e,n)=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.isRotate)return;const i=this.indoorMap2d;if(n===i.eventTap){const t=i.intersection;i.intersection=i.intersection.scope.layer,i.intersection.intersectionCopy=t;const n=new yn(i.intersection.position.x-this.indoorMap2d.map.center.x,i.intersection.position.z,-i.intersection.position.y+this.indoorMap2d.map.center.y);i.intersection.center=i.worldToScreen(n),i.intersection.transformRotate=!0,i.intersection.draggerEnable=!1,i.intersection.startPosition=new ln(e.mouseClient.x,e.mouseClient.y),i.intersection.angle=0,i.intersection.angleStart=i.rotateAngle(i.intersection.startPosition,i.intersection.center)}if(n===i.eventTapMove){i.intersection.endPosition=new ln(e.mouseClient.x,e.mouseClient.y),i.intersection.angleEnd=i.rotateAngleByLength(i.intersection.startPosition,i.intersection.endPosition,i.intersection.center);const n=i.calculateDirection(new ln(i.intersection.startPosition.x,i.intersection.startPosition.y),new ln(i.intersection.endPosition.x,i.intersection.endPosition.y),new ln(i.intersection.center.x,i.intersection.center.y));let r=i.intersection.angleEnd;i.intersection.angle=n<0?r:-r,i.intersection.rotateZ(.02*i.intersection.angle),i.intersection.startPosition=(new ln).copy(i.intersection.endPosition);const o=this.getInfo(t.scope,!1,"rotate");this.onLaserMapPoints(o,"rotate");const a=this.judgeIsOutOfBoundingBox(o);this.onVirtualInfoOutOfBoundingBox({...o,isOutOfBoundingBox:a})}},t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;const e=t.userIndex,n=new ln(t.position.x,t.position.y),i=new ln(n.x-t.beforePosition.x,n.y-t.beforePosition.y),r={0:[1,2],1:[0,2],2:[3,1],3:[0,1]},o=r[e];let a=!1,s=!1,l=!1,c=!1;const A=this.minAreaWidth,u=this.maxAreaWidth,d=this.minAreaHeight,h=this.maxAreaHeight;if(o.forEach((o=>{if(o===r[e][0]){const e=t.scope.vertexPoints[o],r=e.x,l=e.y,c=new ln(r,l+i.y);let d=Om(n,c);void 0===t.scope.distance_2&&(t.scope.distance_2=d),d<=t.scope.distance_2&&d<A&&(a=!0),d>=t.scope.distance_2&&d>u&&(s=!0),t.scope.distance_2=a?A:s?u:d}else if(o===r[e][1]){const e=t.scope.vertexPoints[o],r=e.x,a=e.y,s=new ln(r+i.x,a);let A=Om(n,s);void 0===t.scope.distance_3&&(t.scope.distance_3=A),A<=t.scope.distance_3&&A<d&&(l=!0),A>=t.scope.distance_3&&A>h&&(c=!0),t.scope.distance_3=l?d:c?h:A}})),a||s||l||c)return this.logger.info("lock move position",t.beforePosition),t.position.copy(t.beforePosition),t.draggerEnable=!1,!1;o.forEach((n=>{const o=t.scope.vertexPoints[n],a=o.x,s=o.y,l=new ln;n===r[e][0]?l.set(a,s+i.y):n===r[e][1]?l.set(a+i.x,s):l.set(a,s),t.scope.vertexPoints[n].copy(l);const c=new yn(t.scope.vertexPoints[n].x,t.scope.vertexPoints[n].y,.1);t.scope.vertexLayers[n]&&t.scope.vertexLayers[n].position.copy(c)})),t.scope.vertexPoints[e].copy(n),this.redrawForbidArea(t.scope)},t=>{if(!t)return;if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return;if(!this.renameEnable)return;const e=this.getInfo(t.scope,!1,"edit"),n={id:this.id,info:e};this.onLongPressInAreaView({data:n})}],showVertexIndex:t},points:e,height:"static"===this.imageMode?this.defaultHeight+(n+1)/100:0,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight};this.defaultHeight=this.defaultHeight+(n+1)/100;const A=new ly(c),u=this.rotateInstead(A,c);return this.visible||u.hideLayer(!0,!0),u.layer},this.redrawForbidArea=(t,e)=>{try{const n=t||this.layer.scope;e&&n.vertexPoints.forEach((t=>{t.x=t.x-this.origin.x+e.x,t.y=t.y+this.origin.y-e.y}));const i=n.vertexPoints;if(n.redrawVertexPointsPosition(),this.is3d){const t={depth:this.d3Height,bevelEnabled:!1},e=new OA(n.vertexPoints),i=new wc(e,t);n.geometry=i}else{const t=new OA(n.vertexPoints);n.faceLayer.geometry.dispose(),n.faceLayer.geometry=new bc(t);const e=[];let r;for(let t=0,n=i.length;t<=n;t++)r=t===n?i[0]:i[t],e.push(r.x,r.y,0);n.lineLayer.geometry.setPositions(e),n.lineLayer.computeLineDistances(),n.lineLayer.position.z=0,this.viewType===Wt.dashEdit&&n.updateDashEditLine(i[0],i[2]),n.updateImageIconPositionDynamic(),n.updateDynamicModeImageSize(n.vertexPoints),n.updateTextLayerDynamic(),n.updateUnitTextPositionDynamic(),this.updateUnitText()}n.changePivot(!1),e&&n.refreshLayerPosition();const r=this.getInfo(n,!1,"resize");this.onLaserMapPoints(r,"resize");const o=this.judgeIsOutOfBoundingBox(r);this.onVirtualInfoOutOfBoundingBox({...r,isOutOfBoundingBox:o})}catch(t){throw this.logger.error("redrawForbidArea ==>",t),new Error(t)}},this.createForbidAreaEvent=()=>{var t,e;this.removeForbidAreaEvent();const n=this.layer.scope,i=this.indoorMap2d,r=n.vertexLayers[3],o=n.vertexLayers[2],a=n.vertexLayers[1],s=n.vertexLayers[0];this.layer&&i.dispatchEvent(this.layer),r&&i.dispatchEvent(r),s&&i.dispatchEvent(s),o&&i.dispatchEvent(o),a&&i.dispatchEvent(a),null==s||s.$on(i.eventTap,((t,e)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}})),null==o||o.$on(i.eventTapMove,((t,e)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const n=t.userIndex,i=t.scope.vertexEvents[n];"function"==typeof i&&i(t,e)}})),null==a||a.$on(i.eventTap,((t,e,n)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const i=t.userIndex,r=t.scope.vertexEvents[i];"function"==typeof r&&r(t,e,n)}})),null==a||a.$on(i.eventTapMove,((t,e,n)=>{if(t.intersectionCopy&&t.intersectionCopy.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);const i=t.intersectionCopy.userIndex,r=t.intersectionCopy.scope.vertexEvents[i];"function"==typeof r&&r(t,e,n)}})),null==r||r.$on(i.eventTap,((t,e,n)=>{if(t.type===It.indoorMapPolygonLayerCircle){if(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())return void(t.draggerEnable=!1);t.draggerEnable=!1;const i=t.userIndex,r=t.scope.vertexEvents[i];"function"==typeof r&&r(t,e,n)}})),null==(t=this.layer)||t.$on(i.eventTap,((t,e)=>{(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())&&t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1)})),null==(e=this.layer)||e.$on(i.eventTapMove,((t,e)=>{(this.checkEditable()||this.checkForbid()||this.indoorMap2d.map.checkMapEditForbidden())&&t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo(t.scope,!1,"move");this.onLaserMapPoints(n,"move");const i=this.judgeIsOutOfBoundingBox(n);this.onVirtualInfoOutOfBoundingBox({...n,isOutOfBoundingBox:i})}))},this.judgeIsOutOfBoundingBox=t=>{const{points:e}=t.data,{width:n,height:i}=this.indoorMap2d.map.getMapDataWidthHeight();let r=!1;return e.forEach((t=>{(t.x>n||t.y>i||t.x<0||t.y<0)&&(r=!0)})),r},this.removeForbidAreaEvent=()=>{const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[3],i=t.vertexLayers[2],r=t.vertexLayers[1],o=t.vertexLayers[0];o&&"function"==typeof o.$off&&o.$off(e.eventTap),i&&"function"==typeof i.$off&&i.$off(e.eventTapMove),r&&"function"==typeof r.$off&&r.$off(e.eventTap),r&&"function"==typeof r.$off&&r.$off(e.eventTapMove),n&&"function"==typeof n.$off&&n.$off(e.eventTap),this.layer&&"function"==typeof this.layer.$off&&(this.layer.$off(e.eventTap),this.layer.$off(e.eventTapMove))},this.calcAngle=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI),this.rotatePolygon=(t,e)=>{const n=(t[0].x+t[1].x+t[2].x+t[3].x)/4,i=(t[0].y+t[1].y+t[2].y+t[3].y)/4,r=e*(Math.PI/180);return t.map((t=>{const e=t.x-n,o=t.y-i;return{x:n+(e*Math.cos(r)-o*Math.sin(r)),y:i+(e*Math.sin(r)+o*Math.cos(r))}}))},this.calculateDistance=(t,e)=>{const n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},this.getInnerPolygon=(t,e)=>{let n=0,i=0;t.forEach((t=>{n+=t.x,i+=t.y})),n/=t.length,i/=t.length;const r=10*Hm(this.calculateDistance(t[0],t[1]),1),o=10*Hm(this.calculateDistance(t[3],t[0]),1),a=[{x:n-r/2+e,y:i-o/2+e},{x:n+r/2-e,y:i-o/2+e},{x:n+r/2-e,y:i+o/2-e},{x:n-r/2+e,y:i+o/2-e}],s=this.calcAngle(t[2],t[3]);return this.rotatePolygon(a,s)},this.getOuterPolygon=(t,e)=>{let n=0,i=0;t.forEach((t=>{n+=t.x,i+=t.y})),n/=t.length,i/=t.length;const r=10*Hm(this.calculateDistance(t[0],t[1]),1),o=10*Hm(this.calculateDistance(t[3],t[0]),1),a=[{x:n-r/2-e,y:i-o/2-e},{x:n+r/2+e,y:i-o/2-e},{x:n+r/2+e,y:i+o/2+e},{x:n-r/2-e,y:i+o/2+e}],s=this.calcAngle(t[2],t[3]);return this.rotatePolygon(a,s)},this.roundToPrecision=(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},this.getInfo=(t,e=!1,n)=>{let i=[];const r=this.indoorMap2d.map.center;this.indoorMap2d.scene.updateMatrixWorld(!0);const o=new yn;t.changePivot(!1),t.faceLayer.getWorldPosition(o),o.setFromMatrixPosition(t.faceLayer.matrixWorld),0===o.x&&0===o.y||e?t.vertexPoints.forEach(((e,n)=>{const r=t.faceLayer.geometry.attributes.position,o=(new yn).fromBufferAttribute(r,n);o.applyMatrix4(t.faceLayer.matrixWorld);const a={x:o.x,y:-o.y};i.push(a)})):t.vertexPoints.forEach(((e,n)=>{const o=t.faceLayer.geometry.attributes.position,a=(new yn).fromBufferAttribute(o,n);a.applyMatrix4(t.faceLayer.matrixWorld);const s={x:a.x+r.x,y:a.z-r.y};i.push(s)}));const a=this.getInnerPolygon(i,this.imagePadding),s={operation:n,target:t.layer.id,type:this.type,data:{id:this.id,extend:this.extend,areaType:this.areaType,content:{text:this.text},points:i,imagePoints:this.useImageSizeAsAreaSizeLimit?a:[]}};return this.setDataInfo(s),s},this.checkEditable=()=>[Rt.normal,Rt.virtualWall,Rt.pressToRun,Rt.mapSplit,Rt.mapSelect,Rt.mapTimerSelect].some((t=>this.indoorMap2d.map.state===t)),this.checkForbid=()=>this.indoorMap2d.map.state===Rt.areaSet&&this.type===my.forbid,this.calcHorizontal=(t,e)=>{let n=[],i=[],r=[],o=[];if(t.length<2)return t;if(4!==t.length)return this.logger.warn("You must setting 4 points for forbidArea"),t;const a=t.length-1,s=dy(t),l={x:(t=hy(s,t,0,a))[0].x-e,y:t[0].y};t.push(l),t[0]={x:t[0].x,y:t[0].y+e},r.push({x:2*t[0].x-t[1].x,y:2*t[0].y-t[1].y}),r.push(t[0]);for(let n=1,i=t.length-1;n<i;n++)Math.pow(t[n].y-t[n-1].y,2)+Math.pow(t[n].x-t[n-1].x,2)>e*e&&r.push(t[n]);r.push(t[t.length-1]),r.push({x:2*t[t.length-1].x-t[t.length-2].x,y:2*t[t.length-1].y-t[t.length-2].y});for(let t=1,o=r.length-1;t<o;t++){let o=r[t-1].x,a=r[t-1].y,s=r[t].x,l=r[t].y,c=r[t+1].x,A=o-s,u=a-l,d=s-c,h=l-r[t+1].y,p=0,f=0;0===d?(p=-Math.PI/2,h<0&&(p=-p)):p=Math.atan(h/d),0===A?(f=-Math.PI/2,u<0&&(f=-f)):f=Math.atan(u/A),c<s&&(p+=Math.PI),s<o&&(f+=Math.PI);let m=(f-p-Math.PI)/2,g=p+m,y=e/Math.sin(m),v=y*Math.cos(g),_=y*Math.sin(g),w=s+v,x=l+_,b=s-v,M=l-_;n.push({x:w,y:x}),i.push({x:b,y:M})}return o=n.concat(i.reverse()),o.push(n[0]),o},this.logger.setLoggerInfo(t.onLoggerInfo),this.init(t)}}class _y extends Qm{constructor(t){super(),this.id=void 0,this.indoorMap2d=void 0,this.class=void 0,this.params=void 0,this.position=void 0,this.realPosition=void 0,this.appointIcon=void 0,this.animate=void 0,this.origin=void 0,this.is3d=void 0,this.type=void 0,this.isScale=void 0,this.scale=void 0,this.markerLayer=void 0,this.rangeLayer=void 0,this.frameAnimationId=void 0,this.posParams=void 0,this.visible=void 0,this.onPosPoints=void 0,this.createPosPosition=t=>{const e=!!this.posParams,n={point:e?{x:0,y:0}:{x:t.position.x+this.origin.x,y:t.position.y+this.origin.y},image:t.appointIcon||Km,size:t.size||12,height:Ut.posPosition,isScale:t.isScale,scale:t.scale},i=new Xm(n);if(i.layer.type=It.indoorMapPosLayer,e){const t=this.createRangeLayer(),e=t.scope.center;return i.layer.position.set(e.x,e.y,.1),t.scope.faceLayer.add(i.layer),this.rangeLayer=t,this.markerLayer=i.layer,this.updateUnitText(),this.createRangeLayerEvent(),this.rangeLayer}return this.animate&&!e?(this.realPosition.copy(i.layer.position),i.layer.position.y=5e3):this.realPosition.copy(i.layer.position),this.markerLayer=i.layer,this.visible||i.hideLayer(!0),this.markerLayer},this.getInfo=t=>{const e=this.getPosPosition();if(e){const n={extend:null,id:void 0!==this.id?this.id:"appoint_0",points:e,target:this.layer.id,type:this.type},i={operation:t,type:this.type,target:this.layer.id,data:n};return this.setDataInfo(i),i}},this.createRangeLayer=()=>{var t,e,n,i,r,o,a,s,l,c;const A=((null==(t=this.posParams)?void 0:t.meter)||1.5)/((null==(e=this.posParams)?void 0:e.factor)||.05),u=this.position.x+this.origin.x,d=-(this.position.y+this.origin.y),h=[{x:u-A/2,y:-d-A/2},{x:u+A/2,y:-d-A/2},{x:u+A/2,y:A/2-d},{x:u-A/2,y:A/2-d}],{colorFormat:p,alpha:f}=this.argb2Rgb((null==(n=this.posParams)?void 0:n.bgColor)||"#FFBC2121"),{colorFormat:m,alpha:g}=this.argb2Rgb((null==(i=this.posParams)?void 0:i.borderColor)||"#ffffffff"),y={color:p,opacity:f,is3d:this.is3d,transparent:!0,noText:!1,noLines:!1,unitTextFontStyle:{fontSize:(null==(r=this.posParams)||null==(r=r.unit)?void 0:r.textSize)||12,fontScale:.4*this.indoorMap2d.getFitScale(),color:bg((null==(o=this.posParams)||null==(o=o.unit)?void 0:o.textColor)||"#00000000"),pixelRatio:this.indoorMap2d.pixelRatio},lineParams:{isDash:(null==(a=this.posParams)?void 0:a.isDash)||!1,lineWidth:(null==(s=this.posParams)?void 0:s.lineWidth)||1,dashSize:(null==(l=this.posParams)?void 0:l.dashSize)||4,gapSize:(null==(c=this.posParams)?void 0:c.gapSize)||2,color:m,opacity:g},unitText:"",noVertices:!0,points:h,visible:!0,height:Ut.posPosition,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},v=new ly(y);return this.visible||v.hideLayer(!0,!0),v.layer},this.createRangeLayerEvent=()=>{var t,e;const n=!!this.posParams;var i,r;this.removeRangeLayerEvent(),this.rangeLayer&&this.indoorMap2d.dispatchEvent(this.rangeLayer),null==(t=this.rangeLayer)||t.$on(this.indoorMap2d.eventTap,((t,e)=>{this.indoorMap2d.map.state===Rt.pressToRun||this.indoorMap2d.map.edit||t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo("move");this.onPosPoints(n,"move")})),null==(e=this.rangeLayer)||e.$on(this.indoorMap2d.eventTapMove,((t,e)=>{this.indoorMap2d.map.state===Rt.pressToRun||this.indoorMap2d.map.edit||t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1);const n=this.getInfo("move");this.onPosPoints(n,"move")})),n&&(this.markerLayer&&this.indoorMap2d.dispatchEvent(this.markerLayer),null==(i=this.markerLayer)||i.$on(this.indoorMap2d.eventTap,((t,e)=>{if(this.indoorMap2d.map.state!==Rt.pressToRun&&!this.indoorMap2d.map.edit)return void(t.draggerEnable=!1);t.disableInnerDragger=!0;const n=t.parent.parent;this.indoorMap2d.emitClickEvent(n);const i=this.getInfo("move");this.onPosPoints(i,"move")})),null==(r=this.markerLayer)||r.$on(this.indoorMap2d.eventTapMove,((t,e)=>{if(this.indoorMap2d.map.state!==Rt.pressToRun&&!this.indoorMap2d.map.edit)return void(t.draggerEnable=!1);const n=t.parent.parent;this.indoorMap2d.emitMoveEvent(n,t.parent);const i=this.getInfo("move");this.onPosPoints(i,"move")})))},this.removeRangeLayerEvent=()=>{this.rangeLayer&&"function"==typeof this.rangeLayer.$off&&(this.rangeLayer.$off(this.indoorMap2d.eventTap),this.rangeLayer.$off(this.indoorMap2d.eventTapMove)),this.markerLayer&&"function"==typeof this.markerLayer.$off&&(this.markerLayer.$off(this.indoorMap2d.eventTap),this.markerLayer.$off(this.indoorMap2d.eventTapMove))},this.redrawPosPosition=t=>{if(this.posParams){const e=this.rangeLayer.scope;e.vertexPoints.forEach((e=>{e.x=e.x-this.origin.x+t.x,e.y=e.y+this.origin.y-t.y}));const n=e.vertexPoints;e.redrawVertexPointsPosition();const i=new OA(e.vertexPoints);e.faceLayer.geometry=new bc(i);const r=[];let o;for(let t=0,e=n.length;t<=e;t++)o=t===e?n[0]:n[t],r.push(o.x,o.y,0);e.lineLayer.geometry.setPositions(r),e.lineLayer.computeLineDistances(),e.lineLayer.position.z=0,e.updateTextLayerDynamic(),e.updateUnitTextPositionDynamic(),e.changePivot(!1),t&&e.refreshLayerPosition();const a=this.rangeLayer.scope.center;this.markerLayer.position.set(a.x,a.y,.1)}else this.layer&&(this.layer.scope.updateImgCloudPosition({x:this.position.x+t.x,y:this.position.y+t.y}),this.realPosition.copy(this.layer.position));this.getInfo("resize")},this.getFrameAnimationId=()=>this.frameAnimationId,this.updateUnitText=()=>{if(this.rangeLayer){var t;const e=(null==(t=this.posParams)?void 0:t.meter)||1.5,n=e+"m x "+e+"m";this.rangeLayer.scope.updateUnitText(n)}},this.hideUnitText=t=>{this.rangeLayer&&this.rangeLayer.scope.hideUnitText(t)},this.updateOriginAndPosition=t=>{this.redrawPosPosition(t),this.origin=Object.assign({},t)},this.getPosPosition=()=>{const t=!!this.posParams;if(this.layer&&!t){const t=this.realPosition;return{x:t.x,y:-t.y}}if(this.rangeLayer){const t=[],e=this.indoorMap2d.map.center,n=this.rangeLayer.scope;this.indoorMap2d.scene.updateMatrixWorld(!0);const i=new yn;n.changePivot(!1),n.faceLayer.getWorldPosition(i),i.setFromMatrixPosition(n.faceLayer.matrixWorld),0===i.x&&0===i.y?n.vertexPoints.forEach(((e,i)=>{const r=n.faceLayer.geometry.attributes.position,o=(new yn).fromBufferAttribute(r,i);o.applyMatrix4(n.faceLayer.matrixWorld);const a={x:o.x,y:-o.y};t.push(a)})):n.vertexPoints.forEach(((i,r)=>{const o=n.faceLayer.geometry.attributes.position,a=(new yn).fromBufferAttribute(o,r);a.applyMatrix4(n.faceLayer.matrixWorld);const s={x:a.x+e.x,y:a.z-e.y};t.push(s)}));let r=0,o=0;return t.forEach((t=>{r+=t.x,o+=t.y})),{x:r/t.length,y:o/t.length}}return null},this.startAnimate=(t=1e3)=>{this.animate?new Mu.Tween(this.layer.position).to(this.realPosition,t).easing(Mu.Easing.Quadratic.Out).start().onUpdate((()=>{})):this.logger.warn("It seems not enable the animate in props")},this.removePosPosition=()=>{const t=this.getInfo("remove");return this.onPosPoints(t,"remove"),this.removeRangeLayerEvent(),this.remove()},this.logger.setLoggerInfo(t.onLoggerInfo),this.class="posPosition",this.type=jt.PosPosition,this.params=t,this.id=t.id,this.indoorMap2d=t.indoorMap2d,this.frameAnimationId=(new Date).getTime(),this.position=t.position,this.realPosition=new yn,this.appointIcon=t.appointIcon,this.animate=t.animate||!1,this.is3d=t.is3d||!1,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.posParams=t.posParams,this.origin=t.origin||{x:0,y:0},this.visible=void 0===t.visible||t.visible,this.layer=this.createPosPosition(t),this.onPosPoints=t.onPosPoints||(()=>{this.logger.warn("It seems not setup onPosPoints function")});const e=this.getInfo("add");this.onPosPoints(e,"add")}}!function(t){t.texture="texture",t.pixelPoints="pixelPoints"}(gy||(gy={}));class wy extends Qm{constructor(t){super(),this.params=void 0,this.class=void 0,this.shape=void 0,this.center=void 0,this.minX=void 0,this.minY=void 0,this.maxX=void 0,this.maxY=void 0,this.isFoldable=void 0,this.infoId=void 0,this.freezeUpdate=void 0,this.shapeWireframe=void 0,this.multiply=(t,e,n)=>(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y),this.generateWireframeData=(t,e)=>{const n=[];for(let e=1,i=t.length;e<i;e++){const i=t[e-1],r=t[e];this.calculateFlatVector3BetweenPoints(i,r,n)}const i=n.length/3,r=[];for(let t=0;t<i;t++)r.push(e.r,e.g,e.b);return{_pointsArray:n,_colorsArray:r}},this.createPointsLayer=t=>{const{useContour:e,color:n,points:i,pointsArray:r,colorsArray:o,pointSize:a,pointStep:s,colorStep:l,showColor:c,pointsAttribute:A,depthWrite:u,depthTest:d,transparent:h,center:p={x:0,y:0},opacity:f}=t;if(e){var m,g,y,v;let e=this.freezeUpdate?[]:i;this.shape=new OA,e.length&&this.shape.setFromPoints(e);const r=new bc(this.shape),o=new gr({color:n,opacity:f,depthWrite:u,depthTest:d,transparent:!0});o.needsUpdate=!0,r.computeBoundingSphere(),r.computeBoundingBox(),this.center.x=p.x,this.center.y=p.y,this.center.z=0,this.maxX=null==(m=r.boundingBox)?void 0:m.max.x,this.maxY=null==(g=r.boundingBox)?void 0:g.max.y,this.minX=null==(y=r.boundingBox)?void 0:y.min.x,this.minY=null==(v=r.boundingBox)?void 0:v.min.y;const _=new Fr(r,o);_.position.z=t.height,_.type=It.indoorMapPoints,_.userData=A;const{_pointsArray:w,_colorsArray:x}=this.generateWireframeData(e,new Ai(n)),b=new mi(w,s),M=new _l({size:a,transparent:h,opacity:f,vertexColors:c,sizeAttenuation:!0,depthWrite:u,depthTest:d});M.needsUpdate=!0;const L=new Ni;L.setAttribute("color",new hi(new Float32Array(x),l)),L.setAttribute("position",b);const C=new Ll(L,M);return C.type=It.indoorMapFilter,C.userData.enableFilter=!0,this.shapeWireframe=C,_.add(C),this.dispatchScope(_),_}{var _,w,x,b;0!==r.length&&0!==o.length||this.debug.isDevMode&&this.logger.warn("createPointsLayer occur a warning : pointsArray or colorsArray is empty");let e,n=this.freezeUpdate?[]:r,i=this.freezeUpdate?[]:o;const m=new Ni,g=new mi(n,s);if(m.setAttribute("position",g),t.showTexture){const n=(new Fc).load(t.textureImage,(()=>{n.needsUpdate=!0,n.minFilter=we,n.magFilter=we}));e=new _l({size:a,map:n,transparent:h,sizeAttenuation:!1,depthWrite:u,depthTest:d})}else m.setAttribute("color",new hi(new Float32Array(i),l)),e=new _l({size:a,transparent:h,opacity:f,vertexColors:c,sizeAttenuation:!0,depthWrite:u,depthTest:d});e.needsUpdate=!0,m.computeBoundingSphere(),m.computeBoundingBox(),this.center.x=p.x,this.center.y=p.y,this.center.z=0,this.maxX=null==(_=m.boundingBox)?void 0:_.max.x,this.maxY=null==(w=m.boundingBox)?void 0:w.max.y,this.minX=null==(x=m.boundingBox)?void 0:x.min.x,this.minY=null==(b=m.boundingBox)?void 0:b.min.y;const y=new Ll(m,e);return y.position.z=t.height,y.type=It.indoorMapPoints,y.userData=A,this.dispatchScope(y),y}},this.getConvexHullPoints=()=>{try{if(this.params.useContour){const{vertexDataOuter:t=[]}=this.params.pointsAttribute;return t.map((t=>({x:t.x,y:t.y})))}let t,e=0;const n=function(t,e){e=void 0===e?1:Lp(Pd(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,r=0,o=Array(Mp(n/e));i<n;)o[r++]=cp(t,i,i+=e);return o}(this.params.pointsArray,3),i=n.map((t=>new yn(t[0],t[1],t[2])));let r=i.length;for(let t=0;t<r;t++)(i[t].y<i[e].y||i[t].y===i[e].y&&i[t].x<i[e].x)&&(e=t);t=i[0],i[0]=i[e],i[e]=t,i.sort(((t,e)=>{let n=Math.atan2(t.y-i[0].y,t.x-i[0].x),r=Math.atan2(e.y-i[0].y,e.x-i[0].x);return n!==r?n-r:t.distanceTo(i[0])-e.distanceTo(i[0])}));let o=[];o.push(i[0],i[1],i[2]);for(let t=3;t<r;t++){for(;this.multiply(i[t],o[o.length-1],o[o.length-2])>0;)o.pop();o.push(i[t])}return o.filter((t=>null!=t)).map((t=>({x:t.x,y:-t.y})))}catch(t){return this.logger.error("getConvexHullPoints throw error: ",t),[]}},this.updatePointsLayer=t=>{const{points:e,color:n,opacity:i,pointsArray:r,colorsArray:o,pointStep:a=3,colorStep:s=3,pointsAttribute:l,depthWrite:c,depthTest:A,center:u={x:0,y:0},useContour:d}=t;if(this.layer){var h,p,f,m;const g=Object.assign(this.params,t);if(this.params=g,this.freezeUpdate=g.freezeUpdate,d){let t=this.freezeUpdate?[]:e;this.logger.info("updatePoints ==>",t,n,i),this.shape=new OA,t.length&&this.shape.setFromPoints(t);const r=new bc(this.shape),o=new gr({color:n,opacity:i,depthWrite:c,depthTest:A,transparent:!0});if(o.needsUpdate=!0,this.layer.geometry=r,this.layer.material=o,this.shapeWireframe){const{_pointsArray:e,_colorsArray:i}=this.generateWireframeData(t,new Ai(n)),r=new mi(e,a);this.shapeWireframe.geometry.setAttribute("color",new hi(new Float32Array(i),s)),this.shapeWireframe.geometry.setAttribute("position",r)}}else{if(0===r.length||0===o.length)return void this.logger.warn("updatePointsLayer occur a warning : pointsArray or colorsArray is empty");let t=this.freezeUpdate?[]:r,e=this.freezeUpdate?[]:o;const n=new mi(t,a);this.layer.geometry.setAttribute("position",n),this.layer.geometry.setAttribute("color",new hi(new Float32Array(e),s))}this.layer.geometry.computeBoundingSphere(),this.layer.geometry.computeBoundingBox(),this.center.x=u.x,this.center.y=u.y,this.center.z=0,this.layer.position.z=t.height,this.maxX=null==(h=this.layer.geometry.boundingBox)?void 0:h.max.x,this.maxY=null==(p=this.layer.geometry.boundingBox)?void 0:p.max.y,this.minX=null==(f=this.layer.geometry.boundingBox)?void 0:f.min.x,this.minY=null==(m=this.layer.geometry.boundingBox)?void 0:m.min.y,this.layer.userData=l}},this.updatePointsLayerSize=t=>{if(this.params.useContour){if(this.shapeWireframe){this.params.pointSize=t;const e=new _l({size:this.params.pointSize,transparent:this.params.transparent,opacity:this.params.opacity,vertexColors:this.params.showColor,sizeAttenuation:!0,depthWrite:this.params.depthWrite,depthTest:this.params.depthTest});e.needsUpdate=!0,this.shapeWireframe.material=e}}else if(this.layer){this.params.pointSize=t;const e=new _l({size:this.params.pointSize,transparent:this.params.transparent,opacity:this.params.opacity,vertexColors:this.params.showColor,sizeAttenuation:!0,depthWrite:this.params.depthWrite,depthTest:this.params.depthTest});e.needsUpdate=!0,this.layer.material=e}},this.removePointsLayer=()=>this.remove(),this.shapeWireframe=void 0,this.center=new yn,this.isFoldable=!1,this.infoId="",this.minX=0,this.minY=0,this.maxX=0,this.maxY=0;const e={class:gy.pixelPoints,useContour:!1,freezeUpdate:!1,points:[],color:new Ai(1,1,1),pointsArray:[],colorsArray:[],center:{x:0,y:0},pointSize:1,pointStep:3,colorStep:3,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0,showColor:!0,pointsAttribute:{},showTexture:!1,textureImage:Gm,height:0},n=Object.assign(e,t);this.params=n,this.freezeUpdate=n.freezeUpdate,this.class=n.class,this.layer=this.createPointsLayer(n)}}class xy extends Qm{constructor(t){super(),this.useContour=void 0,this.useStructuredMode=void 0,this.onlyEndPoints=void 0,this.textLayer=void 0,this.indoorMap2d=void 0,this.params=void 0,this.splitLinePoints=void 0,this.colorHex=void 0,this.splitColor=void 0,this.vertexParams=void 0,this.pixelPointsStore=void 0,this.wrapperPointsStore=void 0,this.onSplitLine=void 0,this.getSplitLineRealPoints=()=>this.splitLinePoints&&this.splitLinePoints.length>0?this.useContour?this.useStructuredMode?this.splitLinePoints.map((t=>({x:t.x,y:t.y}))):this.splitLinePoints.map((t=>({x:t.x,y:-t.y}))):this.splitLinePoints:[],this.getLineListFromContour=t=>{const e=[];let n=[].concat(t);n.push(t[0]);for(let t=0;t<n.length-1;t++){const i={x:n[t].x,y:-n[t].y},r={x:n[t+1].x,y:-n[t+1].y};e.push([i,r])}return e},this.getInfo=t=>{const e={operation:t,type:Ot.split,data:[{points:this.getSplitLineRealPoints(),pixel:this.colorHex}]};return this.setDataInfo(e),e},this.removeSplitLine=()=>{const t=this.getInfo("remove");return this.onSplitLine(t,"remove"),this.removeSplitLineEvent(),this.remove()},this.createSplitLine=t=>{var e,n,i,r;const o=e=>{var n,i,r,o;if(!e)return;const a=e.userIndex,s=e.scope.vertexPoints[a].z,l=new yn(e.position.x,e.position.y,s);e.scope.vertexPoints[a].copy(l);const c=e.scope.lineLayer.geometry,A=[];e.scope.vertexPoints.forEach((t=>{A.push(t.x,t.y,t.z)})),c.setPositions(A);const u=new ln(e.scope.vertexPoints[0].x,-e.scope.vertexPoints[0].y),d=new ln(e.scope.vertexPoints[1].x,-e.scope.vertexPoints[1].y),h=this.rayCasting(u,t.boundingBox),p=this.rayCasting(d,t.boundingBox);let f=[];if(f=this.useContour?this.calculatePointsInContours(u,d,this.params,!1):this.calculatePoints(u,d,this.params,!1),2===f.length){const t=new yn(f[0].x,-f[0].y,s),n=new yn(f[1].x,-f[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([t.x,t.y,t.z,n.x,n.y,n.z]);else{const i=this.createRealLine([t,n]);e.scope.realLayer=i.layer,e.scope.lineLayer.add(i.layer)}}if(0===f.length&&!1===h&&!1===p&&e.scope.realLayer&&(e.scope.realLayer.visible=!1),0===f.length&&!0===h&&!0===p){let t=[];if(t=this.useContour?this.calculatePointsInContours(u,d,this.params,!0):this.calculatePoints(u,d,this.params,!0),2===t.length){const n=new yn(t[0].x,-t[0].y,s),i=new yn(t[1].x,-t[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([n.x,n.y,n.z,i.x,i.y,i.z]);else{const t=this.createRealLine([n,i]);e.scope.realLayer=t.layer,e.scope.lineLayer.add(t.layer)}}}if(1===f.length){let t=[];if(t=this.useContour?this.calculatePointsInContours(u,d,this.params,!0):this.calculatePoints(u,d,this.params,!0),2===t.length){const n=new yn(t[0].x,-t[0].y,s),i=new yn(t[1].x,-t[1].y,s);if(e.scope.realLayer)e.scope.realLayer.visible=!0,e.scope.realLayer.geometry.setPositions([n.x,n.y,n.z,i.x,i.y,i.z]);else{const t=this.createRealLine([n,i]);e.scope.realLayer=t.layer,e.scope.lineLayer.add(t.layer)}}}c.computeBoundingBox(),null==(n=c.boundingBox)||n.getCenter(e.scope.center),this.minY=null==(i=c.boundingBox)?void 0:i.min.y,this.maxX=null==(r=c.boundingBox)?void 0:r.max.x,null==(o=e.scope.unitLayer)||o.position.set(e.scope.center.x,e.scope.center.y,0);const m=this.getInfo("resize");this.onSplitLine(m,"resize")},a=new ln(t.points[0].x,t.points[0].y),s=new ln(t.points[1].x,t.points[1].y);let l=[];l=this.useContour?this.calculatePointsInContours(a,s,t,!1):this.calculatePoints(a,s,t,!1);const c=this.vertexParams.vertexType?this.vertexParams.vertexType:"circle";let A=null!=(e=this.vertexParams)&&e.vertexColor?this.vertexParams.vertexColor:this.splitColor,u=1;if(-1===A.indexOf("rgb")||-1===A.indexOf("rgba")){let{colorFormat:t,alpha:e}=this.argb2Rgb(A);u=e,A=t}const d=null!=(n=this.vertexParams)&&n.vertexExtendTimes?null==(i=this.vertexParams)?void 0:i.vertexExtendTimes:2,h=null!=(r=this.vertexParams)&&r.radius?this.vertexParams.radius:4,p={isDash:!0,dashSize:4,gapSize:2,noUnitText:!0,unitText:"0.0m",points:t.points,noVertices:!1,lineWidth:1,shouldExtendLine:!1,color:this.splitColor,depthWrite:!1,vertexParams:{showVertexImage:!1,vertexEvents:[o,o],vertexImages:[Wm,zm],vertexType:c,radius:h*this.indoorMap2d.getFitScale(),extendTimes:d,segments:32,vertexColor:A,opacity:u},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},f=new Kg(p);if(2===l.length){const t=this.createRealLine(l);f.realLayer=t.layer,f.layer.add(t.layer)}return f.layer},this.createRealLine=t=>{const e={isDash:!1,noUnitText:!0,lineWidth:2,unitText:"0.0m",points:[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}],noVertices:!0,shouldExtendLine:!1,color:this.splitColor,opacity:1,depthWrite:!1,vertexParams:{showVertexImage:!1,vertexEvents:[()=>{},()=>{}],vertexImages:[Wm,zm],radius:2,segments:32,color:this.splitColor,opacity:1},innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},n=new Kg(e);return n.layer.type=It.indoorMapSplitLineLayer,n},this.createSplitLineEvent=()=>{this.removeSplitLineEvent();const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[0],i=t.vertexLayers[1];n&&e.dispatchEvent(n),i&&e.dispatchEvent(i),null==n||n.$on(e.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}})),null==i||i.$on(e.eventTapMove,((t,e)=>{if("IndoorMapLineLayerCircle"===t.type){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t)}}))},this.removeSplitLineEvent=()=>{const t=this.layer.scope,e=this.indoorMap2d,n=t.vertexLayers[0],i=t.vertexLayers[1];"function"==typeof n.$off&&n.$off(e.eventTapMove),"function"==typeof i.$off&&i.$off(e.eventTapMove)},this.calculatePointsInContours=(t,e,n,i=!1)=>{n.boundingBox;let r=null,o=null;i?(r=this.pointAtX(t,e,-9999),o=this.pointAtX(t,e,9999)):(r=t,o=e);const a=this.getLineListFromContour(n.contours),s=[];for(let t=0;t<a.length;t++){const e=this.lineSegmentsIntersection(r,o,a[t][0],a[t][1]);e&&s.push(e)}const l=[].concat(s),c=[];return l.forEach((t=>{const e={x:t.x,y:t.y};c.push(e)})),this.splitLinePoints=c,l},this.calculatePoints=(t,e,n,i=!1)=>{const r=n.boundingBox;let o=null,a=null;i?(o=this.pointAtX(t,e,-9999),a=this.pointAtX(t,e,9999)):(o=t,a=e);const s=r.min,l=r.max,c=s.x-3,A=l.x+3,u=s.y-3,d=l.y+3,h=new ln(c,u),p=new ln(A,u),f=new ln(c,d),m=new ln(A,d),g=[],y=this.lineSegmentsIntersection(o,a,h,f),v=this.lineSegmentsIntersection(o,a,p,m),_=this.lineSegmentsIntersection(o,a,h,p),w=this.lineSegmentsIntersection(o,a,f,m);y&&g.push(y),v&&g.push(v),_&&g.push(_),w&&g.push(w);const x=[c,u,A,d],b=[];let M=[],L=[],C=g;if(2===g.length){if(g[0].x-g[1].x>g[0].y-g[1].y)for(let t=s.y;t<l.y;t++){const e=this.pointAtY(g[0],g[1],t);e.y=-e.y,e.x=e.x;const n=new ln(Math.ceil(e.x),Math.ceil(e.y)),i=new ln(Math.floor(e.x),Math.floor(e.y));if(b.push(n,i),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t=new ln(Math.ceil(e.x),Math.floor(e.y)),n=new ln(Math.floor(e.x),Math.ceil(e.y));b.push(t,n)}}else for(let t=s.x;t<l.x;t++){const e=this.pointAtX(g[0],g[1],t);e.y=-e.y,e.x=e.x;const n=new ln(Math.ceil(e.x),Math.ceil(e.y)),i=new ln(Math.floor(e.x),Math.floor(e.y));if(b.push(n,i),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t=new ln(Math.ceil(e.x),Math.floor(e.y)),n=new ln(Math.floor(e.x),Math.ceil(e.y));b.push(t,n)}}if(0===this.pixelPointsStore.length&&(this.pixelPointsStore=n.pixelPoints||[]),0===this.wrapperPointsStore.length){const t=[];for(let e=0;e<n.wrapperPoints.length;e++){const i=n.wrapperPoints[e];this.isPointInRectangle({x:i.x,y:-i.y},x)&&t.push(i)}this.wrapperPointsStore=t}const i=new Map(this.pixelPointsStore.map((t=>[`${t.x},${t.y}`,t]))),r=new Map(this.wrapperPointsStore.map((t=>[`${t.x},${t.y}`,t])));if(L=b.filter((t=>i.has(`${t.x},${t.y}`))),M=b.filter((t=>r.has(`${t.x},${t.y}`))),L.sort(((t,e)=>t.x-t.y-(e.x-e.y))),M.sort(((t,e)=>t.x-t.y-(e.x-e.y))),C=[],L.length>=2){const n=L[0],i=L[L.length-1],r=this.getSlope(n,i),o=this.onlyEndPoints?[]:M.filter((t=>{t={x:t.x,y:t.y};const e=n.x,o=n.y,a=i.x,s=i.y;if(r<=0){if(t.x<=a&&t.x>=e&&t.y<=o&&t.y>=s)return!0}else if(t.x<=a&&t.x>=e&&t.y<=s&&t.y>=o)return!0;return!1}));if(o.length>0){const a=o[0],s=o[o.length-1];r>=0?t.x>=a.x&&t.y<=-a.y?(C.push(new ln(i.x,-i.y)),C.push(new ln(s.x,-s.y))):(C.push(new ln(n.x,-n.y)),C.push(new ln(a.x,-a.y))):e.x<=s.x&&e.y<=-s.y?(C.push(new ln(n.x,-n.y)),C.push(new ln(a.x,-a.y))):(C.push(new ln(i.x,-i.y)),C.push(new ln(s.x,-s.y)))}else C.push(new ln(n.x,-n.y)),C.push(new ln(i.x,-i.y))}}const B=[];return C.forEach((t=>{const e={x:t.x,y:t.y};B.push(e)})),this.splitLinePoints=B,C},this.getSlope=(t,e)=>t.x-e.x==0?1/0:t.y-e.y==0?0:(t.y-e.y)/(t.x-e.x),this.updateSquareVertexDegree=(t=!1)=>{if("square"===this.vertexParams.vertexType){const e=this.layer.scope.vertexPoints[0],n=this.layer.scope.vertexPoints[1];if(e&&n){const i=180*this.layer.scope.calcDegrees(n,e)/Math.PI,r=0===i||90===i||-90===i||180===i?45:t?45+i:void 0;this.layer.scope.updateSquareVertexDegree(r)}}},this.lineSegmentsIntersection=(t,e,n,i)=>{const r=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-i.x)*(e.y-i.y)-(t.y-i.y)*(e.x-i.x);if(r*o>=0)return!1;const a=(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x);if(a*(a+r-o)>=0)return!1;const s=a/(o-r),l=s*(e.x-t.x),c=s*(e.y-t.y);return new ln(t.x+l,t.y+c)},this.rayCasting=(t,e)=>{const n=e.min,i=e.max;let r=!1;return t.x>=n.x&&t.x<=i.x&&t.y>=n.y&&t.y<=i.y&&(r=!r),r},this.pointAtX=(t,e,n)=>{const i=(e.y-t.y)/(e.x-t.x),r=t.y+(n-t.x)*i;return new ln(n,r)},this.pointAtY=(t,e,n)=>{if(t.x===e.x)return new ln(t.x,n);const i=(e.y-t.y)/(e.x-t.x),r=t.y-i*t.x;return new ln((n-r)/i,n)},this.isPointInRectangle=(t,e)=>{const{x:n,y:i}=t,[r,o,a,s]=e;return n>=r&&n<=a&&i>=o&&i<=s},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.useContour=void 0!==t.useContour&&t.useContour,this.useStructuredMode=void 0!==t.useStructuredMode&&t.useStructuredMode,this.onlyEndPoints=Boolean(t.onlyEndPoints),this.splitColor=t.splitColor,this.vertexParams=t.vertexParams,this.colorHex=t.colorHex,this.pixelPointsStore=[],this.wrapperPointsStore=[],this.onSplitLine=t.onSplitLine||(()=>{this.logger.warn("It seems not setup onSplitLine function")}),this.layer=this.createSplitLine(t),this.updateSquareVertexDegree(!0),this.layer.type=It.indoorMapSplitLineLayer,this.params=t,this.createSplitLineEvent();const e=this.getInfo("add");this.onSplitLine(e,"add")}}class by extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.params=void 0,this.initImgCloud=(t,e)=>{const n=this.createOrderCanvas(t),i=t.isScale,r=t.scale;t.size;const o=new Bl(n);o.needsUpdate=!0,o.magFilter=we,o.minFilter=we;let a,s,l=null;if(i){const e=t.size/2,n=4*t.size;a=new Sl(e,n),s=new gr({map:o,transparent:!0,opacity:1}),l=new Fr(a,s)}else s=new Is({map:o,transparent:!0,opacity:1,sizeAttenuation:!1}),l=new zs(s),l.scale.set(r,r,r);return s&&(s.needsUpdate=!0),l.position.set(t.point.x,t.point.y,t.height),l.type=e,l.point=new yn(t.point.x,t.point.y,t.height),l.params=t,l},this.createOrderCanvas=t=>{const e=document.createElement("canvas"),n=e.getContext("2d"),i=t.radius,r=i/5;e.width=2*i,e.height=2*(i+i/3),e.style.width=i+"px",e.style.height=i+i/3+"px",n.fillStyle=t.color,n.scale(2,2),n.translate(i/2,i+i/3),n.beginPath(),n.moveTo(0,0),n.quadraticCurveTo(i/2,-i/2,i/2,-(i-r)),n.arc(0,-(i-r),i/2,0,Math.PI,!0),n.quadraticCurveTo(-i/2,-i/2,0,0),n.fill(),n.beginPath(),n.arc(0,-(i-r),t.innerRadius/2,0,2*Math.PI),n.fillStyle=t.innerColor,n.fill(),n.fillStyle=t.textColor,n.font=t.bold+" "+2*t.fontSize+"px "+t.fontFace;const o=n.measureText(t.orderNum).width;return n.fillText(t.orderNum,0-o/2,2*-i/2+(2*t.fontSize+2)),e},this.updateOrderNum=t=>{this.params.orderNum=t;const e=this.createOrderCanvas(this.params),n=new Bl(e);n.needsUpdate=!0,n.magFilter=we,n.minFilter=we;const i=new Is({map:n,transparent:!0,opacity:1,sizeAttenuation:!1});i.needsUpdate=!0,this.layer.material=i},this.removeOrderLayer=()=>this.remove(),this.point=t.point,this.indoorMap2d=t.indoorMap2d;const e=Qf({color:"#000000",innerColor:"#ffffff",radius:100,innerRadius:70,textColor:"#000000",fontFace:"Arial",fontSize:16,bold:"Bold ",size:16,height:2,orderNum:0,scale:.02,isScale:!1,point:{x:0,y:0}},t);Rm(e.point),this.params=e,this.layer=this.initImgCloud(e,It.indoorMapImgCloud,!1),this.dispatchScope(this.layer)}}class My extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.colorHex=void 0,this.position=void 0,this.class=void 0,this.type=void 0,this.content=void 0,this.extend=void 0,this.order=void 0,this.orderParams=void 0,this.createSelected=t=>{var e;if(t.orderParams&&"waterDroplets"===(null==(e=t.orderParams)?void 0:e.orderType)){var n,i,r,o,a,s,l,c;const e={indoorMap2d:this.indoorMap2d,point:{x:t.position.x,y:t.position.y},color:bg((null==(n=t.orderParams.iconParams)?void 0:n.color)||"#ff000000"),innerColor:bg((null==(i=t.orderParams.iconParams)?void 0:i.innerColor)||"#ffffffff"),textColor:bg((null==(r=t.orderParams.iconParams)?void 0:r.textColor)||"#ff000000"),isScale:(null==(o=t.orderParams.iconParams)?void 0:o.isScale)||!1,scale:(null==(a=t.orderParams.iconParams)?void 0:a.scale)||.02,radius:(null==(s=t.orderParams.iconParams)?void 0:s.radius)||100,innerRadius:(null==(l=t.orderParams.iconParams)?void 0:l.innerRadius)||70,fontSize:(null==(c=t.orderParams.iconParams)?void 0:c.fontSize)||16,bold:"Bold",orderNum:t.order,size:t.size||3,height:Ut.selected},A=new by(e);return A.layer.type=It.indoorMapSelectedLayer,A.layer}{const e={point:{x:t.position.x,y:t.position.y},image:t.image||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAvVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9nid10k+D5+v7r8Pumuuv9/f9vkN/e5fjb4/eetOqjuOuBneP8/f/y9f3AzvFtjt+JpOXj6vmasOloit6Xruiit+twkN+bsem/uLr7AAAAJnRSTlMADkJqkbjS3+z5A0OHyfwvjOdMx1PQKL28BoUiyyHwdgGOn3eN07429XsAAAHtSURBVHherdjnktpAEIXRK5QZJfISDMuCrzY75/D+j2Vv6YcLCzFBfR7gK8GUStONy7yBH4RRnKRpEkdh4A88uBqqLC/4nyLP1BD2ymrEDqOqhJ3xhBdNxjA3nVFrNoWZ+YJGrubQW65SGkpXS2isN7SweYWLplta2U5xwY7WduhyvaeD/XVH7YZObs739nS0xxkHOjugZcoeWue73rKH7Ronlhv2sjl9P1bsaXXy1qfsKZ3jnwV7u9KcqvvpzihghgbGFDFGY0IRk6ZWUkiJF0cKqQBgOKKQ0RCAohgFIKOLDzwjA5DT3scv39+xLQe8wqH2vq7re7YUHpRj7faObQq+W+3pmWf4CARrDBAK1hjitWCNEWLBGmMk7PDm7SfbGhOkXc/xua4fLGtMO3Nf678e7GpMu3/st6ZnU2PSfRSPP5qeRY0xImp6FjVGCKnrmdcYIqC2Z1xjAJ/6nmmNPhT1vZ8vtV/6GgfwCoOe2bOx8ICc2p7hszEHkFHXM60xM/kwPv6ub41qVGaf7fs78882KgqphK88shcy4eui7GVW+KotOggshMcU2SFKeMSTHUBlx2PR4X0nu1qQX3zIr2VE/r+D7EpLdOG2ll0HCi4rF3PRVarsotdOeexeQx9L2SW5K0+drvCVh4v+AK9Bxm8JOWoRAAAAAElFTkSuQmCC",isScale:t.isScale||!0,scale:t.scale||.02,size:t.size||6,height:Ut.selected},n=new Xm(e);return n.layer.type=It.indoorMapSelectedLayer,n.layer}},this.updateSelectedOrder=t=>{var e;this.order=t,this.orderParams&&"default"===(null==(e=this.orderParams)?void 0:e.orderType)||this.layer.scope.updateOrderNum(this.order)},this.removeSelected=()=>this.remove(),this.getInfo=(t,e)=>{const n={target:t.id,type:this.type,operation:e,data:{order:this.order,content:this.content,extend:this.extend,pixel:this.colorHex}};return this.setDataInfo(n),n},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="selected",this.type=t.type||jt.Selected,this.position=t.position,this.colorHex=t.colorHex,this.content=t.content||{text:""},this.extend=t.extend||{},this.order=t.order||0,this.orderParams=t.orderParams||{orderType:"default"},this.layer=this.createSelected(t),this.getInfo(this.layer,"add")}}class Ly extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.id=void 0,this.position=void 0,this.center=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.extends=void 0,this.isScale=void 0,this.scale=void 0,this.width=void 0,this.height=void 0,this.onClickMaterial=void 0,this.createMaterial=t=>{const e={point:{x:t.position.x,y:t.position.y},image:t.uri,size:t.size||6,height:Ut.material,isScale:t.isScale||!1,scale:t.scale||.02},n=new Xm(e);return n.layer.type=It.indoorMapMaterialLayer,n.layer},this.createMaterialEvent=()=>{this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(t=>{const e=t.clickPoint.x+this.center.x,n=t.clickPoint.z-this.center.y,i=this.getInfo(this.layer,"click");this.onClickMaterial(Object.assign({clickPoint:{x:e,y:n}},i))})))},this.removeMaterialEvent=()=>{this.layer&&"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.removeMaterial=()=>(this.removeMaterialEvent(),this.remove()),this.getInfo=(t,e)=>{const n={operation:e,target:t.id,type:this.type,data:{extends:this.extends,uri:this.uri}};return this.setDataInfo(n),n},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="material",this.id=t.id,this.type=t.type||jt.Material,this.position=t.position,this.center=t.center,this.isScale=t.isScale||!1,this.scale=t.scale||.02,this.extends="string"==typeof t.extends?JSON.parse(t.extends):t.extends||{},this.uri=t.uri,this.width=t.width,this.height=t.height,this.onClickMaterial=t.onClickMaterial||(()=>{this.logger.warn("It seems not setup onClickMaterial function")}),this.layer=this.createMaterial(t),this.createMaterialEvent(),this.getInfo(this.layer,"add")}}const Cy={};class By extends Pc{constructor(t){super(t)}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Dc.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0!==Cy[t])return void Cy[t].push({onLoad:e,onProgress:n,onError:i});const a=t.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);i="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(s,n);break;case"json":i=JSON.parse(s);break;default:i=s}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Cy[t]=[],Cy[t].push({onLoad:e,onProgress:n,onError:i}),s=void 0===XMLHttpRequest?new window.XMLHttpRequest:new XMLHttpRequest,s.open("GET",t,!0),s.addEventListener("load",(function(e){const n=this.response,i=Cy[t];if(delete Cy[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Dc.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),s.addEventListener("progress",(function(e){const n=Cy[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),s.addEventListener("error",(function(e){const n=Cy[t];delete Cy[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),s.addEventListener("abort",(function(e){const n=Cy[t];delete Cy[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)s.setRequestHeader(t,this.requestHeader[t]);s.send(null)}return r.manager.itemStart(t),s}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Sy extends Pc{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new Py(t)})),this.register((function(t){return new Oy(t)})),this.register((function(t){return new Hy(t)})),this.register((function(t){return new ky(t)})),this.register((function(t){return new Fy(t)})),this.register((function(t){return new Uy(t)})),this.register((function(t){return new Ry(t)})),this.register((function(t){return new Dy(t)})),this.register((function(t){return new Yy(t)}))}load(t,e,n,i){const r=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Rc.extractUrlBase(t),this.manager.itemStart(t);const a=function(e){i?i(e):console.error(e),r.manager.itemError(t),r.manager.itemEnd(t)},s=new By(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){try{r.parse(n,o,(function(i){i&&(i.arraybuffer=n),e(i),r.manager.itemEnd(t)}),a)}catch(t){a(t)}}),n,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,i){let r;const o={},a={};if("string"==typeof t)r=t;else if(Rc.decodeText(new Uint8Array(t,0,4))===Qy){try{o[Ty.KHR_BINARY_GLTF]=new jy(t)}catch(t){return void(i&&i(t))}r=o[Ty.KHR_BINARY_GLTF].content}else r=Rc.decodeText(new Uint8Array(t));const s=JSON.parse(r);if(void 0===s.asset||s.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new uv(s,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){const e=this.pluginCallbacks[t](l);a[e.name]=e,o[e.name]=!0}if(s.extensionsUsed)for(let t=0;t<s.extensionsUsed.length;++t){const e=s.extensionsUsed[t],n=s.extensionsRequired||[];switch(e){case Ty.KHR_MATERIALS_UNLIT:o[e]=new Iy;break;case Ty.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[e]=new zy;break;case Ty.KHR_DRACO_MESH_COMPRESSION:o[e]=new Ny(s,this.dracoLoader);break;case Ty.KHR_TEXTURE_TRANSFORM:o[e]=new Wy;break;case Ty.KHR_MESH_QUANTIZATION:o[e]=new Gy;break;default:n.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,i)}}function Ey(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Ty={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Dy{constructor(t){this.parser=t,this.name=Ty.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let i=e.cache.get(n);if(i)return i;const r=e.json,o=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let a;const s=new Ai(16777215);void 0!==o.color&&s.fromArray(o.color);const l=void 0!==o.range?o.range:0;switch(o.type){case"directional":a=new qc(s),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new Zc(s),a.distance=l;break;case"spot":a=new Wc(s),a.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=e.createUniqueName(o.name||"light_"+t),i=Promise.resolve(a),e.cache.add(n,i),i}createNodeAttachment(t){const e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(t){return n._getNodeRef(e.cache,r,t)}))}}class Iy{constructor(){this.name=Ty.KHR_MATERIALS_UNLIT}getMaterialType(){return gr}extendParams(t,e,n){const i=[];t.color=new Ai(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const e=r.baseColorFactor;t.color.fromArray(e),t.opacity=e[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(i)}}class Py{constructor(t){this.parser=t,this.name=Ty.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Bc:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const t=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new ln(t,t)}return Promise.all(r)}}class ky{constructor(t){this.parser=t,this.name=Ty.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Bc:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class Fy{constructor(t){this.parser=t,this.name=Ty.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Bc:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&r.push(n.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return e.attenuationTint=new Ai(a[0],a[1],a[2]),Promise.all(r)}}class Uy{constructor(t){this.parser=t,this.name=Ty.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Bc:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return e.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class Ry{constructor(t){this.parser=t,this.name=Ty.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Bc:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&r.push(n.assignTexture(e,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return e.specularTint=new Ai(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&r.push(n.assignTexture(e,"specularTintMap",o.specularColorTexture).then((function(t){t.encoding=Oe}))),Promise.all(r)}}class Oy{constructor(t){this.parser=t,this.name=Ty.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=n.images[r.source],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o,a)}}class Hy{constructor(t){this.parser=t,this.name=Ty.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],a=i.images[o.source];let s=n.textureLoader;if(a.uri){const t=n.options.manager.getHandler(a.uri);null!==t&&(s=t)}return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(t,a,s);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const e=document.createElement("img");e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported}}class Yy{constructor(t){this.name=Ty.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const t=n.extensions[this.name],i=this.parser.getDependency("buffer",t.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,r.ready]).then((function(e){const n=t.byteOffset||0,i=t.byteLength||0,o=t.count,a=t.byteStride,s=new ArrayBuffer(o*a),l=new Uint8Array(e[0],n,i);return r.decodeGltfBuffer(new Uint8Array(s),o,a,l,t.mode,t.filter),s}))}return null}}const Qy="glTF";class jy{constructor(t){this.name=Ty.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:Rc.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==Qy)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,i=new DataView(t,12);let r=0;for(;r<n;){const e=i.getUint32(r,!0);r+=4;const n=i.getUint32(r,!0);if(r+=4,1313821514===n){const n=new Uint8Array(t,12+r,e);this.content=Rc.decodeText(n)}else if(5130562===n){const n=12+r;this.body=t.slice(n,n+e)}r+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ny{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ty.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},s={},l={};for(const t in o){const e=ev[t]||t.toLowerCase();a[e]=o[t]}for(const e in t.attributes){const i=ev[e]||e.toLowerCase();if(void 0!==o[e]){const r=n.accessors[t.attributes[e]],o=qy[r.componentType];l[i]=o,s[i]=!0===r.normalized}}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){i.decodeDracoFile(t,(function(t){for(const e in t.attributes){const n=t.attributes[e],i=s[e];void 0!==i&&(n.normalized=i)}e(t)}),a,l)}))}))}}class Wy{constructor(){this.name=Ty.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Vy extends Cc{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new Ai).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(t){for(const e in a)t.uniforms[e]=a[e];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(t){a.specular.value=t}},specularMap:{get:function(){return a.specularMap.value},set:function(t){a.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(t){a.glossiness.value=t}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(t){a.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class zy{constructor(){this.name=Ty.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Vy}extendParams(t,e,n){const i=e.extensions[this.name];t.color=new Ai(1,1,1),t.opacity=1;const r=[];if(Array.isArray(i.diffuseFactor)){const e=i.diffuseFactor;t.color.fromArray(e),t.opacity=e[3]}if(void 0!==i.diffuseTexture&&r.push(n.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new Ai(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new Ai(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){const e=i.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",e)),r.push(n.assignTexture(t,"specularMap",e))}return Promise.all(r)}createMaterial(t){const e=new Vy(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}class Gy{constructor(){this.name=Ty.KHR_MESH_QUANTIZATION}}class Ky extends $c{constructor(t,e,n,i){super(t,e,n,i)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i;for(let t=0;t!==i;t++)e[t]=n[r+t];return e}}Ky.prototype.beforeStart_=Ky.prototype.copySampleValue_,Ky.prototype.afterEnd_=Ky.prototype.copySampleValue_,Ky.prototype.interpolate_=function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=i-e,A=(n-e)/c,u=A*A,d=u*A,h=t*l,p=h-l,f=-2*d+3*u,m=d-u,g=1-f,y=m-u+A;for(let t=0;t!==a;t++){const e=o[p+t+a],n=o[p+t+s]*c,i=o[h+t+a],l=o[h+t]*c;r[t]=g*e+y*n+f*i+m*l}return r};const Zy=new gn;class Xy extends Ky{interpolate_(t,e,n,i){const r=super.interpolate_(t,e,n,i);return Zy.fromArray(r).normalize().toArray(r),r}}const qy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Jy={9728:ye,9729:we,9984:ve,9985:1007,9986:_e,9987:be},$y={33071:me,33648:ge,10497:fe},tv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ev={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},nv={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},iv={CUBICSPLINE:void 0,LINEAR:Fe,STEP:ke};function rv(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function ov(t,e,n){for(const i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function av(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function sv(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let e=0,i=n.length;e<i;e++)t.morphTargetDictionary[n[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function lv(t){const e=t.extensions&&t.extensions[Ty.KHR_DRACO_MESH_COMPRESSION];let n;return n=e?"draco:"+e.bufferView+":"+e.indices+":"+cv(e.attributes):t.indices+":"+cv(t.attributes)+":"+t.mode,n}function cv(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Av(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class uv{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Ey,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new Uc(this.options.manager):this.textureLoader=new Fc(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new By(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(e){const o={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};ov(r,o,i),av(o,i),Promise.all(n._invokeAll((function(t){return t.afterRoot&&t.afterRoot(o)}))).then((function(){t(o)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n].joints;for(let e=0,n=i.length;e<n;e++)t[i[e]].isBone=!0}for(let e=0,i=t.length;e<i;e++){const i=t[e];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const i=n.clone(),r=(t,e)=>{const n=this.associations.get(t);null!=n&&this.associations.set(e,n);for(const[n,i]of t.children.entries())r(i,e.children[n])};return r(n,i),i.name+="_instance_"+t.uses[e]++,i}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const i=t(e[n]);if(i)return i}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let i=0;i<e.length;i++){const r=t(e[i]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":i=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return n.getDependency(t,i)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Ty.KHR_BINARY_GLTF].body);const i=this.options;return new Promise((function(t,r){n.load(rv(e.uri,i.path),t,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)}))}loadAccessor(t){const e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);const r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then((function(t){const r=t[0],o=tv[i.type],a=qy[i.componentType],s=a.BYTES_PER_ELEMENT,l=s*o,c=i.byteOffset||0,A=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,u=!0===i.normalized;let d,h;if(A&&A!==l){const t=Math.floor(c/A),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+t+":"+i.count;let l=e.cache.get(n);l||(d=new a(r,t*A,i.count*A/s),l=new Es(d,A/s),e.cache.add(n,l)),h=new Ds(l,o,c%A/s,u)}else d=null===r?new a(i.count*o):new a(r,c,i.count*o),h=new hi(d,o,u);if(void 0!==i.sparse){const e=tv.SCALAR,n=qy[i.sparse.indices.componentType],s=i.sparse.indices.byteOffset||0,l=i.sparse.values.byteOffset||0,c=new n(t[1],s,i.sparse.count*e),A=new a(t[2],l,i.sparse.count*o);null!==r&&(h=new hi(h.array.slice(),h.itemSize,h.normalized));for(let t=0,e=c.length;t<e;t++){const e=c[t];if(h.setX(e,A[t*o]),o>=2&&h.setY(e,A[t*o+1]),o>=3&&h.setZ(e,A[t*o+2]),o>=4&&h.setW(e,A[t*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return h}))}loadTexture(t){const e=this.json,n=this.options,i=e.textures[t],r=e.images[i.source];let o=this.textureLoader;if(r.uri){const t=n.manager.getHandler(r.uri);null!==t&&(o=t)}return this.loadTextureImage(t,r,o)}loadTextureImage(t,e,n){const i=this,r=this.json,o=this.options,a=r.textures[t],s=(e.uri||e.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];const l=window.URL||window.webkitURL;let c=e.uri||"",A=!1;if(void 0!==e.bufferView)c=i.getDependency("bufferView",e.bufferView).then((function(t){A=!0;const n=new Blob([t],{type:e.mimeType});return c=l.createObjectURL(n),c}));else if(void 0===e.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const u=Promise.resolve(c).then((function(t){return new Promise((function(e,i){let r=e;!0===n.isImageBitmapLoader&&(r=function(t){const n=new hn(t);n.needsUpdate=!0,e(n)}),n.load(rv(t,o.path),r,void 0,i)}))})).then((function(e){!0===A&&l.revokeObjectURL(c),e.flipY=!1,a.name&&(e.name=a.name);const n=(r.samplers||{})[a.sampler]||{};return e.magFilter=Jy[n.magFilter]||we,e.minFilter=Jy[n.minFilter]||be,e.wrapS=$y[n.wrapS]||fe,e.wrapT=$y[n.wrapT]||fe,i.associations.set(e,{textures:t}),e})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=u,u}assignTexture(t,e,n){const i=this;return this.getDependency("texture",n.index).then((function(r){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===e&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),i.extensions[Ty.KHR_TEXTURE_TRANSFORM]){const t=void 0!==n.extensions?n.extensions[Ty.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=i.associations.get(r);r=i.extensions[Ty.KHR_TEXTURE_TRANSFORM].extendTexture(r,t),i.associations.set(r,e)}}return t[e]=r,r}))}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const i=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new _l,Gi.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,e.sizeAttenuation=!1,this.cache.add(t,e)),n=e}else if(t.isLine){const t="LineBasicMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new cl,Gi.prototype.copy.call(e,n),e.color.copy(n.color),this.cache.add(t,e)),n=e}if(i||r||o){let t="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),i&&(t+="derivative-tangents:"),r&&(t+="vertex-colors:"),o&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=n.clone(),r&&(e.vertexColors=!0),o&&(e.flatShading=!0),i&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(n))),n=e}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Cc}loadMaterial(t){const e=this,n=this.json,i=this.extensions,r=n.materials[t];let o;const a={},s=r.extensions||{},l=[];if(s[Ty.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const t=i[Ty.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=t.getMaterialType(),l.push(t.extendParams(a,r,e))}else if(s[Ty.KHR_MATERIALS_UNLIT]){const t=i[Ty.KHR_MATERIALS_UNLIT];o=t.getMaterialType(),l.push(t.extendParams(a,r,e))}else{const n=r.pbrMetallicRoughness||{};if(a.color=new Ai(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;a.color.fromArray(t),a.opacity=t[3]}void 0!==n.baseColorTexture&&l.push(e.assignTexture(a,"map",n.baseColorTexture)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(l.push(e.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),l.push(e.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),o=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),l.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)}))))}!0===r.doubleSided&&(a.side=2);const c=r.alphaMode||"OPAQUE";if("BLEND"===c?(a.transparent=!0,a.depthWrite=!1):(a.format=Te,a.transparent=!1,"MASK"===c&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&o!==gr&&(l.push(e.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new ln(1,1),void 0!==r.normalTexture.scale)){const t=r.normalTexture.scale;a.normalScale.set(t,t)}return void 0!==r.occlusionTexture&&o!==gr&&(l.push(e.assignTexture(a,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&o!==gr&&(a.emissive=(new Ai).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&o!==gr&&l.push(e.assignTexture(a,"emissiveMap",r.emissiveTexture)),Promise.all(l).then((function(){let n;return n=o===Vy?i[Ty.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new o(a),r.name&&(n.name=r.name),n.map&&(n.map.encoding=Oe),n.emissiveMap&&(n.emissiveMap.encoding=Oe),av(n,r),e.associations.set(n,{materials:t}),r.extensions&&ov(i,n,r),n}))}createUniqueName(t){const e=vA.sanitizeNodeName(t||"");let n=e;for(let t=1;this.nodeNamesUsed[n];++t)n=e+"_"+t;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,i=this.primitiveCache;function r(t){return n[Ty.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return hv(n,t,e)}))}const o=[];for(let n=0,a=t.length;n<a;n++){const a=t[n],s=lv(a),l=i[s];if(l)o.push(l.promise);else{let t;t=a.extensions&&a.extensions[Ty.KHR_DRACO_MESH_COMPRESSION]?r(a):hv(new Ni,a,e),i[s]={primitive:a,promise:t},o.push(t)}}return Promise.all(o)}loadMesh(t){const e=this,n=this.json,i=this.extensions,r=n.meshes[t],o=r.primitives,a=[];for(let t=0,e=o.length;t<e;t++){const e=void 0===o[t].material?(void 0===(s=this.cache).DefaultMaterial&&(s.DefaultMaterial=new Cc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),s.DefaultMaterial):this.getDependency("material",o[t].material);a.push(e)}var s;return a.push(e.loadGeometries(o)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let n=0,c=s.length;n<c;n++){const c=s[n],A=o[n];let u;const d=a[n];if(4===A.mode||5===A.mode||6===A.mode||void 0===A.mode)u=!0===r.isSkinnedMesh?new $s(c,d):new Fr(c,d),!0!==u.isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),5===A.mode?u.geometry=pv(u.geometry,1):6===A.mode&&(u.geometry=pv(u.geometry,2));else if(1===A.mode)u=new yl(c,d);else if(3===A.mode)u=new fl(c,d);else if(2===A.mode)u=new vl(c,d);else{if(0!==A.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);u=new Ll(c,d)}Object.keys(u.geometry.morphAttributes).length>0&&sv(u,r),u.name=e.createUniqueName(r.name||"mesh_"+t),av(u,r),A.extensions&&ov(i,u,A),e.assignFinalMaterial(u),l.push(u)}for(let n=0,i=l.length;n<i;n++)e.associations.set(l[n],{meshes:t,primitives:n});if(1===l.length)return l[0];const c=new xs;e.associations.set(c,{meshes:t});for(let t=0,e=l.length;t<e;t++)c.add(l[t]);return c}))}loadCamera(t){let e;const n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new zr(sn.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new Jr(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),av(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))}loadAnimation(t){const e=this.json.animations[t],n=[],i=[],r=[],o=[],a=[];for(let t=0,s=e.channels.length;t<s;t++){const s=e.channels[t],l=e.samplers[s.sampler],c=s.target,A=void 0!==c.node?c.node:c.id,u=void 0!==e.parameters?e.parameters[l.input]:l.input,d=void 0!==e.parameters?e.parameters[l.output]:l.output;n.push(this.getDependency("node",A)),i.push(this.getDependency("accessor",u)),r.push(this.getDependency("accessor",d)),o.push(l),a.push(c)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(a)]).then((function(n){const i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=[];for(let t=0,e=i.length;t<e;t++){const e=i[t],n=r[t],c=o[t],A=a[t],u=s[t];if(void 0===e)continue;let d;switch(e.updateMatrix(),e.matrixAutoUpdate=!0,nv[u.path]){case nv.weights:d=lA;break;case nv.rotation:d=sA;break;default:d=oA}const h=e.name?e.name:e.uuid,p=void 0!==A.interpolation?iv[A.interpolation]:Fe,f=[];nv[u.path]===nv.weights?e.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&f.push(t.name?t.name:t.uuid)})):f.push(h);let m=c.array;if(c.normalized){const t=Av(m.constructor),e=new Float32Array(m.length);for(let n=0,i=m.length;n<i;n++)e[n]=m[n]*t;m=e}for(let t=0,e=f.length;t<e;t++){const e=new d(f[t]+"."+nv[u.path],n.array,m,p);"CUBICSPLINE"===A.interpolation&&(e.createInterpolant=function(t){return new(this instanceof sA?Xy:Ky)(this.times,this.values,this.getValueSize()/3,t)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(e)}}const c=e.name?e.name:"animation_"+t;return new bA(c,void 0,l)}))}createNodeMesh(t){const e=this.json,n=this,i=e.nodes[t];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(t){const e=n._getNodeRef(n.meshCache,i.mesh,t);return void 0!==i.weights&&e.traverse((function(t){if(t.isMesh)for(let e=0,n=i.weights.length;e<n;e++)t.morphTargetInfluences[e]=i.weights[e]})),e}))}loadNode(t){const e=this.json,n=this.extensions,i=this,r=e.nodes[t],o=r.name?i.createUniqueName(r.name):"";return function(){const e=[],n=i._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return n&&e.push(n),void 0!==r.camera&&e.push(i.getDependency("camera",r.camera).then((function(t){return i._getNodeRef(i.cameraCache,r.camera,t)}))),i._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)}().then((function(e){let a;if(a=!0===r.isBone?new tl:e.length>1?new xs:1===e.length?e[0]:new ki,a!==e[0])for(let t=0,n=e.length;t<n;t++)a.add(e[t]);if(r.name&&(a.userData.name=r.name,a.name=o),av(a,r),r.extensions&&ov(n,a,r),void 0!==r.matrix){const t=new Kn;t.fromArray(r.matrix),a.applyMatrix4(t)}else void 0!==r.translation&&a.position.fromArray(r.translation),void 0!==r.rotation&&a.quaternion.fromArray(r.rotation),void 0!==r.scale&&a.scale.fromArray(r.scale);return i.associations.has(a)||i.associations.set(a,{}),i.associations.get(a).nodes=t,a}))}loadScene(t){const e=this.json,n=this.extensions,i=this.json.scenes[t],r=this,o=new xs;i.name&&(o.name=r.createUniqueName(i.name)),av(o,i),i.extensions&&ov(n,o,i);const a=i.nodes||[],s=[];for(let t=0,n=a.length;t<n;t++)s.push(dv(a[t],o,e,r));return Promise.all(s).then((function(){return r.associations=(t=>{const e=new Map;for(const[t,n]of r.associations)(t instanceof Gi||t instanceof hn)&&e.set(t,n);return t.traverse((t=>{const n=r.associations.get(t);null!=n&&e.set(t,n)})),e})(o),o}))}}function dv(t,e,n,i){const r=n.nodes[t];return i.getDependency("node",t).then((function(t){if(void 0===r.skin)return t;let e;return i.getDependency("skin",r.skin).then((function(t){e=t;const n=[];for(let t=0,r=e.joints.length;t<r;t++)n.push(i.getDependency("node",e.joints[t]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(!t.isMesh)return;const i=[],r=[];for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o){i.push(o);const n=new Kn;void 0!==e.inverseBindMatrices&&n.fromArray(e.inverseBindMatrices.array,16*t),r.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}t.bind(new rl(i,r),t.matrixWorld)})),t}))})).then((function(t){e.add(t);const o=[];if(r.children){const e=r.children;for(let r=0,a=e.length;r<a;r++){const a=e[r];o.push(dv(a,t,n,i))}}return Promise.all(o)}))}function hv(t,e,n){const i=e.attributes,r=[];function o(e,i){return n.getDependency("accessor",e).then((function(e){t.setAttribute(i,e)}))}for(const e in i){const n=ev[e]||e.toLowerCase();n in t.attributes||r.push(o(i[e],n))}if(void 0!==e.indices&&!t.index){const i=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(i)}return av(t,e),function(t,e,n){const i=e.attributes,r=new wn;if(void 0===i.POSITION)return;{const t=n.json.accessors[i.POSITION],e=t.min,o=t.max;if(void 0===e||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new yn(e[0],e[1],e[2]),new yn(o[0],o[1],o[2])),t.normalized){const e=Av(qy[t.componentType]);r.min.multiplyScalar(e),r.max.multiplyScalar(e)}}const o=e.targets;if(void 0!==o){const t=new yn,e=new yn;for(let i=0,r=o.length;i<r;i++){const r=o[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],o=i.min,a=i.max;if(void 0!==o&&void 0!==a){if(e.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),e.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),e.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),i.normalized){const t=Av(qy[i.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(t)}t.boundingBox=r;const a=new Yn;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=a}(t,e,n),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,n){let i=!1,r=!1;for(let t=0,n=e.length;t<n;t++){const n=e[t];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),i&&r)break}if(!i&&!r)return Promise.resolve(t);const o=[],a=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(i){const e=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):t.attributes.position;o.push(e)}if(r){const e=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):t.attributes.normal;a.push(e)}}return Promise.all([Promise.all(o),Promise.all(a)]).then((function(e){const n=e[0],o=e[1];return i&&(t.morphAttributes.position=n),r&&(t.morphAttributes.normal=o),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function pv(t,e){let n=t.getIndex();if(null===n){const e=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<i.count;t++)e.push(t);t.setIndex(e),n=t.getIndex()}const i=n.count-2,r=[];if(2===e)for(let t=1;t<=i;t++)r.push(n.getX(0)),r.push(n.getX(t)),r.push(n.getX(t+1));else for(let t=0;t<i;t++)t%2==0?(r.push(n.getX(t)),r.push(n.getX(t+1)),r.push(n.getX(t+2))):(r.push(n.getX(t+2)),r.push(n.getX(t+1)),r.push(n.getX(t)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(r),o}const fv=new WeakMap;class mv extends Pc{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,n,i){const r=new By(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(t=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,n).then(e).catch(i)}),n,i)}decodeDracoFile(t,e,n,i){const r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(t,r).then(e)}decodeGeometry(t,e){for(const t in e.attributeTypes){const n=e.attributeTypes[t];void 0!==n.BYTES_PER_ELEMENT&&(e.attributeTypes[t]=n.name)}const n=JSON.stringify(e);if(fv.has(t)){const e=fv.get(t);if(e.key===n)return e.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const r=this.workerNextTaskID++,o=t.byteLength,a=this._getWorker(r,o).then((n=>(i=n,new Promise(((n,o)=>{i._callbacks[r]={resolve:n,reject:o},i.postMessage({type:"decode",id:r,taskConfig:e,buffer:t},[t])}))))).then((t=>this._createGeometry(t.geometry)));return a.catch((()=>!0)).then((()=>{i&&r&&this._releaseTask(i,r)})),fv.set(t,{key:n,promise:a}),a}_createGeometry(t){const e=new Ni;t.index&&e.setIndex(new hi(t.index.array,1));for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n],r=i.name,o=i.array,a=i.itemSize;e.setAttribute(r,new hi(o,a))}return e}_loadLibrary(t,e){const n=new By(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise(((e,i)=>{n.load(t,e,void 0,i)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then((e=>{const n=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const i=gv.toString(),r=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(t,e){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(e){const n=e.data;switch(n.type){case"decode":t._callbacks[n.id].resolve(n);break;case"error":t._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[t]=e,n._taskLoad+=e,n}))}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map((t=>t._taskLoad)))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function gv(){let t,e;function n(t,e,n,i,r,o){const a=o.num_components(),s=n.num_points()*a,l=s*r.BYTES_PER_ELEMENT,c=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,r),A=t._malloc(l);e.GetAttributeDataArrayForAllPoints(n,o,c,l,A);const u=new r(t.HEAPF32.buffer,A,s).slice();return t._free(A),{name:i,array:u,itemSize:a}}onmessage=function(i){const r=i.data;switch(r.type){case"init":t=r.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":const i=r.buffer,o=r.taskConfig;e.then((t=>{const e=t.draco,a=new e.Decoder,s=new e.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{const t=function(t,e,i,r){const o=r.attributeIDs,a=r.attributeTypes;let s,l;const c=e.GetEncodedGeometryType(i);if(c===t.TRIANGULAR_MESH)s=new t.Mesh,l=e.DecodeBufferToMesh(i,s);else{if(c!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new t.PointCloud,l=e.DecodeBufferToPointCloud(i,s)}if(!l.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const A={index:null,attributes:[]};for(const i in o){const l=self[a[i]];let c,u;if(r.useUniqueIDs)u=o[i],c=e.GetAttributeByUniqueId(s,u);else{if(u=e.GetAttributeId(s,t[o[i]]),-1===u)continue;c=e.GetAttribute(s,u)}A.attributes.push(n(t,e,s,i,l,c))}return c===t.TRIANGULAR_MESH&&(A.index=function(t,e,n){const i=3*n.num_faces(),r=4*i,o=t._malloc(r);e.GetTrianglesUInt32Array(n,r,o);const a=new Uint32Array(t.HEAPF32.buffer,o,i).slice();return t._free(o),{array:a,itemSize:1}}(t,e,s)),t.destroy(s),A}(e,a,s,o),i=t.attributes.map((t=>t.array.buffer));t.index&&i.push(t.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:t},i)}catch(t){console.error(t),self.postMessage({type:"error",id:r.id,error:t.message})}finally{e.destroy(s),e.destroy(a)}}))}}}const yv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,vv=Object.keys,_v=Array.isArray;function wv(t,e){return"object"!=typeof e||vv(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||yv.Promise||(yv.Promise=Promise);const xv=Object.getPrototypeOf,bv={}.hasOwnProperty;function Mv(t,e){return bv.call(t,e)}function Lv(t,e){"function"==typeof e&&(e=e(xv(t))),("undefined"==typeof Reflect?vv:Reflect.ownKeys)(e).forEach((n=>{Bv(t,n,e[n])}))}const Cv=Object.defineProperty;function Bv(t,e,n,i){Cv(t,e,wv(n&&Mv(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function Sv(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Bv(t.prototype,"constructor",t),{extend:Lv.bind(null,t.prototype)}}}}const Ev=Object.getOwnPropertyDescriptor;function Tv(t,e){let n;return Ev(t,e)||(n=xv(t))&&Tv(n,e)}const Dv=[].slice;function Iv(t,e,n){return Dv.call(t,e,n)}function Pv(t,e){return e(t)}function kv(t){if(!t)throw new Error("Assertion Failed")}function Fv(t){yv.setImmediate?setImmediate(t):setTimeout(t,0)}function Uv(t,e){return t.reduce(((t,n,i)=>{var r=e(n,i);return r&&(t[r[0]]=r[1]),t}),{})}function Rv(t,e){if("string"==typeof e&&Mv(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],i=0,r=e.length;i<r;++i){var o=Rv(t,e[i]);n.push(o)}return n}var a=e.indexOf(".");if(-1!==a){var s=t[e.substr(0,a)];return null==s?void 0:Rv(s,e.substr(a+1))}}function Ov(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){kv("string"!=typeof n&&"length"in n);for(var i=0,r=e.length;i<r;++i)Ov(t,e[i],n[i])}else{var o=e.indexOf(".");if(-1!==o){var a=e.substr(0,o),s=e.substr(o+1);if(""===s)void 0===n?_v(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var l=t[a];l&&Mv(t,a)||(l=t[a]={}),Ov(l,s,n)}}else void 0===n?_v(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Hv(t){var e={};for(var n in t)Mv(t,n)&&(e[n]=t[n]);return e}const Yv=[].concat;function Qv(t){return Yv.apply([],t)}const jv="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Qv([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>yv[t])),Nv=jv.map((t=>yv[t]));Uv(jv,(t=>[t,!0]));let Wv=null;function Vv(t){Wv="undefined"!=typeof WeakMap&&new WeakMap;const e=zv(t);return Wv=null,e}function zv(t){if(!t||"object"!=typeof t)return t;let e=Wv&&Wv.get(t);if(e)return e;if(_v(t)){e=[],Wv&&Wv.set(t,e);for(var n=0,i=t.length;n<i;++n)e.push(zv(t[n]))}else if(Nv.indexOf(t.constructor)>=0)e=t;else{const n=xv(t);for(var r in e=n===Object.prototype?{}:Object.create(n),Wv&&Wv.set(t,e),t)Mv(t,r)&&(e[r]=zv(t[r]))}return e}const{toString:Gv}={};function Kv(t){return Gv.call(t).slice(8,-1)}const Zv="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Xv="symbol"==typeof Zv?function(t){var e;return null!=t&&(e=t[Zv])&&e.apply(t)}:function(){return null},qv={};function Jv(t){var e,n,i,r;if(1===arguments.length){if(_v(t))return t.slice();if(this===qv&&"string"==typeof t)return[t];if(r=Xv(t)){for(n=[];!(i=r.next()).done;)n.push(i.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const $v="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var t_="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function e_(t,e){t_=t,n_=e}var n_=()=>!0;const i_=!new Error("").stack;function r_(){if(i_)try{throw r_.arguments,new Error}catch(t){return t}return new Error}function o_(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(n_).map((t=>"\n"+t)).join("")):""}var a_=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],s_=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(a_),l_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function c_(t,e){this._e=r_(),this.name=t,this.message=e}function A_(t,e){return t+". Errors: "+Object.keys(e).map((t=>e[t].toString())).filter(((t,e,n)=>n.indexOf(t)===e)).join("\n")}function u_(t,e,n,i){this._e=r_(),this.failures=e,this.failedKeys=i,this.successCount=n,this.message=A_(t,e)}function d_(t,e){this._e=r_(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=A_(t,e)}Sv(c_).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+o_(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Sv(u_).from(c_),Sv(d_).from(c_);var h_=s_.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const p_=c_;var f_=s_.reduce(((t,e)=>{var n=e+"Error";function i(t,i){this._e=r_(),this.name=n,t?"string"==typeof t?(this.message=`${t}${i?"\n "+i:""}`,this.inner=i||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=l_[e]||n,this.inner=null)}return Sv(i).from(p_),t[e]=i,t}),{});f_.Syntax=SyntaxError,f_.Type=TypeError,f_.Range=RangeError;var m_=a_.reduce(((t,e)=>(t[e+"Error"]=f_[e],t)),{}),g_=s_.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=f_[e]),t)),{});function y_(){}function v_(t){return t}function __(t,e){return null==t||t===v_?e:function(n){return e(t(n))}}function w_(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function x_(t,e){return t===y_?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?w_(i,this.onsuccess):i),r&&(this.onerror=this.onerror?w_(r,this.onerror):r),void 0!==o?o:n}}function b_(t,e){return t===y_?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?w_(n,this.onsuccess):n),i&&(this.onerror=this.onerror?w_(i,this.onerror):i)}}function M_(t,e){return t===y_?e:function(n){var i=t.apply(this,arguments);wv(n,i);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?w_(r,this.onsuccess):r),o&&(this.onerror=this.onerror?w_(o,this.onerror):o),void 0===i?void 0===a?void 0:a:wv(i,a)}}function L_(t,e){return t===y_?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function C_(t,e){return t===y_?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return n.then((function(){return e.apply(i,o)}))}return e.apply(this,arguments)}}g_.ModifyError=u_,g_.DexieError=c_,g_.BulkError=d_;var B_={};const[S_,E_,T_]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,xv(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,xv(e),t]})(),D_=E_&&E_.then,I_=S_&&S_.constructor,P_=!!T_;var k_=!1,F_=T_?()=>{T_.then(rw)}:yv.setImmediate?setImmediate.bind(null,rw):yv.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{rw(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(rw,0)},U_=function(t,e){V_.push([t,e]),O_&&(F_(),O_=!1)},R_=!0,O_=!0,H_=[],Y_=[],Q_=null,j_=v_,N_={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ew,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{Ew(t[0],t[1])}catch(t){}}))}},W_=N_,V_=[],z_=0,G_=[];function K_(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=y_,this._lib=!1;var e=this._PSD=W_;if(t_&&(this._stackHolder=r_(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==B_)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&J_(this,this._value))}this._state=null,this._value=null,++e.ref,q_(this,t)}const Z_={get:function(){var t=W_,e=pw;function n(n,i){var r=!t.global&&(t!==W_||e!==pw);const o=r&&!yw();var a=new K_(((e,a)=>{tw(this,new X_(Cw(n,t,r,o),Cw(i,t,r,o),e,a,t))}));return t_&&iw(a,this),a}return n.prototype=B_,n},set:function(t){Bv(this,"then",t&&t.prototype===B_?Z_:{get:function(){return t},set:Z_.set})}};function X_(t,e,n,i,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i,this.psd=r}function q_(t,e){try{e((e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&ow();e&&"function"==typeof e.then?q_(t,((t,n)=>{e instanceof K_?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,$_(t)),n&&aw()}}),J_.bind(null,t))}catch(e){J_(t,e)}}function J_(t,e){if(Y_.push(e),null===t._state){var n=t._lib&&ow();e=j_(e),t._state=!1,t._value=e,t_&&null!==e&&"object"==typeof e&&!e._promise&&function(t){try{t.apply(null,void 0)}catch(t){}}((()=>{var n=Tv(e,"stack");e._promise=t,Bv(e,"stack",{get:()=>k_?n&&(n.get?n.get.apply(e):n.value):t.stack})})),function(t){H_.some((e=>e._value===t._value))||H_.push(t)}(t),$_(t),n&&aw()}}function $_(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)tw(t,e[n]);var r=t._PSD;--r.ref||r.finalize(),0===z_&&(++z_,U_((()=>{0==--z_&&sw()}),[]))}function tw(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++z_,U_(ew,[n,t,e])}else t._listeners.push(e)}function ew(t,e,n){try{Q_=e;var i,r=e._value;e._state?i=t(r):(Y_.length&&(Y_=[]),i=t(r),-1===Y_.indexOf(r)&&function(t){for(var e=H_.length;e;)if(H_[--e]._value===t._value)return void H_.splice(e,1)}(e)),n.resolve(i)}catch(t){n.reject(t)}finally{Q_=null,0==--z_&&sw(),--n.psd.ref||n.psd.finalize()}}function nw(t,e,n){if(e.length===n)return e;var i="";if(!1===t._state){var r,o,a=t._value;null!=a?(r=a.name||"Error",o=a.message||a,i=o_(a,0)):(r=a,o=""),e.push(r+(o?": "+o:"")+i)}return t_&&((i=o_(t._stackHolder,2))&&-1===e.indexOf(i)&&e.push(i),t._prev&&nw(t._prev,e,n)),e}function iw(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function rw(){ow()&&aw()}function ow(){var t=R_;return R_=!1,O_=!1,t}function aw(){var t,e,n;do{for(;V_.length>0;)for(t=V_,V_=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}}while(V_.length>0);R_=!0,O_=!0}function sw(){var t=H_;H_=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)}));for(var e=G_.slice(0),n=e.length;n;)e[--n]()}function lw(t){return new K_(B_,!1,t)}function cw(t,e){var n=W_;return function(){var i=ow(),r=W_;try{return xw(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{xw(r,!1),i&&aw()}}}Lv(K_.prototype,{then:Z_,_then:function(t,e){tw(this,new X_(null,null,t,e,W_))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(t=>t instanceof e?n(t):lw(t))):this.then(null,(t=>t&&t.name===e?n(t):lw(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),lw(e))))},stack:{get:function(){if(this._stack)return this._stack;try{k_=!0;var t=nw(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{k_=!1}}},timeout:function(t,e){return t<1/0?new K_(((n,i)=>{var r=setTimeout((()=>i(new f_.Timeout(e))),t);this.then(n,i).finally(clearTimeout.bind(null,r))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Bv(K_.prototype,Symbol.toStringTag,"Dexie.Promise"),N_.env=bw(),Lv(K_,{all:function(){var t=Jv.apply(null,arguments).map(vw);return new K_((function(e,n){0===t.length&&e([]);var i=t.length;t.forEach(((r,o)=>K_.resolve(r).then((n=>{t[o]=n,--i||e(t)}),n)))}))},resolve:t=>{if(t instanceof K_)return t;if(t&&"function"==typeof t.then)return new K_(((e,n)=>{t.then(e,n)}));var e=new K_(B_,!0,t);return iw(e,Q_),e},reject:lw,race:function(){var t=Jv.apply(null,arguments).map(vw);return new K_(((e,n)=>{t.map((t=>K_.resolve(t).then(e,n)))}))},PSD:{get:()=>W_,set:t=>W_=t},totalEchoes:{get:()=>pw},newPSD:mw,usePSD:Mw,scheduler:{get:()=>U_,set:t=>{U_=t}},rejectionMapper:{get:()=>j_,set:t=>{j_=t}},follow:(t,e)=>new K_(((n,i)=>mw(((e,n)=>{var i=W_;i.unhandleds=[],i.onunhandled=n,i.finalize=w_((function(){!function(t){G_.push((function e(){t(),G_.splice(G_.indexOf(e),1)})),++z_,U_((()=>{0==--z_&&sw()}),[])}((()=>{0===this.unhandleds.length?e():n(this.unhandleds[0])}))}),i.finalize),t()}),e,n,i)))}),I_&&(I_.allSettled&&Bv(K_,"allSettled",(function(){const t=Jv.apply(null,arguments).map(vw);return new K_((e=>{0===t.length&&e([]);let n=t.length;const i=new Array(n);t.forEach(((t,r)=>K_.resolve(t).then((t=>i[r]={status:"fulfilled",value:t}),(t=>i[r]={status:"rejected",reason:t})).then((()=>--n||e(i)))))}))})),I_.any&&"undefined"!=typeof AggregateError&&Bv(K_,"any",(function(){const t=Jv.apply(null,arguments).map(vw);return new K_(((e,n)=>{0===t.length&&n(new AggregateError([]));let i=t.length;const r=new Array(i);t.forEach(((t,o)=>K_.resolve(t).then((t=>e(t)),(t=>{r[o]=t,--i||n(new AggregateError(r))}))))}))})));const Aw={awaits:0,echoes:0,id:0};var uw=0,dw=[],hw=0,pw=0,fw=0;function mw(t,e,n,i){var r=W_,o=Object.create(r);o.parent=r,o.ref=0,o.global=!1,o.id=++fw;var a=N_.env;o.env=P_?{Promise:K_,PromiseProp:{value:K_,configurable:!0,writable:!0},all:K_.all,race:K_.race,allSettled:K_.allSettled,any:K_.any,resolve:K_.resolve,reject:K_.reject,nthen:Bw(a.nthen,o),gthen:Bw(a.gthen,o)}:{},e&&wv(o,e),++r.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Mw(o,t,n,i);return 0===o.ref&&o.finalize(),s}function gw(){return Aw.id||(Aw.id=++uw),++Aw.awaits,Aw.echoes+=100,Aw.id}function yw(){return!!Aw.awaits&&(0==--Aw.awaits&&(Aw.id=0),Aw.echoes=100*Aw.awaits,!0)}function vw(t){return Aw.echoes&&t&&t.constructor===I_?(gw(),t.then((t=>(yw(),t)),(t=>(yw(),Tw(t))))):t}function _w(t){++pw,Aw.echoes&&0!=--Aw.echoes||(Aw.echoes=Aw.id=0),dw.push(W_),xw(t,!0)}function ww(){var t=dw[dw.length-1];dw.pop(),xw(t,!1)}function xw(t,e){var n=W_;if((e?!Aw.echoes||hw++&&t===W_:!hw||--hw&&t===W_)||Lw(e?_w.bind(null,t):ww),t!==W_&&(W_=t,n===N_&&(N_.env=bw()),P_)){var i=N_.env.Promise,r=t.env;E_.then=r.nthen,i.prototype.then=r.gthen,(n.global||t.global)&&(Object.defineProperty(yv,"Promise",r.PromiseProp),i.all=r.all,i.race=r.race,i.resolve=r.resolve,i.reject=r.reject,r.allSettled&&(i.allSettled=r.allSettled),r.any&&(i.any=r.any))}}function bw(){var t=yv.Promise;return P_?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(yv,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:E_.then,gthen:t.prototype.then}:{}}function Mw(t,e,n,i,r){var o=W_;try{return xw(t,!0),e(n,i,r)}finally{xw(o,!1)}}function Lw(t){D_.call(S_,t)}function Cw(t,e,n,i){return"function"!=typeof t?t:function(){var r=W_;n&&gw(),xw(e,!0);try{return t.apply(this,arguments)}finally{xw(r,!1),i&&Lw(yw)}}}function Bw(t,e){return function(n,i){return t.call(this,Cw(n,e),Cw(i,e))}}-1===(""+D_).indexOf("[native code]")&&(gw=yw=y_);const Sw="unhandledrejection";function Ew(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var i,r={promise:e,reason:t};if(yv.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(Sw,!0,!0),wv(i,r)):yv.CustomEvent&&wv(i=new CustomEvent(Sw,{detail:r}),r),i&&yv.dispatchEvent&&(dispatchEvent(i),!yv.PromiseRejectionEvent&&yv.onunhandledrejection))try{yv.onunhandledrejection(i)}catch(t){}t_&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(t){}}var Tw=K_.reject;function Dw(t,e,n,i){if(t.idbdb&&(t._state.openComplete||W_.letThrough||t._vip)){var r=t._createTransaction(e,n,t._dbSchema);try{r.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===h_.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>Dw(t,e,n,i)))):Tw(r)}return r._promise(e,((t,e)=>mw((()=>(W_.trans=r,i(t,e,r)))))).then((t=>r._completion.then((()=>t))))}if(t._state.openComplete)return Tw(new f_.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Tw(new f_.DatabaseClosed);t.open().catch(y_)}return t._state.dbReadyPromise.then((()=>Dw(t,e,n,i)))}const Iw="3.2.7",Pw=String.fromCharCode(65535),kw=-1/0,Fw="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uw="String expected.",Rw=[],Ow="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Hw=Ow,Yw=Ow,Qw=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),jw="__dbnames",Nw="readonly",Ww="readwrite";function Vw(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const zw={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Gw(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=Vv(e))[t],e)}class Kw{_trans(t,e,n){const i=this._tx||W_.trans,r=this.name;function o(t,n,i){if(!i.schema[r])throw new f_.NotFound("Table "+r+" not part of transaction");return e(i.idbtrans,i)}const a=ow();try{return i&&i.db===this.db?i===W_.trans?i._promise(t,o,n):mw((()=>i._promise(t,o,n)),{trans:i,transless:W_.transless||W_}):Dw(this.db,t,[this.name],o)}finally{a&&aw()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(_v(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=vv(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((t=>{if(t.compound&&e.every((e=>t.keyPath.indexOf(e)>=0))){for(let n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1})).sort(((t,e)=>t.keyPath.length-e.keyPath.length))[0];if(n&&this.db._maxKey!==Pw){const i=n.keyPath.slice(0,e.length);return this.where(i).equals(i.map((e=>t[e])))}!n&&t_&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:i}=this.schema,r=this.db._deps.indexedDB;function o(t,e){try{return 0===r.cmp(t,e)}catch(t){return!1}}const[a,s]=e.reduce((([e,n],r)=>{const a=i[r],s=t[r];return[e||a,e||!a?Vw(n,a&&a.multi?t=>{const e=Rv(t,r);return _v(e)&&e.some((t=>o(s,t)))}:t=>o(s,Rv(t,r))):n]}),[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(s):n?this.filter(s):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,_v(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const n=Object.create(t.prototype);for(var i in e)if(Mv(e,i))try{n[i]=e[i]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){wv(this,t)}))}add(t,e){const{auto:n,keyPath:i}=this.schema.primKey;let r=t;return i&&n&&(r=Gw(i)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[r]}))).then((t=>t.numFailures?K_.reject(t.failures[0]):t.lastResult)).then((e=>{if(i)try{Ov(t,i,e)}catch(t){}return e}))}update(t,e){if("object"!=typeof t||_v(t))return this.where(":id").equals(t).modify(e);{const n=Rv(t,this.schema.primKey.keyPath);if(void 0===n)return Tw(new f_.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?vv(e).forEach((n=>{Ov(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}}put(t,e){const{auto:n,keyPath:i}=this.schema.primKey;let r=t;return i&&n&&(r=Gw(i)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[r],keys:null!=e?[e]:null}))).then((t=>t.numFailures?K_.reject(t.failures[0]):t.lastResult)).then((e=>{if(i)try{Ov(t,i,e)}catch(t){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?K_.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:zw}))).then((t=>t.numFailures?K_.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,n){const i=Array.isArray(e)?e:void 0,r=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&i)throw new f_.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new f_.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let s=o&&n?t.map(Gw(o)):t;return this.core.mutate({trans:e,type:"add",keys:i,values:s,wantResults:r}).then((({numFailures:t,results:e,lastResult:n,failures:i})=>{if(0===t)return r?e:n;throw new d_(`${this.name}.bulkAdd(): ${t} of ${a} operations failed`,i)}))}))}bulkPut(t,e,n){const i=Array.isArray(e)?e:void 0,r=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&i)throw new f_.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new f_.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let s=o&&n?t.map(Gw(o)):t;return this.core.mutate({trans:e,type:"put",keys:i,values:s,wantResults:r}).then((({numFailures:t,results:e,lastResult:n,failures:i})=>{if(0===t)return r?e:n;throw new d_(`${this.name}.bulkPut(): ${t} of ${a} operations failed`,i)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:n,failures:i})=>{if(0===t)return n;throw new d_(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,i)}))}}function Zw(t){var e={},n=function(n,i){if(i){for(var r=arguments.length,o=new Array(r-1);--r;)o[r-1]=arguments[r];return e[n].subscribe.apply(null,o),t}if("string"==typeof n)return e[n]};n.addEventType=o;for(var i=1,r=arguments.length;i<r;++i)o(arguments[i]);return n;function o(t,i,r){if("object"!=typeof t){var a;i||(i=L_),r||(r=y_);var s={subscribers:[],fire:r,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=i(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter((function(e){return e!==t})),s.fire=s.subscribers.reduce(i,r)}};return e[t]=n[t]=s,s}vv(a=t).forEach((function(t){var e=a[t];if(_v(e))o(t,a[t][0],a[t][1]);else{if("asap"!==e)throw new f_.InvalidArgument("Invalid event config");var n=o(t,v_,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){Fv((function(){t.apply(null,e)}))}))}))}}))}}function Xw(t,e){return Sv(e).from({prototype:t}),e}function qw(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Jw(t,e){t.filter=Vw(t.filter,e)}function $w(t,e,n){var i=t.replayFilter;t.replayFilter=i?()=>Vw(i(),e()):e,t.justLimit=n&&!i}function tx(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new f_.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function ex(t,e,n){const i=tx(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:i,range:t.range}})}function nx(t,e,n,i){const r=t.replayFilter?Vw(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(t,n,i)=>{if(!r||r(n,i,(t=>n.stop(t)),(t=>n.fail(t)))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),Mv(o,s)||(o[s]=!0,e(t,n,i))}};return Promise.all([t.or._iterate(a,n),ix(ex(t,i,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return ix(ex(t,i,n),Vw(t.algorithm,r),e,!t.keysOnly&&t.valueMapper)}function ix(t,e,n,i){var r=i?(t,e,r)=>n(i(t),e,r):n,o=cw(r);return t.then((t=>{if(t)return t.start((()=>{var n=()=>t.continue();e&&!e(t,(t=>n=t),(e=>{t.stop(e),n=y_}),(e=>{t.fail(e),n=y_}))||o(t.value,t,(t=>n=t)),n()}))}))}function rx(t,e){try{const n=ox(t),i=ox(e);if(n!==i)return"Array"===n?1:"Array"===i?-1:"binary"===n?1:"binary"===i?-1:"string"===n?1:"string"===i?-1:"Date"===n?1:"Date"!==i?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const n=t.length,i=e.length,r=n<i?n:i;for(let n=0;n<r;++n)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return n===i?0:n<i?-1:1}(ax(t),ax(e));case"Array":return function(t,e){const n=t.length,i=e.length,r=n<i?n:i;for(let n=0;n<r;++n){const i=rx(t[n],e[n]);if(0!==i)return i}return n===i?0:n<i?-1:1}(t,e)}}catch(t){}return NaN}function ox(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const n=Kv(t);return"ArrayBuffer"===n?"binary":n}function ax(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class sx{_read(t,e){var n=this._ctx;return n.error?n.table._trans(null,Tw.bind(null,n.error)):n.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,Tw.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Vw(e.algorithm,t)}_iterate(t,e){return nx(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&wv(n,t),e._ctx=n,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((n=>nx(e,t,n,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx,n=e.table.core;if(qw(e,!0))return n.count({trans:t,query:{index:tx(e,n.schema),range:e.range}}).then((t=>Math.min(t,e.limit)));var i=0;return nx(e,(()=>(++i,!1)),t,n).then((()=>i))})).then(t)}sortBy(t,e){const n=t.split(".").reverse(),i=n[0],r=n.length-1;function o(t,e){return e?o(t[n[e]],e-1):t[i]}var a="next"===this._ctx.dir?1:-1;function s(t,e){var n=o(t,r),i=o(e,r);return n<i?-a:n>i?a:0}return this.toArray((function(t){return t.sort(s)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&qw(e,!0)&&e.limit>0){const{valueMapper:n}=e,i=tx(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:i,range:e.range}}).then((({result:t})=>n?t.map(n):t))}{const n=[];return nx(e,(t=>n.push(t)),t,e.table.core).then((()=>n))}}),t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,qw(e)?$w(e,(()=>{var e=t;return(t,n)=>0===e||(1===e?(--e,!1):(n((()=>{t.advance(e),e=0})),!1))})):$w(e,(()=>{var e=t;return()=>--e<0}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),$w(this._ctx,(()=>{var e=t;return function(t,n,i){return--e<=0&&n(i),e>=0}}),!0),this}until(t,e){return Jw(this._ctx,(function(n,i,r){return!t(n.value)||(i(r),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,n;return Jw(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Vw(e.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&qw(e,!0)&&e.limit>0)return this._read((t=>{var n=tx(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Jw(this._ctx,(function(t){var e=t.primaryKey.toString(),i=Mv(n,e);return n[e]=!0,!i})),this}modify(t){var e=this._ctx;return this._write((n=>{var i;if("function"==typeof t)i=t;else{var r=vv(t),o=r.length;i=function(e){for(var n=!1,i=0;i<o;++i){var a=r[i],s=t[a];Rv(e,a)!==s&&(Ov(e,a,s),n=!0)}return n}}const a=e.table.core,{outbound:s,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,A=[];let u=0;const d=[],h=(t,e)=>{const{failures:n,numFailures:i}=e;u+=t-i;for(let t of vv(n))A.push(n[t])};return this.clone().primaryKeys().then((r=>{const o=A=>{const u=Math.min(c,r.length-A);return a.getMany({trans:n,keys:r.slice(A,A+u),cache:"immutable"}).then((d=>{const p=[],f=[],m=s?[]:null,g=[];for(let t=0;t<u;++t){const e=d[t],n={value:Vv(e),primKey:r[A+t]};!1!==i.call(n,n.value,n)&&(null==n.value?g.push(r[A+t]):s||0===rx(l(e),l(n.value))?(f.push(n.value),s&&m.push(r[A+t])):(g.push(r[A+t]),p.push(n.value)))}const y=qw(e)&&e.limit===1/0&&("function"!=typeof t||t===lx)&&{index:e.index,range:e.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((t=>{for(let e in t.failures)g.splice(parseInt(e),1);h(p.length,t)}))).then((()=>(f.length>0||y&&"object"==typeof t)&&a.mutate({trans:n,type:"put",keys:m,values:f,criteria:y,changeSpec:"function"!=typeof t&&t}).then((t=>h(f.length,t))))).then((()=>(g.length>0||y&&t===lx)&&a.mutate({trans:n,type:"delete",keys:g,criteria:y}).then((t=>h(g.length,t))))).then((()=>r.length>A+u&&o(A+c)))}))};return o(0).then((()=>{if(A.length>0)throw new u_("Error modifying one or more objects",A,u,d);return r.length}))}))}))}delete(){var t=this._ctx,e=t.range;return qw(t)&&(t.isPrimKey&&!Yw||3===e.type)?this._write((n=>{const{primaryKey:i}=t.table.core.schema,r=e;return t.table.core.count({trans:n,query:{index:i,range:r}}).then((e=>t.table.core.mutate({trans:n,type:"deleteRange",range:r}).then((({failures:t,lastResult:n,results:i,numFailures:r})=>{if(r)throw new u_("Could not delete some values",Object.keys(t).map((e=>t[e])),e-r);return e-r}))))})):this.modify(lx)}}const lx=(t,e)=>e.value=null;function cx(t,e){return t<e?-1:t===e?0:1}function Ax(t,e){return t>e?-1:t===e?0:1}function ux(t,e,n){var i=t instanceof gx?new t.Collection(t):t;return i._ctx.error=n?new n(e):new TypeError(e),i}function dx(t){return new t.Collection(t,(()=>mx(""))).limit(0)}function hx(t,e,n,i,r,o){for(var a=Math.min(t.length,i.length),s=-1,l=0;l<a;++l){var c=e[l];if(c!==i[l])return r(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):r(t[l],i[l])<0?t.substr(0,l)+i[l]+n.substr(l+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;r(t[l],c)<0&&(s=l)}return a<i.length&&"next"===o?t+n.substr(t.length):a<t.length&&"prev"===o?t.substr(0,n.length):s<0?null:t.substr(0,s)+i[s]+n.substr(s+1)}function px(t,e,n,i){var r,o,a,s,l,c,A,u=n.length;if(!n.every((t=>"string"==typeof t)))return ux(t,Uw);function d(t){r=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),o=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),a="next"===t?cx:Ax;var e=n.map((function(t){return{lower:o(t),upper:r(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));s=e.map((function(t){return t.upper})),l=e.map((function(t){return t.lower})),c=t,A="next"===t?"":i}d("next");var h=new t.Collection(t,(()=>fx(s[0],l[u-1]+i)));h._ondirectionchange=function(t){d(t)};var p=0;return h._addAlgorithm((function(t,n,i){var r=t.key;if("string"!=typeof r)return!1;var d=o(r);if(e(d,l,p))return!0;for(var h=null,f=p;f<u;++f){var m=hx(r,d,s[f],l[f],a,c);null===m&&null===h?p=f+1:(null===h||a(h,m)>0)&&(h=m)}return n(null!==h?function(){t.continue(h+A)}:i),!1})),h}function fx(t,e,n,i){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:i}}function mx(t){return{type:1,lower:t,upper:t}}class gx{get Collection(){return this._ctx.table.db.Collection}between(t,e,n,i){n=!1!==n,i=!0===i;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||i)&&(!n||!i)?dx(this):new this.Collection(this,(()=>fx(t,e,!n,!i)))}catch(t){return ux(this,Fw)}}equals(t){return null==t?ux(this,Fw):new this.Collection(this,(()=>mx(t)))}above(t){return null==t?ux(this,Fw):new this.Collection(this,(()=>fx(t,void 0,!0)))}aboveOrEqual(t){return null==t?ux(this,Fw):new this.Collection(this,(()=>fx(t,void 0,!1)))}below(t){return null==t?ux(this,Fw):new this.Collection(this,(()=>fx(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?ux(this,Fw):new this.Collection(this,(()=>fx(void 0,t)))}startsWith(t){return"string"!=typeof t?ux(this,Uw):this.between(t,t+Pw,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):px(this,((t,e)=>0===t.indexOf(e[0])),[t],Pw)}equalsIgnoreCase(t){return px(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=Jv.apply(qv,arguments);return 0===t.length?dx(this):px(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=Jv.apply(qv,arguments);return 0===t.length?dx(this):px(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,Pw)}anyOf(){const t=Jv.apply(qv,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return ux(this,Fw)}if(0===t.length)return dx(this);const n=new this.Collection(this,(()=>fx(t[0],t[t.length-1])));n._ondirectionchange=n=>{e="next"===n?this._ascending:this._descending,t.sort(e)};let i=0;return n._addAlgorithm(((n,r,o)=>{const a=n.key;for(;e(a,t[i])>0;)if(++i,i===t.length)return r(o),!1;return 0===e(a,t[i])||(r((()=>{n.continue(t[i])})),!1)})),n}notEqual(t){return this.inAnyRange([[kw,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Jv.apply(qv,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return ux(this,Fw)}const e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[kw,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const n=this._cmp,i=this._ascending,r=this._descending,o=this._min,a=this._max;if(0===t.length)return dx(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&i(t[0],t[1])<=0)))return ux(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",f_.InvalidArgument);const s=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers;let c,A=i;function u(t,e){return A(t[0],e[0])}try{c=t.reduce((function(t,e){let i=0,r=t.length;for(;i<r;++i){const r=t[i];if(n(e[0],r[1])<0&&n(e[1],r[0])>0){r[0]=o(r[0],e[0]),r[1]=a(r[1],e[1]);break}}return i===r&&t.push(e),t}),[]),c.sort(u)}catch(t){return ux(this,Fw)}let d=0;const h=l?t=>i(t,c[d][1])>0:t=>i(t,c[d][1])>=0,p=s?t=>r(t,c[d][0])>0:t=>r(t,c[d][0])>=0;let f=h;const m=new this.Collection(this,(()=>fx(c[0][0],c[c.length-1][1],!s,!l)));return m._ondirectionchange=t=>{"next"===t?(f=h,A=i):(f=p,A=r),c.sort(u)},m._addAlgorithm(((t,e,n)=>{for(var r=t.key;f(r);)if(++d,d===c.length)return e(n),!1;return!!function(t){return!h(t)&&!p(t)}(r)||(0===this._cmp(r,c[d][1])||0===this._cmp(r,c[d][0])||e((()=>{A===i?t.continue(c[d][0]):t.continue(c[d][1])})),!1)})),m}startsWithAnyOf(){const t=Jv.apply(qv,arguments);return t.every((t=>"string"==typeof t))?0===t.length?dx(this):this.inAnyRange(t.map((t=>[t,t+Pw]))):ux(this,"startsWithAnyOf() only works with strings")}}function yx(t){return cw((function(e){return vx(e),t(e.target.error),!1}))}function vx(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const _x="storagemutated",wx="x-storagemutated-1",xx=Zw(null,_x);class bx{_lock(){return kv(!W_.global),++this._reculock,1!==this._reculock||W_.global||(W_.lockOwnerFor=this),this}_unlock(){if(kv(!W_.global),0==--this._reculock)for(W_.global||(W_.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Mw(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&W_.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,n=this.db._state.dbOpenError;if(kv(!this.idbtrans),!t&&!e)switch(n&&n.name){case"DatabaseClosedError":throw new f_.DatabaseClosed(n);case"MissingAPIError":throw new f_.MissingAPI(n.message,n);default:throw new f_.OpenFailed(n)}if(!this.active)throw new f_.TransactionInactive;return kv(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=cw((e=>{vx(e),this._reject(t.error)})),t.onabort=cw((e=>{vx(e),this.active&&this._reject(new f_.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=cw((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&xx.storagemutated.fire(t.mutatedParts)})),this}_promise(t,e,n){if("readwrite"===t&&"readwrite"!==this.mode)return Tw(new f_.ReadOnly("Transaction is readonly"));if(!this.active)return Tw(new f_.TransactionInactive);if(this._locked())return new K_(((i,r)=>{this._blockedFuncs.push([()=>{this._promise(t,e,n).then(i,r)},W_])}));if(n)return mw((()=>{var t=new K_(((t,n)=>{this._lock();const i=e(t,n,this);i&&i.then&&i.then(t,n)}));return t.finally((()=>this._unlock())),t._lib=!0,t}));var i=new K_(((t,n)=>{var i=e(t,n,this);i&&i.then&&i.then(t,n)}));return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const n=K_.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((()=>n));else{e._waitingFor=n,e._waitingQueue=[];var i=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(i.get(-1/0).onsuccess=t)}()}var r=e._waitingFor;return new K_(((t,i)=>{n.then((n=>e._waitingQueue.push(cw(t.bind(null,n)))),(t=>e._waitingQueue.push(cw(i.bind(null,t))))).finally((()=>{e._waitingFor===r&&(e._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new f_.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(Mv(e,t))return e[t];const n=this.schema[t];if(!n)throw new f_.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),e[t]=i,i}}function Mx(t,e,n,i,r,o,a){return{name:t,keyPath:e,unique:n,multi:i,auto:r,compound:o,src:(n&&!a?"&":"")+(i?"*":"")+(r?"++":"")+Lx(e)}}function Lx(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Cx(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Uv(n,(t=>[t.name,t]))}}let Bx=t=>{try{return t.only([[]]),Bx=()=>[[]],[[]]}catch(t){return Bx=()=>Pw,Pw}};function Sx(t){return null==t?()=>{}:"string"==typeof t?function(t){return 1===t.split(".").length?e=>e[t]:e=>Rv(e,t)}(t):e=>Rv(e,t)}function Ex(t){return[].slice.call(t)}let Tx=0;function Dx(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function Ix({_novip:t},e){const n=e.db,i=function(t,e,{IDBKeyRange:n,indexedDB:i},r){const o=function(t,e){return e.reduce(((t,{create:e})=>({...t,...e(t)})),t)}(function(t,e,n){function i(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:i,lowerOpen:r,upperOpen:o}=t;return void 0===n?void 0===i?null:e.upperBound(i,!!o):void 0===i?e.lowerBound(n,!!r):e.bound(n,i,!!r,!!o)}const{schema:r,hasGetAll:o}=function(t,e){const n=Ex(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((t=>e.objectStore(t))).map((t=>{const{keyPath:e,autoIncrement:n}=t,i=_v(e),r=null==e,o={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:r,compound:i,keyPath:e,autoIncrement:n,unique:!0,extractKey:Sx(e)},indexes:Ex(t.indexNames).map((e=>t.index(e))).map((t=>{const{name:e,unique:n,multiEntry:i,keyPath:r}=t,a={name:e,compound:_v(r),keyPath:r,unique:n,multiEntry:i,extractKey:Sx(r)};return o[Dx(r)]=a,a})),getIndexByKeyPath:t=>o[Dx(t)]};return o[":id"]=a.primaryKey,null!=e&&(o[Dx(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=r.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:n,keys:r,values:o,range:a}){return new Promise(((s,l)=>{s=cw(s);const c=t.objectStore(e),A=null==c.keyPath,u="put"===n||"add"===n;if(!u&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=r||o||{length:1};if(r&&o&&r.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const p=[],f=[];let m=0;const g=t=>{++m,vx(t)};if("deleteRange"===n){if(4===a.type)return s({numFailures:m,failures:f,results:[],lastResult:void 0});3===a.type?p.push(h=c.clear()):p.push(h=c.delete(i(a)))}else{const[t,e]=u?A?[o,r]:[o,null]:[r,null];if(u)for(let i=0;i<d;++i)p.push(h=e&&void 0!==e[i]?c[n](t[i],e[i]):c[n](t[i])),h.onerror=g;else for(let e=0;e<d;++e)p.push(h=c[n](t[e])),h.onerror=g}const y=t=>{const e=t.target.result;p.forEach(((t,e)=>null!=t.error&&(f[e]=t.error))),s({numFailures:m,failures:f,results:"delete"===n?r:p.map((t=>t.result)),lastResult:e})};h.onerror=t=>{g(t),y(t)},h.onsuccess=y}))},getMany:({trans:t,keys:n})=>new Promise(((i,r)=>{i=cw(i);const o=t.objectStore(e),a=n.length,s=new Array(a);let l,c=0,A=0;const u=t=>{const e=t.target;s[e._pos]=e.result,++A===c&&i(s)},d=yx(r);for(let t=0;t<a;++t)null!=n[t]&&(l=o.get(n[t]),l._pos=t,l.onsuccess=u,l.onerror=d,++c);0===c&&i(s)})),get:({trans:t,key:n})=>new Promise(((i,r)=>{i=cw(i);const o=t.objectStore(e).get(n);o.onsuccess=t=>i(t.target.result),o.onerror=yx(r)})),query:function(t){return n=>new Promise(((r,o)=>{r=cw(r);const{trans:a,values:s,limit:l,query:c}=n,A=l===1/0?void 0:l,{index:u,range:d}=c,h=a.objectStore(e),p=u.isPrimaryKey?h:h.index(u.name),f=i(d);if(0===l)return r({result:[]});if(t){const t=s?p.getAll(f,A):p.getAllKeys(f,A);t.onsuccess=t=>r({result:t.target.result}),t.onerror=yx(o)}else{let t=0;const e=s||!("openKeyCursor"in p)?p.openCursor(f):p.openKeyCursor(f),n=[];e.onsuccess=i=>{const o=e.result;return o?(n.push(s?o.value:o.primaryKey),++t===l?r({result:n}):void o.continue()):r({result:n})},e.onerror=yx(o)}}))}(o),openCursor:function({trans:t,values:n,query:r,reverse:o,unique:a}){return new Promise(((s,l)=>{s=cw(s);const{index:c,range:A}=r,u=t.objectStore(e),d=c.isPrimaryKey?u:u.index(c.name),h=o?a?"prevunique":"prev":a?"nextunique":"next",p=n||!("openKeyCursor"in d)?d.openCursor(i(A),h):d.openKeyCursor(i(A),h);p.onerror=yx(l),p.onsuccess=cw((e=>{const n=p.result;if(!n)return void s(null);n.___id=++Tx,n.done=!1;const i=n.continue.bind(n);let r=n.continuePrimaryKey;r&&(r=r.bind(n));const o=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=t,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=cw(l),n.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},n.start=t=>{const e=new Promise(((t,e)=>{t=cw(t),p.onerror=yx(e),n.fail=e,n.stop=e=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,t(e)}})),s=()=>{if(p.result)try{t()}catch(t){n.fail(t)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=cw((t=>{p.onsuccess=s,s()})),n.continue=i,n.continuePrimaryKey=r,n.advance=o,s(),e},s(n)}),l)}))},count({query:t,trans:n}){const{index:r,range:o}=t;return new Promise(((t,a)=>{const s=n.objectStore(e),l=r.isPrimaryKey?s:s.index(r.name),c=i(o),A=c?l.count(c):l.count();A.onsuccess=cw((e=>t(e.target.result))),A.onerror=yx(a)}))}}}(t))),s={};return a.forEach((t=>s[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!s[t])throw new Error(`Table '${t}' not found`);return s[t]},MIN_KEY:-1/0,MAX_KEY:Bx(e),schema:r}}(e,n,r),t.dbcore);return{dbcore:o}}(t._middlewares,n,t._deps,e);t.core=i.dbcore,t.tables.forEach((e=>{const n=e.name;t.core.schema.tables.some((t=>t.name===n))&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))}))}function Px({_novip:t},e,n,i){n.forEach((n=>{const r=i[n];e.forEach((e=>{const i=Tv(e,n);(!i||"value"in i&&void 0===i.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?Bv(e,n,{get(){return this.table(n)},set(t){Cv(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,r))}))}))}function kx({_novip:t},e){e.forEach((e=>{for(let n in e)e[n]instanceof t.Table&&delete e[n]}))}function Fx(t,e){return t._cfg.version-e._cfg.version}function Ux(t,e){const n={del:[],add:[],change:[]};let i;for(i in t)e[i]||n.del.push(i);for(i in e){const r=t[i],o=e[i];if(r){const t={name:i,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||r.primKey.auto!==o.primKey.auto&&!Ow)t.recreate=!0,n.change.push(t);else{const e=r.idxByName,i=o.idxByName;let a;for(a in e)i[a]||t.del.push(a);for(a in i){const n=e[a],r=i[a];n?n.src!==r.src&&t.change.push(r):t.add.push(r)}(t.del.length>0||t.add.length>0||t.change.length>0)&&n.change.push(t)}}else n.add.push([i,o])}return n}function Rx(t,e,n,i){const r=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach((t=>Ox(r,t))),r}function Ox(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Hx(t,e,n){const i={};return Iv(e.objectStoreNames,0).forEach((t=>{const e=n.objectStore(t);let r=e.keyPath;const o=Mx(Lx(r),r||"",!1,!1,!!e.autoIncrement,r&&"string"!=typeof r,!0),a=[];for(let t=0;t<e.indexNames.length;++t){const n=e.index(e.indexNames[t]);r=n.keyPath;var s=Mx(n.name,r,!!n.unique,!!n.multiEntry,!1,r&&"string"!=typeof r,!1);a.push(s)}i[t]=Cx(t,o,a)})),i}function Yx({_novip:t},e,n){const i=n.db.objectStoreNames;for(let r=0;r<i.length;++r){const o=i[r],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(let t=0;t<a.indexNames.length;++t){const n=a.indexNames[t],i=a.index(n).keyPath,r="string"==typeof i?i:"["+Iv(i).join("+")+"]";if(e[o]){const t=e[o].idxByName[r];t&&(t.name=n,delete e[o].idxByName[r],e[o].idxByName[n]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&yv.WorkerGlobalScope&&yv instanceof yv.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Qx{_parseStoresSpec(t,e){vv(t).forEach((n=>{if(null!==t[n]){var i=t[n].split(",").map(((t,e)=>{const n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Mx(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),_v(i),0===e)})),r=i.shift();if(r.multi)throw new f_.Schema("Primary key cannot be multi-valued");i.forEach((t=>{if(t.auto)throw new f_.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new f_.Schema("Index must have a name and cannot be an empty string")})),e[n]=Cx(n,r,i)}}))}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?wv(this._cfg.storesSource,t):t;const n=e._versions,i={};let r={};return n.forEach((t=>{wv(i,t._cfg.storesSource),r=t._cfg.dbschema={},t._parseStoresSpec(i,r)})),e._dbSchema=r,kx(e,[e._allTables,e,e.Transaction.prototype]),Px(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],vv(r),r),e._storeNames=vv(r),this}upgrade(t){return this._cfg.contentUpgrade=C_(this._cfg.contentUpgrade||y_,t),this}}function jx(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Ab(jw,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Nx(t){return t&&"function"==typeof t.databases}function Wx(t){return mw((function(){return W_.letThrough=!0,t()}))}function Vx(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function zx(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?Tw(e.dbOpenError):t));t_&&(e.openCanceller._stackHolder=r_()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const i=e.openCanceller;function r(){if(e.openCanceller!==i)throw new f_.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,s=!1;const l=()=>new K_(((i,o)=>{if(r(),!n)throw new f_.MissingAPI;const l=t.name,c=e.autoSchema?n.open(l):n.open(l,Math.round(10*t.verno));if(!c)throw new f_.MissingAPI;c.onerror=yx(o),c.onblocked=cw(t._fireOnBlocked),c.onupgradeneeded=cw((i=>{if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=vx,a.abort(),c.result.close();const t=n.deleteDatabase(l);t.onsuccess=t.onerror=cw((()=>{o(new f_.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=yx(o);var r=i.oldVersion>Math.pow(2,62)?0:i.oldVersion;s=r<1,t._novip.idbdb=c.result,function(t,e,n,i){const r=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,r);o.create(n),o._completion.catch(i);const a=o._reject.bind(o),s=W_.transless||W_;mw((()=>{W_.trans=o,W_.transless=s,0===e?(vv(r).forEach((t=>{Rx(n,t,r[t].primKey,r[t].indexes)})),Ix(t,n),K_.follow((()=>t.on.populate.fire(o))).catch(a)):function({_novip:t},e,n,i){const r=[],o=t._versions;let a=t._dbSchema=Hx(0,t.idbdb,i),s=!1;const l=o.filter((t=>t._cfg.version>=e));return l.forEach((o=>{r.push((()=>{const r=a,l=o._cfg.dbschema;Yx(t,r,i),Yx(t,l,i),a=t._dbSchema=l;const c=Ux(r,l);c.add.forEach((t=>{Rx(i,t[0],t[1].primKey,t[1].indexes)})),c.change.forEach((t=>{if(t.recreate)throw new f_.Upgrade("Not yet support for changing primary key");{const e=i.objectStore(t.name);t.add.forEach((t=>Ox(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),Ox(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const A=o._cfg.contentUpgrade;if(A&&o._cfg.version>e){Ix(t,i),n._memoizedTables={},s=!0;let e=Hv(l);c.del.forEach((t=>{e[t]=r[t]})),kx(t,[t.Transaction.prototype]),Px(t,[t.Transaction.prototype],vv(e),e),n.schema=e;const o=$v(A);let a;o&&gw();const u=K_.follow((()=>{if(a=A(n),a&&o){var t=yw.bind(null,null);a.then(t,t)}}));return a&&"function"==typeof a.then?K_.resolve(a):u.then((()=>a))}})),r.push((e=>{s&&Hw||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((n=>null==t[n]&&e.db.deleteObjectStore(n)))}(o._cfg.dbschema,e),kx(t,[t.Transaction.prototype]),Px(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema}))})),function t(){return r.length?K_.resolve(r.shift()(n.idbtrans)).then(t):K_.resolve()}().then((()=>{var t,e;e=i,vv(t=a).forEach((n=>{e.db.objectStoreNames.contains(n)||Rx(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,o,n).catch(a)}))}(t,r/10,a,o)}}),o),c.onsuccess=cw((()=>{a=null;const n=t._novip.idbdb=c.result,r=Iv(n.objectStoreNames);if(r.length>0)try{const i=n.transaction(1===(o=r).length?o[0]:o,"readonly");e.autoSchema?function({_novip:t},e,n){t.verno=e.version/10;const i=t._dbSchema=Hx(0,e,n);t._storeNames=Iv(e.objectStoreNames,0),Px(t,[t._allTables],vv(i),i)}(t,n,i):(Yx(t,t._dbSchema,i),function(t,e){const n=Ux(Hx(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((t=>t.add.length||t.change.length)))}(t,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ix(t,i)}catch(t){}var o;Rw.push(t),n.onversionchange=cw((n=>{e.vcFired=!0,t.on("versionchange").fire(n)})),n.onclose=cw((e=>{t.on("close").fire(e)})),s&&function({indexedDB:t,IDBKeyRange:e},n){!Nx(t)&&n!==jw&&jx(t,e).put({name:n}).catch(y_)}(t._deps,l),i()}),o)})).catch((t=>t&&"UnknownError"===t.name&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):K_.reject(t)));return K_.race([i,("undefined"==typeof navigator?K_.resolve():Vx()).then(l)]).then((()=>(r(),e.onReadyBeingFired=[],K_.resolve(Wx((()=>t.on.ready.fire(t.vip)))).then((function n(){if(e.onReadyBeingFired.length>0){let i=e.onReadyBeingFired.reduce(C_,y_);return e.onReadyBeingFired=[],K_.resolve(Wx((()=>i(t.vip)))).then(n)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((n=>{e.dbOpenError=n;try{a&&a.abort()}catch(t){}return i===e.openCanceller&&t._close(),Tw(n)})).finally((()=>{e.openComplete=!0,o()}))}function Gx(t){var e=e=>t.next(e),n=r(e),i=r((e=>t.throw(e)));function r(t){return e=>{var r=t(e),o=r.value;return r.done?o:o&&"function"==typeof o.then?o.then(n,i):_v(o)?Promise.all(o).then(n,i):n(o)}}return r(e)()}function Kx(t,e,n){var i=arguments.length;if(i<2)throw new f_.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];return n=r.pop(),[t,Qv(r),n]}function Zx(t,e,n,i,r){return K_.resolve().then((()=>{const o=W_.transless||W_,a=t._createTransaction(e,n,t._dbSchema,i),s={trans:a,transless:o};if(i)a.idbtrans=i.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===h_.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>Zx(t,e,n,null,r)))):Tw(i)}const l=$v(r);let c;l&&gw();const A=K_.follow((()=>{if(c=r.call(a,a),c)if(l){var t=yw.bind(null,null);c.then(t,t)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Gx(c))}),s);return(c&&"function"==typeof c.then?K_.resolve(c).then((t=>a.active?t:Tw(new f_.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):A.then((()=>c))).then((t=>(i&&a._resolve(),a._completion.then((()=>t))))).catch((t=>(a._reject(t),Tw(t))))}))}function Xx(t,e,n){const i=_v(t)?t.slice():[t];for(let t=0;t<n;++t)i.push(e);return i}const qx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:i}=n,r={},o=[];function a(t,e,n){const i=Dx(t),s=r[i]=r[i]||[],l=null==t?0:"string"==typeof t?1:t.length,c=e>0,A={...n,isVirtual:c,keyTail:e,keyLength:l,extractKey:Sx(t),unique:!c&&n.unique};return s.push(A),A.isPrimaryKey||o.push(A),l>1&&a(2===l?t[0]:t.slice(0,l-1),e+1,n),s.sort(((t,e)=>t.keyTail-e.keyTail)),A}const s=a(i.primaryKey.keyPath,0,i.primaryKey);r[":id"]=[s];for(const t of i.indexes)a(t.keyPath,0,t);function l(e,n){return{type:1===e.type?2:e.type,lower:Xx(e.lower,e.lowerOpen?t.MAX_KEY:t.MIN_KEY,n),lowerOpen:!0,upper:Xx(e.upper,e.upperOpen?t.MIN_KEY:t.MAX_KEY,n),upperOpen:!0}}function c(t){const e=t.query.index;return e.isVirtual?{...t,query:{index:e,range:l(t.query.range,e.keyTail)}}:t}const A={...n,schema:{...i,primaryKey:s,indexes:o,getIndexByKeyPath:function(t){const e=r[Dx(t)];return e&&e[0]}},count:t=>n.count(c(t)),query:t=>n.query(c(t)),openCursor(e){const{keyTail:i,isVirtual:r,keyLength:o}=e.query.index;return r?n.openCursor(c(e)).then((n=>n&&function(n){const r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Xx(r,e.reverse?t.MAX_KEY:t.MIN_KEY,i)):e.unique?n.continue(n.key.slice(0,o).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value(e,r){n.continuePrimaryKey(Xx(e,t.MAX_KEY,i),r)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const t=n.key;return 1===o?t[0]:t.slice(0,o)}},value:{get:()=>n.value}});return r}(n))):n.openCursor(e)}};return A}}}};function Jx(t,e,n,i){return n=n||{},i=i||"",vv(t).forEach((r=>{if(Mv(e,r)){var o=t[r],a=e[r];if("object"==typeof o&&"object"==typeof a&&o&&a){const t=Kv(o);t!==Kv(a)?n[i+r]=e[r]:"Object"===t?Jx(o,a,n,i+r+"."):o!==a&&(n[i+r]=e[r])}else o!==a&&(n[i+r]=e[r])}else n[i+r]=void 0})),vv(e).forEach((r=>{Mv(t,r)||(n[i+r]=e[r])})),n}const $x={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:i}=n.schema,r={...n,mutate(t){const r=W_.trans,{deleting:o,creating:a,updating:s}=r.table(e).hook;switch(t.type){case"add":if(a.fire===y_)break;return r._promise("readwrite",(()=>l(t)),!0);case"put":if(a.fire===y_&&s.fire===y_)break;return r._promise("readwrite",(()=>l(t)),!0);case"delete":if(o.fire===y_)break;return r._promise("readwrite",(()=>l(t)),!0);case"deleteRange":if(o.fire===y_)break;return r._promise("readwrite",(()=>function(t){return c(t.trans,t.range,1e4)}(t)),!0)}return n.mutate(t);function l(t){const e=W_.trans,r=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(i,t);if(!r)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:r}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,r).then((l=>{const c=r.map(((n,r)=>{const c=l[r],A={onerror:null,onsuccess:null};if("delete"===t.type)o.fire.call(A,n,c,e);else if("add"===t.type||void 0===c){const o=a.fire.call(A,n,t.values[r],e);null==n&&null!=o&&(n=o,t.keys[r]=n,i.outbound||Ov(t.values[r],i.keyPath,n))}else{const i=Jx(c,t.values[r]),o=s.fire.call(A,i,n,c,e);if(o){const e=t.values[r];Object.keys(o).forEach((t=>{Mv(e,t)?e[t]=o[t]:Ov(e,t,o[t])}))}}return A}));return n.mutate(t).then((({failures:e,results:n,numFailures:i,lastResult:o})=>{for(let i=0;i<r.length;++i){const o=n?n[i]:r[i],a=c[i];null==o?a.onerror&&a.onerror(e[i]):a.onsuccess&&a.onsuccess("put"===t.type&&l[i]?t.values[i]:o)}return{failures:e,results:n,numFailures:i,lastResult:o}})).catch((t=>(c.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}))}function c(t,e,r){return n.query({trans:t,values:!1,query:{index:i,range:e},limit:r}).then((({result:n})=>l({type:"delete",keys:n,trans:t}).then((i=>i.numFailures>0?Promise.reject(i.failures[0]):n.length<r?{failures:[],numFailures:0,lastResult:void 0}:c(t,{...e,lower:n[n.length-1],lowerOpen:!0},r)))))}}};return r}})};function tb(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;const i=[];for(let r=0,o=0;r<e.keys.length&&o<t.length;++r)0===rx(e.keys[r],t[o])&&(i.push(n?Vv(e.values[r]):e.values[r]),++o);return i.length===t.length?i:null}catch(t){return null}}const eb={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:t=>{if(!t.cache)return n.getMany(t);const e=tb(t.keys,t.trans._cache,"clone"===t.cache);return e?K_.resolve(e):n.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?Vv(e):e},e)))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),n.mutate(t))}}})};function nb(t){return!("from"in t)}const ib=function(t,e){if(!this){const e=new ib;return t&&"d"in t&&wv(e,t),e}wv(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function rb(t,e,n){const i=rx(e,n);if(isNaN(i))return;if(i>0)throw RangeError();if(nb(t))return wv(t,{from:e,to:n,d:1});const r=t.l,o=t.r;if(rx(n,t.from)<0)return r?rb(r,e,n):t.l={from:e,to:n,d:1,l:null,r:null},sb(t);if(rx(e,t.to)>0)return o?rb(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},sb(t);rx(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),rx(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;r&&!t.l&&ob(t,r),o&&a&&ob(t,o)}function ob(t,e){nb(e)||function t(e,{from:n,to:i,l:r,r:o}){rb(e,n,i),r&&t(e,r),o&&t(e,o)}(t,e)}function ab(t){let e=nb(t)?null:{s:0,n:t};return{next(t){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&rx(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||rx(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function sb(t){var e,n;const i=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),r=i>1?"r":i<-1?"l":"";if(r){const e="r"===r?"l":"r",n={...t},i=t[r];t.from=i.from,t.to=i.to,t[r]=i[r],n[r]=i[e],t[e]=n,n.d=lb(n)}t.d=lb(t)}function lb({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Lv(ib.prototype,{add(t){return ob(this,t),this},addKey(t){return rb(this,t,t),this},addKeys(t){return t.forEach((t=>rb(this,t,t))),this},[Zv](){return ab(this)}});const cb={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new ib(t.MIN_KEY,t.MAX_KEY);return{...t,table:i=>{const r=t.table(i),{schema:o}=r,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,c={...r,mutate:t=>{const a=t.trans,s=a.mutatedParts||(a.mutatedParts={}),l=t=>{const n=`idb://${e}/${i}/${t}`;return s[n]||(s[n]=new ib)},c=l(""),A=l(":dels"),{type:u}=t;let[d,h]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const p=t.trans._cache;return r.mutate(t).then((t=>{if(_v(d)){"delete"!==u&&(d=t.results),c.addKeys(d);const e=tb(d,p);e||"add"===u||A.addKeys(d),(e||h)&&function(t,e,n,i){e.indexes.forEach((function(e){const r=t(e.name||"");function o(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&_v(t)?t.forEach((t=>r.addKey(t))):r.addKey(t);(n||i).forEach(((t,e)=>{const r=n&&o(n[e]),s=i&&o(i[e]);0!==rx(r,s)&&(null!=r&&a(r),null!=s&&a(s))}))}))}(l,o,e,h)}else if(d){const t={from:d.lower,to:d.upper};A.add(t),c.add(t)}else c.add(n),A.add(n),o.indexes.forEach((t=>l(t.name).add(n)));return t}))}},A=({query:{index:e,range:n}})=>{var i,r;return[e,new ib(null!==(i=n.lower)&&void 0!==i?i:t.MIN_KEY,null!==(r=n.upper)&&void 0!==r?r:t.MAX_KEY)]},u={get:t=>[a,new ib(t.key)],getMany:t=>[a,(new ib).addKeys(t.keys)],count:A,query:A,openCursor:A};return vv(u).forEach((t=>{c[t]=function(o){const{subscr:a}=W_;if(a){const c=t=>{const n=`idb://${e}/${i}/${t}`;return a[n]||(a[n]=new ib)},A=c(""),d=c(":dels"),[h,p]=u[t](o);if(c(h.name||"").add(p),!h.isPrimaryKey){if("count"!==t){const e="query"===t&&l&&o.values&&r.query({...o,values:!1});return r[t].apply(this,arguments).then((n=>{if("query"===t){if(l&&o.values)return e.then((({result:t})=>(A.addKeys(t),n)));const t=o.values?n.result.map(s):n.result;o.values?A.addKeys(t):d.addKeys(t)}else if("openCursor"===t){const t=n,e=o.values;return t&&Object.create(t,{key:{get:()=>(d.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return d.addKey(e),e}},value:{get:()=>(e&&A.addKey(t.primaryKey),t.value)}})}return n}))}d.add(n)}}return r[t].apply(this,arguments)}})),c}}}};class Ab{constructor(t,e){this._middlewares={},this.verno=0;const n=Ab.dependencies;this._options=e={addons:Ab.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:i}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const r={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:y_,dbReadyPromise:null,cancelOpen:y_,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;r.dbReadyPromise=new K_((t=>{r.dbReadyResolve=t})),r.openCanceller=new K_(((t,e)=>{r.cancelOpen=e})),this._state=r,this.name=t,this.on=Zw(this,"populate","blocked","versionchange","close",{ready:[C_,y_]}),this.on.ready.subscribe=Pv(this.on.ready.subscribe,(t=>(e,n)=>{Ab.vip((()=>{const i=this._state;if(i.openComplete)i.dbOpenError||K_.resolve().then(e),n&&t(e);else if(i.onReadyBeingFired)i.onReadyBeingFired.push(e),n&&t(e);else{t(e);const i=this;n||t((function t(){i.on.ready.unsubscribe(e),i.on.ready.unsubscribe(t)}))}}))})),this.Collection=(o=this,Xw(sx.prototype,(function(t,e){this.db=o;let n=zw,i=null;if(e)try{n=e()}catch(t){i=t}const r=t._ctx,a=r.table,s=a.hook.reading.fire;this._ctx={table:a,index:r.index,isPrimKey:!r.index||a.schema.primKey.keyPath&&r.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:r.or,valueMapper:s!==v_?s:null}}))),this.Table=function(t){return Xw(Kw.prototype,(function(e,n,i){this.db=t,this._tx=i,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Zw(null,{creating:[x_,y_],reading:[__,v_],updating:[M_,y_],deleting:[b_,y_]})}))}(this),this.Transaction=function(t){return Xw(bx.prototype,(function(e,n,i,r,o){this.db=t,this.mode=e,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=Zw(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K_(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),Tw(t)}))}))}(this),this.Version=function(t){return Xw(Qx.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Xw(gx.prototype,(function(e,n,i){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:i};const r=t._deps.indexedDB;if(!r)throw new f_.MissingAPI;this._cmp=this._ascending=r.cmp.bind(r),this._descending=(t,e)=>r.cmp(e,t),this._max=(t,e)=>r.cmp(t,e)>0?t:e,this._min=(t,e)=>r.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)})),this._maxKey=Bx(e.IDBKeyRange),this._createTransaction=(t,e,n,i)=>new this.Transaction(t,e,n,this._options.chromeTransactionDurability,i),this._fireOnBlocked=t=>{this.on("blocked").fire(t),Rw.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(qx),this.use($x),this.use(cb),this.use(eb),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach((t=>t(this)))}version(t){if(isNaN(t)||t<.1)throw new f_.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new f_.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var n=e.filter((e=>e._cfg.version===t))[0];return n||(n=new this.Version(t),e.push(n),e.sort(Fx),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||W_.letThrough||this._vip)?t():new K_(((t,e)=>{if(this._state.openComplete)return e(new f_.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new f_.DatabaseClosed);this.open().catch(y_)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:n,name:i}){i&&this.unuse({stack:t,name:i});const r=this._middlewares[t]||(this._middlewares[t]=[]);return r.push({stack:t,create:e,level:null==n?10:n,name:i}),r.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>n?t.create!==n:!!e&&t.name!==e))),this}open(){return zx(this)}_close(){const t=this._state,e=Rw.indexOf(this);if(e>=0&&Rw.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new K_((e=>{t.dbReadyResolve=e})),t.openCanceller=new K_(((e,n)=>{t.cancelOpen=n}))}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new f_.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new K_(((n,i)=>{const r=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=cw((()=>{!function({indexedDB:t,IDBKeyRange:e},n){!Nx(t)&&n!==jw&&jx(t,e).delete(n).catch(y_)}(this._deps,this.name),n()})),t.onerror=yx(i),t.onblocked=this._fireOnBlocked};if(t)throw new f_.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(r):r()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return vv(this._allTables).map((t=>this._allTables[t]))}transaction(){const t=Kx.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,n){let i=W_.trans;i&&i.db===this&&-1===t.indexOf("!")||(i=null);const r=-1!==t.indexOf("?");let o,a;t=t.replace("!","").replace("?","");try{if(a=e.map((t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===Nw)o=Nw;else{if("rw"!=t&&t!=Ww)throw new f_.InvalidArgument("Invalid transaction mode: "+t);o=Ww}if(i){if(i.mode===Nw&&o===Ww){if(!r)throw new f_.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((t=>{if(i&&-1===i.storeNames.indexOf(t)){if(!r)throw new f_.SubTransaction("Table "+t+" not included in parent transaction.");i=null}})),r&&i&&!i.active&&(i=null)}}catch(t){return i?i._promise(null,((e,n)=>{n(t)})):Tw(t)}const s=Zx.bind(null,this,o,a,i,n);return i?i._promise(o,s,"lock"):W_.trans?Mw(W_.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(t){if(!Mv(this._allTables,t))throw new f_.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const ub="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class db{constructor(t){this._subscribe=t}subscribe(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}[ub](){return this}}function hb(t,e){return vv(e).forEach((n=>{ob(t[n]||(t[n]=new ib),e[n])})),t}let pb;try{pb={indexedDB:yv.indexedDB||yv.mozIndexedDB||yv.webkitIndexedDB||yv.msIndexedDB,IDBKeyRange:yv.IDBKeyRange||yv.webkitIDBKeyRange}}catch(Ru){pb={indexedDB:null,IDBKeyRange:null}}const fb=Ab;function mb(t){let e=gb;try{gb=!0,xx.storagemutated.fire(t)}finally{gb=e}}Lv(fb,{...g_,delete:t=>new fb(t,{addons:[]}).delete(),exists:t=>new fb(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return Nx(t)?Promise.resolve(t.databases()).then((t=>t.map((t=>t.name)).filter((t=>t!==jw)))):jx(t,e).toCollection().primaryKeys()}(fb.dependencies).then(t)}catch(t){return Tw(new f_.MissingAPI)}},defineClass:()=>function(t){wv(this,t)},ignoreTransaction:t=>W_.trans?Mw(W_.transless,t):t(),vip:Wx,async:function(t){return function(){try{var e=Gx(t.apply(this,arguments));return e&&"function"==typeof e.then?e:K_.resolve(e)}catch(t){return Tw(t)}}},spawn:function(t,e,n){try{var i=Gx(t.apply(n,e||[]));return i&&"function"==typeof i.then?i:K_.resolve(i)}catch(t){return Tw(t)}},currentTransaction:{get:()=>W_.trans||null},waitFor:function(t,e){const n=K_.resolve("function"==typeof t?fb.ignoreTransaction(t):t).timeout(e||6e4);return W_.trans?W_.trans.waitFor(n):n},Promise:K_,debug:{get:()=>t_,set:t=>{e_(t,"dexie"===t?()=>!0:Qw)}},derive:Sv,extend:wv,props:Lv,override:Pv,Events:Zw,on:xx,liveQuery:function(t){let e,n=!1;const i=new db((i=>{const r=$v(t);let o=!1,a={},s={};const l={get closed(){return o},unsubscribe:()=>{o=!0,xx.storagemutated.unsubscribe(d)}};i.start&&i.start(l);let c=!1,A=!1;function u(){return vv(s).some((t=>a[t]&&function(t,e){const n=ab(e);let i=n.next();if(i.done)return!1;let r=i.value;const o=ab(t);let a=o.next(r.from),s=a.value;for(;!i.done&&!a.done;){if(rx(s.from,r.to)<=0&&rx(s.to,r.from)>=0)return!0;rx(r.from,s.from)<0?r=(i=n.next(s.from)).value:s=(a=o.next(r.from)).value}return!1}(a[t],s[t])))}const d=t=>{hb(a,t),u()&&h()},h=()=>{if(c||o)return;a={};const p={},f=function(e){r&&gw();const n=()=>mw(t,{subscr:e,trans:null}),i=W_.trans?Mw(W_.transless,n):n();return r&&i.then(yw,yw),i}(p);A||(xx(_x,d),A=!0),c=!0,Promise.resolve(f).then((t=>{n=!0,e=t,c=!1,o||(u()?h():(a={},s=p,i.next&&i.next(t)))}),(t=>{c=!1,n=!1,i.error&&i.error(t),l.unsubscribe()}))};return h(),l}));return i.hasValue=()=>n,i.getValue=()=>e,i},extendObservabilitySet:hb,getByKeyPath:Rv,setByKeyPath:Ov,delByKeyPath:function(t,e){"string"==typeof e?Ov(t,e,void 0):"length"in e&&[].map.call(e,(function(e){Ov(t,e,void 0)}))},shallowClone:Hv,deepClone:Vv,getObjectDiff:Jx,cmp:rx,asap:Fv,minKey:kw,addons:[],connections:Rw,errnames:h_,dependencies:pb,semVer:Iw,version:Iw.split(".").map((t=>parseInt(t))).reduce(((t,e,n)=>t+e/Math.pow(10,2*n)))}),fb.maxKey=Bx(fb.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(xx(_x,(t=>{if(!gb){let e;Ow?(e=document.createEvent("CustomEvent"),e.initCustomEvent(wx,!0,!0,t)):e=new CustomEvent(wx,{detail:t}),gb=!0,dispatchEvent(e),gb=!1}})),addEventListener(wx,(({detail:t})=>{gb||mb(t)})));let gb=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel(wx);"function"==typeof t.unref&&t.unref(),xx(_x,(e=>{gb||t.postMessage(e)})),t.onmessage=t=>{t.data&&mb(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){xx(_x,(t=>{try{gb||("undefined"!=typeof localStorage&&localStorage.setItem(wx,JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:wx,changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{if(t.key===wx){const e=JSON.parse(t.newValue);e&&mb(e.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:t}){t&&t.type===wx&&mb(t.changedParts)}))}var yb;K_.rejectionMapper=function(t,e){if(!t||t instanceof c_||t instanceof TypeError||t instanceof SyntaxError||!t.name||!m_[t.name])return t;var n=new m_[t.name](e||t.message,t);return"stack"in t&&Bv(n,"stack",{get:function(){return this.inner.stack}}),n},e_(t_,Qw);class vb extends km{constructor(t){super(),this.db=void 0,this.get=(t,e)=>new Promise((async(n,i)=>{try{if(this.db){const i=performance.now(),r=await this.db[t].where("key").equalsIgnoreCase(e).toArray(),o=performance.now();if(this.logger.info("CacheFactory get function cost time ==>",e,o-i),r&&r.length){const{value:t}=r[0];n(t)}}n(null)}catch(t){console.error(t),i(null)}})),this.put=(t,e,n)=>new Promise((async(i,r)=>{try{if(this.db){const r=performance.now();await this.db[t].put({key:n,value:e});const o=performance.now();this.logger.info("CacheFactory put function cost time ==>",o-r),i(n)}i(null)}catch(t){console.error(t),r(null)}})),Dm()&&(this.db=new Ab(t.name),this.db.version(t.version).stores({bundleBinaryCache:"key, value",modelCache:"key, value",generateCache:"key, value",mapStateCache:"key, value"})),this.logger.setLoggerDisabled(!1)}}yb=vb,vb.cacheFactoryInstance=new yb({name:"KTIndoorMap",version:3});class _b extends km{constructor(t){super(),this.keyStore=void 0,this.instance=void 0,this.getItem=async t=>{try{if(Dm()&&void 0===this.instance[t]){const e=await vb.cacheFactoryInstance.get(this.keyStore,t);e&&(this.instance[t]=e)}return this.instance[t]}catch(e){return this.debug.isDevMode&&this.logger.error("getItem occur an error ==>",e),this.instance[t]}},this.setItem=async(t,e)=>{try{return Dm()&&await vb.cacheFactoryInstance.put(this.keyStore,e,t),this.instance[t]=e,!0}catch(t){return this.debug.isDevMode&&this.logger.error("setItem occur an error ==>",t),!1}},this.instance={},this.keyStore=t}arrayBufferToOctetStream(t){const e=new Uint8Array(t);let n="";for(let t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return`data:application/octet-stream;base64,${window.btoa(n)}`}getLocalUrl(t){const e=window.atob(t.split("data:application/octet-stream;base64,")[1]),n=new ArrayBuffer(e.length),i=new Uint8Array(n);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);const r=URL.createObjectURL(new Blob([i]));return this.debug.isDevMode&&this.logger.info("getLocalUrl ==>",r),r}}class wb extends km{constructor(t){super(),this.indoorMap2d=void 0,this.d3EditWrapperParams=void 0,this.selected=void 0,this.pointers=void 0,this.modelClickLock=void 0,this.currentClick=void 0,this.dataInfo=void 0,this.type=void 0,this.modelCache=void 0,this.origin=void 0,this.staticPrefix=void 0,this.onClickModel=void 0,this.onModelLoadingProgress=void 0,this.onLaserMapPoints=void 0,this.loader=void 0,this.dracoLoader=void 0,this.loadModelLayer=(t,e,n=!0,i="")=>(this.currentClick=-1,new Promise((async(r,o)=>{try{let{value:o}=t;const a=await this.modelCache.getItem(o);a&&(o=this.modelCache.getLocalUrl(a)),this.loader.load(o,(a=>{o=null;const s=this.origin;let l=n?30:e.point.z||0,c=n;if(!n&&this.indoorMap2d.map.d3EditMode&&(l=30,c=!0),a.arraybuffer){const e=this.modelCache.arrayBufferToOctetStream(a.arraybuffer);this.modelCache.setItem(t.value,e)}a.arraybuffer=new ArrayBuffer(0);const A=a.scene;A.type=It.indoorMapModel+i,this.changeMaterial(A);const u=this.calcScale(),d=e.scale||1;if(A.scale.set(u*d,u*d,u*d),A.rotateOnAxis(new yn(1,0,0),Math.PI/2),i)A.position.set(0,0,0),r({layer:A});else{this.createModelEvent(A);const i=this.createEditWrapper(A,c);A.position.set(0,0,0),i.layer.add(A),i.layer.position.set(e.point.x+s.x,e.point.y+s.y,l),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,e.point),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,i.layer.position,s),this.debug.isDevMode&&this.logger.info("Models: ",e.infoKey,i.layer.position),i.layer.scope.infoKey=e.infoKey||"",i.layer.scope.info=e.info,i.layer.scope.unionId=t.unionId,i.layer.scope.rotate=e.rotate,i.layer.scope.scale=e.scale,i.layer.scope.origin=e.origin,i.layer.scope.point={x:e.point.x,y:e.point.y},i.layer.scope.editable=n,i.layer.rotation.z=e.rotate,n||(i.hideLine(!0),i.hideVertex(!0)),r(i)}}),(t=>{const n=t.loaded/t.total*100;this.onModelLoadingProgress({key:e.infoKey,progress:n}),o=null}),(t=>{this.logger.error("loadModelLayer ==>",t),o=null,r(null)}))}catch(t){value=null,this.logger.error("loadModelLayer ==>",t),r(null)}}))),this.getModelSize=t=>(new wn).setFromObject(t).getSize(new yn),this.getBoundingPoints=t=>{this.indoorMap2d.scene.updateMatrixWorld(!0);const e=new wn;e.setFromObject(t);const{min:n,max:i}=e,r={x:n.x-10,y:-(n.y-10)},o={x:i.x+10,y:-(n.y-10)},a={x:n.x-10,y:-(i.y+10)},s=[r,o,{x:i.x+10,y:-(i.y+10)},a];for(let e=0;e<s.length;e++){const n=s[e];n.x,t.position.x,n.y,t.position.y}return s},this.calcScale=(t=.3)=>(this.indoorMap2d.map.factor/t).toFixed(1),this.getModelRotationZ=t=>t.rotation.z,this.removeModelLayer=t=>{if(t){this.removeEditWrapperEvent(t),this.removeModelLayerEvent(t);const e=t.removeFromParent();return this.debug.isDevMode&&this.logger.info("Model has been remove ==>",null==e?void 0:e.id),this.dealloc(t),e?e.id:-1}},this.lockModelClick=t=>{this.modelClickLock=t},this.updateOrigin=t=>{this.origin=Object.assign({},t)},this.changeMaterial=t=>{t.children.length&&t.children.forEach((t=>{let e=null;e=this.indoorMap2d.checkOathPermission()?new Sc({color:14803425,specular:1118481,shininess:50,reflectivity:1}):new Ec({color:15856113}),t.material=e,t.type=It.indoorMapModel,this.changeMaterial(t)}))},this.createEditWrapper=(t,e)=>{const{content:n,vertex:i,box:r}=this.d3EditWrapperParams,o=void 0===r?1:(null==r?void 0:r.lineWidth)||1,a=void 0!==r&&((null==r?void 0:r.isDash)||!1),s=void 0===r?"#FF000000":(null==r?void 0:r.borderColor)||"#FF000000",{colorFormat:l,alpha:c}=this.argb2Rgb(s),A=void 0===r?"#00FFFFFF":(null==r?void 0:r.bgColor)||"#00FFFFFF",{colorFormat:u,alpha:d}=this.argb2Rgb(A),h=void 0===i||(null==i?void 0:i.showVertexImage)||!0,p=void 0!==n&&((null==n?void 0:n.deleteEnable)||!1),f=void 0===i?1:(null==i?void 0:i.vertexExtendTimes)||1,m=void 0===i?"circle":(null==i?void 0:i.vertexType)||"circle",g=void 0===i?"#FFFFFFFF":(null==i?void 0:i.vertexColor)||"#FFFFFFFF",{colorFormat:y,alpha:v}=this.argb2Rgb(g),_=[Vm,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAI10lEQVR4Ae1cS2hVRxiepHmYm9woiYj1BdGkiouiVqwLrS5EQReiC3cVEnThorQg4saF4EYQInVRIRCL7qogCgq+0IggVowvEExTXZhoEGwEo0bzmv7feOZ0zsy598x5JfeWOzA5d+ac+R/fmfnnn3/mhLFSyotAWd676d4E73IngxPKUh5Ov5GRJpwsy6Jysv5IgSaDH8CooPyVk8PyBkDjTh6jK4BLPYUVMqxAAKXSyYLX2bNnv169evX3tbW1i6uqqloqKiqay8vLG8rKyrL0HDLSEOd8aGJiYnBsbOzvkZGR3g8fPvTcuXPnz+3btw98eUT0sFH6jTwpYDl8E7mgp2QoZxsaGuqfPXu2mRTsGB8f/4sUj5VAA7RAE7TBw+EFngWfIGQt5ez58+cXv3v37ggp1BcLkTyNQRs8wAs8Hd4FCRSGkugx165d+5becCcNj5E8uiV6C7zAE7wdoCALZCqIVEVSZPft2zf7/fv37STsaKLahyAG3pABskAmypBtyhKMrug1/f39O6i794fQJdVHIQtkIvmkfUp7MjJeAqbqum3btjVS1/4tVW1jEIdskBGyUobMk5JgBIURHh0d7Y4h/6Q0hYyKEU/dgAtwyB/5Ls3ZKWnkICtkxoulnBpIApzHjx//QMbwn6SVSJseZIbsaYGE8ZvFWyhGcCT4kF3pSYnZJMwAdRjHxTSsJCj6FTo4NgmGO/bsJqZyzATFYJB1MHKVoYszu8FNiZWEE1jIU3kuEILqoRMhE8uZhKuehcMVxKxY7yvOZKRlSQYuO43ZgvGQk34R0M1ZloQeamJKx7omaaEKjR50dIaar3+Uq2tV08q4KZPJ/BTLghVBY+gIXUnUaj9x/aY5IFlDRuxXatzq1yhO3fDwMDt48CB7+/Yt6+joCCRFb5itXbuW9fX1BT47Y8YMdv36dbZgwYLAZ9UHPn78+DtFOH+mumHKCOfmTRn4CeRUJR7PuXHjBm9ububZbJY/ffrUarQ9fPhQBvADr42NjZwMrxVd9SHo6vhGgbZIzFyI0qkEkvjd3t7OKe4slDx9+rQ1SVuA5syZw588eWJNV38QOlO3wbSfy+yIXlWNOG/SHvPx48fdt79jRzivwQagpqYmTjFqXedQZejsxLh9bZEcc3UIhoeiHPDwyZMn3Z5DOxi8p6cnoIX3tg1Ae/fu9TaKWILuBASWIL5JDC8yzh0R6RvNnj9/zqdNm+b2ntbWVuOZoAobgDB0z507F0Qq8D50J2RyDjOxrKCuFntrRkqydetWFxxizLu6uuQt66sNQKBdX18funfqQkB3ByDfWHYNbep9ozeKWr58+bIHnFmzZnESIDQ5P4AwVAGKnmlDMjR9vQEwILo1lI1U9+rVqx/1BlHLa9as8Siwc+fOSKR0gFatWsUfPHjAyUfz0CdtRDlKL1UFAwZEy7VDckqDw1iG7WADtggVb968Ybdv3/a0XLJkiaccpUCgM/J62bJly9iBAwd8SRw5gtk6enIwEHioVETEkLzcP1Q0o/7GzEXEPfnMmTORyMHxoz18vmHDBk5G1KXx+fNnTh6zhwd4wmDbOqEuMeUHMCA6MNQi4ih7kLjiIAHdiJ0uXLhg0Jg9G3t54dPcuXPZwMAAu3LlCqNh5RIg0FhbW5tblj9IV3bz5k1ZDH1VMBCYSIAEIZyyCE3RpwH5E0YtRfGMOtsKcuAY9QzjcQBEMhv19+/fN+psK3QMJHXBnYRA14qdhoaGDBo0JIy6uBXz589nK1euNMjEAUjBQGDiAYg4pQYQzQ6GIklU+AHU29sbh7TEwANQHIJGW4Q09NTd3a1XJVL2A6imxteNicRP9iDMBkjm2PhSH+pvS0uL8XxaAMGI66muznVj9Fs2ZYmBwMQDEM0A8qYNoZzPLF++3Lh379499vLlS6M+bgWt9QwScQBSMPAAJJhQ4GjQ4Bahwg8gWmYw8o8MasRTRBeNG5YVmO71tGjRIr3KuqxjIHuQOASJA5PWlPI8uG7dOt+7nZ2djHi49zDbrV+/nmGYwPuOkl6/fm0027Jli1FnW6FgIDDxAITTpLaE8j23dOlStmnTJuMRCn+wY8eOiXrEpMk7Zrdu3WIw6oOD0Tqv7nPBX9q8GWGdaEnBQACkUkl0sXr16lWMYSMjHv3o0SNO6ynPvbCBNLk62L17t4dO3BW9vlhVAUo03AEFVqxY4RFeAuYXrogCENkLPm/ePA+PixcvSuwiXfOFO2DtskkGzBBEpxnFo4AESb9GAeju3bse2jS0IoEiG/kFzKQNInm/7Ad9+vSpC4UkEmwRDHNa6dSpUy7pyspKdvToUbcc5Yei+38ziUYo8aA93s6ePXs8b5p4GuWwPejFixe8urrapUObkLIjRL4GBe2BVeLbPojN0KLSVcQPHNSFBWjXrl0uTey5xU00vKy2fTDkskltHCI0ilh0LlDU+jAAXbp0iVNYQtA9dOhQXGxEe9uNQ5KZJbL1jC2f6dOnW4EDoGwBoj16PnPmTBFNBFBJJJoNc249iyU9UFFSIocXEHLYuHEj84sNKbzEz4ULFwqHkWyKfsso79+/n1HolR0+fJjFWXOphOnwwgmKRf9CdVaHF9C2Fh+GELJT9t1FEj3DhgZ0hK7QGYrbJvSibOkAVX64Skfw8uMjjoGUDnEGgCSWH2QUC/aLHhs74/cMdIIZoWwGlAJA0W9nSgfJdUi8ZbgCpU8RvJgYJbE1XfqYxcDFUyGm/tLnUB5MjIIACT0Jizs/41eIdZBV+QwKOqSaBEg4NlsMXwBBRueIL2as1MGRyMMmlT7qlWjkuGJ2w3kU4UxSNw5/gjul8QhZlC95IKPfojyHWslWg7FwJgv4HwtMGTgq1Ai0id6ElTF5qScQY0mpgxhkwQs8nVU5bA1kUePtqqxT+htGEGGD0j83CXgNAEr0KBzvRzCc3nBR/nuctMcnunlR/4OltAFSOxrAQs+Ci4Acljfi2/+7f9FFOuVMAAigSWOKsgRNBvvRGIcIkFFXSoWGwL9LRFyOvWgSxgAAAABJRU5ErkJggg==",zm,Wm],w=void 0===i?6:(null==i?void 0:i.radius)||6,x=void 0===i?_:(null==i?void 0:i.vertexImages)||_,b=[-1,1,-1,3];!p&&(b[3]=-1);const M=this.getBoundingPoints(t),L={opacity:d,color:u,is3d:!1,lineParams:{lineWidth:o,isDash:a,color:l,opacity:c},transparent:!0,noText:!0,unitText:"0.0m",noUnitText:!0,vertexParams:{isScale:!1,scale:.02*this.indoorMap2d.getFitScale(),radius:w,showVertexImage:h,vertexImages:x,vertexExtendTimes:f,vertexType:m,vertexColor:y,opacity:v,vertexEvents:[t=>{},(e,n,i)=>{if(!e)return;const r=this.indoorMap2d;if(i===r.eventTap){const e=r.intersection;r.intersection=r.intersection.scope.layer,r.intersection.intersectionCopy=e;const i=new yn(r.intersection.position.x-this.indoorMap2d.map.center.x,r.intersection.position.z,-r.intersection.position.y+this.indoorMap2d.map.center.y);r.intersection.center=r.worldToScreen(i),r.intersection.transformRotate=!0,r.intersection.draggerEnable=!1,r.intersection.startPosition=new ln(n.mouseClient.x,n.mouseClient.y),t.angle=0,r.intersection.angleStart=r.rotateAngle(r.intersection.startPosition,r.intersection.center)}if(i===r.eventTapMove){r.intersection.endPosition=new ln(n.mouseClient.x,n.mouseClient.y),r.intersection.angleEnd=r.rotateAngleByLength(r.intersection.startPosition,r.intersection.endPosition,r.intersection.center);const t=r.calculateDirection(new ln(r.intersection.startPosition.x,r.intersection.startPosition.y),new ln(r.intersection.endPosition.x,r.intersection.endPosition.y),new ln(r.intersection.center.x,r.intersection.center.y));let e=r.intersection.angleEnd;r.intersection.angle=t<0?e:-e,r.intersection.rotateZ(.02*r.intersection.angle),r.intersection.startPosition=(new ln).copy(r.intersection.endPosition)}const o=this.getInfo(e.scope.layer,"rotate");this.onLaserMapPoints(o,"rotate")},t=>{},t=>{if(!t)return;const e=this.getInfo(t.layer,"remove");e.target&&this.indoorMap2d.map.removeModelLayer(e.target),this.onLaserMapPoints(e,"remove")}],showVertexIndex:b},points:M,height:e?30:.1,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},C=new ly(L);return this.createEditWrapperEvent(C.layer),t.editWrapper=C.layer,this.currentClick=C.layer.id,C.modelLayer=t,C.layer.modelLayer=t,C},this.createEditWrapperEvent=t=>{this.removeEditWrapperEvent(t);const e=t.scope,n=this.indoorMap2d,i=e.vertexLayers[0],r=e.vertexLayers[1],o=e.vertexLayers[3];t&&n.dispatchEvent(t),i&&n.dispatchEvent(i),o&&n.dispatchEvent(o),r&&n.dispatchEvent(r),null==o||o.$on(n.eventTap,((t,e)=>{try{const e=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!e)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){const e=t.userIndex,n=t.scope.vertexEvents[e];"function"==typeof n&&n(t.scope)}}catch(t){this.logger.error("delete event error ==>",t)}})),null==r||r.$on(n.eventTap,((t,e,i)=>{try{const r=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!r)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){this.indoorMap2d.setIsEnablePan(!1);const n=t.userIndex,r=t.scope.vertexEvents[n];"function"==typeof r&&r(t,e,i)}}catch(t){this.logger.error("rotate event error ==>",t)}})),null==r||r.$on(n.eventTapMove,((t,e,i)=>{try{const r=t.scope.getVertexEventEnable();if(!n.map.d3EditMode||!r)return void(t.draggerEnable=!1);if(!t.intersectionCopy)return;if(t.intersectionCopy.type===It.indoorMapPolygonLayerCircle){const n=t.intersectionCopy.userIndex,r=t.intersectionCopy.scope.vertexEvents[n];"function"==typeof r&&r(t,e,i)}}catch(t){this.logger.error("rotate event error ==>",t)}})),null==i||i.$on(n.eventTap,((t,e,i)=>{try{if(!n.map.d3EditMode)return void(t.draggerEnable=!1);if(t.type===It.indoorMapPolygonLayerCircle){t.draggerEnable=!1;const n=t.userIndex,r=t.scope.vertexEvents[n];"function"==typeof r&&r(t,e,i)}}catch(t){this.logger.error("edit event error ==>",t)}})),null==t||t.$on(n.eventTap,((t,e)=>{try{if(n.map.d3EditMode&&this.currentClick===t.id||t.childCopy&&(t.childCopy.draggerEnable=!1),!n.map.d3EditMode)return;if(this.modelClickLock)return;this.indoorMap2d.setIsEnablePan(!1);const e=n.map.getModelInfo(t.id);void 0!==e.target&&(n.map.getModelLayerList().forEach((e=>{const n=e.layer;Number(n.id)!==Number(t.id)?(n.scope.hideLine&&n.scope.hideLine(!0),n.scope.hideVertex&&n.scope.hideVertex(!0)):(n.scope.hideLine&&n.scope.hideLine(!1),n.scope.hideVertex&&n.scope.hideVertex(!1))})),this.onClickModel(e),this.currentClick=t.id)}catch(t){this.logger.error("createEditWrapperEvent ==>",t)}})),null==t||t.$on(n.eventTapMove,((t,e)=>{n.map.d3EditMode||t.childCopy&&(t.childCopy.draggerEnable=!1);const i=this.getInfo(t.scope.layer,"move");this.onLaserMapPoints(i,"move")}))},this.createModelEvent=t=>{this.removeModelLayerEvent(t);const e=this.indoorMap2d;e.dispatchEvent(t),t.$on(e.eventTap,((t,n)=>{try{const n=t.parent.editWrapper||t.editWrapper,i=n.id;if(!n)return;if(e.map.d3EditMode&&this.currentClick===t.id||n.childCopy&&(n.childCopy.draggerEnable=!1),!e.map.d3EditMode)return;if(this.modelClickLock)return;const r=e.map.getModelInfo(i);void 0!==r.target&&(e.map.getModelLayerList().forEach((t=>{const e=t.layer;Number(e.id)!==Number(i)?(e.scope.hideLine&&e.scope.hideLine(!0),e.scope.hideVertex&&e.scope.hideVertex(!0)):(e.scope.hideLine&&e.scope.hideLine(!1),e.scope.hideVertex&&e.scope.hideVertex(!1))})),this.currentClick=i,this.onClickModel(r))}catch(t){this.logger.error("createModelEvent",t)}}))},this.removeModelLayerEvent=t=>{const e=t.modelLayer||t;e&&"function"==typeof e.$off&&e.$off(this.indoorMap2d.eventTapUp)},this.removeEditWrapperEvent=t=>{const e=t.scope,n=this.indoorMap2d;if(!e.vertexLayers)return null;const i=e.vertexLayers[0],r=e.vertexLayers[2],o=e.vertexLayers[3];o&&"function"==typeof o.$off&&o.$off(n.eventTap),r&&"function"==typeof r.$off&&r.$off(n.eventTap),r&&"function"==typeof r.$off&&r.$off(n.eventTapMove),i&&"function"==typeof i.$off&&i.$off(n.eventTap),t&&"function"==typeof t.$off&&(t.$off(n.eventTap),t.$off(n.eventTapMove))},this.dispose=()=>{this.dracoLoader&&this.dracoLoader.dispose()},this.getInfo=(t,e)=>{if(t){this.indoorMap2d.scene.updateMatrixWorld(!0);const n=this.getModelRotationZ(t),i=t.scope,r={infoKey:i.infoKey,info:i.info,point:{x:Number(t.position.x),y:Number(t.position.y),z:0},rotate:n,scale:i.scale,origin:i.origin,unionId:i.unionId,target:t.id},o={operation:e,target:t.id,type:this.type,data:r};return this.dataInfo=o,o}return{}},this.argb2Rgb=t=>{const e=new Ai;if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const n="0x"+t.slice(3),i=Number((parseInt(t.slice(1,3),16)/255).toFixed(2));return e.setHex(Number(n)),{colorFormat:e.lerp(e,i),alpha:Number(i)}}return e.setHex(Number("0xffffff")),{colorFormat:e.lerp(e,1),alpha:1}},this.dealloc=t=>{try{if(null!==t){if("function"==typeof t.removeFromParent&&t.removeFromParent(),t.children&&t.children.length)for(let e=0;e<t.children.length;e++)this.dealloc(t.children[e]);t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material&&(t.material.bumpMap&&(t.material.bumpMap.dispose(),t.material.bumpMap=void 0),t.material.envMap&&(t.material.envMap.dispose(),t.material.envMap=void 0),t.material.lightMap&&(t.material.lightMap.dispose(),t.material.lightMap=void 0),t.material.map&&(t.material.map.dispose(),t.material.map=void 0),t.material.normalMap&&(t.material.normalMap.dispose(),t.material.normalMap=void 0),t.material.specularMap&&(t.material.specularMap.dispose(),t.material.specularMap=void 0),t.material.dispose(),t.material=void 0),t.texture&&(t.texture.dispose(),t.texture=void 0)}t&&"function"==typeof t.dispose&&t.dispose(),t&&"function"==typeof t.clear&&t.clear()}catch(t){this.logger.error("dealloc function occur error ==>",t)}},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.staticPrefix=t.staticPrefix||"",this.origin=t.origin||{x:0,y:0},this.d3EditWrapperParams=t.d3EditWrapperParams||{},this.modelClickLock=!1,this.pointers=[],this.currentClick=-1,this.type=t.type||jt.D3Model,this.modelCache=new _b("modelCache"),this.onClickModel=t.onClickModel||(()=>{this.logger.warn("It seems not setup onClickModel function")}),this.onModelLoadingProgress=t.onModelLoadingProgress||(()=>{this.logger.warn("It seems not setup onModelLoadingProgress function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.loader=new Sy,this.dracoLoader=new mv,this.dracoLoader.setDecoderPath(this.staticPrefix+"/robot/js/"),this.dracoLoader.setDecoderConfig({type:"js"}),this.loader.setDRACOLoader(this.dracoLoader),this.loader.setCrossOrigin("anonymous")}}class xb extends km{constructor(t){super(),this.renderingElement=void 0,this.context=void 0,this.renderingId=void 0,this.width=void 0,this.height=void 0,this.pixelRatio=void 0,this.lineWidth=void 0,this.strokeStyle=void 0,this.textBaseline=void 0,this.fillStyle=void 0,this.font=void 0,this.textAlign=void 0,this.shadowOffsetX=void 0,this.shadowOffsetY=void 0,this.shadowColor=void 0,this.init=t=>{this.pixelRatio=t.pixelRatio||2,this.width=t.width||0,this.height=t.height||0,this.renderingId=t.renderingId||(new Date).getTime(),this.renderingElement=document.createElement("canvas"),this.renderingElement.style.width=this.width+"px",this.renderingElement.style.height=this.height+"px",this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.height=this.height*this.pixelRatio,this.context=this.renderingElement.getContext("2d",{willReadFrequently:!0}),this.context&&this.context.scale(this.pixelRatio,this.pixelRatio)},this.getRenderingId=()=>this.renderingId,this.getRenderingElement=()=>this.renderingElement,this.getRenderingContext=()=>this.context,this.setPixelRatio=t=>{this.pixelRatio=t,this.context&&(this.context.resetTransform(),this.context.scale(this.pixelRatio,this.pixelRatio))},this.setWidth=t=>{this.width=t,this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.style.width=this.width+"px"},this.setHeight=t=>{this.height=t,this.renderingElement.height=this.height*this.pixelRatio,this.renderingElement.style.height=this.height+"px"},this.getWidth=()=>this.width*this.pixelRatio,this.getHeight=()=>this.height*this.pixelRatio,this.getStyleWidth=()=>this.width,this.getStyleHeight=()=>this.height,this.setFont=t=>{this.font=t,this.context&&(this.context.font=this.font)},this.setTextAlign=t=>{this.textAlign=t,this.context&&(this.context.textAlign=this.textAlign)},this.setLineWidth=t=>{this.lineWidth=t,this.context&&(this.context.lineWidth=this.lineWidth)},this.setStrokeStyle=t=>{this.strokeStyle=t,this.context&&(this.context.strokeStyle=this.strokeStyle)},this.setTextBaseLine=t=>{this.textBaseline=t,this.context&&(this.context.textBaseline=this.textBaseline)},this.setFillStyle=t=>{this.fillStyle=t,this.context&&(this.context.fillStyle=this.fillStyle)},this.setShadowOffsetX=t=>{this.shadowOffsetX=t,this.context&&(this.context.shadowOffsetX=t)},this.setShadowOffsetY=t=>{this.shadowOffsetY=t,this.context&&(this.context.shadowOffsetY=t)},this.setShadowColor=t=>{this.shadowColor=t,this.context&&(this.context.shadowColor=t)},this.strokeText=(t,e,n,i)=>{this.context&&this.context.strokeText(t,e,n,i)},this.stroke=()=>{this.context&&this.context.stroke()},this.fillText=(t,e,n,i)=>{this.context&&this.context.fillText(t,e,n,i)},this.measureTextWidth=t=>{if(this.context)return this.context.measureText(t||"").width},this.getTextMetrics=t=>{if(this.context)return this.context.measureText(t||"")},this.beginPath=()=>{this.context&&this.context.beginPath()},this.moveTo=(t,e)=>{this.context&&this.context.moveTo(t,e)},this.lineTo=(t,e)=>{this.context&&this.context.lineTo(t,e)},this.closePath=()=>{this.context&&this.context.closePath()},this.arc=(t,e,n,i,r,o)=>{this.context&&this.context.arc(t,e,n,i,r,o)},this.fill=t=>{this.context&&this.context.fill(t)},this.fillRect=(t,e,n,i)=>{this.context&&this.context.fillRect(t,e,n,i)},this.drawImage=(t,e,n,i,r)=>{this.context&&this.context.drawImage(t,e,n,i,r)},this.drawImageInRange=(t,e,n,i,r,o,a,s,l)=>{this.context&&this.context.drawImage(t,e,n,i,r,o,a,s,l)},this.putImageData=(t,e,n)=>{this.context&&this.context.putImageData(t,e,n)},this.getImageData=(t,e,n,i)=>{if(this.context)return this.context.getImageData(t,e,n,i)},this.clearRenderingContext=()=>{this.context&&this.context.clearRect(0,0,this.width,this.height)},this.disposeRendering2D=()=>{var t;this.clearRenderingContext(),this.context=null,null==(t=this.renderingElement)||t.remove(),this.renderingElement=null},this.init(t)}}class bb extends km{constructor(t){super(),this.is3d=void 0,this.renderingElement=void 0,this.renderingElement2d=void 0,this.isWebGLContextLost=void 0,this.context=void 0,this.context2d=void 0,this.program=void 0,this.renderingId=void 0,this.width=void 0,this.height=void 0,this.pixelRatio=void 0,this.clearColor=void 0,this.clearColor2d=void 0,this.errorCode=void 0,this.colorBuffer=void 0,this.positionBuffer=void 0,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.errorCode=0,this.is3d=void 0===t.is3d||t.is3d,this.pixelRatio=t.pixelRatio||2,this.width=t.width||0,this.height=t.height||0,this.isWebGLContextLost=!1,this.clearColor=t.clearColor||[1,1,1,0],this.clearColor2d=t.clearColor2d||[1,1,1,0],this.renderingId=t.renderingId||(new Date).getTime(),this.renderingElement2d=document.createElement("canvas"),this.is3d&&(this.renderingElement=document.createElement("canvas"),this.renderingElement.style.width=this.width+"px",this.renderingElement.style.height=this.height+"px",this.renderingElement2d.style.width=this.width+"px",this.renderingElement2d.style.height=this.height+"px",this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.height=this.height*this.pixelRatio,this.context=this.renderingElement.getContext("webgl")||this.renderingElement.getContext("experimental-webgl"),this.registerContextEvent(),this.context?(Array.isArray(this.clearColor)&&this.context.clearColor(...this.clearColor),this.context.isEnabled(this.context.SAMPLE_ALPHA_TO_COVERAGE)&&this.context.enable(this.context.SAMPLE_ALPHA_TO_COVERAGE),this.program=this.context.createProgram()):this.logger.warn("Your browser does not support gl")),this.renderingElement2d.width=this.width*this.pixelRatio,this.renderingElement2d.height=this.height*this.pixelRatio,this.context2d=this.renderingElement2d.getContext("2d"),this.context2d.scale(this.pixelRatio,this.pixelRatio),this.colorBuffer=null,this.positionBuffer=null},this.onContextLost=t=>{t.preventDefault(),this.isWebGLContextLost=!0,this.debug.isDevMode&&this.logger.error("IRendering3D onContextLost")},this.onContextRestored=t=>{t.preventDefault(),this.isWebGLContextLost=!1,this.debug.isDevMode&&this.logger.error("IRendering3D onContextLost")},this.registerContextEvent=()=>{this.renderingElement&&(this.renderingElement.addEventListener("webglcontextlost",this.onContextLost,!1),this.renderingElement.addEventListener("webglcontextrestored",this.onContextRestored,!1))},this.removeContextEvent=()=>{this.renderingElement&&(this.renderingElement.removeEventListener("webglcontextlost",this.onContextLost,!1),this.renderingElement.removeEventListener("webglcontextrestored",this.onContextRestored,!1))},this.initDrawPointsProgram=(t,e)=>{if(this.context){const n=this.context.createShader(this.context.VERTEX_SHADER);this.context.shaderSource(n,t),this.context.compileShader(n),this.context.getShaderParameter(n,this.context.COMPILE_STATUS)||this.logger.warn("Compile vertex occur an error",this.context.getShaderInfoLog(n));const i=this.context.createShader(this.context.FRAGMENT_SHADER);this.context.shaderSource(i,e),this.context.compileShader(i),this.context.getShaderParameter(i,this.context.COMPILE_STATUS)||this.logger.warn("Compile fragment occur an error",this.context.getShaderInfoLog(i)),this.context.attachShader(this.program,n),this.context.attachShader(this.program,i),this.context.linkProgram(this.program),this.context.getProgramParameter(this.program,this.context.LINK_STATUS)||this.logger.warn("Link program occur an error",this.context.getProgramInfoLog(this.program)),this.context.useProgram(this.program)}},this.detectWhiteScreenWithPixel=t=>{const e=new Set(t.data),n=Array.from(e);return!(1!==n.length&&2!==n.length||0!==n[0]&&1!==n[0])},this.getRenderingId=()=>this.renderingId,this.getRenderingElement=()=>this.renderingElement,this.getRenderingElement2d=()=>this.renderingElement2d,this.getRenderingContext=()=>this.context,this.getRenderingContext2d=()=>this.context2d,this.setPixelRatio=t=>{this.pixelRatio=t},this.setWidth=t=>{this.width=t,this.renderingElement&&(this.renderingElement.width=this.width*this.pixelRatio,this.renderingElement.style.width=this.width+"px"),this.renderingElement2d&&(this.renderingElement2d.width=this.width*this.pixelRatio,this.renderingElement2d.style.width=this.width+"px")},this.setHeight=t=>{this.height=t,this.renderingElement&&(this.renderingElement.height=this.height*this.pixelRatio,this.renderingElement.style.height=this.height+"px"),this.renderingElement2d&&(this.renderingElement2d.height=this.height*this.pixelRatio,this.renderingElement2d.style.height=this.height+"px")},this.getWidth=()=>this.width*this.pixelRatio,this.getHeight=()=>this.height*this.pixelRatio,this.getStyleWidth=()=>this.width,this.getStyleHeight=()=>this.height,this.setClearColor=t=>{this.clearColor=t,Array.isArray(this.clearColor)&&4===this.clearColor.length&&this.context&&this.context.clearColor(...this.clearColor)},this.setClearColor2d=t=>{this.clearColor2d=t,Array.isArray(this.clearColor2d)&&4===this.clearColor2d.length&&this.context2d&&(this.context2d.fillStyle=`rgba(${parseInt(255*t[0])}, ${parseInt(255*t[1])}, ${parseInt(255*t[2])}, ${t[3]})`,this.context2d.fillRect(0,0,this.renderingElement2d.width,this.renderingElement2d.height))},this.clearRenderingContext=()=>{this.context&&this.context.clear(this.context.COLOR_BUFFER_BIT),this.clearRenderingContext2d()},this.clearRenderingContext2d=()=>{this.context2d&&this.context2d.clearRect(0,0,this.width,this.height)},this.initDrawPointSource=()=>{this.initDrawPointsProgram("\n\t\t\t\tprecision lowp float;\n\t\t\t\tattribute vec3 a_position;\n\t\t\t\tattribute float a_pointSize;\n\t\t\t\tattribute float a_alpha;\n\t\t\t\tattribute vec3 a_screenSize;\n\t\t\t\tattribute vec3 a_color;\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec3 position = (a_position / a_screenSize) * 2.0 - 1.0;\n\t\t\t\t\tposition = position * vec3(1.0, 1.0, 0.0);\n\t\t\t\t\tgl_Position = vec4(position, 1.0);\n\t\t\t\t\tv_color = vec4(a_color, a_alpha);\n\t\t\t\t\tgl_PointSize = a_pointSize;\n\t\t\t\t}\n\t\t","\n\t\t\t\tprecision mediump float;\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec4 color = v_color;\n\t\t\t\t\tgl_FragColor = color;\n\t\t\t\t}\n\t\t")},this.drawPoints=(t,e,n=1)=>{try{if(this.context&&this.program)if(0===this.errorCode){if(!this.isWebGLContextLost){this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height);const i=t.map((t=>Math.abs(t)));let r=!1,o=!1;if(!this.colorBuffer){this.colorBuffer=this.context.createBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.colorBuffer),r=!0;const t=new Float32Array(e);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW),o=!0;const n=this.context.getAttribLocation(this.program,"a_color");this.context.enableVertexAttribArray(n),this.context.vertexAttribPointer(n,3,this.context.FLOAT,!1,0,0)}if(!this.positionBuffer){this.positionBuffer=this.context.createBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.positionBuffer);const t=new Float32Array(i);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW);const e=this.context.getAttribLocation(this.program,"a_position");this.context.enableVertexAttribArray(e),this.context.vertexAttribPointer(e,3,this.context.FLOAT,!1,0,0)}if(this.screenSize||(this.screenSize=this.context.getAttribLocation(this.program,"a_screenSize"),this.context.vertexAttrib3f(this.screenSize,this.renderingElement.width/this.pixelRatio,this.renderingElement.height/this.pixelRatio,1)),this.pointSizeAttributeLocation||(this.pointSizeAttributeLocation=this.context.getAttribLocation(this.program,"a_pointSize"),this.context.vertexAttrib1f(this.pointSizeAttributeLocation,1*this.pixelRatio)),this.alphaAttributeLocation||(this.alphaAttributeLocation=this.context.getAttribLocation(this.program,"a_alpha"),this.context.vertexAttrib1f(this.alphaAttributeLocation,1*n)),!r){const t=new Float32Array(e);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW)}if(!o){const t=new Float32Array(i);this.context.bufferData(this.context.ARRAY_BUFFER,t,this.context.STATIC_DRAW)}const a=t.length/3;this.context.drawArrays(this.context.POINTS,0,a);const s=this.context.getError();0!==s&&(this.logger.warn("Get GL Error",s),this.errorCode=s,this.drawPointsWith2d(t,e,n,!0))}}else this.drawPointsWith2d(t,e,n,!0)}catch(t){this.logger.error("drawPoints occur an error =>",t)}},this.drawPointsWith2d=(t,e,n=1,i=!0)=>{if(this.context2d){const r=this.pixelRatio,o=performance.now(),a=e[0],s=e[1],l=e[2];this.context2d.fillStyle=`rgba(${parseInt(255*a)}, ${parseInt(255*s)}, ${parseInt(255*l)}, ${n})`;for(let e=0,n=t.length;e<n;e+=3){const n=Math.abs(t[e]),o=i?this.height-Math.abs(t[e+1]):Math.abs(t[e+1]);this.context2d.fillRect(n*r,o*r,r,r)}const c=performance.now();this.debug.isDevMode&&this.logger.info("drawPointsWith2d cost time ==>",c-o+" / ms")}},this.getCurrentErrorCode=()=>this.errorCode,this.toCanvas2d=(t=!0)=>{if(this.is3d&&this.context2d&&0===this.errorCode){const e=performance.now();if(t)this.context2d.drawImage(this.renderingElement,0,0,this.renderingElement.width,this.renderingElement.height);else{let t=new Uint8Array(this.renderingElement2d.width*this.renderingElement2d.height*4);this.context.readPixels(0,0,this.renderingElement.width,this.renderingElement.height,this.context.RGBA,this.context.UNSIGNED_BYTE,t);const e=this.context2d.createImageData(this.renderingElement2d.width,this.renderingElement2d.height);e.data.set(t),this.context2d.putImageData(e,0,0)}const n=performance.now();this.debug.isDevMode&&this.logger.info("toCanvas2d cost time ==>",n-e+" / ms")}return this.renderingElement2d},this.toDataURL=(t="image/png",e=1)=>{let n="data:,";return this.is3d?this.renderingElement&&(n=this.renderingElement.toDataURL(t,e)):this.renderingElement2d&&(n=this.renderingElement2d.toDataURL(t,e)),n},this.disposeRendering3D=()=>{if(this.renderingElement){if(this.clearRenderingContext(),this.context){this.context.bindBuffer(this.context.ARRAY_BUFFER,null),this.context.deleteBuffer(this.colorBuffer),this.context.deleteBuffer(this.positionBuffer);const t=this.context.getExtension("WEBGL_lose_context");t&&t.loseContext(),this.context=null,this.logger.info("dispose IRendering3D")}this.removeContextEvent(),this.renderingElement.remove(),this.renderingElement=null}},this.disposeRendering2D=()=>{this.renderingElement2d&&(this.clearRenderingContext2d(),this.context2d=null,this.renderingElement2d.remove(),this.renderingElement2d=null)},this.init(t)}}function Mb(t){const e=t.sizes.shift(),n=Math.max(Math.ceil(e[0]),1),i=Math.max(Math.ceil(e[1]),1),r=[n-1,i-1,1,1],o=Date.now(),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,s="undefined"!=typeof OffscreenCanvas;let l,c;a&&s?(l=new OffscreenCanvas(1,1),c=new OffscreenCanvas(n,i)):(l=document.createElement("canvas"),l.width=1,l.height=1,c=document.createElement("canvas"),c.width=n,c.height=i);const A=l.getContext("2d"),u=c.getContext("2d");u&&(u.fillRect.apply(u,r),A.drawImage(c,n-1,i-1,1,1,0,0,1,1));const d=A&&0!==A.getImageData(0,0,1,1).data[3],h=Date.now()-o;return a?(postMessage({width:n,height:i,benchmark:h,isTestPass:d}),!d&&t.sizes.length&&Mb(t)):d?t.onSuccess(n,i,h):(t.onError(n,i,h),t.sizes.length&&Mb(t)),d}const Lb={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},Cb={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},Bb={};function Sb(t){const e=t.width===t.height,n=1===t.height,i=1===t.width,r=[];if(t.width&&t.height){const o=t.min||Cb.min,a=t.step||Cb.step;let s=Math.max(t.width,t.height);for(;s>=o;){const t=e||n?s:1,o=e||i?s:1;r.push([t,o]),s-=a}}else t.sizes.forEach((t=>{const o=e||n?t:1,a=e||i?t:1;r.push([o,a])}));return r}function Eb(t){const e=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,i=Date.now(),{onError:r,onSuccess:o,...a}=t;let s=null;if(!e)return!1;if(t.useWorker&&n){const t=`\n\t\t\t\t\t\tvar canvasTest = ${Mb.toString()};\n\t\t\t\t\t\tonmessage = function(e) {\n\t\t\t\t\t\t\t\tcanvasTest(e.data);\n\t\t\t\t\t\t};\n\t\t\t\t`,e=new Blob([t],{type:"application/javascript"}),n=URL.createObjectURL(e);s=new Worker(n),URL.revokeObjectURL(n),s.onmessage=function(t){const{width:e,height:n,benchmark:r,isTestPass:o}=t.data;o?(Bb[i].onSuccess(e,n,r),delete Bb[i]):Bb[i].onError(e,n,r)}}return t.usePromise?new Promise(((e,n)=>{const l={...t,onError(e,i,o){let a;if(0===t.sizes.length)a=!0;else{const[[n,r]]=t.sizes.slice(-1);a=e===n&&i===r}r(e,i,o),a&&n({width:e,height:i,benchmark:o})},onSuccess(t,n,i){o(t,n,i),e({width:t,height:n,benchmark:i})}};if(s){const{onError:t,onSuccess:e}=l;Bb[i]={onError:t,onSuccess:e},s.postMessage(a)}else Mb(l)})):s?(Bb[i]={onError:r,onSuccess:o},void s.postMessage(a)):Mb(t)}const Tb={maxArea(t={}){const e=Sb({width:t.max,height:t.max,min:t.min,step:t.step,sizes:[...Lb.area]});return Eb({...Cb,...t,sizes:e})},maxHeight(t={}){const e=Sb({width:1,height:t.max,min:t.min,step:t.step,sizes:[...Lb.height]});return Eb({...Cb,...t,sizes:e})},maxWidth(t={}){const e=Sb({width:t.max,height:1,min:t.min,step:t.step,sizes:[...Lb.width]});return Eb({...Cb,...t,sizes:e})},test(t={}){const e={...Cb,...t};return e.sizes=[...e.sizes],e.width&&e.height&&(e.sizes=[[e.width,e.height]]),Eb(e)}};let Db="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('FluorescenceWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'render') {\n\t\t\toffScreenRender(msg.data)\n\t\t}\n\n\t\tif (msg.data.name === 'resize') {\n\t\t\tcanvasResize(msg.data);\n\t\t}\n\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t}\n\t\t\tconsole.log('FluorescenceWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\tconst canvasResize = (data) => {\n\t\t\tconst { canvas, parameters } = data;\n\t\t\tif (!_canvasStore) {\n\t\t\t\t_canvasStore = canvas;\n\t\t\t}\t\n\t\t\tif (!_canvasStore) {\n\t\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide an offscreenCanvas\tparams');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\tif (!context) {\n\t\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide canvas element params');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { radio } = parameters;\n\t\t\tcontext.scale(radio, radio);\n\t} \n\n\tconst offScreenRender = (data) => {\n\t\tconst { canvas, parameters, init } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide an offscreenCanvas params');\n\t\t\treturn;\n\t\t}\n\n\t \n\t\tconst context = _canvasStore.getContext('2d');\n\n\t\tif (!context) {\n\t\t\tconsole.warn('FluorescenceWorkerRender: Please provide canvas element params');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { size, points, radio, width, height, color, shadowColor, shadowSize } = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\tif (init) {\n\t\t\tcontext.scale(radio, radio);\n\t\t}\n\t\tcontext.clearRect(0, 0, _width, _height);\n\n\t\tcontext.beginPath();\n\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\tcontext.fillStyle = color;\n\t\t\tcontext.shadowColor = shadowColor;\n\t\t\tcontext.shadowBlur = shadowSize;\n\t\t\tcontext.fillRect(points[i].x, points[i].y, size, size);\n\t\t\tcontext.fill();\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\tself.postMessage('update');\n\t\t});\n\t}\n\n}";Db=Db.substring(Db.indexOf("{")+1,Db.lastIndexOf("}"));const Ib=new Blob([Db],{type:"application/javascript"}),Pb=2500;class kb extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.canvas=void 0,this.width=void 0,this.height=void 0,this.class=void 0,this.type=void 0,this.points=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.useWorker=void 0,this.positionHeight=void 0,this.color=void 0,this.shadowColor=void 0,this.shadowSize=void 0,this.texture=void 0,this.createFluorescence=()=>{try{const t=this.indoorMap2d.pixelRatio;let e=!1;if(e=this.width*t<Pb||this.height*t<Pb||Tb.test({width:this.width*t,height:this.height*t}),e){this.canvas.width=this.width*t,this.canvas.height=this.height*t,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px";const e=this.drawFluorescence();return e.type=It.indoorMapFluorescenceLayer,e.userData.enableFilter=!0,this.dispatchScope(e),e}return null}catch(t){return this.logger.error("createFluorescence occur error",t),null}},this.drawFluorescence=()=>{const t=this.indoorMap2d.pixelRatio;if(this.worker){this.offScreenCanvas=this.canvas.transferControlToOffscreen();const e={points:this.points,radio:t,size:1,shadowColor:this.shadowColor,shadowSize:this.shadowSize,color:this.color,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:e,init:!0},[this.offScreenCanvas]),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const e=this.canvas.getContext("2d");if(e.scale(t,t),e){e.clearRect(0,0,this.canvas.width,this.canvas.height),e.beginPath();for(let t=0;t<this.points.length;t++)e.fillStyle=this.color,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowSize,e.fillRect(this.points[t].x,this.points[t].y,1,1),e.fill()}}this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const e=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1}),n=new Vi(this.width,this.height);return new Fr(n,e)},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideFluorescence=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.updateFluorescence=t=>{try{this.color=t.color,this.shadowColor=t.shadowColor,this.shadowSize=t.shadowSize,this.points=t.points;const e=this.indoorMap2d.pixelRatio,n=()=>{if(this.worker){const t={points:this.points,radio:e,size:1,shadowColor:this.shadowColor,shadowSize:this.shadowSize,color:this.color,width:this.canvas.width,height:this.canvas.height};this.logger.info("thread start update carpet"),this.worker.postMessage({name:"render",parameters:t})}else{const t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.beginPath();for(let e=0;e<this.points.length;e++)t.fillStyle=this.color,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowSize,t.fillRect(this.points[e].x,this.points[e].y,1,1),t.fill()}if(this.layer)if(this.texture){const t=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const t=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!1});this.layer.material=t}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let i=!1;if(i=this.width*e<Pb||this.height*e<Pb||Tb.test({width:this.width*e,height:this.height*e}),i&&(this.canvas.width=this.width*e,this.canvas.height=this.height*e,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.worker?this.worker.postMessage({name:"resize",canvas:this.offScreenCanvas,parameters:{radio:e}}):this.canvas.getContext("2d").scale(e,e),n(),this.layer)){const t=new Vi(this.width,this.height);this.layer.geometry=t}}else n()}catch(t){this.logger.error("updateFluorescence ==>",t)}},this.receiveRemoveEvt=()=>{this.worker&&(Mm(`${this.indoorMap2d.getUnionId()}_Fluorescence_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.canvas=null,this.worker=void 0,this.workerStatus=!1)},this.removeFluorescence=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{xm(`${this.indoorMap2d.getUnionId()}_Fluorescence_remove`,(()=>{this.logger.info("Fluorescence has been removed");const e=this.remove();t(e)}))}))):new Promise((t=>{t(this.remove())})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="fluorescence",this.indoorMap2d=t.indoorMap2d,this.type=t.type||jt.Fluorescence,this.width=t.width||0,this.height=t.height||0,this.workerStatus=!1,this.positionHeight=0,this.useWorker=void 0===t.useWorker||t.useWorker,this.canvas=document.createElement("canvas"),Em(this.indoorMap2d.env)&&Tm(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Im(Ib)),this.points=t.points||[],this.shadowColor=t.shadowColor,this.color=t.color,this.shadowSize=t.shadowSize,this.layer=this.createFluorescence()}}class Fb extends Qm{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.floorColor=void 0,this.depth=void 0,this.points=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.framePoints=void 0,this.pointsList=void 0,this.showTexture=void 0,this.image=void 0,this.rendering=void 0,this.detectedRendering=void 0,this.object=void 0,this.floorMaterial=void 0,this.layerSetting=void 0,this.init=()=>{this.object=new ki;const t=this.color,e=this.floorColor,{colorFormat:n,alpha:i}=this.argb2Rgb(t),{colorFormat:r,alpha:o}=this.argb2Rgb(e),a={depth:this.depth,bevelEnabled:!1};if(this.floorMaterial=new gr({color:r,opacity:o,transparent:!0}),this.floorMaterial.needsUpdate=!0,this.layerSetting=new Ec({color:n,opacity:i,transparent:!0}),this.showTexture){const t=new Fc,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=fe,n.repeat.set(.005,.005)}));this.layerSetting=new Ec({map:n})}const s=[],l=[];for(let t=0,e=this.framePoints.length;t<e;t++){const e=new OA(this.framePoints[t]);l.push(e);const n=new OA(this.pointsList[t]);s.push(n)}const c=new wc(l,a),A=new Fr(c,this.layerSetting.clone());A.type=It.indoorMapD3FrameLayer,this.object.add(A);const u=new wc(s,{depth:.01,bevelEnabled:!1}),d=new Fr(u,this.floorMaterial);return d.type=It.indoorMapD3FrameFloorLayer,d.position.z=this.depth,this.object.add(d),this.object.position.x=0,this.object.position.y=0,this.object.position.z=this.depth,this.object.rotateOnAxis(new yn(1,0,0),-Math.PI),this.object},this.regularD3ShapePoints=()=>{const t=[],e=[];try{if(window.cv&&window.cv.Mat){const t=(new Date).getTime(),e=this.regularD3ShapePointsFunc(),n=(new Date).getTime();return this.logger.info("regular times ==>",n-t),e}return this.logger.warn("regular 3d points: the bundle don't exist"),{parallelList:t,pointsList:e}}catch(n){return this.logger.error("regular 3d points occur an error",n),{parallelList:t,pointsList:e}}},this.regularD3ShapePointsFunc=()=>{const t=[],e=[];try{const n=1;this.rendering.setWidth(this.boundingWidth),this.rendering.setHeight(this.boundingHeight),this.rendering.setPixelRatio(1),this.rendering.clearRenderingContext(),this.rendering.setFillStyle("#000000"),this.rendering.fillRect(0,0,this.rendering.getWidth(),this.rendering.getHeight());for(let t=0;t<this.points.length;t++)this.rendering.setFillStyle("#FFFFFF"),this.rendering.fillRect(this.points[t].x,this.points[t].y,n,n);const{cv:i}=window;if(i&&i.Mat&&this.detectedRendering){let n=i.imread(this.rendering.getRenderingElement()),r=new i.Mat;i.cvtColor(n,r,i.COLOR_RGBA2GRAY);let o=new i.Mat;i.Canny(r,o,50,150);let a=i.getStructuringElement(i.MORPH_RECT,new i.Size(8,8)),s=new i.Mat;i.morphologyEx(o,s,i.MORPH_CLOSE,a);let l=new i.MatVector,c=new i.Mat;i.findContours(s,l,c,i.RETR_EXTERNAL,i.CHAIN_APPROX_SIMPLE),this.detectedRendering.clearRenderingContext();for(let n=0;n<l.size();n++){let i=l.get(n);const r=[];let o,a=i.data32S;this.detectedRendering.beginPath(),this.detectedRendering.setStrokeStyle("#FF0000");for(let t=0;t<a.length;t+=2){const e=new ln(a[t],a[t+1]);r.push(e),0===t?(o=e,this.detectedRendering.moveTo(e.x,e.y)):this.detectedRendering.lineTo(e.x,e.y)}o&&(r.push(o),this.detectedRendering.lineTo(o.x,o.y)),this.detectedRendering.stroke(),this.detectedRendering.closePath();const s=r.concat([]),c=this.parallelLineOfPolyline(s,.75);t.push(c),e.push(r.concat([]))}return l.delete(),c.delete(),r.delete(),{parallelList:t,pointsList:e}}}catch(t){this.logger.error("regularD3ShapePointsFunc occur an error")}return{parallelList:t,pointsList:e}},this.removeChildFromObject=()=>{if(this.object)for(let t=0;t<this.object.children.length;t++){const e=this.object.children[t].removeFromParent();this.dealloc(e)}},this.updateD3FrameRegularPoints=t=>{this.center=t.center||this.center,this.points=t.points,this.color=t.color||this.color,this.depth=t.depth||this.depth,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"";const{parallelList:e,pointsList:n}=this.regularD3ShapePoints();this.framePoints=e,this.pointsList=n;const i=this.color,{colorFormat:r,alpha:o}=this.argb2Rgb(i),a={depth:this.depth,bevelEnabled:!1},s=[],l=[];if(this.removeChildFromObject(),t.floorColor!==this.floorColor){this.floorColor=t.floorColor||this.floorColor;const e=this.floorColor,{colorFormat:n,alpha:i}=this.argb2Rgb(e);this.floorMaterial.color=n,this.floorMaterial.opacity=i}if(this.layerSetting||(this.layerSetting=new Ec({color:r,opacity:o,transparent:!0})),this.showTexture){const t=new Fc,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=fe,n.repeat.set(.005,.005)}));this.layerSetting=new Ec({map:n})}for(let t=0,e=this.framePoints.length;t<e;t++){const e=new OA(this.framePoints[t]);l.push(e);const n=new OA(this.pointsList[t]);s.push(n)}const c=new wc(l,a),A=new Fr(c,this.layerSetting.clone());A.type=It.indoorMapD3FrameLayer,this.object.add(A);const u=new wc(s,{depth:.01,bevelEnabled:!1}),d=new Fr(u,this.floorMaterial);d.type=It.indoorMapD3FrameFloorLayer,d.position.z=this.depth,this.object.add(d),this.object.position.x=0,this.object.position.y=0,this.object.position.z=this.depth},this.removeD3Frame=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.color=t.color||"#FFE1E1E1",this.floorColor=t.floorColor||"#FFCACBD2",this.depth=t.depth||10,this.points=t.points||[],this.center=t.center||{x:0,y:0},this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.rendering=new xb({pixelRatio:1}),this.detectedRendering=new xb({pixelRatio:1});const{parallelList:e,pointsList:n}=this.regularD3ShapePoints();this.framePoints=e,this.pointsList=n,this.layer=this.init()}}class Ub{constructor(t){this.top=0,this.array=void 0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y,this.array[this.top++]=t.z}}class Rb{constructor(t){this.top=0,this.array=void 0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y}}class Ob{constructor(t){this.polygons=void 0,this.plane=void 0,this.front=void 0,this.back=void 0,this.plane=null,this.front=null,this.back=null,this.polygons=[],t&&this.build(t)}clone(){const t=new Ob;return t.plane=this.plane&&this.plane.clone(),t.front=this.front&&this.front.clone(),t.back=this.back&&this.back.clone(),t.polygons=this.polygons.map((t=>t.clone())),t}invert(){for(let t=0;t<this.polygons.length;t++)this.polygons[t].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const t=this.front;this.front=this.back,this.back=t}clipPolygons(t){if(!this.plane)return t.slice();let e=new Array,n=new Array;for(let i=0;i<t.length;i++)this.plane.splitPolygon(t[i],e,n,e,n);return this.front&&(e=this.front.clipPolygons(e)),n=this.back?this.back.clipPolygons(n):[],e.concat(n)}clipTo(t){this.polygons=t.clipPolygons(this.polygons),this.front&&this.front.clipTo(t),this.back&&this.back.clipTo(t)}allPolygons(){let t=this.polygons.slice();return this.front&&(t=t.concat(this.front.allPolygons())),this.back&&(t=t.concat(this.back.allPolygons())),t}build(t){if(!t.length)return;this.plane||(this.plane=t[0].plane.clone());const e=[],n=[];for(let i=0;i<t.length;i++)this.plane.splitPolygon(t[i],this.polygons,this.polygons,e,n);e.length&&(this.front||(this.front=new Ob),this.front.build(e)),n.length&&(this.back||(this.back=new Ob),this.back.build(n))}}class Hb{constructor(t=0,e=0,n=0){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t,this.y=e,this.z=n}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new Hb(this.x,this.y,this.z)}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}times(t){return this.x*=t,this.y*=t,this.z*=t,this}dividedBy(t){return this.x/=t,this.y/=t,this.z/=t,this}lerp(t,e){return this.add((new Hb).copy(t).sub(this).times(e))}unit(){return this.dividedBy(this.length())}length(){return Math.sqrt(this.x**2+this.y**2+this.z**2)}normalize(){return this.unit()}cross(t){const e=this.clone(),n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}toVector3(){return new yn(this.x,this.y,this.z)}}class Yb{constructor(t,e){this.normal=void 0,this.w=void 0,this.normal=t,this.w=e,this.normal=t,this.w=e}clone(){return new Yb(this.normal.clone(),this.w)}flip(){this.normal.negate(),this.w=-this.w}splitPolygon(t,e,n,i,r){let o=0;const a=[];for(let e=0;e<t.vertices.length;e++){const n=this.normal.dot(t.vertices[e].pos)-this.w,i=n<-Yb.EPSILON?2:n>Yb.EPSILON?1:0;o|=i,a.push(i)}switch(o){case 0:(this.normal.dot(t.plane.normal)>0?e:n).push(t);break;case 1:i.push(t);break;case 2:r.push(t);break;case 3:{const e=[],n=[];for(let i=0;i<t.vertices.length;i++){const r=(i+1)%t.vertices.length,o=a[i],s=a[r],l=t.vertices[i],c=t.vertices[r];if(2!=o&&e.push(l),1!=o&&n.push(2!=o?l.clone():l),3==(o|s)){const t=(this.w-this.normal.dot(l.pos))/this.normal.dot((new Hb).copy(c.pos).sub(l.pos)),i=l.interpolate(c,t);e.push(i),n.push(i.clone())}}e.length>=3&&i.push(new Qb(e,t.shared)),n.length>=3&&r.push(new Qb(n,t.shared));break}}}static fromPoints(t,e,n){const i=(new Hb).copy(e).sub(t).cross((new Hb).copy(n).sub(t)).normalize();return new Yb(i.clone(),i.dot(t))}}Yb.EPSILON=1e-5;class Qb{constructor(t,e){this.vertices=void 0,this.shared=void 0,this.plane=void 0,this.vertices=t,this.shared=e,this.plane=Yb.fromPoints(t[0].pos,t[1].pos,t[2].pos)}clone(){return new Qb(this.vertices.map((t=>t.clone())),this.shared)}flip(){this.vertices.reverse().map((t=>t.flip())),this.plane.flip()}}class jb{constructor(t,e,n,i){this.pos=void 0,this.normal=void 0,this.uv=void 0,this.color=void 0,this.pos=(new Hb).copy(t),this.normal=(new Hb).copy(e),this.uv=(new Hb).copy(n),this.uv.z=0,i&&(this.color=(new Hb).copy(i))}clone(){return new jb(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(t,e){return new jb(this.pos.clone().lerp(t.pos,e),this.normal.clone().lerp(t.normal,e),this.uv.clone().lerp(t.uv,e),this.color&&t.color&&this.color.clone().lerp(t.color,e))}}class Nb{constructor(){this.polygons=[]}static fromPolygons(t){const e=new Nb;return e.polygons=t,e}static fromGeometry(t,e){let n=[];const i=t.attributes.position,r=t.attributes.normal,o=t.attributes.uv,a=t.attributes.color,s=t.groups;let l;if(t.index)l=t.index.array;else{l=new Array(i.array.length/i.itemSize|0);for(let t=0;t<l.length;t++)l[t]=t}const c=l.length/3|0;n=new Array(c);for(let t=0,c=0,A=l.length;t<A;t+=3,c++){const A=new Array(3);for(let e=0;e<3;e++){const n=l[t+e],s=3*n,c=2*n,u=i.array[s],d=i.array[s+1],h=i.array[s+2],p=r.array[s],f=r.array[s+1],m=r.array[s+2],g=null==o?void 0:o.array[c],y=null==o?void 0:o.array[c+1];A[e]=new jb(new Hb(u,d,h),new Hb(p,f,m),new Hb(g,y,0),a&&new Hb(a.array[s],a.array[s+1],a.array[s+2]))}if(void 0===e&&s&&s.length>0)for(const e of s)t>=e.start&&t<e.start+e.count&&(n[c]=new Qb(A,e.materialIndex));else n[c]=new Qb(A,e)}return Nb.fromPolygons(n.filter((t=>!Number.isNaN(t.plane.normal.x))))}static toGeometry(t,e){let n=0;const i=t.polygons;for(const t of i)n+=t.vertices.length-2;const r=new Ni,o=new Ub(3*n*3),a=new Ub(3*n*3),s=new Rb(2*n*3);let l;const c=[],A=[];for(const t of i){const e=t.vertices,i=e.length;void 0!==t.shared&&(c[t.shared]||(c[t.shared]=[])),i&&void 0!==e[0].color&&(l||(l=new Ub(3*n*3)));for(let n=3;n<=i;n++)(void 0===t.shared?A:c[t.shared]).push(o.top/3,o.top/3+1,o.top/3+2),o.write(e[0].pos),o.write(e[n-2].pos),o.write(e[n-1].pos),a.write(e[0].normal),a.write(e[n-2].normal),a.write(e[n-1].normal),s&&(s.write(e[0].uv),s.write(e[n-2].uv),s.write(e[n-1].uv)),l&&(l.write(e[0].color),l.write(e[n-2].color),l.write(e[n-1].color))}r.setAttribute("position",new hi(o.array,3)),r.setAttribute("normal",new hi(a.array,3)),s&&r.setAttribute("uv",new hi(s.array,2)),l&&r.setAttribute("color",new hi(l.array,3));for(let t=0;t<c.length;t++)void 0===c[t]&&(c[t]=[]);if(c.length){let t=[],e=0;for(let n=0;n<c.length;n++)r.addGroup(e,c[n].length,n),e+=c[n].length,t=t.concat(c[n]);r.addGroup(e,A.length,c.length),t=t.concat(A),r.setIndex(t)}const u=(new Kn).copy(e).invert();return r.applyMatrix4(u),r.computeBoundingSphere(),r.computeBoundingBox(),r}static fromMesh(t,e){const n=Nb.fromGeometry(t.geometry,e),i=new yn,r=new cn;r.getNormalMatrix(t.matrix);for(let e=0;e<n.polygons.length;e++){const o=n.polygons[e];for(let e=0;e<o.vertices.length;e++){const n=o.vertices[e];n.pos.copy(i.copy(n.pos.toVector3()).applyMatrix4(t.matrix)),n.normal.copy(i.copy(n.normal.toVector3()).applyMatrix3(r))}}return n}static toMesh(t,e,n){const i=Nb.toGeometry(t,e),r=new Fr(i,n);return r.matrix.copy(e),r.matrix.decompose(r.position,r.quaternion,r.scale),r.rotation.setFromQuaternion(r.quaternion),r.updateMatrixWorld(),r.castShadow=r.receiveShadow=!0,r}static union(t,e){const n=Nb.fromMesh(t),i=Nb.fromMesh(e);return Nb.toMesh(n.union(i),t.matrix,t.material)}static subtract(t,e){const n=Nb.fromMesh(t),i=Nb.fromMesh(e);return Nb.toMesh(n.subtract(i),t.matrix,t.material)}static intersect(t,e){const n=Nb.fromMesh(t),i=Nb.fromMesh(e);return Nb.toMesh(n.intersect(i),t.matrix,t.material)}clone(){const t=new Nb;return t.polygons=this.polygons.map((t=>t.clone())).filter((t=>Number.isFinite(t.plane.w))),t}toPolygons(){return this.polygons}union(t){const e=new Ob(this.clone().polygons),n=new Ob(t.clone().polygons);return e.clipTo(n),n.clipTo(e),n.invert(),n.clipTo(e),n.invert(),e.build(n.allPolygons()),Nb.fromPolygons(e.allPolygons())}subtract(t){const e=new Ob(this.clone().polygons),n=new Ob(t.clone().polygons);return e.invert(),e.clipTo(n),n.clipTo(e),n.invert(),n.clipTo(e),n.invert(),e.build(n.allPolygons()),e.invert(),Nb.fromPolygons(e.allPolygons())}intersect(t){const e=new Ob(this.clone().polygons),n=new Ob(t.clone().polygons);return e.invert(),n.clipTo(e),n.invert(),e.clipTo(n),n.clipTo(e),e.build(n.allPolygons()),e.invert(),Nb.fromPolygons(e.allPolygons())}inverse(){const t=this.clone();for(const e of t.polygons)e.flip();return t}toMesh(t,e){return Nb.toMesh(this,t,e)}toGeometry(t){return Nb.toGeometry(this,t)}}class Wb extends Qm{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.floorColor=void 0,this.depth=void 0,this.points=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.pointsList=void 0,this.gaps=void 0,this.gapsCache=void 0,this.showTexture=void 0,this.image=void 0,this.floorMaterial=void 0,this.floorMesh=void 0,this.layerSetting=void 0,this.layerMesh=void 0,this.gapsMesh=void 0,this.init=()=>{const t=new ki,e=this.color,n=this.floorColor,{colorFormat:i,alpha:r}=this.argb2Rgb(e),{colorFormat:o,alpha:a}=this.argb2Rgb(n),s={depth:this.depth,bevelEnabled:!1},l=[];if(this.floorMaterial=new gr({color:o,opacity:a,transparent:!0}),this.floorMaterial.needsUpdate=!0,this.layerSetting=new Ec({color:i,opacity:r,transparent:!0}),this.showTexture){const t=new Fc,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=fe,n.repeat.set(.005,.005)}));this.layerSetting=new Ec({map:n})}const c=[];for(let t=0,e=this.points.length;t<e;t++){if(this.points[t].length>0){const e=new OA(this.points[t]);c.push(e)}if(this.pointsList[t].length>0){const e=new OA(this.pointsList[t]);l.push(e)}}const A=new wc(c,s);this.layerMesh=new Fr(A,this.layerSetting.clone()),this.layerMesh.type=It.indoorMapD3FrameLayer;const u=[];if(this.gaps.length){for(let t=0,e=this.gaps.length;t<e;t++){const e=this.gaps[t];if(e.length){const t=new OA(e);u.push(t)}}if(u.length){const e=new wc(u,s);this.gapsMesh=new Fr(e,this.layerSetting.clone()),this.layerMesh=Nb.subtract(this.layerMesh,this.gapsMesh),this.gapsMesh.visible=!1,t.add(this.layerMesh)}}else t.add(this.layerMesh);const d=new wc(l,{depth:.01,bevelEnabled:!1});return this.floorMesh||(this.floorMesh=new Fr(d,this.floorMaterial),this.floorMesh.position.z=this.depth+.1,t.add(this.floorMesh)),t.position.x=0,t.position.y=0,t.position.z=this.depth,t.rotateOnAxis(new yn(1,0,0),-Math.PI),this.gapsCache=[].concat(this.gaps),t},this.getCrossList=t=>{const e={};for(let n=0;n<t.length;n++){const i=t[n];for(let r=0;r<t.length;r++)if(n!==r){const o=t[r],a=Nb.intersect(i,o);this.checkIfCross(a)&&(void 0===e[n]&&(e[n]=[]),e[n].push(o))}}return e},this.getSubtract=(t,e)=>{const n=Object.keys(t),i=[];for(let r=0;r<n.length;r++){const o=n[r];let a=e[r];for(let e=0;e<t[o].length;e++)a=Nb.subtract(a,t[o][e]);i.push(a)}return i},this.checkIfCross=t=>0!==t.toJSON().geometries[0].data.attributes.normal.array.length,this.removeChildFromObject=()=>{if(this.layer)for(let t=0;t<this.layer.children.length;t++){const e=this.layer.children[t].removeFromParent();this.dealloc(e)}},this.getSingleD3FrameEdgePointsParallelList=()=>this.points,this.getSingleD3FrameEdgePointsList=()=>this.pointsList,this.updateSingleD3FrameRegularPoints=t=>{this.center=t.center||this.center,this.color=t.color||this.color,this.depth=t.depth||this.depth,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.points=t.points,this.pointsList=t.pointsList,this.gaps=t.gaps||[[]];const e=this.color,{colorFormat:n,alpha:i}=this.argb2Rgb(e),r={depth:this.depth,bevelEnabled:!1},o=[];if(t.floorColor!==this.floorColor){this.floorColor=t.floorColor||this.floorColor;const e=this.floorColor,{colorFormat:n,alpha:i}=this.argb2Rgb(e);this.floorMaterial.color=n,this.floorMaterial.opacity=i}if(this.layerSetting||(this.layerSetting=new Ec({color:n,opacity:i,transparent:!0})),this.showTexture){const t=new Fc,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=fe,n.repeat.set(.005,.005)}));this.layerSetting=new Ec({map:n})}const a=[];for(let t=0,e=this.points.length;t<e;t++){if(this.points[t].length>0){const e=new OA(this.points[t]);a.push(e)}if(this.pointsList[t].length>0){const e=new OA(this.pointsList[t]);o.push(e)}}const s=new wc(a,r);this.layerMesh?(this.layer.remove(this.layerMesh),this.layerMesh.geometry.dispose(),this.layerMesh.geometry=s):(this.layerMesh=new Fr(s,this.layerSetting.clone()),this.layerMesh.type=It.indoorMapD3FrameLayer,this.layerMesh.type=It.indoorMapD3FrameFloorLayer);const l=[],c=JSON.stringify(this.gaps)===JSON.stringify(this.gapsCache);if(this.gaps.length)if(c)this.debug.isDevMode&&this.logger.info("gaps is equal before cache ==>",this.gaps,this.gapsCache),this.layerMesh=Nb.subtract(this.layerMesh,this.gapsMesh),this.layer.add(this.layerMesh);else{for(let t=0,e=this.gaps.length;t<e;t++){const e=this.gaps[t];if(e.length){const t=new OA(e);l.push(t)}}if(l.length){const t=new wc(l,r);this.gapsMesh?(this.gapsMesh.geometry.dispose(),this.gapsMesh.geometry=t):(this.gapsMesh=new Fr(t,this.layerSetting.clone()),this.gapsMesh.visible=!1),this.layerMesh=Nb.subtract(this.layerMesh,this.gapsMesh),this.layer.add(this.layerMesh)}}else this.layer.add(this.layerMesh);const A=new wc(o,{depth:.01,bevelEnabled:!1});this.floorMesh?(this.floorMesh.geometry.dispose(),this.floorMesh.geometry=A):(this.floorMesh=new Fr(A,this.floorMaterial),this.layer.add(this.floorMesh)),this.floorMesh.position.z=this.depth+.1,this.layer.position.x=0,this.layer.position.y=0,this.layer.position.z=this.depth,this.gapsCache=[].concat(this.gaps),this.logger.info("singleD3Frame children length ==>",this.layer.children.length)},this.removeSingleD3Frame=()=>(this.gapsMesh&&this.dealloc(this.gapsMesh),this.removeChildFromObject(),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.color=t.color||"#FFE1E1E1",this.floorColor=t.floorColor||"#FFCACBD2",this.depth=t.depth||10,this.points=t.points||[],this.pointsList=t.pointsList||[],this.gaps=t.gaps||[[]],this.gapsCache=t.gaps||[[]],this.center=t.center||{x:0,y:0},this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.showTexture=t.showTexture||!1,this.image=t.image||"",this.layer=this.init()}}class Vb extends Qm{constructor(t){super(),this.class=void 0,this.indoorMap2d=void 0,this.color=void 0,this.boundingWidth=void 0,this.boundingHeight=void 0,this.center=void 0,this.pointsList=void 0,this.image=void 0,this.object=void 0,this.material=void 0,this.floorMesh=void 0,this.init=()=>{this.object=new ki;const t=new Fc,e=this.image,n=t.load(e,(()=>{n.needsUpdate=!0,n.wrapS=n.wrapT=fe,n.repeat.set(.05,.05)}));this.material=new Ec({map:n});const i=[];for(let t=0,e=this.pointsList.length;t<e;t++){const e=new OA(this.pointsList[t]);i.push(e)}const r=new wc(i,{depth:.01,bevelEnabled:!1});return this.floorMesh=new Fr(r,this.material),this.object.add(this.floorMesh),this.object.position.z=-.01,this.object.rotateOnAxis(new yn(1,0,0),-Math.PI),this.object},this.getCarpetMaterialPointsList=()=>this.pointsList,this.updateD3CarpetMaterial=t=>{this.center=t.center||this.center,this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0;const e=t.image||"";if(this.pointsList=t.pointsList,e!==this.image){const t=(new Fc).load(e,(()=>{t.needsUpdate=!0,t.wrapS=t.wrapT=fe,t.repeat.set(.05,.05)}));this.material=new Ec({map:t})}const n=[];for(let t=0,e=this.pointsList.length;t<e;t++){const e=new OA(this.pointsList[t]);n.push(e)}const i=new wc(n,{depth:.001,bevelEnabled:!1});this.floorMesh?(this.floorMesh.geometry.dispose(),this.floorMesh.geometry=i,this.floorMesh.material=this.material):(this.floorMesh=new Fr(i,this.material),this.object.add(this.floorMesh)),this.object.position.z=-.01},this.removeChildFromObject=()=>{if(this.object)for(let t=0;t<this.object.children.length;t++){const e=this.object.children[t].removeFromParent();this.dealloc(e)}},this.removeD3CarpetMaterial=()=>(this.floorMesh&&this.dealloc(this.floorMesh),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.class=It.indoorMapD3FrameLayer,this.indoorMap2d=t.indoorMap2d,this.pointsList=t.pointsList||[],this.center=t.center||{x:0,y:0},this.color="#ffffff",this.boundingWidth=t.boundingWidth||0,this.boundingHeight=t.boundingHeight||0,this.image=t.image||"",this.layer=this.init()}}class zb extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.class=void 0,this.type=void 0,this.width=void 0,this.height=void 0,this.pointsArray=void 0,this.colorsArray=void 0,this.opacity=void 0,this.visible=void 0,this.positionHeight=void 0,this.renderingElement=void 0,this.element=void 0,this.drawSmearPoints=t=>(this.renderingElement.drawPointsWith2d(t.pointsArray,t.colorsArray,t.opacity,!1),this.renderingElement.getRenderingElement2d()),this.createSmearMaterial=t=>{const e=this.drawSmearPoints(t);this.element=e;const n=new Bl(this.element);n.magFilter=we,n.minFilter=we,n.needsUpdate=!0;const i=new gr({map:n,opacity:1,transparent:!0,depthWrite:!1}),r=new Vi(this.width,this.height),o=new Fr(r,i);return o.userData=t.pointsAttribute||{},o.position.z=this.positionHeight,o.visible=this.visible,o.type=It.indoorMapSmearMaterial,this.dispatchScope(o),o},this.updateSmearMaterial=t=>{this.renderingElement&&(t.width===this.width&&t.height===this.height||(this.renderingElement.setWidth(t.width),this.renderingElement.setHeight(t.height),this.renderingElement.setPixelRatio(this.indoorMap2d.pixelRatio),this.width=t.width,this.height=t.height),this.element&&(this.element=this.drawSmearPoints(t)),this.layer&&(this.layer.userData=t.pointsAttribute||{},this.layer.position.z=this.positionHeight,this.layer.visible=this.visible))},this.getSmearMaterialWidth=()=>this.width,this.getSmearMaterialHeight=()=>this.height,this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideSmearMaterial=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.removeSmearMaterial=()=>this.remove(),this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.class="smearMaterial",this.type=t.type||jt.SmearMaterial,this.width=t.width||0,this.height=t.height||0,this.pointsArray=t.pointsArray||[],this.colorsArray=t.colorsArray||[],this.opacity=t.opacity||1,this.visible=void 0===typeof t.visible||t.visible,this.positionHeight=t.positionHeight||0,this.renderingElement=new bb({is3d:!1,pixelRatio:this.indoorMap2d.pixelRatio,width:this.width,height:this.height,onLoggerInfo:t.onLoggerInfo}),this.renderingElement.setWidth(t.width),this.renderingElement.setHeight(t.height),this.renderingElement.setPixelRatio(this.indoorMap2d.pixelRatio),this.element=null,this.layer=this.createSmearMaterial(t),this.getInfo(this.layer)}}class Gb extends Qm{constructor(t){super(),this.point=void 0,this.class=void 0,this.type=void 0,this.uri=void 0,this.zIndex=void 0,this.createPlaneFloorMaterial=t=>{const e=new OA(t.point);let n;if(t.uri){const e=(new Fc).load(t.uri,(()=>{e.needsUpdate=!0,e.wrapS=fe,e.wrapT=fe,e.repeat.set(.008,.008),e.magFilter=we,e.minFilter=we}));n=new gr({map:e,opacity:1,transparent:!0,depthWrite:!1})}else n=new gr({color:"#ffffff",opacity:0,depthWrite:!1,transparent:!0});const i=new bc(e);i.computeVertexNormals();const r=new Fr(i,n);return r.position.z=this.zIndex,r.type=It.indoorMapPlaneFloorMaterialLayer,this.dispatchScope(r),r},this.getInfo=t=>{const e={target:t.id};return this.setDataInfo(e),e},this.removePlaneFloorMaterial=()=>this.remove(),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="planeFloorMaterial",this.type=t.type||jt.PlaneFloorMaterial,this.point=t.point,this.uri=t.uri||"",this.zIndex=void 0!==t.zIndex?t.zIndex:-2,this.layer=this.createPlaneFloorMaterial(t),this.getInfo(this.layer)}}let Kb="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('FloorMaterialWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\t\tif (msg.data.name === 'render') {\n\t\t\toffScreenRender(msg.data);\n\t\t}\n\n\t\tif (msg.data.name === 'resize') {\n\t\t\tcanvasResize(msg.data);\n\t\t}\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, width, height);\n\t\t\t}\n\t\t\tconsole.log('FloorMaterialWorkerRender: Thread has been disposed');\n\t\t}\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n\n\tconst canvasResize = data => {\n\t\tconst { canvas, parameters } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide an offscreenCanvas\tparams'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tconst ctx = _canvasStore.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide canvas element params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tconst { radio } = parameters;\n\t\tctx.scale(radio, radio);\n\t};\n\n\tconst offScreenRender = data => {\n\t\tconst { canvas, parameters, isInit } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide an offscreenCanvas params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst ctx = _canvasStore.getContext('2d');\n\n\t\tif (!ctx) {\n\t\t\tconsole.warn(\n\t\t\t\t'FloorMaterialWorkerRender: Please provide canvas element params'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tscale,\n\t\t\timageData,\n\t\t\tminX,\n\t\t\tmaxX,\n\t\t\tminY,\n\t\t\tmaxY,\n\t\t\tpoints,\n\t\t\tradio,\n\t\t\twidth,\n\t\t\theight,\n\t\t} = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\t\t\n\t\tctx.clearRect(0, 0, width, height);\n\n\t\tif (isInit) {\n\t\t\tctx.scale(scale, scale);\n\t\t} else {\n\t\t\tctx.scale(1 / radio, 1 / radio);\n\t\t}\n\n\t\tself.createImageBitmap(imageData).then((image) => {\n\t\t\tconst pattern = ctx.createPattern(image, 'repeat');\n\t\t\tctx.fillStyle = pattern;\n\n\t\t\tctx.fillRect(\n\t\t\t\tminX * radio,\n\t\t\t\tMath.abs(maxY) * radio,\n\t\t\t\t(maxX - minX) * radio,\n\t\t\t\t(maxY - minY) * radio\n\t\t\t);\n\n\t\t\tctx.scale(radio, radio);\n\n\t\t\tconst pointsMap = new Map(\n\t\t\t\tpoints.map((item) => [item.x + ',' + item.y, item])\n\t\t\t);\n\n\t\t\tfor (let i = minX; i <= maxX; i++) {\n\t\t\t\tfor (let j = Math.abs(maxY); j <= Math.abs(minY); j++) {\n\t\t\t\t\tif (!pointsMap.has(i + ',' + j)) {\n\t\t\t\t\t\tctx.clearRect(i, j, 1, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tself.postMessage('update');\n\t\t\t});\n\t\t});\n\t};\n}";Kb=Kb.substring(Kb.indexOf("{")+1,Kb.lastIndexOf("}"));const Zb=new Blob([Kb],{type:"application/javascript"}),Xb=(t,e)=>{if(t===e)return!0;if("object"==typeof t&&null!=t&&"object"==typeof e&&null!=e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){if(!e.hasOwnProperty(n))return!1;if(!Xb(t[n],e[n]))return!1}return!0}return!1},qb=()=>{const t=(window.navigator.userAgent||"").match(/OS (\d+)_?(\d+)?/);return t?{major:parseInt(t[1],10),minor:t[2]?parseInt(t[2],10):0}:null};var Jb=Object.freeze({__proto__:null,deepEqual:Xb,getiOSVersion:qb});const $b=2500;class tM extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.loader=void 0,this.useContour=void 0,this.points=void 0,this.class=void 0,this.uri=void 0,this.zIndex=void 0,this.minX=void 0,this.maxX=void 0,this.minY=void 0,this.maxY=void 0,this.height=void 0,this.width=void 0,this.imageSource=void 0,this.opacity=void 0,this.radio=void 0,this.useWorker=void 0,this.texture=void 0,this.material=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.canvas=void 0,this.patternCanvas=void 0,this.createRoomFloorMaterial=()=>{try{if(this.useContour){this.texture=this.loader.load(this.imageSource,(()=>{this.texture.needsUpdate=!0,this.texture.wrapS=this.texture.wrapT=fe,this.texture.repeat.set(this.radio/1e3,this.radio/1e3)})),this.material=new gr({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0});const t=new OA(this.points),e=new bc(t);e.computeVertexNormals(),e.computeBoundingBox();const n=new Fr(e,this.material);return n.type="IndoorMapRoomFloorMaterialLayer",n.userData.enableFilter=!0,this.dispatchScope(n),n}{let t=!1;const{radio:e}=this;if(t=this.width*e*1<$b||this.height*e*1<$b||Tb.test({width:this.width*e*1,height:this.height*e*1}),t){this.canvas.width=this.width*e*1,this.canvas.height=this.height*e*1,this.canvas.style.width=1*this.width+"px",this.canvas.style.height=1*this.height+"px";const t=this.drawFloor();return t.type="IndoorMapRoomFloorMaterialLayer",t.userData.enableFilter=!0,this.dispatchScope(t),t}}return null}catch(t){return this.logger.error("RoomFloorMaterialcreateRoomFloorMaterial occur error",t),null}},this.drawFloor=()=>{try{const{radio:t}=this,e=new Image;e.src=this.imageSource,e.onload=()=>{const{minX:n,minY:i,maxX:r,maxY:o}=this,a=e.width,s=e.height,l=this.patternCanvas.getContext("2d");if(l.clearRect(0,0,this.patternCanvas.width,this.patternCanvas.height),this.patternCanvas.width=a,this.patternCanvas.height=s,l.drawImage(e,0,0,a,s),this.worker){const e=l.getImageData(0,0,a,s);this.offScreenCanvas=this.canvas.transferControlToOffscreen();const c={minX:n,maxX:r,minY:i,maxY:o,points:this.points,radio:t,scale:1,imageData:e,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:c,isInit:!0},[this.offScreenCanvas]),this.worker.onMessage(this.onThreadEvt),this.workerStatus=!0}else{const e=this.canvas.getContext("2d",{});e.scale(1,1);const a=e.createPattern(this.patternCanvas,"repeat");e.fillStyle=a,e.fillRect(n*t,Math.abs(o)*t,(r-n)*t,(o-i)*t),e.scale(t,t);const s=new Map(this.points.map((t=>[`${t.x},${t.y}`,t])));for(let t=n;t<=r;t++)for(let n=Math.abs(o);n<=Math.abs(i);n++)s.has(`${t},${n}`)||e.clearRect(t,n,1,1);this.layer&&(this.texture.needsUpdate=!0)}},this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const n=new gr({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0}),i=new Vi(this.width,this.height);return new Fr(i,n)}catch(t){return this.logger.error("drawFloor ==>",t),new ki}},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.receiveRemoveEvt=()=>{this.worker&&(Mm(`${this.indoorMap2d.getUnionId()}_FloorMaterial_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.worker=void 0,this.workerStatus=!1)},this.setPosition=t=>{this.layer&&this.layer.position.set(t.x,t.y,t.z)},this.updateFloorMaterial=t=>{try{const{minX:e,maxX:n,minY:i,maxY:r,width:o,height:a,points:s,radio:l=4,opacity:c,imageSource:A}=t;if(this.minX=e?e-1:0,this.maxX=n?n+1:0,this.minY=i?i-1:0,this.maxY=r?r+1:0,this.height=a||0,this.width=o||0,this.opacity=c||1,this.radio=l||4,this.useContour){if(A!==this.imageSource&&(this.texture=this.loader.load(A,(()=>{this.imageSource=A,this.texture.needsUpdate=!0,this.texture.wrapS=this.texture.wrapT=fe,this.texture.repeat.set(this.radio/1e3,this.radio/1e3)})),this.material=new gr({map:this.texture,opacity:this.opacity,transparent:!0,depthWrite:!0})),A!==this.imageSource||JSON.stringify(this.points)!==JSON.stringify(s)){this.points=s;const t=new OA(this.points),e=new bc(t);e.computeVertexNormals(),e.computeBoundingBox(),this.layer.geometry.dispose(),this.layer.geometry=e,this.layer.material=this.material}}else{this.points=s;const e=t=>{const{minX:e,minY:n,maxX:i,maxY:r,width:o,height:a,opacity:s,radio:l,points:c}=this,u=new Image;u.src=A,u.onload=()=>{const o=u.width,a=u.height,c=this.patternCanvas.getContext("2d");if(c.clearRect(0,0,this.patternCanvas.width,this.patternCanvas.height),this.patternCanvas.width=o,this.patternCanvas.height=a,c.drawImage(u,0,0,o,a),this.worker){const t=c.getImageData(0,0,o,a),s={minX:e,maxX:i,minY:n,maxY:r,points:this.points,radio:l,scale:1,imageData:t,width:this.canvas.width,height:this.canvas.height};this.logger.info("thread start update roomFloor"),this.worker.postMessage({name:"render",parameters:s})}else{const t=this.canvas.getContext("2d",{});t.scale(1/l,1/l),t.clearRect(0,0,this.canvas.width,this.canvas.height);const o=t.createPattern(this.patternCanvas,"repeat");t.fillStyle=o,t.fillRect(e*l,Math.abs(r)*l,(i-e)*l,(r-n)*l),t.scale(l,l);const a=new Map(this.points.map((t=>[`${t.x},${t.y}`,t])));for(let o=e;o<=i;o++)for(let e=Math.abs(r);e<=Math.abs(n);e++)a.has(`${o},${e}`)||t.clearRect(o,e,1,1)}if(this.layer)if(this.texture){const t=new gr({map:this.texture,opacity:s,transparent:!0,depthWrite:!1});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const t=new gr({map:this.texture,opacity:s,transparent:!0,depthWrite:!1});this.layer.material=t}null==t||t()}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let n=!1;n=this.width*l<$b||this.height*l<$b||Tb.test({width:this.width*l,height:this.height*l}),n&&(this.canvas.width=this.width*l*1,this.canvas.height=this.height*l*1,this.canvas.style.width=1*this.width+"px",this.canvas.style.height=1*this.height+"px",e((()=>{if(this.layer){const t=new Vi(this.width,this.height);this.layer.geometry=t}})))}else e((()=>{}))}}catch(t){this.logger.error("updateRoomFloorMaterial ==>",t)}},this.removeRoomFloorMaterial=()=>this.useContour?new Promise((t=>{const e=this.remove();this.canvas=null,this.loader=null,this.material=null,this.texture=null,this.patternCanvas=null,t(e)})):this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{xm(`${this.indoorMap2d.getUnionId()}_RoomFloorMaterial_remove`,(()=>{this.logger.info("RoomFloorMaterial has been removed");const e=this.remove();this.canvas=null,this.patternCanvas=null,t(e)}))}))):new Promise((t=>{const e=this.remove();this.canvas=null,this.patternCanvas=null,t(e)})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="roomFloorMaterial",this.useContour=t.useContour||!1,this.indoorMap2d=t.indoorMap2d,this.minX=t.minX?t.minX-1:0,this.maxX=t.maxX?t.maxX+1:0,this.minY=t.minY?t.minY-1:0,this.maxY=t.maxY?t.maxY+1:0,this.height=t.height||0,this.width=t.width||0,this.opacity=t.opacity||1,this.radio=t.radio||4,this.points=t.points||[],this.imageSource=t.imageSource,this.uri=t.uri||"",this.zIndex=void 0!==t.zIndex?t.zIndex:-2,this.texture=null,this.workerStatus=!1,this.useWorker=void 0===t.useWorker||t.useWorker;const e=qb();e&&18===e.major&&(this.useWorker=!1),this.useContour&&(this.useWorker=!1,this.loader=new Fc),this.canvas=document.createElement("canvas"),this.patternCanvas=document.createElement("canvas"),Em(this.indoorMap2d.env)&&Tm(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Im(Zb)),this.layer=this.createRoomFloorMaterial()}}class eM extends Qm{constructor(t){super(),this.params=void 0,this.point=void 0,this.initImgCloud=(t,e,n)=>{var i,r;const o=new Bl(t.image);o.needsUpdate=!0,o.magFilter=we,o.minFilter=we;const a=new Is({map:o,transparent:!0,opacity:1,sizeAttenuation:!1,depthWrite:!0,alphaTest:.1});a.needsUpdate=!0;const s=new zs(a);return s.center.set(.5,0),s.scale.set(t.scale*(null==(i=t.size)?void 0:i.width),t.scale*(null==(r=t.size)?void 0:r.height),t.scale),s.position.set(t.point.x,t.point.y,t.height),s.type=e,s.point=new yn(t.point.x,t.point.y,t.height),s.params=t,s},this.updateImgCloudPosition=t=>{this.layer.position.set(t.x,-t.y,this.params.height)},this.dispatchScope=t=>{t.scope=this};const e={class:"",image:Km,size:{width:40,height:20},height:15,scale:.001,point:{x:0,y:0}};this.point=t.point;const n=Qf(e,t);Rm(n.point),this.params=n,this.layer=this.initImgCloud(n,It.indoorMapImgCloud,!1),this.dispatchScope(this.layer)}}class nM extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.dataRoom=void 0,this.dataName=void 0,this.dataOrder=void 0,this.attributes=void 0,this.position=void 0,this.size=void 0,this.moreRoomPropertiesEvent=void 0,this.onClickRoomMoreProperties=void 0,this.onClickRoomProperties=void 0,this.enableMoreEvent=void 0,this.createLabelPosition=t=>{const e={point:{x:t.position.x,y:t.position.y},image:t.labelImage||Gm,size:t.size||{width:40,height:20},height:Ut.roomLabel};return new eM(e).layer},this.updateLabelInfo=t=>{if(t.dataRoom&&(this.dataRoom=t.dataRoom),t.dataName&&(this.dataName=t.dataName),t.dataOrder&&(this.dataOrder=t.dataOrder),t.size&&(this.size={...t.size}),t.labelImage&&this.layer){const e=this.layer.visible;this.removeLabelPosition();const n={point:{x:this.position.x,y:this.position.y},image:t.labelImage||Gm,size:this.size||{width:40,height:20},height:Ut.roomLabel},i=new eM(n);this.layer=i.layer,this.indoorMap2d.map.layer.add(this.layer),this.hideLabelPosition(!e)}},this.enableMoreRoomPropertiesEvent=t=>{this.enableMoreEvent=t},this.registerMoreRoomPropertiesEvent=()=>{this.moreRoomPropertiesEvent||this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{this.enableMoreEvent&&(this.onClickRoomMoreProperties({properties:this.attributes}),this.onClickRoomProperties({properties:this.attributes}))})),this.moreRoomPropertiesEvent=!0)},this.registerRoomPropertiesEvent=()=>{this.layer&&(this.enableMoreEvent||("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{this.onClickRoomProperties({properties:this.attributes})}))))},this.removeMoreRoomPropertiesEvent=()=>{this.moreRoomPropertiesEvent&&(this.moreRoomPropertiesEvent=!1,"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap))},this.removeRoomPropertiesEvent=()=>{"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.updateLabelPosition=t=>{this.layer.scope&&"function"==typeof this.layer.scope.updateImgCloudPosition?this.layer.scope.updateImgCloudPosition({x:t.x,y:t.y}):this.layer.position.set(t.x,-t.y,0),this.position={...t}},this.hideLabelPosition=t=>{this.layer.visible=!t},this.removeLabelPosition=()=>(this.removeMoreRoomPropertiesEvent(),this.removeRoomPropertiesEvent(),this.remove()),this.logger.setLoggerInfo(t.onLoggerInfo),this.indoorMap2d=t.indoorMap2d,this.position=t.position,this.dataRoom=t.dataRoom,this.dataName=t.dataName,this.dataOrder=t.dataOrder,this.attributes=t.attributes||{},this.size={...t.size},this.layer=this.createLabelPosition(t),this.moreRoomPropertiesEvent=null,this.enableMoreEvent=!1,this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{this.logger.warn("It seems no setup the onClickRoomMoreProperties function")}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{this.logger.warn("It seems no setup the onClickRoomProperties function")})}}let iM="() => {\n\tlet _canvasStore;\n\tlet _width = 0;\n\tlet _height = 0;\n\tconsole.log('CarpetWorkerRender: Thread has been started');\n\n\tconst evtFunc = msg => {\n\n\t\tif (msg.data.name === 'render') {\n\t\t\tcarpetOffScreenRender(msg.data)\n\t\t}\n\t\t\n\t\tif (msg.data.name === 'remove') {\n\t\t\tself.postMessage('remove');\n\t\t\tself.removeEventListener('message', evtFunc, false);\n\t\t\tif (_canvasStore) {\n\t\t\t\tconst context = _canvasStore.getContext('2d');\n\t\t\t\tcontext.clearRect(0, 0, _width, _height);\n\t\t\t}\n\t\t\tconsole.log('CarpetWorkerRender: Thread has been disposed');\n\t\t}\n\t}\n\n\tself.addEventListener('message', evtFunc, false);\n\n\n\tconst carpetOffScreenRender = data => {\n\t\tconst { canvas, parameters, init } = data;\n\t\tif (!_canvasStore) {\n\t\t\t_canvasStore = canvas;\n\t\t}\n\n\t\tif (!_canvasStore) {\n\t\t\tconsole.warn('CarpetWorkerRender: Please provide an offscreenCanvas params');\n\t\t\treturn;\n\t\t}\n\n\t \n\t\tconst context = _canvasStore.getContext('2d');\n\n\t\tif (!context) {\n\t\t\tconsole.warn('CarpetWorkerRender: Please provide canvas element params');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { imageSource, iconWidth, points, radio, scale, width, height } = parameters;\n\n\t\t_width = width;\n\t\t_height = height;\n\t\t\n\t\t\tif (init) {\n\t\t\t\tcontext.scale(radio * scale, radio * scale);\n\t\t\t}\n\t\t context.clearRect(0, 0, _width, _height);\n\t\t self.createImageBitmap(imageSource).then((image) => {\n\t\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\t\tcontext.drawImage(\n\t\t\t\t\timage,\n\t\t\t\t\tpoints[i].x * iconWidth,\n\t\t\t\t\tpoints[i].y * iconWidth,\n\t\t\t\t\ticonWidth,\n\t\t\t\t\ticonWidth\n\t\t\t\t);\n\t\t\t}\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tself.postMessage('update');\n\t\t\t});\n\t\t });\n\t}\n\n}";iM=iM.substring(iM.indexOf("{")+1,iM.lastIndexOf("}"));const rM=new Blob([iM],{type:"application/javascript"}),oM=2500;class aM extends Qm{constructor(t){super(),this.indoorMap2d=void 0,this.canvas=void 0,this.textureImage=void 0,this.width=void 0,this.height=void 0,this.class=void 0,this.type=void 0,this.imageSource=void 0,this.textureObjectPoints=void 0,this.worker=void 0,this.workerStatus=void 0,this.offScreenCanvas=void 0,this.texture=void 0,this.useWorker=void 0,this.positionHeight=void 0,this.createCarpetMaterial=()=>{try{const t=5,e=1;let n=!1;if(n=this.width*e*t<oM||this.height*e*t<oM||Tb.test({width:this.width*e*t,height:this.height*e*t}),n){this.canvas.width=this.width*e*t,this.canvas.height=this.height*e*t,this.canvas.style.width=this.width*t+"px",this.canvas.style.height=this.height*t+"px";const n=this.drawCarpetBitmap(!0);return n.type="IndoorMapCarpetMaterialLayer",n.userData.enableFilter=!0,this.dispatchScope(n),n}return null}catch(t){return this.logger.error("createCarpetMaterial occur error",t),null}},this.onThreadEvt=t=>{switch(t){case"update":this.updateTexture();break;case"remove":this.receiveRemoveEvt()}},this.updateTexture=()=>{this.texture&&(this.texture.needsUpdate=!0)},this.createImageData=t=>{const e=this.indoorMap2d.pixelRatio,n=36,i=document.createElement("canvas");i.width=n,i.height=n,i.style.width=n*e+"px",i.style.height=n*e+"px";const r=i.getContext("2d");return null==r||r.scale(e,e),null==r||r.drawImage(t,0,0,n,n,0,0,n,n),r.getImageData(0,0,n,n)},this.drawCarpetBitmap=(t=!1)=>{try{const e=5,n=1,i=i=>{if(this.worker&&t){if(i){this.worker.onMessage(this.onThreadEvt);const t={imageSource:this.createImageData(i),iconWidth:1,points:this.textureObjectPoints,radio:n,scale:e,width:this.canvas.width,height:this.canvas.height};this.offScreenCanvas=this.canvas.transferControlToOffscreen(),this.worker.postMessage({name:"render",canvas:this.offScreenCanvas,parameters:t,init:!0},[this.offScreenCanvas]),this.workerStatus=!0}}else{const t=this.canvas.getContext("2d");if(t.scale(n*e,n*e),t&&i){t.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.textureObjectPoints.length;e++)t.drawImage(i,1*this.textureObjectPoints[e].x,1*this.textureObjectPoints[e].y,1,1)}}if(this.layer){this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const t=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.layer.material=t}};this.syncLoadImage(this.textureImage,i);const r=new Bl(this.canvas);r.magFilter=we,r.minFilter=we,r.needsUpdate=!0;const o=new gr({color:"#fff",map:r,opacity:1,transparent:!0,depthWrite:!0}),a=new Vi(this.width,this.height);return new Fr(a,o)}catch(t){return this.logger.error("drawCarpetBitmap ==>",t),new ki}},this.syncLoadImage=(t,e)=>{try{const n=new Promise((e=>{const n=document.createElement("img");n.crossOrigin="*",n.src=t,n.onload=function(){e(n)}}));Promise.all([n]).then((t=>{this.imageSource=t[0],e(t[0])}))}catch(t){this.logger.error("syncLoadImage ==>",t)}},this.getCarpetMaterialWidth=()=>this.width,this.getCarpetMaterialHeight=()=>this.height,this.setPosition=t=>{this.layer&&(this.positionHeight=t.z,this.layer.position.set(t.x,t.y,t.z))},this.hideCarpetMaterial=t=>{if(this.layer){const e=t?-20:this.positionHeight;this.layer.visible=!t,this.layer.position.z=e}},this.updateCarpetTexture=t=>{try{this.textureObjectPoints=t.textureObjectPoints;const e=1,n=5,i=t=>{if(this.worker){if(t){const i={imageSource:this.createImageData(t),iconWidth:1,points:this.textureObjectPoints,radio:e,scale:n,width:this.canvas.width,height:this.canvas.height};this.worker.postMessage({name:"render",parameters:i})}}else{const e=this.canvas.getContext("2d");if(e&&t){e.clearRect(0,0,this.canvas.width,this.canvas.height);for(let n=0;n<this.textureObjectPoints.length;n++)e.drawImage(t,1*this.textureObjectPoints[n].x,1*this.textureObjectPoints[n].y,1,1)}}if(this.layer)if(this.texture){const t=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.texture.needsUpdate=!0,this.layer.material=t}else{this.texture=new Bl(this.canvas),this.texture.magFilter=we,this.texture.minFilter=we,this.texture.needsUpdate=!0;const t=new gr({color:"#fff",map:this.texture,opacity:1,transparent:!0,depthWrite:!0});this.layer.material=t}};if(t.width!==this.width||t.height!==this.height){this.width=t.width,this.height=t.height;let r=!1;if(r=this.width*e*n<oM||this.height*e*n<oM||Tb.test({width:this.width*e*n,height:this.height*e*n}),r&&(this.worker||(this.canvas.width=this.width*e*n,this.canvas.height=this.height*e*n,this.canvas.style.width=this.width*n+"px",this.canvas.style.height=this.height*n+"px",this.canvas.getContext("2d").scale(e*n,e*n)),t.textureImage===this.textureImage?i(this.imageSource):(this.textureImage=t.textureImage,this.syncLoadImage(this.textureImage,i)),this.layer)){const t=new Vi(this.width,this.height);this.layer.geometry=t}}else t.textureImage===this.textureImage?i(this.imageSource):(this.textureImage=t.textureImage,this.syncLoadImage(this.textureImage,i))}catch(t){this.logger.error("updateCarpetTexture ==>",t)}},this.receiveRemoveEvt=()=>{this.worker&&(Mm(`${this.indoorMap2d.getUnionId()}_CarpetMaterial_remove`,{data:"remove"}),this.worker.terminate(),this.offScreenCanvas=null,this.canvas=null,this.worker=void 0,this.workerStatus=!1)},this.removeCarpetMaterial=()=>this.worker?(this.workerStatus&&this.worker.postMessage({name:"remove"}),new Promise((t=>{xm(`${this.indoorMap2d.getUnionId()}_CarpetMaterial_remove`,(()=>{this.logger.info("CarpetMaterial has been removed");const e=this.remove();this.canvas=null,this.offScreenCanvas=null,t(e)}))}))):new Promise((t=>{const e=this.remove();this.canvas=null,this.offScreenCanvas=null,t(e)})),this.logger.setLoggerInfo(t.onLoggerInfo),this.class="carpetMaterial",this.indoorMap2d=t.indoorMap2d,this.type=t.type||jt.Carpet,this.width=t.width||0,this.height=t.height||0,this.textureImage=t.textureImage||"",this.imageSource=null,this.workerStatus=!1,this.texture=null,this.positionHeight=0,this.useWorker=void 0===t.useWorker||t.useWorker;const e=qb();e&&18===e.major&&(this.useWorker=!1),this.canvas=document.createElement("canvas"),Em(this.indoorMap2d.env)&&Tm(this.indoorMap2d.env)&&this.useWorker&&(this.worker=Im(rM)),this.textureObjectPoints=t.textureObjectPoints||[],this.layer=this.createCarpetMaterial()}}function sM(t){let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){e=t}else e=void 0===t?{}:t;return e}function lM(t,e){const n=sM(t),i=[];return Array.isArray(n)&&n.forEach((t=>{const n=t.url,r=t.pointList||[];if(r.length>0){const t=Object.assign({},e,{textureImage:n,textureObjectPoints:r});i.push(t)}})),i}function cM(t,e){const n=sM(t),{materialMaps:i,materials:r}=n,o=[];return Array.isArray(r)&&r.forEach((t=>{if(t.extends&&void 0!==t.extends.x&&void 0!==t.extends.y&&(t.extends.x=t.extends.x+e.x,t.extends.y=t.extends.x+e.y),i[t.type]){const n={id:t.id,x:t.x+e.x,y:t.y+e.y,uri:i[t.type].uri,width:i[t.type].width,height:i[t.type].height,isScale:i[t.type].isScale||!1,scale:i[t.type].scale||.02,extends:t.extends};o.push(n)}})),o}function AM(){function t(t,e,n,i){const r=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x),o=(t.x-i.x)*(e.y-i.y)-(t.y-i.y)*(e.x-i.x);if(r*o>=0)return!1;const a=(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x);if(a*(a+r-o)>=0)return!1;const s=a/(o-r),l=s*(e.x-t.x),c=s*(e.y-t.y);return{x:t.x+l,y:t.y+c}}function e(t,e,n){const i=(e.y-t.y)/(e.x-t.x);return{x:n,y:t.y+(n-t.x)*i}}function n(t,e){let n=t.length/2%8,i=0;for(;n--;)e(t[i++],i,t);n=Math.floor(t.length/2/8);do{e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t),e(t[i++],i,t)}while(--n)}function i(t){let e;if(t&&"[object String]"==={}.toString.call(t))try{e=JSON.parse(t)}catch(n){e=t}else e=void 0===t?{}:t;return e}const r={};function o(t){if(!r[t])if(t&&9===t.length&&0===t.indexOf("#")){const e=parseInt(t.substring(1),16),n=e>>>24,i=e>>16&255,o=e>>8&255,a=255&e;r[t]={colorFormat:{r:Math.floor(i/2.55)/100,g:Math.floor(o/2.55)/100,b:Math.floor(a/2.55)/100},alpha:Math.floor(n/2.55)/100}}else r[t]={colorFormat:{r:1,g:1,b:1},alpha:1};return r[t]}function a(t){const e={tl:[0,0],tr:[0,0],br:[0,0],bl:[0,0],_tl:[0,0],_tr:[0,0],_br:[0,0],_bl:[0,0],boundingBox:{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},_boundingBox:{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}};if(t.length<1)return e;let n=9999999,i=9999999,r=-9999999,o=-9999999,a=9999999,s=9999999,l=-9999999,c=-9999999;for(let e=t.length-1;e>=0;e--){const A={x:t[e].x,y:-t[e].y},u={x:t[e].x,y:t[e].y};A.x>r&&(r=A.x),A.x<n&&(n=A.x),A.y>o&&(o=A.y),A.y<i&&(i=A.y),u.x>l&&(l=u.x),u.x<a&&(a=u.x),u.y>c&&(c=u.y),u.y<s&&(s=u.y)}e.tl=[n,i],e.tr=[r,i],e.bl=[n,o],e.br=[r,o],a-=1,s-=1,l+=1,c+=1,e._tl=[a,s],e._tr=[l,s],e._bl=[a,c],e._br=[l,c];const A=Math.sqrt(Math.pow(e.tr[0]-e.tl[0],2)+Math.pow(e.tr[1]-e.tl[1],2)),u=Math.sqrt(Math.pow(e.br[0]-e.bl[0],2)+Math.pow(e.br[1]-e.bl[1],2)),d=Math.sqrt(Math.pow(e._tr[0]-e._tl[0],2)+Math.pow(e._tr[1]-e._tl[1],2)),h=Math.sqrt(Math.pow(e._br[0]-e._bl[0],2)+Math.pow(e._br[1]-e._bl[1],2));return e.boundingBox={minX:n,minY:i,maxX:r,maxY:o,width:A,height:u},e._boundingBox={minX:a,minY:s,maxX:l,maxY:c,width:d,height:h},e}function s(t){return[(t.boundingBox.minX+t.boundingBox.maxX)/2,(t.boundingBox.minY+t.boundingBox.maxY)/2]}return function(r,l,c,A,u,d,h){let p=[],f=[r.width/2,r.height/2],m={},g=[],y=[],v=[],_=[],w=[],x=0;const b=r.origin||{x:0,y:0},M=function(r,l,c){const A=(new Date).getTime(),u=i(r.roomInfo),d={},h=[];Object.keys(u).forEach((t=>{const e=u[t],n=i(e.extend),A=e.roomProperty||[];d[t]||(d[t]={});const p=d[t];p.name=e.name,p.extend=n;let f=n.highlightColor,m=n.normalColor,g=n.pixelPathColor;l&&(f=c,m=c);const{colorFormat:y,alpha:v}=o(f),{colorFormat:_,alpha:w}=o(m),{colorFormat:x,alpha:b}=o(g);p.normalColor=m,p.highlightColor=f,p.colorAlpha=v,p.normalColorAlpha=w,p.pixelPathColorAlpha=b,p.colors=[y.r,y.g,y.b],p.normalColors=[_.r,_.g,_.b],p.pixelPathColorData=[x.r,x.g,x.b],p.pixelPathData=[];const M=n.vertexDataOuter||[],L=n.vertexDataInner||[];p.vertexDataOuter=M,p.vertexDataInner=L;let C=0,B=0,S=0,E=0;const T=[],D=[];M.forEach((t=>{const n={x:t.x,y:-t.y};C+=n.x,B+=-n.y,r.useContour&&(h.push({x:n.x,y:n.y,type:e.pixelType}),T.push({x:n.x,y:-n.y}))})),L.forEach((t=>{const e={x:t.x,y:-t.y};S+=e.x,E+=-e.y,D.push({x:e.x,y:-e.y})})),M.length,L.length;const I=s(a(T));s(a(D)),p.sumOuterX=C,p.sumOuterY=B,p.sumInnerX=S,p.sumInnerY=E,p.vertexDataOuterPoints=T,p.vertexDataInnerPoints=D,p.vertexDataOuterCenter={x:I[0],y:I[1]},p.vertexDataInnerCenter={x:I[0],y:I[1]},p.roomProperty=A,p.roomFloorMaterial2d=e.roomFloorMaterial2d,p.roomFloorMaterial3d=e.roomFloorMaterial3d,p.defaultOrder=e.defaultOrder||"0",p.isFoldable=e.isFoldable,p.roomNameTextColor=e.roomNameTextColor,p.roomNameTextFont=e.roomNameTextFont,p.roomNameTextSize=e.roomNameTextSize,p.roomNameTextStroke=e.roomNameTextStroke,p.roomPropertyBgColor=e.roomPropertyBgColor,p.roomPropertyStyle=e.roomPropertyStyle,p.roomPropertyTextColor=e.roomPropertyTextColor,p.pixelType=e.pixelType||n.pixelType||"",p.pixelMode=e.pixelMode||n.pixelMode||"",p.pixelPathColor=e.pixelPathColor||n.pixelPathColor||"#FFFFFFFF"}));const p={};r.width,r.height;const f=r.width,m=r.version,g=new Set(r.map.toLowerCase().match(/.{1,2}/g)),y=Array.from(g),v=[];let _=0,w=0;r.useContour?n(r.map.toLowerCase(),((t,e,n)=>{const i=e-1;if(0!==i&&i%f==0&&_++,_>r.height)return;const o=""+n[w++]+n[w++];if("undefinedundefined"!==o&&void 0!==d[o]){const t={x:i%f,y:_,z:0};"path"===d[o].pixelMode&&"sweep"===d[o].pixelType&&d[o].pixelPathData.push(t.x,t.y,t.z)}})):n(r.map.toLowerCase(),((t,e,n)=>{const i=e-1;if(0!==i&&i%f==0&&_++,_>r.height)return;const o=""+n[w++]+n[w++];if("undefinedundefined"!==o){if(void 0!==u[o]){const t={x:i%f,y:_,type:u[o].pixelType||""},e={x:t.x,y:-t.y,z:0};let n=u[o]?u[o].highlightColor:"",r=u[o]?u[o].normalColor:"";""!==n&&""!==r?(p[o]||(p[o]={sumX:0,sumY:0,center:[-999999,-999999],pointsArray:[],pixelPoints:[],points:[],normalColors:[],colors:[],highlightColor:"",normalColor:"",pixelType:"",pixelMode:"",pixelPathColor:"#FFFFFFFF",boundingRect:{}}),p[o].pointsArray.push(e.x,e.y,e.z),p[o].points.push({x:e.x,y:-e.y}),p[o].sumX+=e.x,p[o].sumY+=e.y,p[o].pixelPoints.push({x:e.x,y:e.y}),h.push(t)):console.warn("[MapParse] colorKeyIndex in roomInfoMap was not found",o)}if(m>=2&&"010"===function(t){let e=t;const n=t.length;if(n<8){const t=8-n;for(let n=0;n<t;n++)e="0"+e;return e}if(n>8){const t=n-8;return e=e.slice(t),e}return e}(parseInt(o,16).toString(2)).slice(5)){const t={x:i%f,y:_};v.push(t)}}}));const x=[],b=r.useContour?u:p;try{Object.keys(b).forEach((n=>{const i=b[n],o=d[n];if(o){const s={...i,...o},l=[];let c=1,A=[0,0];if(r.useContour?(c=s.vertexDataOuterPoints.length||1,A=[s.sumOuterX/c,s.sumOuterY/c],s.center={x:A[0],y:A[1]},s.boundingRect=a(s.vertexDataInnerPoints)):(c=s.pixelPoints.length||1,A=[s.sumX/c,s.sumY/c],s.center={x:A[0],y:A[1]},s.boundingRect=a(s.points)),!r.useContour){const n=s.boundingRect.boundingBox.minX,i=s.boundingRect.boundingBox.maxX,r=-s.boundingRect.boundingBox.maxY,o=-s.boundingRect.boundingBox.minY,a={x:n,y:r},c={x:i,y:r},A={x:n,y:o},u={x:i,y:o},d={x:n-10,y:-s.center.y},h={x:i+10,y:-s.center.y},p=t(d,h,a,A),f=t(d,h,c,u);if(p&&f){for(let t=n;t<i;t++){const n=e(p,f,t);n.y=-n.y,n.x=n.x;const i={x:Math.ceil(n.x),y:Math.ceil(n.y)},r={x:Math.floor(n.x),y:Math.floor(n.y)};if(l.push(i,r),Math.floor(n.x)!==Math.ceil(n.x)&&Math.floor(n.y)!==Math.ceil(n.y)){const t={x:Math.ceil(n.x),y:Math.floor(n.y)},e={x:Math.floor(n.x),y:Math.ceil(n.y)};l.push(t,e)}}const t=new Map(s.pixelPoints.map((t=>[t.x+","+t.y,t]))),r=l.filter((e=>{const n=e.x+","+e.y;return t.has(n)}));if(r.sort(((t,e)=>t.x-t.y-(e.x-e.y))),r.length>=2){const t=r[0],e=r[r.length-1];s.center={x:(t.x+e.x)/2,y:(t.y+e.y)/2}}}}const u={useContour:r.useContour,pointsArray:s.pointsArray||[],pixelPathData:s.pixelPathData||[],center:s.center,pointsAttribute:{...s,colorHex:n,newColorConfig:{normalColor:"",highlightColor:""},allInInner:l}};r.useContour?(s.extend.roomId>=0||"path"===s.pixelMode)&&(s.extend.roomId>=0||u.pointsAttribute.pixelPathData&&u.pointsAttribute.pixelPathData.length)&&x.push(u):x.push(u)}}))}catch(t){console.error(t)}const M=a(h),L=s(M),C=(new Date).getTime()-A;return{fragmentMapArray:x,center:L,boundingBox:M,pixelCoords:h,carpetPointsList:v,keySetArray:y,parseTime:C}}(r,l,c);return p=M.fragmentMapArray,f=M.center,m=M.boundingBox,v=M.pixelCoords,x=M.parseTime,_=M.keySetArray,w=M.carpetPointsList,g=function(t,e){const n=i(t),{materialMaps:r,materials:o}=n,a=[];return Array.isArray(o)&&o.forEach((t=>{if(t.extends&&void 0!==t.extends.x&&void 0!==t.extends.y&&(t.extends.x=t.extends.x+e.x,t.extends.y=t.extends.x+e.y),r[t.type]){const n={id:t.id,x:t.x+e.x,y:t.y+e.y,uri:r[t.type].uri,width:r[t.type].width,height:r[t.type].height,isScale:r[t.type].isScale||!1,scale:r[t.type].scale||.02,extends:t.extends};a.push(n)}})),a}(r.materialObject,b),Array.isArray(r.textureObject)&&(y=function(t,e){const n=i(t),r=[];return Array.isArray(n)&&n.forEach((t=>{const n=t.url,i=t.pointList||[];if(i.length>0){const t=Object.assign({},e,{textureImage:n,textureObjectPoints:i});r.push(t)}})),r}(r.textureObject.map((t=>void 0===t.pointList?Object.assign(t,{pointList:w}):t)),{width:r.width,height:r.height})),{textureList:y,fragmentMapArray:p,center:f,keySetArray:_,boundingBox:m,pixelCoords:v,materialList:g,name:A,identifyId:u,timestamp:d,parseTime:x,is3d:l,d3WallColor:c,hashCode:h}}(...arguments)}AM.toString();let uM='() => {\n\tconst evtFunc = msg => {\n\t\t// ============= start =============\n\t\tfunction parseDataFn() {\n\t\t\tfunction parseData(mapState,\tis3d, d3WallColor, name, identifyId, timestamp, hashCode) {\n\t\t\n\t\t\t\tlet fragmentMapArray = [];\n\t\t\t\tlet center = [mapState.width / 2, mapState.height / 2];\n\t\t\t\tlet boundingBox = {};\n\t\t\t\tlet materialList = [];\n\t\t\t\tlet textureList = [];\n\t\t\t\tlet pixelCoords = [];\n\t\t\t\tlet keySetArray = [];\n\t\t\t\tlet carpetPointsList = [];\n\t\t\t\tlet parseTime = 0; \n\t\t\t\tconst newOrigin = mapState.origin || { x: 0, y: 0 };\n\t\t\t\tconst origin = newOrigin;\n\t\t\n\t\t\t\tconst mapData = parseMap(mapState, is3d, d3WallColor);\n\t\t\t\tfragmentMapArray = mapData.fragmentMapArray;\n\t\t\t\tcenter = mapData.center;\n\t\t\t\tboundingBox = mapData.boundingBox;\n\t\t\t\tpixelCoords = mapData.pixelCoords;\n\t\t\t\tparseTime = mapData.parseTime;\n\t\t\t\tkeySetArray = mapData.keySetArray;\n\t\t\t\tcarpetPointsList = mapData.carpetPointsList;\n\n\t\t\t\tmaterialList = parseMaterial(mapState.materialObject, origin);\n\t\t\t\tif (Array.isArray(mapState.textureObject)) {\n\t\t\t\t\tconst textureObjectList = mapState.textureObject.map((textureObject) => {\n\t\t\t\t\t if (textureObject.pointList === undefined) {\n\t\t\t\t\t\t\tconst texture = Object.assign(textureObject, { pointList: carpetPointsList })\n\t\t\t\t\t\t\treturn texture;\n\t\t\t\t\t }\n\t\t\t\t\t return textureObject;\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\ttextureList = parseTextureObject(textureObjectList, {\n\t\t\t\t\t\twidth: mapState.width,\n\t\t\t\t\t\theight: mapState.height,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\n\t\t\n\t\t\t\tconst laserMap = {\n\t\t\t\t\ttextureList,\n\t\t\t\t\tfragmentMapArray,\n\t\t\t\t\tcenter,\n\t\t\t\t\tkeySetArray,\n\t\t\t\t\tboundingBox,\n\t\t\t\t\tpixelCoords,\n\t\t\t\t\tmaterialList,\n\t\t\t\t\tname,\n\t\t\t\t\tidentifyId,\n\t\t\t\t\ttimestamp,\n\t\t\t\t\tparseTime,\n\t\t\t\t\tis3d,\n\t\t\t\t\td3WallColor,\n\t\t\t\t\thashCode\n\t\t\t\t};\n\t\t\t\treturn laserMap;\n\t\t\t}\n\t\t\t/**\n\t\t\t * \n\t\t\t */\n\t\t\tfunction defaultStorePoint() {\n\t\t\t\treturn {\n\t\t\t\t\tsumX: 0,\n\t\t\t\t\tsumY: 0,\n\t\t\t\t\tcenter: [-999999, -999999],\n\t\t\t\t\tpointsArray: [],\n\t\t\t\t\tpixelPoints: [],\n\t\t\t\t\tpoints: [],\n\t\t\t\t\tnormalColors: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\thighlightColor: "",\n\t\t\t\t\tnormalColor: "",\n\t\t\t\t\tpixelType: "",\n\t\t\t\t\tpixelMode: "",\n\t\t\t\t\tpixelPathColor: "#FFFFFFFF",\n\t\t\t\t\tboundingRect: {},\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction lineSegmentsIntersection(a, b, c,\td) {\n\t\t\n\t\t\t\tconst area_abc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);\n\t\t\n\t\t\t\tconst area_abd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);\n\t\t\n\t\t\t\tif (area_abc * area_abd >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tconst area_cda = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);\n\t\t\n\t\t\t\tconst area_cdb = area_cda + area_abc - area_abd;\n\t\t\t\tif (area_cda * area_cdb >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tconst t = area_cda / (area_abd - area_abc);\n\t\t\t\tconst dx = t * (b.x - a.x),\n\t\t\t\t\tdy = t * (b.y - a.y);\n\t\t\t\treturn { x: a.x + dx, y: a.y + dy} ;\n\t\t\t};\n\t\t\n\t\t\tfunction pointAtX(a, b, x) {\n\t\t\t\tconst k = (b.y - a.y) / (b.x - a.x);\n\t\t\t\tconst y = a.y + (x - a.x) * k;\n\t\t\t\treturn { x: x, y: y };\n\t\t\t};\n\t\t\n\t\t\n\t\t\t/**\n\t\t\t * \n\t\t\t * @param items\n\t\t\t * @param executed\n\t\t\t */\n\t\t\tfunction duffEvery(items, executed) {\n\t\t\t\tlet iterations = (items.length / 2) % 8;\n\t\t\t\tlet i = 0;\n\t\t\t\twhile (iterations--) {\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t}\n\t\t\t\titerations = Math.floor(items.length / 2 / 8);\n\t\t\t\tdo {\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t\texecuted(items[i++], i, items);\n\t\t\t\t} while (--iterations);\n\t\t\t}\n\t\t\n\t\t\tfunction parseMap(mapState, is3d, d3WallColor) {\n\t\t\t\tconst startTime = new Date().getTime();\n\t\t\t\tconst roomInfoMap = parseJSON(mapState.roomInfo);\n\t\t\t\tconst roomInfoSet = {};\n\t\t\t\tconst rectPoints = [];\n\t\t\n\t\t\t\tObject.keys(roomInfoMap).forEach((key) => {\n\t\t\t\t\tconst item = roomInfoMap[key];\n\t\t\t\t\tconst extend = parseJSON(item.extend);\n\t\t\t\t\tconst roomProperty = item.roomProperty || [];\n\t\t\t\t\tif (!roomInfoSet[key]) roomInfoSet[key] = {};\n\t\t\t\t\tconst instance = roomInfoSet[key];\n\t\t\t\t\tinstance["name"] = item.name;\n\t\t\t\t\tinstance["extend"] = extend;\n\t\t\t\t\t// For color\n\t\t\t\t\tlet originColor = extend.highlightColor;\n\t\t\t\t\tlet normalOriginColor = extend.normalColor;\n\t\t\t\t\tlet pixelPathColor = extend.pixelPathColor;\n\t\t\n\t\t\t\t\tif (is3d) {\n\t\t\t\t\t\toriginColor = d3WallColor;\n\t\t\t\t\t\tnormalOriginColor = d3WallColor;\n\t\t\t\t\t}\n\t\t\t\t\tconst { colorFormat, alpha: colorAlpha } = argb2Rgb(originColor);\n\t\t\t\t\tconst { colorFormat: normalColorFormat, alpha: normalColorAlpha } =\n\t\t\t\t\t\targb2Rgb(normalOriginColor);\n\t\t\n\t\t\t\t\tconst { colorFormat: pathColorFormat, alpha: pathColorAlpha } = argb2Rgb(pixelPathColor);\n\t\t\t\t\t\n\t\t\t\t\tinstance["normalColor"] = normalOriginColor;\n\t\t\t\t\tinstance["highlightColor"] = originColor;\n\t\t\t\t\tinstance["colorAlpha"] = colorAlpha;\n\t\t\t\t\tinstance["normalColorAlpha"] = normalColorAlpha;\n\t\t\t\t\tinstance["pixelPathColorAlpha"] = pathColorAlpha;\n\t\t\t\t\tinstance["colors"] = [\n\t\t\t\t\t\tcolorFormat.r,\n\t\t\t\t\t\tcolorFormat.g,\n\t\t\t\t\t\tcolorFormat.b,\n\t\t\t\t\t];\n\t\t\t\t\tinstance["normalColors"] = [\n\t\t\t\t\t\tnormalColorFormat.r,\n\t\t\t\t\t\tnormalColorFormat.g,\n\t\t\t\t\t\tnormalColorFormat.b,\n\t\t\t\t\t];\n\t\t\n\t\t\t\t\tinstance["pixelPathColorData"] = [\n\t\t\t\t\t\tpathColorFormat.r,\n\t\t\t\t\t\tpathColorFormat.g,\n\t\t\t\t\t\tpathColorFormat.b,\n\t\t\t\t\t];\n\t\t\n\t\t\t\t\tinstance["pixelPathData"] = [];\n\t\t\n\t\t\t\t\tconst vertexDataOuter = extend.vertexDataOuter || [];\n\t\t\t\t\tconst vertexDataInner = extend.vertexDataInner || [];\n\t\t\t\t\t// For contour\n\t\t\t\t\tinstance["vertexDataOuter"] = vertexDataOuter;\n\t\t\t\t\tinstance["vertexDataInner"] = vertexDataInner;\n\t\t\t\t\t// Contour Center\n\t\t\t\t\tlet sumOuterX = 0;\n\t\t\t\t\tlet sumOuterY = 0;\n\t\t\t\t\tlet sumInnerX = 0;\n\t\t\t\t\tlet sumInnerY = 0;\n\t\t\t\t\tconst vertexDataOuterPoints = [];\n\t\t\t\t\tconst vertexDataInnerPoints = [];\n\t\t\t\t\tvertexDataOuter.forEach(coord => {\n\t\t\t\t\t\tconst realPoints = { x: coord.x, y: -coord.y };\n\t\t\t\t\t\tsumOuterX += realPoints.x;\n\t\t\t\t\t\tsumOuterY += -realPoints.y;\n\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\trectPoints.push({\n\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\ty: realPoints.y,\n\t\t\t\t\t\t\t\ttype: item.pixelType,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvertexDataOuterPoints.push({ x: realPoints.x, y: -realPoints.y })\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvertexDataInner.forEach(coord => {\n\t\t\t\t\t\tconst realPoints = { x: coord.x, y: -coord.y };\n\t\t\t\t\t\tsumInnerX += realPoints.x;\n\t\t\t\t\t\tsumInnerY += -realPoints.y;\n\t\t\t\t\t\tvertexDataInnerPoints.push({ x: realPoints.x, y: -realPoints.y })\n\t\t\t\t\t});\n\t\t\t\t\tconst outerLength = vertexDataOuter.length|| 1;\n\t\t\t\t\tconst innerLength = vertexDataInner.length || 1;\n\t\t\t\t\tconst boundingOuter = getBoundingRect(vertexDataOuterPoints);\n\t\t\t\t\tconst outerCenter = getCenterOfBounding(boundingOuter);\n\t\t\t\t\tconst boundingInner = getBoundingRect(vertexDataInnerPoints);\n\t\t\t\t\tconst innerCenter = getCenterOfBounding(boundingInner);\n\t\t\t\t\tinstance["sumOuterX"] = sumOuterX;\n\t\t\t\t\tinstance["sumOuterY"] = sumOuterY;\n\t\t\t\t\tinstance["sumInnerX"] = sumInnerX;\n\t\t\t\t\tinstance["sumInnerY"] = sumInnerY;\n\t\t\t\t\tinstance["vertexDataOuterPoints"] = vertexDataOuterPoints;\n\t\t\t\t\tinstance["vertexDataInnerPoints"] = vertexDataInnerPoints;\n\t\t\t\t\tinstance["vertexDataOuterCenter"] = { x: outerCenter[0], y: outerCenter[1] };\n\t\t\t\t\tinstance["vertexDataInnerCenter"] = { x: outerCenter[0], y: outerCenter[1] };\n\t\t\t\t\tinstance["roomProperty"] = roomProperty;\n\t\t\t\t\tinstance["roomFloorMaterial2d"] = item.roomFloorMaterial2d;\n\t\t\t\t\tinstance["roomFloorMaterial3d"] = item.roomFloorMaterial3d;\n\t\t\t\t\tinstance["defaultOrder"] = item.defaultOrder || "0";\n\t\t\t\t\tinstance["isFoldable"] = item.isFoldable;\n\t\t\t\t\tinstance["roomNameTextColor"] = item.roomNameTextColor;\n\t\t\t\t\tinstance["roomNameTextFont"] = item.roomNameTextFont;\n\t\t\t\t\tinstance["roomNameTextSize"] = item.roomNameTextSize;\n\t\t\t\t\tinstance["roomNameTextStroke"] = item.roomNameTextStroke;\n\t\t\t\t\tinstance["roomPropertyBgColor"] = item.roomPropertyBgColor;\n\t\t\t\t\tinstance["roomPropertyStyle"] = item.roomPropertyStyle;\n\t\t\t\t\tinstance["roomPropertyTextColor"] = item.roomPropertyTextColor;\n\t\t\t\t\tinstance["pixelType"] = item.pixelType || extend.pixelType || "";\n\t\t\t\t\tinstance["pixelMode"] = item.pixelMode || extend.pixelMode || "";\n\t\t\t\t\tinstance["pixelPathColor"] = item.pixelPathColor || extend.pixelPathColor || "#FFFFFFFF";\n\t\t\t\t});\n\t\t\n\t\t\t\t// +++++++++++++++++++++++++++++\n\t\t\t\tconst colorStorePoints = {};\n\t\t\t\tconst length = mapState.width * mapState.height;\n\t\t\t\tconst width = mapState.width;\n\t\t\t\tconst version = mapState.version;\n\t\t\t\tconst keySet = new Set(mapState.map.toLowerCase().match(/.{1,2}/g));\n\t\t\t\tconst keySetArray = Array.from(keySet);\n\t\t\t\tconst carpetPointsList = [];\n\t\t\n\t\t\t\tlet jIndex = 0;\n\t\t\t\tlet count = 0;\n\t\t\t\tconst executed = (item, index, items) => {\n\t\t\t\t\tconst sIndex = index - 1;\n\t\t\t\t\tif (sIndex !== 0 && sIndex % width === 0) {\n\t\t\t\t\t\tjIndex++;\n\t\t\t\t\t}\n\t\t\t\t\tif (jIndex > mapState.height) return;\n\t\t\t\t\tconst colorKeyIndex = "" + items[count++] + items[count++];\n\t\t\t\t\tif (colorKeyIndex !== "undefinedundefined") {\n\t\t\t\t\t\tif (roomInfoMap[colorKeyIndex] !== undefined) {\n\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\ttype: roomInfoMap[colorKeyIndex].pixelType || "",\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconst realPoints = { x: point.x, y: -point.y, z: 0 };\n\t\t\t\t\t\t\tlet originColor = roomInfoMap[colorKeyIndex]\n\t\t\t\t\t\t\t\t? roomInfoMap[colorKeyIndex].highlightColor\n\t\t\t\t\t\t\t\t: "";\n\t\t\t\t\t\t\tlet normalOriginColor = roomInfoMap[colorKeyIndex]\n\t\t\t\t\t\t\t\t? roomInfoMap[colorKeyIndex].normalColor\n\t\t\t\t\t\t\t\t: "";\n\t\t\t\t\t\t\tif (originColor !== "" && normalOriginColor !== "") {\n\t\t\t\t\t\t\t\tif (!colorStorePoints[colorKeyIndex]) {\n\t\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex] = defaultStorePoint();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].pointsArray.push(\n\t\t\t\t\t\t\t\t\trealPoints.x,\n\t\t\t\t\t\t\t\t\trealPoints.y,\n\t\t\t\t\t\t\t\t\trealPoints.z\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].points.push({\n\t\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\t\ty: -realPoints.y,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].sumX += realPoints.x;\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].sumY += realPoints.y;\n\t\t\t\t\t\t\t\tcolorStorePoints[colorKeyIndex].pixelPoints.push({\n\t\t\t\t\t\t\t\t\tx: realPoints.x,\n\t\t\t\t\t\t\t\t\ty: realPoints.y,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\trectPoints.push(point);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn(\'[MapParse] colorKeyIndex in roomInfoMap was not found\', colorKeyIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// , SDK\n\t\t\t\t\t\tif (version >= 2) {\n\t\t\t\t\t\t\tconst pointInfo = padStart(parseInt(colorKeyIndex, 16).toString(2), 8, \'0\').slice(5);\n\t\t\t\t\t\t\tif (pointInfo === \'010\') {\n\t\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcarpetPointsList.push(point);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tconst executedPath = (item, index, items) => {\n\t\t\t\t\tconst sIndex = index - 1;\n\t\t\t\t\tif (sIndex !== 0 && sIndex % width === 0) {\n\t\t\t\t\t\tjIndex++;\n\t\t\t\t\t}\n\t\t\t\t\tif (jIndex > mapState.height) return;\n\t\t\t\t\tconst colorKeyIndex = "" + items[count++] + items[count++];\n\t\t\t\t\tif (colorKeyIndex !== "undefinedundefined") {\n\t\t\t\t\t\tif (roomInfoSet[colorKeyIndex] !== undefined) {\n\t\t\t\t\t\t\tconst point = {\n\t\t\t\t\t\t\t\tx: sIndex % width,\n\t\t\t\t\t\t\t\ty: jIndex,\n\t\t\t\t\t\t\t\tz: 0,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (roomInfoSet[colorKeyIndex].pixelMode === \'path\' && roomInfoSet[colorKeyIndex].pixelType === \'sweep\') {\n\t\t\t\t\t\t\t\troomInfoSet[colorKeyIndex].pixelPathData.push(point.x, point.y, point.z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tif (!mapState.useContour)\t{\n\t\t\t\t\t// \n\t\t\t\t\t// \n\t\t\t\t\tduffEvery(mapState.map.toLowerCase(), executed);\n\t\t\t\t} else {\n\t\t\t\t\tduffEvery(mapState.map.toLowerCase(), executedPath);\n\t\t\t\t}\n\t\t\n\t\t\t\tconst fragmentMapArray = [];\n\t\t\t\tconst loopItems = mapState.useContour ? roomInfoMap : colorStorePoints;\n\t\t\t\t// +++++++++++++++++++++++++++++\n\t\t\t\ttry {\n\t\t\t\t\tObject.keys(loopItems).forEach((key) => {\n\t\t\t\t\t\tconst defaultItem = loopItems[key];\n\t\t\t\t\t\tconst beforeItem = roomInfoSet[key];\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (beforeItem) {\n\t\t\t\t\t\t\tconst item = { ...defaultItem, ...beforeItem };\n\t\t\t\t\t\t\tconst allInLine = [];\n\t\t\t\t\t\t\tlet pointsLength = 1;\n\t\t\t\t\t\t\tlet center = [0, 0];\n\t\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\t\tpointsLength = item.vertexDataOuterPoints.length || 1;\n\t\t\t\t\t\t\t\tcenter = [item.sumOuterX / pointsLength, item.sumOuterY / pointsLength];\n\t\t\t\t\t\t\t\titem.center = { x: center[0], y: center[1] };\n\t\t\t\t\t\t\t\titem.boundingRect = getBoundingRect(item.vertexDataInnerPoints);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpointsLength = item.pixelPoints.length || 1;\n\t\t\t\t\t\t\t\tcenter = [item.sumX / pointsLength, item.sumY / pointsLength];\n\t\t\t\t\t\t\t\titem.center = { x: center[0], y: center[1] };\n\t\t\t\t\t\t\t\titem.boundingRect = getBoundingRect(item.points);\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tif (!mapState.useContour) {\n\t\t\t\t\t\t\t\t// check center points\n\t\t\t\t\t\t\t\tconst minX = item.boundingRect.boundingBox.minX;\n\t\t\t\t\t\t\t\tconst maxX = item.boundingRect.boundingBox.maxX;\n\t\t\t\t\t\t\t\tconst minY = -item.boundingRect.boundingBox.maxY;\n\t\t\t\t\t\t\t\tconst maxY = -item.boundingRect.boundingBox.minY;\n\t\t\t\t\t\t\t\tconst topLeftPoint = { x: minX, y: minY };\n\t\t\t\t\t\t\t\tconst topRightPoint = { x: maxX, y: minY\t};\n\t\t\t\t\t\t\t\tconst bottomLeftPoint = { x: minX, y: maxY };\n\t\t\t\t\t\t\t\tconst bottomRightPoint = { x: maxX, y: maxY };\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst leftPoint = {\n\t\t\t\t\t\t\t\t\tx: minX - 10,\n\t\t\t\t\t\t\t\t\ty: -item.center.y,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst rightPoint = {\n\t\t\t\t\t\t\t\t\tx: maxX + 10,\n\t\t\t\t\t\t\t\t\ty: -item.center.y,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\t\t\t\tconst crossLeft = lineSegmentsIntersection(leftPoint, rightPoint, topLeftPoint, bottomLeftPoint);\n\t\t\t\t\t\t\t\tconst crossRight = lineSegmentsIntersection(leftPoint, rightPoint, topRightPoint, bottomRightPoint);\n\t\t\n\t\t\t\t\t\t\t\tif (crossLeft && crossRight) {\n\t\t\t\t\t\t\t\t\tfor (let i = minX; i < maxX; i++) {\n\t\t\t\t\t\t\t\t\t\tconst dot = pointAtX(crossLeft, crossRight, i);\n\t\t\t\t\t\t\t\t\t\tdot.y = -dot.y;\n\t\t\t\t\t\t\t\t\t\tdot.x = dot.x;\n\t\t\t\t\t\t\t\t\t\tconst a = { x: Math.ceil(dot.x), y: Math.ceil(dot.y) };\n\t\t\t\t\t\t\t\t\t\tconst b = { x: Math.floor(dot.x), y: Math.floor(dot.y) };\n\t\t\t\t\t\t\t\t\t\tallInLine.push(a, b);\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tMath.floor(dot.x) !== Math.ceil(dot.x) &&\n\t\t\t\t\t\t\t\t\t\t\tMath.floor(dot.y) !== Math.ceil(dot.y)\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tconst c = { x: Math.ceil(dot.x), y: Math.floor(dot.y) };\n\t\t\t\t\t\t\t\t\t\t\tconst d = { x: Math.floor(dot.x), y: Math.ceil(dot.y) };\n\t\t\t\t\t\t\t\t\t\t\tallInLine.push(c, d);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\t\tconst pixelPointsStoreMap = new Map(\n\t\t\t\t\t\t\t\t\t\titem.pixelPoints.map((v) => {\n\t\t\t\t\t\t\t\t\t\t\tconst str = v.x + \',\' + v.y;\n\t\t\t\t\t\t\t\t\t\t\treturn [str, v]\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst allInInner = allInLine.filter((v) => {\n\t\t\t\t\t\t\t\t\t\tconst str = v.x + \',\' + v.y;\n\t\t\t\t\t\t\t\t\t\treturn pixelPointsStoreMap.has(str);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t// \n\t\t\t\t\t\t\t\t\tallInInner.sort((a, b) => {\n\t\t\t\t\t\t\t\t\t\treturn a.x - a.y - (b.x - b.y);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (allInInner.length >= 2 ) {\n\t\t\t\t\t\t\t\t\t\tconst p0 = allInInner[0];\n\t\t\t\t\t\t\t\t\t\tconst p1 = allInInner[allInInner.length - 1];\n\t\t\t\t\t\t\t\t\t\titem.center = { x: (p0.x + p1.x) / 2, y: (p0.y + p1.y) / 2 };\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tconst fragmentElement = {\n\t\t\t\t\t\t\t\tuseContour: mapState.useContour,\n\t\t\t\t\t\t\t\tpointsArray: item.pointsArray || [],\n\t\t\t\t\t\t\t\tpixelPathData: item.pixelPathData || [],\n\t\t\t\t\t\t\t\tcenter: item.center,\n\t\t\t\t\t\t\t\tpointsAttribute: {\n\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\tcolorHex: key,\n\t\t\t\t\t\t\t\t\tnewColorConfig: { normalColor: "", highlightColor: "" },\n\t\t\t\t\t\t\t\t\tallInInner: allInLine,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\n\t\t\t\t\t\t\tif (mapState.useContour) {\n\t\t\t\t\t\t\t\tif (item.extend.roomId >= 0 || item.pixelMode === \'path\') {\n\t\t\t\t\t\t\t\t\tif (item.extend.roomId >= 0 || (fragmentElement.pointsAttribute.pixelPathData && fragmentElement.pointsAttribute.pixelPathData.length)) {\n\t\t\t\t\t\t\t\t\t\tfragmentMapArray.push(fragmentElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfragmentMapArray.push(fragmentElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\n\t\t\t\tconst boundRect = getBoundingRect(rectPoints);\n\t\t\t\tconst boundCenter = getCenterOfBounding(boundRect);\n\t\t\n\t\t\t\tconst endTime = new Date().getTime();\n\t\t\n\t\t\t\tconst parseTime = endTime - startTime;\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfragmentMapArray,\n\t\t\t\t\tcenter: boundCenter,\n\t\t\t\t\tboundingBox: boundRect,\n\t\t\t\t\tpixelCoords: rectPoints,\n\t\t\t\t\tcarpetPointsList,\n\t\t\t\t\tkeySetArray,\n\t\t\t\t\tparseTime, \n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction padStart(str, length, chars) {\n\t\t\t\tlet result = str;\n\t\t\t\tconst len = str.length;\n\t\t\t\tif (len < length) {\n\t\t\t\t\tconst addCount = length - len;\n\t\t\t\t\tfor (let i = 0; i < addCount; i++) {\n\t\t\t\t\t\tresult = \'\' + chars + result;\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tif (len > length) {\n\t\t\t\t\tconst subCount = len - length;\n\t\t\t\t\tresult = result.slice(subCount);\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\n\t\t\tfunction parseMaterial(materialData, origin) {\n\t\t\t\tconst materialObject = parseJSON(materialData);\n\t\t\t\tconst { materialMaps, materials } = materialObject;\n\t\t\t\tconst materialList = [];\n\t\t\t\tArray.isArray(materials) &&\n\t\t\t\t\tmaterials.forEach((material) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tmaterial.extends &&\n\t\t\t\t\t\t\tmaterial.extends.x !== undefined &&\n\t\t\t\t\t\t\tmaterial.extends.y !== undefined\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmaterial.extends.x = material.extends.x + origin.x;\n\t\t\t\t\t\t\tmaterial.extends.y = material.extends.x + origin.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (materialMaps[material.type]) {\n\t\t\t\t\t\t\tconst formatMaterial = {\n\t\t\t\t\t\t\t\tid: material.id,\n\t\t\t\t\t\t\t\tx: material.x + origin.x,\n\t\t\t\t\t\t\t\ty: material.y + origin.y,\n\t\t\t\t\t\t\t\turi: materialMaps[material.type].uri,\n\t\t\t\t\t\t\t\twidth: materialMaps[material.type].width,\n\t\t\t\t\t\t\t\theight: materialMaps[material.type].height,\n\t\t\t\t\t\t\t\tisScale: materialMaps[material.type].isScale || false,\n\t\t\t\t\t\t\t\tscale: materialMaps[material.type].scale || 0.02,\n\t\t\t\t\t\t\t\textends: material.extends,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmaterialList.push(formatMaterial);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\treturn materialList;\n\t\t\t}\n\t\t\n\t\t\tfunction parseTextureObject(textureData, opt) {\n\t\t\t\tconst textureObjects = parseJSON(textureData);\n\t\t\t\tconst textureList = [];\n\t\t\n\t\t\t\tArray.isArray(textureObjects) &&\n\t\t\t\t\ttextureObjects.forEach((texture) => {\n\t\t\t\t\t\tconst textureImage = texture.url;\n\t\t\t\t\t\tconst textureObjectPoints = texture.pointList || [];\n\t\t\t\t\t\tif (textureObjectPoints.length > 0) {\n\t\t\t\t\t\t\tconst textureObject = Object.assign({}, opt, {\n\t\t\t\t\t\t\t\ttextureImage,\n\t\t\t\t\t\t\t\ttextureObjectPoints,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttextureList.push(textureObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\treturn textureList;\n\t\t\t}\n\t\t\n\t\t\tfunction parseJSON(str) {\n\t\t\t\tlet rst;\n\t\t\t\tif (str && {}.toString.call(str) === "[object String]") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\trst = JSON.parse(str);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\trst = str;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trst = typeof str === "undefined" ? {} : str;\n\t\t\t\t}\n\t\t\t\treturn rst;\n\t\t\t}\n\t\t\n\t\t\t// \n\t\t\tconst colorCache = {};\n\t\t\n\t\t\tfunction argb2Rgb(color) {\n\t\t\t\tif (!colorCache[color]) {\n\t\t\t\t\tif (color && color.length === 9 && color.indexOf("#") === 0) {\n\t\t\t\t\t\tconst colorInt = parseInt(color.substring(1), 16);\n\t\t\t\t\t\tconst a = colorInt >>> 24; \n\t\t\t\t\t\tconst r = (colorInt >> 16) & 0xff;\n\t\t\t\t\t\tconst g = (colorInt >> 8) & 0xff;\n\t\t\t\t\t\tconst b = colorInt & 0xff;\n\t\t\n\t\t\t\t\t\tcolorCache[color] = {\n\t\t\t\t\t\t\tcolorFormat: {\n\t\t\t\t\t\t\t\tr: Math.floor(r / 2.55) / 100,\n\t\t\t\t\t\t\t\tg: Math.floor(g / 2.55) / 100,\n\t\t\t\t\t\t\t\tb: Math.floor(b / 2.55) / 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\talpha: Math.floor(a / 2.55) / 100,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolorCache[color] = { colorFormat: { r: 1, g: 1, b: 1 }, alpha: 1 };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn colorCache[color];\n\t\t\t}\n\t\t\n\t\t\tfunction getBoundingRect(points) {\n\t\t\t\tconst rect = {\n\t\t\t\t\ttl: [0, 0],\n\t\t\t\t\ttr: [0, 0],\n\t\t\t\t\tbr: [0, 0],\n\t\t\t\t\tbl: [0, 0],\n\t\t\t\t\t_tl: [0, 0],\n\t\t\t\t\t_tr: [0, 0],\n\t\t\t\t\t_br: [0, 0],\n\t\t\t\t\t_bl: [0, 0],\n\t\t\t\t\tboundingBox: {\n\t\t\t\t\t\tminX: 0,\n\t\t\t\t\t\tminY: 0,\n\t\t\t\t\t\tmaxX: 0,\n\t\t\t\t\t\tmaxY: 0,\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0,\n\t\t\t\t\t},\n\t\t\t\t\t_boundingBox: {\n\t\t\t\t\t\tminX: 0,\n\t\t\t\t\t\tminY: 0,\n\t\t\t\t\t\tmaxX: 0,\n\t\t\t\t\t\tmaxY: 0,\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tif (points.length < 1) {\n\t\t\t\t\treturn rect;\n\t\t\t\t}\n\t\t\n\t\t\t\tlet minX = 9999999,\n\t\t\t\t\tminY = 9999999,\n\t\t\t\t\tmaxX = -9999999,\n\t\t\t\t\tmaxY = -9999999;\n\t\t\t\t\n\t\t\t\tlet _minX = 9999999,\n\t\t\t\t\t_minY = 9999999,\n\t\t\t\t\t_maxX = -9999999,\n\t\t\t\t\t_maxY = -9999999;\n\t\t\n\t\t\t\tfor (let i = points.length - 1; i >= 0; i--) {\n\t\t\t\t\tconst point = { x: points[i].x, y: -points[i].y };\n\t\t\t\t\tconst coord = { x: points[i].x, y: points[i].y };\n\t\t\t\t\tif (point.x > maxX) {\n\t\t\t\t\t\tmaxX = point.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.x < minX) {\n\t\t\t\t\t\tminX = point.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.y > maxY) {\n\t\t\t\t\t\tmaxY = point.y;\n\t\t\t\t\t}\n\t\t\t\t\tif (point.y < minY) {\n\t\t\t\t\t\tminY = point.y;\n\t\t\t\t\t}\n\t\t\t\t\t// \n\t\t\t\t\tif (coord.x > _maxX) {\n\t\t\t\t\t\t_maxX = coord.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.x < _minX) {\n\t\t\t\t\t\t_minX = coord.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.y > _maxY) {\n\t\t\t\t\t\t_maxY = coord.y;\n\t\t\t\t\t}\n\t\t\t\t\tif (coord.y < _minY) {\n\t\t\t\t\t\t_minY = coord.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trect.tl = [minX, minY];\n\t\t\t\trect.tr = [maxX, minY];\n\t\t\t\trect.bl = [minX, maxY];\n\t\t\t\trect.br = [maxX, maxY];\n\t\t\n\t\t\t\t_minX = _minX - 1;\n\t\t\t\t_minY = _minY - 1;\n\t\t\t\t_maxX = _maxX + 1;\n\t\t\t\t_maxY = _maxY + 1;\n\t\t\n\t\t\t\trect._tl = [_minX, _minY];\n\t\t\t\trect._tr = [_maxX, _minY];\n\t\t\t\trect._bl = [_minX, _maxY];\n\t\t\t\trect._br = [_maxX, _maxY];\n\t\t\n\t\t\t\tconst width = Math.sqrt(\n\t\t\t\t\tMath.pow(rect.tr[0] - rect.tl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect.tr[1] - rect.tl[1], 2)\n\t\t\t\t);\n\t\t\t\tconst height = Math.sqrt(\n\t\t\t\t\tMath.pow(rect.br[0] - rect.bl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect.br[1] - rect.bl[1], 2)\n\t\t\t\t);\n\t\t\n\t\t\t\tconst _width = Math.sqrt(\n\t\t\t\t\tMath.pow(rect._tr[0] - rect._tl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect._tr[1] - rect._tl[1], 2)\n\t\t\t\t);\n\t\t\t\tconst _height = Math.sqrt(\n\t\t\t\t\tMath.pow(rect._br[0] - rect._bl[0], 2) +\n\t\t\t\t\t\tMath.pow(rect._br[1] - rect._bl[1], 2)\n\t\t\t\t);\n\t\t\n\t\t\t\trect.boundingBox = {\n\t\t\t\t\tminX: minX,\n\t\t\t\t\tminY: minY,\n\t\t\t\t\tmaxX: maxX,\n\t\t\t\t\tmaxY: maxY,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t};\n\t\t\n\t\t\t\trect._boundingBox = {\n\t\t\t\t\tminX: _minX,\n\t\t\t\t\tminY: _minY,\n\t\t\t\t\tmaxX: _maxX,\n\t\t\t\t\tmaxY: _maxY,\n\t\t\t\t\twidth: _width,\n\t\t\t\t\theight: _height,\n\t\t\t\t};\n\t\t\n\t\t\t\treturn rect;\n\t\t\t}\n\t\t\n\t\t\tfunction getCenterOfBounding(rect) {\n\t\t\t\tconst minX = rect.boundingBox.minX;\n\t\t\t\tconst maxX = rect.boundingBox.maxX;\n\t\t\t\tconst minY = rect.boundingBox.minY;\n\t\t\t\tconst maxY = rect.boundingBox.maxY;\n\t\t\t\tconst cx = (minX + maxX) / 2;\n\t\t\t\tconst cy = (minY + maxY) / 2;\n\t\t\n\t\t\t\treturn [cx, cy];\n\t\t\t}\n\t\t\n\t\t\tfunction isEqual(target, source) {\n\t\t\t\tif (typeof target === "string" && typeof source === "string") {\n\t\t\t\t\treturn target === source;\n\t\t\t\t} else if (\n\t\t\t\t\tObject.prototype.toString.call(target) === "[object Object]" &&\n\t\t\t\t\tObject.prototype.toString.call(source) === "[object Object]"\n\t\t\t\t) {\n\t\t\t\t\treturn JSON.stringify(target) === JSON.stringify(source);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\n\t\t\treturn parseData(...arguments);\n\t\t}\n\t\t\n\n\t\t// ============= end =============\n\n\n\t\tconst { name } = msg.data;\n\t\t\t\t\t\n\t\tconst parseDataFnStr = parseDataFn.toString();\n\t\tconst fnStr = parseDataFnStr.substring(\n\t\t\tparseDataFnStr.indexOf(\'{\') + 1,\n\t\t\tparseDataFnStr.lastIndexOf(\'}\'));\n\n\n\t\tif (name === \'parseData\') {\n\t\t\tconst { mapState, is3d, d3WallColor, identifyId, timestamp, hashCode } =\n\t\t\t\tmsg.data;\n\t\t\tconst FunctionCallee = Function || window.Function;\n\n\t\t\tconst fn = new FunctionCallee(fnStr);\n\t\t\tconst result = fn(\n\t\t\t\tmapState,\n\t\t\t\tis3d,\n\t\t\t\td3WallColor,\n\t\t\t\tname,\n\t\t\t\tidentifyId,\n\t\t\t\ttimestamp,\n\t\t\t\thashCode\n\t\t\t);\n\t\t\tself.postMessage(result);\n\t\t}\n\t\tif (name === \'remove\') {\n\t\t\tself.postMessage({ name: \'remove\' });\n\t\t\tself.removeEventListener(\'message\', evtFunc, false);\n\t\t}\n\t};\n\n\tself.addEventListener(\'message\', evtFunc, false);\n}';uM=uM.substring(uM.indexOf("{")+1,uM.lastIndexOf("}"));const dM=new Blob([uM],{type:"application/javascript"});var hM={exports:{}};hM.exports=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};function i(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?n(t.value):r(t.value).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function r(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}for(var a=function(){function t(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return t.prototype.add=function(e,n,i,r){return new t(this.left+e,this.top+n,this.width+i,this.height+r)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var i=Array.from(n).find((function(t){return 0!==t.width}));return i?new t(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),s=function(t,e){return a.fromClientRect(t,e.getBoundingClientRect())},l=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var a=t[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||i.length>16384)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<64;d++)u[A.charCodeAt(d)]=d;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<64;f++)p[h.charCodeAt(f)]=f;for(var m=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},g=function(){function t(t,e,n,i,r,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256),_=0;_<64;_++)v[y.charCodeAt(_)]=_;var w=10,x=13,b=15,M=17,L=18,C=19,B=20,S=21,E=22,T=24,D=25,I=26,P=27,k=28,F=30,U=32,R=33,O=34,H=35,Y=37,Q=38,j=39,N=40,W=42,V=[9001,65288],z="",G="",K=function(t){var e=function(t){var e,n,i,r,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),A=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=p[t.charCodeAt(e)],i=p[t.charCodeAt(e+1)],r=p[t.charCodeAt(e+2)],o=p[t.charCodeAt(e+3)],A[l++]=n<<2|i>>4,A[l++]=(15&i)<<4|r>>2,A[l++]=(3&r)<<6|63&o;return c}(t),n=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=4)n.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return n}(e):new Uint32Array(e),i=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n.push(t[i+1]<<8|t[i]);return n}(e):new Uint16Array(e),r=m(i,12,n[4]/2),o=2===n[5]?m(i,(24+n[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(n,Math.ceil((24+n[4])/4));return new g(n[0],n[1],n[2],n[3],r,o)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Z=[F,36],X=[1,2,3,5],q=[w,8],J=[P,I],$=X.concat(q),tt=[Q,j,N,O,H],et=[b,x],nt=function(t,e,n,i){var r=i[n];if(Array.isArray(t)?-1!==t.indexOf(r):t===r)for(var o=n;o<=i.length;){if((l=i[++o])===e)return!0;if(l!==w)break}if(r===w)for(o=n;o>0;){var a=i[--o];if(Array.isArray(t)?-1!==t.indexOf(a):t===a)for(var s=n;s<=i.length;){var l;if((l=i[++s])===e)return!0;if(l!==w)break}if(a!==w)break}return!1},it=function(t,e){for(var n=t;n>=0;){var i=e[n];if(i!==w)return i;n--}return 0},rt=function(t,e,n,i,r){if(0===n[i])return z;var o=i-1;if(Array.isArray(r)&&!0===r[o])return z;var a=o-1,s=o+1,l=e[o],c=a>=0?e[a]:0,A=e[s];if(2===l&&3===A)return z;if(-1!==X.indexOf(l))return"!";if(-1!==X.indexOf(A))return z;if(-1!==q.indexOf(A))return z;if(8===it(o,e))return G;if(11===K.get(t[o]))return z;if((l===U||l===R)&&11===K.get(t[s]))return z;if(7===l||7===A)return z;if(9===l)return z;if(-1===[w,x,b].indexOf(l)&&9===A)return z;if(-1!==[M,L,C,T,k].indexOf(A))return z;if(it(o,e)===E)return z;if(nt(23,E,o,e))return z;if(nt([M,L],S,o,e))return z;if(nt(12,12,o,e))return z;if(l===w)return G;if(23===l||23===A)return z;if(16===A||16===l)return G;if(-1!==[x,b,S].indexOf(A)||14===l)return z;if(36===c&&-1!==et.indexOf(l))return z;if(l===k&&36===A)return z;if(A===B)return z;if(-1!==Z.indexOf(A)&&l===D||-1!==Z.indexOf(l)&&A===D)return z;if(l===P&&-1!==[Y,U,R].indexOf(A)||-1!==[Y,U,R].indexOf(l)&&A===I)return z;if(-1!==Z.indexOf(l)&&-1!==J.indexOf(A)||-1!==J.indexOf(l)&&-1!==Z.indexOf(A))return z;if(-1!==[P,I].indexOf(l)&&(A===D||-1!==[E,b].indexOf(A)&&e[s+1]===D)||-1!==[E,b].indexOf(l)&&A===D||l===D&&-1!==[D,k,T].indexOf(A))return z;if(-1!==[D,k,T,M,L].indexOf(A))for(var u=o;u>=0;){if((d=e[u])===D)return z;if(-1===[k,T].indexOf(d))break;u--}if(-1!==[P,I].indexOf(A))for(u=-1!==[M,L].indexOf(l)?a:o;u>=0;){var d;if((d=e[u])===D)return z;if(-1===[k,T].indexOf(d))break;u--}if(Q===l&&-1!==[Q,j,O,H].indexOf(A)||-1!==[j,O].indexOf(l)&&-1!==[j,N].indexOf(A)||-1!==[N,H].indexOf(l)&&A===N)return z;if(-1!==tt.indexOf(l)&&-1!==[B,I].indexOf(A)||-1!==tt.indexOf(A)&&l===P)return z;if(-1!==Z.indexOf(l)&&-1!==Z.indexOf(A))return z;if(l===T&&-1!==Z.indexOf(A))return z;if(-1!==Z.concat(D).indexOf(l)&&A===E&&-1===V.indexOf(t[s])||-1!==Z.concat(D).indexOf(A)&&l===L)return z;if(41===l&&41===A){for(var h=n[o],p=1;h>0&&41===e[--h];)p++;if(p%2!=0)return z}return l===U&&A===R?z:G},ot=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],i=[],r=[];return t.forEach((function(t,o){var a=K.get(t);if(a>50?(r.push(!0),a-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return i.push(o),n.push(16);if(4===a||11===a){if(0===o)return i.push(o),n.push(F);var s=n[o-1];return-1===$.indexOf(s)?(i.push(i[o-1]),n.push(s)):(i.push(o),n.push(F))}return i.push(o),31===a?n.push("strict"===e?S:Y):a===W||29===a?n.push(F):43===a?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(Y):n.push(F):void n.push(a)})),[i,n,r]}(t,e.lineBreak),i=n[0],r=n[1],o=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map((function(t){return-1!==[D,F,W].indexOf(t)?Y:t})));var a="keep-all"===e.wordBreak?o.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0;return[i,r,a]},at=function(){function t(t,e,n,i){this.codePoints=t,this.required="!"===e,this.start=n,this.end=i}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),st=45,lt=43,ct=-1,At=function(t){return t>=48&&t<=57},ut=function(t){return At(t)||t>=65&&t<=70||t>=97&&t<=102},dt=function(t){return 10===t||9===t||32===t},ht=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},pt=function(t){return ht(t)||At(t)||t===st},ft=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},mt=function(t,e){return 92===t&&10!==e},gt=function(t,e,n){return t===st?ht(e)||mt(e,n):!!ht(t)||!(92!==t||!mt(t,e))},yt=function(t,e,n){return t===lt||t===st?!!At(e)||46===e&&At(n):At(46===t?e:t)},vt=function(t){var e=0,n=1;t[e]!==lt&&t[e]!==st||(t[e]===st&&(n=-1),e++);for(var i=[];At(t[e]);)i.push(t[e++]);var r=i.length?parseInt(c.apply(void 0,i),10):0;46===t[e]&&e++;for(var o=[];At(t[e]);)o.push(t[e++]);var a=o.length,s=a?parseInt(c.apply(void 0,o),10):0;69!==t[e]&&101!==t[e]||e++;var l=1;t[e]!==lt&&t[e]!==st||(t[e]===st&&(l=-1),e++);for(var A=[];At(t[e]);)A.push(t[e++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(r+s*Math.pow(10,-a))*Math.pow(10,l*u)},_t={type:2},wt={type:3},xt={type:4},bt={type:13},Mt={type:8},Lt={type:21},Ct={type:9},Bt={type:10},St={type:11},Et={type:12},Tt={type:14},Dt={type:23},It={type:1},Pt={type:25},kt={type:24},Ft={type:26},Ut={type:27},Rt={type:28},Ot={type:29},Ht={type:31},Yt={type:32},Qt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(l(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Yt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(pt(e)||mt(n,i)){var r=gt(e,n,i)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),bt;break;case 39:return this.consumeStringToken(39);case 40:return _t;case 41:return wt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Tt;break;case lt:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return xt;case st:var o=t,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(yt(o,a,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(gt(o,a,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(a===st&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),kt;break;case 46:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(l===ct)return this.consumeToken()}break;case 58:return Ft;case 59:return Ut;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),Pt;break;case 64:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(gt(A,u,d))return{type:7,value:this.consumeName()};break;case 91:return Rt;case 92:if(mt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Ot;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Mt;break;case 123:return St;case 125:return Et;case 117:case 85:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==lt||!ut(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ct;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Lt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Bt;break;case ct:return Yt}return dt(t)?(this.consumeWhiteSpace(),Ht):At(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ht(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();ut(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(c.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var i=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===st&&ut(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var r=[];ut(e)&&r.length<6;)r.push(e),e=this.consumeCodePoint();return{type:30,start:i,end:parseInt(c.apply(void 0,r),16)}}return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Dt)}for(;;){var i=this.consumeCodePoint();if(i===ct||41===i)return{type:22,value:c.apply(void 0,t)};if(dt(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Dt);if(34===i||39===i||40===i||ft(i))return this.consumeBadUrlRemnants(),Dt;if(92===i){if(!mt(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Dt;t.push(this.consumeEscapedCodePoint())}else t.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;dt(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===ct)return;mt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(5e4,t);e+=c.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var i=this._value[n];if(i===ct||void 0===i||i===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(10===i)return this._value.splice(0,n),It;if(92===i){var r=this._value[n+1];r!==ct&&void 0!==r&&(10===r?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):mt(i,r)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(n!==lt&&n!==st||t.push(this.consumeCodePoint());At(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&At(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;At(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((i===lt||i===st)&&At(r)||At(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;At(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[vt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);return gt(i,r,o)?{type:15,number:e,flags:n,unit:this.consumeName()}:37===i?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ut(t)){for(var e=c(t);ut(this.peekCodePoint(0))&&e.length<6;)e+=c(this.consumeCodePoint());dt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return t===ct?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(pt(e))t+=c(e);else{if(!mt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),jt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Qt;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||qt(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Yt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Nt=function(t){return 15===t.type},Wt=function(t){return 17===t.type},Vt=function(t){return 20===t.type},zt=function(t){return 0===t.type},Gt=function(t,e){return Vt(t)&&t.value===e},Kt=function(t){return 31!==t.type},Zt=function(t){return 31!==t.type&&4!==t.type},Xt=function(t){var e=[],n=[];return t.forEach((function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)})),n.length&&e.push(n),e},qt=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Jt=function(t){return 17===t.type||15===t.type},$t=function(t){return 16===t.type||Jt(t)},te=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ee={type:17,number:0,flags:4},ne={type:16,number:50,flags:4},ie={type:16,number:100,flags:4},re=function(t,e,n){var i=t[0],r=t[1];return[oe(i,e),oe(void 0!==r?r:i,n)]},oe=function(t,e){if(16===t.type)return t.number/100*e;if(Nt(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},ae="grad",se="turn",le=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case ae:return Math.PI/200*e.number;case"rad":return e.number;case se:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ce=function(t){return 15===t.type&&("deg"===t.unit||t.unit===ae||"rad"===t.unit||t.unit===se)},Ae=function(t){switch(t.filter(Vt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ee,ee];case"to top":case"bottom":return ue(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ee,ie];case"to right":case"left":return ue(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ie,ie];case"to bottom":case"top":return ue(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ie,ee];case"to left":case"right":return ue(270)}return 0},ue=function(t){return Math.PI*t/180},de=function(t,e){if(18===e.type){var n=_e[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var i=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);return fe(parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16),1)}if(4===e.value.length){i=e.value.substring(0,1),r=e.value.substring(1,2),o=e.value.substring(2,3);var a=e.value.substring(3,4);return fe(parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===e.value.length)return i=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),fe(parseInt(i,16),parseInt(r,16),parseInt(o,16),1);if(8===e.value.length)return i=e.value.substring(0,2),r=e.value.substring(2,4),o=e.value.substring(4,6),a=e.value.substring(6,8),fe(parseInt(i,16),parseInt(r,16),parseInt(o,16),parseInt(a,16)/255)}if(20===e.type){var s=xe[e.value.toUpperCase()];if(void 0!==s)return s}return xe.TRANSPARENT},he=function(t){return!(255&t)},pe=function(t){var e=255&t,n=255&t>>8,i=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+i+","+n+","+e/255+")":"rgb("+r+","+i+","+n+")"},fe=function(t,e,n,i){return(t<<24|e<<16|n<<8|Math.round(255*i))>>>0},me=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},ge=function(t,e){var n=e.filter(Zt);if(3===n.length){var i=n.map(me),r=i[0],o=i[1],a=i[2];return fe(r,o,a,1)}if(4===n.length){var s=n.map(me),l=(r=s[0],o=s[1],a=s[2],s[3]);return fe(r,o,a,l)}return 0};function ye(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ve=function(t,e){var n=e.filter(Zt),i=n[0],r=n[1],o=n[2],a=n[3],s=(17===i.type?ue(i.number):le(t,i))/(2*Math.PI),l=$t(r)?r.number/100:0,c=$t(o)?o.number/100:0,A=void 0!==a&&$t(a)?oe(a,1):1;if(0===l)return fe(255*c,255*c,255*c,1);var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u,h=ye(d,u,s+1/3),p=ye(d,u,s),f=ye(d,u,s-1/3);return fe(255*h,255*p,255*f,A)},_e={hsl:ve,hsla:ve,rgb:ge,rgba:ge},we=function(t,e){return de(t,jt.create(e).parseComponentValue())},xe={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},be={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Vt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Me={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Le=function(t,e){var n=de(t,e[0]),i=e[1];return i&&$t(i)?{color:n,stop:i}:{color:n,stop:null}},Ce=function(t,e){var n=t[0],i=t[t.length-1];null===n.stop&&(n.stop=ee),null===i.stop&&(i.stop=ie);for(var r=[],o=0,a=0;a<t.length;a++){var s=t[a].stop;if(null!==s){var l=oe(s,e);l>o?r.push(l):r.push(o),o=l}else r.push(null)}var c=null;for(a=0;a<r.length;a++){var A=r[a];if(null===A)null===c&&(c=a);else if(null!==c){for(var u=a-c,d=(A-r[c-1])/(u+1),h=1;h<=u;h++)r[c+h-1]=d*h;c=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,r[n]/e),0)}}))},Be=function(t,e,n){var i="number"==typeof t?t:function(t,e,n){var i=e/2,r=n/2,o=oe(t[0],e)-i,a=r-oe(t[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)}(t,e,n),r=Math.abs(e*Math.sin(i))+Math.abs(n*Math.cos(i)),o=e/2,a=n/2,s=r/2,l=Math.sin(i-Math.PI/2)*s,c=Math.cos(i-Math.PI/2)*s;return[r,o-c,o+c,a-l,a+l]},Se=function(t,e){return Math.sqrt(t*t+e*e)},Ee=function(t,e,n,i,r){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var o=e[0],a=e[1],s=Se(n-o,i-a);return(r?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Te=function(t,e){var n=ue(180),i=[];return Xt(e).forEach((function(e,r){if(0===r){var o=e[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=Ae(e));if(ce(o))return void(n=(le(t,o)+ue(270))%ue(360))}var a=Le(t,e);i.push(a)})),{angle:n,stops:i,type:1}},De="closest-side",Ie="farthest-side",Pe="closest-corner",ke="farthest-corner",Fe="circle",Ue="ellipse",Re="cover",Oe="contain",He=function(t,e){var n=0,i=3,r=[],o=[];return Xt(e).forEach((function(e,a){var s=!0;if(0===a?s=e.reduce((function(t,e){if(Vt(e))switch(e.value){case"center":return o.push(ne),!1;case"top":case"left":return o.push(ee),!1;case"right":case"bottom":return o.push(ie),!1}else if($t(e)||Jt(e))return o.push(e),!1;return t}),s):1===a&&(s=e.reduce((function(t,e){if(Vt(e))switch(e.value){case Fe:return n=0,!1;case Ue:return n=1,!1;case Oe:case De:return i=0,!1;case Ie:return i=1,!1;case Pe:return i=2,!1;case Re:case ke:return i=3,!1}else if(Jt(e)||$t(e))return Array.isArray(i)||(i=[]),i.push(e),!1;return t}),s)),s){var l=Le(t,e);r.push(l)}})),{size:i,shape:n,stops:r,position:o,type:2}},Ye=function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var i=je[e.name];if(void 0===i)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(t,e.values)}throw new Error("Unsupported image type "+e.type)};var Qe,je={"linear-gradient":function(t,e){var n=ue(180),i=[];return Xt(e).forEach((function(e,r){if(0===r){var o=e[0];if(20===o.type&&"to"===o.value)return void(n=Ae(e));if(ce(o))return void(n=le(t,o))}var a=Le(t,e);i.push(a)})),{angle:n,stops:i,type:1}},"-moz-linear-gradient":Te,"-ms-linear-gradient":Te,"-o-linear-gradient":Te,"-webkit-linear-gradient":Te,"radial-gradient":function(t,e){var n=0,i=3,r=[],o=[];return Xt(e).forEach((function(e,a){var s=!0;if(0===a){var l=!1;s=e.reduce((function(t,e){if(l)if(Vt(e))switch(e.value){case"center":return o.push(ne),t;case"top":case"left":return o.push(ee),t;case"right":case"bottom":return o.push(ie),t}else($t(e)||Jt(e))&&o.push(e);else if(Vt(e))switch(e.value){case Fe:return n=0,!1;case Ue:return n=1,!1;case"at":return l=!0,!1;case De:return i=0,!1;case Re:case Ie:return i=1,!1;case Oe:case Pe:return i=2,!1;case ke:return i=3,!1}else if(Jt(e)||$t(e))return Array.isArray(i)||(i=[]),i.push(e),!1;return t}),s)}if(s){var c=Le(t,e);r.push(c)}})),{size:i,shape:n,stops:r,position:o,type:2}},"-moz-radial-gradient":He,"-ms-radial-gradient":He,"-o-radial-gradient":He,"-webkit-radial-gradient":He,"-webkit-gradient":function(t,e){var n=ue(180),i=[],r=1;return Xt(e).forEach((function(e,n){var o=e[0];if(0===n){if(Vt(o)&&"linear"===o.value)return void(r=1);if(Vt(o)&&"radial"===o.value)return void(r=2)}if(18===o.type)if("from"===o.name){var a=de(t,o.values[0]);i.push({stop:ee,color:a})}else if("to"===o.name)a=de(t,o.values[0]),i.push({stop:ie,color:a});else if("color-stop"===o.name){var s=o.values.filter(Zt);if(2===s.length){a=de(t,s[1]);var l=s[0];Wt(l)&&i.push({stop:{type:16,number:100*l.number,flags:l.flags},color:a})}}})),1===r?{angle:(n+ue(180))%ue(360),stops:i,type:r}:{size:3,shape:0,stops:i,position:[],type:r}}},Ne={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter((function(t){return Zt(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!je[t.name])}(t)})).map((function(e){return Ye(t,e)}))}},We={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Vt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ve={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Xt(e).map((function(t){return t.filter($t)})).map(te)}},ze={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Xt(e).map((function(t){return t.filter(Vt).map((function(t){return t.value})).join(" ")})).map(Ge)}},Ge=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Qe||(Qe={}));var Ke,Ze={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Xt(e).map((function(t){return t.filter(Xe)}))}},Xe=function(t){return Vt(t)||$t(t)},qe=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Je=qe("top"),$e=qe("right"),tn=qe("bottom"),en=qe("left"),nn=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return te(e.filter($t))}}},rn=nn("top-left"),on=nn("top-right"),an=nn("bottom-right"),sn=nn("bottom-left"),ln=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cn=ln("top"),An=ln("right"),un=ln("bottom"),dn=ln("left"),hn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Nt(e)?e.number:0}}},pn=hn("top"),fn=hn("right"),mn=hn("bottom"),gn=hn("left"),yn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},_n={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).reduce((function(t,e){return t|wn(e.value)}),0)}},wn=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},xn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Ke||(Ke={}));var Mn,Ln={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?Ke.STRICT:Ke.NORMAL}},Cn={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bn=function(t,e){return Vt(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:$t(t)?oe(t,e):e},Sn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:Ye(t,e)}},En={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},Tn={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Dn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},In=Dn("top"),Pn=Dn("right"),kn=Dn("bottom"),Fn=Dn("left"),Un={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Rn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},On=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Hn=On("top"),Yn=On("right"),Qn=On("bottom"),jn=On("left"),Nn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Wn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Vn={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gt(e[0],"none")?[]:Xt(e).map((function(e){for(var n={color:xe.TRANSPARENT,offsetX:ee,offsetY:ee,blur:ee},i=0,r=0;r<e.length;r++){var o=e[r];Jt(o)?(0===i?n.offsetX=o:1===i?n.offsetY=o:n.blur=o,i++):n.color=de(t,o)}return n}))}},zn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=Kn[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Kn={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),n=e[0],i=e[1];e[2],e[3];var r=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],s=e[13];return e[14],e[15],16===e.length?[n,i,r,o,a,s]:null}},Zn={type:16,number:50,flags:4},Xn=[Zn,Zn],qn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter($t);return 2!==n.length?Xn:[n[0],n[1]]}},Jn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(Mn||(Mn={}));for(var $n={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Mn.BREAK_ALL;case"keep-all":return Mn.KEEP_ALL;default:return Mn.NORMAL}}},ti={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Wt(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},ei={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},ni={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Wt(e)?e.number:1}},ii={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ri={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Vt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},oi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],i=[];return e.forEach((function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:i.push(n.join(" ")),n.length=0}})),n.length&&i.push(n.join(" ")),i.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},ai={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},si={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Wt(e)?e.number:Vt(e)&&"bold"===e.value?700:400}},li={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Vt).map((function(t){return t.value}))}},ci={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Ai=function(t,e){return!!(t&e)},ui={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},di={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var i=[],r=e.filter(Kt),o=0;o<r.length;o++){var a=r[o],s=r[o+1];if(20===a.type){var l=s&&Wt(s)?s.number:1;i.push({counter:a.value,increment:l})}}return i}},hi={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],i=e.filter(Kt),r=0;r<i.length;r++){var o=i[r],a=i[r+1];if(Vt(o)&&"none"!==o.value){var s=a&&Wt(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},pi={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Nt).map((function(e){return ei.parse(t,e)}))}},fi={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var i=[],r=e.filter(zt);if(r.length%2!=0)return null;for(var o=0;o<r.length;o+=2){var a=r[o].value,s=r[o+1].value;i.push({open:a,close:s})}return i}},mi=function(t,e,n){if(!t)return"";var i=t[Math.min(e,t.length-1)];return i?n?i.open:i.close:""},gi={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gt(e[0],"none")?[]:Xt(e).map((function(e){for(var n={color:255,offsetX:ee,offsetY:ee,blur:ee,spread:ee,inset:!1},i=0,r=0;r<e.length;r++){var o=e[r];Gt(o,"inset")?n.inset=!0:Jt(o)?(0===i?n.offsetX=o:1===i?n.offsetY=o:2===i?n.blur=o:n.spread=o,i++):n.color=de(t,o)}return n}))}},yi={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[];return e.filter(Vt).forEach((function(t){switch(t.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n}},vi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_i={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Nt(e)?e.number:0}},wi=function(){function t(t,e){var n,i;this.animationDuration=Mi(t,pi,e.animationDuration),this.backgroundClip=Mi(t,be,e.backgroundClip),this.backgroundColor=Mi(t,Me,e.backgroundColor),this.backgroundImage=Mi(t,Ne,e.backgroundImage),this.backgroundOrigin=Mi(t,We,e.backgroundOrigin),this.backgroundPosition=Mi(t,Ve,e.backgroundPosition),this.backgroundRepeat=Mi(t,ze,e.backgroundRepeat),this.backgroundSize=Mi(t,Ze,e.backgroundSize),this.borderTopColor=Mi(t,Je,e.borderTopColor),this.borderRightColor=Mi(t,$e,e.borderRightColor),this.borderBottomColor=Mi(t,tn,e.borderBottomColor),this.borderLeftColor=Mi(t,en,e.borderLeftColor),this.borderTopLeftRadius=Mi(t,rn,e.borderTopLeftRadius),this.borderTopRightRadius=Mi(t,on,e.borderTopRightRadius),this.borderBottomRightRadius=Mi(t,an,e.borderBottomRightRadius),this.borderBottomLeftRadius=Mi(t,sn,e.borderBottomLeftRadius),this.borderTopStyle=Mi(t,cn,e.borderTopStyle),this.borderRightStyle=Mi(t,An,e.borderRightStyle),this.borderBottomStyle=Mi(t,un,e.borderBottomStyle),this.borderLeftStyle=Mi(t,dn,e.borderLeftStyle),this.borderTopWidth=Mi(t,pn,e.borderTopWidth),this.borderRightWidth=Mi(t,fn,e.borderRightWidth),this.borderBottomWidth=Mi(t,mn,e.borderBottomWidth),this.borderLeftWidth=Mi(t,gn,e.borderLeftWidth),this.boxShadow=Mi(t,gi,e.boxShadow),this.color=Mi(t,yn,e.color),this.direction=Mi(t,vn,e.direction),this.display=Mi(t,_n,e.display),this.float=Mi(t,xn,e.cssFloat),this.fontFamily=Mi(t,oi,e.fontFamily),this.fontSize=Mi(t,ai,e.fontSize),this.fontStyle=Mi(t,ci,e.fontStyle),this.fontVariant=Mi(t,li,e.fontVariant),this.fontWeight=Mi(t,si,e.fontWeight),this.letterSpacing=Mi(t,bn,e.letterSpacing),this.lineBreak=Mi(t,Ln,e.lineBreak),this.lineHeight=Mi(t,Cn,e.lineHeight),this.listStyleImage=Mi(t,Sn,e.listStyleImage),this.listStylePosition=Mi(t,En,e.listStylePosition),this.listStyleType=Mi(t,Tn,e.listStyleType),this.marginTop=Mi(t,In,e.marginTop),this.marginRight=Mi(t,Pn,e.marginRight),this.marginBottom=Mi(t,kn,e.marginBottom),this.marginLeft=Mi(t,Fn,e.marginLeft),this.opacity=Mi(t,ni,e.opacity);var r=Mi(t,Un,e.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=Mi(t,Rn,e.overflowWrap),this.paddingTop=Mi(t,Hn,e.paddingTop),this.paddingRight=Mi(t,Yn,e.paddingRight),this.paddingBottom=Mi(t,Qn,e.paddingBottom),this.paddingLeft=Mi(t,jn,e.paddingLeft),this.paintOrder=Mi(t,yi,e.paintOrder),this.position=Mi(t,Wn,e.position),this.textAlign=Mi(t,Nn,e.textAlign),this.textDecorationColor=Mi(t,ii,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=Mi(t,ri,null!==(i=e.textDecorationLine)&&void 0!==i?i:e.textDecoration),this.textShadow=Mi(t,Vn,e.textShadow),this.textTransform=Mi(t,zn,e.textTransform),this.transform=Mi(t,Gn,e.transform),this.transformOrigin=Mi(t,qn,e.transformOrigin),this.visibility=Mi(t,Jn,e.visibility),this.webkitTextStrokeColor=Mi(t,vi,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mi(t,_i,e.webkitTextStrokeWidth),this.wordBreak=Mi(t,$n,e.wordBreak),this.zIndex=Mi(t,ti,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return he(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},t}(),xi=function(t,e){this.content=Mi(t,ui,e.content),this.quotes=Mi(t,fi,e.quotes)},bi=function(t,e){this.counterIncrement=Mi(t,di,e.counterIncrement),this.counterReset=Mi(t,hi,e.counterReset)},Mi=function(t,e,n){var i=new Qt,r=null!=n?n.toString():e.initialValue;i.write(r);var o=new jt(i.read());switch(e.type){case 2:var a=o.parseComponentValue();return e.parse(t,Vt(a)?a.value:e.initialValue);case 0:return e.parse(t,o.parseComponentValue());case 1:return e.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return le(t,o.parseComponentValue());case"color":return de(t,o.parseComponentValue());case"image":return Ye(t,o.parseComponentValue());case"length":var s=o.parseComponentValue();return Jt(s)?s:ee;case"length-percentage":var l=o.parseComponentValue();return $t(l)?l:ee;case"time":return ei.parse(t,o.parseComponentValue())}}},Li=function(t,e){var n=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===n||e===n},Ci=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Li(e,3),this.styles=new wi(t,window.getComputedStyle(e,null)),Tr(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=s(this.context,e),Li(e,4)&&(this.flags|=16)},Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Si="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ei=0;Ei<64;Ei++)Si[Bi.charCodeAt(Ei)]=Ei;for(var Ti=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Di=function(){function t(t,e,n,i,r,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ki=0;ki<64;ki++)Pi[Ii.charCodeAt(ki)]=ki;var Fi,Ui=8,Ri=9,Oi=11,Hi=12,Yi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var a=t[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||i.length>16384)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},Qi=function(t){var e=function(t){var e,n,i,r,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),A=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=Si[t.charCodeAt(e)],i=Si[t.charCodeAt(e+1)],r=Si[t.charCodeAt(e+2)],o=Si[t.charCodeAt(e+3)],A[l++]=n<<2|i>>4,A[l++]=(15&i)<<4|r>>2,A[l++]=(3&r)<<6|63&o;return c}(t),n=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=4)n.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return n}(e):new Uint32Array(e),i=Array.isArray(e)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n.push(t[i+1]<<8|t[i]);return n}(e):new Uint16Array(e),r=Ti(i,12,n[4]/2),o=2===n[5]?Ti(i,(24+n[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(n,Math.ceil((24+n[4])/4));return new Di(n[0],n[1],n[2],n[3],r,o)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),ji="",Ni=function(t){return Qi.get(t)},Wi=function(t,e,n){var i=n-2,r=e[i],o=e[n-1],a=e[n];if(2===o&&3===a)return ji;if(2===o||3===o||4===o)return"";if(2===a||3===a||4===a)return"";if(o===Ui&&-1!==[Ui,Ri,Oi,Hi].indexOf(a))return ji;if(!(o!==Oi&&o!==Ri||a!==Ri&&10!==a))return ji;if((o===Hi||10===o)&&10===a)return ji;if(13===a||5===a)return ji;if(7===a)return ji;if(1===o)return ji;if(13===o&&14===a){for(;5===r;)r=e[--i];if(14===r)return ji}if(15===o&&15===a){for(var s=0;15===r;)s++,r=e[--i];if(s%2==0)return ji}return""},Vi=function(t){var e=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t),n=e.length,i=0,r=0,o=e.map(Ni);return{next:function(){if(i>=n)return{done:!0,value:null};for(var t=ji;i<n&&(t=Wi(0,o,++i))===ji;);if(t!==ji||i===n){var a=Yi.apply(null,e.slice(r,i));return r=i,{value:a,done:!1}}return{done:!0,value:null}}}},zi=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Gi=function(t,e,n,i,r){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(r),a},Ki=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Zi={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),r=Math.round(i.height);if(t.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(Zi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zi.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var i=e.firstChild,r=l(i.data).map((function(t){return c(t)})),o=0,a={},s=r.every((function(t,e){n.setStart(i,o),n.setEnd(i,o+t.length);var r=n.getBoundingClientRect();o+=t.length;var s=r.x>a.x||r.y>a.y;return a=r,0===e||s}));return t.body.removeChild(e),s}(document);return Object.defineProperty(Zi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Zi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,o=e.toDataURL();r.src=o;var a=Gi(n,n,0,0,r);return i.fillStyle="red",i.fillRect(0,0,n,n),Ki(a).then((function(e){i.drawImage(e,0,0);var r=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var a=t.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",zi(r)?Ki(Gi(n,n,0,0,a)):Promise.reject(!1)})).then((function(t){return i.drawImage(t,0,0),zi(i.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Zi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Zi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Zi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Zi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Xi=function(t,e){this.text=t,this.bounds=e},qi=function(t,e){var n=e.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var o=s(t,i);return i.firstChild&&r.replaceChild(i.firstChild,i),o}}return a.EMPTY},Ji=function(t,e,n){var i=t.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(t,e),r.setEnd(t,e+n),r},$i=function(t){if(Zi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,n=Vi(t),i=[];!(e=n.next()).done;)e.value&&i.push(e.value.slice());return i}(t)},tr=function(t,e){return 0!==e.letterSpacing?$i(t):function(t,e){if(Zi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map((function(t){return t.segment}))}return nr(t,e)}(t,e)},er=[32,160,4961,65792,65793,4153,4241],nr=function(t,e){for(var n,i=function(t,e){var n=l(t),i=ot(n,e),r=i[0],o=i[1],a=i[2],s=n.length,c=0,A=0;return{next:function(){if(A>=s)return{done:!0,value:null};for(var t=z;A<s&&(t=rt(n,o,r,++A,a))===z;);if(t!==z||A===s){var e=new at(n,t,c,A);return c=A,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),r=[],o=function(){if(n.value){var t=n.value.slice(),e=l(t),i="";e.forEach((function(t){-1===er.indexOf(t)?i+=c(t):(i.length&&r.push(i),r.push(c(t)),i="")})),i.length&&r.push(i)}};!(n=i.next()).done;)o();return r},ir=function(t,e,n){this.text=rr(e.data,n.textTransform),this.textBounds=function(t,e,n,i){var r=tr(e,n),o=[],s=0;return r.forEach((function(e){if(n.textDecorationLine.length||e.trim().length>0)if(Zi.SUPPORT_RANGE_BOUNDS){var r=Ji(i,s,e.length).getClientRects();if(r.length>1){var l=$i(e),c=0;l.forEach((function(e){o.push(new Xi(e,a.fromDOMRectList(t,Ji(i,c+s,e.length).getClientRects()))),c+=e.length}))}else o.push(new Xi(e,a.fromDOMRectList(t,r)))}else{var A=i.splitText(e.length);o.push(new Xi(e,qi(t,i))),i=A}else Zi.SUPPORT_RANGE_BOUNDS||(i=i.splitText(e.length));s+=e.length})),o}(t,this.text,n,e)},rr=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(or,ar);case 2:return t.toUpperCase();default:return t}},or=/(^|\s|:|-|\(|\))([a-z])/g,ar=function(t,e,n){return t.length>0?e+n.toUpperCase():t},sr=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e(n,t),n}(Ci),lr=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e(n,t),n}(Ci),cr=function(t){function n(e,n){var i=t.call(this,e,n)||this,r=new XMLSerializer,o=s(e,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e(n,t),n}(Ci),Ar=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.value=n.value,i}return e(n,t),n}(Ci),ur=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.start=n.start,i.reversed="boolean"==typeof n.reversed&&!0===n.reversed,i}return e(n,t),n}(Ci),dr=[{type:15,flags:0,unit:"px",number:3}],hr=[{type:16,flags:0,number:50}],pr="checkbox",fr="radio",mr="password",gr=707406591,yr=function(t){function n(e,n){var i=t.call(this,e,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=function(t){var e=t.type===mr?new Array(t.value.length+1).join(""):t.value;return 0===e.length?t.placeholder||"":e}(n),i.type!==pr&&i.type!==fr||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=function(t){return t.width>t.height?new a(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new a(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t}(i.bounds)),i.type){case pr:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=dr;break;case fr:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=hr}return i}return e(n,t),n}(Ci),vr=function(t){function n(e,n){var i=t.call(this,e,n)||this,r=n.options[n.selectedIndex||0];return i.value=r&&r.text||"",i}return e(n,t),n}(Ci),_r=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.value=n.value,i}return e(n,t),n}(Ci),wr=function(t){function n(e,n){var i=t.call(this,e,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Lr(e,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?we(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):xe.TRANSPARENT,o=n.contentWindow.document.body?we(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):xe.TRANSPARENT;i.backgroundColor=he(r)?he(o)?i.styles.backgroundColor:o:r}}catch(t){}return i}return e(n,t),n}(Ci),xr=["OL","UL","MENU"],br=function(t,e,n,i){for(var r=e.firstChild,o=void 0;r;r=o)if(o=r.nextSibling,Sr(r)&&r.data.trim().length>0)n.textNodes.push(new ir(t,r,n.styles));else if(Er(r))if(Wr(r)&&r.assignedNodes)r.assignedNodes().forEach((function(e){return br(t,e,n,i)}));else{var a=Mr(t,r);a.styles.isVisible()&&(Cr(r,a,i)?a.flags|=4:Br(a.styles)&&(a.flags|=2),-1!==xr.indexOf(r.tagName)&&(a.flags|=8),n.elements.push(a),r.slot,r.shadowRoot?br(t,r.shadowRoot,a,i):jr(r)||Fr(r)||Nr(r)||br(t,r,a,i))}},Mr=function(t,e){return Hr(e)?new sr(t,e):Rr(e)?new lr(t,e):Fr(e)?new cr(t,e):Ir(e)?new Ar(t,e):Pr(e)?new ur(t,e):kr(e)?new yr(t,e):Nr(e)?new vr(t,e):jr(e)?new _r(t,e):Yr(e)?new wr(t,e):new Ci(t,e)},Lr=function(t,e){var n=Mr(t,e);return n.flags|=4,br(t,e,n,n),n},Cr=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ur(t)&&n.styles.isTransparent()},Br=function(t){return t.isPositioned()||t.isFloating()},Sr=function(t){return t.nodeType===Node.TEXT_NODE},Er=function(t){return t.nodeType===Node.ELEMENT_NODE},Tr=function(t){return Er(t)&&void 0!==t.style&&!Dr(t)},Dr=function(t){return"object"==typeof t.className},Ir=function(t){return"LI"===t.tagName},Pr=function(t){return"OL"===t.tagName},kr=function(t){return"INPUT"===t.tagName},Fr=function(t){return"svg"===t.tagName},Ur=function(t){return"BODY"===t.tagName},Rr=function(t){return"CANVAS"===t.tagName},Or=function(t){return"VIDEO"===t.tagName},Hr=function(t){return"IMG"===t.tagName},Yr=function(t){return"IFRAME"===t.tagName},Qr=function(t){return"STYLE"===t.tagName},jr=function(t){return"TEXTAREA"===t.tagName},Nr=function(t){return"SELECT"===t.tagName},Wr=function(t){return"SLOT"===t.tagName},Vr=function(t){return t.tagName.indexOf("-")>0},zr=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,i=t.counterReset,r=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)}));var o=[];return r&&i.forEach((function(t){var n=e.counters[t.counter];o.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),o},t}(),Gr={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Zr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qr=function(t,e,n,i,r,o){return t<e||t>n?ao(t,r,o.length>0):i.integers.reduce((function(e,n,r){for(;t>=n;)t-=n,e+=i.values[r];return e}),"")+o},Jr=function(t,e,n,i){var r="";do{n||t--,r=i(t)+r,t/=e}while(t*e>=e);return r},$r=function(t,e,n,i,r){var o=n-e+1;return(t<0?"-":"")+(Jr(Math.abs(t),o,i,(function(t){return c(Math.floor(t%o)+e)}))+r)},to=function(t,e,n){void 0===n&&(n=". ");var i=e.length;return Jr(Math.abs(t),i,!1,(function(t){return e[Math.floor(t%i)]}))+n},eo=function(t,e,n,i,r,o){if(t<-9999||t>9999)return ao(t,4,r.length>0);var a=Math.abs(t),s=r;if(0===a)return e[0]+s;for(var l=0;a>0&&l<=4;l++){var c=a%10;0===c&&Ai(o,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===l||1===c&&1===l&&Ai(o,2)||1===c&&1===l&&Ai(o,4)&&t>100||1===c&&l>1&&Ai(o,8)?s=e[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(t<0?i:"")+s},no="",io="",ro="",oo="",ao=function(t,e,n){var i=n?". ":"",r=n?"":"",o=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var s=$r(t,48,57,!0,i);return s.length<4?"0"+s:s;case 4:return to(t,"",r);case 6:return qr(t,1,3999,Gr,3,i).toLowerCase();case 7:return qr(t,1,3999,Gr,3,i);case 8:return $r(t,945,969,!1,i);case 9:return $r(t,97,122,!1,i);case 10:return $r(t,65,90,!1,i);case 11:return $r(t,1632,1641,!0,i);case 12:case 49:return qr(t,1,9999,Kr,3,i);case 35:return qr(t,1,9999,Kr,3,i).toLowerCase();case 13:return $r(t,2534,2543,!0,i);case 14:case 30:return $r(t,6112,6121,!0,i);case 15:return to(t,"",r);case 16:return to(t,"",r);case 17:case 48:return eo(t,"",no,"",r,14);case 47:return eo(t,"",io,"",r,15);case 42:return eo(t,"",no,"",r,14);case 41:return eo(t,"",io,"",r,15);case 26:return eo(t,"","",ro,r,0);case 25:return eo(t,"","",ro,r,7);case 31:return eo(t,"","",oo,o,7);case 33:return eo(t,"","",oo,o,0);case 32:return eo(t,"","",oo,o,7);case 18:return $r(t,2406,2415,!0,i);case 20:return qr(t,1,19999,Xr,3,i);case 21:return $r(t,2790,2799,!0,i);case 22:return $r(t,2662,2671,!0,i);case 22:return qr(t,1,10999,Zr,3,i);case 23:return to(t,"");case 24:return to(t,"");case 27:return $r(t,3302,3311,!0,i);case 28:return to(t,"",r);case 29:return to(t,"",r);case 34:return $r(t,3792,3801,!0,i);case 37:return $r(t,6160,6169,!0,i);case 38:return $r(t,4160,4169,!0,i);case 39:return $r(t,2918,2927,!0,i);case 40:return $r(t,1776,1785,!0,i);case 43:return $r(t,3046,3055,!0,i);case 44:return $r(t,3174,3183,!0,i);case 45:return $r(t,3664,3673,!0,i);case 46:return $r(t,3872,3881,!0,i);default:return $r(t,48,57,!0,i)}},so="data-html2canvas-ignore",lo=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new zr,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,o=Ao(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,l=o.contentWindow,c=l.document,A=po(o).then((function(){return i(n,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return this.scrolledElements.forEach(vo),l&&(l.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===e.top&&l.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-e.left,l.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ho(c)]:[3,4];case 3:i.sent(),i.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(c,n)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(go(document.doctype)+"<html></html>"),yo(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},t.prototype.createElementClone=function(t){if(Li(t,2),Rr(t))return this.createCanvasClone(t);if(Or(t))return this.createVideoClone(t);if(Qr(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Hr(e)&&(Hr(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),Vr(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return mo(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var r=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&r)o.putImageData(r.getImageData(0,0,t.width,t.height),0,0);else{var a=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},t.prototype.appendChildNode=function(t,e,n){Er(e)&&(function(t){return"SCRIPT"===t.tagName}(e)||e.hasAttribute(so)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&Er(e)&&Qr(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var i=this,r=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;r;r=r.nextSibling)if(Er(r)&&Wr(r)&&"function"==typeof r.assignedNodes){var o=r.assignedNodes();o.length&&o.forEach((function(t){return i.appendChildNode(e,t,n)}))}else this.appendChildNode(e,r,n)},t.prototype.cloneNode=function(t,e){if(Sr(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Er(t)&&(Tr(t)||Dr(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var r=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),a=n.getComputedStyle(t,":after");this.referenceElement===t&&Tr(i)&&(this.clonedReferenceElement=i),Ur(i)&&bo(i);var s=this.counters.parse(new bi(this.context,r)),l=this.resolvePseudoContent(t,i,o,Fi.BEFORE);Vr(t)&&(e=!0),Or(t)||this.cloneChildNodes(t,i,e),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(t,i,a,Fi.AFTER);return c&&i.appendChild(c),this.counters.pop(s),(r&&(this.options.copyStyles||Dr(t))&&!Yr(t)||e)&&mo(r,i),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(jr(t)||Nr(t))&&(jr(i)||Nr(i))&&(i.value=t.value),i}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,i){var r=this;if(n){var o=n.content,a=e.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new bi(this.context,n));var s=new xi(this.context,n),l=a.createElement("html2canvaspseudoelement");mo(n,l),s.content.forEach((function(e){if(0===e.type)l.appendChild(a.createTextNode(e.value));else if(22===e.type){var n=a.createElement("img");n.src=e.value,n.style.opacity="1",l.appendChild(n)}else if(18===e.type){if("attr"===e.name){var i=e.values.filter(Vt);i.length&&l.appendChild(a.createTextNode(t.getAttribute(i[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Zt),c=o[0],A=o[1];if(c&&Vt(c)){var u=r.counters.getCounterValue(c.value),d=A&&Vt(A)?Tn.parse(r.context,A.value):3;l.appendChild(a.createTextNode(ao(u,d,!1)))}}else if("counters"===e.name){var h=e.values.filter(Zt),p=(c=h[0],h[1]);if(A=h[2],c&&Vt(c)){var f=r.counters.getCounterValues(c.value),m=A&&Vt(A)?Tn.parse(r.context,A.value):3,g=p&&0===p.type?p.value:"",y=f.map((function(t){return ao(t,m,!1)})).join(g);l.appendChild(a.createTextNode(y))}}}else if(20===e.type)switch(e.value){case"open-quote":l.appendChild(a.createTextNode(mi(s.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(mi(s.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(e.value))}})),l.className=_o+" "+wo;var c=i===Fi.BEFORE?" "+_o:" "+wo;return Dr(e)?e.className.baseValue+=c:e.className+=c,l}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(Fi||(Fi={}));var co,Ao=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(so,"true"),t.body.appendChild(n),n},uo=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},ho=function(t){return Promise.all([].slice.call(t.images,0).map(uo))},po=function(t){return new Promise((function(e,n){var i=t.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=t.onload=function(){i.onload=t.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),e(t))}),50)}}))},fo=["all","d","content"],mo=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t.item(n);-1===fo.indexOf(i)&&e.style.setProperty(i,t.getPropertyValue(i))}return e},go=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},yo=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},vo=function(t){var e=t[0],n=t[1],i=t[2];e.scrollLeft=n,e.scrollTop=i},_o="___html2canvas___pseudoelement_before",wo="___html2canvas___pseudoelement_after",xo='{\n\t\tcontent: "" !important;\n\t\tdisplay: none !important;\n}',bo=function(t){Mo(t,"."+_o+":before"+xo+"\n\t\t\t\t ."+wo+":after"+xo)},Mo=function(t,e){var n=t.ownerDocument;if(n){var i=n.createElement("style");i.textContent=e,t.appendChild(i)}},Lo=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Co=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Po(t)||To(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,a=this;return r(this,(function(r){switch(r.label){case 0:return e=Lo.isSameOrigin(t),n=!Do(t)&&!0===this._options.useCORS&&Zi.SUPPORT_CORS_IMAGES&&!e,i=!Do(t)&&!e&&!Po(t)&&"string"==typeof this._options.proxy&&Zi.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||Do(t)||Po(t)||i||n?(o=t,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var i=new Image;i.onload=function(){return t(i)},i.onerror=e,(Io(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return t(i)}),500),a._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise((function(r,o){var a=Zi.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)r(s.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(t){return o(t)}),!1),t.readAsDataURL(s.response)}else o("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(t)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),e._options.imageTimeout){var c=e._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}s.send()}))},t}(),Bo=/^data:image\/svg\+xml/i,So=/^data:image\/.*;base64,/i,Eo=/^data:image\/.*/i,To=function(t){return Zi.SUPPORT_SVG_DRAWING||!ko(t)},Do=function(t){return Eo.test(t)},Io=function(t){return So.test(t)},Po=function(t){return"blob"===t.substr(0,4)},ko=function(t){return"svg"===t.substr(-3).toLowerCase()||Bo.test(t)},Fo=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Uo=function(t,e,n){return new Fo(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Ro=function(){function t(t,e,n,i){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,n){var i=Uo(this.start,this.startControl,e),r=Uo(this.startControl,this.endControl,e),o=Uo(this.endControl,this.end,e),a=Uo(i,r,e),s=Uo(r,o,e),l=Uo(a,s,e);return n?new t(this.start,i,a,l):new t(l,s,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Oo=function(t){return 1===t.type},Ho=function(t){var e=t.styles,n=t.bounds,i=re(e.borderTopLeftRadius,n.width,n.height),r=i[0],o=i[1],a=re(e.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],c=re(e.borderBottomRightRadius,n.width,n.height),A=c[0],u=c[1],d=re(e.borderBottomLeftRadius,n.width,n.height),h=d[0],p=d[1],f=[];f.push((r+s)/n.width),f.push((h+A)/n.width),f.push((o+p)/n.height),f.push((l+u)/n.height);var m=Math.max.apply(Math,f);m>1&&(r/=m,o/=m,s/=m,l/=m,A/=m,u/=m,h/=m,p/=m);var g=n.width-s,y=n.height-u,v=n.width-A,_=n.height-p,w=e.borderTopWidth,x=e.borderRightWidth,b=e.borderBottomWidth,M=e.borderLeftWidth,L=oe(e.paddingTop,t.bounds.width),C=oe(e.paddingRight,t.bounds.width),B=oe(e.paddingBottom,t.bounds.width),S=oe(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?Yo(n.left+M/3,n.top+w/3,r-M/3,o-w/3,co.TOP_LEFT):new Fo(n.left+M/3,n.top+w/3),this.topRightBorderDoubleOuterBox=r>0||o>0?Yo(n.left+g,n.top+w/3,s-x/3,l-w/3,co.TOP_RIGHT):new Fo(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=A>0||u>0?Yo(n.left+v,n.top+y,A-x/3,u-b/3,co.BOTTOM_RIGHT):new Fo(n.left+n.width-x/3,n.top+n.height-b/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Yo(n.left+M/3,n.top+_,h-M/3,p-b/3,co.BOTTOM_LEFT):new Fo(n.left+M/3,n.top+n.height-b/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?Yo(n.left+2*M/3,n.top+2*w/3,r-2*M/3,o-2*w/3,co.TOP_LEFT):new Fo(n.left+2*M/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=r>0||o>0?Yo(n.left+g,n.top+2*w/3,s-2*x/3,l-2*w/3,co.TOP_RIGHT):new Fo(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=A>0||u>0?Yo(n.left+v,n.top+y,A-2*x/3,u-2*b/3,co.BOTTOM_RIGHT):new Fo(n.left+n.width-2*x/3,n.top+n.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Yo(n.left+2*M/3,n.top+_,h-2*M/3,p-2*b/3,co.BOTTOM_LEFT):new Fo(n.left+2*M/3,n.top+n.height-2*b/3),this.topLeftBorderStroke=r>0||o>0?Yo(n.left+M/2,n.top+w/2,r-M/2,o-w/2,co.TOP_LEFT):new Fo(n.left+M/2,n.top+w/2),this.topRightBorderStroke=r>0||o>0?Yo(n.left+g,n.top+w/2,s-x/2,l-w/2,co.TOP_RIGHT):new Fo(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=A>0||u>0?Yo(n.left+v,n.top+y,A-x/2,u-b/2,co.BOTTOM_RIGHT):new Fo(n.left+n.width-x/2,n.top+n.height-b/2),this.bottomLeftBorderStroke=h>0||p>0?Yo(n.left+M/2,n.top+_,h-M/2,p-b/2,co.BOTTOM_LEFT):new Fo(n.left+M/2,n.top+n.height-b/2),this.topLeftBorderBox=r>0||o>0?Yo(n.left,n.top,r,o,co.TOP_LEFT):new Fo(n.left,n.top),this.topRightBorderBox=s>0||l>0?Yo(n.left+g,n.top,s,l,co.TOP_RIGHT):new Fo(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||u>0?Yo(n.left+v,n.top+y,A,u,co.BOTTOM_RIGHT):new Fo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?Yo(n.left,n.top+_,h,p,co.BOTTOM_LEFT):new Fo(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||o>0?Yo(n.left+M,n.top+w,Math.max(0,r-M),Math.max(0,o-w),co.TOP_LEFT):new Fo(n.left+M,n.top+w),this.topRightPaddingBox=s>0||l>0?Yo(n.left+Math.min(g,n.width-x),n.top+w,g>n.width+x?0:Math.max(0,s-x),Math.max(0,l-w),co.TOP_RIGHT):new Fo(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=A>0||u>0?Yo(n.left+Math.min(v,n.width-M),n.top+Math.min(y,n.height-b),Math.max(0,A-x),Math.max(0,u-b),co.BOTTOM_RIGHT):new Fo(n.left+n.width-x,n.top+n.height-b),this.bottomLeftPaddingBox=h>0||p>0?Yo(n.left+M,n.top+Math.min(_,n.height-b),Math.max(0,h-M),Math.max(0,p-b),co.BOTTOM_LEFT):new Fo(n.left+M,n.top+n.height-b),this.topLeftContentBox=r>0||o>0?Yo(n.left+M+S,n.top+w+L,Math.max(0,r-(M+S)),Math.max(0,o-(w+L)),co.TOP_LEFT):new Fo(n.left+M+S,n.top+w+L),this.topRightContentBox=s>0||l>0?Yo(n.left+Math.min(g,n.width+M+S),n.top+w+L,g>n.width+M+S?0:s-M+S,l-(w+L),co.TOP_RIGHT):new Fo(n.left+n.width-(x+C),n.top+w+L),this.bottomRightContentBox=A>0||u>0?Yo(n.left+Math.min(v,n.width-(M+S)),n.top+Math.min(y,n.height+w+L),Math.max(0,A-(x+C)),u-(b+B),co.BOTTOM_RIGHT):new Fo(n.left+n.width-(x+C),n.top+n.height-(b+B)),this.bottomLeftContentBox=h>0||p>0?Yo(n.left+M+S,n.top+_,Math.max(0,h-(M+S)),p-(b+B),co.BOTTOM_LEFT):new Fo(n.left+M+S,n.top+n.height-(b+B))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(co||(co={}));var Yo=function(t,e,n,i,r){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=i*o,l=t+n,c=e+i;switch(r){case co.TOP_LEFT:return new Ro(new Fo(t,c),new Fo(t,c-s),new Fo(l-a,e),new Fo(l,e));case co.TOP_RIGHT:return new Ro(new Fo(t,e),new Fo(t+a,e),new Fo(l,c-s),new Fo(l,c));case co.BOTTOM_RIGHT:return new Ro(new Fo(l,e),new Fo(l,e+s),new Fo(t+a,c),new Fo(t,c));case co.BOTTOM_LEFT:default:return new Ro(new Fo(l,c),new Fo(l-a,c),new Fo(t,e+s),new Fo(t,e))}},Qo=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},jo=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},No=function(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6},Wo=function(t,e){this.path=t,this.target=e,this.type=1},Vo=function(t){this.opacity=t,this.type=2,this.target=6},zo=function(t){return 1===t.type},Go=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},Ko=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Zo=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Ho(this.container),this.container.styles.opacity<1&&this.effects.push(new Vo(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new No(n,i,r))}if(0!==this.container.styles.overflowX){var o=Qo(this.curves),a=jo(this.curves);Go(o,a)?this.effects.push(new Wo(o,6)):(this.effects.push(new Wo(o,2)),this.effects.push(new Wo(a,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,i=this.effects.slice(0);n;){var r=n.effects.filter((function(t){return!zo(t)}));if(e||0!==n.container.styles.position||!n.parent){if(i.unshift.apply(i,r),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Qo(n.curves),a=jo(n.curves);Go(o,a)||i.unshift(new Wo(a,6))}}else i.unshift.apply(i,r);n=n.parent}return i.filter((function(e){return Ai(e.target,t)}))},t}(),Xo=function(t,e,n,i){t.container.elements.forEach((function(r){var o=Ai(r.flags,4),a=Ai(r.flags,2),s=new Zo(r,t);Ai(r.styles.display,2048)&&i.push(s);var l=Ai(r.flags,8)?[]:i;if(o||a){var c=o||r.styles.isPositioned()?n:e,A=new Ko(s);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some((function(t,e){return u>t.element.container.styles.zIndex.order?(d=e,!1):d>0})),c.negativeZIndex.splice(d,0,A)}else if(u>0){var h=0;c.positiveZIndex.some((function(t,e){return u>=t.element.container.styles.zIndex.order?(h=e+1,!1):h>0})),c.positiveZIndex.splice(h,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else r.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);Xo(s,A,o?A:n,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),Xo(s,e,n,l);Ai(r.flags,8)&&qo(r,l)}))},qo=function(t,e){for(var n=t instanceof ur?t.start:1,i=t instanceof ur&&t.reversed,r=0;r<e.length;r++){var o=e[r];o.container instanceof Ar&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=ao(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},Jo=function(t,e){switch(e){case 0:return ta(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ta(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ta(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return ta(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},$o=function(t,e){var n=[];return Oo(t)?n.push(t.subdivide(.5,!1)):n.push(t),Oo(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},ta=function(t,e,n,i){var r=[];return Oo(t)?r.push(t.subdivide(.5,!1)):r.push(t),Oo(n)?r.push(n.subdivide(.5,!0)):r.push(n),Oo(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Oo(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},ea=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},na=function(t){var e=t.styles,n=t.bounds,i=oe(e.paddingLeft,n.width),r=oe(e.paddingRight,n.width),o=oe(e.paddingTop,n.width),a=oe(e.paddingBottom,n.width);return n.add(i+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+o+a))},ia=function(t,e,n){var i=function(t,e){return 0===t?e.bounds:2===t?na(e):ea(e)}(sa(t.styles.backgroundOrigin,e),t),r=function(t,e){return 0===t?e.bounds:2===t?na(e):ea(e)}(sa(t.styles.backgroundClip,e),t),o=aa(sa(t.styles.backgroundSize,e),n,i),a=o[0],s=o[1],l=re(sa(t.styles.backgroundPosition,e),i.width-a,i.height-s);return[la(sa(t.styles.backgroundRepeat,e),l,o,i,r),Math.round(i.left+l[0]),Math.round(i.top+l[1]),a,s]},ra=function(t){return Vt(t)&&t.value===Qe.AUTO},oa=function(t){return"number"==typeof t},aa=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=t[0],s=t[1];if(!a)return[0,0];if($t(a)&&s&&$t(s))return[oe(a,n.width),oe(s,n.height)];var l=oa(o);if(Vt(a)&&(a.value===Qe.CONTAIN||a.value===Qe.COVER))return oa(o)?n.width/n.height<o!=(a.value===Qe.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=oa(i),A=oa(r),u=c||A;if(ra(a)&&(!s||ra(s)))return c&&A?[i,r]:l||u?u&&l?[c?i:r*o,A?r:i/o]:[c?i:n.width,A?r:n.height]:[n.width,n.height];if(l){var d=0,h=0;return $t(a)?d=oe(a,n.width):$t(s)&&(h=oe(s,n.height)),ra(a)?d=h*o:s&&!ra(s)||(h=d/o),[d,h]}var p=null,f=null;if($t(a)?p=oe(a,n.width):s&&$t(s)&&(f=oe(s,n.height)),null===p||s&&!ra(s)||(f=c&&A?p/i*r:n.height),null!==f&&ra(a)&&(p=c&&A?f/r*i:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},sa=function(t,e){var n=t[e];return void 0===n?t[0]:n},la=function(t,e,n,i,r){var o=e[0],a=e[1],s=n[0],l=n[1];switch(t){case 2:return[new Fo(Math.round(i.left),Math.round(i.top+a)),new Fo(Math.round(i.left+i.width),Math.round(i.top+a)),new Fo(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Fo(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Fo(Math.round(i.left+o),Math.round(i.top)),new Fo(Math.round(i.left+o+s),Math.round(i.top)),new Fo(Math.round(i.left+o+s),Math.round(i.height+i.top)),new Fo(Math.round(i.left+o),Math.round(i.height+i.top))];case 1:return[new Fo(Math.round(i.left+o),Math.round(i.top+a)),new Fo(Math.round(i.left+o+s),Math.round(i.top+a)),new Fo(Math.round(i.left+o+s),Math.round(i.top+a+l)),new Fo(Math.round(i.left+o),Math.round(i.top+a+l))];default:return[new Fo(Math.round(r.left),Math.round(r.top)),new Fo(Math.round(r.left+r.width),Math.round(r.top)),new Fo(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Fo(Math.round(r.left),Math.round(r.height+r.top))]}},ca="Hidden Text",Aa=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(ca)),n.appendChild(r),n.appendChild(i);var a=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(ca)),n.style.lineHeight="normal",i.style.verticalAlign="super";var s=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),ua=function(t,e){this.context=t,this.options=e},da=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Aa(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e(n,t),n.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},n.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),zo(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return Ai(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(t,e,n){var i=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):$i(t.text).reduce((function(e,r){return i.ctx.fillText(r,e,t.bounds.top+n),e+i.ctx.measureText(r).width}),t.bounds.left)},n.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=ga(t.fontFamily).join(", "),i=Nt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,i,n].join(" "),n,i]},n.prototype.renderTextNode=function(t,e){return i(this,void 0,void 0,(function(){var n,i,o,a,s,l,c,A,u=this;return r(this,(function(r){return n=this.createFontStyle(e),i=n[0],o=n[1],a=n[2],this.ctx.font=i,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),l=s.baseline,c=s.middle,A=e.paintOrder,t.textBounds.forEach((function(t){A.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=pe(e.color),u.renderTextWithLetterSpacing(t,e.letterSpacing,l);var i=e.textShadow;i.length&&t.text.trim().length&&(i.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=pe(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(t,e.letterSpacing,l)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),e.textDecorationLine.length&&(u.ctx.fillStyle=pe(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+l),t.bounds.width,1);break;case 2:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:u.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+c),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(u.ctx.strokeStyle=pe(e.webkitTextStrokeColor),u.ctx.lineWidth=e.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=na(t),r=jo(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(t){return i(this,void 0,void 0,(function(){var e,i,o,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,i=t.curves,o=e.styles,s=0,l=e.textNodes,r.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:if(!(e instanceof sr))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return y=r.sent(),this.renderReplacedElement(e,i,y),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof lr&&this.renderReplacedElement(e,i,e.canvas),!(e instanceof cr))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return y=r.sent(),this.renderReplacedElement(e,i,y),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof wr&&e.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:A=r.sent(),e.width&&e.height&&this.ctx.drawImage(A,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),r.label=14;case 14:if(e instanceof yr&&(u=Math.min(e.bounds.width,e.bounds.height),e.type===pr?e.checked&&(this.ctx.save(),this.path([new Fo(e.bounds.left+.39363*u,e.bounds.top+.79*u),new Fo(e.bounds.left+.16*u,e.bounds.top+.5549*u),new Fo(e.bounds.left+.27347*u,e.bounds.top+.44071*u),new Fo(e.bounds.left+.39694*u,e.bounds.top+.5649*u),new Fo(e.bounds.left+.72983*u,e.bounds.top+.23*u),new Fo(e.bounds.left+.84*u,e.bounds.top+.34085*u),new Fo(e.bounds.left+.39363*u,e.bounds.top+.79*u)]),this.ctx.fillStyle=pe(gr),this.ctx.fill(),this.ctx.restore()):e.type===fr&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+u/2,e.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=pe(gr),this.ctx.fill(),this.ctx.restore())),ha(e)&&e.value.length){switch(d=this.createFontStyle(o),_=d[0],h=d[1],p=this.fontMetrics.getMetrics(_,h).baseline,this.ctx.font=_,this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fa(e.styles.textAlign),w=na(e),f=0,e.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}m=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new Fo(w.left,w.top),new Fo(w.left+w.width,w.top),new Fo(w.left+w.width,w.top+w.height),new Fo(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Xi(e.value,m),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(g=e.styles.listStyleImage).type)return[3,18];y=void 0,v=g.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=r.sent(),this.ctx.drawImage(y,e.bounds.left-(y.width+10),e.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(_=this.createFontStyle(o)[0],this.ctx.font=_,this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new a(e.bounds.left,e.bounds.top+oe(e.styles.paddingTop,e.bounds.width),e.bounds.width,Bn(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Xi(t.listValue,w),o.letterSpacing,Bn(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,a,s,l,c,A,u,d,h,p,f,m;return r(this,(function(r){switch(r.label){case 0:return Ai(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:r.sent(),e=0,n=t.negativeZIndex,r.label=2;case 2:return e<n.length?(m=n[e],[4,this.renderStack(m)]):[3,5];case 3:r.sent(),r.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:r.sent(),i=0,o=t.nonInlineLevel,r.label=7;case 7:return i<o.length?(m=o[i],[4,this.renderNode(m)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:a=0,s=t.nonPositionedFloats,r.label=11;case 11:return a<s.length?(m=s[a],[4,this.renderStack(m)]):[3,14];case 12:r.sent(),r.label=13;case 13:return a++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,r.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:A=0,u=t.inlineLevel,r.label=19;case 19:return A<u.length?(m=u[A],[4,this.renderNode(m)]):[3,22];case 20:r.sent(),r.label=21;case 21:return A++,[3,19];case 22:d=0,h=t.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<h.length?(m=h[d],[4,this.renderStack(m)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:p=0,f=t.positiveZIndex,r.label=27;case 27:return p<f.length?(m=f[p],[4,this.renderStack(m)]):[3,30];case 28:r.sent(),r.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},n.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var i=Oo(t)?t.start:t;0===n?e.ctx.moveTo(i.x,i.y):e.ctx.lineTo(i.x,i.y),Oo(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},n.prototype.renderRepeat=function(t,e,n,i){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},n.prototype.resizeImage=function(t,e,n){var i;if(t.width===e&&t.height===n)return t;var r=(null!==(i=this.canvas.ownerDocument)&&void 0!==i?i:document).createElement("canvas");return r.width=Math.max(1,e),r.height=Math.max(1,n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),r},n.prototype.renderBackgroundImage=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,a,s;return r(this,(function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var o,a,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x,b,M,L,C,B,S,E,T,D,I,P,k,F;return r(this,(function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.context.cache.match(a)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),i.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=ia(t,e,[o.width,o.height,o.width/o.height]),_=s[0],C=s[1],B=s[2],b=s[3],M=s[4],y=i.ctx.createPattern(i.resizeImage(o,b,M),"repeat"),i.renderRepeat(_,y,C,B)),[3,6];case 5:!function(t){return 1===t.type}(n)?function(t){return 2===t.type}(n)&&(v=ia(t,e,[null,null,null]),_=v[0],w=v[1],x=v[2],b=v[3],M=v[4],L=0===n.position.length?[ne]:n.position,C=oe(L[0],b),B=oe(L[L.length-1],M),S=function(t,e,n,i,r){var o=0,a=0;switch(t.size){case 0:0===t.shape?o=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-r)):1===t.shape&&(o=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===t.shape)o=a=Math.min(Se(e,n),Se(e,n-r),Se(e-i,n),Se(e-i,n-r));else if(1===t.shape){var s=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=Ee(i,r,e,n,!0),c=l[0],A=l[1];a=s*(o=Se(c-e,(A-n)/s))}break;case 1:0===t.shape?o=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-r)):1===t.shape&&(o=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===t.shape)o=a=Math.max(Se(e,n),Se(e,n-r),Se(e-i,n),Se(e-i,n-r));else if(1===t.shape){s=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(e),Math.abs(e-i));var u=Ee(i,r,e,n,!1);c=u[0],A=u[1],a=s*(o=Se(c-e,(A-n)/s))}}return Array.isArray(t.size)&&(o=oe(t.size[0],i),a=2===t.size.length?oe(t.size[1],r):o),[o,a]}(n,C,B,b,M),E=S[0],T=S[1],E>0&&T>0&&(D=i.ctx.createRadialGradient(w+C,x+B,0,w+C,x+B,E),Ce(n.stops,2*E).forEach((function(t){return D.addColorStop(t.stop,pe(t.color))})),i.path(_),i.ctx.fillStyle=D,E!==T?(I=t.bounds.left+.5*t.bounds.width,P=t.bounds.top+.5*t.bounds.height,F=1/(k=T/E),i.ctx.save(),i.ctx.translate(I,P),i.ctx.transform(1,0,0,k,0,0),i.ctx.translate(-I,-P),i.ctx.fillRect(w,F*(x-P)+P,b,M*F),i.ctx.restore()):i.ctx.fill())):(l=ia(t,e,[null,null,null]),_=l[0],C=l[1],B=l[2],b=l[3],M=l[4],c=Be(n.angle,b,M),A=c[0],u=c[1],d=c[2],h=c[3],p=c[4],(f=document.createElement("canvas")).width=b,f.height=M,m=f.getContext("2d"),g=m.createLinearGradient(u,h,d,p),Ce(n.stops,A).forEach((function(t){return g.addColorStop(t.stop,pe(t.color))})),m.fillStyle=g,m.fillRect(0,0,b,M),b>0&&M>0&&(y=i.ctx.createPattern(f,"repeat"),i.renderRepeat(_,y,C,B))),r.label=6;case 6:return e--,[2]}}))},i=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(t,e,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(Jo(n,e)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(t,e,n,o){return i(this,void 0,void 0,(function(){var i,a;return r(this,(function(r){switch(r.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,o)]:[3,2];case 1:return r.sent(),[2];case 2:return i=function(t,e){switch(e){case 0:return ta(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ta(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ta(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return ta(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(o,n),this.path(i),this.ctx.fillStyle=pe(t),this.ctx.fill(),a=function(t,e){switch(e){case 0:return ta(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ta(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ta(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return ta(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,a,s,l,c,A=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!he(e.backgroundColor)||e.backgroundImage.length,i=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],o=pa(sa(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),he(e.backgroundColor)||(this.ctx.fillStyle=pe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){A.ctx.save();var n=Qo(t.curves),i=e.inset?0:1e4,r=function(t,e,n,i,r){return t.map((function(t,o){switch(o){case 0:return t.add(e,n);case 1:return t.add(e+i,n);case 2:return t.add(e+i,n+r);case 3:return t.add(e,n+r)}return t}))}(n,-i+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(A.path(n),A.ctx.clip(),A.mask(r)):(A.mask(n),A.ctx.clip(),A.path(r)),A.ctx.shadowOffsetX=e.offsetX.number+i,A.ctx.shadowOffsetY=e.offsetY.number,A.ctx.shadowColor=pe(e.color),A.ctx.shadowBlur=e.blur.number,A.ctx.fillStyle=e.inset?pe(e.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()})),r.label=2;case 2:a=0,s=0,l=i,r.label=3;case 3:return s<l.length?0!==(c=l[s]).style&&!he(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,t.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,t.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,t.curves)];case 10:r.sent(),r.label=11;case 11:a++,r.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(t,e,n,o,a){return i(this,void 0,void 0,(function(){var i,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w;return r(this,(function(r){return this.ctx.save(),i=function(t,e){switch(e){case 0:return $o(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return $o(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return $o(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return $o(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(o,n),s=Jo(o,n),2===a&&(this.path(s),this.ctx.clip()),Oo(s[0])?(l=s[0].start.x,c=s[0].start.y):(l=s[0].x,c=s[0].y),Oo(s[1])?(A=s[1].end.x,u=s[1].end.y):(A=s[1].x,u=s[1].y),d=0===n||2===n?Math.abs(l-A):Math.abs(c-u),this.ctx.beginPath(),3===a?this.formatPath(i):this.formatPath(s.slice(0,2)),h=e<3?3*e:2*e,p=e<3?2*e:e,3===a&&(h=e,p=e),f=!0,d<=2*h?f=!1:d<=2*h+p?(h*=m=d/(2*h+p),p*=m):(g=Math.floor((d+p)/(h+p)),y=(d-g*h)/(g-1),p=(v=(d-(g+1)*h)/g)<=0||Math.abs(p-y)<Math.abs(p-v)?y:v),f&&(3===a?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=pe(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Oo(s[0])&&(_=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new Fo(_.end.x,_.end.y),new Fo(w.start.x,w.start.y)]),this.ctx.stroke()),Oo(s[1])&&(_=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new Fo(_.end.x,_.end.y),new Fo(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(t){return i(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),e=function(t){var e=new Zo(t,null),n=new Ko(e),i=[];return Xo(e,n,n,i),qo(e.container,i),n}(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(ua),ha=function(t){return t instanceof _r||t instanceof vr||t instanceof yr&&t.type!==fr&&t.type!==pr},pa=function(t,e){switch(t){case 0:return Qo(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return jo(e)}},fa=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},ma=["-apple-system","system-ui"],ga=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===ma.indexOf(t)})):t},ya=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e(n,t),n.prototype.render=function(t){return i(this,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return e=Gi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,va(e)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(ua),va=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},_a=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),wa=function(){function t(e,n){var i;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new _a({id:this.instanceName,enabled:e.logging}),this.cache=null!==(i=e.cache)&&void 0!==i?i:new Co(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&Lo.setContext(window);var xa=function(t,e){return i(void 0,void 0,void 0,(function(){var i,o,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x,b,M,L,C,B,S,E,T,D,I,P,k,F,U,R,O,H,Y,Q,j,N;return r(this,(function(r){switch(r.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(i=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=i.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(B=e.allowTaint)&&void 0!==B&&B,imageTimeout:null!==(S=e.imageTimeout)&&void 0!==S?S:15e3,proxy:e.proxy,useCORS:null!==(E=e.useCORS)&&void 0!==E&&E},c=n({logging:null===(T=e.logging)||void 0===T||T,cache:e.cache},l),A={windowWidth:null!==(D=e.windowWidth)&&void 0!==D?D:o.innerWidth,windowHeight:null!==(I=e.windowHeight)&&void 0!==I?I:o.innerHeight,scrollX:null!==(P=e.scrollX)&&void 0!==P?P:o.pageXOffset,scrollY:null!==(k=e.scrollY)&&void 0!==k?k:o.pageYOffset},u=new a(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),d=new wa(c,u),h=null!==(F=e.foreignObjectRendering)&&void 0!==F&&F,p={allowTaint:null!==(U=e.allowTaint)&&void 0!==U&&U,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},d.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),f=new lo(d,t,p),(m=f.clonedReferenceElement)?[4,f.toIFrame(i,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=r.sent(),y=Ur(m)||function(t){return"HTML"===t.tagName}(m)?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),r=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new a(0,0,i,r)}(m.ownerDocument):s(d,m),v=y.width,_=y.height,w=y.left,x=y.top,b=ba(d,m,e.backgroundColor),M={canvas:e.canvas,backgroundColor:b,scale:null!==(O=null!==(R=e.scale)&&void 0!==R?R:o.devicePixelRatio)&&void 0!==O?O:1,x:(null!==(H=e.x)&&void 0!==H?H:0)+w,y:(null!==(Y=e.y)&&void 0!==Y?Y:0)+x,width:null!==(Q=e.width)&&void 0!==Q?Q:Math.ceil(v),height:null!==(j=e.height)&&void 0!==j?j:Math.ceil(_)},h?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new ya(d,M).render(m)]):[3,3];case 2:return L=r.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+w+","+x+" with size "+v+"x"+_+" using computed rendering"),d.logger.debug("Starting DOM parsing"),C=Lr(d,m),b===C.styles.backgroundColor&&(C.styles.backgroundColor=xe.TRANSPARENT),d.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),[4,new da(d,M).render(C)];case 4:L=r.sent(),r.label=5;case 5:return(null===(N=e.removeContainer)||void 0===N||N)&&(lo.destroy(g)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,L]}}))}))},ba=function(t,e,n){var i=e.ownerDocument,r=i.documentElement?we(t,getComputedStyle(i.documentElement).backgroundColor):xe.TRANSPARENT,o=i.body?we(t,getComputedStyle(i.body).backgroundColor):xe.TRANSPARENT,a="string"==typeof n?we(t,n):null===n?xe.TRANSPARENT:4294967295;return e===i.documentElement?he(r)?he(o)?a:o:r:a};return function(t,e){return void 0===e&&(e={}),xa(t,e)}}();var pM=r(hM.exports);class fM extends Qm{constructor(t){super(),this.x=void 0,this.y=void 0,this.realX=void 0,this.realY=void 0,this.backgroundColor=void 0,this.borderColor=void 0,this.center=void 0,this.origin=void 0,this.indoorMap2d=void 0,this.containElement=void 0,this.hideArrowElement=void 0,this.animationFnId=void 0,this.canvas=void 0,this.element=void 0,this.onClickInfoWindow=void 0,this.createElement=async t=>{let e,n;this.layer=new ki,this.layer.type=It.indoorMapInfoWindow;const{x:i,y:r,backgroundColor:o,borderColor:a}=t,s=document.createElement("div");s.id="info-window-wrapper",s.style.display="block",s.style.zIndex=-1,this.element=s;const l=document.createElement("div");if(l.id="info-window-"+this.layer.id,l.style.padding="10px",l.style.borderRadius="10px",l.style.border=`1px solid ${a}`,l.style.backgroundColor=o,l.style.filter="draw-shadow(0 1px 4px rgba(0, 0, 0, 0.2))",l.style.textAlign="center",!t.hideArrowElement){const t=this.createArrowElement();l.appendChild(t)}if(t.containElement instanceof HTMLElement)l.appendChild(t.containElement);else if("string"==typeof t.containElement){const e=document.createElement("div");e.id=`info-window-temp-contain-element-${this.layer.id}`,e.innerHTML=t.containElement,l.append(...e.children)}else this.logger.warn("ContainElement must be instanceof HTMLElement or a HTMLElement string");s.appendChild(l),this.addInfoWindowToScene(s),s.style.position="absolute",s.style.backgroundColor="transparent",s.style.width=l.clientWidth+"px",s.style.height=l.clientHeight+"px",l.style.position="absolute",e=l.clientWidth/2,n=l.clientHeight/2,l.style.left=i-e+"px",l.style.top=r-n+"px",this.realX=i,this.realY=r,pM(s,{x:l.offsetLeft-10,y:l.offsetTop-10,width:l.clientWidth+20,height:l.clientHeight+20,backgroundColor:"transparent"}).then((t=>{this.canvas=t;const e={point:{x:this.x+this.origin.x,y:this.y+this.origin.y},image:this.canvas,size:{width:.7*this.canvas.width,height:.7*this.canvas.height},height:Ut.roomLabel},n=new eM(e);this.layer.add(n.layer),this.registerInfoWindowEvent(),document.body.removeChild(this.element)}))},this.createArrowElement=()=>{const t=document.createElement("div");t.className="info-window-arrow-wrapper",t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.padding="0px",t.style.backgroundColor="transparent",t.style.borderTop=`8px solid ${this.borderColor}`,t.style.borderRight="8px solid transparent",t.style.borderLeft="8px solid transparent",t.style.borderBottom="8px solid transparent",t.style.left="calc(50% - 8px)",t.style.top="100%",t.style.zIndex=1;const e=document.createElement("div");return e.className="info-window-arrow",e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.backgroundColor="transparent",e.style.borderTop=`6px solid ${this.backgroundColor}`,e.style.borderRight="6px solid transparent",e.style.borderLeft="6px solid transparent",e.style.borderBottom="6px solid transparent",e.style.left="-6px",e.style.top="-8px",t.appendChild(e),t},this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.logger.setLoggerInfo(t.onLoggerInfo),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{this.logger.warn("It seems not setup onClickInfoWindow function")}),this.x=t.x,this.y=t.y,this.center=t.center,this.origin=t.origin,this.containElement=t.containElement,this.hideArrowElement=t.hideArrowElement,this.backgroundColor=t.backgroundColor,this.borderColor=t.borderColor;const e=new yn(this.x-this.center.x+this.origin.x,this.center.z,-(this.y+this.origin.y)+this.center.y),n=this.indoorMap2d.worldToScreen(e);this.createElement({x:n.x,y:n.y,containElement:this.containElement,hideArrowElement:this.hideArrowElement,backgroundColor:this.backgroundColor,borderColor:this.borderColor}),this.getInfo()},this.addInfoWindowToScene=t=>{this.indoorMap2d&&t&&document.body.appendChild(t)},this.registerInfoWindowEvent=()=>{this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(()=>{const t=this.getInfo();this.onClickInfoWindow(t)})))},this.removeInfoWindowEvent=()=>{this.layer&&"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap)},this.getInfo=()=>{const t={target:this.layer.id,position:{x:this.x,y:this.y}};return this.setDataInfo(t),t},this.removeInfoWindowFromScene=()=>{this.removeInfoWindowEvent(),this.remove()},this.init(t)}}class mM extends Qm{constructor(t){super(),this.type=void 0,this.x=void 0,this.y=void 0,this.attributes=void 0,this.realX=void 0,this.realY=void 0,this.center=void 0,this.origin=void 0,this.indoorMap2d=void 0,this.containElement=void 0,this.animationFnId=void 0,this.canvas=void 0,this.element=void 0,this.onClickCustomLayer=void 0,this.createElement=async t=>{let e,n;this.layer=new ki,this.layer.type=It.indoorMapWrapper;const{x:i,y:r,attributes:o=""}=t,a=document.createElement("div");a.id="custom-layer-wrapper",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.zIndex=-1,a.setAttribute("attributes",o),this.element=a;const s=document.createElement("div");if(s.id="custom-layer-"+this.layer.id,t.containElement instanceof HTMLElement)s.appendChild(t.containElement);else if("string"==typeof t.containElement){const e=document.createElement("div");e.id=`custom-layer-temp-contain-element-${this.layer.id}}`,e.innerHTML=t.containElement,s.append(...e.children)}else this.logger.warn("ContainElement must be instanceof HTMLElement or a HTMLElement string");a.appendChild(s),this.addCustomToScene(a),a.style.transform="none",a.style.position="absolute",a.style.left="-9999px",a.style.top="-9999px",s.style.position="absolute",e=s.clientWidth/2,n=s.clientHeight/2,s.style.left=i-e+"px",s.style.top=r-n+"px",this.realX=i,this.realY=r,pM(a,{scale:2,x:s.offsetLeft-1,y:s.offsetTop-1,width:s.clientWidth+2,height:s.clientHeight+2,backgroundColor:"transparent"}).then((t=>{this.canvas=t;const e={point:{x:this.x+this.origin.x,y:this.y+this.origin.y},image:this.canvas,size:{width:this.canvas.width,height:this.canvas.height},scale:2e-4,height:Ut.roomLabel},n=new eM(e);this.layer||(this.layer=new ki,this.layer.type=It.indoorMapWrapper),this.layer.add(n.layer),this.registerCustomLayerEvent(),document.body.removeChild(this.element)}))},this.init=t=>{this.indoorMap2d=t.indoorMap2d,this.logger.setLoggerInfo(t.onLoggerInfo),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{this.logger.warn("It seems not setup onClickCustomLayer function")}),this.type=jt.CustomLayer,this.x=t.x,this.y=t.y,this.center=t.center,this.origin=t.origin,this.containElement=t.containElement,this.attributes=t.attributes;const e=new yn(this.x-this.center.x+this.origin.x,this.center.z,-(this.y+this.origin.y)+this.center.y),n=this.indoorMap2d.worldToScreen(e);this.createElement({x:n.x,y:n.y,containElement:this.containElement,attributes:this.attributes}),this.getInfo("add")},this.addCustomToScene=t=>{this.indoorMap2d&&t&&document.body.appendChild(t)},this.registerCustomLayerEvent=()=>{var t;this.layer&&("function"!=typeof this.layer.$on&&this.indoorMap2d.dispatchEvent(this.layer),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTap,(t=>{t.type===It.indoorMapWrapper&&(t.children[0].draggerEnable=!1,this.indoorMap2d.intersection=t,this.indoorMap2d.intersection.intersectionCopy=t,this.indoorMap2d.intersection.intersectionCopy.draggerEnable=!0)})),"function"==typeof this.layer.$on&&this.layer.$on(this.indoorMap2d.eventTapUp,(t=>{if(this.indoorMap2d.map.state===Rt.mapCruise&&this.indoorMap2d.map.edit){const t=this.getInfo("click");this.onClickCustomLayer(t)}})),"function"==typeof this.layer.$on&&(null==(t=this.layer)||t.$on(this.indoorMap2d.eventTapMove,((t,e)=>{if(this.indoorMap2d.map.state===Rt.mapCruise&&this.indoorMap2d.map.edit){const t=this.getInfo("move");this.onClickCustomLayer(t)}}))))},this.removeCustomLayerEvent=()=>{this.layer&&("function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTap),"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTapUp),"function"==typeof this.layer.$off&&this.layer.$off(this.indoorMap2d.eventTapMove))},this.getInfo=t=>{this.indoorMap2d.scene.updateMatrixWorld(!0),this.indoorMap2d.map.center;const e=new yn;this.layer.getWorldPosition(e),e.setFromMatrixPosition(this.layer.matrixWorld);let n={x:this.x,y:this.y};0!==e.x&&0!==e.y&&(n={x:this.x+this.layer.position.x,y:this.y-this.layer.position.y});const i={operation:t,type:this.type,target:this.layer.id,data:{position:n,attributes:this.attributes}};return this.setDataInfo(i),i},this.removeCustomLayerFromScene=()=>(this.removeCustomLayerEvent(),this.remove()),this.init(t)}}class gM extends Qm{constructor(t){super(),this.useStructuredMode=void 0,this.pointSize=1,this.origin={x:0,y:0},this.is3d=!1,this.factor=.05,this.staticPrefix="",this.mapState=void 0,this.mapPropsData=void 0,this.lastMapPropsData=void 0,this.center=new yn(0,0,0),this.modelLoader=void 0,this.fluorescence=void 0,this.plane=void 0,this.pointsLayers=[],this.materialLayers=[],this.pixelPathPointsLayers=[],this.spriteInstanceList=[],this.tailLineInstance=void 0,this.carpetPointsHexArr=[],this.d3FrameLayer=void 0,this.d3SingleFrameLayer=void 0,this.d3CarpetMaterialLayer=void 0,this.d3CarpetMaterial=void 0,this.d3GenerateElement=void 0,this.state=Rt.normal,this.edit=!1,this.splitState=Ot,this.indoorMap2d=void 0,this.selected=void 0,this.selectedArray=void 0,this.selectRoomData=void 0,this.showSelectRoomOrder=!1,this.modelLayerList=[],this.carpetLayers=[],this.carpetCanvas=[],this.splitLine=void 0,this.splitColor=void 0,this.selectedParams=void 0,this.splitLineParams=void 0,this.mergeRoomParams=void 0,this.orderParams=void 0,this.posParams=void 0,this.multiplePosPosition=void 0,this.d3EditWrapperParams=void 0,this.maxRoomPropertyLength=3,this.pathLinearAnimate=!1,this.pathWidth=1,this.pathVisible=void 0,this.appointIcon="",this.bgColor="",this.d3BgColor="",this.d3WallColor="",this.d3FloorColor="",this.d3WallTexture="",this.mapId="",this.dataMapId="",this.infoId="",this.id=-1,this.infoWindowList=[],this.areaInfo=[],this.roomIds=[],this.pointers=[],this.laserMapData=void 0,this.pixelCoords=[],this.centerStore=void 0,this.d3Mode=!1,this.d3EditMode=!1,this.wrapperPoints=[],this.realPoints=[],this.roomFloorLayers=void 0,this.mapFreeze=!1,this.showTime=0,this.parseTime=0,this.roomLayer=void 0,this.roomMorePropertiesEvent=void 0,this.partitionStatus=-1,this.rotateMapAngle=0,this.mapWorker=void 0,this.useWorker=void 0,this.initUseThread=void 0,this.initUseParserCache=void 0,this.enableAICapability=void 0,this.resourceUsageLevel=void 0,this.isAddEventListener=void 0,this.moving=!1,this.shouldUpdate=void 0,this.pointerDrag=!1,this.pointerHandler=void 0,this.asynchronousLoadMap=!1,this.mapWorkerArray=void 0,this.mapWorkerNum=void 0,this.mapClickGestureStatus=void 0,this.pathLayer=void 0,this.showPixelTypes=void 0,this.isCarpetVisible=void 0,this.isFluorescenceVisible=void 0,this.fluorescenceColor=void 0,this.fluorescenceShadowColor=void 0,this.fluorescenceShadowSize=void 0,this.roomNameCache=void 0,this.foldableIconCache=void 0,this.roomLabelCache=void 0,this.roomPropertyCache=void 0,this.iconRenderingCache=void 0,this.offscreenCanvasEnabled=void 0,this.renderingElement=void 0,this.edgesRenderingElement=void 0,this.generateObjCache=void 0,this.mapStateObjectCache=void 0,this.cvGray=void 0,this.cvClosed=void 0,this.cvEdges=void 0,this.cvHierarchy=void 0,this.cvContours=void 0,this.cvContoursOpen=void 0,this.cvSize=void 0,this.cvSizeOpen=void 0,this.cvKernel=void 0,this.cvBlurred=void 0,this.container=void 0,this.distanceToCamera=void 0,this.onMapInitThreadEnd=void 0,this.onLoggerInfo=void 0,this.onMapId=void 0,this.onClickSplitArea=void 0,this.onClickRoom=void 0,this.onMapLoadEnd=void 0,this.onClickRoomMoreProperties=void 0,this.onClickRoomProperties=void 0,this.onPosPoints=void 0,this.onClickMapView=void 0,this.onLaserMapPoints=void 0,this.onSplitLine=void 0,this.onScreenSnapshot=void 0,this.onVirtualInfoRendered=void 0,this.onClickMaterial=void 0,this.onClickInfoWindow=void 0,this.onCruiseStatusMapClick=void 0,this.onClickCustomLayer=void 0,this.onD3MapViewModeEnd=void 0,this.createInfoWindowLayer=t=>{if(this.indoorMap2d){const e=Object.assign({center:this.center,origin:this.origin,indoorMap2d:this.indoorMap2d,onLoggerInfo:this.onLoggerInfo,onClickInfoWindow:this.onClickInfoWindow},t),n=new fM(e);return this.layer.add(n.layer),this.infoWindowList.push(n),n.getDataInfo().target}},this.removeInfoWindowLayer=t=>{const e=this.infoWindowList.findIndex((e=>e.layer.id===t));-1!==e&&this.infoWindowList.splice(e,1)[0].removeInfoWindowFromScene()},this.createCustomLayer=t=>{if(this.indoorMap2d){const e=Object.assign({center:this.center,origin:this.origin,indoorMap2d:this.indoorMap2d,onLoggerInfo:this.onLoggerInfo,onClickCustomLayer:this.onClickCustomLayer},t),n=new mM(e);return this.addSweepLayer(n),n.getDataInfo().target}},this.removeCustomLayer=t=>{this.removeFromAreaInfo(t)},this.getAllCustomLayerInfo=()=>{const t={};return t.type=jt.CustomLayer,t.data=this.getPointsData(jt.CustomLayer),t},this.rotateViewScene=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewScene(t)},this.rotateViewLeft=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewLeft(t)},this.rotateViewRight=t=>{this.indoorMap2d&&this.indoorMap2d.rotateViewRight(t)},this.enableMapClickGesture=t=>{this.mapClickGestureStatus=t},this.updateLaserMap=async(t,e=!0,n=!1)=>{try{if(!this.indoorMap2d.getVisibility())return void this.logger.warn("Due to the visibility, the updateLaserMap function has called return");if(!this.judgeMapPropsIsValid(t))return void this.logger.warn("Due to the map prop was invalidate, the updateLaserMap function has called return");if(this.mapFreeze&&e)return void this.logger.warn("Due to the mapFreeze, the updateLaserMap function has called return");if(this.updateSelectRoomData(t.selectRoomData||[]),this.lastMapPropsData=t,this.moving&&e)return this.shouldUpdate=!0,void this.logger.warn("Due to the gesture has been moving, the updateLaserMap function has called return");if(this.mapPropsData=t,this.is3d=t.is3d,this.useStructuredMode){const n={fragmentMapArray:t.mapState.structuredInfo,center:t.mapState.center,materialList:cM(t.mapState.materialObject,t.mapState.origin),textureList:lM(t.mapState.textureObject,{width:t.mapState.width,height:t.mapState.height}),roomInfo:t.mapState.roomInfo},{center:i,fragmentMapArray:r,materialList:o,textureList:a}=n,s=!Of(t.mapState.textureObject,this.mapState.textureObject),l="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",c=t.mapState.origin||{x:0,y:0};if(JSON.stringify(this.origin)!==JSON.stringify(c)&&(this.origin=c,Mm(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:c})),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=Of(this.mapState.materialObject,t.mapState.materialObject)),e)return void this.logger.warn("Since the map data is the same as before, this update will return");if(Of(this.mapState.structuredInfo,t.mapState.structuredInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const A="object"==typeof i?JSON.stringify(i):"";this.centerStore=i,this.mapState=this.mapPropsData.mapState,this.laserMapData=n,await this.createPointsLayer(r),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((s||l!==A)&&(this.createCarpetTextureLayer(a),this.createFluorescence()),this.createMaterialLayer(o))}else{const i=ym.MD5(JSON.stringify(t.mapState)).toString();if(this.mapWorker&&this.useWorker&&!n){if(this.isAddEventListener||(this.isAddEventListener=!0,this.mapWorker.onMessage(this.updateLaserMapThreadEvt)),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=Of(this.mapState.materialObject,t.mapState.materialObject)),this.mapState.map===t.mapState.map&&Of(this.mapState.roomInfo,t.mapState.roomInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const n={width:t.mapState.width,height:t.mapState.height,origin:t.mapState.origin,useContour:t.mapState.useContour,map:t.mapState.map,roomInfo:t.mapState.roomInfo,materialObject:t.mapState.materialObject,textureObject:t.mapState.textureObject,version:t.mapState.version},r=performance.now(),o={name:"parseData",mapState:n,is3d:this.is3d,d3WallColor:this.d3WallColor,identifyId:this.mapWorkerNum++,timestamp:r,hashCode:i};0===this.mapWorkerArray.length?(this.mapWorkerArray.push(o),this.mapWorker.postMessage(o)):this.mapWorkerArray.push(o)}else{const n=!Of(t.mapState.textureObject,this.mapState.textureObject),r="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",o=t.mapState.origin||{x:0,y:0};if(JSON.stringify(this.origin)!==JSON.stringify(o)&&(this.origin=o,Mm(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:o})),t.mapState&&t.mapState.map&&e){let e=!0;if("string"==typeof this.mapState.materialObject?e=this.mapState.materialObject===t.mapState.materialObject:"object"==typeof this.mapState.materialObject&&(e=Of(this.mapState.materialObject,t.mapState.materialObject)),this.mapState.map===t.mapState.map&&Of(this.mapState.roomInfo,t.mapState.roomInfo)&&e)return void this.logger.warn("Since the map data is the same as before, this update will return")}const a=AM(t.mapState,this.is3d,this.d3WallColor);if(this.initUseParserCache){const e={hashCode:i,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:a}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const{fragmentMapArray:s,center:l,textureList:c,materialList:A,pixelCoords:u,keySetArray:d}=a;this.debug.isDevMode&&this.logger.info("keySetArray ==>",d),this.pixelCoords=u,this.centerStore=l,this.mapState=this.mapPropsData.mapState,this.laserMapData=a;const h="object"==typeof l?JSON.stringify(l):"";await this.createPointsLayer(s),this.createPixelPathLayer(s),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((n||r!==h)&&(this.createCarpetTextureLayer(c),this.createFluorescence()),this.createMaterialLayer(A))}}}catch(t){this.logger.error("updateLaserMap occur an error ==>",t)}},this.initLaserMapThreadEvt=async t=>{const{name:e,identifyId:n,timestamp:i,parseTime:r,hashCode:o}=t;if("parseData"===e){var a;const e=performance.now();if(this.logger.info("initLaserMapThreadEvt thread time ==>",e-i),this.logger.info("initLaserMapThreadEvt parse map time ==>",r),this.initUseParserCache){const e={hashCode:o,data:{filterProps:this.filterObjectMethods(this.mapPropsData),is3d:t.is3d,d3WallColor:t.d3WallColor,laserMapData:t}};this.logger.info("thread env: set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const s=this.queueInOut(n);await this.createMapInstance(this.mapPropsData,t);const l=performance.now();this.logger.info("asynchronous init time ==>",l-i),s&&(null==(a=this.mapWorker)||a.postMessage(s))}},this.updateLaserMapThreadEvt=async t=>{const{name:e,identifyId:n,timestamp:i,parseTime:r,hashCode:o}=t,a=performance.now();if("remove"===e)return void this.removeMapThreadEvt();if(this.logger.info("updateLaserMapThreadEvt thread time ==>",a-i),this.logger.info("updateLaserMapThreadEvt parse map time ==>",r),this.initUseParserCache){const e={hashCode:o,data:{filterProps:this.filterObjectMethods(this.mapPropsData),is3d:t.is3d,d3WallColor:t.d3WallColor,laserMapData:t}};this.logger.info("update thread env: set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}const s=this.queueInOut(n),l=!Of(this.mapPropsData.mapState.textureObject,this.mapState.textureObject),c="object"==typeof this.center?JSON.stringify([this.center.x,this.center.y]):"",A=this.mapPropsData.mapState.origin||{x:0,y:0};JSON.stringify(this.origin)!==JSON.stringify(A)&&(this.origin=A,Mm(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:A}));const{fragmentMapArray:u,center:d,textureList:h,materialList:p,pixelCoords:f}=t;this.pixelCoords=f,this.centerStore=d,this.mapState=this.mapPropsData.mapState,this.laserMapData=t;const m="object"==typeof d?JSON.stringify(d):"";await this.createPointsLayer(u),this.createPixelPathLayer(u),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||((l||c!==m)&&(this.createCarpetTextureLayer(h),this.createFluorescence()),this.createMaterialLayer(p)),s&&this.mapWorker.postMessage(s)},this.changeMapState=(t,e)=>{this.state=t,this.edit=e,this.logger.info(`changeMapState ==> state: ${this.state} , edit: ${this.edit}`);const n=this.getLaserMapPointsLayer(Rt.virtualWall),i=this.getLaserMapPointsLayer(Rt.virtualArea),r=this.getLaserMapPointsLayer(Rt.areaSet),o=this.getLaserMapPointsLayer(Rt.pressToRun);if(this.resetOrder(),this.removeStoreObject(),this.indoorMap2d.setIsEnablePan(t===Rt.normal),t===Rt.normal)return this.hideAllCarpetMaterial(!1),this.foldableRoomInfo(!1),this.hideForbidOrWallLayer(i,!1),this.hideVertexAndUnitText(i,!0),this.hideForbidOrWallLayer(n,!1),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(r,!1),this.hideVertexAndUnitText(r,!0),void this.hideVertexAndUnitText(o,!0);if(t===Rt.mapSplit)this.splitState===Ot.click?(this.foldableRoomInfo(!1),this.hideAllCarpetMaterial(!0),e?(this.grayMapAreaColor(!0),this.foldableRoomInfo(!1)):this.foldableRoomInfo(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(i,!0),this.hideForbidOrWallLayer(r,!0)):this.splitState===Ot.split||this.splitState===Ot.merge?(this.hideAllCarpetMaterial(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(i,!0),this.hideForbidOrWallLayer(r,!0)):this.splitState===Ot.normal&&(this.hideAllCarpetMaterial(!0),e?(this.grayMapAreaColor(!0),this.foldableRoomInfo(!1)):(this.foldableRoomInfo(!0),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(i,!0),this.hideForbidOrWallLayer(r,!0)));else if(t===Rt.virtualArea)this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!1),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(i,!1),this.hideForbidOrWallLayer(r,!0),this.clearSelectRoomAndRecoverMap();else if(t===Rt.virtualWall)this.hideVertexAndUnitText(n,!1),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(i,!1),this.hideForbidOrWallLayer(r,!0),this.clearSelectRoomAndRecoverMap();else if(t===Rt.mapSelect){var a;this.hideAllCarpetMaterial(!0),"default"===this.orderParams.orderType?(this.removeRoomLabelLayer(),this.pointsLayers.forEach(((t,e)=>{t&&t.userData.extend&&t.userData.extend.roomId>=0&&this.createRoomInfoLayer(t.userData,t.scope,!0)})),this.foldableRoomInfo(!0)):"waterDroplets"===(null==(a=this.orderParams)?void 0:a.orderType)&&(this.hideFoldableIconAndProperty(!0),this.createWaterDropletsSelectedLayer()),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(i,!0),this.hideForbidOrWallLayer(r,!0)}else t===Rt.mapTimerSelect?(this.hideAllCarpetMaterial(!0),this.grayMapAreaColor(!0),this.foldableRoomInfo(!1),this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!0),this.hideForbidOrWallLayer(i,!0),this.hideForbidOrWallLayer(r,!0)):t===Rt.areaSet?(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!this.edit),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(i,!1),this.hideForbidOrWallLayer(r,!1),this.clearSelectRoomAndRecoverMap()):t===Rt.pressToRun?(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(i,!1),this.hideForbidOrWallLayer(r,!1),this.hideVertexAndUnitText(o,!this.edit),this.clearSelectRoomAndRecoverMap()):t===Rt.mapCruise&&(this.hideVertexAndUnitText(n,!0),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(r,!0),this.hideForbidOrWallLayer(n,!1),this.hideForbidOrWallLayer(i,!1),this.hideForbidOrWallLayer(r,!1),this.clearSelectRoomAndRecoverMap())},this.changeMapId=t=>{this.mapId=t},this.changeSplitMapState=t=>{this.splitState=t,this.logger.info(`changeSplitMapState splitState: ${t}`);const e=this.getLaserMapPointsLayer(Rt.virtualWall),n=this.getLaserMapPointsLayer(Rt.virtualArea);t===Ot.normal&&(this.foldableRoomInfo(!1),this.edit=!1,this.splitLine&&this.splitLine.removeSplitLine(),this.splitLine=null,this.selected&&this.selected.removeSelected(),this.selected=null,this.removeCheckedItems(),this.updateSelectRoomData([]),e.forEach((t=>{t.hideVertex(!0),t.hideUnitText(!0),t.hideLayer(!1)})),n.forEach((t=>{t.hideVertex(!0),t.hideUnitText(!0),t.hideLayer(!1)})))},this.checkDataUploadAfterCreate=()=>{const t=this.getLaserMapPointsLayer(Rt.virtualWall),e=this.getLaserMapPointsLayer(Rt.virtualArea),n=this.getLaserMapPointsLayer(Rt.areaSet),i=this.getLaserMapPointsLayer(Rt.pressToRun);this.state===Rt.normal?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1)):this.state===Rt.mapSplit||this.state===Rt.mapSelect?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)):this.state===Rt.pressToRun?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1),this.hideVertexAndUnitText(i,!0),this.hideVertexAndUnitText(i,!this.edit)):this.state===Rt.virtualArea?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!1),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!0)):this.state===Rt.virtualWall?(this.hideVertexAndUnitText(t,!1),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!0)):this.state===Rt.mapTimerSelect?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)):this.state===Rt.areaSet?(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!this.edit),this.hideForbidOrWallLayer(t,!1),this.hideForbidOrWallLayer(e,!1),this.hideForbidOrWallLayer(n,!1)):this.state===Rt.mapCruise&&(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)),this.d3EditMode&&(this.hideVertexAndUnitText(t,!0),this.hideVertexAndUnitText(e,!0),this.hideVertexAndUnitText(n,!0),this.hideForbidOrWallLayer(t,!0),this.hideForbidOrWallLayer(e,!0),this.hideForbidOrWallLayer(n,!0)),this.onVirtualInfoRendered&&this.onVirtualInfoRendered({rendered:!0,data:{areaInfoList:this.mapPropsData.areaInfoList?JSON.parse(this.mapPropsData.areaInfoList):[]}})},this.shouldCreatePosToRun=()=>this.state===Rt.normal||this.state===Rt.pressToRun,this.autoScaleMap=(t,e)=>{this.indoorMap2d.autoFitScreen(t,e)},this.getMapDataWidthHeight=()=>({width:this.mapState.width,height:this.mapState.height}),this.checkMapEditForbidden=()=>!this.edit,this.removeMapThreadEvt=()=>{Em(this.indoorMap2d.env)&&this.mapWorker&&(this.mapWorker.terminate(),this.mapWorker=null)},this.removeModelLoader=()=>{this.modelLoader&&this.modelLoader.dispose()},this.removeMap=async()=>{this.indoorMap2d.setGestureEnable(!1),this.removeRoomLabelLayer(),this.removeMapAreaEvent(),this.removeCarpetLayers(),this.removeFluorescence(),this.removeFloorMaterial(),this.removeOriginChangeEvent(),this.removeMapResizeEvent(),this.removeSelectRoomDataChangeEvent(),this.removeAllModelLayer(),this.removeModelLoader(),this.clearStorage(),this.pointsLayers.forEach((t=>{t&&t.scope.removePointsLayer()})),this.pixelPathPointsLayers.forEach((t=>{t.removeSmearMaterial()})),this.pointsLayers.length=0,this.pixelPathPointsLayers.length=0,this.carpetPointsHexArr.length=0,this.materialLayers.length=0,this.spriteInstanceList.length=0;const t=this.removeFromScene(this.indoorMap2d.scene,"react-indoor-map-map");this.logger.info(`It has been removed ${t} objects from scene`),this.indoorMap2d.resetGlobalEvents(),this.clearRenderingCache(this.roomNameCache),this.roomNameCache={},this.clearRenderingCache(this.foldableIconCache),this.foldableIconCache={},this.clearRenderingCache(this.roomLabelCache),this.roomLabelCache={},this.clearRenderingCache(this.roomPropertyCache),this.roomPropertyCache={},this.clearRenderingCache(this.iconRenderingCache),this.iconRenderingCache={},this.edgesRenderingElement&&this.edgesRenderingElement.disposeRendering2D(),this.renderingElement&&(this.renderingElement.disposeRendering2D(),this.renderingElement.disposeRendering3D()),this.mapWorker&&(this.mapWorker.postMessage({name:"remove"}),this.removeMapThreadEvt()),this.cvClosed&&this.cvClosed.delete(),this.cvContours&&this.cvContours.delete(),this.cvContoursOpen&&this.cvContoursOpen.delete(),this.cvEdges&&this.cvEdges.delete(),this.cvGray&&this.cvGray.delete(),this.cvHierarchy&&this.cvHierarchy.delete(),this.cvKernel&&this.cvKernel.delete(),this.cvBlurred&&this.cvBlurred.delete(),this.remove()},this.addSweepLayer=t=>{var e;if(!t.layer)return this.logger.warn("You cannot add empty objects to the map"),null;null==(e=this.layer)||e.add(t.layer),this.areaInfo.push(t)},this.addModelLayer=t=>{var e;if(!t)return this.logger.warn("You cannot add empty objects to the map"),null;this.modelLayerList.push(t),null==(e=this.layer)||e.add(t.layer)},this.setPathInstance=t=>(this.removeFromAreaInfoWithClassType("cleanPath"),this.pathLayer=t,this.addSweepLayer(this.pathLayer),this.pathLayer),this.removeAllModelLayer=()=>{if(this.is3d){for(let t=this.modelLayerList.length-1;t>=0;t--){const e=this.modelLayerList[t];if(e.modelLayer&&e.modelLayer.type===It.indoorMapModel){const e=this.modelLayerList.splice(t,1)[0].layer;this.modelLoader.removeModelLayer(e)}}this.modelLayerList.length=0}},this.setPlaneFloorMaterialOnMap2d=t=>{this.planeFloorLayer&&(this.planeFloorLayer.removePlaneFloorMaterial(),this.removeFromAreaInfoWithClassType("planeFloorMaterial"));const e=this.createPlaneFloorMaterial(t);return this.planeFloorLayer=e,this.addSweepLayer(e),e},this.setRoomFloorMaterial=t=>{var e;const{pointsAttribute:n,points:i}=t,{colorHex:r,extend:o}=n,{roomFloorMaterial2d:a,roomFloorMaterial3d:s}=n,l=this.is3d?s:a,c=null==l?void 0:l.value;if(!c){var A;const t=null==(A=this.roomFloorLayers)?void 0:A.get(r);var u;return void(t&&(t.removeRoomFloorMaterial(),null==(u=this.roomFloorLayers)||u.delete(r)))}let d=0,h=0,p=0,f=0;if(i)d=i.minX,h=i.maxX,p=i.minY,f=i.maxY;else{const t=this.useStructuredMode?n.vertexDataOuterOnScs:n.pixelPoints,{boundingBox:e}=Ay(t);d=e.minX,h=e.maxX,p=-e.maxY,f=-e.minY}const m=this.useStructuredMode?n.vertexDataOuter:n.points;if(null!=(e=this.roomFloorLayers)&&e.get(r)){var g;null==(g=this.roomFloorLayers.get(r))||g.updateFloorMaterial({minX:d,maxX:h,minY:p,maxY:f,width:this.mapState.width,height:this.mapState.height,points:m,imageSource:c,opacity:l.opacity,radio:l.scale})}else{var y;const t=new tM({useContour:this.useStructuredMode,minX:d,maxX:h,minY:p,maxY:f,width:this.mapState.width,height:this.mapState.height,points:m,imageSource:c,opacity:l.opacity,radio:l.scale,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker&&this.offscreenCanvasEnabled,onLoggerInfo:this.onLoggerInfo});if(null==(y=this.roomFloorLayers)||y.set(r,t),null!=t.layer){var v,_;const e=this.useStructuredMode?0:this.center.x,n=this.useStructuredMode?0:this.center.y;t.setPosition(new yn(e,n,Ut.laserMap+.001*((null==(v=this.roomFloorLayers)?void 0:v.size)+1))),null==(_=this.layer)||_.add(t.layer)}}},this.removeFloorMaterial=()=>{var t,e;null==(t=this.roomFloorLayers)||t.forEach((t=>t.removeRoomFloorMaterial())),null==(e=this.roomFloorLayers)||e.clear()},this.lockModelClick=t=>{this.modelLoader&&this.modelLoader.lockModelClick(t)},this.freezeMapUpdate=t=>{this.mapFreeze=t},this.getModelLayerList=()=>this.modelLayerList,this.removeModelLayer=t=>{const e=this.modelLayerList.findIndex((e=>Number(e.layer.id)===Number(t)));if(-1!==e){const t=this.modelLayerList.splice(e,1)[0].layer;this.modelLoader.removeModelLayer(t)}},this.hideAllModelEditWrapper=()=>{this.modelLayerList.forEach((t=>{const e=t.layer;e.scope.hideLine&&e.scope.hideLine(!0),e.scope.hideVertex&&e.scope.hideVertex(!0)})),this.lockModelClick(!1)},this.getModelInfo=t=>{if(this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader){const e=this.modelLayerList.findIndex((e=>Number(e.layer.id)===Number(t)));if(-1!==e){const t=this.modelLayerList[e].layer,n=this.modelLoader.getInfo(t),{data:i}=n;return this.debug.isDevMode&&this.logger.info("getModelInfo ==>",i),i}}return{}},this.getAllModelInfo=()=>{const t=[];return this.indoorMap2d.map&&this.indoorMap2d.map.modelLoader&&this.modelLayerList.forEach((e=>{const n=this.modelLoader.getInfo(e.layer);t.push(n.data)})),this.debug.isDevMode&&this.logger.info("getAllModelInfo ==>",t),t},this.getSweepLayer=t=>{var e;let n=null;return null==(e=this.layer)||e.children.forEach((e=>{e.id===t&&(n=e.scope)})),n},this.getCenter=()=>this.center,this.getStaticPrefix=()=>this.staticPrefix,this.removeFromAreaInfo=t=>{try{let i=-1;if(this.areaInfo.forEach(((e,n)=>{e&&e.dataInfo.target===t&&(i=n)})),i>-1){var e,n;const t=this.areaInfo.splice(i,1);"function"==typeof(null==(e=t[0])?void 0:e.remove)&&(null==(n=t[0])||n.remove())}return i}catch(t){this.logger.error("remove areaInfo",t)}},this.removeFromAreaInfoWithClassType=t=>{const e=[];return this.areaInfo.filter((e=>e&&e.class===t)).forEach((t=>{const n=t.dataInfo;n.target&&(this.removeFromAreaInfo(n.target),e.push(n.target))})),e},this.removeCheckedItems=()=>{this.selectedArray.forEach((t=>{var e;this.removeFromAreaInfo(null==(e=t.dataInfo)?void 0:e.target)})),this.selectedArray=[]},this.getLaserMapPointsInfo=t=>{const e={};return void 0!==t?(e.type=t,e.data=this.getPointsData(t),e):(e.type=this.state,e.data=this.getPointsData(this.state),e)},this.getSplitLinePointsInfo=()=>{if(this.splitLine)return{type:Ot.split,data:[{points:this.splitLine.getSplitLineRealPoints(),pixel:this.splitLine.colorHex}]};this.logger.warn("You seems not initialize the splitLine")},this.getRoomMergePointsInfo=()=>{var t,e,n,i,r,o;this.selectedArray.length<2&&this.logger.warn("You must select two rooms");const a=[];return this.selectedArray.forEach((t=>{var e;const n=this.pointsLayers.findIndex((e=>{var n;return(null==(n=e.userData)?void 0:n.colorHex)===t.colorHex}));let i=[];var r;-1!==n&&(i=null==(r=this.pointsLayers[n].scope)?void 0:r.getConvexHullPoints()),a.push({pixel:t.colorHex,convexHull:i,vertexData:(null==(e=this.pointsLayers[n].userData)||null==(e=e.extend)?void 0:e.vertexData)||[]})})),{type:Ot.merge,data:[{pixel:null==(t=a[0])?void 0:t.pixel,convexHull:null==(e=a[0])?void 0:e.convexHull,vertexData:null==(n=a[0])?void 0:n.vertexData},{pixel:null==(i=a[1])?void 0:i.pixel,convexHull:null==(r=a[1])?void 0:r.convexHull,vertexData:null==(o=a[1])?void 0:o.vertexData}]}},this.getMapAreaInfo=(t,e,n=!1)=>{const i=[];return Array.isArray(t)&&t.forEach((t=>{this.pointsLayers.forEach((r=>{if(r){var o;const A=null==(o=r.scope)?void 0:o.layer.userData;if((e?A.colorHex:A.extend.roomId)===t){var a,s,l,c;const{roomCenter:t,cLayer:e}=this.adjustRoomCenter(null==(a=r.scope)?void 0:a.layer),{vertexDataOuter:o=[]}=A,u=o.map((t=>({x:t.x,y:-t.y}))),d=this.useStructuredMode?u:A.points.concat(null!=(s=null==e||null==(l=e.userData)?void 0:l.points)?s:[])||[],h={pixel:A.colorHex,roomId:A.extend.roomId,points:d,convexHull:n?null==(c=r.scope)?void 0:c.getConvexHullPoints():[],center:{x:t.x,y:-t.y},extend:A.extend,roomProperty:A.roomProperty};i.push(h)}}}))})),i},this.getAllMapAreaInfo=(t=!1)=>{const e=[];return this.pointsLayers.forEach((n=>{if(n){var i;const l=null==(i=n.scope)?void 0:i.layer.userData;if(l.extend&&l.extend.roomId>=0){var r,o,a,s;const{roomCenter:i,cLayer:c}=this.adjustRoomCenter(n.scope.layer),{vertexDataOuter:A=[]}=l,u=A.map((t=>({x:t.x,y:-t.y}))),d=this.useStructuredMode?u:l.points?l.points.concat(null!=(r=null==c||null==(o=c.userData)?void 0:o.points)?r:[]):[],h={pixel:l.colorHex,roomId:null==(a=l.extend)?void 0:a.roomId,points:d,convexHull:t?null==(s=n.scope)?void 0:s.getConvexHullPoints():[],center:{x:i.x,y:-i.y},extend:l.extend||{},roomProperty:l.roomProperty||{}};e.push(h)}}})),e},this.getMapAreaCount=()=>{let t=0;return this.pointsLayers.forEach((e=>{if(e){var n,i;const r=null==(n=e.scope)||null==(n=n.layer)?void 0:n.userData;r&&(null==(i=r.extend)?void 0:i.roomId)>=0&&(t+=1)}})),t},this.updateSelectRoomByIds=(t,e)=>{if(this.state===Rt.mapTimerSelect||this.state===Rt.normal||this.state===Rt.mapSplit&&(this.splitState===Ot.click||this.splitState===Ot.normal)){const n=this.state===Rt.mapTimerSelect;this.highlightMapAreaColor(Array.from(new Set(t)),e,n)}},this.removeLaserMap=()=>(this.removeOriginChangeEvent(),this.removeMapResizeEvent(),this.removeSelectRoomDataChangeEvent(),this.removeMapAreaEvent(),this.removeRoomLabelLayer(),this.removeMapAreaEvent(),this.remove()),this.setD3ViewMode=t=>{this.d3Mode=t,t?(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!0),this.indoorMap2d.setSideScene()):(this.indoorMap2d.changeContainerColor(this.bgColor),this.indoorMap2d.enable3dControls(!1),this.indoorMap2d.setTopScene())},this.setD3EditMode=(t,e)=>{if(this.logger.info("setD3EditMode editMode, envMode, is3d ==>",t,e,this.is3d),this.d3EditMode=t,"3d"===e&&this.is3d)t?(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!1),this.indoorMap2d.setTopScene()):(this.indoorMap2d.changeContainerColor(this.d3BgColor),this.indoorMap2d.enable3dControls(!0),this.indoorMap2d.setSideScene());else if("2d"===e&&!this.is3d){var n;this.indoorMap2d.changeContainerColor(this.bgColor),null==(n=this.indoorMap2d)||n.enable3dControls(!1),this.indoorMap2d.setTopScene()}},this.getPointSize=()=>this.pointSize,this.getD3EditMode=()=>this.d3EditMode,this.init=t=>{this.logger.setLoggerInfo(t.onLoggerInfo),this.origin={x:0,y:0},this.partitionStatus=-1,this.mapFreeze=!1,this.moving=!1,this.center=new yn(0,0,0),this.factor=t.factor||.05,this.rotateMapAngle=t.rotateMapAngle||0,this.staticPrefix=t.staticPrefix,this.bgColor=t.bgColor||"#F5F5F5",this.d3BgColor=t.d3BgColor||"#EBF6FD",this.d3WallColor=t.d3WallColor||"#FFE1E1E1",this.d3FloorColor=t.d3FloorColor||"#FFCACBD2",this.d3WallTexture=t.d3WallTexture,this.indoorMap2d=t.indoorMap2d,Em(this.indoorMap2d.env)&&this.useWorker&&!this.useStructuredMode&&(this.mapWorker=Im(dM)),this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3,this.is3d=t.is3d||!1,this.roomLayer={},this.pointerDrag=!1,this.pointerHandler=null,this.pixelPathPointsLayers=[],this.carpetPointsHexArr=[],this.selectedArray=[],this.selectRoomData=[],this.showPixelTypes=[],this.isCarpetVisible=!0,this.isFluorescenceVisible=!1,this.roomNameCache={},this.foldableIconCache={},this.roomLabelCache={},this.roomPropertyCache={},this.iconRenderingCache={},this.asynchronousLoadMap=t.asynchronousLoadMap,this.is3d?this.indoorMap2d.setD3BgColor(this.d3BgColor):this.indoorMap2d.setBgColor(this.bgColor),this.modelLoader=new wb({indoorMap2d:this.indoorMap2d,origin:this.origin,staticPrefix:this.staticPrefix,type:jt.D3Model,d3EditWrapperParams:t.d3EditWrapperParams,onClickModel:t.onClickModel,onModelLoadingProgress:t.onModelLoadingProgress,onLaserMapPoints:t.onLaserMapPoints,onLoggerInfo:t.onLoggerInfo}),this.state=Rt.normal,this.indoorMap2d.setIsEnablePan(this.state===Rt.normal),this.edit=!1,this.splitState=Ot.normal,this.selectedArray=[],this.areaInfo=[],this.carpetLayers=[],this.splitColor=t.splitColor,this.selectedParams=t.selectedParams||{checkedIcon:{checkedIconEnable:!1}},this.splitLineParams=t.splitLineParams||{vertex:{},checkedIcon:{checkedIconEnable:!0}},this.mergeRoomParams=t.mergeRoomParams||{checkedIcon:{checkedIconEnable:!0}},this.orderParams=t.orderParams||{orderType:"default"},this.posParams=t.posParams||void 0,this.d3CarpetMaterial=t.d3CarpetMaterial||{},this.multiplePosPosition=void 0!==t.multiplePosPosition&&t.multiplePosPosition,this.maxRoomPropertyLength=void 0!==t.maxRoomPropertyLength?t.maxRoomPropertyLength:3,this.pathLinearAnimate=t.pathLinearAnimate,this.pathWidth=t.pathWidth,this.pathVisible=t.pathVisible,this.appointIcon=t.appointIcon,this.showSelectRoomOrder=t.showSelectRoomOrder,this.mapId=t.mapId||"laser_"+(new Date).getTime(),this.dataMapId=void 0===t.dataMapId?"-1":t.dataMapId,this.roomIds=[],this.pointers=[],this.onLoggerInfo=t.onLoggerInfo||(()=>{this.logger.warn("It seems not setup onLoggerInfo function")}),this.onMapInitThreadEnd=t.onMapInitThreadEnd||(()=>{this.logger.warn("It seems not setup onMapInitThreadEnd function")}),this.onClickSplitArea=t.onClickSplitArea||(()=>{this.logger.warn("It seems not setup onClickSplitArea function")}),this.onClickRoom=t.onClickRoom||(()=>{this.logger.warn("It seems not setup onClickRoom function")}),this.onMapId=t.onMapId||(()=>{this.logger.warn("It seems not setup onMapId function")}),this.onMapLoadEnd=t.onMapLoadEnd||(()=>{this.logger.warn("It seems not setup onMapLoadEnd function")}),this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{this.logger.warn("It seems not setup onClickRoomMoreProperties function")}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{this.logger.warn("It seems not setup onClickRoomProperties function")}),this.onPosPoints=t.onPosPoints||(()=>{this.logger.warn("It seems not setup onPosPoints function")}),this.onClickMapView=t.onClickMapView||(()=>{this.logger.warn("It seems not setup onClickMapView function")}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{this.logger.warn("It seems not setup onLaserMapPoints function")}),this.onSplitLine=t.onSplitLine||(()=>{this.logger.warn("It seems not setup onSplitLine function")}),this.onScreenSnapshot=t.onScreenSnapshot||(()=>{this.logger.warn("It seems not setup onScreenSnapshot function")}),this.onVirtualInfoRendered=t.onVirtualInfoRendered||(()=>{this.logger.warn("It seems not setup onVirtualInfoRendered function")}),this.onClickMaterial=t.onClickMaterial||(()=>{this.logger.warn("It seems not setup onClickMaterial function")}),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{this.logger.warn("It seems not setup onClickInfoWindow function")}),this.onCruiseStatusMapClick=t.onCruiseStatusMapClick||(()=>{this.logger.warn("It seems not setup onCruiseStatusMapClick function")}),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{this.logger.warn("It seems not setup onClickCustomLayer function")}),this.onD3MapViewModeEnd=t.onD3MapViewModeEnd||(()=>{this.logger.warn("It seems not setup onD3MapViewModeEnd function")}),this.logger.info("this.is3d ==>",this.is3d),this.initMap(t)},this.queueInOut=t=>{let e=null;if(void 0!==t){const n=this.mapWorkerArray.findIndex((e=>e.identifyId===t));-1!==n?n!==this.mapWorkerArray.length-1?(e=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[e]):this.mapWorkerArray.pop():this.mapWorkerArray.length&&(e=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[e])}return e},this.registerPropsStateAndEvent=t=>{this.judgeMapPropsIsValid(t)||this.logger.warn("Receive error map props"),this.mapPropsData=t,bm(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`,this.selectRoomDataChange),bm(`${this.indoorMap2d.getUnionId()}_mapMoving`,(t=>{const{moving:e}=t;this.moving=e,!e&&this.lastMapPropsData&&this.shouldUpdate&&(this.shouldUpdate=!1,this.updateLaserMap(this.lastMapPropsData))})),bm(`${this.indoorMap2d.getUnionId()}_originChange`,this.originChangeEvent),this.autoScaleMap(t.mapState.width,t.mapState.height),this.updateSelectRoomData(t.selectRoomData||[]),bm(`${this.indoorMap2d.getUnionId()}_mapResize`,this.mapResizeEvent);const e=t.mapState.origin||{x:0,y:0};JSON.stringify(this.origin)!==JSON.stringify(e)&&Mm(`${this.indoorMap2d.getUnionId()}_originChange`,{oldValue:this.origin,newValue:e}),this.origin=e},this.initMap=async t=>{if(this.registerPropsStateAndEvent(t),this.useStructuredMode){const e={fragmentMapArray:t.mapState.structuredInfo,center:t.mapState.center,materialList:cM(t.mapState.materialObject,t.mapState.origin),textureList:lM(t.mapState.textureObject,{width:t.mapState.width,height:t.mapState.height}),roomInfo:t.mapState.roomInfo};this.createStructuredMapInstance(t,e)}else{const e=performance.now(),n=this.initUseParserCache?ym.MD5(JSON.stringify(t.mapState)).toString():"no hash",i=performance.now();this.logger.info("Current mapState hash code ===>",n,i-e);const r=this.initUseParserCache?await this.mapStateObjectCache.getItem("mapState"):void 0;this.logger.info("Heat hash object ==>",!("object"==typeof r));let o={};if(this.mapWorker&&this.useWorker&&this.initUseThread){this.mapWorker.onMessage(this.initLaserMapThreadEvt);const i={width:t.mapState.width,height:t.mapState.height,origin:t.mapState.origin,useContour:t.mapState.useContour,map:t.mapState.map,roomInfo:t.mapState.roomInfo,materialObject:t.mapState.materialObject,textureObject:t.mapState.textureObject,version:t.mapState.version},a=performance.now(),s={name:"parseData",mapState:i,is3d:this.is3d,d3WallColor:this.d3WallColor,identifyId:this.mapWorkerNum++,timestamp:a,hashCode:n};if(r){const i=r.hashCode,{filterProps:a,is3d:l,d3WallColor:c,laserMapData:A}=r.data;if(i===n&&this.is3d===l&&this.d3WallColor===c&&A){o=A,this.logger.info("thread env: use mapState cache, skip parse..."),await this.createMapInstance(t,o);const n=performance.now();this.logger.info("asynchronous init time use cache ==>",n-e)}else this.mapWorkerArray.push(s),this.mapWorker.postMessage(s)}else this.mapWorkerArray.push(s),this.mapWorker.postMessage(s)}else if(r){const i=r.hashCode,{filterProps:a,is3d:s,d3WallColor:l,laserMapData:c}=r.data;if(i===n&&this.is3d===s&&this.d3WallColor===l&&c){o=c,this.logger.info("use mapState cache, skip parse..."),await this.createMapInstance(t,o);const n=performance.now();this.logger.info("synchronous init time use cache ==>",n-e)}else{if(o=AM(t.mapState,this.is3d,this.d3WallColor),this.initUseParserCache){const e={hashCode:n,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:o}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}await this.createMapInstance(t,o);const i=performance.now();this.logger.info("synchronous init time ==>",i-e)}}else{if(o=AM(t.mapState,this.is3d,this.d3WallColor),this.initUseParserCache){const e={hashCode:n,data:{filterProps:this.filterObjectMethods(t),is3d:this.is3d,d3WallColor:this.d3WallColor,laserMapData:o}};this.logger.info("set mapState cache"),this.mapStateObjectCache.setItem("mapState",e)}await this.createMapInstance(t,o);const i=performance.now();this.logger.info("synchronous init time ==>",i-e)}}},this.filterObjectMethods=t=>{const e=Object.keys(t).filter((e=>"function"!=typeof t[e])).reduce(((e,n)=>(e[n]=t[n],e)),{});return delete e.indoorMap2d,e},this.createMapInstance=async(t,e)=>{this.mapState=t.mapState,this.lastMapPropsData=t,this.laserMapData=e;const{fragmentMapArray:n,center:i,textureList:r,materialList:o,pixelCoords:a,keySetArray:s}=e;this.debug.isDevMode&&this.logger.info("keySetArray ==>",s),this.pixelCoords=a,this.centerStore=i,this.logger.info("centerStore",this.centerStore),this.layer=new ki,this.layer.type="react-indoor-map-map",this.layer.matrixAutoUpdate=!0,this.layer.rotateOnAxis(new yn(1,0,0),-Math.PI/2),this.distanceToCamera=this.indoorMap2d.camera.position.distanceTo(this.layer.position),this.asynchronousLoadMap&&this.useWorker?(await this.createPointsLayer(n),this.createPixelPathLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),setTimeout((async()=>{this.is3d||(this.createFluorescence(),setTimeout((()=>{this.createCarpetTextureLayer(r),this.createMaterialLayer(o)}),50))}),16)):(await this.createPointsLayer(n),this.createPixelPathLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||(this.createFluorescence(),this.createCarpetTextureLayer(r),this.createMaterialLayer(o)));const l={performanceTimestamp:Date.now()-this.mapState.performanceTimestamp,mapId:this.mapId,dataMapId:this.dataMapId,target:this.layer.id};this.onMapInitThreadEnd(!0),this.indoorMap2d.setGestureEnable(!0),this.rotateViewScene(this.rotateMapAngle),this.onMapId({data:l}),this.logger.info("onMapId callback ==>",l),this.onMapLoadEnd(!0),this.logger.info("onMapLoadEnd callback ==>",l)},this.createStructuredMapInstance=async(t,e)=>{this.mapState=t.mapState,this.lastMapPropsData=t,this.laserMapData=e;const{fragmentMapArray:n,center:i,textureList:r,materialList:o}=e;this.centerStore=i,this.logger.info("centerStore",this.centerStore),this.layer=new ki,this.layer.type="react-indoor-map-map",this.layer.matrixAutoUpdate=!0,this.layer.rotateOnAxis(new yn(1,0,0),-Math.PI/2),this.distanceToCamera=this.indoorMap2d.camera.position.distanceTo(this.layer.position),this.asynchronousLoadMap?(await this.createPointsLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),setTimeout((async()=>{this.is3d||(this.createFluorescence(),setTimeout((()=>{this.createCarpetTextureLayer(r),this.createMaterialLayer(o)}),50))}),16)):(await this.createPointsLayer(n),this.createMapAreaEvent(),this.createEdgePoints(),this.is3d||(this.createFluorescence(),this.createCarpetTextureLayer(r),this.createMaterialLayer(o)));const a={performanceTimestamp:Date.now()-this.mapState.performanceTimestamp,mapId:this.mapId,dataMapId:this.dataMapId,target:this.layer.id};this.onMapInitThreadEnd(!0),this.indoorMap2d.setGestureEnable(!0),this.rotateViewScene(this.rotateMapAngle),this.onMapId({data:a}),this.logger.info("onMapId callback ==>",a),this.onMapLoadEnd(!0),this.logger.info("onMapLoadEnd callback ==>",a)},this.judgeMapPropsIsValid=t=>{const{width:e,height:n}=t.mapState;return void 0!==e&&void 0!==n||(this.logger.info("MapProps is invalidated: width or height should not be undefined"),!1)},this.originChangeEvent=t=>{const{oldValue:e,newValue:n}=t;this.logger.info(`originChangeEvent ==> oldValue = ${JSON.stringify(e)} , newValue = ${JSON.stringify(n)}`);const i=this.getLaserMapPointsLayer(Rt.virtualWall),r=this.getLaserMapPointsLayer(Rt.virtualArea),o=this.getLaserMapPointsLayer(Rt.areaSet),a=this.getLaserMapPointsLayer(Rt.pressToRun);this.indoorMap2d.sceneRender(!1),r.forEach((t=>{t.updateOriginAndPosition(n),t.getIsEditable()||t.hideVertexAndUnitText(!0)})),i.forEach((t=>{t.updateOriginAndPosition(n),t.getIsEditable()||t.hideVertexAndUnitText(!0)})),o.forEach((t=>{const e=t.getIsEditable();t.updateOriginAndPosition(n),e||t.hideVertexAndUnitText(!0)})),a.forEach((t=>{t.updateOriginAndPosition(n)})),this.pathLayer&&this.pathLayer.updateCleanPathOnOriginChange(n),this.modelLoader.updateOrigin(n),this.autoScaleMap(this.mapPropsData.mapState.width,this.mapPropsData.mapState.height),this.indoorMap2d.sceneRender(!0)},this.mapResizeEvent=t=>{t&&(this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3,this.updateLaserMapPointSize(this.pointSize))},this.updateLaserMapPointSize=t=>{this.pointsLayers.forEach((e=>{e&&e.scope.updatePointsLayerSize(t)})),this.indoorMap2d.redraw()},this.getLaserMapPointsLayer=t=>{const e=[];return void 0!==t&&this.areaInfo.forEach((n=>{const i=n;i&&i.type===t&&e.push(i)})),e},this.getLaserMapPointsLayerWithClassType=t=>{const e=[];return void 0!==t&&this.areaInfo.forEach((n=>{const i=n;i&&i.class===t&&e.push(i)})),e},this.removeOriginChangeEvent=()=>{Lm(`${this.indoorMap2d.getUnionId()}_originChange`)},this.removeMapResizeEvent=()=>{Lm(`${this.indoorMap2d.getUnionId()}_mapResize`)},this.removeSelectRoomDataChangeEvent=()=>{Lm(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`)},this.createPlaneFloorMaterial=t=>{const e=this.getCenter(),n=t.width/2,i=t.height/2,r={point:[new ln(e.x-n,e.y+i),new ln(e.x+n,e.y+i),new ln(e.x+n,e.y-i),new ln(e.x-n,e.y-i)],uri:t.value,zIndex:t.zIndex};return new Gb(r)},this.createPointsLayer=async t=>{try{const a=this.useStructuredMode?t:t.filter((t=>0===t.pixelPathData.length));let s=this.centerStore;this.centerStore&&Array.isArray(this.centerStore)||(s=[this.mapState.width/2,this.mapState.height/2],this.logger.warn("The center point cannot be empty and has been automatically corrected.")),this.indoorMap2d.forceFpsImprove(),this.center.x=s[0],this.center.y=s[1],this.center.z=0,this.centerStore=new yn,this.centerStore.copy(this.center),this.layer.position.x=-s[0],this.layer.position.y=0,this.layer.position.z=s[1],this.roomIds=[],this.logger.info("selectRoomHex ==>",this.selectRoomData);const l=a.findIndex((t=>{const{pointsAttribute:e}=t;return!!(e.extend&&void 0!==e.extend.roomId&&e.extend.roomId>=0)}));-1!==l&&1!==this.partitionStatus&&(this.logger.info("from unPartitioned to partitioned status..."),this.pointsLayers.forEach((t=>{t&&(this.removeMapAreaEvent(t),t.scope.removePointsLayer())})),this.pointsLayers.length=0,this.carpetPointsHexArr.length=0),this.partitionStatus=-1===l?-1:1;const c=this.selectRoomData.concat([]);this.setStorageByKey("unknownArea",[]);for(let t of a){let{pointsArray:s,center:l,pointsAttribute:A,useContour:u=!1}=t;if(A.pixelType!==Ft.unknown){const t=s.length/3,d=A.colors.slice(0,3),h=A.normalColors.slice(0,3);if(A.colors=[],A.normalColors=[],u)A.colors.push(...d),A.normalColors.push(...h);else for(let e=0;e<t;e++)A.colors.push(...d),A.normalColors.push(...h);let{colors:p,normalColors:f}=A;if(this.showPixelTypes.length){if(-1===this.showPixelTypes.findIndex((t=>t===A.pixelType)))continue}let m=!1,g=-1,y=null;this.pointsLayers.forEach(((t,e)=>{if(t&&t.userData.colorHex===A.colorHex){var n;m=!0,g=e;const i=(null==(n=t.scope)?void 0:n.getStorage())||{};A={...A,storage:{...i}},y=this.getNewMapAreaColorConfig(t)}}));let{colorAlpha:v,normalColorAlpha:_,pixelType:w}=A;this.pointSize=this.indoorMap2d.originFov/(10/(this.indoorMap2d.originFov/this.indoorMap2d.camera.fov))*3;const x={freezeUpdate:!this.useStructuredMode&&this.is3d,class:gy.pixelPoints,useContour:u,color:new Ai(d[0],d[1],d[2]),points:A.vertexDataOuter,pointsArray:s,colorsArray:p,center:l,opacity:v,pointSize:this.pointSize,showColor:!0,depthTest:!0,depthWrite:!0,transparent:!1,pointsAttribute:A,height:w===Ft.barrier?Ut.laserMap+.01:Ut.laserMap};if(y){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:i}=y;f=t,p=e,v=n,_=i}const{colorStatus:b}=A.storage||{};if(b){const{isGray:t}=b;t?(x.color=new Ai(h[0],h[1],h[2]),x.colorsArray=f,x.opacity=_):(x.color=new Ai(d[0],d[1],d[2]),x.colorsArray=p,x.opacity=v)}if(A.extend&&void 0!==A.extend.roomId&&A.extend.roomId>=0&&A.pixelType===Ft.sweep&&this.selectRoomData.length>0&&(-1===this.selectRoomData.findIndex((t=>t===A.colorHex))?(x.color=new Ai(h[0],h[1],h[2]),x.colorsArray=f,x.opacity=_):(x.color=new Ai(d[0],d[1],d[2]),x.colorsArray=p,x.opacity=v)),A.pixelType===Ft.carpet){if(c.length>0){let t=!1;c.forEach(((e,n)=>{const i=a.findIndex((t=>t.pointsAttribute.colorHex===e));if(-1!==i){const e=a[i].pointsAttribute;e.pixelType===Ft.sweep&&(e.extend.highlightColor===A.extend.highlightColor?(x.colorsArray=p,x.opacity=v,t=!0):t||(x.colorsArray=f,x.opacity=_))}}))}const t=this.findRoomInfoThroughCarpetPointsAttribute(a,A);A.roomFloorMaterial2d=t.roomFloorMaterial2d,A.roomFloorMaterial3d=t.roomFloorMaterial3d}if(!m){if(A.extend&&A.extend.normalColor){var e,n;const t=new wy(x),o=(null==(e=t.scope)?void 0:e.getStorage())||{};if(A={...A,storage:{...o}},this.pointsLayers.push(t.layer),null==(n=this.layer)||n.add(t.layer),this.is3d){if(this.indoorMap2d.checkOathPermission())t.layer.visible=!1;else if(!(A.extend&&void 0!==A.extend.roomId&&A.extend.roomId>=0)&&A.pixelType===Ft.barrier){let t=1;this.is3d&&(t=15);for(let e=0;e<t;e++){var i,r;x.height+=1,x.transparent=!0;const t=new wy(x),e=(null==(i=t.scope)?void 0:i.getStorage())||{};A={...A,storage:{...e}},this.pointsLayers.push(t.layer),null==(r=this.layer)||r.add(t.layer)}}}else t.layer.visible=!0,this.createRoomInfoLayer(A,t,!0)}A.pixelType===Ft.carpet&&-1===this.carpetPointsHexArr.findIndex((t=>t.colorHex===A.colorHex))&&this.carpetPointsHexArr.push({colorHex:A.colorHex,normalColor:A.extend.normalColor,highlightColor:A.extend.highlightColor})}if(m&&(this.pointsLayers[g].scope.updatePointsLayer(x),A.extend&&A.extend.roomId>=0)){var o;const{roomProperty:t}=A,e=A.extend.roomId,n=this.roomLayer[e],i=n?JSON.parse(n.dataRoom):[],r=(null==(o=this.pointsLayers[g].scope)?void 0:o.getStorage())||{};A={...A,storage:{...r}},t.length>0&&i.length<1||t.length<1&&i.length>0?(this.pointsLayers[g].scope.isFoldable=!1,n&&(n.removeLabelPosition(),delete this.roomLayer[e]),this.createRoomInfoLayer(A,this.pointsLayers[g].scope,!0)):this.createRoomInfoLayer(A,this.pointsLayers[g].scope,!1)}this.is3d?this.indoorMap2d.checkOathPermission()&&this.setRoomFloorMaterial({pointsAttribute:A}):this.setRoomFloorMaterial({pointsAttribute:A})}else{const t=this.getStorageByKey("unknownArea");t.push(A),this.setStorageByKey("unknownArea",t)}}this.checkMapAreaInfo(a),this.useStructuredMode&&this.is3d&&this.pointsLayers.forEach((t=>{t&&(t.scope.layer.visible=!1)})),this.indoorMap2d.forceFpsDownToStaticFps()}catch(t){this.logger.error("createPointsLayer occur an error ==>",t)}},this.createPixelPathLayer=t=>{let e=!1;for(let i of t){const{pointsAttribute:t,pixelPathData:r}=i;if("path"===t.pixelMode&&0!==r.length){e=!0;const i=[],{pixelPathColorData:o,pixelPathColorAlpha:a,colorHex:s}=t;new Array(r.length/3).fill("").map((()=>{i.push(...o)}));const l={indoorMap2d:this.indoorMap2d,width:this.mapState.width,height:this.mapState.height,pointsArray:r,visible:this.pathVisible,colorsArray:i,opacity:a,positionHeight:Ut.cleanPath,pointsAttribute:t,onLoggerInfo:this.onLoggerInfo},c=this.pixelPathPointsLayers.findIndex((t=>{var e;return!!t&&(null==(e=t.layer)||null==(e=e.userData)?void 0:e.colorHex)===s}));if(-1===c){var n;const t=new zb(l);t.setPosition(new yn(this.center.x,this.center.y,Ut.cleanPath)),this.pixelPathPointsLayers.push(t),null==(n=this.layer)||n.add(t.layer)}else{const t=this.pixelPathPointsLayers[c];t.updateSmearMaterial(l),t.setPosition(new yn(this.center.x,this.center.y,Ut.cleanPath)),this.pathVisible||t.hideSmearMaterial(!this.pathVisible)}}}e||(this.pixelPathPointsLayers.forEach((t=>{t.removeSmearMaterial()})),this.pixelPathPointsLayers.length=0)},this.syncLoadImage=t=>(performance.now(),new Promise(((e,n)=>{const i=new Image,r=t.toDataURL("image/png",.01);i.crossOrigin="anonymous",i.src=r,i.onload=()=>{performance.now(),URL.revokeObjectURL(r),e(i)},i.onerror=()=>{this.logger.error("syncLoadImage occur an error"),n()}}))),this.getEdgePoints=(t,e,n)=>{const i=t.size(),r=[],o=[],{width:a,height:s}=this.mapState;for(let a=0;a<i;a++){const i=[];let l,c=t.get(a).data32S;n.beginPath();for(let t=0;t<c.length;t+=2){let e={x:c[t],y:c[t+1]};e={x:c[t],y:s-c[t+1]},0===t?(l=e,n.moveTo(e.x,s-e.y)):t!==c.length-2?n.lineTo(e.x,s-e.y):(n.lineTo(e.x,s-e.y),n.lineTo(l.x,s-l.y),n.closePath(),n.fill(),n.stroke()),i.push(e)}if(l&&i.push(l),e){if(i.length>=4){const t=Ay(i,!1),{boundingBox:e}=t;if(e.width>10||e.height>10){r.push(i.concat([]));const t=i.concat([]),e=this.parallelLineOfPolyline(t,.75);o.push(e)}}}else if(r.push(i.concat([])),i.length>=4){const t=Ay(i,!1),{boundingBox:e}=t;(e.width>10||e.height>10)&&r.push(i.concat([]))}}return{edgePoints:r,parallelList:o}},this.generateEvtFunc=(t,e,n,i)=>new Promise((r=>{try{const{width:o,height:a}=this.mapState;let s;const l=()=>{s||(s=new bb({is3d:!1,width:o,height:a,pixelRatio:1,onLoggerInfo:this.onLoggerInfo}));const l=performance.now();s.setPixelRatio(1),s.setWidth(o),s.setHeight(a),s.setClearColor2d([0,0,0,1]),s.drawPointsWith2d(t,e,1);const c=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d drawPoints cost time ==>",c-l+" / ms",s.getRenderingElement2d().toDataURL());const{cv:A}=window,u=performance.now();if(A){let t=A.imread(s.getRenderingElement2d());this.cvGray||(this.cvGray=new A.Mat),this.cvEdges||(this.cvEdges=new A.Mat),this.cvHierarchy||(this.cvHierarchy=new A.Mat),this.cvClosed||(this.cvClosed=new A.Mat),this.cvContours||(this.cvContours=new A.MatVector),this.cvContoursOpen||(this.cvContoursOpen=new A.MatVector),this.cvSize||(this.cvSize=new A.Size(3,3)),this.cvSizeOpen||(this.cvSizeOpen=new A.Size(5,5)),this.cvBlurred||(this.cvBlurred=new A.Mat),A.cvtColor(t,this.cvGray,A.COLOR_RGBA2GRAY),A.GaussianBlur(this.cvGray,this.cvBlurred,this.cvSizeOpen,0,0,A.BORDER_DEFAULT),A.Canny(this.cvBlurred,this.cvEdges,50,150),this.cvKernel||(this.cvKernel=A.getStructuringElement(A.MORPH_RECT,this.cvSize)),this.cvKernelOpen||(this.cvKernelOpen=A.getStructuringElement(A.MORPH_RECT,this.cvSizeOpen)),A.morphologyEx(this.cvEdges,this.cvClosed,A.MORPH_CLOSE,this.cvKernel),A.findContours(this.cvClosed,this.cvContours,this.cvHierarchy,A.RETR_EXTERNAL,A.CHAIN_APPROX_SIMPLE),A.morphologyEx(this.cvEdges,this.cvClosed,A.MORPH_CLOSE,this.cvKernelOpen),A.findContours(this.cvClosed,this.cvContoursOpen,this.cvHierarchy,A.RETR_EXTERNAL,A.CHAIN_APPROX_SIMPLE);const e=s.getRenderingContext2d();e.fillStyle="red",e.lineWidth=1,e.strokeStyle="red";const{edgePoints:o,parallelList:a}=this.getEdgePoints(this.cvContours,n,e),{edgePoints:l}=this.getEdgePoints(this.cvContoursOpen,n,e);t.delete(),t=null,this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d result ==>",o,s.getRenderingElement2d().toDataURL()),s.disposeRendering2D(),s=null;const c=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d cv cost time ==>",c-u+" / ms");const d=performance.now();this.debug.isDevMode&&this.logger.info("generateEdgePointsWith2d ==>",d-i+" / ms",o),r({floorEdgePoints:l,edgePoints:o,parallelList:a})}r({floorEdgePoints:[],edgePoints:[],parallelList:[]})},{cv:c}=window;if(c&&c.Mat)l();else{const t=setInterval((()=>{const{cv:e}=window;e&&e.Mat&&(t&&clearInterval(t),l())}),4)}}catch(t){this.logger.error("generateEvtFunc occur an error",t)}})),this.generateEdgePointsWith2d=(t,e,n)=>new Promise((async i=>{const r=performance.now();try{const{edgePoints:o,floorEdgePoints:a,parallelList:s}=await this.generateEvtFunc(t,e,n,r);i({edgePoints:o,floorEdgePoints:a,parallelList:s})}catch(t){i({edgePoints:[],floorEdgePoints:[],parallelList:[]}),this.logger.error("regular points occur an error",t)}})),this.checkMapAreaInfo=t=>{const e=t.filter((t=>!this.showPixelTypes.length||-1!==this.showPixelTypes.findIndex((e=>e===t.pointsAttribute.pixelType)))).map((t=>{var e;return null==(e=t.pointsAttribute)?void 0:e.colorHex})),n=this.pointsLayers.map((t=>{var e;return null==(e=t.userData)?void 0:e.colorHex})),i=new Set(e),r=[];n.forEach((t=>{i.has(t)||r.push(t)})),r.forEach((t=>{let e=-1,n=-1;this.pointsLayers.forEach(((n,i)=>{n&&n.userData.colorHex===t&&(this.removeMapAreaEvent(n),n.scope.removePointsLayer(),e=i)})),-1!==e&&this.pointsLayers.splice(e,1),this.carpetPointsHexArr.forEach(((e,i)=>{e.colorHex===t&&(n=i)})),-1!==n&&this.carpetPointsHexArr.splice(n,1)})),this.logger.info("carpetPointsHexArr ===>",this.carpetPointsHexArr);const o=[],a=[],s=Object.keys(this.roomLayer),l=Array.prototype.filter.call(s,(t=>t));if(l.length>0){l.forEach((t=>{o.push(parseInt(t))}));const t=new Set(this.roomIds);o.forEach((e=>{t.has(e)||a.push(e)})),this.removeRoomLabelByRoomIds(a)}},this.removeRoomLabelByRoomIds=t=>{t.forEach((t=>{this.indoorMap2d.removeAnimateFnByFnId(t);let e=-1;this.pointsLayers.forEach(((n,i)=>{var r;n&&(null==(r=n.userData.extend)?void 0:r.roomId)===t&&(this.removeMapAreaEvent(n),n.scope.removePointsLayer(),e=i)})),-1!==e&&this.pointsLayers.splice(e,1);const n=this.roomLayer[t];n&&(n.removeLabelPosition(),delete this.roomLayer[t])}))},this.createLabelCanvas=(t,e)=>{if(this.logger.info("createLabelCanvas ==>",this.is3d),this.is3d)return;const{extend:n,roomPropertyStyle:i}=t;let r,o;return"foldable"!==i?n&&n.roomId>=0&&(r=this.roomPropertyCanvas(t,e)):n&&n.roomId>=0&&(o=this.roomNameCanvas(t),r=this.roomPropertyCanvas(t,e,o)),{info:r,roomName:o}},this.createRoomInfoLayer=(t,e,n)=>{if(this.is3d)return;const{extend:i}=t;if(i&&i.roomId>=0)if(-1===this.roomIds.findIndex((t=>t===i.roomId))&&this.roomIds.push(i.roomId),n){const n=(n,r)=>{this.createInfoWindowCanvasLayer(e,n,i.roomId,r,t)};this.createLabelCanvas(t,n)}else{const n=(n,r)=>{this.updateInfoWindowInfoCanvasLayer(e,i.roomId,n,r,t)};this.createLabelCanvas(t,n)}},this.roomPropertyCanvas=(t,e,n)=>{try{const{colorHex:i,roomProperty:r,defaultOrder:o,storage:a={},extend:s,name:l,roomPropertyStyle:c,roomNameTextColor:A,roomNameTextFont:u,roomNameTextSize:d,roomNameTextStroke:h,roomPropertyBgColor:p,roomPropertyTextColor:f}=t,{order:m}=a;let g=!1,y=1;parseInt(o)>0&&this.state!==Rt.mapSelect&&this.state!==Rt.mapSplit&&this.state!==Rt.mapTimerSelect?(g=!0,y=o):m>0&&(this.state===Rt.mapSelect||this.state===Rt.mapTimerSelect||this.state===Rt.mapSplit)&&(this.state!==Rt.mapSplit||this.splitState!==Ot.click||this.showSelectRoomOrder)?(g=!0,y=m):g=!1;const v=this.hex2Rgba(p),_=this.hex2Rgba(f),w="foldable"===c?v:"#fff",x="foldable"===c?_:this.hex2Rgba(s.highlightColor),b=this.hex2Rgba(A),M="foldable"===c?v:"#fff",L=g?8:0,C=g?3:10,B=12,S=12,E=6,T=this.indoorMap2d.pixelRatio,D={pixelRatio:this.indoorMap2d.pixelRatio},I=new xb(D);this.roomPropertyCache[i]=I;const P=r.find((t=>"text"===t.propertyType))?r.find((t=>"text"===t.propertyType)).value:void 0;let k=0;P&&(k=I.measureTextWidth(P));const F=/^(https|http|ftp):\/\/(www.)?.+.*.+[.{1}](jpeg|JPEG|bmp|BMP|jpg|JPG|PNG|png){1}$/,U=/data:image\/.*;base64,/,R=r.filter((t=>"uri"===t.propertyType)).length,O=r.filter((t=>"uri"===t.propertyType&&(F.test(t.value)||U.test(t.value)))).length;let H=10,Y="sans-serif";"foldable"===c&&d&&(H=d),u&&(Y=u),I.setFont(`${H}px ${Y}`);const Q=I.measureTextWidth(l||""),j="foldable"!==c?Q:0,N=R>this.maxRoomPropertyLength?this.maxRoomPropertyLength:R,W=N>O?O:N,V=R>this.maxRoomPropertyLength?1:0,z=2*L+B*(W+V)+k+j+2*C,G=20;if(I.setWidth(z),I.setHeight("foldable"!==c?G:G+E),I.setPixelRatio(this.indoorMap2d.pixelRatio),I.beginPath(),I.moveTo(10,0),I.lineTo(z-10,0),I.arc(z-10,G/2,10,-Math.PI/2,Math.PI/2),I.lineTo(10,G),I.arc(10,G/2,10,Math.PI/2,3*Math.PI/2),I.setFillStyle(M),I.fill(),g){I.setFillStyle(x),I.beginPath(),I.arc(C+L,G/2,L,0,2*Math.PI),I.fill();const t=I.measureTextWidth(""+y);I.setFont("10px sans-serif"),I.setFillStyle(w),I.setTextBaseLine("middle"),I.fillText(""+y,C+L-t/2,G/2)}if(P&&(I.setFont("10px sans-serif"),I.setFillStyle("foldable"===c?_:"#000"),I.setTextBaseLine("middle"),I.fillText(P,C+2*L+W*B,G/2)),"foldable"!==c){if(u&&I.setFont(`10px ${u}`),h){const{strokeColor:t="#FFFFFFFF",strokeWidth:e=10}=h;I.setLineWidth(e),I.setStrokeStyle(this.hex2Rgba(t)),I.setTextBaseLine("middle"),I.strokeText(l,C+2*L+W*B+k,G/2)}I.setFillStyle(b),I.setTextBaseLine("middle"),I.fillText(l||"",C+2*L+W*B+k,G/2)}"foldable"===c&&(I.beginPath(),I.moveTo((z-S)/2,G),I.lineTo((z+S)/2,G),I.lineTo(z/2,G+E),I.lineTo((z-S)/2,G),I.setFillStyle(v),I.fill());const K=r.filter((t=>"uri"===t.propertyType&&(F.test(t.value)||U.test(t.value)))).length;if(this.logger.info("propertyCount",K,r),0===K)return e(I.getRenderingElement(),n),I.getRenderingElement();const Z=r.filter((t=>"uri"===t.propertyType&&(F.test(t.value)||U.test(t.value)))).map(((t,e,n)=>{if(e<this.maxRoomPropertyLength)return new Promise((n=>{const r=document.createElement("img");r.crossOrigin="*",r.src=t.value,r.onload=()=>{const o=i+"_"+t.value;let a=null;if(this.iconRenderingCache[o])a=this.iconRenderingCache[o],a.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};a=new xb(t),this.iconRenderingCache[o]=a}a.setWidth(B),a.setHeight(B),a.setPixelRatio(this.indoorMap2d.pixelRatio),r.width=B,r.height=B,a.setFillStyle(M),a.fillRect(0,0,B,B),a.setShadowOffsetX(B*T),a.setShadowColor(x),a.drawImage(r,-B,0,B,B);const s=a.getImageData(0,0,B*T,B*T);I.putImageData(s,(C+2*L+e*B)*T,(G-B)/2*T),n()},r.onerror=t=>{this.logger.error("iconImage onerror",t),n()}}))}));if(Z&&Z.length>0)if(R<=this.maxRoomPropertyLength)Promise.all([...Z]).then((()=>{e(I.getRenderingElement(),n)}));else{const t=new Promise((t=>{const e=document.createElement("img");e.crossOrigin="*",e.src=Zm,e.onload=()=>{e.width=5,e.height=10;const n=i+"_"+Zm;let r=null;if(this.iconRenderingCache[n])r=this.iconRenderingCache[n],r.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};r=new xb(t),this.iconRenderingCache[n]=r}r.setWidth(5),r.setHeight(10),r.setPixelRatio(this.indoorMap2d.pixelRatio),r.setFillStyle(M),r.fillRect(0,0,5,10),r.setShadowOffsetX(5*T),r.setShadowColor(x),r.drawImage(e,-5,0,5,10);const o=r.getImageData(0,0,5*T,10*T);I.putImageData(o,(C+2*L+(W+V)*B+C)*T,(G-10)/2*T),t()},e.onerror=e=>{this.logger.error("iconImage onerror",e),t()}}));Promise.all([...Z,t]).then((()=>{e(I.getRenderingElement(),n)})),I.getRenderingElement().setAttribute("data-enable-room-properties-event",!0)}return I.getRenderingElement()}catch(t){this.logger.error("roomPropertyCanvas error: ",t)}},this.roomNameCanvas=t=>{const{name:e,roomNameTextColor:n,roomNameTextFont:i,roomNameTextSize:r,roomNameTextStroke:o,roomPropertyStyle:a,colorHex:s}=t,l=this.hex2Rgba(n);let c=null,A=null;if(this.roomNameCache[s])c=this.roomNameCache[s],c.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};c=new xb(t),this.roomNameCache[s]=c}if(this.roomNameCache.temp)A=this.roomNameCache.temp,A.clearRenderingContext();else{const t={pixelRatio:this.indoorMap2d.pixelRatio};A=new xb(t),this.roomNameCache.temp=A}let u=10,d="sans-serif";A.setWidth(300),A.setHeight(150),A.setPixelRatio(this.indoorMap2d.pixelRatio),"foldable"===a&&r&&(u=r),i&&(d=i),A.setFont(`${u}px ${d}`);const h=Math.max(A.measureTextWidth(e),1),p=A.getTextMetrics(e);let f=p.actualBoundingBoxAscent&&p.actualBoundingBoxDescent?p.actualBoundingBoxAscent+p.actualBoundingBoxDescent:1.2*u;if(this.container&&this.container.appendChild){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.font=`${u}px ${d}`,t.textContent=e,this.container.appendChild(t),f=t.offsetHeight,this.container.removeChild(t)}if(f=Math.max(f,1),o){const{strokeColor:t="#FFFFFFFF",strokeWidth:n=10}=o;A.setLineWidth(n),A.setStrokeStyle(this.hex2Rgba(t)),A.setTextBaseLine("middle"),A.strokeText(e,0,f/2)}A.setFillStyle(l),A.setTextBaseLine("middle"),A.setTextAlign("center"),A.fillText(e,h/2,f/2),c.setWidth(h),c.setHeight(f),c.setPixelRatio(this.indoorMap2d.pixelRatio);const m=h*this.indoorMap2d.pixelRatio,g=f*this.indoorMap2d.pixelRatio;return c.drawImageInRange(A.getRenderingElement(),0,0,m,g,0,0,h,f),c.getRenderingElement()},this.createRoomLabelCanvas=(t,e,n,i)=>{const r=this.indoorMap2d.pixelRatio;let o=null;if(this.roomLabelCache[t])o=this.roomLabelCache[t],o.clearRenderingContext();else{const e={pixelRatio:this.indoorMap2d.pixelRatio};o=new xb(e),this.roomLabelCache[t]=o}try{var a,s,l;const t=e?parseInt(e.style.width):0,c=n?parseInt(n.style.width):0,A=i?parseInt(i.style.width):0,u=Math.max(t,c,A)+10,d=e?parseInt(e.style.height):0,h=n?parseInt(n.style.height):0,p=d+h+(i?parseInt(i.style.height):0);o.setWidth(u),o.setHeight(p),o.setPixelRatio(this.indoorMap2d.pixelRatio);const f=e?e.width&&e.height&&(null==(a=e.getContext("2d"))?void 0:a.getImageData(0,0,e.width,e.height)):void 0,m=n?n.width&&n.height&&(null==(s=n.getContext("2d"))?void 0:s.getImageData(0,0,n.width,n.height)):void 0,g=i?i.width&&i.height&&(null==(l=i.getContext("2d"))?void 0:l.getImageData(0,0,i.width,i.height)):void 0;return f&&null!=e&&e.width&&o.putImageData(f,(u*r-(null==e?void 0:e.width))/2,0),m&&null!=n&&n.width&&o.putImageData(m,(u*r-(null==n?void 0:n.width))/2,d*r),g&&null!=i&&i.width&&o.putImageData(g,(u*r-(null==i?void 0:i.width))/2,(d+h)*r+2),o.getRenderingElement()}catch(t){return this.logger.error("createRoomLabelCanvas",t),o.getRenderingElement()}},this.createCarpetTextureLayer=t=>{try{if(!this.isCarpetVisible)return;if(0===t.length)return void this.removeCarpetLayers();if(0===this.carpetLayers.length)t.forEach(((t,e)=>{const n=new aM({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var i;null!=n.layer&&(this.logger.info("pool length is equal to 0, update carpet layer...",this.center),n.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(e+1))),null==(i=this.layer)||i.add(n.layer),this.carpetLayers.push(n))}));else if(this.carpetLayers.length===t.length)t.forEach(((t,e)=>{const n=this.carpetLayers[e];if(null!=n.layer){const r=n.getCarpetMaterialWidth(),o=n.getCarpetMaterialHeight(),{width:a,height:s}=t;if(r!==a||o!==s){this.logger.info(`The carpet width and height are different from before and will be recreated. \n newRect:{width:${a}, height:${s}}, previousRect:{width:${r}, height:${o}}`);const n=this.carpetLayers.splice(e,1)[0];if(n){n.removeCarpetMaterial(),this.logger.info("The new carpet params ==>",t);const r=new aM({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var i;null!=r.layer&&(r.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(e+1))),null==(i=this.layer)||i.add(r.layer),this.carpetLayers.push(r))}}else n.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(e+1))),this.logger.info("pool length is equal to carpet layer length, update carpet layer...",this.center),n.updateCarpetTexture(t)}}));else if(this.carpetLayers.length<t.length){this.carpetLayers.forEach(((e,n)=>{if(null!==e.layer){const r=t[n],o=e.getCarpetMaterialWidth(),a=e.getCarpetMaterialHeight(),{width:s,height:l}=r;if(o!==s||a!==l){e.removeCarpetMaterial();const t=new aM({...r,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var i;null!=t.layer&&(t.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(n+1))),null==(i=this.layer)||i.add(t.layer),this.carpetLayers[n]=t)}else e.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(n+1))),this.logger.info("pool length is less than carpet layer length, update carpet layer...",this.center),e.updateCarpetTexture(r)}}));for(let n=this.carpetLayers.length;n<t.length;n++){const i=t[n],r=new aM({...i,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var e;null!=r.layer&&(r.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(n+1))),null==(e=this.layer)||e.add(r.layer),this.carpetLayers.push(r))}}else if(this.carpetLayers.length>t.length){const e=this.carpetLayers.length-t.length;this.carpetLayers.splice(t.length,e).forEach((t=>{t.remove()})),t.forEach(((t,e)=>{const n=this.carpetLayers[e],i=n.getCarpetMaterialWidth(),r=n.getCarpetMaterialHeight(),{width:o,height:a}=t;if(null!=n.layer)if(i!==o||r!==a){this.logger.info(`The carpet width and height are different from before and will be recreated. \n newRect:{width:${o}, height:${a}}, previousRect:{width:${i}, height:${r}}`);const n=this.carpetLayers.splice(e,1)[0];if(n){n.removeCarpetMaterial();const i=new aM({...t,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,onLoggerInfo:this.onLoggerInfo});var s;null!=i.layer&&(i.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(e+1))),null==(s=this.layer)||s.add(i.layer),this.carpetLayers.push(i))}}else n.setPosition(new yn(this.center.x,this.center.y,Ut.carpet+.001*(e+1))),this.logger.info("pool length is more than carpet layer length, update carpet layer...",this.center),n.updateCarpetTexture(t)}))}}catch(t){this.logger.error("createCarpetTextureLayer ==>",t)}},this.removeCarpetLayers=()=>{this.carpetLayers.forEach((t=>{t.removeCarpetMaterial()})),this.carpetLayers=[]},this.createFluorescence=()=>{if(!this.isFluorescenceVisible)return;const t=this.getMapPointsByPixelType(Ft.barrier);if(this.fluorescence)this.fluorescence.updateFluorescence({points:t,color:this.fluorescenceColor,shadowColor:this.fluorescenceShadowColor,shadowSize:this.fluorescenceShadowSize,width:this.mapState.width,height:this.mapState.height});else{const n={indoorMap2d:this.indoorMap2d,type:jt.Fluorescence,color:this.fluorescenceColor,shadowColor:this.fluorescenceShadowColor,shadowSize:this.fluorescenceShadowSize,points:t,useWorker:this.useWorker,width:this.mapState.width,height:this.mapState.height,onLoggerInfo:this.onLoggerInfo};var e;this.fluorescence=new kb(n),null!=this.fluorescence.layer&&(this.fluorescence.setPosition(new yn(this.center.x,this.center.y,Ut.laserMap-.1)),null==(e=this.layer)||e.add(this.fluorescence.layer))}},this.removeFluorescence=()=>{this.fluorescence&&(this.fluorescence.removeFluorescence(),this.fluorescence=null)},this.compareMaterialIsEqual=(t,e)=>t.id===e.id&&t.uri===e.uri&&JSON.stringify(t.extends)===e.extends&&t.width===e.width&&t.height===e.height&&t.isScale===e.isScale&&t.scale===e.scale&&t.position.x===e.x&&t.position.y===e.y,this.createMaterialLayer=t=>{this.debug.isDevMode&&this.logger.info("createMaterialLayer ==>",t),Array.isArray(this.materialLayers)||(this.materialLayers=[]),this.indoorMap2d.sceneRender(!1),t.forEach((t=>{const e=this.materialLayers.findIndex((e=>e.id===t.id));if(-1!==e)if(this.compareMaterialIsEqual(this.materialLayers[e],t))this.debug.isDevMode&&this.logger.info("material is same as before ==>",t);else{this.materialLayers[e].removeMaterial(),this.materialLayers.splice(e,1);const n=this.createSingleMaterialLayer(t);this.materialLayers.push(n),this.debug.isDevMode&&this.logger.info("update single material ==>",t)}else{const e=this.createSingleMaterialLayer(t);this.materialLayers.push(e),this.debug.isDevMode&&this.logger.info("create new single material ==>",t)}})),this.materialLayers.forEach(((e,n)=>{-1===t.findIndex((t=>e.id===t.id))&&(this.materialLayers[n].removeMaterial(),this.materialLayers.splice(n,1))})),this.indoorMap2d.sceneRender(!0),this.logger.info("createMaterialLayer ==>",t)},this.createSingleMaterialLayer=t=>{const e={indoorMap2d:this.indoorMap2d,id:t.id,position:new ln(t.x,t.y),uri:t.uri,size:t.width,extends:t.extends,isScale:t.isScale,scale:t.scale,width:t.width,height:t.height,center:this.center,onClickMaterial:this.onClickMaterial,onLoggerInfo:this.onLoggerInfo},n=new Ly(e);return this.layer&&this.layer.add(n.layer),n},this.findRoomInfoThroughCarpetPointsAttribute=(t,e)=>{e.colorHex,e.extend,e.content;let n={};const i=t.findIndex((t=>t.pointsAttribute.pixelType===Ft.sweep&&t.pointsAttribute.highlightColor===e.highlightColor));return-1!==i&&(n={...t[i].pointsAttribute}),n},this.findRoomInfoThroughCarpet=t=>{const e=t.userData.colorHex;let n=t.userData.extend||{},i=t.userData.content||{},r=-1,o=e,a=t;if(!this.useStructuredMode){const s=this.carpetPointsHexArr.findIndex((t=>t.colorHex===e));-1!==s&&(r=this.pointsLayers.findIndex((t=>t.userData.pixelType===Ft.sweep&&t.userData.extend.highlightColor===this.carpetPointsHexArr[s].highlightColor)),-1!==r&&(n=this.pointsLayers[r].userData.extend,i=this.pointsLayers[r].userData.content,o=this.pointsLayers[r].userData.colorHex,a=this.pointsLayers[r],t.clickPoint&&(a.clickPoint=t.clickPoint)))}return{mHex:o,mExtend:n,mContent:i,mIndex:r,mLayer:a}},this.findCarpetThroughRoomInfo=t=>{let e=-1,n={};if(!this.useStructuredMode&&t.userData.extend&&this.carpetPointsHexArr.length>0){const i=this.carpetPointsHexArr.findIndex((e=>e.highlightColor===t.userData.extend.highlightColor));-1!==i&&(e=this.pointsLayers.findIndex((t=>t.userData.colorHex===this.carpetPointsHexArr[i].colorHex)),-1!==e&&(n=this.pointsLayers[e]))}return{mIndex:e,mLayer:n}},this.createEdgePoints=async()=>{try{var t;if(this.useStructuredMode){if(this.is3d&&null!=(t=this.indoorMap2d)&&t.checkOathPermission()){const t=[],e=[],n=[],i={},{fragmentMapArray:r}=this.laserMapData;for(let o=0;o<r.length;o++){const a=r[o],{pointsAttribute:s}=a,{vertexDataOuter:l,extend:c,boundingRect:A,vertexDataOuterOnScs:u}=s;if(void 0!==c.roomId&&c.roomId>=0){t.push(u),e.push(u);const r=this.parallelLineOfPolyline(u,.75);n.push(r),this.logger.info("edgePointsList, edgePointsParallelList==>",t,n);const{highlightColor:o}=c,{colorFormat:a,alpha:s}=this.argb2Rgb(o),l={r:parseInt(255*a.r),g:parseInt(255*a.g),b:parseInt(255*a.b),a:s},d=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;i[d]||(i[d]={points:[],colorHex:d,color:l,boundingRect:A,outer:[],doorGap:[],isRoom:!0},i[d].points=[].concat(...u))}}const o=this.getWholeOuterPointsFromEdges(i),a=this.getDoorGatesFromOuter(i,o,!0),s=this.getBoundingMeshRangeFromDoorGates(a);if(this.logger.info("generateObj pic ==>",o,a),this.d3SingleFrameLayer)if(e.length&&n.length){const t={layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:n,pointsList:e,gaps:s,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},i=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsParallelList(),r=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsList();n.length!==i.length||e.length!==r.length?this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t):JSON.stringify(n)===JSON.stringify(i)&&JSON.stringify(e)===JSON.stringify(r)||this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t)}else this.d3SingleFrameLayer.removeSingleD3Frame();else if(e.length&&n.length){const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:n,pointsList:e,gaps:s,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3SingleFrameLayer=new Wb(t),this.layer.add(this.d3SingleFrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}}}else if(this.enableAICapability&&"high"===this.resourceUsageLevel)if(this.is3d){const{width:t,height:a}=this.mapState;if(this.indoorMap2d.checkOathPermission()){this.indoorMap2d.setDuringHeavyTask(!0);const s=performance.now(),l=[],c=[],A=[],u=[],d={};for(let s of this.pointsLayers){var e,n,i;const{params:h={}}=s.scope,{pointsArray:p,colorsArray:f,pointsAttribute:m}=h;let g=[].concat(p),y=[].concat(f);if(null!=(e=h.pointsAttribute)&&e.extend&&(null==(n=h.pointsAttribute)?void 0:n.extend.roomId)>=0||(null==(i=h.pointsAttribute)?void 0:i.pixelType)===Ft.sweep){const{extend:e,boundingRect:n}=m,{highlightColor:i}=e,{colorFormat:p,alpha:f}=this.argb2Rgb(i),v={r:parseInt(255*p.r),g:parseInt(255*p.g),b:parseInt(255*p.b),a:f},_=`rgba(${v.r}, ${v.g}, ${v.b}, ${v.a})`,{mIndex:w,mLayer:x}=this.findCarpetThroughRoomInfo(s);if(-1!==w){const t=x.scope.params.pointsArray,e=x.scope.params.colorsArray;g=g.concat(t),y=y.concat(e);const{floorEdgePoints:n}=await this.generateEdgePointsWith2d(t,e,!1);u.push(...n),s.carpetEdgePoints=n,this.debug.isDevMode&&this.logger.info("carpetEdgePoints",n)}const{edgePoints:b,floorEdgePoints:M,parallelList:L}=await this.generateEdgePointsWith2d(g,y,!0),C=L.findIndex((t=>null===t.x||null===t.y));if(-1!==C)throw this.debug.isDevMode&&this.logger.warn("parallelLineOfPolyline occur an error",L,C),new Error("parallel points occur an error");this.debug.isDevMode&&this.logger.info("parallelList",L);const B=[];for(let e=0;e<L.length;e++){const n=L[e],i=n.filter((e=>e.x>=-1.5&&e.y>=-1.5&&e.x<=t+1.5&&e.y<=a+1.5));n.length!==i.length&&this.debug.isDevMode&&this.logger.warn("parallel points occur an error value coords",n),B.push(i)}var r,o;l.push(...b),c.push(...M),A.push(...B),s.edgePoints=b,s.floorEdgePoints=M,s.parallelList=B,d[_]||(d[_]={points:[],colorHex:_,color:v,boundingRect:n,outer:[],doorGap:[],isRoom:(null==(r=h.pointsAttribute)?void 0:r.extend)&&(null==(o=h.pointsAttribute)?void 0:o.extend.roomId)>=0}),d[_].points=[].concat(...b)}}this.indoorMap2d.setDuringHeavyTask(!1);const h=this.getWholeOuterPointsFromEdges(d),p=this.getDoorGatesFromOuter(d,h,!1),f=this.getBoundingMeshRangeFromDoorGates(p);if(this.debug.isDevMode&&this.logger.info("generateObj pic ==>",f),this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3SingleFrameLayer)if(c.length&&A.length){const t={layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:A,pointsList:c,gaps:f,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},e=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsParallelList(),n=this.d3SingleFrameLayer.getSingleD3FrameEdgePointsList();A.length!==e.length||c.length!==n.length?this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t):JSON.stringify(A)===JSON.stringify(e)&&JSON.stringify(c)===JSON.stringify(n)||this.d3SingleFrameLayer.updateSingleD3FrameRegularPoints(t)}else this.d3SingleFrameLayer.removeSingleD3Frame();else if(c.length&&A.length){const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:A,pointsList:c,gaps:f,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3SingleFrameLayer=new Wb(t),this.layer.add(this.d3SingleFrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}const{image:m,scale:g}=this.d3CarpetMaterial;if(this.d3CarpetMaterialLayer){const t={layer:this.layer,image:m,scale:g,pointsList:u,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center},e=this.d3CarpetMaterialLayer.getCarpetMaterialPointsList();(e.length!==u.length||JSON.stringify(e)!==JSON.stringify(u))&&this.d3CarpetMaterialLayer.updateD3CarpetMaterial(t),0===u.length&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial()}else{const t={indoorMap2d:this.indoorMap2d,image:m,scale:g,pointsList:u,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3CarpetMaterialLayer=new Vb(t),this.layer.add(this.d3CarpetMaterialLayer.layer)}const y=performance.now();return this.debug.isDevMode&&this.logger.info("createEdgePoints time & edgePointsList ==>",y-s,l,A),{edgePointsList:l,floorEdgePointsList:c,edgePointsParallelList:A}}}else this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3CarpetMaterialLayer&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial();else this.logger.warn("The createEdgePoints function does not have the parameter enableAICapability set to true and has the parameter resourceUsageLevel set to high");return{edgePointsList:[],floorEdgePointsList:[],edgePointsParallelList:[]}}catch(t){return this.logger.error("createEdgePoints occur en error",t),this.useStructuredMode||this.createD3FrameWithWholeFrame(),{edgePointsList:[],floorEdgePointsList:[],edgePointsParallelList:[]}}},this.getWholeOuterPointsFromEdges=t=>{const e=performance.now(),n=[],i=Object.keys(t),r=i.length;for(let e=0;e<r;e++){const r=t[i[e]],o=r.points,a=r.colorHex,s=r.isRoom,l=[];for(let t=1;t<o.length;t++){const e=o[t-1],n=o[t];this.calculateCoordinatesBetweenPoints(e,n,s,a,l)}t[i[e]].outer=[].concat(l),n.push(l)}const o=performance.now();return this.debug.isDevMode&&this.logger.info("getWholeOuterPointsFromEdges ==>",o-e+" / ms",t,n),n},this.getDoorGatesFromOuter=(t,e,n)=>{const i=performance.now(),r=Object.keys(t),o=r.length,a=[];this.debug.isDevMode&&this.logger.info("getDoorGatesFromOuter generateObj ==>",t);const s=this.getD3GenerateElement();if(s.clearRenderingContext(),o>1)for(let i=0;i<o;i++){const{outer:o,colorHex:l}=t[r[i]],c=o.flatMap((t=>e.filter(((t,e)=>e>i)).flatMap((e=>e.filter((e=>{if(n){if(this.calculateDistance(e,t)<=1&&e.colorHex!==t.colorHex&&t.isRoom&&e.isRoom)return e.closeAreaHex=t.colorHex,!0}else if(e.x===t.x&&e.y===t.y&&e.colorHex!==t.colorHex&&t.isRoom&&e.isRoom)return e.closeAreaHex=t.colorHex,!0;return!1}))))));if(this.debug.isDevMode){const t=s.getRenderingContext();if(t){t.strokeStyle=l,t.beginPath();for(let e=0;e<o.length;e++){const n=o[e];0===e?t.moveTo(n.x,n.y):e!==o.length-1?t.lineTo(n.x,n.y):(t.lineTo(n.x,n.y),t.closePath(),t.stroke())}}}const A=c.reduce(((t,e)=>(t[e.colorHex]=[...t[e.colorHex]||[],e],t)),{}),u=Object.values(A);a.push(...u)}const l=performance.now();return this.debug.isDevMode&&this.logger.info("getDoorGatesFromOuter ==>",l-i+" / ms",a),a},this.getD3GenerateElement=()=>{const{width:t,height:e}=this.mapState;this.d3GenerateElement||(this.d3GenerateElement=new xb({pixelRatio:1,width:t,height:e,onLoggerInfo:this.onLoggerInfo}));const n=this.d3GenerateElement.getStyleWidth(),i=this.d3GenerateElement.getStyleHeight();return n===t&&i===e||(this.d3GenerateElement.setPixelRatio(1),this.d3GenerateElement.setWidth(t),this.d3GenerateElement.setHeight(e)),this.d3GenerateElement},this.getBoundingMeshRangeFromDoorGates=t=>{const e=performance.now();this.mapState;const n=[];for(let e=0;e<t.length;e++){const i=t[e];if(i.length>=2){const t=Ay(i,!1),{boundingBox:e,tl:r,tr:o,br:a,bl:s}=t,{minX:l,minY:c,maxX:A,maxY:u}=e,d=A-l,h=u-c;let p=[],f=[];f=d>=6&&h>=6?[{x:r[0],y:r[1]},{x:o[0],y:o[1]},{x:a[0],y:a[1]},{x:s[0],y:s[1]}]:d>=h?[{x:r[0],y:r[1]-3},{x:o[0],y:o[1]-3},{x:a[0],y:a[1]+3},{x:s[0],y:s[1]+3}]:[{x:r[0]-3,y:r[1]},{x:o[0]+3,y:o[1]},{x:a[0]+3,y:a[1]},{x:s[0]-3,y:s[1]}],p=[f[0],f[1],f[2],f[3],f[0]],n.push(p)}}const i=performance.now();if(this.debug.isDevMode){var r;const t=this.getD3GenerateElement(),o=t.getRenderingContext();if(o)for(let t=0;t<n.length;t++){const e=n[t];o.beginPath(),o.strokeStyle="black";for(let t=0;t<e.length;t++){const n=e[t];0===t?o.moveTo(n.x,n.y):t!==e.length-1?o.lineTo(n.x,n.y):(o.lineTo(n.x,n.y),o.closePath(),o.stroke())}}this.logger.info("getBoundingMeshRangeFromDoorGates ==>",i-e+" / ms",n,null==(r=t.getRenderingElement())?void 0:r.toDataURL())}return n},this.createD3FrameWithWholeFrame=()=>{if(this.is3d){if(this.indoorMap2d.checkOathPermission()){const t=this.getMapPointsByPixelType(Ft.sweep)||[],e=this.getMapPointsByPixelType(Ft.carpet)||[],n=[].concat(t).concat(e);if(this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3FrameLayer)this.d3FrameLayer.updateD3FrameRegularPoints({layer:this.layer,color:this.d3WallColor,floorColor:this.d3FloorColor,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,points:n,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center});else{const t={indoorMap2d:this.indoorMap2d,showTexture:!!this.d3WallTexture,image:this.d3WallTexture,color:this.d3WallColor,floorColor:this.d3FloorColor,points:n,boundingWidth:this.mapState.width,boundingHeight:this.mapState.height,center:this.center,onLoggerInfo:this.onLoggerInfo};this.d3FrameLayer=new Fb(t),this.layer.add(this.d3FrameLayer.layer),this.onD3MapViewModeEnd({success:!0})}}}else this.d3FrameLayer&&this.d3FrameLayer.removeD3Frame(),this.d3SingleFrameLayer&&this.d3SingleFrameLayer.removeSingleD3Frame(),this.d3CarpetMaterialLayer&&this.d3CarpetMaterialLayer.removeD3CarpetMaterial()},this.createMapAreaEvent=()=>{const t=this.indoorMap2d;this.removeMapAreaEvent(),this.pointsLayers.forEach((e=>{e&&(t.dispatchEvent(e),e.$on(t.eventTapUp,((t,e,n)=>{try{if(!this.mapClickGestureStatus)return;if("function"==typeof this.onClickMapView&&this.onClickMapView({eventType:n,data:{extend:t.userData.extend}}),this.is3d)return;if(2===this.pointers.length)return this.removePointer(e),void(this.pointers.length=0);if(this.removePointer(e),this.pointers.length=0,this.pointerDrag)return;if(this.pointerOut(),this.state===Rt.normal||this.state===Rt.mapSplit&&this.splitState===Ot.normal||this.state===Rt.mapSplit&&this.splitState===Ot.click&&!0===this.edit){let e=t;if(e.userData.pixelType===Ft.carpet){const{mIndex:t}=this.findRoomInfoThroughCarpet(e);-1!==t&&(e=this.pointsLayers[t])}if("foldable"===e.userData.roomPropertyStyle&&e.userData.roomProperty.length>0&&e.userData.extend&&(void 0!==e.userData.extend.roomId||e.userData.extend.roomId>=0)){const t={isFoldable:!e.scope.isFoldable,target:e.id,roomId:e.userData.extend.roomId};e.scope.isFoldable=!e.scope.isFoldable;const n=(t,n)=>{this.updateInfoWindowInfoCanvasLayer(e.scope,e.userData.extend.roomId,t,n,e.scope.layer.userData)};this.createLabelCanvas(e.scope.layer.userData,n),this.onClickRoom(t)}else if("foldable"!==e.userData.roomPropertyStyle&&e.userData.roomProperty.length>0&&e.userData.extend&&(void 0!==e.userData.extend.roomId||e.userData.extend.roomId>=0)){const t={isFoldable:e.scope.isFoldable,target:e.id,roomId:e.userData.extend.roomId};this.onClickRoom(t)}}if(this.state===Rt.mapSplit&&this.splitState===Ot.click){if(t.type===It.indoorMapPoints&&t.userData.colorHex){const{mHex:e,mExtend:n}=this.findRoomInfoThroughCarpet(t),i={pixel:e,extend:n},r=[i];if(!(i.extend&&i.extend.roomId>=0))return;this.onClickSplitArea({data:r}),this.edit&&(-1!==this.selectRoomData.indexOf(e)?(this.selectRoomData.splice(this.selectRoomData.indexOf(e),1),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("order",void 0),t.scope.setStorageByKey("colorStatus",{isGray:!0}),this.changeMaterialColor(t,t.userData.normalColors,t.userData.normalColorAlpha),this.updateCarpetMaterialLayersColor(t,!1))}))):(this.selectRoomData.push(e),t.parent.children.forEach((t=>{if(t.userData.colorHex===e){const n=this.selectRoomData.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),t.scope.setStorageByKey("colorStatus",{isGray:!1}),this.changeMaterialColor(t,t.userData.colors,t.userData.colorAlpha),this.updateCarpetMaterialLayersColor(t,!0)}}))),this.showSelectRoomOrder&&t.parent.children.forEach((t=>{if(t.userData.extend&&t.userData.extend.roomId>=0){const e=this.selectRoomData.findIndex((e=>e===t.userData.colorHex));-1!==e?t.scope.setStorageByKey("order",e+1):t.scope.setStorageByKey("order",void 0);const n=(e,n)=>{this.updateInfoWindowInfoCanvasLayer(t.scope,t.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,n)}})))}}else if(this.state===Rt.pressToRun){if(this.edit){const e=t.clickPoint.x+this.center.x,n=t.clickPoint.z-this.center.y,i=!(!this.posParams||this.multiplePosPosition),r=this.getLaserMapPointsLayer(Rt.pressToRun);let o=null;if(1===r.length&&(o=r[0]),this.multiplePosPosition){const t=new _y({indoorMap2d:this.indoorMap2d,animate:!i,origin:{x:0,y:0},position:new ln(e,n),appointIcon:this.appointIcon,isScale:i,scale:.02*this.indoorMap2d.getFitScale(),posParams:this.posParams,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(t)}else{if(o&&!i){const t=o.removePosPosition(),e=o.getFrameAnimationId();Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:e,status:0}),this.removeFromAreaInfo(t),o=null}if(!(o&&i||(o=new _y({indoorMap2d:this.indoorMap2d,animate:!i,origin:{x:0,y:0},position:new ln(e,n),appointIcon:this.appointIcon,isScale:i,scale:.02*this.indoorMap2d.getFitScale(),posParams:this.posParams,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo}),this.addSweepLayer(o),i))){const t=o.getFrameAnimationId();Mm(`${this.indoorMap2d.getUnionId()}_animationFrame`,{frameAnimationId:t,status:1}),o.startAnimate()}}}}else if(this.state===Rt.mapSplit){if(this.splitState===Ot.split){if(t.type===It.indoorMapPoints&&t.userData.colorHex){var i,r,o;const{mHex:e,mExtend:n,mContent:a,mLayer:s}=this.findRoomInfoThroughCarpet(t),l={pixel:e,extend:n};if(this.logger.info("new Split ==>",l),!(void 0!==l.extend.roomId&&l.extend.roomId>=0))return;this.onClickSplitArea({data:l});const{checkedIconEnable:c}=(null==(i=this.splitLineParams)?void 0:i.checkedIcon)||{checkedIconEnable:!0};c&&this.updateSplitSelectedIcon(s,{mHex:e,mExtend:n,mContent:a,mLayer:s});const{mIndex:A,mLayer:u}=this.findCarpetThroughRoomInfo(s);let d=s.userData.pixelPoints,h=s.scope.minX,p=s.scope.maxX,f=s.scope.minY,m=s.scope.maxY,g=s.scope.center.y,y=s.scope.center.x;-1!==A&&(h=Math.min(s.scope.minX,u.scope.minX),p=Math.max(s.scope.maxX,u.scope.maxX),f=Math.min(s.scope.minY,u.scope.minY),m=Math.max(s.scope.maxY,u.scope.maxY),g=(s.scope.center.y+u.scope.center.y)/2,y=(s.scope.center.x+u.scope.center.x)/2,d=d.concat(u.userData.pixelPoints),this.logger.info("merge carpet points into room points"));const v={x:h-20,y:-g},_={x:p+20,y:-g};this.splitLine&&this.splitLine.removeSplitLine();let w=[];this.pointsLayers.forEach((t=>{t.userData.pixelType!==Ft.sweep||t.userData.extend.roomId>=0||(w=w.concat(t.userData.pixelPoints))}));const x=this.getStorageByKey("unknownArea");if(x&&x.length){let t=[];x.map((e=>{t=t.concat(e.pixelPoints)})),w=w.concat(t)}const b=!!this.useStructuredMode||!!this.mapState.useContour;this.splitLine=new xy({useContour:b,useStructuredMode:this.useStructuredMode,contours:s.userData.vertexDataOuter,isDash:!0,noVertices:!1,indoorMap2d:this.indoorMap2d,boundingBox:{min:{x:h,y:-m},max:{x:p,y:-f}},vertexParams:null==(r=this.splitLineParams)?void 0:r.vertex,splitColor:this.splitColor,center:{x:y,y:g},pixelPoints:d,wrapperPoints:w,points:[v,_],colorHex:e,onlyEndPoints:null==(o=this.splitLineParams)?void 0:o.onlyEndPoints,onSplitLine:this.onSplitLine,onLoggerInfo:this.onLoggerInfo}),s.scope.layer.add(this.splitLine.layer)}}else if(this.splitState===Ot.merge&&t.type===It.indoorMapPoints&&t.userData.colorHex){var a;const{mHex:e,mExtend:n,mContent:i,mLayer:r}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o});const{checkedIconEnable:c}=(null==(a=this.mergeRoomParams)?void 0:a.checkedIcon)||{checkedIconEnable:!0},A=this.createSelectedIcon(r,{mHex:e,mExtend:n,mContent:i,mLayer:r});if(this.selectedArray.length<2){-1===this.selectedArray.findIndex((t=>t.colorHex===e))&&(this.selectedArray.push(A),c&&this.addSweepLayer(A))}else{const t=this.selectedArray.findIndex((t=>t.colorHex===e));if(-1!==t){var s;const e=this.selectedArray.splice(t,1);c&&this.removeFromAreaInfo(null==(s=e[0])||null==(s=s.dataInfo)?void 0:s.target)}else{var l;const t=this.selectedArray.splice(0,1);c&&this.removeFromAreaInfo(null==(l=t[0])||null==(l=l.dataInfo)?void 0:l.target)}this.selectedArray.push(A),c&&this.addSweepLayer(A)}}}else if(this.state===Rt.mapSelect){if(t.userData.colorHex&&(t.userData.extend&&void 0!==t.userData.extend.roomId&&t.userData.extend.roomId>=0||t.userData.pixelType===Ft.carpet)){var c,A;const{mHex:e,mExtend:n,mContent:i,mLayer:r}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o});let a={};const{checkedIconEnable:s}=(null==(c=this.selectedParams)?void 0:c.checkedIcon)||{checkedIconEnable:!1},{checkedIcon:l}=this.selectedParams;l&&l.checkedIconEnable&&l.checkedParams&&(a={size:l.checkedParams.checkedRadius,image:l.checkedParams.checkedImage,isScale:l.checkedParams.isScale,scale:l.checkedParams.scale});const d=t.clickPoint.x+this.center.x,h=t.clickPoint.z-this.center.y;let p=new ln(d,h),f=!1;if("waterDroplets"===(null==(A=this.orderParams)?void 0:A.orderType)){const{roomCenter:e}=this.adjustRoomCenter(t.scope.layer),n=new ln(parseInt(e.x),parseInt(-e.y)),i=n.x,r=n.y;p=new ln(i,r),f=!0}const m=new My({indoorMap2d:this.indoorMap2d,type:Rt.mapSelect,...a,extend:n,content:i,order:this.selectedArray.length+1,orderParams:this.orderParams,colorHex:e,position:p,onLoggerInfo:this.onLoggerInfo});let g=this.selectedArray.findIndex((t=>t.colorHex===e));if(g>-1){var u;const t=this.selectedArray.splice(g,1);s&&this.removeFromAreaInfo(null==(u=t[0])?void 0:u.dataInfo.target),r.scope.setStorageByKey("order",void 0);const e=(t,e)=>{const n=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(r.scope,m.extend.roomId,n,e,r.scope.layer.userData,f)};return this.createLabelCanvas(r.scope.layer.userData,e),void this.selectedArray.forEach(((t,e)=>{t.updateSelectedOrder(e+1),this.pointsLayers.forEach(((e,n)=>{if(e.scope.layer.userData.extend&&t.colorHex===e.scope.layer.userData.colorHex){e.scope.setStorageByKey("order",t.order);const n=(t,n)=>{const i=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,i,n,e.scope.layer.userData,f)};this.createLabelCanvas(e.scope.layer.userData,n)}}))}))}this.selectedArray.push(m),s&&this.addSweepLayer(m),r.scope.setStorageByKey("order",m.order);const y=(t,e)=>{const n=f?void 0:t;this.updateInfoWindowInfoCanvasLayer(r.scope,m.extend.roomId,n,e,r.scope.layer.userData,f)};this.createLabelCanvas(r.scope.layer.userData,y)}}else if(this.state===Rt.mapTimerSelect){if(t.userData.colorHex&&(t.userData.extend&&void 0!==t.userData.extend.roomId&&t.userData.extend.roomId>=0||t.userData.pixelType===Ft.carpet)){var d;const{mHex:e,mExtend:n,mLayer:i,mContent:r}=this.findRoomInfoThroughCarpet(t),o={pixel:e,extend:n};if(!(void 0!==o.extend.roomId&&o.extend.roomId>=0))return;this.onClickSplitArea({data:o}),-1!==this.selectRoomData.indexOf(e)?(this.selectRoomData.splice(this.selectRoomData.indexOf(e),1),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("colorStatus",{isGray:!0}),this.changeMaterialColor(t,t.userData.normalColors,t.userData.normalColorAlpha),this.updateCarpetMaterialLayersColor(t,!1))}))):(this.selectRoomData.push(e),t.parent.children.forEach((t=>{t.userData.colorHex===e&&(t.scope.setStorageByKey("colorStatus",{isGray:!1}),this.changeMaterialColor(t,t.userData.colors,t.userData.colorAlpha),this.updateCarpetMaterialLayersColor(t,!0))})));let a={};const{checkedIconEnable:s}=(null==(d=this.selectedParams)?void 0:d.checkedIcon)||{checkedIconEnable:!1},{checkedIcon:l}=this.selectedParams;l&&l.checkedIconEnable&&l.checkedParams&&(a={size:l.checkedParams.checkedRadius,image:l.checkedParams.checkedImage,isScale:l.checkedParams.isScale,scale:l.checkedParams.scale});const c=t.clickPoint.x+this.center.x,A=t.clickPoint.z-this.center.y,u=new My({indoorMap2d:this.indoorMap2d,type:Rt.mapTimerSelect,...a,extend:n,content:r,order:this.selectedArray.length+1,colorHex:e,position:new ln(c,A),onLoggerInfo:this.onLoggerInfo});let p=this.selectedArray.findIndex((t=>t.colorHex===e));if(p>-1){var h;const t=this.selectedArray.splice(p,1);s&&this.removeFromAreaInfo(null==(h=t[0])?void 0:h.dataInfo.target),i.scope.setStorageByKey("order",void 0);const e=(t,e)=>{this.updateInfoWindowInfoCanvasLayer(i.scope,u.extend.roomId,t,e,i.scope.layer.userData)};return this.createLabelCanvas(i.scope.layer.userData,e),void this.selectedArray.forEach(((t,e)=>{t.updateSelectedOrder(e+1),this.pointsLayers.forEach(((e,n)=>{if(e.scope.layer.userData.extend&&t.colorHex===e.scope.layer.userData.colorHex){e.scope.setStorageByKey("order",t.order);const n=(t,n)=>{this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,t,n,e.scope.layer.userData)};this.createLabelCanvas(e.scope.layer.userData,n)}}))}))}this.selectedArray.push(u),s&&this.addSweepLayer(u),i.scope.setStorageByKey("order",u.order);const f=(t,e)=>{this.updateInfoWindowInfoCanvasLayer(i.scope,u.extend.roomId,t,e,i.scope.layer.userData)};this.createLabelCanvas(i.scope.layer.userData,f)}}else if(this.state===Rt.mapCruise&&this.edit){const e=t.clickPoint.x+this.center.x-this.origin.x,n=t.clickPoint.z-this.center.y-this.origin.y,{mHex:i,mExtend:r,mLayer:o,mContent:a}=this.findRoomInfoThroughCarpet(t),s={x:e,y:n};this.onCruiseStatusMapClick({data:{point:s,roomInfo:{pixel:i,extend:r}}})}}catch(t){this.logger.warn("PointsLayer event occur error",t)}})),e.$on(t.eventTap,((t,e,n)=>{this.state!==Rt.normal&&(this.pointerIn(),this.addPointer(e))})))})),this.logger.info("createMapAreaEvent, map area num ==>",this.pointsLayers.length)},this.updateCarpetMaterialLayersColor=(t,e)=>{if(!this.useStructuredMode&&t.userData.extend&&this.carpetPointsHexArr.length>0){const n=this.carpetPointsHexArr.findIndex((e=>e.highlightColor===t.userData.extend.highlightColor));if(-1!==n){const t=this.pointsLayers.findIndex((t=>t.userData.colorHex===this.carpetPointsHexArr[n].colorHex));if(-1!==t){const n=this.pointsLayers[t];n.scope.setStorageByKey("colorStatus",{isGray:!e}),e?this.changeMaterialColor(n,n.userData.colors,n.userData.colorAlpha):this.changeMaterialColor(n,n.userData.normalColors,n.userData.normalColorAlpha)}}}},this.pointerIn=()=>{this.pointerDrag=!1,this.pointerHandler=setTimeout(this.setPointerDrag,150)},this.pointerOut=()=>{this.pointerDrag?this.pointerDrag=!1:clearTimeout(this.pointerHandler)},this.setPointerDrag=()=>{this.pointerDrag=!0},this.updateSplitSelectedIcon=(t,e)=>{const{mHex:n,mExtend:i,mContent:r,mLayer:o}=e,a=t.clickPoint.x+this.center.x,s=t.clickPoint.z-this.center.y;let l={};const{checkedIcon:c}=this.splitLineParams;c&&c.checkedIconEnable&&c.checkedParams&&(l={size:c.checkedParams.checkedRadius,image:c.checkedParams.checkedImage,isScale:c.checkedParams.isScale,scale:c.checkedParams.scale}),this.selected&&this.selected.removeSelected(),this.selected=new My({indoorMap2d:this.indoorMap2d,...l,type:Rt.mapSplit,extend:i,content:r,colorHex:n,position:new ln(a,s),onLoggerInfo:this.onLoggerInfo}),this.addSweepLayer(this.selected)},this.createSelectedIcon=(t,e)=>{const{mHex:n,mExtend:i,mContent:r,mLayer:o}=e,a=t.clickPoint.x+this.center.x,s=t.clickPoint.z-this.center.y;let l={};const{checkedIcon:c}=this.mergeRoomParams;return c&&c.checkedIconEnable&&c.checkedParams&&(l={size:c.checkedParams.checkedRadius,image:c.checkedParams.checkedImage,isScale:c.checkedParams.isScale,scale:c.checkedParams.scale}),new My({indoorMap2d:this.indoorMap2d,...l,type:Rt.mapSplit,extend:i,content:r,colorHex:n,position:new ln(a,s),onLoggerInfo:this.onLoggerInfo})},this.removeMapAreaEvent=t=>{const e=this.indoorMap2d;this.pointers.length=0,t?"function"==typeof t.$off&&t.$off(e.eventTapUp):(this.pointsLayers.forEach((t=>{t&&"function"==typeof t.$off&&t.$off(e.eventTapUp)})),"function"==typeof this.layer.$off&&this.layer.$off(e.eventTapUp))},this.removeFromScene=(t,e,n)=>{let i=0;for(let r,o=t.children.length-1;o>=0;o--)r=t.children[o],r&&r.type===e&&(null===i&&(i=0),n?r.uuid===n&&(i++,"function"==typeof r.dispose&&r.dispose(),t.remove(r)):(i++,"function"==typeof r.dispose&&r.dispose(),t.remove(r)));return i},this.adjustRoomCenter=t=>{let e=t.scope.center,n=t.userData.pixelPoints;this.logger.info("before adjust room center",t.scope.center);const{mIndex:i,mLayer:r}=this.findRoomInfoThroughCarpet(t),{mIndex:o,mLayer:a}=this.findCarpetThroughRoomInfo(t);let s=r.scope.minX,l=r.scope.maxX,c=r.scope.minY,A=r.scope.maxY,u=r.scope.center.y;if(r.scope.center.x,-1!==o){s=Math.min(r.scope.minX,a.scope.minX),l=Math.max(r.scope.maxX,a.scope.maxX),c=Math.min(r.scope.minY,a.scope.minY),A=Math.max(r.scope.maxY,a.scope.maxY),u=(r.scope.center.y+a.scope.center.y)/2,r.scope.center.x,a.scope.center.x;const t={x:s-20,y:-u},i={x:l+20,y:-u},o={x:l,y:c},d={x:l,y:A},h=py(t,i,{x:s,y:c},{x:s,y:A}),p=py(t,i,o,d),f=[];if(h&&p){for(let t=s;t<l;t++){const e=fy(h,p,t);e.y=-e.y,e.x=e.x;const n={x:Math.ceil(e.x),y:Math.ceil(e.y)},i={x:Math.floor(e.x),y:Math.floor(e.y)};if(f.push(n,i),Math.floor(e.x)!==Math.ceil(e.x)&&Math.floor(e.y)!==Math.ceil(e.y)){const t={x:Math.ceil(e.x),y:Math.floor(e.y)},n={x:Math.floor(e.x),y:Math.ceil(e.y)};f.push(t,n)}}const r=new Map(n.map((t=>[t.x+","+t.y,t]))),o=f.filter((t=>{const e=t.x+","+t.y;return r.has(e)}));if(o.sort(((t,e)=>t.x-t.y-(e.x-e.y))),o.length>=2){const t=o[0],n=o[o.length-1],i={x:(t.x+n.x)/2,y:(t.y+n.y)/2};isNaN(i.x)||isNaN(i.y)||(e=i)}else{const n={x:(t.x+i.x)/2,y:(Math.abs(t.y)+Math.abs(i.y))/2};isNaN(n.x)||isNaN(n.y)||(e=n)}}}return this.logger.info("after adjust room center",e),{roomCenter:e,mLayer:r,cLayer:a}},this.createInfoWindowCanvasLayer=(t,e,n,i,r)=>{const{roomProperty:o,name:a,defaultOrder:s,extend:l,colorHex:c,roomPropertyStyle:A}=r,{roomCenter:u}=this.adjustRoomCenter(t.layer),d=new ln(parseInt(u.x),parseInt(-u.y)),h=d.x,p=d.y;let f,m,g,y;i&&t.layer.userData.roomProperty.length>0&&(f=this.roomFoldableIconCanvas(c)),"foldable"===A?(y=i,t.isFoldable?(m=e,i&&(g=void 0)):(m=void 0,i&&(g=f))):(y=void 0,m=e,i&&(g=void 0));const v=this.roomLayer[n],_=this.createRoomLabelCanvas(c,m,g,y);if(v)v.updateLabelInfo({dataRoom:JSON.stringify(o),dataName:a,dataOrder:s,labelImage:_,size:{width:2*parseInt(null==_?void 0:_.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==_?void 0:_.style.height)/3*this.indoorMap2d.getFitScale()}}),v.updateLabelPosition({x:h,y:p+2}),m&&m.getAttribute("data-enable-room-properties-event")?(v.enableMoreRoomPropertiesEvent(!0),v.registerMoreRoomPropertiesEvent()):(v.enableMoreRoomPropertiesEvent(!1),v.registerRoomPropertiesEvent());else{var w;const t=new nM({indoorMap2d:this.indoorMap2d,dataRoom:JSON.stringify(o),attributes:{roomProperty:o,name:a,extend:l,colorHex:c},dataOrder:s,dataName:a,labelImage:_,onClickRoomMoreProperties:this.onClickRoomMoreProperties,onClickRoomProperties:this.onClickRoomProperties,size:{width:2*parseInt(null==_?void 0:_.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==_?void 0:_.style.height)/3*this.indoorMap2d.getFitScale()},position:{x:h,y:p+2},onLoggerInfo:this.onLoggerInfo});null==(w=this.layer)||w.add(t.layer),this.roomLayer[n]=t,m&&m.getAttribute("data-enable-room-properties-event")?(t.enableMoreRoomPropertiesEvent(!0),t.registerMoreRoomPropertiesEvent()):(t.enableMoreRoomPropertiesEvent(!1),t.registerRoomPropertiesEvent())}},this.roomFoldableIconCanvas=t=>{let e=null;if(this.foldableIconCache[t])e=this.foldableIconCache[t],e.clearRenderingContext();else{const n={pixelRatio:this.indoorMap2d.pixelRatio};e=new xb(n),this.foldableIconCache[t]=e}return e.setWidth(12),e.setHeight(6),e.setPixelRatio(this.indoorMap2d.pixelRatio),e.beginPath(),e.moveTo(6,0),e.lineTo(12,6),e.lineTo(0,6),e.lineTo(6,0),e.closePath(),e.setFillStyle("#707070"),e.fill(),e.getRenderingElement()},this.resetOrder=()=>{this.pointsLayers.forEach(((t,e)=>{if(t&&t.scope.layer.userData.extend){t.scope.setStorageByKey("order",void 0);const e=(e,n)=>{t.scope.layer&&this.updateInfoWindowInfoCanvasLayer(t.scope,t.scope.layer.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,e)}}))},this.hideFoldableIconAndProperty=t=>{this.pointsLayers.forEach(((e,n)=>{if(e&&e.scope.layer.userData.extend){const n=(n,i)=>{const r=t?void 0:n;this.updateInfoWindowInfoCanvasLayer(e.scope,e.scope.layer.userData.extend.roomId,r,i,e.scope.layer.userData,t)};this.createLabelCanvas(e.scope.layer.userData,n)}}))},this.createWaterDropletsSelectedLayer=()=>{this.removeCheckedItems(),this.pointsLayers.forEach((t=>{if(t){const e=t.scope.layer.userData;if(e.extend&&e.extend.roomId>=0&&parseInt(e.defaultOrder)>0){const{roomCenter:n}=this.adjustRoomCenter(t.scope.layer),i=new ln(parseInt(n.x),parseInt(-n.y)),r=i.x,o=i.y,a=new ln(r,o),s=new My({indoorMap2d:this.indoorMap2d,type:Rt.mapSelect,extend:e.extend,content:e.content,order:e.defaultOrder,orderParams:this.orderParams,colorHex:e.colorHex,position:a,onLoggerInfo:this.onLoggerInfo});this.selectedArray.push(s),this.addSweepLayer(s)}}}))},this.updateInfoWindowInfoCanvasLayer=(t,e,n,i,r,o=!1)=>{if(this.is3d)return;const{roomProperty:a,name:s,defaultOrder:l,roomPropertyStyle:c,colorHex:A}=r,{roomCenter:u}=this.adjustRoomCenter(t.layer),d=new ln(parseInt(u.x),parseInt(-u.y)),h=d.x,p=d.y;let f,m,g,y;i&&t.layer.userData.roomProperty.length>0&&(o||(f=this.roomFoldableIconCanvas(A))),"foldable"===c?(y=i,t.isFoldable?(m=n,i&&(g=void 0)):(m=void 0,i&&(g=f))):(y=void 0,m=n,i&&(g=void 0));const v=this.roomLayer[e];if(v){const t=this.createRoomLabelCanvas(A,m,g,y);v.updateLabelInfo({dataRoom:JSON.stringify(a),dataName:s,dataOrder:l,labelImage:t,size:{width:2*parseInt(null==t?void 0:t.style.width)/3*this.indoorMap2d.getFitScale(),height:2*parseInt(null==t?void 0:t.style.height)/3*this.indoorMap2d.getFitScale()}}),v.updateLabelPosition({x:h,y:p+2}),m&&m.getAttribute("data-enable-room-properties-event")?(v.enableMoreRoomPropertiesEvent(!0),v.registerMoreRoomPropertiesEvent()):(v.enableMoreRoomPropertiesEvent(!1),v.registerRoomPropertiesEvent())}},this.getPointsData=t=>{const e=[];return this.areaInfo.forEach((n=>{if(n){const i=n.dataInfo;i.type===t&&(i.data.target=i.target,e.push(i.data))}})),e},this.getThreadStatus=()=>Em(this.indoorMap2d.env)&&this.useWorker&&!this.asynchronousLoadMap,this.hideForbidOrWallLayer=(t,e)=>{t.forEach((t=>{t.hideLayer(e)}))},this.removeVirtualInfoLayer=t=>{if(Array.isArray(t)){const e=[];return t.forEach((t=>{const n=this.removeFromAreaInfo(t);e.push(n)})),e}return this.removeFromAreaInfo(t)},this.hideVertexAndUnitText=(t,e)=>{t.forEach((t=>{t.hideVertex&&t.hideVertex(e),t.hideUnitText&&t.hideUnitText(e)}))},this.grayMapAreaColor=t=>{this.logger.info(`grayMapAreaColor ==> isGray: ${t}`),this.pointsLayers.forEach((e=>{if(e&&e.type===It.indoorMapPoints&&e.userData.colorHex){let n=t?e.userData.normalColors:e.userData.colors,i=t?e.userData.normalColorAlpha:e.userData.colorAlpha;if(e.userData.extend&&e.userData.extend.roomId>=0||e.userData.pixelType===Ft.carpet){const r=this.getNewMapAreaColorConfig(e);if(r){const{normalColorsArray:e,colorsArray:o,colorAlpha:a,normalColorAlpha:s}=r;n=t?e:o,i=t?s:a}e.scope.setStorageByKey("colorStatus",{isGray:t}),this.changeMaterialColor(e,n,i)}}}))},this.changeAllMapAreaColor=t=>{this.grayMapAreaColor(t)},this.updateMapAreaColor=(t,e,n=!1)=>{this.logger.info("updateMapAreaColor ==>",t,e,n),t.length>0&&t.forEach((t=>{this.pointsLayers.forEach((i=>{if(i&&i.type===It.indoorMapPoints&&i.userData.colorHex){let r=n?i.userData.normalColors:i.userData.colors,o=n?i.userData.normalColorAlpha:i.userData.colorAlpha;if(i.userData.extend&&i.userData.extend.roomId>=0){const a=this.getNewMapAreaColorConfig(i);if(a){const{normalColorsArray:t,colorsArray:e,colorAlpha:i,normalColorAlpha:s}=a;r=n?t:e,o=n?s:i}e?i.userData.colorHex===t&&(i.scope.setStorageByKey("colorStatus",{isGray:n}),this.changeMaterialColor(i,r,o),this.updateCarpetMaterialLayersColor(i,!n)):i.userData.extend.roomId===t&&(i.scope.setStorageByKey("colorStatus",{isGray:n}),this.changeMaterialColor(i,r,o),this.updateCarpetMaterialLayersColor(i,!n))}}}))}))},this.changeMapAreaColorWithNewConfig=(t,e,n)=>{if(t.length>0){const i=t.filter((t=>"string"==typeof t)).length===t.length;t.forEach((t=>{var r,o;const a=null==(r=e[t])?void 0:r.normalColor,s=null==(o=e[t])?void 0:o.highlightColor;if(""!==a&&""!==s){const{colorFormat:e,alpha:r}=this.argb2Rgb(a),{colorFormat:o,alpha:l}=this.argb2Rgb(s);this.pointsLayers.forEach((c=>{if(c&&c.type===It.indoorMapPoints){const A=c.userData;if(A.colorHex&&A.extend&&A.extend.roomId>=0&&(i?A.colorHex:A.extend.roomId)===t){c.scope.setStorageByKey("newColorConfig",{normalColor:a,highlightColor:s});const t=[],i=[];new Array(A.normalColors.length/3).fill("").map((()=>{t.push(e.r,e.g,e.b)})),new Array(A.colors.length/3).fill("").map((()=>{i.push(o.r,o.g,o.b)})),A.normalColors=t,A.colors=i,A.normalColorAlpha=r,A.colorAlpha=l,this.changeMaterialColor(c,n?i:t,n?l:r)}}}))}}))}},this.clearMapAreaColorWithNewConfig=()=>{this.pointsLayers.forEach((t=>{t&&t.scope.setStorageByKey("newColorConfig",{normalColor:"",highlightColor:""})})),this.updateLaserMap(this.mapPropsData,!1,!0)},this.getNewMapAreaColorConfig=t=>{if(t){const e=t.userData;let{normalColors:n,colors:i,colorAlpha:r,normalColorAlpha:o}=e,a=t.scope.getStorageByKey("newColorConfig");if(a){const t=a.normalColor,e=a.highlightColor;if(""!==t&&""!==e){const r=[],o=[],{colorFormat:a,alpha:s}=this.argb2Rgb(t),{colorFormat:l,alpha:c}=this.argb2Rgb(e);return new Array(n.length/3).fill("").map((()=>{r.push(a.r,a.g,a.b)})),new Array(i.length/3).fill("").map((()=>{o.push(l.r,l.g,l.b)})),{normalColorsArray:r,colorsArray:o,colorAlpha:c,normalColorAlpha:s}}}}return null},this.highlightMapAreaColor=(t,e,n)=>{this.logger.info("highlightMapAreaColor ==>",t,e,n);const i=[];this.removeCheckedItems(),t.length>0?(this.indoorMap2d.sceneRender(!1),this.grayMapAreaColor(!0),t.forEach((t=>{this.pointsLayers.forEach((r=>{if(r&&r.type===It.indoorMapPoints&&r.userData.colorHex){let o=r.userData.colors,a=r.userData.colorAlpha;if(r.userData.extend&&r.userData.extend.roomId>=0){const s=this.getNewMapAreaColorConfig(r);if(s){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:i}=s;o=e,a=n}if(r.scope.setStorageByKey("colorStatus",{isGray:!1}),e){if(r.userData.colorHex===t&&(this.changeMaterialColor(r,o,a),i.push(r.userData.colorHex),this.updateCarpetMaterialLayersColor(r,!0),n)){const t=r.scope.center.x,e=-r.scope.center.y,n=new My({indoorMap2d:this.indoorMap2d,type:this.state,extend:r.userData.extend,content:r.userData.content,order:this.selectedArray.length+1,colorHex:r.userData.colorHex,position:new ln(t,e),onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(n),this.selectedArray.push(n)}}else if(r.userData.extend.roomId===t&&(this.changeMaterialColor(r,o,a),i.push(r.userData.colorHex),this.updateCarpetMaterialLayersColor(r,!0),n)){const t=r.scope.center.x,e=-r.scope.center.y,n=new My({indoorMap2d:this.indoorMap2d,type:this.state,extend:r.userData.extend,content:r.userData.content,order:this.selectedArray.length+1,colorHex:r.userData.colorHex,position:new ln(t,e),onLoggerInfo:this.onLoggerInfo});this.addSweepLayer(n),this.selectedArray.push(n)}}}}))})),this.pointsLayers.forEach((t=>{t&&i.forEach((e=>{if(t.userData.colorHex===e){const n=i.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),this.state!==Rt.mapTimerSelect&&this.foldableSingleRoomInfo(t,!0)}}))}))):this.grayMapAreaColor(!1),this.updateSelectRoomData(i),this.indoorMap2d.sceneRender(!0)},this.changeMaterialColor=(t,e,n)=>{var i;if(this.useStructuredMode){if(t.material.opacity=n,t.material.color=new Ai(e[0],e[1],e[2]),t.scope.shapeWireframe){var r;const i=t.scope.shapeWireframe,o=i.geometry.getAttribute("color").count,a=[];for(let t=0;t<o;t++)a.push(e[0],e[1],e[2]);i.material.opacity=n,null==(r=i.geometry)||r.setAttribute("color",new hi(new Float32Array(a),3))}}else t.material.opacity=n,null==(i=t.geometry)||i.setAttribute("color",new hi(new Float32Array(e),3))},this.hightMapAreaColorWithoutChecked=(t,e)=>{this.logger.info("hightMapAreaColorWithoutChecked ==>",t,e);const n=[];t.length>0?(this.indoorMap2d.sceneRender(!1),this.grayMapAreaColor(!0),t.forEach((t=>{this.pointsLayers.forEach((i=>{if(i&&i.type===It.indoorMapPoints&&i.userData.colorHex){let r=i.userData.colors,o=i.userData.colorAlpha;if(i.userData.extend&&i.userData.extend.roomId>=0){i.scope.setStorageByKey("colorStatus",{isGray:!1});const a=this.getNewMapAreaColorConfig(i);if(a){const{normalColorsArray:t,colorsArray:e,colorAlpha:n,normalColorAlpha:i}=a;r=e,o=n}e?i.userData.colorHex===t&&(this.changeMaterialColor(i,r,o),this.updateCarpetMaterialLayersColor(i,!0),n.push(i.userData.colorHex)):i.userData.extend.roomId===t&&(this.changeMaterialColor(i,r,o),this.updateCarpetMaterialLayersColor(i,!0),n.push(i.userData.colorHex))}}}))})),this.pointsLayers.forEach((t=>{t&&n.forEach((e=>{if(t.userData.colorHex===e){const n=this.selectRoomData.findIndex((t=>t===e));t.scope.setStorageByKey("order",n+1),this.foldableSingleRoomInfo(t,!0)}}))}))):this.grayMapAreaColor(!1),this.updateSelectRoomData(n),this.indoorMap2d.sceneRender(!0)},this.updateSelectRoomData=t=>{const e=this.selectRoomData.concat();this.selectRoomData=t,Mm(`${this.indoorMap2d.getUnionId()}_selectRoomDataChange`,{oldValue:e,newValue:this.selectRoomData})},this.selectRoomDataChange=t=>{const{newValue:e}=t;this.state===Rt.normal&&e&&!e.length&&this.grayMapAreaColor(!1)},this.foldableRoomInfo=t=>{this.pointsLayers.forEach((e=>{e&&this.foldableSingleRoomInfo(e,t)}))},this.foldableSingleRoomInfo=(t,e)=>{if("foldable"===t.userData.roomPropertyStyle&&t.userData.extend&&t.userData.roomProperty.length>0&&(void 0!==t.userData.extend.roomId||t.userData.extend.roomId>=0)){t.scope.isFoldable=e;const n=(e,n)=>{this.updateInfoWindowInfoCanvasLayer(t.scope,t.userData.extend.roomId,e,n,t.scope.layer.userData)};this.createLabelCanvas(t.scope.layer.userData,n)}},this.getSelectedAreaInfoList=()=>{const t=[];return this.selectRoomData.length&&this.selectRoomData.forEach((e=>{this.pointsLayers.forEach((n=>{if(n&&n.userData.colorHex===e){const i=n.userData.extend||{};t.push({[e]:i})}}))})),t},this.foldableSingleRoomInfoById=(t,e,n)=>{this.pointsLayers.forEach((i=>{if(i)if(e){if(t===i.userData.colorHex){const t=void 0===n?!i.scope.isFoldable:n;this.foldableSingleRoomInfo(i,t)}}else if(i.userData.extend&&i.userData.extend.roomId>=0&&t===i.userData.extend.roomId){const t=void 0===n?!i.scope.isFoldable:n;this.foldableSingleRoomInfo(i,t)}}))},this.getCurrentMapState=()=>({state:this.state,splitState:this.splitState,edit:this.edit}),this.getCurrentMapCenter=()=>({center:{x:this.center.x,y:-this.center.y},flipCenter:{x:this.center.x,y:this.center.y}}),this.generateRandomSweepPoint=t=>{const e=new Array(t).fill("");if(this.pixelCoords&&this.pixelCoords.length){var n;const t=null==(n=this.pixelCoords)?void 0:n.filter((t=>t.type===Ft.sweep||t.type===Ft.carpet)),i=t.length-1;return e.map(((n,r)=>{const o=Math.floor(Math.random(i)*i),a=t[o];e[r]=a})),e}return null},this.createAndPutSpriteIntoMap=t=>{if(Array.isArray(t)){const e=new Array(t.length);return t.forEach(((t,n)=>{const{image:i,point:r,size:o,isScale:a=!1}=t,s={point:r,image:i,size:o||6,height:Ut.sprite,isScale:a},l=new Xm(s),c=l.layer.id;this.spriteInstanceList.push(l),e[n]=c,this.layer&&this.layer.add(l.layer)})),e}return null},this.createOrUpdateTailLineForRobot=t=>{if(this.layer){this.tailLineInstance&&this.tailLineInstance.remove();const{width:e=1,color:n="#ffffff",opacity:i=1,points:r=[]}=t,o={color:n,lineWidth:e,opacity:i,points:r,noVertices:!0,noUnitText:!0,shouldExtendLine:!1,isDash:!1,depthWrite:!0,height:Ut.cleanPath,innerWidth:this.indoorMap2d.canvasWidth,innerHeight:this.indoorMap2d.canvasHeight},a=new Kg(o);this.tailLineInstance=a,this.layer.add(this.tailLineInstance.layer)}},this.removeSpriteFromMap=t=>{if(Array.isArray(t)){let e=this.spriteInstanceList.length-1;const n=[];return t.forEach((t=>{for(let r=e;r>=0;r--){const e=this.spriteInstanceList[r];var i;if(e&&e.layer.id===t)n.push(e.layer.id),null==(i=this.spriteInstanceList.splice(r,1)[0])||i.remove()}})),n}return null},this.getMapPointsByPixelType=t=>{var e;return this.pixelCoords&&this.pixelCoords.length?null==(e=this.pixelCoords)?void 0:e.filter((e=>e.type===t)):null},this.hideAllCarpetMaterial=t=>{this.isCarpetVisible=!t,this.carpetLayers.map((e=>e.hideCarpetMaterial(t)))},this.setShowBarrierFluorescenceOnMap2d=(t,e,n,i)=>{if(this.isFluorescenceVisible=t,this.isFluorescenceVisible)return this.fluorescenceColor=e||"rgba(162, 238, 255, 1)",this.fluorescenceShadowColor=n||"rgba(123, 238, 255, 1)",this.fluorescenceShadowSize=i||2,void this.createFluorescence();this.removeFluorescence()},this.showPixelTypeOnMap2d=t=>{if(this.is3d)return;this.showPixelTypes=t;const e=[];this.pointsLayers.forEach(((t,n)=>{if(t){const n=t.userData;if(-1===this.showPixelTypes.findIndex((t=>t===n.pixelType))){var i;const r=null==(i=n.extend)?void 0:i.roomId;r>=0&&e.push(r),this.removeMapAreaEvent(t),t.scope.removePointsLayer()}}})),this.removeRoomLabelByRoomIds(e)},this.recoverPixelTypeOnMap2d=()=>{this.is3d||(this.showPixelTypes.length=0,this.updateLaserMap(this.mapPropsData,!1,!0))},this.removePointer=t=>{for(let e=0;e<this.pointers.length;e++)if(this.pointers[e].pointerId===t.pointerId)return void this.pointers.splice(e,1)},this.addPointer=t=>{2===this.pointers.length&&this.pointers.shift(),this.pointers.push(t)},this.hideRoomLabelLayer=t=>{Object.keys(this.roomLayer).forEach((e=>{this.roomLayer[e].hideLabelPosition(t)}))},this.removeRoomLabelLayer=()=>{Object.keys(this.roomLayer).forEach((t=>{this.roomLayer[t].removeLabelPosition(),delete this.roomLayer[t]})),this.roomLayer={},this.pointsLayers.forEach((t=>{t&&t.userData&&t.scope.setStorageByKey("order",void 0)}))},this.removeStoreObject=()=>{this.splitLine&&this.splitLine.removeSplitLine(),this.splitLine=null,this.selected&&this.selected.removeSelected(),this.selected=null,this.removeCheckedItems()},this.clearSelectRoomAndRecoverMap=()=>{this.logger.info("clearSelectRoomAndRecoverMap"),this.updateSelectRoomData([]),this.grayMapAreaColor(!1)},this.hex2Rgba=t=>{if(9===(null==t?void 0:t.length)&&0===t.indexOf("#")){const e="0x"+t.slice(3),n=(parseInt(t.slice(1,3),16)/255).toFixed(1),i=new Ai;return i.setHex(Number(e)),`rgba(${Math.round(255*i.r)},${Math.round(255*i.g)},${Math.round(255*i.b)},${n})`}return"rgba(255,255,255,1)"},this.clearRenderingCache=t=>{Object.keys(t).forEach((e=>{t[e].disposeRendering2D()}))},this.container=void 0!==t.container?t.container:null,this.useWorker=void 0===t.useWorker||t.useWorker,this.initUseThread=void 0===t.initUseThread||t.initUseThread,this.initUseParserCache=void 0!==t.initUseParserCache&&t.initUseParserCache,this.enableAICapability=void 0!==t.enableAICapability&&t.enableAICapability,this.resourceUsageLevel=void 0===t.resourceUsageLevel||t.resourceUsageLevel,this.useStructuredMode=void 0!==t.useStructuredMode&&t.useStructuredMode,this.offscreenCanvasEnabled="ios"!==t.platform,this.isAddEventListener=!1,this.shouldUpdate=!1,this.mapWorkerArray=[],this.mapWorkerNum=0,this.mapClickGestureStatus=!0,this.roomFloorLayers=new Map,this.generateObjCache=new _b("generateCache"),this.mapStateObjectCache=new _b("mapStateCache"),this.init(t)}calculateDistance(t,e){const n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}}var yM=function(t,e){return yM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},yM(t,e)};function vM(t,e){function n(){this.constructor=t}yM(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function _M(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}var wM=function(t,e){this.target=e,this.type=t},xM=function(t){function e(e,n){var i=t.call(this,"error",n)||this;return i.message=e.message,i.error=e,i}return vM(e,t),e}(wM),bM=function(t){function e(e,n,i){void 0===e&&(e=1e3),void 0===n&&(n="");var r=t.call(this,"close",i)||this;return r.wasClean=!0,r.code=e,r.reason=n,r}return vM(e,t),e}(wM),MM={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},LM=function(){function t(t,e,n){var i=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){i._debug("open event");var e=i._options.minUptime,n=void 0===e?MM.minUptime:e;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout((function(){return i._acceptOpen()}),n),i._ws.binaryType=i._binaryType,i._messageQueue.forEach((function(t){return i._ws.send(t)})),i._messageQueue=[],i.onopen&&i.onopen(t),i._listeners.open.forEach((function(e){return i._callEventListener(t,e)}))},this._handleMessage=function(t){i._debug("message event"),i.onmessage&&i.onmessage(t),i._listeners.message.forEach((function(e){return i._callEventListener(t,e)}))},this._handleError=function(t){i._debug("error event",t.message),i._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),i.onerror&&i.onerror(t),i._debug("exec error listeners"),i._listeners.error.forEach((function(e){return i._callEventListener(t,e)})),i._connect()},this._handleClose=function(t){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(t),i._listeners.close.forEach((function(e){return i._callEventListener(t,e)}))},this._url=t,this._protocols=e,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(t,e){return"string"==typeof e?t+=e.length:e instanceof Blob?t+=e.size:t+=e.byteLength,t}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,e):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},t.prototype.reconnect=function(t,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,e),this._connect()):this._connect()},t.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var e=this._options.maxEnqueuedMessages,n=void 0===e?MM.maxEnqueuedMessages:e;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},t.prototype.addEventListener=function(t,e){this._listeners[t]&&this._listeners[t].push(e)},t.prototype.dispatchEvent=function(t){var e,n,i=this._listeners[t.type];if(i)try{for(var r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(i),o=r.next();!o.done;o=r.next()){var a=o.value;this._callEventListener(t,a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==e})))},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._options.debug&&console.log.apply(console,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_M(arguments[e]));return t}(["RWS>"],t))},t.prototype._getNextDelay=function(){var t=this._options,e=t.reconnectionDelayGrowFactor,n=void 0===e?MM.reconnectionDelayGrowFactor:e,i=t.minReconnectionDelay,r=void 0===i?MM.minReconnectionDelay:i,o=t.maxReconnectionDelay,a=void 0===o?MM.maxReconnectionDelay:o,s=0;return this._retryCount>0&&(s=r*Math.pow(n,this._retryCount-1))>a&&(s=a),this._debug("next delay",s),s},t.prototype._wait=function(){var t=this;return new Promise((function(e){setTimeout(e,t._getNextDelay())}))},t.prototype._getNextUrl=function(t){if("string"==typeof t)return Promise.resolve(t);if("function"==typeof t){var e=t();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,n=e.maxRetries,i=void 0===n?MM.maxRetries:n,r=e.connectionTimeout,o=void 0===r?MM.connectionTimeout:r,a=e.WebSocket,s=void 0===a?function(){if("undefined"!=typeof WebSocket)return WebSocket}():a;if(this._retryCount>=i)this._debug("max retries reached",this._retryCount,">=",i);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(l=s)||!l||2!==l.CLOSING)throw Error("No valid WebSocket class provided");var l;this._wait().then((function(){return t._getNextUrl(t._url)})).then((function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new s(e,t._protocols):new s(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout((function(){return t._handleTimeout()}),o))}))}}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new xM(Error("TIMEOUT"),this))},t.prototype._disconnect=function(t,e){if(void 0===t&&(t=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(t,e),this._handleClose(new bM(t,e,this))}catch(t){}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(t,e){"handleEvent"in e?e.handleEvent(t):e(t)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}();let CM="() => {\n\tconst evtFunc = msg => {\n\t\tconst FunctionCallee = Function || window.Function;\n\t\tconst fn = new FunctionCallee(msg.data.decodeMapDataFn);\n\t\tconst { mapStateMap, textureObject } = fn();\n\t\tself.postMessage({ mapStateMap, textureObject, mapIdentify: msg.data.mapIdentify, timestamp: msg.data.timestamp });\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";CM=CM.substring(CM.indexOf("{")+1,CM.lastIndexOf("}"));const BM=new Blob([CM],{type:"application/javascript"});let SM="() => {\n\tconst evtFunc = msg => {\n\t\tconst FunctionCallee = Function || window.Function;\n\t\tconst fn = new FunctionCallee(msg.data.originPathDataFn);\n\t\tconst formatPathData = fn();\n\t\tself.postMessage({\n\t\t\tformatPathData: formatPathData,\n\t\t\tmarkerIcon: msg.data.markerIcon,\n\t\t\tis3d: msg.data.is3d,\n\t\t\tpathIdentify: msg.data.pathIdentify,\n\t\t\ttimestamp: msg.data.timestamp\n\t\t});\n\t};\n\n\tself.addEventListener('message', evtFunc, false);\n}";SM=SM.substring(SM.indexOf("{")+1,SM.lastIndexOf("}"));const EM=new Blob([SM],{type:"application/javascript"}),TM=e=>{!function(t,e){"function"==typeof define&&n.amdO?define((function(){return t.cv=e()})):t.cv=e()}(window,(function(){var i,r=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var n,r=void 0!==(t=t||{})?t:{},o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);var a,s,l,c,A="./this.program";a="object"==typeof window,s="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,l=c&&!a&&!s;var u,d,h,p="";a||l||s?(a||s)&&(s?p=self.location.href:document.currentScript&&(p=document.currentScript.src),i&&(p=i),p=0!==p.indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",u=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var n=Ye(t);if(n)return Oe(n);throw e}},s&&(h=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}catch(e){var n=Ye(t);if(n)return n;throw e}}),d=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status||0==i.status&&i.response)e(i.response);else{var r=Ye(t);r?e(r.buffer):n()}},i.onerror=n,i.send(null)}):("undefined"!=typeof read&&(u=function(t){var e=Ye(t);return e?Oe(e):read(t)}),h=function(t){var e;return(e=Ye(t))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(x("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var f,m,g=r.print||console.log.bind(console),y=r.printErr||console.warn.bind(console);for(n in o)o.hasOwnProperty(n)&&(r[n]=o[n]);function v(t){v.shown||(v.shown={}),v.shown[t]||(v.shown[t]=1,y(t))}o=null,r.arguments&&r.arguments,r.thisProgram&&(A=r.thisProgram),r.quit&&r.quit,r.wasmBinary&&(f=r.wasmBinary),r.noExitRuntime&&r.noExitRuntime,"object"!=typeof WebAssembly&&y("no native wasm support detected");var _=new WebAssembly.Table({initial:10811,maximum:10811,element:"anyfunc"}),w=!1;function x(t,e){t||nt("Assertion failed: "+e)}var b,M,L,C,B,S,E,T,D,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,e,n){for(var i=e+n,r=e;t[r]&&!(r>=i);)++r;if(r-e>16&&t.subarray&&I)return I.decode(t.subarray(e,r));for(var o="";e<r;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var l=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&t[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function k(t,e){return t?P(L,t,e):""}function F(t,e,n,i){if(!(i>0))return 0;for(var r=n,o=n+i-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),s<=127){if(n>=o)break;e[n++]=s}else if(s<=2047){if(n+1>=o)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=o)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}return e[n]=0,n-r}function U(t,e,n){return F(t,L,e,n)}function R(t){for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++n)),i<=127?++e:e+=i<=2047?2:i<=65535?3:4}return e}function O(t,e){return t%e>0&&(t+=e-t%e),t}function H(t){b=t,r.HEAP8=M=new Int8Array(t),r.HEAP16=C=new Int16Array(t),r.HEAP32=S=new Int32Array(t),r.HEAPU8=L=new Uint8Array(t),r.HEAPU16=B=new Uint16Array(t),r.HEAPU32=E=new Uint32Array(t),r.HEAPF32=T=new Float32Array(t),r.HEAPF64=D=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Y=1411136,Q=r.TOTAL_MEMORY||134217728;function j(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?r.dynCall_v(n):r.dynCall_vi(n,e.arg):n(void 0===e.arg?null:e.arg)}else e()}}(m=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:Q/65536,maximum:16384}))&&(b=m.buffer),Q=b.byteLength,H(b),S[Y>>2]=6654176;var N=[],W=[],V=[],z=[],G=!1,K=Math.abs,Z=Math.ceil,X=Math.floor,q=Math.min,J=0,$=null;function tt(t){J++,r.monitorRunDependencies&&r.monitorRunDependencies(J)}function et(t){if(J--,r.monitorRunDependencies&&r.monitorRunDependencies(J),0==J&&$){var e=$;$=null,e()}}function nt(t){r.onAbort&&r.onAbort(t),g(t+=""),y(t),w=!0,console.warn("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}r.preloadedImages={},r.preloadedAudios={};var it="data:application/octet-stream;base64,";function rt(t){return String.prototype.startsWith?t.startsWith(it):0===t.indexOf(it)}var ot,at,st,lt=e;function ct(){try{if(f)return new Uint8Array(f);var t=Ye(lt);if(t)return t;if(h)return h(lt);throw"both async and sync fetching of the wasm failed"}catch(t){nt(t)}}function At(){nt()}rt(lt)||(ot=lt,lt=r.locateFile?r.locateFile(ot,p):p+ot),W.push({func:function(){We()}});var ut={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){ut.mainLoop.scheduler=null,ut.mainLoop.currentlyRunningMainloop++},resume:function(){ut.mainLoop.currentlyRunningMainloop++;var t=ut.mainLoop.timingMode,e=ut.mainLoop.timingValue,n=ut.mainLoop.func;ut.mainLoop.func=null,function(t,e,n,i){var o;x(!ut.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),ut.mainLoop.func=t,ut.mainLoop.arg=i,o=void 0!==i?function(){r.dynCall_vi(t,i)}:function(){r.dynCall_v(t)};var a=ut.mainLoop.currentlyRunningMainloop;ut.mainLoop.runner=function(){if(!w)if(ut.mainLoop.queue.length>0){var t=Date.now(),e=ut.mainLoop.queue.shift();if(e.func(e.arg),ut.mainLoop.remainingBlockers){var n=ut.mainLoop.remainingBlockers,i=n%1==0?n-1:Math.floor(n);e.counted?ut.mainLoop.remainingBlockers=i:(i+=.5,ut.mainLoop.remainingBlockers=(8*n+i)/9)}if(console.log('main loop blocker "'+e.name+'" took '+(Date.now()-t)+" ms"),ut.mainLoop.updateStatus(),a<ut.mainLoop.currentlyRunningMainloop)return;setTimeout(ut.mainLoop.runner,0)}else a<ut.mainLoop.currentlyRunningMainloop||(ut.mainLoop.currentFrameNumber=ut.mainLoop.currentFrameNumber+1|0,1==ut.mainLoop.timingMode&&ut.mainLoop.timingValue>1&&ut.mainLoop.currentFrameNumber%ut.mainLoop.timingValue!=0?ut.mainLoop.scheduler():(0==ut.mainLoop.timingMode&&(ut.mainLoop.tickStartTime=At()),"timeout"===ut.mainLoop.method&&r.ctx&&(y("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),ut.mainLoop.method=""),ut.mainLoop.runIter(o),a<ut.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),ut.mainLoop.scheduler())))}}(n,0,0,ut.mainLoop.arg),function(t,e){if(ut.mainLoop.timingMode=t,ut.mainLoop.timingValue=e,!ut.mainLoop.func)return 1;if(0==t)ut.mainLoop.scheduler=function(){var t=0|Math.max(0,ut.mainLoop.tickStartTime+e-At());setTimeout(ut.mainLoop.runner,t)},ut.mainLoop.method="timeout";else if(1==t)ut.mainLoop.scheduler=function(){ut.requestAnimationFrame(ut.mainLoop.runner)},ut.mainLoop.method="rAF";else if(2==t){if("undefined"==typeof setImmediate){var n=[],i="setimmediate";addEventListener("message",(function(t){t.data!==i&&t.data.target!==i||(t.stopPropagation(),n.shift()())}),!0),setImmediate=function(t){n.push(t),s?(void 0===r.setImmediates&&(r.setImmediates=[]),r.setImmediates.push(t),postMessage({target:i})):postMessage(i,"*")}}ut.mainLoop.scheduler=function(){setImmediate(ut.mainLoop.runner)},ut.mainLoop.method="immediate"}}(t,e),ut.mainLoop.scheduler()},updateStatus:function(){if(r.setStatus){var t=r.statusMessage||"Please wait...",e=ut.mainLoop.remainingBlockers,n=ut.mainLoop.expectedBlockers;e?e<n?r.setStatus(t+" ("+(n-e)+"/"+n+")"):r.setStatus(t):r.setStatus("")}},runIter:function(t){if(!w){if(r.preMainLoop&&!1===r.preMainLoop())return;try{t()}catch(t){if(t instanceof Ze)return;throw t&&"object"==typeof t&&t.stack&&y("exception thrown: "+[t,t.stack]),t}r.postMainLoop&&r.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(r.preloadPlugins||(r.preloadPlugins=[]),!ut.initted){ut.initted=!0;try{new Blob,ut.hasBlobConstructor=!0}catch(t){ut.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}ut.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:ut.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),ut.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,r.noImageDecoding||void 0!==ut.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.noImageDecoding=!0);var t={canHandle:function(t){return!r.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(t)},handle:function(t,e,n,i){var o=null;if(ut.hasBlobConstructor)try{(o=new Blob([t],{type:ut.getMimetype(e)})).size!==t.length&&(o=new Blob([new Uint8Array(t).buffer],{type:ut.getMimetype(e)}))}catch(t){v("Blob constructor present but fails: "+t+"; falling back to blob builder")}if(!o){var a=new ut.BlobBuilder;a.append(new Uint8Array(t).buffer),o=a.getBlob()}var s=ut.URLObject.createObjectURL(o),l=new Image;l.onload=function(){x(l.complete,"Image "+e+" could not be decoded");var i=document.createElement("canvas");i.width=l.width,i.height=l.height,i.getContext("2d").drawImage(l,0,0),r.preloadedImages[e]=i,ut.URLObject.revokeObjectURL(s),n&&n(t)},l.onerror=function(t){console.log("Image "+s+" could not be decoded"),i&&i()},l.src=s}};r.preloadPlugins.push(t);var e={canHandle:function(t){return!r.noAudioDecoding&&t.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(t,e,n,i){var o=!1;function a(i){o||(o=!0,r.preloadedAudios[e]=i,n&&n(t))}function s(){o||(o=!0,r.preloadedAudios[e]=new Audio,i&&i())}if(!ut.hasBlobConstructor)return s();try{var l=new Blob([t],{type:ut.getMimetype(e)})}catch(t){return s()}var c=ut.URLObject.createObjectURL(l),A=new Audio;A.addEventListener("canplaythrough",(function(){a(A)}),!1),A.onerror=function(n){o||(console.log("warning: browser could not fully decode audio "+e+", trying slower base64 approach"),A.src="data:audio/x-"+e.substr(-3)+";base64,"+function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",i=0,r=0,o=0;o<t.length;o++)for(i=i<<8|t[o],r+=8;r>=6;){var a=i>>r-6&63;r-=6,n+=e[a]}return 2==r?(n+=e[(3&i)<<4],n+="=="):4==r&&(n+=e[(15&i)<<2],n+="="),n}(t),a(A))},A.src=c,ut.safeSetTimeout((function(){a(A)}),1e4)}};r.preloadPlugins.push(e);var n=r.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||function(){},n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),r.elementPointerLock&&n.addEventListener("click",(function(t){!ut.pointerLock&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),t.preventDefault())}),!1))}function i(){ut.pointerLock=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}},createContext:function(t,e,n,i){if(e&&r.ctx&&t==r.canvas)return r.ctx;var o,a;if(e){var s={antialias:!1,alpha:!1,majorVersion:1};if(i)for(var l in i)s[l]=i[l];"undefined"!=typeof GL&&(a=GL.createContext(t,s))&&(o=GL.getContext(a).GLctx)}else o=t.getContext("2d");return o?(n&&(e||x("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.ctx=o,e&&GL.makeContextCurrent(a),r.useWebGL=e,ut.moduleContextCreatedCallbacks.forEach((function(t){t()})),ut.init()),o):null},destroyContext:function(t,e,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(t,e,n){ut.lockPointer=t,ut.resizeCanvas=e,ut.vrDevice=n,void 0===ut.lockPointer&&(ut.lockPointer=!0),void 0===ut.resizeCanvas&&(ut.resizeCanvas=!1),void 0===ut.vrDevice&&(ut.vrDevice=null);var i=r.canvas;function o(){ut.isFullscreen=!1;var t=i.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t?(i.exitFullscreen=ut.exitFullscreen,ut.lockPointer&&i.requestPointerLock(),ut.isFullscreen=!0,ut.resizeCanvas?ut.setFullscreenCanvasSize():ut.updateCanvasDimensions(i)):(t.parentNode.insertBefore(i,t),t.parentNode.removeChild(t),ut.resizeCanvas?ut.setWindowedCanvasSize():ut.updateCanvasDimensions(i)),r.onFullScreen&&r.onFullScreen(ut.isFullscreen),r.onFullscreen&&r.onFullscreen(ut.isFullscreen)}ut.fullscreenHandlersInstalled||(ut.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");i.parentNode.insertBefore(a,i),a.appendChild(i),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?function(){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?a.requestFullscreen({vrDisplay:n}):a.requestFullscreen()},requestFullScreen:function(t,e,n){return y("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),ut.requestFullScreen=function(t,e,n){return ut.requestFullscreen(t,e,n)},ut.requestFullscreen(t,e,n)},exitFullscreen:function(){return!!ut.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(t){var e=Date.now();if(0===ut.nextRAF)ut.nextRAF=e+1e3/60;else for(;e+2>=ut.nextRAF;)ut.nextRAF+=1e3/60;var n=Math.max(ut.nextRAF-e,0);setTimeout(t,n)},requestAnimationFrame:function(t){"function"!=typeof requestAnimationFrame?(0,ut.fakeRequestAnimationFrame)(t):requestAnimationFrame(t)},safeCallback:function(t){return function(){if(!w)return t.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){ut.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(ut.allowAsyncCallbacks=!0,ut.queuedAsyncCallbacks.length>0){var t=ut.queuedAsyncCallbacks;ut.queuedAsyncCallbacks=[],t.forEach((function(t){t()}))}},safeRequestAnimationFrame:function(t){return ut.requestAnimationFrame((function(){w||(ut.allowAsyncCallbacks?t():ut.queuedAsyncCallbacks.push(t))}))},safeSetTimeout:function(t,e){return setTimeout((function(){w||(ut.allowAsyncCallbacks?t():ut.queuedAsyncCallbacks.push(t))}),e)},safeSetInterval:function(t,e){return setInterval((function(){w||ut.allowAsyncCallbacks&&t()}),e)},getMimetype:function(t){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[t.substr(t.lastIndexOf(".")+1)]},getUserMedia:function(t){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(t)},getMovementX:function(t){return t.movementX||t.mozMovementX||t.webkitMovementX||0},getMovementY:function(t){return t.movementY||t.mozMovementY||t.webkitMovementY||0},getMouseWheelDelta:function(t){var e=0;switch(t.type){case"DOMMouseScroll":e=t.detail/3;break;case"mousewheel":e=t.wheelDelta/120;break;case"wheel":switch(e=t.deltaY,t.deltaMode){case 0:e/=100;break;case 1:e/=3;break;case 2:e*=80;break;default:throw"unrecognized mouse wheel delta mode: "+t.deltaMode}break;default:throw"unrecognized mouse wheel event: "+t.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(t){if(ut.pointerLock)"mousemove"!=t.type&&"mozMovementX"in t?ut.mouseMovementX=ut.mouseMovementY=0:(ut.mouseMovementX=ut.getMovementX(t),ut.mouseMovementY=ut.getMovementY(t)),"undefined"!=typeof SDL?(ut.mouseX=SDL.mouseX+ut.mouseMovementX,ut.mouseY=SDL.mouseY+ut.mouseMovementY):(ut.mouseX+=ut.mouseMovementX,ut.mouseY+=ut.mouseMovementY);else{var e=r.canvas.getBoundingClientRect(),n=r.canvas.width,i=r.canvas.height,o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===t.type||"touchend"===t.type||"touchmove"===t.type){var s=t.touch;if(void 0===s)return;var l=s.pageX-(o+e.left),c=s.pageY-(a+e.top),A={x:l*=n/e.width,y:c*=i/e.height};if("touchstart"===t.type)ut.lastTouches[s.identifier]=A,ut.touches[s.identifier]=A;else if("touchend"===t.type||"touchmove"===t.type){var u=ut.touches[s.identifier];u||(u=A),ut.lastTouches[s.identifier]=u,ut.touches[s.identifier]=A}return}var d=t.pageX-(o+e.left),h=t.pageY-(a+e.top);d*=n/e.width,h*=i/e.height,ut.mouseMovementX=d-ut.mouseX,ut.mouseMovementY=h-ut.mouseY,ut.mouseX=d,ut.mouseY=h}},asyncLoad:function(t,e,n,i){var r=i?"":"al "+t;d(t,(function(n){x(n,'Loading data file "'+t+'" failed (no arrayBuffer).'),e(new Uint8Array(n)),r&&et()}),(function(e){if(!n)throw'Loading data file "'+t+'" failed.';n()})),r&&tt()},resizeListeners:[],updateResizeListeners:function(){var t=r.canvas;ut.resizeListeners.forEach((function(e){e(t.width,t.height)}))},setCanvasSize:function(t,e,n){var i=r.canvas;ut.updateCanvasDimensions(i,t,e),n||ut.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var t=E[SDL.screen>>2];t|=8388608,S[SDL.screen>>2]=t}ut.updateCanvasDimensions(r.canvas),ut.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var t=E[SDL.screen>>2];t&=-8388609,S[SDL.screen>>2]=t}ut.updateCanvasDimensions(r.canvas),ut.updateResizeListeners()},updateCanvasDimensions:function(t,e,n){e&&n?(t.widthNative=e,t.heightNative=n):(e=t.widthNative,n=t.heightNative);var i=e,o=n;if(r.forcedAspectRatio&&r.forcedAspectRatio>0&&(i/o<r.forcedAspectRatio?i=Math.round(o*r.forcedAspectRatio):o=Math.round(i/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/i,screen.height/o);i=Math.round(i*a),o=Math.round(o*a)}ut.resizeCanvas?(t.width!=i&&(t.width=i),t.height!=o&&(t.height=o),void 0!==t.style&&(t.style.removeProperty("width"),t.style.removeProperty("height"))):(t.width!=e&&(t.width=e),t.height!=n&&(t.height=n),void 0!==t.style&&(i!=e||o!=n?(t.style.setProperty("width",i+"px","important"),t.style.setProperty("height",o+"px","important")):(t.style.removeProperty("width"),t.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var t=ut.nextWgetRequestHandle;return ut.nextWgetRequestHandle++,t}};function dt(t,e){}function ht(t){return r.___errno_location&&(S[r.___errno_location()>>2]=t),t}var pt={splitPath:function(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)},normalizeArray:function(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:function(t){var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},dirname:function(t){var e=pt.splitPath(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},basename:function(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)},extname:function(t){return pt.splitPath(t)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return pt.normalize(t.join("/"))},join2:function(t,e){return pt.normalize(t+"/"+e)}},ft={resolve:function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:_t.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";t=i+"/"+t,e="/"===i.charAt(0)}return(e?"/":"")+(t=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."},relative:function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=ft.resolve(t).substr(1),e=ft.resolve(e).substr(1);for(var i=n(t.split("/")),r=n(e.split("/")),o=Math.min(i.length,r.length),a=o,s=0;s<o;s++)if(i[s]!==r[s]){a=s;break}var l=[];for(s=a;s<i.length;s++)l.push("..");return(l=l.concat(r.slice(a))).join("/")}},mt={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){mt.ttys[t]={input:[],output:[],ops:e},_t.registerDevice(t,mt.stream_ops)},stream_ops:{open:function(t){var e=mt.ttys[t.node.rdev];if(!e)throw new _t.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,n,i,r){if(!t.tty||!t.tty.ops.get_char)throw new _t.ErrnoError(60);for(var o=0,a=0;a<i;a++){var s;try{s=t.tty.ops.get_char(t.tty)}catch(t){throw new _t.ErrnoError(29)}if(void 0===s&&0===o)throw new _t.ErrnoError(6);if(null==s)break;o++,e[n+a]=s}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,n,i,r){if(!t.tty||!t.tty.ops.put_char)throw new _t.ErrnoError(60);try{for(var o=0;o<i;o++)t.tty.ops.put_char(t.tty,e[n+o])}catch(t){throw new _t.ErrnoError(29)}return i&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;t.input=Re(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(g(P(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(g(P(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(y(P(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(y(P(t.output,0)),t.output=[])}}},gt={ops_table:null,mount:function(t){return gt.createNode(null,"/",16895,0)},createNode:function(t,e,n,i){if(_t.isBlkdev(n)||_t.isFIFO(n))throw new _t.ErrnoError(63);gt.ops_table||(gt.ops_table={dir:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,lookup:gt.node_ops.lookup,mknod:gt.node_ops.mknod,rename:gt.node_ops.rename,unlink:gt.node_ops.unlink,rmdir:gt.node_ops.rmdir,readdir:gt.node_ops.readdir,symlink:gt.node_ops.symlink},stream:{llseek:gt.stream_ops.llseek}},file:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:{llseek:gt.stream_ops.llseek,read:gt.stream_ops.read,write:gt.stream_ops.write,allocate:gt.stream_ops.allocate,mmap:gt.stream_ops.mmap,msync:gt.stream_ops.msync}},link:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,readlink:gt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:_t.chrdev_stream_ops}});var r=_t.createNode(t,e,n,i);return _t.isDir(r.mode)?(r.node_ops=gt.ops_table.dir.node,r.stream_ops=gt.ops_table.dir.stream,r.contents={}):_t.isFile(r.mode)?(r.node_ops=gt.ops_table.file.node,r.stream_ops=gt.ops_table.file.stream,r.usedBytes=0,r.contents=null):_t.isLink(r.mode)?(r.node_ops=gt.ops_table.link.node,r.stream_ops=gt.ops_table.link.stream):_t.isChrdev(r.mode)&&(r.node_ops=gt.ops_table.chrdev.node,r.stream_ops=gt.ops_table.chrdev.stream),r.timestamp=Date.now(),t&&(t.contents[e]=r),r},getFileDataAsRegularArray:function(t){if(t.contents&&t.contents.subarray){for(var e=[],n=0;n<t.usedBytes;++n)e.push(t.contents[n]);return e}return t.contents},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){e=Math.max(e,n*(n<1048576?2:1.125)|0),0!=n&&(e=Math.max(e,256));var i=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(i.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e){if(0==e)return t.contents=null,void(t.usedBytes=0);if(!t.contents||t.contents.subarray){var n=t.contents;return t.contents=new Uint8Array(new ArrayBuffer(e)),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),void(t.usedBytes=e)}if(t.contents||(t.contents=[]),t.contents.length>e)t.contents.length=e;else for(;t.contents.length<e;)t.contents.push(0);t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=_t.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,_t.isDir(t.mode)?e.size=4096:_t.isFile(t.mode)?e.size=t.usedBytes:_t.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&gt.resizeFileStorage(t,e.size)},lookup:function(t,e){throw _t.genericErrors[44]},mknod:function(t,e,n,i){return gt.createNode(t,e,n,i)},rename:function(t,e,n){if(_t.isDir(t.mode)){var i;try{i=_t.lookupNode(e,n)}catch(t){}if(i)for(var r in i.contents)throw new _t.ErrnoError(55)}delete t.parent.contents[t.name],t.name=n,e.contents[n]=t,t.parent=e},unlink:function(t,e){delete t.contents[e]},rmdir:function(t,e){var n=_t.lookupNode(t,e);for(var i in n.contents)throw new _t.ErrnoError(55);delete t.contents[e]},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var i=gt.createNode(t,e,41471,0);return i.link=n,i},readlink:function(t){if(!_t.isLink(t.mode))throw new _t.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,n,i,r){var o=t.node.contents;if(r>=t.node.usedBytes)return 0;var a=Math.min(t.node.usedBytes-r,i);if(a>8&&o.subarray)e.set(o.subarray(r,r+a),n);else for(var s=0;s<a;s++)e[n+s]=o[r+s];return a},write:function(t,e,n,i,r,o){if(!i)return 0;var a=t.node;if(a.timestamp=Date.now(),e.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===r)return a.contents=new Uint8Array(e.subarray(n,n+i)),a.usedBytes=i,i;if(r+i<=a.usedBytes)return a.contents.set(e.subarray(n,n+i),r),i}if(gt.expandFileStorage(a,r+i),a.contents.subarray&&e.subarray)a.contents.set(e.subarray(n,n+i),r);else for(var s=0;s<i;s++)a.contents[r+s]=e[n+s];return a.usedBytes=Math.max(a.usedBytes,r+i),i},llseek:function(t,e,n){var i=e;if(1===n?i+=t.position:2===n&&_t.isFile(t.node.mode)&&(i+=t.node.usedBytes),i<0)throw new _t.ErrnoError(28);return i},allocate:function(t,e,n){gt.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,e,n,i,r,o,a){if(!_t.isFile(t.node.mode))throw new _t.ErrnoError(43);var s,l,c=t.node.contents;if(2&a||c.buffer!==e&&c.buffer!==e.buffer){(r>0||r+i<t.node.usedBytes)&&(c=c.subarray?c.subarray(r,r+i):Array.prototype.slice.call(c,r,r+i)),l=!0;var A=e.buffer==M.buffer;if(!(s=Ve(i)))throw new _t.ErrnoError(48);(A?M:e).set(c,s)}else l=!1,s=c.byteOffset;return{ptr:s,allocated:l}},msync:function(t,e,n,i,r){if(!_t.isFile(t.node.mode))throw new _t.ErrnoError(43);return 2&r||gt.stream_ops.write(t,e,0,i,n,!1),0}}},yt={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var t=null;return"object"==typeof window&&(t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),x(t,"IDBFS used, but indexedDB not supported"),t},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(t){return gt.mount.apply(null,arguments)},syncfs:function(t,e,n){yt.getLocalSet(t,(function(i,r){if(i)return n(i);yt.getRemoteSet(t,(function(t,i){if(t)return n(t);var o=e?i:r,a=e?r:i;yt.reconcile(o,a,n)}))}))},getDB:function(t,e){var n,i=yt.dbs[t];if(i)return e(null,i);try{n=yt.indexedDB().open(t,yt.DB_VERSION)}catch(t){return e(t)}if(!n)return e("Unable to connect to IndexedDB");n.onupgradeneeded=function(t){var e,n=t.target.result,i=t.target.transaction;(e=n.objectStoreNames.contains(yt.DB_STORE_NAME)?i.objectStore(yt.DB_STORE_NAME):n.createObjectStore(yt.DB_STORE_NAME)).indexNames.contains("timestamp")||e.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){i=n.result,yt.dbs[t]=i,e(null,i)},n.onerror=function(t){e(this.error),t.preventDefault()}},getLocalSet:function(t,e){var n={};function i(t){return"."!==t&&".."!==t}function r(t){return function(e){return pt.join2(t,e)}}for(var o=_t.readdir(t.mountpoint).filter(i).map(r(t.mountpoint));o.length;){var a,s=o.pop();try{a=_t.stat(s)}catch(t){return e(t)}_t.isDir(a.mode)&&o.push.apply(o,_t.readdir(s).filter(i).map(r(s))),n[s]={timestamp:a.mtime}}return e(null,{type:"local",entries:n})},getRemoteSet:function(t,e){var n={};yt.getDB(t.mountpoint,(function(t,i){if(t)return e(t);try{var r=i.transaction([yt.DB_STORE_NAME],"readonly");r.onerror=function(t){e(this.error),t.preventDefault()},r.objectStore(yt.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(t){var r=t.target.result;if(!r)return e(null,{type:"remote",db:i,entries:n});n[r.primaryKey]={timestamp:r.key},r.continue()}}catch(t){return e(t)}}))},loadLocalEntry:function(t,e){var n,i;try{i=_t.lookupPath(t).node,n=_t.stat(t)}catch(t){return e(t)}return _t.isDir(n.mode)?e(null,{timestamp:n.mtime,mode:n.mode}):_t.isFile(n.mode)?(i.contents=gt.getFileDataAsTypedArray(i),e(null,{timestamp:n.mtime,mode:n.mode,contents:i.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(t,e,n){try{if(_t.isDir(e.mode))_t.mkdir(t,e.mode);else{if(!_t.isFile(e.mode))return n(new Error("node type not supported"));_t.writeFile(t,e.contents,{canOwn:!0})}_t.chmod(t,e.mode),_t.utime(t,e.timestamp,e.timestamp)}catch(t){return n(t)}n(null)},removeLocalEntry:function(t,e){try{_t.lookupPath(t);var n=_t.stat(t);_t.isDir(n.mode)?_t.rmdir(t):_t.isFile(n.mode)&&_t.unlink(t)}catch(t){return e(t)}e(null)},loadRemoteEntry:function(t,e,n){var i=t.get(e);i.onsuccess=function(t){n(null,t.target.result)},i.onerror=function(t){n(this.error),t.preventDefault()}},storeRemoteEntry:function(t,e,n,i){var r=t.put(n,e);r.onsuccess=function(){i(null)},r.onerror=function(t){i(this.error),t.preventDefault()}},removeRemoteEntry:function(t,e,n){var i=t.delete(e);i.onsuccess=function(){n(null)},i.onerror=function(t){n(this.error),t.preventDefault()}},reconcile:function(t,e,n){var i=0,r=[];Object.keys(t.entries).forEach((function(n){var o=t.entries[n],a=e.entries[n];(!a||o.timestamp>a.timestamp)&&(r.push(n),i++)}));var o=[];if(Object.keys(e.entries).forEach((function(n){e.entries[n],t.entries[n]||(o.push(n),i++)})),!i)return n(null);var a=!1,s=("remote"===t.type?t.db:e.db).transaction([yt.DB_STORE_NAME],"readwrite"),l=s.objectStore(yt.DB_STORE_NAME);function c(t){if(t&&!a)return a=!0,n(t)}s.onerror=function(t){c(this.error),t.preventDefault()},s.oncomplete=function(t){a||n(null)},r.sort().forEach((function(t){"local"===e.type?yt.loadRemoteEntry(l,t,(function(e,n){if(e)return c(e);yt.storeLocalEntry(t,n,c)})):yt.loadLocalEntry(t,(function(e,n){if(e)return c(e);yt.storeRemoteEntry(l,t,n,c)}))})),o.sort().reverse().forEach((function(t){"local"===e.type?yt.removeLocalEntry(t,c):yt.removeRemoteEntry(l,t,c)}))}},vt={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(t){x(s),vt.reader||(vt.reader=new FileReaderSync);var e=vt.createNode(null,"/",vt.DIR_MODE,0),n={};function i(t){for(var i=t.split("/"),r=e,o=0;o<i.length-1;o++){var a=i.slice(0,o+1).join("/");n[a]||(n[a]=vt.createNode(r,i[o],vt.DIR_MODE,0)),r=n[a]}return r}function r(t){var e=t.split("/");return e[e.length-1]}return Array.prototype.forEach.call(t.opts.files||[],(function(t){vt.createNode(i(t.name),r(t.name),vt.FILE_MODE,0,t,t.lastModifiedDate)})),(t.opts.blobs||[]).forEach((function(t){vt.createNode(i(t.name),r(t.name),vt.FILE_MODE,0,t.data)})),(t.opts.packages||[]).forEach((function(t){t.metadata.files.forEach((function(e){var n=e.filename.substr(1);vt.createNode(i(n),r(n),vt.FILE_MODE,0,t.blob.slice(e.start,e.end))}))})),e},createNode:function(t,e,n,i,r,o){var a=_t.createNode(t,e,n);return a.mode=n,a.node_ops=vt.node_ops,a.stream_ops=vt.stream_ops,a.timestamp=(o||new Date).getTime(),x(vt.FILE_MODE!==vt.DIR_MODE),n===vt.FILE_MODE?(a.size=r.size,a.contents=r):(a.size=4096,a.contents={}),t&&(t.contents[e]=a),a},node_ops:{getattr:function(t){return{dev:1,ino:void 0,mode:t.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:t.size,atime:new Date(t.timestamp),mtime:new Date(t.timestamp),ctime:new Date(t.timestamp),blksize:4096,blocks:Math.ceil(t.size/4096)}},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp)},lookup:function(t,e){throw new _t.ErrnoError(44)},mknod:function(t,e,n,i){throw new _t.ErrnoError(63)},rename:function(t,e,n){throw new _t.ErrnoError(63)},unlink:function(t,e){throw new _t.ErrnoError(63)},rmdir:function(t,e){throw new _t.ErrnoError(63)},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){throw new _t.ErrnoError(63)},readlink:function(t){throw new _t.ErrnoError(63)}},stream_ops:{read:function(t,e,n,i,r){if(r>=t.node.size)return 0;var o=t.node.contents.slice(r,r+i),a=vt.reader.readAsArrayBuffer(o);return e.set(new Uint8Array(a),n),o.size},write:function(t,e,n,i,r){throw new _t.ErrnoError(29)},llseek:function(t,e,n){var i=e;if(1===n?i+=t.position:2===n&&_t.isFile(t.node.mode)&&(i+=t.node.size),i<0)throw new _t.ErrnoError(28);return i}}},_t={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof _t.ErrnoError))throw t+" : "+function(){var t=function(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}();return r.extraStackTrace&&(t+="\n"+r.extraStackTrace()),function(t){return t.replace(/\b_Z[\w\d_]+/g,(function(t){var e=function(t){var e=r.___cxa_demangle||r.__cxa_demangle;x(e);try{var n=t;n.startsWith("__Z")&&(n=n.substr(1));var i=R(n)+1,o=Ve(i);U(n,o,i);var a=Ve(4),s=e(o,0,0,a);if(0===S[a>>2]&&s)return k(s)}catch(t){}finally{o&&ze(o),a&&ze(a),s&&ze(s)}return t}(t);return t===e?t:e+" ["+t+"]"}))}(t)}();return ht(t.errno)},lookupPath:function(t,e){if(e=e||{},!(t=ft.resolve(_t.cwd(),t)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var i in n)void 0===e[i]&&(e[i]=n[i]);if(e.recurse_count>8)throw new _t.ErrnoError(32);for(var r=pt.normalizeArray(t.split("/").filter((function(t){return!!t})),!1),o=_t.root,a="/",s=0;s<r.length;s++){var l=s===r.length-1;if(l&&e.parent)break;if(o=_t.lookupNode(o,r[s]),a=pt.join2(a,r[s]),_t.isMountpoint(o)&&(!l||l&&e.follow_mount)&&(o=o.mounted.root),!l||e.follow)for(var c=0;_t.isLink(o.mode);){var A=_t.readlink(a);if(a=ft.resolve(pt.dirname(a),A),o=_t.lookupPath(a,{recurse_count:e.recurse_count}).node,c++>40)throw new _t.ErrnoError(32)}}return{path:a,node:o}},getPath:function(t){for(var e;;){if(_t.isRoot(t)){var n=t.mount.mountpoint;return e?"/"!==n[n.length-1]?n+"/"+e:n+e:n}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:function(t,e){for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i)|0;return(t+n>>>0)%_t.nameTable.length},hashAddNode:function(t){var e=_t.hashName(t.parent.id,t.name);t.name_next=_t.nameTable[e],_t.nameTable[e]=t},hashRemoveNode:function(t){var e=_t.hashName(t.parent.id,t.name);if(_t.nameTable[e]===t)_t.nameTable[e]=t.name_next;else for(var n=_t.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:function(t,e){var n=_t.mayLookup(t);if(n)throw new _t.ErrnoError(n,t);for(var i=_t.hashName(t.id,e),r=_t.nameTable[i];r;r=r.name_next){var o=r.name;if(r.parent.id===t.id&&o===e)return r}return _t.lookup(t,e)},createNode:function(t,e,n,i){_t.FSNode||(_t.FSNode=function(t,e,n,i){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=_t.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=i},_t.FSNode.prototype={},Object.defineProperties(_t.FSNode.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return _t.isDir(this.mode)}},isDevice:{get:function(){return _t.isChrdev(this.mode)}}}));var r=new _t.FSNode(t,e,n,i);return _t.hashAddNode(r),r},destroyNode:function(t){_t.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},isLink:function(t){return 40960==(61440&t)},isChrdev:function(t){return 8192==(61440&t)},isBlkdev:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return!(49152&~t)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(t){var e=_t.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:function(t,e){return _t.ignorePermissions||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2},mayLookup:function(t){return _t.nodePermissions(t,"x")||(t.node_ops.lookup?0:2)},mayCreate:function(t,e){try{return _t.lookupNode(t,e),20}catch(t){}return _t.nodePermissions(t,"wx")},mayDelete:function(t,e,n){var i;try{i=_t.lookupNode(t,e)}catch(t){return t.errno}var r=_t.nodePermissions(t,"wx");if(r)return r;if(n){if(!_t.isDir(i.mode))return 54;if(_t.isRoot(i)||_t.getPath(i)===_t.cwd())return 10}else if(_t.isDir(i.mode))return 31;return 0},mayOpen:function(t,e){return t?_t.isLink(t.mode)?32:_t.isDir(t.mode)&&("r"!==_t.flagsToPermissionString(e)||512&e)?31:_t.nodePermissions(t,_t.flagsToPermissionString(e)):44},MAX_OPEN_FDS:4096,nextfd:function(t,e){t=t||0,e=e||_t.MAX_OPEN_FDS;for(var n=t;n<=e;n++)if(!_t.streams[n])return n;throw new _t.ErrnoError(33)},getStream:function(t){return _t.streams[t]},createStream:function(t,e,n){_t.FSStream||(_t.FSStream=function(){},_t.FSStream.prototype={},Object.defineProperties(_t.FSStream.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new _t.FSStream;for(var r in t)i[r]=t[r];t=i;var o=_t.nextfd(e,n);return t.fd=o,_t.streams[o]=t,t},closeStream:function(t){_t.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=_t.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new _t.ErrnoError(70)}},major:function(t){return t>>8},minor:function(t){return 255&t},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){_t.devices[t]={stream_ops:e}},getDevice:function(t){return _t.devices[t]},getMounts:function(t){for(var e=[],n=[t];n.length;){var i=n.pop();e.push(i),n.push.apply(n,i.mounts)}return e},syncfs:function(t,e){"function"==typeof t&&(e=t,t=!1),_t.syncFSRequests++,_t.syncFSRequests>1&&console.log("warning: "+_t.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=_t.getMounts(_t.root.mount),i=0;function r(t){return _t.syncFSRequests--,e(t)}function o(t){if(t)return o.errored?void 0:(o.errored=!0,r(t));++i>=n.length&&r(null)}n.forEach((function(e){if(!e.type.syncfs)return o(null);e.type.syncfs(e,t,o)}))},mount:function(t,e,n){var i,r="/"===n,o=!n;if(r&&_t.root)throw new _t.ErrnoError(10);if(!r&&!o){var a=_t.lookupPath(n,{follow_mount:!1});if(n=a.path,i=a.node,_t.isMountpoint(i))throw new _t.ErrnoError(10);if(!_t.isDir(i.mode))throw new _t.ErrnoError(54)}var s={type:t,opts:e,mountpoint:n,mounts:[]},l=t.mount(s);return l.mount=s,s.root=l,r?_t.root=l:i&&(i.mounted=s,i.mount&&i.mount.mounts.push(s)),l},unmount:function(t){var e=_t.lookupPath(t,{follow_mount:!1});if(!_t.isMountpoint(e.node))throw new _t.ErrnoError(28);var n=e.node,i=n.mounted,r=_t.getMounts(i);Object.keys(_t.nameTable).forEach((function(t){for(var e=_t.nameTable[t];e;){var n=e.name_next;-1!==r.indexOf(e.mount)&&_t.destroyNode(e),e=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(i);n.mount.mounts.splice(o,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,n){var i=_t.lookupPath(t,{parent:!0}).node,r=pt.basename(t);if(!r||"."===r||".."===r)throw new _t.ErrnoError(28);var o=_t.mayCreate(i,r);if(o)throw new _t.ErrnoError(o);if(!i.node_ops.mknod)throw new _t.ErrnoError(63);return i.node_ops.mknod(i,r,e,n)},create:function(t,e){return e=void 0!==e?e:438,e&=4095,e|=32768,_t.mknod(t,e,0)},mkdir:function(t,e){return e=void 0!==e?e:511,e&=1023,e|=16384,_t.mknod(t,e,0)},mkdirTree:function(t,e){for(var n=t.split("/"),i="",r=0;r<n.length;++r)if(n[r]){i+="/"+n[r];try{_t.mkdir(i,e)}catch(t){if(20!=t.errno)throw t}}},mkdev:function(t,e,n){return void 0===n&&(n=e,e=438),e|=8192,_t.mknod(t,e,n)},symlink:function(t,e){if(!ft.resolve(t))throw new _t.ErrnoError(44);var n=_t.lookupPath(e,{parent:!0}).node;if(!n)throw new _t.ErrnoError(44);var i=pt.basename(e),r=_t.mayCreate(n,i);if(r)throw new _t.ErrnoError(r);if(!n.node_ops.symlink)throw new _t.ErrnoError(63);return n.node_ops.symlink(n,i,t)},rename:function(t,e){var n,i,r=pt.dirname(t),o=pt.dirname(e),a=pt.basename(t),s=pt.basename(e);try{n=_t.lookupPath(t,{parent:!0}).node,i=_t.lookupPath(e,{parent:!0}).node}catch(t){throw new _t.ErrnoError(10)}if(!n||!i)throw new _t.ErrnoError(44);if(n.mount!==i.mount)throw new _t.ErrnoError(75);var l,c=_t.lookupNode(n,a),A=ft.relative(t,o);if("."!==A.charAt(0))throw new _t.ErrnoError(28);if("."!==(A=ft.relative(e,r)).charAt(0))throw new _t.ErrnoError(55);try{l=_t.lookupNode(i,s)}catch(t){}if(c!==l){var u=_t.isDir(c.mode),d=_t.mayDelete(n,a,u);if(d)throw new _t.ErrnoError(d);if(d=l?_t.mayDelete(i,s,u):_t.mayCreate(i,s))throw new _t.ErrnoError(d);if(!n.node_ops.rename)throw new _t.ErrnoError(63);if(_t.isMountpoint(c)||l&&_t.isMountpoint(l))throw new _t.ErrnoError(10);if(i!==n&&(d=_t.nodePermissions(n,"w")))throw new _t.ErrnoError(d);try{_t.trackingDelegate.willMovePath&&_t.trackingDelegate.willMovePath(t,e)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}_t.hashRemoveNode(c);try{n.node_ops.rename(c,i,s)}catch(t){throw t}finally{_t.hashAddNode(c)}try{_t.trackingDelegate.onMovePath&&_t.trackingDelegate.onMovePath(t,e)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}}},rmdir:function(t){var e=_t.lookupPath(t,{parent:!0}).node,n=pt.basename(t),i=_t.lookupNode(e,n),r=_t.mayDelete(e,n,!0);if(r)throw new _t.ErrnoError(r);if(!e.node_ops.rmdir)throw new _t.ErrnoError(63);if(_t.isMountpoint(i))throw new _t.ErrnoError(10);try{_t.trackingDelegate.willDeletePath&&_t.trackingDelegate.willDeletePath(t)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,n),_t.destroyNode(i);try{_t.trackingDelegate.onDeletePath&&_t.trackingDelegate.onDeletePath(t)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readdir:function(t){var e=_t.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new _t.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(t){var e=_t.lookupPath(t,{parent:!0}).node,n=pt.basename(t),i=_t.lookupNode(e,n),r=_t.mayDelete(e,n,!1);if(r)throw new _t.ErrnoError(r);if(!e.node_ops.unlink)throw new _t.ErrnoError(63);if(_t.isMountpoint(i))throw new _t.ErrnoError(10);try{_t.trackingDelegate.willDeletePath&&_t.trackingDelegate.willDeletePath(t)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.unlink(e,n),_t.destroyNode(i);try{_t.trackingDelegate.onDeletePath&&_t.trackingDelegate.onDeletePath(t)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readlink:function(t){var e=_t.lookupPath(t).node;if(!e)throw new _t.ErrnoError(44);if(!e.node_ops.readlink)throw new _t.ErrnoError(28);return ft.resolve(_t.getPath(e.parent),e.node_ops.readlink(e))},stat:function(t,e){var n=_t.lookupPath(t,{follow:!e}).node;if(!n)throw new _t.ErrnoError(44);if(!n.node_ops.getattr)throw new _t.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(t){return _t.stat(t,!0)},chmod:function(t,e,n){var i;if(!(i="string"==typeof t?_t.lookupPath(t,{follow:!n}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);i.node_ops.setattr(i,{mode:4095&e|-4096&i.mode,timestamp:Date.now()})},lchmod:function(t,e){_t.chmod(t,e,!0)},fchmod:function(t,e){var n=_t.getStream(t);if(!n)throw new _t.ErrnoError(8);_t.chmod(n.node,e)},chown:function(t,e,n,i){var r;if(!(r="string"==typeof t?_t.lookupPath(t,{follow:!i}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(t,e,n){_t.chown(t,e,n,!0)},fchown:function(t,e,n){var i=_t.getStream(t);if(!i)throw new _t.ErrnoError(8);_t.chown(i.node,e,n)},truncate:function(t,e){if(e<0)throw new _t.ErrnoError(28);var n;if(!(n="string"==typeof t?_t.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new _t.ErrnoError(63);if(_t.isDir(n.mode))throw new _t.ErrnoError(31);if(!_t.isFile(n.mode))throw new _t.ErrnoError(28);var i=_t.nodePermissions(n,"w");if(i)throw new _t.ErrnoError(i);n.node_ops.setattr(n,{size:e,timestamp:Date.now()})},ftruncate:function(t,e){var n=_t.getStream(t);if(!n)throw new _t.ErrnoError(8);if(!(2097155&n.flags))throw new _t.ErrnoError(28);_t.truncate(n.node,e)},utime:function(t,e,n){var i=_t.lookupPath(t,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(e,n)})},open:function(t,e,n,i,o){if(""===t)throw new _t.ErrnoError(44);var a;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?_t.modeStringToFlags(e):e)?4095&n|32768:0,"object"==typeof t)a=t;else{t=pt.normalize(t);try{a=_t.lookupPath(t,{follow:!(131072&e)}).node}catch(t){}}var s=!1;if(64&e)if(a){if(128&e)throw new _t.ErrnoError(20)}else a=_t.mknod(t,n,0),s=!0;if(!a)throw new _t.ErrnoError(44);if(_t.isChrdev(a.mode)&&(e&=-513),65536&e&&!_t.isDir(a.mode))throw new _t.ErrnoError(54);if(!s){var l=_t.mayOpen(a,e);if(l)throw new _t.ErrnoError(l)}512&e&&_t.truncate(a,0),e&=-641;var c=_t.createStream({node:a,path:_t.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,o);c.stream_ops.open&&c.stream_ops.open(c),!r.logReadFiles||1&e||(_t.readFiles||(_t.readFiles={}),t in _t.readFiles||(_t.readFiles[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{if(_t.trackingDelegate.onOpenFile){var A=0;1!=(2097155&e)&&(A|=_t.tracking.openFlags.READ),2097155&e&&(A|=_t.tracking.openFlags.WRITE),_t.trackingDelegate.onOpenFile(t,A)}}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return c},close:function(t){if(_t.isClosed(t))throw new _t.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{_t.closeStream(t.fd)}t.fd=null},isClosed:function(t){return null===t.fd},llseek:function(t,e,n){if(_t.isClosed(t))throw new _t.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new _t.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new _t.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:function(t,e,n,i,r){if(i<0||r<0)throw new _t.ErrnoError(28);if(_t.isClosed(t))throw new _t.ErrnoError(8);if(1==(2097155&t.flags))throw new _t.ErrnoError(8);if(_t.isDir(t.node.mode))throw new _t.ErrnoError(31);if(!t.stream_ops.read)throw new _t.ErrnoError(28);var o=void 0!==r;if(o){if(!t.seekable)throw new _t.ErrnoError(70)}else r=t.position;var a=t.stream_ops.read(t,e,n,i,r);return o||(t.position+=a),a},write:function(t,e,n,i,r,o){if(i<0||r<0)throw new _t.ErrnoError(28);if(_t.isClosed(t))throw new _t.ErrnoError(8);if(!(2097155&t.flags))throw new _t.ErrnoError(8);if(_t.isDir(t.node.mode))throw new _t.ErrnoError(31);if(!t.stream_ops.write)throw new _t.ErrnoError(28);1024&t.flags&&_t.llseek(t,0,2);var a=void 0!==r;if(a){if(!t.seekable)throw new _t.ErrnoError(70)}else r=t.position;var s=t.stream_ops.write(t,e,n,i,r,o);a||(t.position+=s);try{t.path&&_t.trackingDelegate.onWriteToFile&&_t.trackingDelegate.onWriteToFile(t.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+e.message)}return s},allocate:function(t,e,n){if(_t.isClosed(t))throw new _t.ErrnoError(8);if(e<0||n<=0)throw new _t.ErrnoError(28);if(!(2097155&t.flags))throw new _t.ErrnoError(8);if(!_t.isFile(t.node.mode)&&!_t.isDir(t.node.mode))throw new _t.ErrnoError(43);if(!t.stream_ops.allocate)throw new _t.ErrnoError(138);t.stream_ops.allocate(t,e,n)},mmap:function(t,e,n,i,r,o,a){if(2&o&&!(2&a)&&2!=(2097155&t.flags))throw new _t.ErrnoError(2);if(1==(2097155&t.flags))throw new _t.ErrnoError(2);if(!t.stream_ops.mmap)throw new _t.ErrnoError(43);return t.stream_ops.mmap(t,e,n,i,r,o,a)},msync:function(t,e,n,i,r){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,n,i,r):0},munmap:function(t){return 0},ioctl:function(t,e,n){if(!t.stream_ops.ioctl)throw new _t.ErrnoError(59);return t.stream_ops.ioctl(t,e,n)},readFile:function(t,e){if((e=e||{}).flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var n,i=_t.open(t,e.flags),r=_t.stat(t).size,o=new Uint8Array(r);return _t.read(i,o,0,r,0),"utf8"===e.encoding?n=P(o,0):"binary"===e.encoding&&(n=o),_t.close(i),n},writeFile:function(t,e,n){(n=n||{}).flags=n.flags||"w";var i=_t.open(t,n.flags,n.mode);if("string"==typeof e){var r=new Uint8Array(R(e)+1),o=F(e,r,0,r.length);_t.write(i,r,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");_t.write(i,e,0,e.byteLength,void 0,n.canOwn)}_t.close(i)},cwd:function(){return _t.currentPath},chdir:function(t){var e=_t.lookupPath(t,{follow:!0});if(null===e.node)throw new _t.ErrnoError(44);if(!_t.isDir(e.node.mode))throw new _t.ErrnoError(54);var n=_t.nodePermissions(e.node,"x");if(n)throw new _t.ErrnoError(n);_t.currentPath=e.path},createDefaultDirectories:function(){_t.mkdir("/tmp"),_t.mkdir("/home"),_t.mkdir("/home/web_user")},createDefaultDevices:function(){var t;if(_t.mkdir("/dev"),_t.registerDevice(_t.makedev(1,3),{read:function(){return 0},write:function(t,e,n,i,r){return i}}),_t.mkdev("/dev/null",_t.makedev(1,3)),mt.register(_t.makedev(5,0),mt.default_tty_ops),mt.register(_t.makedev(6,0),mt.default_tty1_ops),_t.mkdev("/dev/tty",_t.makedev(5,0)),_t.mkdev("/dev/tty1",_t.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);t=function(){return crypto.getRandomValues(e),e[0]}}t||(t=function(){nt("random_device")}),_t.createDevice("/dev","random",t),_t.createDevice("/dev","urandom",t),_t.mkdir("/dev/shm"),_t.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){_t.mkdir("/proc"),_t.mkdir("/proc/self"),_t.mkdir("/proc/self/fd"),_t.mount({mount:function(){var t=_t.createNode("/proc/self","fd",16895,73);return t.node_ops={lookup:function(t,e){var n=+e,i=_t.getStream(n);if(!i)throw new _t.ErrnoError(8);var r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return i.path}}};return r.parent=r,r}},t}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?_t.createDevice("/dev","stdin",r.stdin):_t.symlink("/dev/tty","/dev/stdin"),r.stdout?_t.createDevice("/dev","stdout",null,r.stdout):_t.symlink("/dev/tty","/dev/stdout"),r.stderr?_t.createDevice("/dev","stderr",null,r.stderr):_t.symlink("/dev/tty1","/dev/stderr"),_t.open("/dev/stdin","r"),_t.open("/dev/stdout","w"),_t.open("/dev/stderr","w")},ensureErrnoError:function(){_t.ErrnoError||(_t.ErrnoError=function(t,e){this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error"},_t.ErrnoError.prototype=new Error,_t.ErrnoError.prototype.constructor=_t.ErrnoError,[44].forEach((function(t){_t.genericErrors[t]=new _t.ErrnoError(t),_t.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:function(){_t.ensureErrnoError(),_t.nameTable=new Array(4096),_t.mount(gt,{},"/"),_t.createDefaultDirectories(),_t.createDefaultDevices(),_t.createSpecialDirectories(),_t.filesystems={MEMFS:gt,IDBFS:yt,WORKERFS:vt}},init:function(t,e,n){_t.init.initialized=!0,_t.ensureErrnoError(),r.stdin=t||r.stdin,r.stdout=e||r.stdout,r.stderr=n||r.stderr,_t.createStandardStreams()},quit:function(){_t.init.initialized=!1;var t=r._fflush;t&&t(0);for(var e=0;e<_t.streams.length;e++){var n=_t.streams[e];n&&_t.close(n)}},getMode:function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n},joinPath:function(t,e){var n=pt.join.apply(null,t);return e&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(t,e){return ft.resolve(e,t)},standardizePath:function(t){return pt.normalize(t)},findObject:function(t,e){var n=_t.analyzePath(t,e);return n.exists?n.object:(ht(n.error),null)},analyzePath:function(t,e){try{t=(i=_t.lookupPath(t,{follow:!e})).path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=_t.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=i.path,n.parentObject=i.node,n.name=pt.basename(t),i=_t.lookupPath(t,{follow:!e}),n.exists=!0,n.path=i.path,n.object=i.node,n.name=i.node.name,n.isRoot="/"===i.path}catch(t){n.error=t.errno}return n},createFolder:function(t,e,n,i){var r=pt.join2("string"==typeof t?t:_t.getPath(t),e),o=_t.getMode(n,i);return _t.mkdir(r,o)},createPath:function(t,e,n,i){t="string"==typeof t?t:_t.getPath(t);for(var r=e.split("/").reverse();r.length;){var o=r.pop();if(o){var a=pt.join2(t,o);try{_t.mkdir(a)}catch(t){}t=a}}return a},createFile:function(t,e,n,i,r){var o=pt.join2("string"==typeof t?t:_t.getPath(t),e),a=_t.getMode(i,r);return _t.create(o,a)},createDataFile:function(t,e,n,i,r,o){var a=e?pt.join2("string"==typeof t?t:_t.getPath(t),e):t,s=_t.getMode(i,r),l=_t.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),A=0,u=n.length;A<u;++A)c[A]=n.charCodeAt(A);n=c}_t.chmod(l,146|s);var d=_t.open(l,"w");_t.write(d,n,0,n.length,0,o),_t.close(d),_t.chmod(l,s)}return l},createDevice:function(t,e,n,i){var r=pt.join2("string"==typeof t?t:_t.getPath(t),e),o=_t.getMode(!!n,!!i);_t.createDevice.major||(_t.createDevice.major=64);var a=_t.makedev(_t.createDevice.major++,0);return _t.registerDevice(a,{open:function(t){t.seekable=!1},close:function(t){i&&i.buffer&&i.buffer.length&&i(10)},read:function(t,e,i,r,o){for(var a=0,s=0;s<r;s++){var l;try{l=n()}catch(t){throw new _t.ErrnoError(29)}if(void 0===l&&0===a)throw new _t.ErrnoError(6);if(null==l)break;a++,e[i+s]=l}return a&&(t.node.timestamp=Date.now()),a},write:function(t,e,n,r,o){for(var a=0;a<r;a++)try{i(e[n+a])}catch(t){throw new _t.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),a}}),_t.mkdev(r,o,a)},createLink:function(t,e,n,i,r){var o=pt.join2("string"==typeof t?t:_t.getPath(t),e);return _t.symlink(n,o)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!u)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=Re(u(t.url),!0),t.usedBytes=t.contents.length}catch(t){e=!1}return e||ht(29),e},createLazyFile:function(t,e,n,i,r){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[e]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var e,i=Number(t.getResponseHeader("Content-length")),r=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,o=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,a=1048576;r||(a=i);var s=this;s.setDataGetter((function(t){var e=t*a,r=(t+1)*a-1;if(r=Math.min(r,i-1),void 0===s.chunks[t]&&(s.chunks[t]=function(t,e){if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>i-1)throw new Error("only "+i+" bytes available! programmer error!");var r=new XMLHttpRequest;if(r.open("GET",n,!1),i!==a&&r.setRequestHeader("Range","bytes="+t+"-"+e),"undefined"!=typeof Uint8Array&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.send(null),!(r.status>=200&&r.status<300||304===r.status))throw new Error("Couldn't load "+n+". Status: "+r.status);return void 0!==r.response?new Uint8Array(r.response||[]):Re(r.responseText||"",!0)}(e,r)),void 0===s.chunks[t])throw new Error("doXHR failed!");return s.chunks[t]})),!o&&i||(a=i=1,i=this.getter(0).length,a=i,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!s)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:a}}else l={isDevice:!1,url:n};var c=_t.createFile(t,e,l,i,r);l.contents?c.contents=l.contents:l.url&&(c.contents=null,c.url=l.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var A={};return Object.keys(c.stream_ops).forEach((function(t){var e=c.stream_ops[t];A[t]=function(){if(!_t.forceLoadFile(c))throw new _t.ErrnoError(29);return e.apply(null,arguments)}})),A.read=function(t,e,n,i,r){if(!_t.forceLoadFile(c))throw new _t.ErrnoError(29);var o=t.node.contents;if(r>=o.length)return 0;var a=Math.min(o.length-r,i);if(o.slice)for(var s=0;s<a;s++)e[n+s]=o[r+s];else for(s=0;s<a;s++)e[n+s]=o.get(r+s);return a},c.stream_ops=A,c},createPreloadedFile:function(t,e,n,i,o,a,s,l,c,A){ut.init();var u=e?ft.resolve(pt.join2(t,e)):t;function d(n){function d(n){A&&A(),l||_t.createDataFile(t,e,n,i,o,c),a&&a(),et()}var h=!1;r.preloadPlugins.forEach((function(t){h||t.canHandle(u)&&(t.handle(n,u,d,(function(){s&&s(),et()})),h=!0)})),h||d(n)}tt(),"string"==typeof n?ut.asyncLoad(n,(function(t){d(t)}),s):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,n){e=e||function(){},n=n||function(){};var i=_t.indexedDB();try{var r=i.open(_t.DB_NAME(),_t.DB_VERSION)}catch(t){return n(t)}r.onupgradeneeded=function(){console.log("creating db"),r.result.createObjectStore(_t.DB_STORE_NAME)},r.onsuccess=function(){var i=r.result.transaction([_t.DB_STORE_NAME],"readwrite"),o=i.objectStore(_t.DB_STORE_NAME),a=0,s=0,l=t.length;function c(){0==s?e():n()}t.forEach((function(t){var e=o.put(_t.analyzePath(t).object.contents,t);e.onsuccess=function(){++a+s==l&&c()},e.onerror=function(){s++,a+s==l&&c()}})),i.onerror=n},r.onerror=n},loadFilesFromDB:function(t,e,n){e=e||function(){},n=n||function(){};var i=_t.indexedDB();try{var r=i.open(_t.DB_NAME(),_t.DB_VERSION)}catch(t){return n(t)}r.onupgradeneeded=n,r.onsuccess=function(){var i=r.result;try{var o=i.transaction([_t.DB_STORE_NAME],"readonly")}catch(t){return void n(t)}var a=o.objectStore(_t.DB_STORE_NAME),s=0,l=0,c=t.length;function A(){0==l?e():n()}t.forEach((function(t){var e=a.get(t);e.onsuccess=function(){_t.analyzePath(t).exists&&_t.unlink(t),_t.createDataFile(pt.dirname(t),pt.basename(t),e.result,!0,!0,!0),++s+l==c&&A()},e.onerror=function(){l++,s+l==c&&A()}})),o.onerror=n},r.onerror=n}},wt={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(t,e){if("/"!==e[0]){var n;if(-100===t)n=_t.cwd();else{var i=_t.getStream(t);if(!i)throw new _t.ErrnoError(8);n=i.path}e=pt.join2(n,e)}return e},doStat:function(t,e,n){try{var i=t(e)}catch(t){if(t&&t.node&&pt.normalize(e)!==pt.normalize(_t.getPath(t.node)))return-54;throw t}return S[n>>2]=i.dev,S[n+4>>2]=0,S[n+8>>2]=i.ino,S[n+12>>2]=i.mode,S[n+16>>2]=i.nlink,S[n+20>>2]=i.uid,S[n+24>>2]=i.gid,S[n+28>>2]=i.rdev,S[n+32>>2]=0,st=[i.size>>>0,(at=i.size,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],S[n+40>>2]=st[0],S[n+44>>2]=st[1],S[n+48>>2]=4096,S[n+52>>2]=i.blocks,S[n+56>>2]=i.atime.getTime()/1e3|0,S[n+60>>2]=0,S[n+64>>2]=i.mtime.getTime()/1e3|0,S[n+68>>2]=0,S[n+72>>2]=i.ctime.getTime()/1e3|0,S[n+76>>2]=0,st=[i.ino>>>0,(at=i.ino,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],S[n+80>>2]=st[0],S[n+84>>2]=st[1],0},doMsync:function(t,e,n,i){var r=new Uint8Array(L.subarray(t,t+n));_t.msync(e,r,0,n,i)},doMkdir:function(t,e){return"/"===(t=pt.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),_t.mkdir(t,e,0),0},doMknod:function(t,e,n){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return _t.mknod(t,e,n),0},doReadlink:function(t,e,n){if(n<=0)return-28;var i=_t.readlink(t),r=Math.min(n,R(i)),o=M[e+r];return U(i,e,n+1),M[e+r]=o,r},doAccess:function(t,e){if(-8&e)return-28;var n;if(!(n=_t.lookupPath(t,{follow:!0}).node))return-44;var i="";return 4&e&&(i+="r"),2&e&&(i+="w"),1&e&&(i+="x"),i&&_t.nodePermissions(n,i)?-2:0},doDup:function(t,e,n){var i=_t.getStream(n);return i&&_t.close(i),_t.open(t,e,0,n,n).fd},doReadv:function(t,e,n,i){for(var r=0,o=0;o<n;o++){var a=S[e+8*o>>2],s=S[e+(8*o+4)>>2],l=_t.read(t,M,a,s,i);if(l<0)return-1;if(r+=l,l<s)break}return r},doWritev:function(t,e,n,i){for(var r=0,o=0;o<n;o++){var a=S[e+8*o>>2],s=S[e+(8*o+4)>>2],l=_t.write(t,M,a,s,i);if(l<0)return-1;r+=l}return r},varargs:0,get:function(t){return wt.varargs+=4,S[wt.varargs-4>>2]},getStr:function(){return k(wt.get())},getStreamFromFD:function(t){void 0===t&&(t=wt.get());var e=_t.getStream(t);if(!e)throw new _t.ErrnoError(8);return e},get64:function(){var t=wt.get();return wt.get(),t},getZero:function(){wt.get()}},xt={};function bt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Mt(t){return this.fromWireType(E[t>>2])}var Lt={},Ct={},Bt={};function St(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function Et(t,e){return t=St(t),new Function("body","return function "+t+'() {\n\t\t"use strict";\t\treturn body.apply(this, arguments);\n};\n')(e)}function Tt(t,e){var n=Et(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Dt=void 0;function It(t){throw new Dt(t)}function Pt(t,e,n){function i(e){var i=n(e);i.length!==t.length&&It("Mismatched type converter count");for(var r=0;r<t.length;++r)Yt(t[r],i[r])}t.forEach((function(t){Bt[t]=e}));var r=new Array(e.length),o=[],a=0;e.forEach((function(t,e){Ct.hasOwnProperty(t)?r[e]=Ct[t]:(o.push(t),Lt.hasOwnProperty(t)||(Lt[t]=[]),Lt[t].push((function(){r[e]=Ct[t],++a===o.length&&i(r)})))})),0===o.length&&i(r)}var kt={};function Ft(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var Ut=void 0;function Rt(t){for(var e="",n=t;L[n];)e+=Ut[L[n++]];return e}var Ot=void 0;function Ht(t){throw new Ot(t)}function Yt(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(t||Ht('type "'+i+'" must have a positive integer typeid pointer'),Ct.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;Ht("Cannot register type '"+i+"' twice")}if(Ct[t]=e,delete Bt[t],Lt.hasOwnProperty(t)){var r=Lt[t];delete Lt[t],r.forEach((function(t){t()}))}}function Qt(t){Ht(t.$$.ptrType.registeredClass.name+" instance already deleted")}var jt=!1;function Nt(t){}function Wt(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function Vt(t){return"undefined"==typeof FinalizationGroup?(Vt=function(t){return t},t):(jt=new FinalizationGroup((function(t){for(var e=t.next();!e.done;e=t.next()){var n=e.value;n.ptr?Wt(n):console.warn("object already deleted: "+n.ptr)}})),Vt=function(t){return jt.register(t,t.$$,t.$$),t},Nt=function(t){jt.unregister(t.$$)},Vt(t))}var zt=void 0,Gt=[];function Kt(){for(;Gt.length;){var t=Gt.pop();t.$$.deleteScheduled=!1,t.delete()}}function Zt(){}var Xt={};function qt(t,e,n){if(void 0===t[e].overloadTable){var i=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||Ht("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[i.argCount]=i}}function Jt(t,e,n){r.hasOwnProperty(t)?((void 0===n||void 0!==r[t].overloadTable&&void 0!==r[t].overloadTable[n])&&Ht("Cannot register public name '"+t+"' twice"),qt(r,t,t),r.hasOwnProperty(n)&&Ht("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),r[t].overloadTable[n]=e):(r[t]=e,void 0!==n&&(r[t].numArguments=n))}function $t(t,e,n,i,r,o,a,s){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=r,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function te(t,e,n){for(;e!==n;)e.upcast||Ht("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function ee(t,e){if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name);var n=e.$$.ptrType.registeredClass;return te(e.$$.ptr,n,this.registeredClass)}function ne(t,e){var n;if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&Ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var i=e.$$.ptrType.registeredClass;if(n=te(e.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&Ht("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:Ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var r=e.clone();n=this.rawShare(n,_e((function(){r.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:Ht("Unsupporting sharing policy")}return n}function ie(t,e){if(null===e)return this.isReference&&Ht("null is not a valid "+this.name),0;e.$$||Ht('Cannot pass "'+we(e)+'" as a '+this.name),e.$$.ptr||Ht("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&Ht("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;return te(e.$$.ptr,n,this.registeredClass)}function re(t,e,n){if(e===n)return t;if(void 0===n.baseClass)return null;var i=re(t,e,n.baseClass);return null===i?null:n.downcast(i)}var oe={};function ae(t,e){return e.ptrType&&e.ptr||It("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&It("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Vt(Object.create(t,{$$:{value:e}}))}function se(t,e,n,i,r,o,a,s,l,c,A){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=i,this.isSmartPointer=r,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=A,r||void 0!==e.baseClass?this.toWireType=ne:i?(this.toWireType=ee,this.destructorFunction=null):(this.toWireType=ie,this.destructorFunction=null)}function le(t,e,n){r.hasOwnProperty(t)||It("Replacing nonexistant public symbol"),void 0!==r[t].overloadTable&&void 0!==n?r[t].overloadTable[n]=e:(r[t]=e,r[t].argCount=n)}function ce(t,e){var n;if(t=Rt(t),void 0!==r["FUNCTION_TABLE_"+t])n=r["FUNCTION_TABLE_"+t][e];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[e];else{var i=r["dynCall_"+t];void 0===i&&void 0===(i=r["dynCall_"+t.replace(/f/g,"d")])&&Ht("No dynCall invoker for signature: "+t),n=function(n){for(var i=[],r=1;r<t.length;++r)i.push("a"+r);var o="return function dynCall_"+t+"_"+e+"("+i.join(", ")+") {\n";return o+="\t\treturn dynCall(rawFunction"+(i.length?", ":"")+i.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(n,e)}(i)}return"function"!=typeof n&&Ht("unknown function pointer with signature "+t+": "+e),n}var Ae=void 0;function ue(t){var e=Ke(t),n=Rt(e);return ze(e),n}function de(t,e){var n=[],i={};throw e.forEach((function t(e){i[e]||Ct[e]||(Bt[e]?Bt[e].forEach(t):(n.push(e),i[e]=!0))})),new Ae(t+": "+n.map(ue).join([", "]))}function he(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=Et(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return r instanceof Object?r:i}function pe(t,e,n,i,r){var o=e.length;o<2&&Ht("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==n,s=!1,l=1;l<e.length;++l)if(null!==e[l]&&void 0===e[l].destructorFunction){s=!0;break}var c="void"!==e[0].name,A="",u="";for(l=0;l<o-2;++l)A+=(0!==l?", ":"")+"arg"+l,u+=(0!==l?", ":"")+"arg"+l+"Wired";var d="return function "+St(t)+"("+A+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(d+="var destructors = [];\n");var h=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],f=[Ht,i,r,bt,e[0],e[1]];for(a&&(d+="var thisWired = classParam.toWireType("+h+", this);\n"),l=0;l<o-2;++l)d+="var arg"+l+"Wired = argType"+l+".toWireType("+h+", arg"+l+"); // "+e[l+2].name+"\n",p.push("argType"+l),f.push(e[l+2]);if(a&&(u="thisWired"+(u.length>0?", ":"")+u),d+=(c?"var rv = ":"")+"invoker(fn"+(u.length>0?", ":"")+u+");\n",s)d+="runDestructors(destructors);\n";else for(l=a?1:2;l<e.length;++l){var m=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(d+=m+"_dtor("+m+"); // "+e[l].name+"\n",p.push(m+"_dtor"),f.push(e[l].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d),he(Function,p).apply(null,f)}function fe(t,e){for(var n=[],i=0;i<t;i++)n.push(S[(e>>2)+i]);return n}function me(t,e,n){return t instanceof Object||Ht(n+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||Ht(n+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||Ht("cannot call emscripten binding method "+n+" on deleted object"),te(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}var ge=[],ye=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ve(t){t>4&&0==--ye[t].refcount&&(ye[t]=void 0,ge.push(t))}function _e(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=ge.length?ge.pop():ye.length;return ye[e]={refcount:1,value:t},e}}function we(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function xe(t,e){switch(e){case 2:return function(t){return this.fromWireType(T[t>>2])};case 3:return function(t){return this.fromWireType(D[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function be(t,e,n){switch(e){case 0:return n?function(t){return M[t]}:function(t){return L[t]};case 1:return n?function(t){return C[t>>1]}:function(t){return B[t>>1]};case 2:return n?function(t){return S[t>>2]}:function(t){return E[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Me(t){return t||Ht("Cannot use deleted val. handle = "+t),ye[t].value}function Le(t,e){var n=Ct[t];return void 0===n&&Ht(e+" has unknown type "+ue(t)),n}var Ce={};function Be(t){var e=Ce[t];return void 0===e?Rt(t):e}var Se=[];function Ee(){return M.length}var Te={};function De(){if(!De.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A};for(var e in Te)t[e]=Te[e];var n=[];for(var e in t)n.push(e+"="+t[e]);De.strings=n}return De.strings}function Ie(t){return t%4==0&&(t%100!=0||t%400==0)}function Pe(t,e){for(var n=0,i=0;i<=e;n+=t[i++]);return n}var ke=[31,29,31,30,31,30,31,31,30,31,30,31],Fe=[31,28,31,30,31,30,31,31,30,31,30,31];function Ue(t,e){for(var n=new Date(t.getTime());e>0;){var i=Ie(n.getFullYear()),r=n.getMonth(),o=(i?ke:Fe)[r];if(!(e>o-n.getDate()))return n.setDate(n.getDate()+e),n;e-=o-n.getDate()+1,n.setDate(1),r<11?n.setMonth(r+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Re(t,e,n){var i=n>0?n:R(t)+1,r=new Array(i),o=F(t,r,0,r.length);return e&&(r.length=o),r}function Oe(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i>255&&(i&=255),e.push(String.fromCharCode(i))}return e.join("")}r.requestFullScreen=function(t,e,n){y("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),r.requestFullScreen=r.requestFullscreen,ut.requestFullScreen(t,e,n)},r.requestFullscreen=function(t,e,n){ut.requestFullscreen(t,e,n)},r.requestAnimationFrame=function(t){ut.requestAnimationFrame(t)},r.setCanvasSize=function(t,e,n){ut.setCanvasSize(t,e,n)},r.pauseMainLoop=function(){ut.mainLoop.pause()},r.resumeMainLoop=function(){ut.mainLoop.resume()},r.getUserMedia=function(){ut.getUserMedia()},r.createContext=function(t,e,n,i){return ut.createContext(t,e,n,i)},At="undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,_t.staticInit(),r.FS_createFolder=_t.createFolder,r.FS_createPath=_t.createPath,r.FS_createDataFile=_t.createDataFile,r.FS_createPreloadedFile=_t.createPreloadedFile,r.FS_createLazyFile=_t.createLazyFile,r.FS_createLink=_t.createLink,r.FS_createDevice=_t.createDevice,r.FS_unlink=_t.unlink,Dt=r.InternalError=Tt(Error,"InternalError"),function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Ut=t}(),Ot=r.BindingError=Tt(Error,"BindingError"),Zt.prototype.isAliasOf=function(t){if(!(this instanceof Zt))return!1;if(!(t instanceof Zt))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,i=t.$$.ptrType.registeredClass,r=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;i.baseClass;)r=i.upcast(r),i=i.baseClass;return e===i&&n===r},Zt.prototype.clone=function(){if(this.$$.ptr||Qt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Vt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},Zt.prototype.delete=function(){this.$$.ptr||Qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ht("Object already scheduled for deletion"),Nt(this),Wt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},Zt.prototype.isDeleted=function(){return!this.$$.ptr},Zt.prototype.deleteLater=function(){return this.$$.ptr||Qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ht("Object already scheduled for deletion"),Gt.push(this),1===Gt.length&&zt&&zt(Kt),this.$$.deleteScheduled=!0,this},se.prototype.getPointee=function(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},se.prototype.destructor=function(t){this.rawDestructor&&this.rawDestructor(t)},se.prototype.argPackAdvance=8,se.prototype.readValueFromPointer=Mt,se.prototype.deleteObject=function(t){null!==t&&t.delete()},se.prototype.fromWireType=function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=function(t,e){return e=function(t,e){for(void 0===e&&Ht("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),oe[e]}(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var i=n.clone();return this.destructor(t),i}function r(){return this.isSmartPointer?ae(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):ae(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,a=this.registeredClass.getActualType(e),s=Xt[a];if(!s)return r.call(this);o=this.isConst?s.constPointerType:s.pointerType;var l=re(e,this.registeredClass,o.registeredClass);return null===l?r.call(this):this.isSmartPointer?ae(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:t}):ae(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})},r.getInheritedInstanceCount=function(){return Object.keys(oe).length},r.getLiveInheritedInstances=function(){var t=[];for(var e in oe)oe.hasOwnProperty(e)&&t.push(oe[e]);return t},r.flushPendingDeletes=Kt,r.setDelayFunction=function(t){zt=t,Gt.length&&zt&&zt(Kt)},Ae=r.UnboundTypeError=Tt(Error,"UnboundTypeError"),r.count_emval_handles=function(){for(var t=0,e=5;e<ye.length;++e)void 0!==ye[e]&&++t;return t},r.get_first_emval=function(){for(var t=5;t<ye.length;++t)if(void 0!==ye[t])return ye[t];return null};var He="function"==typeof atob?atob:function(t){var e,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=s.indexOf(t.charAt(c++))<<2|(r=s.indexOf(t.charAt(c++)))>>4,n=(15&r)<<4|(o=s.indexOf(t.charAt(c++)))>>2,i=(3&o)<<6|(a=s.indexOf(t.charAt(c++))),l+=String.fromCharCode(e),64!==o&&(l+=String.fromCharCode(n)),64!==a&&(l+=String.fromCharCode(i))}while(c<t.length);return l};function Ye(t){if(rt(t))return function(t){if("boolean"==typeof l&&l){var e;try{e=Buffer.from(t,"base64")}catch(n){e=new Buffer(t,"base64")}return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}try{for(var n=He(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}catch(t){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(it.length))}var Qe={__cxa_allocate_exception:function(t){return Ve(t)},__cxa_atexit:function(){return dt.apply(null,arguments)},__cxa_throw:function(t,e,n){throw"uncaught_exception"in Ge?Ge.uncaught_exceptions++:Ge.uncaught_exceptions=1,t},__lock:function(){},__map_file:function(t,e){return ht(63),-1},__syscall221:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD();switch(wt.get()){case 0:return(i=wt.get())<0?-28:_t.open(n.path,n.flags,0,i).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var i=wt.get();return n.flags|=i,0;case 12:return i=wt.get(),C[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return ht(28),-1}}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall3:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),i=wt.get(),r=wt.get();return _t.read(n,M,i,r)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall4:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),i=wt.get(),r=wt.get();return _t.write(n,M,i,r)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall5:function(t,e){wt.varargs=e;try{var n=wt.getStr(),i=wt.get(),r=wt.get();return _t.open(n,i,r).fd}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall54:function(t,e){wt.varargs=e;try{var n=wt.getStreamFromFD(),i=wt.get();switch(i){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var r=wt.get();return S[r>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return r=wt.get(),_t.ioctl(n,i,r);default:nt("bad ioctl syscall "+i)}}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__syscall91:function(t,e){wt.varargs=e;try{return function(t,e){if(-1===t||0===e)return-28;var n=wt.mappings[t];if(!n)return 0;if(e===n.len){var i=_t.getStream(n.fd);wt.doMsync(t,i,e,n.flags),_t.munmap(i),wt.mappings[t]=null,n.allocated&&ze(n.malloc)}return 0}(wt.get(),wt.get())}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),-t.errno}},__unlock:function(){},_embind_finalize_value_array:function(t){var e=xt[t];delete xt[t];var n=e.elements,i=n.length,r=n.map((function(t){return t.getterReturnType})).concat(n.map((function(t){return t.setterArgumentType}))),o=e.rawConstructor,a=e.rawDestructor;Pt([t],r,(function(t){return n.forEach((function(e,n){var r=t[n],o=e.getter,a=e.getterContext,s=t[n+i],l=e.setter,c=e.setterContext;e.read=function(t){return r.fromWireType(o(a,t))},e.write=function(t,e){var n=[];l(c,t,s.toWireType(n,e)),bt(n)}})),[{name:e.name,fromWireType:function(t){for(var e=new Array(i),r=0;r<i;++r)e[r]=n[r].read(t);return a(t),e},toWireType:function(t,r){if(i!==r.length)throw new TypeError("Incorrect number of tuple elements for "+e.name+": expected="+i+", actual="+r.length);for(var s=o(),l=0;l<i;++l)n[l].write(s,r[l]);return null!==t&&t.push(a,s),s},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:a}]}))},_embind_finalize_value_object:function(t){var e=kt[t];delete kt[t];var n=e.rawConstructor,i=e.rawDestructor,r=e.fields;Pt([t],r.map((function(t){return t.getterReturnType})).concat(r.map((function(t){return t.setterArgumentType}))),(function(t){var o={};return r.forEach((function(e,n){var i=e.fieldName,a=t[n],s=e.getter,l=e.getterContext,c=t[n+r.length],A=e.setter,u=e.setterContext;o[i]={read:function(t){return a.fromWireType(s(l,t))},write:function(t,e){var n=[];A(u,t,c.toWireType(n,e)),bt(n)}}})),[{name:e.name,fromWireType:function(t){var e={};for(var n in o)e[n]=o[n].read(t);return i(t),e},toWireType:function(t,e){for(var r in o)if(!(r in e))throw new TypeError("Missing field");var a=n();for(r in o)o[r].write(a,e[r]);return null!==t&&t.push(i,a),a},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:i}]}))},_embind_register_bool:function(t,e,n,i,r){var o=Ft(n);Yt(t,{name:e=Rt(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?i:r},argPackAdvance:8,readValueFromPointer:function(t){var i;if(1===n)i=M;else if(2===n)i=C;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);i=S}return this.fromWireType(i[t>>o])},destructorFunction:null})},_embind_register_class:function(t,e,n,i,r,o,a,s,l,c,A,u,d){A=Rt(A),o=ce(r,o),s&&(s=ce(a,s)),c&&(c=ce(l,c)),d=ce(u,d);var h=St(A);Jt(h,(function(){de("Cannot construct "+A+" due to unbound types",[i])})),Pt([t,e,n],i?[i]:[],(function(e){var n,r;e=e[0],r=i?(n=e.registeredClass).instancePrototype:Zt.prototype;var a=Et(h,(function(){if(Object.getPrototypeOf(this)!==l)throw new Ot("Use 'new' to construct "+A);if(void 0===u.constructor_body)throw new Ot(A+" has no accessible constructor");var t=u.constructor_body[arguments.length];if(void 0===t)throw new Ot("Tried to invoke ctor of "+A+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(u.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),l=Object.create(r,{constructor:{value:a}});a.prototype=l;var u=new $t(A,a,l,d,n,o,s,c),p=new se(A,u,!0,!1,!1),f=new se(A+"*",u,!1,!1,!1),m=new se(A+" const*",u,!1,!0,!1);return Xt[t]={pointerType:f,constPointerType:m},le(h,a),[p,f,m]}))},_embind_register_class_class_function:function(t,e,n,i,r,o,a){var s=fe(n,i);e=Rt(e),o=ce(r,o),Pt([],[t],(function(t){var i=(t=t[0]).name+"."+e;function r(){de("Cannot call "+i+" due to unbound types",s)}var l=t.registeredClass.constructor;return void 0===l[e]?(r.argCount=n-1,l[e]=r):(qt(l,e,i),l[e].overloadTable[n-1]=r),Pt([],s,(function(t){var r=[t[0],null].concat(t.slice(1)),s=pe(i,r,null,o,a);return void 0===l[e].overloadTable?(s.argCount=n-1,l[e]=s):l[e].overloadTable[n-1]=s,[]})),[]}))},_embind_register_class_constructor:function(t,e,n,i,r,o){var a=fe(e,n);r=ce(i,r),Pt([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Ot("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){de("Cannot construct "+t.name+" due to unbound types",a)},Pt([],a,(function(i){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&Ht(n+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],a=new Array(e);a[0]=o;for(var s=1;s<e;++s)a[s]=i[s].toWireType(t,arguments[s-1]);var l=r.apply(null,a);return bt(t),i[0].fromWireType(l)},[]})),[]}))},_embind_register_class_function:function(t,e,n,i,r,o,a,s){var l=fe(n,i);e=Rt(e),o=ce(r,o),Pt([],[t],(function(t){var i=(t=t[0]).name+"."+e;function r(){de("Cannot call "+i+" due to unbound types",l)}s&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,A=c[e];return void 0===A||void 0===A.overloadTable&&A.className!==t.name&&A.argCount===n-2?(r.argCount=n-2,r.className=t.name,c[e]=r):(qt(c,e,i),c[e].overloadTable[n-2]=r),Pt([],l,(function(r){var s=pe(i,r,t,o,a);return void 0===c[e].overloadTable?(s.argCount=n-2,c[e]=s):c[e].overloadTable[n-2]=s,[]})),[]}))},_embind_register_class_property:function(t,e,n,i,r,o,a,s,l,c){e=Rt(e),r=ce(i,r),Pt([],[t],(function(t){var i=(t=t[0]).name+"."+e,A={get:function(){de("Cannot access "+i+" due to unbound types",[n,a])},enumerable:!0,configurable:!0};return A.set=l?function(){de("Cannot access "+i+" due to unbound types",[n,a])}:function(t){Ht(i+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,A),Pt([],l?[n,a]:[n],(function(n){var a=n[0],A={get:function(){var e=me(this,t,i+" getter");return a.fromWireType(r(o,e))},enumerable:!0};if(l){l=ce(s,l);var u=n[1];A.set=function(e){var n=me(this,t,i+" setter"),r=[];l(c,n,u.toWireType(r,e)),bt(r)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,A),[]})),[]}))},_embind_register_constant:function(t,e,n){t=Rt(t),Pt([],[e],(function(e){return e=e[0],r[t]=e.fromWireType(n),[]}))},_embind_register_emval:function(t,e){Yt(t,{name:e=Rt(e),fromWireType:function(t){var e=ye[t].value;return ve(t),e},toWireType:function(t,e){return _e(e)},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:null})},_embind_register_float:function(t,e,n){var i=Ft(n);Yt(t,{name:e=Rt(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+we(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:xe(e,i),destructorFunction:null})},_embind_register_function:function(t,e,n,i,r,o){var a=fe(e,n);t=Rt(t),r=ce(i,r),Jt(t,(function(){de("Cannot call "+t+" due to unbound types",a)}),e-1),Pt([],a,(function(n){var i=[n[0],null].concat(n.slice(1));return le(t,pe(t,i,null,r,o),e-1),[]}))},_embind_register_integer:function(t,e,n,i,r){e=Rt(e),-1===r&&(r=4294967295);var o=Ft(n),a=function(t){return t};if(0===i){var s=32-8*n;a=function(t){return t<<s>>>s}}var l=-1!=e.indexOf("unsigned");Yt(t,{name:e,fromWireType:a,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+we(n)+'" to '+this.name);if(n<i||n>r)throw new TypeError('Passing a number "'+we(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+i+", "+r+"]!");return l?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:be(e,o,0!==i),destructorFunction:null})},_embind_register_memory_view:function(t,e,n){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function r(t){var e=E,n=e[t>>=2],r=e[t+1];return new i(e.buffer,r,n)}Yt(t,{name:n=Rt(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})},_embind_register_smart_ptr:function(t,e,n,i,r,o,a,s,l,c,A,u){n=Rt(n),o=ce(r,o),s=ce(a,s),c=ce(l,c),u=ce(A,u),Pt([t],[e],(function(t){return t=t[0],[new se(n,t.registeredClass,!1,!1,!0,t,i,o,s,c,u)]}))},_embind_register_std_string:function(t,e){var n="std::string"===(e=Rt(e));Yt(t,{name:e,fromWireType:function(t){var e,i=E[t>>2];if(n){var r=L[t+4+i],o=0;0!=r&&(o=r,L[t+4+i]=0);for(var a=t+4,s=0;s<=i;++s){var l=t+4+s;if(0==L[l]){var c=k(a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=l+1}}0!=o&&(L[t+4+i]=o)}else{var A=new Array(i);for(s=0;s<i;++s)A[s]=String.fromCharCode(L[t+4+s]);e=A.join("")}return ze(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i="string"==typeof e;i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||Ht("Cannot pass non-string to std::string");var r=(n&&i?function(){return R(e)}:function(){return e.length})(),o=Ve(4+r+1);if(E[o>>2]=r,n&&i)U(e,o+4,r+1);else if(i)for(var a=0;a<r;++a){var s=e.charCodeAt(a);s>255&&(ze(o),Ht("String has UTF-16 code units that do not fit in 8 bits")),L[o+4+a]=s}else for(a=0;a<r;++a)L[o+4+a]=e[a];return null!==t&&t.push(ze,o),o},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(t){ze(t)}})},_embind_register_std_wstring:function(t,e,n){var i,r;n=Rt(n),2===e?(i=function(){return B},r=1):4===e&&(i=function(){return E},r=2),Yt(t,{name:n,fromWireType:function(t){for(var e=i(),n=E[t>>2],o=new Array(n),a=t+4>>r,s=0;s<n;++s)o[s]=String.fromCharCode(e[a+s]);return ze(t),o.join("")},toWireType:function(t,n){var o=n.length,a=Ve(4+o*e),s=i();E[a>>2]=o;for(var l=a+4>>r,c=0;c<o;++c)s[l+c]=n.charCodeAt(c);return null!==t&&t.push(ze,a),a},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(t){ze(t)}})},_embind_register_value_array:function(t,e,n,i,r,o){xt[t]={name:Rt(e),rawConstructor:ce(n,i),rawDestructor:ce(r,o),elements:[]}},_embind_register_value_array_element:function(t,e,n,i,r,o,a,s,l){xt[t].elements.push({getterReturnType:e,getter:ce(n,i),getterContext:r,setterArgumentType:o,setter:ce(a,s),setterContext:l})},_embind_register_value_object:function(t,e,n,i,r,o){kt[t]={name:Rt(e),rawConstructor:ce(n,i),rawDestructor:ce(r,o),fields:[]}},_embind_register_value_object_field:function(t,e,n,i,r,o,a,s,l,c){kt[t].fields.push({fieldName:Rt(e),getterReturnType:n,getter:ce(i,r),getterContext:o,setterArgumentType:a,setter:ce(s,l),setterContext:c})},_embind_register_void:function(t,e){Yt(t,{isVoid:!0,name:e=Rt(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},_emval_as:function(t,e,n){t=Me(t),e=Le(e,"emval::as");var i=[],r=_e(i);return S[n>>2]=r,e.toWireType(i,t)},_emval_call_void_method:function(t,e,n,i){(t=Se[t])(e=Me(e),n=Be(n),null,i)},_emval_decref:ve,_emval_get_method_caller:function(t,e){for(var n=function(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=Le(S[(e>>2)+i],"parameter "+i);return n}(t,e),i=n[0],r=i.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",o=["retType"],a=[i],s="",l=0;l<t-1;++l)s+=(0!==l?", ":"")+"arg"+l,o.push("argType"+l),a.push(n[1+l]);var c,A,u="return function "+St("methodCaller_"+r)+"(handle, name, destructors, args) {\n",d=0;for(l=0;l<t-1;++l)u+="\t\tvar arg"+l+" = argType"+l+".readValueFromPointer(args"+(d?"+"+d:"")+");\n",d+=n[l+1].argPackAdvance;for(u+="\t\tvar rv = handle[name]("+s+");\n",l=0;l<t-1;++l)n[l+1].deleteObject&&(u+="\t\targType"+l+".deleteObject(arg"+l+");\n");return i.isVoid||(u+="\t\treturn retType.toWireType(destructors, rv);\n"),u+="};\n",o.push(u),c=he(Function,o).apply(null,a),A=Se.length,Se.push(c),A},_emval_get_property:function(t,e){return _e((t=Me(t))[e=Me(e)])},_emval_incref:function(t){t>4&&(ye[t].refcount+=1)},_emval_new_array:function(){return _e([])},_emval_new_cstring:function(t){return _e(Be(t))},_emval_run_destructors:function(t){bt(ye[t].value),ve(t)},_emval_set_property:function(t,e,n){t=Me(t),e=Me(e),n=Me(n),t[e]=n},_emval_take_value:function(t,e){return _e((t=Le(t,"_emval_take_value")).readValueFromPointer(e))},abort:function(){nt()},clock_gettime:function(t,e){var n;if(0===t)n=Date.now();else{if(1!==t||!(l||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now))return ht(28),-1;n=At()}return S[e>>2]=n/1e3|0,S[e+4>>2]=n%1e3*1e3*1e3|0,0},emscripten_get_sbrk_ptr:function(){return 1411136},emscripten_memcpy_big:function(t,e,n){L.set(L.subarray(e,e+n),t)},emscripten_resize_heap:function(t){var e=Ee(),n=2147418112;if(t>n)return!1;for(var i=Math.max(e,16777216);i<t;)i=i<=536870912?O(2*i,65536):Math.min(O((3*i+2147483648)/4,65536),n);return(i=Math.min(i,1073741824))!=e&&!!function(t){try{return m.grow(t-b.byteLength+65535>>16),H(m.buffer),1}catch(t){}}(i)},environ_get:function(t,e){var n=De(),i=0;return n.forEach((function(n,r){var o=e+i;S[t+4*r>>2]=o,function(t,e){for(var n=0;n<t.length;++n)M[0|e++]=t.charCodeAt(n);M[0|e]=0}(n,o),i+=n.length+1})),0},environ_sizes_get:function(t,e){var n=De();S[t>>2]=n.length;var i=0;return n.forEach((function(t){i+=t.length+1})),S[e>>2]=i,0},fd_close:function(t){try{var e=wt.getStreamFromFD(t);return _t.close(e),0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_read:function(t,e,n,i){try{var r=wt.getStreamFromFD(t),o=wt.doReadv(r,e,n);return S[i>>2]=o,0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_seek:function(t,e,n,i,r){try{var o=wt.getStreamFromFD(t),a=4294967296*n+(e>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(_t.llseek(o,a,i),st=[o.position>>>0,(at=o.position,+K(at)>=1?at>0?(0|q(+X(at/4294967296),4294967295))>>>0:~~+Z((at-+(~~at>>>0))/4294967296)>>>0:0)],S[r>>2]=st[0],S[r+4>>2]=st[1],o.getdents&&0===a&&0===i&&(o.getdents=null),0)}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},fd_write:function(t,e,n,i){try{var r=wt.getStreamFromFD(t),o=wt.doWritev(r,e,n);return S[i>>2]=o,0}catch(t){return void 0!==_t&&t instanceof _t.ErrnoError||nt(t),t.errno}},memory:m,pthread_mutexattr_destroy:function(){},pthread_mutexattr_init:function(){},pthread_mutexattr_settype:function(){},round:function(t){return(t=+t)>=0?+X(t+.5):+Z(t-.5)},roundf:function(t){return(t=+t)>=0?+X(t+.5):+Z(t-.5)},setTempRet0:function(t){},strftime_l:function(t,e,n,i){return function(t,e,n,i){var r=S[i+40>>2],o={tm_sec:S[i>>2],tm_min:S[i+4>>2],tm_hour:S[i+8>>2],tm_mday:S[i+12>>2],tm_mon:S[i+16>>2],tm_year:S[i+20>>2],tm_wday:S[i+24>>2],tm_yday:S[i+28>>2],tm_isdst:S[i+32>>2],tm_gmtoff:S[i+36>>2],tm_zone:r?k(r):""},a=k(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)a=a.replace(new RegExp(l,"g"),s[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(t,e,n){for(var i="number"==typeof t?t.toString():t||"";i.length<e;)i=n[0]+i;return i}function d(t,e){return u(t,e,"0")}function h(t,e){function n(t){return t<0?-1:t>0?1:0}var i;return 0===(i=n(t.getFullYear()-e.getFullYear()))&&0===(i=n(t.getMonth()-e.getMonth()))&&(i=n(t.getDate()-e.getDate())),i}function p(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function f(t){var e=Ue(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),i=new Date(e.getFullYear()+1,0,4),r=p(n),o=p(i);return h(r,e)<=0?h(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var m={"%a":function(t){return c[t.tm_wday].substring(0,3)},"%A":function(t){return c[t.tm_wday]},"%b":function(t){return A[t.tm_mon].substring(0,3)},"%B":function(t){return A[t.tm_mon]},"%C":function(t){return d((t.tm_year+1900)/100|0,2)},"%d":function(t){return d(t.tm_mday,2)},"%e":function(t){return u(t.tm_mday,2," ")},"%g":function(t){return f(t).toString().substring(2)},"%G":function(t){return f(t)},"%H":function(t){return d(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),d(e,2)},"%j":function(t){return d(t.tm_mday+Pe(Ie(t.tm_year+1900)?ke:Fe,t.tm_mon-1),3)},"%m":function(t){return d(t.tm_mon+1,2)},"%M":function(t){return d(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return d(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=new Date(t.tm_year+1900,0,1),n=0===e.getDay()?e:Ue(e,7-e.getDay()),i=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(h(n,i)<0){var r=Pe(Ie(i.getFullYear())?ke:Fe,i.getMonth()-1)-31,o=31-n.getDate()+r+i.getDate();return d(Math.ceil(o/7),2)}return 0===h(n,e)?"01":"00"},"%V":function(t){var e,n=new Date(t.tm_year+1900,0,4),i=new Date(t.tm_year+1901,0,4),r=p(n),o=p(i),a=Ue(new Date(t.tm_year+1900,0,1),t.tm_yday);return h(a,r)<0?"53":h(o,a)<=0?"01":(e=r.getFullYear()<t.tm_year+1900?t.tm_yday+32-r.getDate():t.tm_yday+1-r.getDate(),d(Math.ceil(e/7),2))},"%w":function(t){return t.tm_wday},"%W":function(t){var e=new Date(t.tm_year,0,1),n=1===e.getDay()?e:Ue(e,0===e.getDay()?1:7-e.getDay()+1),i=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(h(n,i)<0){var r=Pe(Ie(i.getFullYear())?ke:Fe,i.getMonth()-1)-31,o=31-n.getDate()+r+i.getDate();return d(Math.ceil(o/7),2)}return 0===h(n,e)?"01":"00"},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var l in m)a.indexOf(l)>=0&&(a=a.replace(new RegExp(l,"g"),m[l](o)));var g=Re(a,!1);return g.length>e?0:(function(t,e){M.set(t,e)}(g,t),g.length-1)}(t,e,n,i)},sysconf:function(t){switch(t){case 30:case 75:return 16384;case 85:case 3:return 65536;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ht(28),-1},table:_},je=function(){var t={env:Qe,wasi_unstable:Qe};function e(t,e){var n=t.exports;r.asm=n,et()}function n(t){e(t.instance)}function i(e){return(f||!a&&!s||"function"!=typeof fetch?new Promise((function(t,e){t(ct())})):fetch(lt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+lt+"'";return t.arrayBuffer()})).catch((function(){return ct()}))).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){y("failed to asynchronously prepare wasm: "+t),nt(t)}))}if(tt(),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(t){return y("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(f||"function"!=typeof WebAssembly.instantiateStreaming||rt(lt)||"function"!=typeof fetch)return i(n);fetch(lt,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(n,(function(t){y("wasm streaming compile failed: "+t),y("falling back to ArrayBuffer instantiation"),i(n)}))}))}(),{}}();r.asm=je;var Ne,We=r.___wasm_call_ctors=function(){return r.asm.__wasm_call_ctors.apply(null,arguments)},Ve=r._malloc=function(){return r.asm.malloc.apply(null,arguments)},ze=r._free=function(){return r.asm.free.apply(null,arguments)},Ge=(r.___errno_location=function(){return r.asm.__errno_location.apply(null,arguments)},r._setThrew=function(){return r.asm.setThrew.apply(null,arguments)},r.__ZSt18uncaught_exceptionv=function(){return r.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Ke=(r.___cxa_demangle=function(){return r.asm.__cxa_demangle.apply(null,arguments)},r.___getTypeName=function(){return r.asm.__getTypeName.apply(null,arguments)});function Ze(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Xe(t){function e(){Ne||(Ne=!0,r.calledRun=!0,w||(G=!0,r.noFSInit||_t.init.initialized||_t.init(),j(W),_t.ignorePermissions=!1,j(V),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)t=r.postRun.shift(),z.unshift(t);var t;j(z)}()))}J>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)t=r.preRun.shift(),N.unshift(t);var t;j(N)}(),J>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e()))}if(r.___embind_register_native_and_builtin_types=function(){return r.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},r.stackSave=function(){return r.asm.stackSave.apply(null,arguments)},r.stackAlloc=function(){return r.asm.stackAlloc.apply(null,arguments)},r.stackRestore=function(){return r.asm.stackRestore.apply(null,arguments)},r.__growWasmMemory=function(){return r.asm.__growWasmMemory.apply(null,arguments)},r.dynCall_ii=function(){return r.asm.dynCall_ii.apply(null,arguments)},r.dynCall_vi=function(){return r.asm.dynCall_vi.apply(null,arguments)},r.dynCall_i=function(){return r.asm.dynCall_i.apply(null,arguments)},r.dynCall_iii=function(){return r.asm.dynCall_iii.apply(null,arguments)},r.dynCall_iiii=function(){return r.asm.dynCall_iiii.apply(null,arguments)},r.dynCall_iiiii=function(){return r.asm.dynCall_iiiii.apply(null,arguments)},r.dynCall_iiiiii=function(){return r.asm.dynCall_iiiiii.apply(null,arguments)},r.dynCall_iiiiiii=function(){return r.asm.dynCall_iiiiiii.apply(null,arguments)},r.dynCall_viii=function(){return r.asm.dynCall_viii.apply(null,arguments)},r.dynCall_viiii=function(){return r.asm.dynCall_viiii.apply(null,arguments)},r.dynCall_vii=function(){return r.asm.dynCall_vii.apply(null,arguments)},r.dynCall_viiidd=function(){return r.asm.dynCall_viiidd.apply(null,arguments)},r.dynCall_viiiidd=function(){return r.asm.dynCall_viiiidd.apply(null,arguments)},r.dynCall_viiid=function(){return r.asm.dynCall_viiid.apply(null,arguments)},r.dynCall_viiiid=function(){return r.asm.dynCall_viiiid.apply(null,arguments)},r.dynCall_viiiii=function(){return r.asm.dynCall_viiiii.apply(null,arguments)},r.dynCall_dii=function(){return r.asm.dynCall_dii.apply(null,arguments)},r.dynCall_diii=function(){return r.asm.dynCall_diii.apply(null,arguments)},r.dynCall_iiiid=function(){return r.asm.dynCall_iiiid.apply(null,arguments)},r.dynCall_fiii=function(){return r.asm.dynCall_fiii.apply(null,arguments)},r.dynCall_fiiii=function(){return r.asm.dynCall_fiiii.apply(null,arguments)},r.dynCall_fiiiii=function(){return r.asm.dynCall_fiiiii.apply(null,arguments)},r.dynCall_diiiii=function(){return r.asm.dynCall_diiiii.apply(null,arguments)},r.dynCall_diiii=function(){return r.asm.dynCall_diiii.apply(null,arguments)},r.dynCall_viid=function(){return r.asm.dynCall_viid.apply(null,arguments)},r.dynCall_fii=function(){return r.asm.dynCall_fii.apply(null,arguments)},r.dynCall_viif=function(){return r.asm.dynCall_viif.apply(null,arguments)},r.dynCall_iiiiiiiiii=function(){return r.asm.dynCall_iiiiiiiiii.apply(null,arguments)},r.dynCall_iiiiiiiii=function(){return r.asm.dynCall_iiiiiiiii.apply(null,arguments)},r.dynCall_iiiiiiii=function(){return r.asm.dynCall_iiiiiiii.apply(null,arguments)},r.dynCall_viiif=function(){return r.asm.dynCall_viiif.apply(null,arguments)},r.dynCall_iiiif=function(){return r.asm.dynCall_iiiif.apply(null,arguments)},r.dynCall_viiiddii=function(){return r.asm.dynCall_viiiddii.apply(null,arguments)},r.dynCall_viiddii=function(){return r.asm.dynCall_viiddii.apply(null,arguments)},r.dynCall_viiiddi=function(){return r.asm.dynCall_viiiddi.apply(null,arguments)},r.dynCall_viiddi=function(){return r.asm.dynCall_viiddi.apply(null,arguments)},r.dynCall_viidd=function(){return r.asm.dynCall_viidd.apply(null,arguments)},r.dynCall_viiiiddi=function(){return r.asm.dynCall_viiiiddi.apply(null,arguments)},r.dynCall_viiiiddddii=function(){return r.asm.dynCall_viiiiddddii.apply(null,arguments)},r.dynCall_viiiddddii=function(){return r.asm.dynCall_viiiddddii.apply(null,arguments)},r.dynCall_viiiiddddi=function(){return r.asm.dynCall_viiiiddddi.apply(null,arguments)},r.dynCall_viiiddddi=function(){return r.asm.dynCall_viiiddddi.apply(null,arguments)},r.dynCall_viiiidddd=function(){return r.asm.dynCall_viiiidddd.apply(null,arguments)},r.dynCall_viiidddd=function(){return r.asm.dynCall_viiidddd.apply(null,arguments)},r.dynCall_viiiiddd=function(){return r.asm.dynCall_viiiiddd.apply(null,arguments)},r.dynCall_viiiddd=function(){return r.asm.dynCall_viiiddd.apply(null,arguments)},r.dynCall_viiiddidddd=function(){return r.asm.dynCall_viiiddidddd.apply(null,arguments)},r.dynCall_viiddidddd=function(){return r.asm.dynCall_viiddidddd.apply(null,arguments)},r.dynCall_viiiddiddd=function(){return r.asm.dynCall_viiiddiddd.apply(null,arguments)},r.dynCall_viiddiddd=function(){return r.asm.dynCall_viiddiddd.apply(null,arguments)},r.dynCall_viiiddidd=function(){return r.asm.dynCall_viiiddidd.apply(null,arguments)},r.dynCall_viiddidd=function(){return r.asm.dynCall_viiddidd.apply(null,arguments)},r.dynCall_viiiddid=function(){return r.asm.dynCall_viiiddid.apply(null,arguments)},r.dynCall_viiddid=function(){return r.asm.dynCall_viiddid.apply(null,arguments)},r.dynCall_viiiiiddi=function(){return r.asm.dynCall_viiiiiddi.apply(null,arguments)},r.dynCall_viiiiidd=function(){return r.asm.dynCall_viiiiidd.apply(null,arguments)},r.dynCall_viiiiid=function(){return r.asm.dynCall_viiiiid.apply(null,arguments)},r.dynCall_viiiiiiddi=function(){return r.asm.dynCall_viiiiiiddi.apply(null,arguments)},r.dynCall_viiiiiidd=function(){return r.asm.dynCall_viiiiiidd.apply(null,arguments)},r.dynCall_viiiiiid=function(){return r.asm.dynCall_viiiiiid.apply(null,arguments)},r.dynCall_viiiiii=function(){return r.asm.dynCall_viiiiii.apply(null,arguments)},r.dynCall_viiiiiiiddi=function(){return r.asm.dynCall_viiiiiiiddi.apply(null,arguments)},r.dynCall_viiiiiiidd=function(){return r.asm.dynCall_viiiiiiidd.apply(null,arguments)},r.dynCall_viiiiiiid=function(){return r.asm.dynCall_viiiiiiid.apply(null,arguments)},r.dynCall_viiiiiii=function(){return r.asm.dynCall_viiiiiii.apply(null,arguments)},r.dynCall_viiidiiid=function(){return r.asm.dynCall_viiidiiid.apply(null,arguments)},r.dynCall_viidiiid=function(){return r.asm.dynCall_viidiiid.apply(null,arguments)},r.dynCall_viididdii=function(){return r.asm.dynCall_viididdii.apply(null,arguments)},r.dynCall_vididdii=function(){return r.asm.dynCall_vididdii.apply(null,arguments)},r.dynCall_viididdi=function(){return r.asm.dynCall_viididdi.apply(null,arguments)},r.dynCall_vididdi=function(){return r.asm.dynCall_vididdi.apply(null,arguments)},r.dynCall_viiidi=function(){return r.asm.dynCall_viiidi.apply(null,arguments)},r.dynCall_viidi=function(){return r.asm.dynCall_viidi.apply(null,arguments)},r.dynCall_viiiiiiii=function(){return r.asm.dynCall_viiiiiiii.apply(null,arguments)},r.dynCall_viiiidiiiidi=function(){return r.asm.dynCall_viiiidiiiidi.apply(null,arguments)},r.dynCall_viiidiiiidi=function(){return r.asm.dynCall_viiidiiiidi.apply(null,arguments)},r.dynCall_viiiiiiiiiiid=function(){return r.asm.dynCall_viiiiiiiiiiid.apply(null,arguments)},r.dynCall_viiiiiiiiiid=function(){return r.asm.dynCall_viiiiiiiiiid.apply(null,arguments)},r.dynCall_viiiiiiiiiii=function(){return r.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},r.dynCall_viiiiiiiiii=function(){return r.asm.dynCall_viiiiiiiiii.apply(null,arguments)},r.dynCall_viiiiiiiii=function(){return r.asm.dynCall_viiiiiiiii.apply(null,arguments)},r.dynCall_diiiiiiiiiiiii=function(){return r.asm.dynCall_diiiiiiiiiiiii.apply(null,arguments)},r.dynCall_diiiiiiiiiiii=function(){return r.asm.dynCall_diiiiiiiiiiii.apply(null,arguments)},r.dynCall_diiiiiiiiiii=function(){return r.asm.dynCall_diiiiiiiiiii.apply(null,arguments)},r.dynCall_diiiiiiiiii=function(){return r.asm.dynCall_diiiiiiiiii.apply(null,arguments)},r.dynCall_di=function(){return r.asm.dynCall_di.apply(null,arguments)},r.dynCall_viiiiidi=function(){return r.asm.dynCall_viiiiidi.apply(null,arguments)},r.dynCall_viiiidi=function(){return r.asm.dynCall_viiiidi.apply(null,arguments)},r.dynCall_vidiii=function(){return r.asm.dynCall_vidiii.apply(null,arguments)},r.dynCall_vdiii=function(){return r.asm.dynCall_vdiii.apply(null,arguments)},r.dynCall_vidii=function(){return r.asm.dynCall_vidii.apply(null,arguments)},r.dynCall_vdii=function(){return r.asm.dynCall_vdii.apply(null,arguments)},r.dynCall_viiiiiifi=function(){return r.asm.dynCall_viiiiiifi.apply(null,arguments)},r.dynCall_viiiiifi=function(){return r.asm.dynCall_viiiiifi.apply(null,arguments)},r.dynCall_viiiiiif=function(){return r.asm.dynCall_viiiiiif.apply(null,arguments)},r.dynCall_viiiiif=function(){return r.asm.dynCall_viiiiif.apply(null,arguments)},r.dynCall_viiiiiiiiiiii=function(){return r.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},r.dynCall_viiiidddiiii=function(){return r.asm.dynCall_viiiidddiiii.apply(null,arguments)},r.dynCall_viiidddiiii=function(){return r.asm.dynCall_viiidddiiii.apply(null,arguments)},r.dynCall_viiiidddiii=function(){return r.asm.dynCall_viiiidddiii.apply(null,arguments)},r.dynCall_viiidddiii=function(){return r.asm.dynCall_viiidddiii.apply(null,arguments)},r.dynCall_viiiidddii=function(){return r.asm.dynCall_viiiidddii.apply(null,arguments)},r.dynCall_viiidddii=function(){return r.asm.dynCall_viiidddii.apply(null,arguments)},r.dynCall_viiiidddi=function(){return r.asm.dynCall_viiiidddi.apply(null,arguments)},r.dynCall_viiidddi=function(){return r.asm.dynCall_viiidddi.apply(null,arguments)},r.dynCall_iiiiiididi=function(){return r.asm.dynCall_iiiiiididi.apply(null,arguments)},r.dynCall_viiiiididi=function(){return r.asm.dynCall_viiiiididi.apply(null,arguments)},r.dynCall_iiiiiidid=function(){return r.asm.dynCall_iiiiiidid.apply(null,arguments)},r.dynCall_viiiiidid=function(){return r.asm.dynCall_viiiiidid.apply(null,arguments)},r.dynCall_iiiiiidi=function(){return r.asm.dynCall_iiiiiidi.apply(null,arguments)},r.dynCall_iiiiiid=function(){return r.asm.dynCall_iiiiiid.apply(null,arguments)},r.dynCall_viiiiiidi=function(){return r.asm.dynCall_viiiiiidi.apply(null,arguments)},r.dynCall_iiiiidiid=function(){return r.asm.dynCall_iiiiidiid.apply(null,arguments)},r.dynCall_viiiidiid=function(){return r.asm.dynCall_viiiidiid.apply(null,arguments)},r.dynCall_iiiiidii=function(){return r.asm.dynCall_iiiiidii.apply(null,arguments)},r.dynCall_viiiidii=function(){return r.asm.dynCall_viiiidii.apply(null,arguments)},r.dynCall_iiiiidi=function(){return r.asm.dynCall_iiiiidi.apply(null,arguments)},r.dynCall_iiiiid=function(){return r.asm.dynCall_iiiiid.apply(null,arguments)},r.dynCall_diiiiiiii=function(){return r.asm.dynCall_diiiiiiii.apply(null,arguments)},r.dynCall_diiiiiii=function(){return r.asm.dynCall_diiiiiii.apply(null,arguments)},r.dynCall_diiiiii=function(){return r.asm.dynCall_diiiiii.apply(null,arguments)},r.dynCall_viiididii=function(){return r.asm.dynCall_viiididii.apply(null,arguments)},r.dynCall_viididii=function(){return r.asm.dynCall_viididii.apply(null,arguments)},r.dynCall_viiididi=function(){return r.asm.dynCall_viiididi.apply(null,arguments)},r.dynCall_viididi=function(){return r.asm.dynCall_viididi.apply(null,arguments)},r.dynCall_iiidd=function(){return r.asm.dynCall_iiidd.apply(null,arguments)},r.dynCall_viiiiddiiid=function(){return r.asm.dynCall_viiiiddiiid.apply(null,arguments)},r.dynCall_viiiddiiid=function(){return r.asm.dynCall_viiiddiiid.apply(null,arguments)},r.dynCall_viiiiddiii=function(){return r.asm.dynCall_viiiiddiii.apply(null,arguments)},r.dynCall_viiiddiii=function(){return r.asm.dynCall_viiiddiii.apply(null,arguments)},r.dynCall_viiiiddii=function(){return r.asm.dynCall_viiiiddii.apply(null,arguments)},r.dynCall_viiiiddiiiid=function(){return r.asm.dynCall_viiiiddiiiid.apply(null,arguments)},r.dynCall_viiiddiiiid=function(){return r.asm.dynCall_viiiddiiiid.apply(null,arguments)},r.dynCall_viiiiddiiii=function(){return r.asm.dynCall_viiiiddiiii.apply(null,arguments)},r.dynCall_viiiddiiii=function(){return r.asm.dynCall_viiiddiiii.apply(null,arguments)},r.dynCall_diiiid=function(){return r.asm.dynCall_diiiid.apply(null,arguments)},r.dynCall_diiid=function(){return r.asm.dynCall_diiid.apply(null,arguments)},r.dynCall_viiddiii=function(){return r.asm.dynCall_viiddiii.apply(null,arguments)},r.dynCall_vidi=function(){return r.asm.dynCall_vidi.apply(null,arguments)},r.dynCall_viiiiiiiid=function(){return r.asm.dynCall_viiiiiiiid.apply(null,arguments)},r.dynCall_viiiiidiiii=function(){return r.asm.dynCall_viiiiidiiii.apply(null,arguments)},r.dynCall_viiiidiiii=function(){return r.asm.dynCall_viiiidiiii.apply(null,arguments)},r.dynCall_viiiiidiii=function(){return r.asm.dynCall_viiiiidiii.apply(null,arguments)},r.dynCall_viiiidiii=function(){return r.asm.dynCall_viiiidiii.apply(null,arguments)},r.dynCall_viiiiidii=function(){return r.asm.dynCall_viiiiidii.apply(null,arguments)},r.dynCall_viiiiiiidi=function(){return r.asm.dynCall_viiiiiiidi.apply(null,arguments)},r.dynCall_iiiiiiiiiifdii=function(){return r.asm.dynCall_iiiiiiiiiifdii.apply(null,arguments)},r.dynCall_iiiiiiiiifdii=function(){return r.asm.dynCall_iiiiiiiiifdii.apply(null,arguments)},r.dynCall_iiiiiiiiiifdi=function(){return r.asm.dynCall_iiiiiiiiiifdi.apply(null,arguments)},r.dynCall_iiiiiiiiifdi=function(){return r.asm.dynCall_iiiiiiiiifdi.apply(null,arguments)},r.dynCall_iiiiiiiiiifd=function(){return r.asm.dynCall_iiiiiiiiiifd.apply(null,arguments)},r.dynCall_iiiiiiiiifd=function(){return r.asm.dynCall_iiiiiiiiifd.apply(null,arguments)},r.dynCall_iiiiiiiiiif=function(){return r.asm.dynCall_iiiiiiiiiif.apply(null,arguments)},r.dynCall_iiiiiiiiif=function(){return r.asm.dynCall_iiiiiiiiif.apply(null,arguments)},r.dynCall_diiiddi=function(){return r.asm.dynCall_diiiddi.apply(null,arguments)},r.dynCall_diiddi=function(){return r.asm.dynCall_diiddi.apply(null,arguments)},r.dynCall_iiidiiiii=function(){return r.asm.dynCall_iiidiiiii.apply(null,arguments)},r.dynCall_viidiiiii=function(){return r.asm.dynCall_viidiiiii.apply(null,arguments)},r.dynCall_iiidiiii=function(){return r.asm.dynCall_iiidiiii.apply(null,arguments)},r.dynCall_viidiiii=function(){return r.asm.dynCall_viidiiii.apply(null,arguments)},r.dynCall_iiidiii=function(){return r.asm.dynCall_iiidiii.apply(null,arguments)},r.dynCall_viidiii=function(){return r.asm.dynCall_viidiii.apply(null,arguments)},r.dynCall_iiidii=function(){return r.asm.dynCall_iiidii.apply(null,arguments)},r.dynCall_viidii=function(){return r.asm.dynCall_viidii.apply(null,arguments)},r.dynCall_iiidi=function(){return r.asm.dynCall_iiidi.apply(null,arguments)},r.dynCall_iiid=function(){return r.asm.dynCall_iiid.apply(null,arguments)},r.dynCall_iiiiifiii=function(){return r.asm.dynCall_iiiiifiii.apply(null,arguments)},r.dynCall_viiiifiii=function(){return r.asm.dynCall_viiiifiii.apply(null,arguments)},r.dynCall_iiiiifii=function(){return r.asm.dynCall_iiiiifii.apply(null,arguments)},r.dynCall_viiiifii=function(){return r.asm.dynCall_viiiifii.apply(null,arguments)},r.dynCall_iiiiifi=function(){return r.asm.dynCall_iiiiifi.apply(null,arguments)},r.dynCall_viiiifi=function(){return r.asm.dynCall_viiiifi.apply(null,arguments)},r.dynCall_iiiiif=function(){return r.asm.dynCall_iiiiif.apply(null,arguments)},r.dynCall_viiiif=function(){return r.asm.dynCall_viiiif.apply(null,arguments)},r.dynCall_vid=function(){return r.asm.dynCall_vid.apply(null,arguments)},r.dynCall_iiiiffi=function(){return r.asm.dynCall_iiiiffi.apply(null,arguments)},r.dynCall_viiiffi=function(){return r.asm.dynCall_viiiffi.apply(null,arguments)},r.dynCall_iiiiff=function(){return r.asm.dynCall_iiiiff.apply(null,arguments)},r.dynCall_viiiff=function(){return r.asm.dynCall_viiiff.apply(null,arguments)},r.dynCall_iiiiiiffi=function(){return r.asm.dynCall_iiiiiiffi.apply(null,arguments)},r.dynCall_viiiiiffi=function(){return r.asm.dynCall_viiiiiffi.apply(null,arguments)},r.dynCall_iiiiiiff=function(){return r.asm.dynCall_iiiiiiff.apply(null,arguments)},r.dynCall_viiiiiff=function(){return r.asm.dynCall_viiiiiff.apply(null,arguments)},r.dynCall_iidi=function(){return r.asm.dynCall_iidi.apply(null,arguments)},r.dynCall_iid=function(){return r.asm.dynCall_iid.apply(null,arguments)},r.dynCall_iiifi=function(){return r.asm.dynCall_iiifi.apply(null,arguments)},r.dynCall_viifi=function(){return r.asm.dynCall_viifi.apply(null,arguments)},r.dynCall_iiif=function(){return r.asm.dynCall_iiif.apply(null,arguments)},r.dynCall_vif=function(){return r.asm.dynCall_vif.apply(null,arguments)},r.dynCall_viiidiiii=function(){return r.asm.dynCall_viiidiiii.apply(null,arguments)},r.dynCall_viiidiii=function(){return r.asm.dynCall_viiidiii.apply(null,arguments)},r.dynCall_viiidii=function(){return r.asm.dynCall_viiidii.apply(null,arguments)},r.dynCall_viiiiidiiiii=function(){return r.asm.dynCall_viiiiidiiiii.apply(null,arguments)},r.dynCall_viiiiiidiiiii=function(){return r.asm.dynCall_viiiiiidiiiii.apply(null,arguments)},r.dynCall_viiiiiidiiii=function(){return r.asm.dynCall_viiiiiidiiii.apply(null,arguments)},r.dynCall_viiiiiidiii=function(){return r.asm.dynCall_viiiiiidiii.apply(null,arguments)},r.dynCall_viiiiiidii=function(){return r.asm.dynCall_viiiiiidii.apply(null,arguments)},r.dynCall_viiiiifii=function(){return r.asm.dynCall_viiiiifii.apply(null,arguments)},r.dynCall_viiifii=function(){return r.asm.dynCall_viiifii.apply(null,arguments)},r.dynCall_viiifi=function(){return r.asm.dynCall_viiifi.apply(null,arguments)},r.dynCall_iiiddiid=function(){return r.asm.dynCall_iiiddiid.apply(null,arguments)},r.dynCall_viiddiid=function(){return r.asm.dynCall_viiddiid.apply(null,arguments)},r.dynCall_iiiddii=function(){return r.asm.dynCall_iiiddii.apply(null,arguments)},r.dynCall_iiiddi=function(){return r.asm.dynCall_iiiddi.apply(null,arguments)},r.dynCall_iiiddiiid=function(){return r.asm.dynCall_iiiddiiid.apply(null,arguments)},r.dynCall_viiddiiid=function(){return r.asm.dynCall_viiddiiid.apply(null,arguments)},r.dynCall_iiiiiiiididiii=function(){return r.asm.dynCall_iiiiiiiididiii.apply(null,arguments)},r.dynCall_iiiiiiiiiiiii=function(){return r.asm.dynCall_iiiiiiiiiiiii.apply(null,arguments)},r.dynCall_viiiidiiddi=function(){return r.asm.dynCall_viiiidiiddi.apply(null,arguments)},r.dynCall_viiiiidiiddi=function(){return r.asm.dynCall_viiiiidiiddi.apply(null,arguments)},r.dynCall_viiiidiidd=function(){return r.asm.dynCall_viiiidiidd.apply(null,arguments)},r.dynCall_viiiiidiidd=function(){return r.asm.dynCall_viiiiidiidd.apply(null,arguments)},r.dynCall_viiiiidiid=function(){return r.asm.dynCall_viiiiidiid.apply(null,arguments)},r.dynCall_iiiifiii=function(){return r.asm.dynCall_iiiifiii.apply(null,arguments)},r.dynCall_viiifiii=function(){return r.asm.dynCall_viiifiii.apply(null,arguments)},r.dynCall_iiiifii=function(){return r.asm.dynCall_iiiifii.apply(null,arguments)},r.dynCall_iiiifi=function(){return r.asm.dynCall_iiiifi.apply(null,arguments)},r.dynCall_iiiiiddiddi=function(){return r.asm.dynCall_iiiiiddiddi.apply(null,arguments)},r.dynCall_viiiiddiddi=function(){return r.asm.dynCall_viiiiddiddi.apply(null,arguments)},r.dynCall_iiiiiddidd=function(){return r.asm.dynCall_iiiiiddidd.apply(null,arguments)},r.dynCall_viiiiddidd=function(){return r.asm.dynCall_viiiiddidd.apply(null,arguments)},r.dynCall_iiiiiddid=function(){return r.asm.dynCall_iiiiiddid.apply(null,arguments)},r.dynCall_viiiiddid=function(){return r.asm.dynCall_viiiiddid.apply(null,arguments)},r.dynCall_iiiiiddi=function(){return r.asm.dynCall_iiiiiddi.apply(null,arguments)},r.dynCall_iiiiidd=function(){return r.asm.dynCall_iiiiidd.apply(null,arguments)},r.dynCall_iifff=function(){return r.asm.dynCall_iifff.apply(null,arguments)},r.dynCall_vifff=function(){return r.asm.dynCall_vifff.apply(null,arguments)},r.dynCall_iiff=function(){return r.asm.dynCall_iiff.apply(null,arguments)},r.dynCall_viff=function(){return r.asm.dynCall_viff.apply(null,arguments)},r.dynCall_iif=function(){return r.asm.dynCall_iif.apply(null,arguments)},r.dynCall_iiifiiiiiii=function(){return r.asm.dynCall_iiifiiiiiii.apply(null,arguments)},r.dynCall_viifiiiiiii=function(){return r.asm.dynCall_viifiiiiiii.apply(null,arguments)},r.dynCall_iiifiiiiii=function(){return r.asm.dynCall_iiifiiiiii.apply(null,arguments)},r.dynCall_viifiiiiii=function(){return r.asm.dynCall_viifiiiiii.apply(null,arguments)},r.dynCall_iiifiiiii=function(){return r.asm.dynCall_iiifiiiii.apply(null,arguments)},r.dynCall_viifiiiii=function(){return r.asm.dynCall_viifiiiii.apply(null,arguments)},r.dynCall_iiifiiii=function(){return r.asm.dynCall_iiifiiii.apply(null,arguments)},r.dynCall_viifiiii=function(){return r.asm.dynCall_viifiiii.apply(null,arguments)},r.dynCall_iiifiii=function(){return r.asm.dynCall_iiifiii.apply(null,arguments)},r.dynCall_viifiii=function(){return r.asm.dynCall_viifiii.apply(null,arguments)},r.dynCall_iiifii=function(){return r.asm.dynCall_iiifii.apply(null,arguments)},r.dynCall_viifii=function(){return r.asm.dynCall_viifii.apply(null,arguments)},r.dynCall_iiffff=function(){return r.asm.dynCall_iiffff.apply(null,arguments)},r.dynCall_viffff=function(){return r.asm.dynCall_viffff.apply(null,arguments)},r.dynCall_viifff=function(){return r.asm.dynCall_viifff.apply(null,arguments)},r.dynCall_iiifff=function(){return r.asm.dynCall_iiifff.apply(null,arguments)},r.dynCall_viijii=function(){return r.asm.dynCall_viijii.apply(null,arguments)},r.dynCall_ji=function(){return r.asm.dynCall_ji.apply(null,arguments)},r.dynCall_viiiiiiiiiiddi=function(){return r.asm.dynCall_viiiiiiiiiiddi.apply(null,arguments)},r.dynCall_v=function(){return r.asm.dynCall_v.apply(null,arguments)},r.dynCall_viiiiiiiiidd=function(){return r.asm.dynCall_viiiiiiiiidd.apply(null,arguments)},r.dynCall_fi=function(){return r.asm.dynCall_fi.apply(null,arguments)},r.dynCall_jiii=function(){return r.asm.dynCall_jiii.apply(null,arguments)},r.dynCall_vifi=function(){return r.asm.dynCall_vifi.apply(null,arguments)},r.dynCall_vij=function(){return r.asm.dynCall_vij.apply(null,arguments)},r.dynCall_iiiiiifiididiii=function(){return r.asm.dynCall_iiiiiifiididiii.apply(null,arguments)},r.dynCall_viiidiiddi=function(){return r.asm.dynCall_viiidiiddi.apply(null,arguments)},r.dynCall_jii=function(){return r.asm.dynCall_jii.apply(null,arguments)},r.dynCall_viji=function(){return r.asm.dynCall_viji.apply(null,arguments)},r.dynCall_jiji=function(){return r.asm.dynCall_jiji.apply(null,arguments)},r.dynCall_iidiiii=function(){return r.asm.dynCall_iidiiii.apply(null,arguments)},r.dynCall_iiiiij=function(){return r.asm.dynCall_iiiiij.apply(null,arguments)},r.dynCall_iiiiijj=function(){return r.asm.dynCall_iiiiijj.apply(null,arguments)},r.dynCall_iiiiiijj=function(){return r.asm.dynCall_iiiiiijj.apply(null,arguments)},r.asm=je,r.getMemory=function(t){return G?Ve(t):function(t){var e=S[Y>>2],n=e+t+15&-16;return n>Ee()&&nt(),S[Y>>2]=n,e}(t)},r.addRunDependency=tt,r.removeRunDependency=et,r.FS_createFolder=_t.createFolder,r.FS_createPath=_t.createPath,r.FS_createDataFile=_t.createDataFile,r.FS_createPreloadedFile=_t.createPreloadedFile,r.FS_createLazyFile=_t.createLazyFile,r.FS_createLink=_t.createLink,r.FS_createDevice=_t.createDevice,r.FS_unlink=_t.unlink,r.calledRun=Ne,r.then=function(t){if(Ne)t(r);else{var e=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){e&&e(),t(r)}}return r},$=function t(){Ne||Xe(),Ne||($=t)},r.run=Xe,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();function qe(t,e){this.x=void 0===t?0:t,this.y=void 0===e?0:e}function Je(){switch(arguments.length){case 0:this.center={x:0,y:0},this.size={width:0,height:0},this.angle=0;break;case 3:this.center=arguments[0],this.size=arguments[1],this.angle=arguments[2];break;default:throw new Error("Invalid arguments")}}function $e(t,e,n,i){this.push(void 0===t?0:t),this.push(void 0===e?0:e),this.push(void 0===n?0:n),this.push(void 0===i?0:i)}return Xe(),void 0===r.FS&&void 0!==_t&&(r.FS=_t),r.imread=function(e){var n,i=null,r=null;if((n="string"==typeof e?document.getElementById(e):e)instanceof HTMLImageElement)(i=document.createElement("canvas")).width=n.width,i.height=n.height,(r=i.getContext("2d",{willReadFrequently:!0})).drawImage(n,0,0,n.width,n.height);else{if(!(n instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas or img id.");r=(i=n).getContext("2d")}var o=r.getImageData(0,0,i.width,i.height);return t.matFromImageData(o)},r.imshow=function(e,n){var i=null;if(!((i="string"==typeof e?document.getElementById(e):e)instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas element or id.");if(!(n instanceof t.Mat))throw new Error("Please input the valid cv.Mat instance.");var r=new t.Mat,o=n.type()%8,a=o<=t.CV_8S?1:o<=t.CV_32S?1/256:255,s=o===t.CV_8S||o===t.CV_16S?128:0;switch(n.convertTo(r,t.CV_8U,a,s),r.type()){case t.CV_8UC1:t.cvtColor(r,r,t.COLOR_GRAY2RGBA);break;case t.CV_8UC3:t.cvtColor(r,r,t.COLOR_RGB2RGBA);break;case t.CV_8UC4:break;default:throw new Error("Bad number of channels (Source image must have 1, 3 or 4 channels)")}var l=new ImageData(new Uint8ClampedArray(r.data),r.cols,r.rows),c=i.getContext("2d");c.clearRect(0,0,i.width,i.height),i.width=l.width,i.height=l.height,c.putImageData(l,0,0),r.delete()},r.VideoCapture=function(e){var n;if(!((n="string"==typeof e?document.getElementById(e):e)instanceof HTMLVideoElement))throw new Error("Please input the valid video element or id.");var i=document.createElement("canvas");i.width=n.width,i.height=n.height;var r=i.getContext("2d");this.video=n,this.read=function(e){if(!(e instanceof t.Mat))throw new Error("Please input the valid cv.Mat instance.");if(e.type()!==t.CV_8UC4)throw new Error("Bad type of input mat: the type should be cv.CV_8UC4.");if(e.cols!==n.width||e.rows!==n.height)throw new Error("Bad size of input mat: the size should be same as the video.");r.drawImage(n,0,0,n.width,n.height),e.data.set(r.getImageData(0,0,n.width,n.height).data)}},r.Range=function(t,e){this.start=void 0===t?0:t,this.end=void 0===e?0:e},r.Point=qe,r.Size=function(t,e){this.width=void 0===t?0:t,this.height=void 0===e?0:e},r.Rect=function(){switch(arguments.length){case 0:this.x=0,this.y=0,this.width=0,this.height=0;break;case 1:var t=arguments[0];this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height;break;case 2:var e=arguments[0],n=arguments[1];this.x=e.x,this.y=e.y,this.width=n.width,this.height=n.height;break;case 4:this.x=arguments[0],this.y=arguments[1],this.width=arguments[2],this.height=arguments[3];break;default:throw new Error("Invalid arguments")}},Je.points=function(t){return r.rotatedRectPoints(t)},Je.boundingRect=function(t){return r.rotatedRectBoundingRect(t)},Je.boundingRect2f=function(t){return r.rotatedRectBoundingRect2f(t)},r.RotatedRect=Je,$e.prototype=new Array,$e.all=function(t){return new $e(t,t,t,t)},r.Scalar=$e,r.MinMaxLoc=function(){switch(arguments.length){case 0:this.minVal=0,this.maxVal=0,this.minLoc=new qe,this.maxLoc=new qe;break;case 4:this.minVal=arguments[0],this.maxVal=arguments[1],this.minLoc=arguments[2],this.maxLoc=arguments[3];break;default:throw new Error("Invalid arguments")}},r.Circle=function(){switch(arguments.length){case 0:this.center=new qe,this.radius=0;break;case 2:this.center=arguments[0],this.radius=arguments[1];break;default:throw new Error("Invalid arguments")}},r.TermCriteria=function(){switch(arguments.length){case 0:this.type=0,this.maxCount=0,this.epsilon=0;break;case 3:this.type=arguments[0],this.maxCount=arguments[1],this.epsilon=arguments[2];break;default:throw new Error("Invalid arguments")}},r.matFromArray=function(e,n,i,r){var o=new t.Mat(e,n,i);switch(i){case t.CV_8U:case t.CV_8UC1:case t.CV_8UC2:case t.CV_8UC3:case t.CV_8UC4:o.data.set(r);break;case t.CV_8S:case t.CV_8SC1:case t.CV_8SC2:case t.CV_8SC3:case t.CV_8SC4:o.data8S.set(r);break;case t.CV_16U:case t.CV_16UC1:case t.CV_16UC2:case t.CV_16UC3:case t.CV_16UC4:o.data16U.set(r);break;case t.CV_16S:case t.CV_16SC1:case t.CV_16SC2:case t.CV_16SC3:case t.CV_16SC4:o.data16S.set(r);break;case t.CV_32S:case t.CV_32SC1:case t.CV_32SC2:case t.CV_32SC3:case t.CV_32SC4:o.data32S.set(r);break;case t.CV_32F:case t.CV_32FC1:case t.CV_32FC2:case t.CV_32FC3:case t.CV_32FC4:o.data32F.set(r);break;case t.CV_64F:case t.CV_64FC1:case t.CV_64FC2:case t.CV_64FC3:case t.CV_64FC4:o.data64F.set(r);break;default:throw new Error("Type is unsupported")}return o},r.matFromImageData=function(e){var n=new t.Mat(e.height,e.width,t.CV_8UC4);return n.data.set(e.data),n},t});if("object"==typeof exports?t.exports=r:"function"==typeof define&&n.amdO?define([],(function(){return r})):"object"==typeof exports&&(exports.cv=r),void 0===o)var o={};return r(o)}))};class DM extends km{constructor(t){super(),this.functionReflection=void 0,this.callbackReflection=void 0,this.debugMode=void 0,this.socket=void 0,this.socketAddress=void 0,this.enablePageReload=void 0,this.env=void 0,this.platform=void 0,this.isMobile=void 0,this.invoke=void 0,this.canvas=void 0,this.container=void 0,this.pixelRatio=void 0,this.statsMode=void 0,this.staticFps=void 0,this.useWorker=void 0,this.antialias=void 0,this.logarithmicDepthBuffer=void 0,this.preserveDrawingBuffer=void 0,this.enhanceSkills=void 0,this.resourceUsageLevel=void 0,this.enableAICapability=void 0,this.onClickSplitArea=void 0,this.onMapId=void 0,this.onClickRoom=void 0,this.onLaserMapPoints=void 0,this.onPosPoints=void 0,this.onSplitLine=void 0,this.onLongPressInAreaView=void 0,this.onLoggerInfo=void 0,this.onClickModel=void 0,this.onModelLoadingProgress=void 0,this.onMapLoadEnd=void 0,this.onClickRoomMoreProperties=void 0,this.onGestureChange=void 0,this.onClickRoomProperties=void 0,this.onClickMapView=void 0,this.onGlobalError=void 0,this.onScreenSnapshot=void 0,this.onVirtualInfoRendered=void 0,this.onRobotPositionChange=void 0,this.onRenderContextLost=void 0,this.onRenderContextRestored=void 0,this.onContainerVisibilityChange=void 0,this.onContainerPageReload=void 0,this.onVirtualInfoOutOfBoundingBox=void 0,this.onClickMaterial=void 0,this.onClickInfoWindow=void 0,this.onCruiseStatusMapClick=void 0,this.onClickCustomLayer=void 0,this.onD3MapViewModeEnd=void 0,this.onBundleBinaryHandShake=void 0,this.indoorMap2d=void 0,this.createCanvasPromise=void 0,this.map=void 0,this.mapState=void 0,this.mapProps=void 0,this.forbidAreaData=void 0,this.virtualWallData=void 0,this.posPositionData=void 0,this.customLayerData=void 0,this.formatPathData=void 0,this.markerIcon=void 0,this.path=void 0,this.is3d=void 0,this.staticPrefix=void 0,this.pilePosition=void 0,this.nearLayer=void 0,this.mapWorker=void 0,this.pathWorker=void 0,this.pathWorkerArray=void 0,this.pathWorkerNum=void 0,this.mapWorkerArray=void 0,this.mapWorkerNum=void 0,this.initUseThreadMapStatus=!1,this.initUseThreadPathStatus=!1,this.bundleBinarySet=void 0,this.bundleBinaryCache=void 0,this.duringChangeView=!1,this.setUpFunctionReflection=()=>{const t={onDrawMapWithData:this.onDrawMapWithData,onDrawMapWithStructuredData:this.onDrawMapWithStructuredData,onDrawMapWithFn:this.onDrawMapWithFn,onDrawPathWithData:this.onDrawPathWithData,onDrawOriginPathWithFn:this.onDrawOriginPathWithFn,createPosPositionWithData:this.createPosPositionWithData,createForbidAreaWithData:this.createForbidAreaWithData,createVirtualWallWithData:this.createVirtualWallWithData,removeVirtualWallById:this.removeVirtualWallById,createCustomLayerWithData:this.createCustomLayerWithData,removeForbidAreaById:this.removeForbidAreaById,createOneCustomLayer:this.createOneCustomLayer,createOneVirtualWall:this.createOneVirtualWall,createOneForbidArea:this.createOneForbidArea,updateForbidAreaInfo:this.updateForbidAreaInfo,createOnePosPosition:this.createOnePosPosition,getMapSplitPoint:this.getMapSplitPoint,removePosPosition:this.removePosPosition,removePosPositionById:this.removePosPositionById,changeMapViewMode:this.changeMapViewMode,setD3EditMode:this.setD3EditMode,putModelInScene:this.putModelInScene,setFloorMaterial:this.setFloorMaterial,setPlaneFloorMaterialOnMap2d:this.setPlaneFloorMaterialOnMap2d,lockModelClick:this.lockModelClick,hideAllModelEditWrapper:this.hideAllModelEditWrapper,getAllModelInfo:this.getAllModelInfo,freezeMapUpdate:this.freezeMapUpdate,getModelInfo:this.getModelInfo,removeModelFromScene:this.removeModelFromScene,reCreatePathIntoScene:this.reCreatePathIntoScene,removePathFromScene:this.removePathFromScene,clearMap:this.clearMap,resizeMapView:this.resizeMapView,redrawMap:this.redrawMap,toggleMapViewVisible:this.toggleMapViewVisible,changeContainerColor:this.changeContainerColor,hideVirtualInfoLayer:this.hideVirtualInfoLayer,removeAllModelLayer:this.removeAllModelLayer,changeMapAreaColorWithNewConfig:this.changeMapAreaColorWithNewConfig,clearMapAreaColorWithNewConfig:this.clearMapAreaColorWithNewConfig,showPilePositionBreatheAnimation:this.showPilePositionBreatheAnimation,showRobotBreatheAnimation:this.showRobotBreatheAnimation,showRobotSleepAnimation:this.showRobotSleepAnimation,rotateViewRight:this.rotateViewRight,rotateViewLeft:this.rotateViewLeft,rotateViewScene:this.rotateViewScene,removeVirtualInfoLayer:this.removeVirtualInfoLayer,sceneRender:this.sceneRender,getMemoryInfo:this.getMemoryInfo,getCurrentScreenSnapshot:this.getCurrentScreenSnapshot,foldableSingleRoomInfoById:this.foldableSingleRoomInfoById,addLaserMapPosPoints:this.addLaserMapPosPoints,getMapAreaInfo:this.getMapAreaInfo,getAllMapAreaInfo:this.getAllMapAreaInfo,getMapAreaCount:this.getMapAreaCount,removeIndoorMapInstance:this.removeIndoorMapInstance,changeSplitMapState:this.changeSplitMapState,getLaserMapPointsInfo:this.getLaserMapPointsInfo,changeMapState:this.changeMapState,updateSelectRoom:this.updateSelectRoom,changeAllMapAreaColor:this.changeAllMapAreaColor,updateMapAreaColor:this.updateMapAreaColor,getCurrentMapState:this.getCurrentMapState,getCurrentMapCenter:this.getCurrentMapCenter,generateRandomSweepPoint:this.generateRandomSweepPoint,createAndPutSpriteIntoMap:this.createAndPutSpriteIntoMap,getMapPointsByPixelType:this.getMapPointsByPixelType,removeSpriteFromMap:this.removeSpriteFromMap,getCurrentRobotNDCPosition:this.getCurrentRobotNDCPosition,showPixelTypeOnMap2d:this.showPixelTypeOnMap2d,recoverPixelTypeOnMap2d:this.recoverPixelTypeOnMap2d,hideAllCarpetMaterial:this.hideAllCarpetMaterial,setShowBarrierFluorescenceOnMap2d:this.setShowBarrierFluorescenceOnMap2d,getSelectedAreaInfoList:this.getSelectedAreaInfoList,getPointsBySlopeAndCurrentRobotPosition:this.getPointsBySlopeAndCurrentRobotPosition,createOrUpdateTailLineForRobot:this.createOrUpdateTailLineForRobot,createInfoWindowLayer:this.createInfoWindowLayer,removeInfoWindowLayer:this.removeInfoWindowLayer,createCustomLayer:this.createCustomLayer,removeCustomLayer:this.removeCustomLayer,getAllCustomLayerInfo:this.getAllCustomLayerInfo,enableLayerMoveableEvent:this.enableLayerMoveableEvent};this.functionReflection=t},this.setUpCallbackReflection=()=>{const t={onMapInitThreadEnd:this.onMapInitThreadEnd,onClickSplitArea:this.onClickSplitArea,onMapId:this.onMapId,onClickRoom:this.onClickRoom,onClickModel:this.onClickModel,onModelLoadingProgress:this.onModelLoadingProgress,onMapLoadEnd:this.onMapLoadEnd,onPosPoints:this.onPosPoints,onSplitLine:this.onSplitLine,onClickRoomMoreProperties:this.onClickRoomMoreProperties,onClickRoomProperties:this.onClickRoomProperties,onClickMapView:this.onClickMapView,onLaserMapPoints:this.onLaserMapPoints,onScreenSnapshot:this.onScreenSnapshot,onVirtualInfoRendered:this.onVirtualInfoRendered,onLoggerInfo:this.onLoggerInfo,onClickMaterial:this.onClickMaterial,onClickInfoWindow:this.onClickInfoWindow,onCruiseStatusMapClick:this.onCruiseStatusMapClick,onClickCustomLayer:this.onClickCustomLayer,onD3MapViewModeEnd:this.onD3MapViewModeEnd,onContainerVisibilityChange:this.onContainerVisibilityChange,onContainerPageReload:this.onContainerPageReload};this.callbackReflection=t},this.getCvBinaryFromCache=async()=>{if(this.bundleBinaryCache&&this.enableAICapability&&"high"===this.resourceUsageLevel){const t=await this.bundleBinaryCache.getItem("cv");"string"!=typeof t||window.cv||(window.__INJECTED__BUNDLE__={},window.__INJECTED__BUNDLE__.wasmFile=t,TM(window.__INJECTED__BUNDLE__.wasmFile),this.debug.isDevMode&&this.logger.info("getCvBinaryFromCache executed successfully"))}},this.init=async()=>{try{const t={env:this.env,platform:this.platform,isMobile:this.isMobile,container:this.container,canvas:this.canvas,enablePageReload:this.enablePageReload,pixelRatio:this.pixelRatio,statsMode:this.statsMode,staticFps:this.staticFps,useWorker:this.useWorker,enhanceSkills:this.enhanceSkills,logarithmicDepthBuffer:this.logarithmicDepthBuffer,antialias:this.antialias,preserveDrawingBuffer:this.preserveDrawingBuffer,onLoggerInfo:this.onLoggerInfo,onGestureChange:this.onGestureChange,onClickMapView:this.onClickMapView,onGlobalError:this.onGlobalError,onScreenSnapshot:this.onScreenSnapshot,onRenderContextLost:this.onRenderContextLost,onRenderContextRestored:this.onRenderContextRestored,onContainerVisibilityChange:this.onContainerVisibilityChange,onContainerPageReload:this.onContainerPageReload},e=new Um(t);return await e.init(),e&&(e.enable3dControls(!1),e.setTopScene(),this.indoorMap2d=e),!0}catch(t){this.logger.error("init ==>",t)}},this.createWebSocket=()=>{this.socket=new LM(this.socketAddress,[],{debug:!1}),this.socket.addEventListener("open",this.socketOpen)},this.socketOpen=()=>{this.logger.info("WebSocket connect successful"),this.isMobile||this.socket.addEventListener("message",this.socketMessage)},this.socketMessage=t=>{if("string"==typeof t.data){const e=JSON.parse(t.data);this.passMessageFromInvokeFunction(e.name,this[e.name],e.args)}else if(t.data instanceof Blob){var e=new FileReader;e.readAsText(t.data),e.onload=t=>{const n=t.target.result,i=JSON.parse(n);this.passMessageFromInvokeFunction(i.name,this[i.name],i.args),e=null}}},this.passMessageFromInvokeFunction=(t,e,n)=>{if(this.isMobile&&this.socket&&this.socket.readyState===LM.OPEN){const e=JSON.stringify({name:t,args:n});this.socket.send(e)}if(e)return vd(n)?e(...n):function(t){return void 0===t}(n)?e():e(n)},this.onMapInitThreadEnd=t=>{t&&this.afterInitMap()},this.onPathInitThreadEnd=t=>{t&&(this.initUseThreadPathStatus=!0)},this.removeThreadEvt=()=>{try{Em(this.env)&&(this.pathWorker&&(this.pathWorker.terminate(),this.pathWorker=null),this.mapWorker&&(this.mapWorker.terminate(),this.mapWorker=null))}catch(t){this.logger.warn("removeThreadEvt occur error ==>",t)}},this.afterInitMap=()=>{var t;null!=(t=this.map)&&t.layer?(this.indoorMap2d.map=this.map,this.indoorMap2d.scene.add(this.map.layer),this.createPilePosition(this.mapState,this.is3d),this.is3d?this.indoorMap2d.map.setD3ViewMode(!0):this.indoorMap2d.map.setD3ViewMode(!1),this.initUseThreadMapStatus=!0,this.indoorMap2d.redraw(),this.duringChangeView=!1,this.logger.info("afterInitMap function has been called")):this.logger.warn("afterInitMap function has been called: the map layer is still empty")},this.removeIndoorMapInstance=()=>{this.indoorMap2d&&this.clearCacheData(),this.removeThreadEvt(),this.removeBundleBinaryReceiveEvent(),this.removeBundleBinaryHandShakeEvent(),this.socket&&(this.socket.removeEventListener("open",this.socketOpen),this.socket.removeEventListener("message",this.socketMessage))},this.getMemoryInfo=()=>this.indoorMap2d?this.indoorMap2d.getMemoryInfo():{},this.getCurrentScreenSnapshot=()=>this.indoorMap2d?this.indoorMap2d.screenSnapshot(!0,!0):{},this.getCurrentRobotNDCPosition=()=>{if(this.path){const t=this.path.getRobotLayer();return t?t.getCurrentRobotNDCPosition():null}return null},this.getCurrentMapState=()=>this.indoorMap2d.map?this.indoorMap2d.map.getCurrentMapState():null,this.getCurrentMapCenter=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getCurrentMapCenter()},this.sceneRender=t=>{this.indoorMap2d&&this.indoorMap2d.sceneRender(t)},this.clearCacheData=()=>{this.clearMap(),this.indoorMap2d.cancelAnimation(),this.indoorMap2d.removeIndoorMap2DEvent(),this.functionReflection=null,this.callbackReflection=null,this.invoke=null,this.canvas=null,this.container=null,this.indoorMap2d=null},this.rotateViewScene=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewScene(t)},this.rotateViewRight=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewRight(t)},this.rotateViewLeft=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.rotateViewLeft(t)},this.removeVirtualInfoLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeVirtualInfoLayer(t)},this.invokeEventFunction=()=>{this.invoke&&this.functionReflection&&Object.keys(this.functionReflection).forEach((t=>{this.invoke.define(t,((...e)=>this.passMessageFromInvokeFunction(t,this.functionReflection[t],e)))}))},this.changeContainerColor=(t,e)=>{if(this.indoorMap2d){const n=bg(t);let i=this.is3d;void 0!==e&&(i=e),i?this.indoorMap2d.setD3BgColor(n):this.indoorMap2d.setBgColor(n)}},this.addLaserMapPosPoints=t=>{if(this.indoorMap2d&&this.indoorMap2d.map)return this.createOnePosPosition(t,this.indoorMap2d.map.appointIcon,this.indoorMap2d.map.is3d)},this.createForbidAreaWithData=async(t,e=!1)=>{var n;this.forbidAreaData=[...t];const i=this.is3d||e;if(this.logger.info("called createForbidAreaWithData function",t,this.is3d,i),null!=(n=this.map)&&n.layer){this.removeAllForbidAreaData();const e=[];return t&&t.forEach((t=>{const n=this.createOneForbidArea(t,i);e.push(n)})),this.map.checkDataUploadAfterCreate(),e}{const t=()=>new Promise((t=>{const e=[],n=setInterval((()=>{var r;null!=(r=this.map)&&r.layer&&(n&&clearInterval(n),this.removeAllForbidAreaData(),this.forbidAreaData&&this.forbidAreaData.forEach((t=>{const n=this.createOneForbidArea(t,i);e.push(n)})),this.map.checkDataUploadAfterCreate(),t(e))}),200)}));return await t()}},this.removeAllForbidAreaData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Rt.areaSet||t.dataInfo.type===Rt.virtualArea)).forEach((t=>{const e=t.removeForbidArea();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removeForbidAreaById=t=>{this.map&&this.map.areaInfo.filter((e=>(e.dataInfo.type===Rt.areaSet||e.dataInfo.type===Rt.virtualArea)&&e.dataInfo.data.id===t)).forEach((t=>{const e=t.removeForbidArea();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.createOneForbidArea=(t,e=!1)=>{const n=this.is3d||e;if(this.logger.info("call createOneForbidArea function",t,this.is3d,n),this.indoorMap2d&&this.indoorMap2d.map){var i,r,o,a,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x,b,M,L,C,B,S,E,T,D,I,P,k,F,U,R,O,H,Y,Q,j,N,W,V,z,G,K,Z,X;const{minAreaWidth:e=(null==(i=this.mapState)?void 0:i.minAreaWidth),isRotate:q=(null==(r=this.mapState)?void 0:r.isRotate),factor:J=(null==(o=this.mapState)||null==(o=o.factorInfo)?void 0:o.factor),font:$=(null==(a=this.mapState)||null==(a=a.factorInfo)?void 0:a.font),color:tt=(null==(s=this.mapState)||null==(s=s.factorInfo)?void 0:s.color),area:et}=t,nt={id:et.id,text:null==(l=et.content)?void 0:l.text,renameEnable:null==(c=et.content)?void 0:c.renameEnable,deleteEnable:void 0===(null==(A=et.content)?void 0:A.deleteEnable)||(null==(u=et.content)?void 0:u.deleteEnable),minAreaWidth:void 0!==(null==(d=et.box)?void 0:d.minAreaWidth)?null==(h=et.box)?void 0:h.minAreaWidth:e,minAreaHeight:void 0!==(null==(p=et.box)?void 0:p.minAreaHeight)?null==(f=et.box)?void 0:f.minAreaHeight:e,maxAreaWidth:void 0!==(null==(m=et.box)?void 0:m.maxAreaWidth)?null==(g=et.box)?void 0:g.maxAreaWidth:1/0,maxAreaHeight:void 0!==(null==(y=et.box)?void 0:y.maxAreaHeight)?null==(v=et.box)?void 0:v.maxAreaHeight:1/0,points:et.points,isRotate:void 0!==(null==(_=et.content)?void 0:_.rotateEnable)?null==(w=et.content)?void 0:w.rotateEnable:q,is3d:n,borderColor:null==(x=et.box)?void 0:x.borderColor,bgColor:null==(b=et.box)?void 0:b.bgColor,isDash:null==(M=et.box)?void 0:M.isDash,dashSize:null==(L=et.box)?void 0:L.dashSize,gapSize:null==(C=et.box)?void 0:C.gapSize,lineWidth:null==(B=et.box)?void 0:B.lineWidth,useImageSizeAsAreaSizeLimit:void 0!==(null==(S=et.box)?void 0:S.useImageSizeAsAreaSizeLimit)&&(null==(E=et.box)?void 0:E.useImageSizeAsAreaSizeLimit),imageMode:void 0!==(null==(T=et.content)?void 0:T.imageMode)?null==(D=et.content)?void 0:D.imageMode:"static",imagePadding:void 0!==(null==(I=et.content)?void 0:I.imagePadding)?null==(P=et.content)?void 0:P.imagePadding:10,image:null==(k=et.content)?void 0:k.image,imageSize:null==(F=et.content)?void 0:F.imageSize,imageScale:null==(U=et.content)?void 0:U.imageScale,imageIsScale:null==(R=et.content)?void 0:R.imageIsScale,textColor:null==(O=et.content)?void 0:O.textColor,textSize:null==(H=et.content)?void 0:H.textSize,textPosition:null==(Y=et.content)?void 0:Y.position,showVertexImage:null==(Q=et.vertex)?void 0:Q.showVertexImage,vertexType:null==(j=et.vertex)?void 0:j.vertexType,vertexImages:null==(N=et.vertex)?void 0:N.vertexImages,vertexColor:null==(W=et.vertex)?void 0:W.vertexColor,vertexExtendTimes:null==(V=et.vertex)?void 0:V.vertexExtendTimes,radius:null==(z=et.vertex)?void 0:z.radius,showUnitText:null==(G=et.unit)?void 0:G.showUnitText,unitTextFontSize:null==(K=et.unit)?void 0:K.textSize,unitTextColor:null==(Z=et.unit)?void 0:Z.textColor,unitPosition:null==(X=et.unit)?void 0:X.position,factor:J,font:$,color:tt,extend:et.extend,areaType:et.type,type:et.type,origin:this.map.origin,viewType:et.viewType,visible:void 0===et.visible||et.visible},it={indoorMap2d:this.indoorMap2d,showEditable:this.indoorMap2d.map.edit,...nt,onLongPressInAreaView:this.onLongPressInAreaView,onLaserMapPoints:this.onLaserMapPoints,onLoggerInfo:this.onLoggerInfo,onVirtualInfoOutOfBoundingBox:this.onVirtualInfoOutOfBoundingBox},rt=new vy(it),ot=rt.getDataInfo();return this.map.addSweepLayer(rt),this.map.checkDataUploadAfterCreate(),ot}return null},this.updateForbidAreaInfo=t=>{var e;const n=this.map.areaInfo.filter((t=>t.dataInfo.type===Rt.areaSet||t.dataInfo.type===Rt.virtualArea)),i=n.findIndex((e=>e.id===t.id));void 0!==(null==(e=t.content)?void 0:e.text)&&n[i].updateText(t.content.text)},this.createVirtualWallWithData=async(t,e=!1)=>{var n;this.virtualWallData=[...t];const i=this.is3d||e;if(this.logger.info("called createVirtualWallWithData function",t,this.is3d,i),null!=(n=this.map)&&n.layer){this.removeAllVirtualWallData();const e=[];return t&&t.forEach((t=>{const n=this.createOneVirtualWall(t,i);e.push(n)})),this.map.checkDataUploadAfterCreate(),e}{const t=()=>new Promise((t=>{const e=[],n=setInterval((()=>{var r;null!=(r=this.map)&&r.layer&&(n&&clearInterval(n),this.removeAllVirtualWallData(),this.virtualWallData&&this.virtualWallData.forEach((t=>{const n=this.createOneVirtualWall(t,i);e.push(n)})),this.map.checkDataUploadAfterCreate(),t(e))}),200)}));return await t()}},this.removeAllVirtualWallData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Rt.virtualWall)).forEach((t=>{const e=t.removeVirtualWall();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removeVirtualWallById=t=>{if(this.map){const e=(this.map.areaInfo||[]).filter((e=>{const{type:n,data:i}=e.dataInfo;return n===Rt.virtualWall&&i.id===t}));e.forEach((t=>{const e=t.removeVirtualWall();-1!==e&&this.map.removeFromAreaInfo(e)}))}},this.createCustomLayerWithData=async(t,e)=>{var n;if(this.customLayerData=[...t],this.logger.info("createCustomLayerWithData ==>",t),null!=(n=this.map)&&n.layer){this.removeAllCustomLayerWithData();const n=[];return t&&t.forEach((t=>{const i=this.createOneCustomLayer(t,e);n.push(i)})),this.map.checkDataUploadAfterCreate(),n}{const t=()=>new Promise((t=>{const n=[],i=setInterval((()=>{var r;null!=(r=this.map)&&r.layer&&(i&&clearInterval(i),this.removeAllCustomLayerWithData(),this.customLayerData&&this.customLayerData.forEach((t=>{const i=this.createOneCustomLayer(t,e);n.push(i)})),this.map.checkDataUploadAfterCreate(),t(n))}),200)}));return await t()}},this.createOneCustomLayer=(t,e)=>{if(this.indoorMap2d&&this.indoorMap2d.map){const e={x:t.points[0].x,y:t.points[0].y,containElement:t.containElement,attributes:t.attributes},n={indoorMap2d:this.indoorMap2d,edit:this.indoorMap2d.map.edit,origin:this.indoorMap2d.map.origin,center:this.indoorMap2d.map.center,onClickCustomLayer:this.onClickCustomLayer,onLoggerInfo:this.onLoggerInfo,...e},i=new mM(n),r=i.getDataInfo();return this.map.addSweepLayer(i),this.map.checkDataUploadAfterCreate(),r}return null},this.removeAllCustomLayerWithData=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===jt.CustomLayer)).forEach((t=>{const e=t.removeCustomLayerFromScene();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.createOneVirtualWall=(t,e=!1)=>{const n=this.is3d||e;if(this.logger.info("called createOneVirtualWall function",t,this.is3d,n),this.indoorMap2d&&this.indoorMap2d.map){var i,r,o,a,s,l,c,A,u,d,h,p,f,m,g,y,v;const{factor:e=(null==(i=this.mapState)||null==(i=i.factorInfo)?void 0:i.factor),font:_=(null==(r=this.mapState.factorInfo)?void 0:r.font),color:w=(null==(o=this.mapState)?void 0:o.factorInfo.color),area:x}=t,b={id:x.id,is3d:n,points:x.points,factor:e,font:_,color:w,lineWidth:null==(a=x.line)?void 0:a.lineWidth,isDash:null==(s=x.line)?void 0:s.isDash,dashSize:null==(l=x.line)?void 0:l.dashSize,gapSize:null==(c=x.line)?void 0:c.gapSize,bgColor:bg(null==(A=x.line)?void 0:A.bgColor),showVertexImage:null==(u=x.vertex)?void 0:u.showVertexImage,sideVertex:x.sideVertex,vertexType:null==(d=x.vertex)?void 0:d.vertexType,visible:void 0===x.visible||x.visible,vertexImages:null==(h=x.vertex)?void 0:h.vertexImages,vertexColor:null==(p=x.vertex)?void 0:p.vertexColor,radius:null==(f=x.vertex)?void 0:f.radius,vertexExtendTimes:null==(m=x.vertex)?void 0:m.vertexExtendTimes,showUnitText:null==(g=x.unit)?void 0:g.showUnitText,unitTextFontSize:null==(y=x.unit)?void 0:y.textSize,unitTextColor:null==(v=x.unit)?void 0:v.textColor,extend:x.extend,origin:this.map.origin},M={indoorMap2d:this.indoorMap2d,showEditable:this.indoorMap2d.map.edit,onLaserMapPoints:this.onLaserMapPoints,onLoggerInfo:this.onLoggerInfo,onVirtualInfoOutOfBoundingBox:this.onVirtualInfoOutOfBoundingBox,...b},L=new ay(M),C=L.getDataInfo();return this.map.addSweepLayer(L),this.map.checkDataUploadAfterCreate(),C}return null},this.createOnePosPosition=(t,e,n=!1)=>{if(this.is3d,this.indoorMap2d&&this.indoorMap2d.map){this.posPositionData.push(t);const{points:n,pos:i,unit:r,visible:o}=t,{x:a,y:s}=n[0];if(this.map.shouldCreatePosToRun()){let n;this.indoorMap2d.sceneRender(!1),i&&(n={...i,unit:r});const l=!!n,c=new _y({id:t.id,indoorMap2d:this.indoorMap2d,animate:!1,origin:this.map.origin,position:new ln(a,s),appointIcon:e,isScale:l,posParams:n,scale:.02*this.indoorMap2d.getFitScale(),visible:void 0===o||o,onPosPoints:this.onPosPoints,onLoggerInfo:this.onLoggerInfo});return this.map.addSweepLayer(c),this.sceneRender(!0),c.getDataInfo()}}return null},this.removePosPosition=()=>{this.map&&this.removeAllPosPosition()},this.removeAllPosPosition=()=>{this.map&&this.map.areaInfo.filter((t=>t.dataInfo.type===Rt.pressToRun)).forEach((t=>{const e=t.removePosPosition();-1!==e&&this.map.removeFromAreaInfo(e)}))},this.removePosPositionById=t=>{if(this.map){const e=(this.map.areaInfo||[]).filter((e=>{const{type:n,data:i}=e.dataInfo;return n===Rt.pressToRun&&i.id===t}));e.forEach((e=>{this.logger.info("removePosPositionById ==>9999",e.dataInfo,t);const n=e.removePosPosition();-1!==n&&this.map.removeFromAreaInfo(n)}))}},this.createPosPositionWithData=async(t,e,n=!1)=>{var i;const r=this.is3d||n;if(this.posPositionData=[...t],null!=(i=this.map)&&i.layer){this.removeAllPosPosition(),this.posPositionData=[];const n=[];return t&&t.forEach((t=>{const i=this.createOnePosPosition(t,e,r);n.push(i)})),n}{const t=()=>new Promise((t=>{const n=[],i=setInterval((()=>{var o;null!=(o=this.map)&&o.layer&&(i&&clearInterval(i),this.removeAllPosPosition(),this.posPositionData&&this.posPositionData.forEach((t=>{const i=this.createOnePosPosition(t,e,r);n.push(i)})),t(n))}),200)}));return await t()}},this.changeMapViewMode=t=>{var e,n,i,r,o;this.logger.info("called changeMapViewMode function",t),this.duringChangeView=!0,null!=(e=this.indoorMap2d.map)&&e.layer&&(null==(n=this.pilePosition)||n.removePilePosition(),null==(i=this.nearLayer)||i.removeNearCircle(),null==(r=this.path)||r.removeCleanPathRobotLayer(),null==(o=this.path)||o.removeCleanPath(),this.removeAllPosPosition(),this.indoorMap2d.map.removeAllModelLayer(),this.indoorMap2d.map.removeMap(),this.indoorMap2d.map=null,this.pilePosition=null,this.nearLayer=null,this.path=null,this.map=null,this.initUseThreadMapStatus=!1,this.initUseThreadPathStatus=!1),this.is3d=t,this.mapState.is3d=this.is3d,this.createNewMap(this.mapState);const a=setInterval((()=>{var t;null!=(t=this.map)&&t.layer&&(a&&clearInterval(a),this.createNewPath(this.formatPathData,this.markerIcon,this.is3d),this.createForbidAreaWithData(this.forbidAreaData,this.is3d),this.createVirtualWallWithData(this.virtualWallData,this.is3d))}),200)},this.setD3EditMode=(t,e)=>{e=e||"3d",this.indoorMap2d.map.setD3EditMode(t,e),this.pilePosition&&"3d"===e&&(this.pilePosition.removePilePosition(),this.pilePosition=null)},this.showPilePositionBreatheAnimation=(t,e)=>{this.pilePosition&&this.pilePosition.showBreathe(!t,e)},this.showRobotBreatheAnimation=(t,e)=>{this.path&&this.path.getRobotLayer()&&this.path.getRobotLayer().showBreathe(!t,e)},this.showRobotSleepAnimation=t=>{this.path&&this.path.getRobotLayer()&&this.path.getRobotLayer().showSleepBreathe(!t)},this.putModelInScene=async(t,e)=>{try{if(this.indoorMap2d.map){const n=this.indoorMap2d.map.getCenter(),i=this.indoorMap2d.map.origin,r=!e||!e.point,o=e&&e.point?new yn(Number(e.point.x),Number(e.point.y),0):{x:n.x-i.x,y:n.y-i.y,z:0},a={infoKey:e.infoKey,info:e.info,scale:e&&e.scale?e.scale:1,rotate:e&&e.rotate?e.rotate:0,origin:e&&e.origin?e.origin:{x:0,y:0},point:o};if(this.indoorMap2d.map.modelLoader){const e=await this.indoorMap2d.map.modelLoader.loadModelLayer(t,a,r);return e&&e.layer?(this.indoorMap2d.map.addModelLayer(e),{target:e.layer.id,value:t.value}):null}return null}return this.logger.info("the map is still init."),null}catch(t){this.logger.error("putModelInScene occur error ==>",t)}},this.setFloorMaterial=(t,e)=>null,this.setPlaneFloorMaterialOnMap2d=t=>{if(this.indoorMap2d.map)return{target:this.indoorMap2d.map.setPlaneFloorMaterialOnMap2d(t).layer.id,value:t.value}},this.lockModelClick=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.lockModelClick(t)},this.getAllModelInfo=()=>this.indoorMap2d.map?this.indoorMap2d.map.getAllModelInfo():[],this.hideAllModelEditWrapper=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideAllModelEditWrapper()},this.freezeMapUpdate=t=>{if(this.indoorMap2d.map){if(this.indoorMap2d.map.freezeMapUpdate(t),this.logger.info("called freezeMapUpdate function ==>",t),!t&&this.mapState){const t=this.constantParams(this.mapState,this.is3d);this.indoorMap2d.map.updateLaserMap(t),this.indoorMap2d.updateEnhanceSkills(t.enhanceSkills)}this.path&&!t&&this.formatPathData&&this.path.updateCleanPathPoints(this.formatPathData)}},this.getModelInfo=t=>this.indoorMap2d.map?this.indoorMap2d.map.getModelInfo(t):null,this.removeModelFromScene=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeModelLayer(t)},this.removePathFromScene=()=>{this.path&&this.path.removeCleanPathChild()},this.removeAllModelLayer=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeAllModelLayer()},this.reCreatePathIntoScene=()=>{this.formatPathData&&this.markerIcon?(this.path&&(this.path.removeCleanPathRobotLayer(),this.path.removeCleanPath(),this.path=null),this.createNewPath(this.formatPathData,this.markerIcon,this.is3d)):this.logger.warn("reCreatePathIntoScene No pathData or markerIcon")},this.clearMap=()=>{if(this.isMobile&&this.socket&&this.socket.readyState===LM.OPEN){const t=JSON.stringify({name:"clearMap"});this.socket.send(t)}var t,e,n,i,r,o;this.map&&(this.removeAllForbidAreaData(),this.removeAllVirtualWallData(),null==(t=this.path)||t.removeCleanPathRobotLayer(),null==(e=this.path)||e.removeCleanPath(),null==(n=this.pilePosition)||n.removePilePosition(),null==(i=this.nearLayer)||i.removeNearCircle(),this.removeAllPosPosition(),null==(r=this.map)||r.removeAllModelLayer(),null==(o=this.map)||o.removeMap(),this.map=null,this.forbidAreaData=[],this.virtualWallData=[],this.posPositionData=[],this.formatPathData=null,this.markerIcon=null,this.path=null,this.pilePosition=null,this.nearLayer=null,this.mapState=null)},this.resizeMapView=()=>{this.indoorMap2d&&this.indoorMap2d.resize()},this.redrawMap=()=>{this.indoorMap2d&&this.indoorMap2d.redraw()},this.toggleMapViewVisible=t=>{const e=t?"block":"none";this.indoorMap2d&&this.indoorMap2d.container&&(this.indoorMap2d.container.style.display=e)},this.postBundleBinary=async t=>{window.__INJECTED__BUNDLE__||fetch(t+"/smart/robot/front/binary.txt").then((t=>t.ok?t.text():Promise.reject())).then((t=>{Mm("bundleBinaryReceive",{type:"end",data:{key:"wasmBinaryFile",binary:t}})})).catch((t=>{console.error(":",t)}))},this.onBundleBinaryReceiveEvent=t=>{try{const{type:e}=t,{key:n,binary:i}=t.data;this.logger.info("onBundleBinaryReceiveEvent",n,e),"end"===e&&"wasmBinaryFile"===n&&(window.cv?this.logger.info("bundle has been existed"):(window.__INJECTED__BUNDLE__={},window.__INJECTED__BUNDLE__.wasmFile=i,TM(window.__INJECTED__BUNDLE__.wasmFile),this.bundleBinaryCache.setItem("cv",i),this.logger.info("executed bundle binary")))}catch(t){this.logger.error("onBundleBinaryReceiveEvent",t)}},this.registerBundleBinaryReceiveEvent=()=>{bm("bundleBinaryReceive",this.onBundleBinaryReceiveEvent)},this.removeBundleBinaryReceiveEvent=()=>{Lm("bundleBinaryReceive",this.onBundleBinaryReceiveEvent)},this.registerBundleBinaryHandShakeEvent=()=>{bm("bundleBinaryHandShake",this.onBundleBinaryHandShakeEvent)},this.removeBundleBinaryHandShakeEvent=()=>{Lm("bundleBinaryHandShake",this.onBundleBinaryHandShakeEvent)},this.onDrawMapWithData=t=>{var e;if(t.useStructuredMode)this.logger.warn("useStructuredMode is true, do not use onDrawMapWithData, please use onDrawMapWithStructuredData instead");else if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawMapWithData");else{if(this.isMobile&&this.socket&&this.socket.readyState===LM.OPEN){const e=JSON.stringify({name:"onDrawMapWithData",args:t});this.socket.send(e)}if(null!=(e=this.map)&&e.layer){this.mapState=t;const e=this.constantParams(t,t.is3d);this.map.updateLaserMap(e),this.createPilePosition(t,t.is3d),this.indoorMap2d.updateEnhanceSkills(e.enhanceSkills)}else this.mapState=t,this.map||this.createNewMap(t)}},this.onDrawMapWithStructuredData=t=>{var e;if(this.isMobile&&this.socket&&this.socket.readyState===LM.OPEN){const e=JSON.stringify({name:"onDrawMapWithStructuredData",args:t});this.socket.send(e)}if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawMapWithData");else if(null!=(e=this.map)&&e.layer){this.mapState=t;const e=this.constantParams(t,t.is3d);this.map.updateLaserMap(e),this.createPilePosition(t,t.is3d),this.indoorMap2d.updateEnhanceSkills(e.enhanceSkills)}else this.mapState=t,this.map||this.createNewMap(t)},this.onMapThreadEvt=t=>{const{mapStateMap:e,textureObject:n,mapIdentify:i,timestamp:r=(new Date).getTime()}=t,o=(new Date).getTime();this.logger.info("asynchronous decode map origin data time ==>",o-r),this.mapProps.mapData.map=e,this.mapProps.mapData.textureObject=n,delete this.mapProps.mapData.decodeMapDataFn,this.onDrawMapWithData(this.mapProps);let a=null;if(void 0!==i){const t=this.mapWorkerArray.findIndex((t=>t.mapIdentify===i));-1!==t?t!==this.mapWorkerArray.length-1?(a=this.mapWorkerArray.pop(),this.mapWorkerArray=[a]):this.mapWorkerArray.pop():this.mapWorkerArray.length&&(a=this.mapWorkerArray[this.mapWorkerArray.length-1],this.mapWorkerArray=[a])}if(a){const t=Object.assign({},a);this.mapProps=Object.assign({},t.mapProps),delete t.mapProps,this.mapWorker.postMessage(t)}},this.onDrawMapWithFn=t=>{try{if(t.useStructuredMode)return void this.logger.warn("useStructuredMode is true, do not use onDrawMapWithFn, please use onDrawMapWithStructuredData instead");if(this.duringChangeView)return void this.logger.warn("duringChangeView is true, do not use onDrawMapWithFn");let e=t;const n=t.mapData,i=void 0===t.initUseThread||t.initUseThread;if(null!=t&&t.timestamp&&"number"==typeof t.timestamp){const e=(new Date).getTime();this.debug.isDevMode&&this.logger.warn("transfer map data cost time ==>",e-t.timestamp)}if(null!=n&&n.decodeMapDataFn){const t=i||this.initUseThreadMapStatus;if(Em(this.env)&&this.useWorker&&t&&(this.mapWorker||(this.mapWorker=Im(BM),this.mapWorker.onMessage(this.onMapThreadEvt))),this.mapWorker&&t){const t=(new Date).getTime(),i={mapIdentify:this.mapWorkerNum++,decodeMapDataFn:n.decodeMapDataFn,mapProps:e,timestamp:t};if(this.mapWorkerArray.length)return void this.mapWorkerArray.push(i);this.mapWorkerArray.push(i);const r=Object.assign({},i);this.mapProps=Object.assign({},r.mapProps),delete r.mapProps,this.mapWorker.postMessage(r)}else{const t=(new Date).getTime(),i=new(Function||window.Function)(n.decodeMapDataFn),{mapStateMap:r,textureObject:o}=i(),a=(new Date).getTime();this.logger.info("synchronous decode map data time ==>",a-t),n.map=r,n.textureObject=o,delete n.decodeMapDataFn,e.mapData=n,this.onDrawMapWithData(e)}}else this.onDrawMapWithData(t)}catch(t){throw this.logger.warn("onDrawMapWithFn occur an error ==>",t),t}},this.changeMapState=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeMapState(t,e)},this.changeAllMapAreaColor=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeAllMapAreaColor(t)},this.updateMapAreaColor=(t,e,n=!1)=>{this.indoorMap2d.map&&this.indoorMap2d.map.updateMapAreaColor(t,e,n)},this.changeMapAreaColorWithNewConfig=(t,e,n)=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeMapAreaColorWithNewConfig(t,e,n)},this.clearMapAreaColorWithNewConfig=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.clearMapAreaColorWithNewConfig()},this.changeSplitMapState=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.changeSplitMapState(t)},this.getLaserMapPointsInfo=t=>this.indoorMap2d.map?this.indoorMap2d.map.getLaserMapPointsInfo(t):null,this.hideVirtualInfoLayer=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideForbidOrWallLayer(t,e)},this.removeVirtualInfoLayer=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.removeVirtualInfoLayer(t)},this.getMapAreaInfo=(t,e,n)=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getMapAreaInfo(t,e,n)},this.getAllMapAreaInfo=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getAllMapAreaInfo(t)},this.getMapAreaCount=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getMapAreaCount()},this.foldableSingleRoomInfoById=(t,e,n)=>{this.indoorMap2d.map&&this.indoorMap2d.map.foldableSingleRoomInfoById(t,e,n)},this.updateSelectRoom=(t,e)=>{this.indoorMap2d.map&&this.indoorMap2d.map.updateSelectRoomByIds(t,e)},this.constantParams=(t,e)=>{var n;const i=this.callbackPropsDispatch(),r=t.useStructuredMode?t.mapStructuredData:t.mapData;return this.is3d=t.is3d,r.staticPrefix&&""===this.staticPrefix&&(this.postBundleBinary(r.staticPrefix),this.staticPrefix=r.staticPrefix),{mapState:r,useStructuredMode:t.useStructuredMode,staticPrefix:r.staticPrefix||"",dataMapId:r.dataMapId,mapId:t.mapId,asynchronousLoadMap:void 0===t.asynchronousLoadMap||t.asynchronousLoadMap,areaInfoList:t.areaInfoList,factor:(null==(n=t.factorInfo)?void 0:n.factor)||.05,indoorMap2d:this.indoorMap2d,useWorker:this.useWorker,resourceUsageLevel:this.resourceUsageLevel,enableAICapability:this.enableAICapability,container:this.container,initUseThread:void 0===t.initUseThread||t.initUseThread,initUseParserCache:void 0!==t.initUseParserCache&&t.initUseParserCache,splitColor:bg(t.splitColor||"#FF000000"),selectedParams:t.selectedParams||{checkedIcon:{checkedIconEnable:!1}},splitLineParams:t.splitLineParams||{vertex:{},checkedIcon:{checkedIconEnable:!0}},mergeRoomParams:t.mergeRoomParams||{checkedIcon:{checkedIconEnable:!0}},orderParams:t.orderParams||{orderType:"default"},planPathColor:bg(t.planPathColor||"#FFFFFFFF"),pathLinearAnimate:void 0!==t.pathLinearAnimate&&t.pathLinearAnimate,pathWidth:t.pathWidth,pathVisible:void 0===t.pathVisible||t.pathVisible,appointIcon:t.appointIcon,is3d:e,enhanceSkills:t.enhanceSkills||[],d3BgColor:bg(t.d3BgColor||"#FFFFFFFF"),bgColor:bg(t.bgColor||"#FFFFFFFF"),d3WallColor:t.d3WallColor||"#FFE1E1E1",d3FloorColor:t.d3FloorColor||"#FFCACBD2",d3WallTexture:t.d3WallTexture||void 0,d3EditWrapperParams:t.d3EditWrapperParams,maxRoomPropertyLength:void 0!==t.maxRoomPropertyLength?t.maxRoomPropertyLength:3,selectRoomData:t.selectRoomData,showSelectRoomOrder:void 0===t.showSelectRoomOrder||t.showSelectRoomOrder,platform:this.platform,posParams:t.posParams||void 0,d3CarpetMaterial:t.d3CarpetMaterial||{},rotateMapAngle:t.rotateMapAngle||0,multiplePosPosition:void 0!==t.multiplePosPosition&&t.multiplePosPosition,...i}},this.callbackPropsDispatch=()=>{let t={};return this.callbackReflection&&Object.keys(this.callbackReflection).forEach((e=>{t[e]=(...t)=>this.passMessageFromInvokeFunction(e,this.callbackReflection[e],t)})),t},this.createNewMap=async t=>{var e;await this.createCanvasPromise,this.is3d&&this.indoorMap2d.forceFpsDownToStaticFps(5);const n=this.constantParams(t,t.is3d);null==(e=this.indoorMap2d)||e.updateEnhanceSkills(n.enhanceSkills),this.map=new gM(n)},this.createPilePosition=(t,e=!1)=>{const n=t.useStructuredMode?t.mapStructuredData:t.mapData,i=t.pilePosition,r=this.is3d||e;if(this.pilePosition)if(i&&void 0!==i.x&&void 0!==i.y){this.pilePosition.hidePilePosition(!1),this.pilePosition.updatePilePosition(i,n.origin);const{theta:t=0,startTheta:e=0}=i,r=(t-e)*Math.PI/180;this.pilePosition.updatePilePositionDirection(r)}else this.pilePosition.hidePilePosition(!0);else if(i&&void 0!==i.x&&void 0!==i.y){var o,a,s,l,c,A,u;const e=void 0!==(null==(o=i.iconParams)?void 0:o.pileIcon)?null==(a=i.iconParams)?void 0:a.pileIcon:t.pileIcon,d=void 0!==(null==(s=i.iconParams)?void 0:s.isScale)&&(null==(l=i.iconParams)?void 0:l.isScale),h=void 0!==(null==(c=i.iconParams)?void 0:c.scale)?null==(A=i.iconParams)?void 0:A.scale:.01,p={indoorMap2d:this.indoorMap2d,is3d:r,origin:n.origin,pileIcon:e,isScale:d,scale:h*this.indoorMap2d.getFitScale(),position:i,animation:i.animation,onLoggerInfo:this.onLoggerInfo,pileModelHref:i.pileModelHref};this.pilePosition=new Cg(p),null==(u=this.map.layer)||u.add(this.pilePosition.layer);const{theta:f=0,startTheta:m=0}=i,g=(f-m)*Math.PI/180;this.pilePosition.updatePilePositionDirection(g)}var d;i&&void 0!==i.hidden?i.hidden?this.nearLayer&&this.nearLayer.hideNearCircle(!0):this.nearLayer&&void 0!==i.x&&void 0!==i.y?(this.nearLayer.updateNearCirclePosition(i),this.nearLayer.hideNearCircle(!1)):void 0!==i.x&&void 0!==i.y&&(this.nearLayer=new Nm({position:i,origin:this.map.origin,bgColor:i.bgColor,borderColor:i.borderColor,radius:i.radius,onLoggerInfo:this.onLoggerInfo}),null==(d=this.map.layer)||d.add(this.nearLayer.layer)):this.nearLayer&&this.nearLayer.hideNearCircle(!0)},this.newPathFunc=(t,e,n=!1)=>{const i=this.is3d||n,r=this.createRobot(e,i);if(r){var o;const n={is3d:i,useWorker:this.useWorker,markerIcon:e,indoorMap2d:this.indoorMap2d,pathData:t,robot:r,origin:this.map.origin,pathWidth:this.map.pathWidth,pathVisible:this.map.pathVisible,pathLinearAnimate:this.map.pathLinearAnimate,distanceToCamera:this.map.distanceToCamera,onRobotPositionChange:this.onRobotPositionChange,onLoggerInfo:this.onLoggerInfo,onPathInitThreadEnd:this.onPathInitThreadEnd};null==(o=this.path)||o.removeCleanPath(),this.path=this.map.setPathInstance(new oy(n))}},this.createNewPath=async(t,e,n=!1)=>{var i;const r=this.is3d||n;if(null==(i=this.map)||!i.layer){const n=()=>new Promise((n=>{const i=setInterval((()=>{var o;null!=(o=this.map)&&o.layer&&(i&&clearInterval(i),this.newPathFunc(t,e,r),n())}),200)}));return await n()}this.newPathFunc(t,e,r)},this.createRobot=(t,e=!1)=>{var n;let i=null;if(null!=(n=this.map)&&n.layer){var r,o,a,s;const n="string"!=typeof t,c=n?null==t?void 0:t.markerIcon:t,A=n&&void 0!==(null==t||null==(r=t.iconParams)?void 0:r.scale)?null==t||null==(o=t.iconParams)?void 0:o.scale:.01,u=!!n&&void 0!==(null==t||null==(a=t.iconParams)?void 0:a.isScale)&&(null==t||null==(s=t.iconParams)?void 0:s.isScale);if(this.path&&(i=this.path.getRobotLayer()),!i){var l;const t={indoorMap2d:this.indoorMap2d,origin:null==(l=this.indoorMap2d.map)?void 0:l.origin,is3d:e,markerIcon:c,isScale:u,scale:A*this.indoorMap2d.getFitScale(),position:new ln(9999,9999),onLoggerInfo:this.onLoggerInfo};i=new Jg(t),this.map.addSweepLayer(i)}}return i},this.enableMapClickGesture=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.enableMapClickGesture(t)},this.enableLayerMoveableEvent=t=>{this.indoorMap2d&&this.indoorMap2d.enableLayerMoveableEvent(t)},this.getMapSplitPoint=()=>{if(this.map){const t=this.map.splitState;if(t===Ot.merge)return this.map.getRoomMergePointsInfo();if(t===Ot.split)return this.map.getSplitLinePointsInfo()}},this.onDrawPathWithData=async(t,e,n=!1)=>{var i;const r=this.is3d||n;if(this.isMobile&&this.socket&&this.socket.readyState===LM.OPEN){const n=JSON.stringify({name:"onDrawPathWithData",args:[t,e,r]});this.socket.send(n)}if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawPathWithData");else if(await this.createCanvasPromise,0!==t.length){if(this.formatPathData=t,this.markerIcon=e,null!=(i=this.map)&&i.layer)this.path?this.path.updateCleanPathPoints(t):this.createNewPath(t,e,r);else{const t=setInterval((()=>{var e;null!=(e=this.map)&&e.layer&&(t&&clearInterval(t),this.path?this.path.updateCleanPathPoints(this.formatPathData):this.createNewPath(this.formatPathData,this.markerIcon,r))}),100)}this.indoorMap2d.redraw()}},this.onPathThreadEvt=t=>{const{formatPathData:e,markerIcon:n,is3d:i,pathIdentify:r,timestamp:o=(new Date).getTime()}=t,a=(new Date).getTime();this.logger.info("asynchronous decode path data time ==>",a-o);let s=null;if(void 0!==r){const t=this.pathWorkerArray.findIndex((t=>t.pathIdentify===r));-1!==t?t!==this.pathWorkerArray.length-1?(s=this.pathWorkerArray.pop(),this.pathWorkerArray=[s]):this.pathWorkerArray.pop():this.pathWorkerArray.length&&(s=this.pathWorkerArray.pop(),this.pathWorkerArray=[s])}s&&this.pathWorker.postMessage(s);try{this.onDrawPathWithData(e,n,i)}catch(t){this.logger.warn("onDrawPathWithData ==>",t)}},this.onDrawOriginPathWithFn=async(t,e,n=!1,i=void 0)=>{if(this.duringChangeView)this.logger.warn("duringChangeView is true, do not use onDrawPathWithData");else{if(i&&"number"==typeof i){const t=(new Date).getTime();this.debug.isDevMode&&this.logger.warn("transfer path data cost time ==>",t-i)}if(this.mapState)this.onDrawOriginPathFunc(t,e,n);else{const i=()=>new Promise((i=>{const r=setInterval((()=>{this.mapState&&(r&&clearInterval(r),this.onDrawOriginPathFunc(t,e,n),i())}),16)}));await i()}}},this.onDrawOriginPathFunc=(t,e,n=!1)=>{const i=void 0===this.mapState.initUseThread||this.mapState.initUseThread||this.initUseThreadPathStatus;if(Em(this.env)&&this.useWorker&&i&&(this.pathWorker||(this.pathWorker=Im(EM),this.pathWorker.onMessage(this.onPathThreadEvt))),this.pathWorker&&i){const i=(new Date).getTime(),r={pathIdentify:this.pathWorkerNum++,originPathDataFn:t,markerIcon:e,is3d:n,timestamp:i};if(this.pathWorkerArray.length)return void this.pathWorkerArray.push(r);this.pathWorkerArray.push(r),this.pathWorker.postMessage(r)}else{const i=(new Date).getTime(),r=new(Function||window.Function)(t)(),o=(new Date).getTime();this.logger.info("synchronous decode path data time ==>",o-i),this.onDrawPathWithData(r,e,n)}},this.generateRandomSweepPoint=t=>this.indoorMap2d.map?this.indoorMap2d.map.generateRandomSweepPoint(t):null,this.createAndPutSpriteIntoMap=t=>this.indoorMap2d.map?this.indoorMap2d.map.createAndPutSpriteIntoMap(t):null,this.createOrUpdateTailLineForRobot=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.createOrUpdateTailLineForRobot(t)},this.getPointsBySlopeAndCurrentRobotPosition=async t=>{if(this.path){const e=this.path.getRobotLayer();return e?e.getPointsBySlopeAndCurrentRobotPosition(t):[]}{const e=()=>new Promise((e=>{const n=setInterval((()=>{if(this.path){let i=[];n&&clearInterval(n);const r=this.path.getRobotLayer();r&&(i=r.getPointsBySlopeAndCurrentRobotPosition(t)),e(i)}}),16)}));return await e()}},this.removeSpriteFromMap=t=>this.indoorMap2d.map?this.indoorMap2d.map.removeSpriteFromMap(t):null,this.getMapPointsByPixelType=t=>this.indoorMap2d.map?this.indoorMap2d.map.getMapPointsByPixelType(t):null,this.showPixelTypeOnMap2d=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.showPixelTypeOnMap2d(t)},this.recoverPixelTypeOnMap2d=()=>{this.indoorMap2d.map&&this.indoorMap2d.map.recoverPixelTypeOnMap2d()},this.hideAllCarpetMaterial=t=>{this.indoorMap2d.map&&this.indoorMap2d.map.hideAllCarpetMaterial(t)},this.setShowBarrierFluorescenceOnMap2d=(t,e,n,i)=>{this.indoorMap2d.map&&this.indoorMap2d.map.setShowBarrierFluorescenceOnMap2d(t,e,n,i)},this.getSelectedAreaInfoList=()=>this.indoorMap2d.map?this.indoorMap2d.map.getSelectedAreaInfoList():null,this.createInfoWindowLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.createInfoWindowLayer(t)},this.removeInfoWindowLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeInfoWindowLayer(t)},this.createCustomLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.createCustomLayer(t)},this.removeCustomLayer=t=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.removeCustomLayer(t)},this.getAllCustomLayerInfo=()=>{if(this.indoorMap2d.map)return this.indoorMap2d.map.getAllCustomLayerInfo()};const e=void 0===t.useWorker||t.useWorker;this.debugMode=void 0!==t.debugMode&&t.debugMode,this.socketAddress=t.socketAddress||"ws://172.20.10.3:8088",this.enablePageReload=void 0!==t.enablePageReload&&t.enablePageReload,this.env=void 0!==t.env?t.env:kt.webview,this.platform=void 0!==t.platform?t.platform:Pt.ios,this.isMobile=void 0!==t.isMobile?t.isMobile:nd.mobile,this.invoke=t.invoke,this.canvas=t.canvas,this.container=t.container,this.pixelRatio=t.pixelRatio||window&&window.devicePixelRatio||1,this.statsMode=void 0!==t.statsMode?t.statsMode:-1,this.staticFps=void 0!==t.staticFps?t.staticFps:10,this.resourceUsageLevel=void 0!==t.resourceUsageLevel?t.resourceUsageLevel:"high",this.enableAICapability=void 0!==t.enableAICapability&&t.enableAICapability,this.useWorker=e&&"high"===this.resourceUsageLevel,this.antialias=void 0===t.antialias||t.antialias,this.preserveDrawingBuffer=void 0===t.preserveDrawingBuffer||t.preserveDrawingBuffer,this.logarithmicDepthBuffer=void 0===t.logarithmicDepthBuffer||t.logarithmicDepthBuffer,this.enhanceSkills=void 0!==t.enhanceSkills?t.enhanceSkills:[],this.bundleBinarySet={},this.bundleBinaryCache=new _b("bundleBinaryCache"),this.onClickSplitArea=t.onClickSplitArea||(()=>{}),this.onMapId=t.onMapId||(()=>{}),this.onClickRoom=t.onClickRoom||(()=>{}),this.onLaserMapPoints=t.onLaserMapPoints||(()=>{}),this.onPosPoints=t.onPosPoints||(()=>{}),this.onLongPressInAreaView=t.onLongPressInAreaView||(()=>{}),this.onLoggerInfo=t.onLoggerInfo||(()=>{}),this.onGlobalError=t.onGlobalError||(()=>{}),this.onClickModel=t.onClickModel||(()=>{}),this.onModelLoadingProgress=t.onModelLoadingProgress||(()=>{}),this.onMapLoadEnd=t.onMapLoadEnd||(()=>{}),this.onClickRoomMoreProperties=t.onClickRoomMoreProperties||(()=>{}),this.onGestureChange=t.onGestureChange||(()=>{}),this.onClickRoomProperties=t.onClickRoomProperties||(()=>{}),this.onClickMapView=t.onClickMapView||(()=>{}),this.onSplitLine=t.onSplitLine||(()=>{}),this.onScreenSnapshot=t.onScreenSnapshot||(()=>{}),this.onVirtualInfoRendered=t.onVirtualInfoRendered||(()=>{}),this.onRobotPositionChange=t.onRobotPositionChange||(()=>{}),this.onRenderContextLost=t.onRenderContextLost||(()=>{}),this.onRenderContextRestored=t.onRenderContextRestored||(()=>{}),this.onContainerVisibilityChange=t.onContainerVisibilityChange||(()=>{}),this.onContainerPageReload=t.onContainerPageReload||(()=>{}),this.onVirtualInfoOutOfBoundingBox=t.onVirtualInfoOutOfBoundingBox||(()=>{}),this.onClickMaterial=t.onClickMaterial||(()=>{}),this.onClickInfoWindow=t.onClickInfoWindow||(()=>{}),this.onCruiseStatusMapClick=t.onCruiseStatusMapClick||(()=>{}),this.onClickCustomLayer=t.onClickCustomLayer||(()=>{}),this.onD3MapViewModeEnd=t.onD3MapViewModeEnd||(()=>{}),this.onBundleBinaryHandShake=(...e)=>{this.passMessageFromInvokeFunction("onBundleBinaryHandShake",t.onBundleBinaryHandShake||(()=>{}),e)},this.logger.setLoggerInfo(this.onLoggerInfo),this.setUpFunctionReflection(),this.setUpCallbackReflection(),this.posPositionData=[],this.forbidAreaData=[],this.virtualWallData=[],this.customLayerData=[],this.pathWorkerArray=[],this.pathWorkerNum=0,this.mapWorkerArray=[],this.mapWorkerNum=0,this.is3d=!1,this.staticPrefix="",this.debugMode&&this.createWebSocket(),this.createCanvasPromise=this.init(),this.invokeEventFunction(),this.registerBundleBinaryReceiveEvent(),this.registerBundleBinaryHandShakeEvent(),this.getCvBinaryFromCache(),this.logger.info("resourceUsageLevel ==>",this.resourceUsageLevel),this.logger.info("enableAICapability ==>",this.enableAICapability),this.logger.info("enablePageReload ==>",this.enablePageReload)}}const IM={ColorUtils:Lg,JsonUtils:lm,NumberUtils:od,StringUtils:pm,DomUtils:Du,GeometryUtils:yy,OtherUtils:Jb}},710:(t,e,n)=>{"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){if(Array.isArray(t))return i(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return r(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function c(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}var A=Object.create,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,m=function(t,e,n,i){var r=!0,o=!1,a=void 0;if(e&&"object"==(void 0===e?"undefined":l(e))||"function"==typeof e)try{for(var s,c=function(){var r=s.value;!f.call(t,r)&&r!==n&&u(t,r,{get:function(){return e[r]},enumerable:!(i=d(e,r))||i.enumerable})},A=h(e)[Symbol.iterator]();!(r=(s=A.next()).done);r=!0)c()}catch(t){o=!0,a=t}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return t},g=function(t,e,n){return n=null!=t?A(p(t)):{},m(!e&&t&&t.__esModule?n:u(n,"default",{value:t,enumerable:!0}),t)},y={};!function(t,e){for(var n in e)u(t,n,{get:e[n],enumerable:!0})}(y,{BITMAP_TYPE_HEX_MAP:function(){return it},BITMAP_TYPE_MAP:function(){return rt},BITMAP_TYPE_MAP_REFLECTION:function(){return st},BITMAP_TYPE_MAP_V2:function(){return ot},DEFAULT_HIGHLIGHT_MAP_COLOR:function(){return et},DEFAULT_NORMAL_MAP_COLOR:function(){return nt},DELETE_MAP_CMD_APP_V1:function(){return ve},DELETE_MAP_CMD_ROBOT_V1:function(){return _e},DO_NOT_DISTURB_CMD_APP_V1:function(){return re},DO_NOT_DISTURB_CMD_APP_V2:function(){return ae},DO_NOT_DISTURB_CMD_ROBOT_V1:function(){return oe},DO_NOT_DISTURB_CMD_ROBOT_V2:function(){return se},EXTEND_FEATURE_HEADER:function(){return me},FEATURE_DECODE_MAP:function(){return Le},LOCAL_TIMER_CMD_APP_30:function(){return le},LOCAL_TIMER_CMD_ROBOT_31:function(){return ce},MAP_VERSION_MAP:function(){return at},PARTITION_DIVISION_CMD_APP_V1:function(){return Wt},PARTITION_DIVISION_CMD_ROBOT_V1:function(){return Vt},PARTITION_MERGE_CMD_APP_V1:function(){return zt},PARTITION_MERGE_CMD_ROBOT_V1:function(){return Gt},PATH_HEADER_LENGTH:function(){return gt},PATH_POINT_TYPE_MAP:function(){return yt},POINT_HEX_TOTAL:function(){return q},QUICK_MAP_CMD_APP_V1:function(){return Ae},QUICK_MAP_CMD_ROBOT_V1:function(){return ue},RESET_MAP_CMD_APP_V1:function(){return de},RESET_MAP_CMD_ROBOT_V1:function(){return he},ROOM_CLEAN_CMD_APP_V1:function(){return kt},ROOM_CLEAN_CMD_APP_V2:function(){return Ut},ROOM_CLEAN_CMD_ROBOT_V1:function(){return Ft},ROOM_CLEAN_CMD_ROBOT_V2:function(){return Rt},ROOM_NAME_LENGTH:function(){return $},ROOM_ORDER_CMD_APP_V1:function(){return Ot},ROOM_ORDER_CMD_ROBOT_V1:function(){return Ht},ROOM_PROPERTY_LENGTH:function(){return J},ROOM_VERTICES_NUM_LENGTH:function(){return tt},SAVE_MAP_CMD_APP_V1:function(){return ge},SAVE_MAP_CMD_ROBOT_V1:function(){return ye},SET_FLOOR_MATERIAL_CMD_APP_V1:function(){return pe},SET_FLOOR_MATERIAL_CMD_ROBOT_V1:function(){return fe},SET_ROOM_NAME_CMD_APP_V1:function(){return Jt},SET_ROOM_NAME_CMD_ROBOT_V1:function(){return $t},SET_ROOM_PROPERTY_CMD_APP_V1:function(){return Kt},SET_ROOM_PROPERTY_CMD_APP_V2:function(){return Xt},SET_ROOM_PROPERTY_CMD_ROBOT_V1:function(){return Zt},SET_ROOM_PROPERTY_CMD_ROBOT_V2:function(){return qt},SPOT_CLEAN_CMD_APP_V1:function(){return Yt},SPOT_CLEAN_CMD_APP_V2:function(){return jt},SPOT_CLEAN_CMD_ROBOT_V1:function(){return Qt},SPOT_CLEAN_CMD_ROBOT_V2:function(){return Nt},STANDARD_FEATURE_HEADER:function(){return Lt},UNKNOWN_AREA_ID:function(){return lt},UNKNOWN_AREA_ID_V2:function(){return ct},USE_MAP_CMD_APP_V1:function(){return we},USE_MAP_CMD_ROBOT_V1:function(){return xe},VIRTUAL_AREA_CMD_APP_V1:function(){return Tt},VIRTUAL_AREA_CMD_APP_V2:function(){return It},VIRTUAL_AREA_CMD_ROBOT_V1:function(){return Dt},VIRTUAL_AREA_CMD_ROBOT_V2:function(){return Pt},VIRTUAL_WALL_CMD_APP_V1:function(){return Ct},VIRTUAL_WALL_CMD_APP_V2:function(){return St},VIRTUAL_WALL_CMD_ROBOT_V1:function(){return Bt},VIRTUAL_WALL_CMD_ROBOT_V2:function(){return Et},VOICE_APP_V1:function(){return be},VOICE_ROBOT_V1:function(){return Me},ZONE_CLEAN_CMD_APP_V1:function(){return te},ZONE_CLEAN_CMD_APP_V2:function(){return ne},ZONE_CLEAN_CMD_ROBOT_V1:function(){return ee},ZONE_CLEAN_CMD_ROBOT_V2:function(){return ie},addHex:function(){return E},arrayBufferToOctetStream:function(){return K},bytes2Str:function(){return k},bytesToHexString:function(){return T},circleIntersectRect:function(){return Ui},combineTwoBinaryToHex:function(){return j},completionTimeZone:function(){return U},convertColorToArgbHex:function(){return N},convertDataArrayToDataStr:function(){return Ie},dealPL:function(){return L},dealScale:function(){return S},decodeAiPicData:function(){return bt},decodeAiPicHDData:function(){return Mt},decodeDeleteMap0x2d:function(){return xi},decodeDeleteMapV1:function(){return bi},decodeDeviceTimer0x31:function(){return hi},decodeDoNotDisturb0x33:function(){return ni},decodeDoNotDisturb0x41:function(){return oi},decodeDoNotDisturbV2:function(){return ai},decodeMap:function(){return mt},decodeMapData:function(){return pt},decodeMapHeader:function(){return X},decodeMapStructured:function(){return ft},decodePartitionDivision0x1d:function(){return Tn},decodePartitionDivisionV1:function(){return Dn},decodePartitionMerge0x1f:function(){return kn},decodePartitionMergeV1:function(){return Fn},decodePath:function(){return xt},decodePathData:function(){return wt},decodePathHeader:function(){return vt},decodeRoomClean0x15:function(){return ze},decodeRoomClean0x57:function(){return Je},decodeRoomCleanV1:function(){return Ge},decodeRoomCleanV2:function(){return $e},decodeRoomOrder0x27:function(){return on},decodeRoomOrderV1:function(){return an},decodeSaveMap0x2b:function(){return yi},decodeSaveMapV1:function(){return vi},decodeSetRoomFloorMaterial0x53:function(){return fi},decodeSetRoomName0x25:function(){return On},decodeSetRoomNameV1:function(){return Hn},decodeSetRoomProperty0x23:function(){return jn},decodeSetRoomProperty0x59:function(){return Vn},decodeSetRoomPropertyV1:function(){return Nn},decodeSpotClean0x17:function(){return un},decodeSpotClean0x3f:function(){return gn},decodeSpotCleanV1:function(){return dn},decodeSpotCleanV2:function(){return yn},decodeStandardFeatureCommand:function(){return Se},decodeUseMap0x2f:function(){return Ci},decodeUseMapV1:function(){return Bi},decodeVirtualArea0x1b:function(){return wn},decodeVirtualArea0x39:function(){return Cn},decodeVirtualAreaV2:function(){return Bn},decodeVirtualWall0x13:function(){return Re},decodeVirtualWall0x49:function(){return Qe},decodeVirtualWallV1:function(){return Oe},decodeVoice0x35:function(){return Ei},decodeZoneClean0x29:function(){return Kn},decodeZoneClean0x3b:function(){return $n},decodeZoneCleanV2:function(){return ti},encodeDeleteMap0x2c:function(){return _i},encodeDeleteMapV1:function(){return wi},encodeDeviceTimer0x30:function(){return di},encodeDoNotDisturb0x32:function(){return ei},encodeDoNotDisturb0x40:function(){return ii},encodeDoNotDisturbV2:function(){return ri},encodeExtendFeatureCommand:function(){return Be},encodePartitionDivision0x1c:function(){return Sn},encodePartitionDivisionV1:function(){return En},encodePartitionMerge0x1e:function(){return In},encodePartitionMergeV1:function(){return Pn},encodeQuickMap0x3c:function(){return ci},encodeQuickMapV1:function(){return Ai},encodeResetMap0x42:function(){return si},encodeResetMapV1:function(){return li},encodeRoomClean0x14:function(){return We},encodeRoomClean0x56:function(){return Xe},encodeRoomCleanV1:function(){return Ve},encodeRoomCleanV2:function(){return qe},encodeRoomOrder0x26:function(){return nn},encodeRoomOrderV1:function(){return rn},encodeSaveMap0x2a:function(){return mi},encodeSaveMapV1:function(){return gi},encodeSetRoomFloorMaterial0x52:function(){return pi},encodeSetRoomName0x24:function(){return Un},encodeSetRoomNameV1:function(){return Rn},encodeSetRoomProperty0x22:function(){return Yn},encodeSetRoomProperty0x58:function(){return Wn},encodeSetRoomPropertyV1:function(){return Qn},encodeSpotClean0x16:function(){return cn},encodeSpotClean0x3e:function(){return fn},encodeSpotCleanV1:function(){return An},encodeSpotCleanV2:function(){return mn},encodeStandardFeatureCommand:function(){return Ce},encodeUseMap0x2e:function(){return Mi},encodeUseMapV1:function(){return Li},encodeVirtualArea0x1a:function(){return _n},encodeVirtualArea0x38:function(){return Mn},encodeVirtualAreaV2:function(){return Ln},encodeVirtualWall0x12:function(){return Fe},encodeVirtualWall0x48:function(){return Ye},encodeVirtualWallV1:function(){return Ue},encodeVoice0x34:function(){return Si},encodeZoneClean0x28:function(){return Gn},encodeZoneClean0x3a:function(){return qn},encodeZoneCleanV2:function(){return Jn},from16To2:function(){return V},getCmdStrFromStandardFeatureCommand:function(){return Te},getFeatureProtocolVersion:function(){return Ee},getHexXYFromXY:function(){return H},getMapProtocolVersion:function(){return Z},hexPlusLen:function(){return F},hexStringToNumber:function(){return Y},hexToUTF8:function(){return D},hexToUriDecodedString:function(){return I},highLowToInt:function(){return C},isAdjacent:function(){return Ii},isBorder:function(){return Pi},lastChar:function(){return O},makeXYArray:function(){return G},numToHexString:function(){return b},parseRoomHexId:function(){return x},parseRoomId:function(){return w},pointToLine:function(){return Di},processHex:function(){return z},requestRoomClean0x15:function(){return je},requestRoomClean0x57:function(){return Ke},requestRoomCleanV1:function(){return Ne},requestRoomCleanV2:function(){return Ze},requestRoomOrder0x26:function(){return tn},requestRoomOrderV1:function(){return en},requestSpotClean0x17:function(){return sn},requestSpotClean0x3f:function(){return hn},requestSpotCleanV1:function(){return ln},requestSpotCleanV2:function(){return pn},requestVirtualArea0x1b:function(){return vn},requestVirtualArea0x39:function(){return xn},requestVirtualAreaV2:function(){return bn},requestVirtualWall0x13:function(){return Pe},requestVirtualWall0x49:function(){return He},requestVirtualWallV1:function(){return ke},requestZoneClean0x29:function(){return zn},requestZoneClean0x3b:function(){return Zn},requestZoneCleanV2:function(){return Xn},scaleNumber:function(){return M},stringToAtHex:function(){return R},stringToByte:function(){return P},subStrToInt:function(){return W},transformChargeXY:function(){return Q},transformXY:function(){return B}}),t.exports=function(t){return m(u({},"__esModule",{value:!0}),t)}(y);var v=n(1808),_=g(n(8207)),w=function(t){var e=6;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1){case 1:default:e=6;break;case 2:e=5}var n=(0,v.padStart)(parseInt(t,16).toString(2),8,"0");return parseInt(n.slice(0,e),2)},x=function(t){return function(t,e){if((0,v.isUndefined)(t)||(0,v.isNull)(t))return"";var n=Number(t).toString(2)+e,i=parseInt(n,2);return(0,v.padStart)(i.toString(16),2,"0")}(t,1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)?rt.sweep:ot.sweep)},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Number(t).toString(16);return(0,v.padStart)(n,e,"0")},M=function(t,e){return Number((e/Math.pow(10,t)).toFixed(t))},L=function(t){return t>32767?t-65535:t},C=function(t,e){return e+(t<<8)},B=function(t,e){return M(t,L(e))},S=function(t,e){var n=t;return"string"==typeof t&&(n=parseFloat(t)),Number(n.toFixed(e))*Math.pow(10,e)},E=function(t){return t.match(/\w{2}/g).map((function(t){return parseInt(t,16)})).reduce((function(t,e){return t+e}),0)},T=function(t){return t.map((function(t){var e=(t>>>4).toString(16),n=(15&t).toString(16);return"".concat(e).concat(n)})).join("")},D=function(t){try{var e=t.match(/.{1,2}/g);if(!e||0===e.length)return"";for(var n=new Uint8Array(e.length),i=0,r=0;r<e.length;r++){var o=parseInt(e[r],16);o>31&&127!==o&&(n[i++]=o)}var a=n.slice(0,i);return Array.from(a).map((function(t){return String.fromCharCode(t)})).join("")}catch(t){return console.error(t),""}},I=function(t){if(!t)return"";try{var e=t.match(/.{1,2}/g);if(!e)return"";var n=e.filter((function(t){var e=parseInt(t,16);return e>31&&127!==e}));return 0===n.length?"":decodeURIComponent("%"+n.join("%"))}catch(t){return console.error("Decoding error:",t),""}},P=function(t){for(var e,n=[],i=t.length,r=0;r<i;r++)(e=t.charCodeAt(r))>=65536&&e<=1114111?(n.push(e>>18&7|240),n.push(e>>12&63|128),n.push(e>>6&63|128),n.push(63&e|128)):e>=2048&&e<=65535?(n.push(e>>12&15|224),n.push(e>>6&63|128),n.push(63&e|128)):e>=128&&e<=2047?(n.push(e>>6&31|192),n.push(63&e|128)):n.push(255&e);return n},k=function(t){for(var e="",n=0;n<t.length;n++){var i=t[n].toString(16);1===i.length&&(i="0".concat(i)),e+=i}return e},F=function(t,e){var n=t.length;return t+"0000000000000000000000000000000000000000".slice(0,2*e-n)},U=function(t){var e=Number(t).toString(2),n=e.length,i=(n>=8?e.slice(8):"00000000".slice(0,8-n)+e).split("").map((function(t){return"1"===t?"0":"1"})).join("");return parseInt(i,2)+1},R=function(t){for(var e="",n=0;n<t.length;n++)""===e?e=t.charCodeAt(n).toString(16):e+="".concat(t.charCodeAt(n).toString(16));return e},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(n.length-e,n.length)},H=function(t,e){var n=t.x,i=t.y,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=e.x*Math.pow(10,r),a=e.y*Math.pow(10,r);return{hexX:b((65535+S(n,r)-o)%65535,4),hexY:b((65535+a-S(i,r))%65535,4)}},Y=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=0;i<t.length;i+=2*e){var r=t.slice(i,i+2*e),o=parseInt(r,16);n.push(o)}return n},Q=function(t,e){var n=t.chargeX,i=t.chargeY,r=e.originX,o=e.originY;return n<=0&&i<=0?null:{x:n-r,y:i-o}},j=function(t,e){return parseInt((t+e).slice(-8),2).toString(16).padStart(2,"0")},N=function(t){var e=(0,_.default)(t);if(!e.isValid())throw new Error("Invalid color format");var n=e.toRgb();return"#"+(Math.round(255*e.getAlpha()).toString(16).padStart(2,"0")+n.r.toString(16).padStart(2,"0")+n.g.toString(16).padStart(2,"0")+n.b.toString(16).padStart(2,"0")).toUpperCase()},W=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return parseInt(t.slice(e,e+n),16)||0},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return(0,v.padStart)(parseInt(t,16).toString(2),e,"0")},z=function(t){var e=parseInt(t,16);if(e<0){var n=Math.abs(e).toString(2),i=(n=n.padStart(16,"0")).split("").map((function(t){return"0"===t?"1":"0"})).join(""),r=(parseInt(i,2)+1).toString(2).padStart(16,"0");return parseInt(r,2).toString(16).toUpperCase()}return t.substring(4,8)},G=function(){var t,e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=(null!==(e=(null!==(t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/\w{8}/g))&&void 0!==t?t:[]).map((function(t){return z(t)})).join("").match(/\w{2}/g))&&void 0!==e?e:[]).map((function(t){var e=parseInt(t,16);return e>32767?e-65535:e})),r=C(i[0],i[1]),o=C(i[2],i[3]);return{x:B(n,r),y:-B(n,o)}},K=function(t){for(var e=new Uint8Array(t),n="",i=0;i<e.length;i++){var r=e[i].toString(16);n+=r=1===r.length?"0".concat(r):r}for(var o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(parseInt(n.substr(a,2),16));return"data:image/png;base64,".concat(o)},Z=function(t){return parseInt(t.slice(0,2),16)},X=function(t){var e=parseInt(t.slice(0,2),16),n=t.slice(0,3===e?52:48),i=2,r=parseInt(n.slice(i,i+4),16);i+=4;var o=1===parseInt(n.slice(i,i+2),16);i+=2;var a=parseInt(n.slice(i,i+4),16);i+=4;var s=parseInt(n.slice(i,i+4),16);i+=4;var l=M(1,parseInt(n.slice(i,i+4),16));i+=4;var c=M(1,parseInt(n.slice(i,i+4),16));i+=4;var A=M(2,parseInt(n.slice(i,i+4),16));i+=4;var u=M(1,parseInt(n.slice(i,i+4),16));i+=4;var d,h=M(1,parseInt(n.slice(i,i+4),16));3===e&&(i+=4,d=parseInt(n.slice(i,i+4),16)),i+=4;var p=parseInt(n.slice(i,i+8),16);i+=8;var f=parseInt(n.slice(i,i+4),16);return{mapHeaderStr:n,version:e,id:r,mapStable:o,mapWidth:a,mapHeight:s,originX:l,originY:c,mapResolution:A,chargeX:u,chargeY:h,chargeDirection:d,chargePositionTransformed:Q({chargeX:u,chargeY:h},{originX:l,originY:c}),dataLengthBeforeCompress:p,dataLengthAfterCompress:f}},q=255,J=26,$=20,tt=1,et=["#FDE4CF","#8EECF5","#CFBAF0","#F1C0E8","#A3C4F3","#98F5E1","#FFCFD2","#90DBF4","#E1C1EB","#8ECCF5","#EDDDDE","#A3B8F3","#EFCFE1","#B2F2BE","#AEE6F8","#90C2F4"],nt=["#EBEBEB","#E4E4E4","#DCDCDC","#D5D5D5","#CECECE","#C6C6C6","#C2C2C2","#BABABA","#E2E2E2","#DBDBDB","#D3D3D3","#CCCCCC","#C6C6C6","#BEBEBE","#BABABA","#B3B3B3"],it={"00":"00","01":"f1",10:"f2",11:"ff"},rt={sweep:"00",barrier:"01",battery:"10",unknown:"11"},ot={sweep:"111",barrier:"001",carpet:"010",unknown:"000"},at={0:{typeMap:rt},1:{typeMap:rt},2:{typeMap:ot},3:{typeMap:ot}},st={"00":"sweep","01":"barrier",10:"battery",11:"unknown",111:"sweep","001":"barrier","000":"unknown","010":"carpet"},lt=[60,61,62,63],ct=[28,29,30,31];Math.imul||(Math.imul=function(t,e){var n=65535&t,i=65535&e;return n*i+((t>>>16)*i+n*(e>>>16)<<16)|0});var At,ut=n(8764),dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1048576,n=ut.Buffer.from(t),i=1073741824,r=e;if(e>i)return r=i,console.warn("uncompress1G",e),null;var o=ut.Buffer.alloc(r),a=function(t,e,n,i){for(var r=n=n||0,o=i=i||t.length-n,a=0;r<o;){var s=t[r++],l=s>>4;if(l>0){for(var c=l+240;255===c;)l+=c=t[r++];for(var A=r+l;r<A;)e[a++]=t[r++];if(r===o)return a}var u=t[r++]|t[r++]<<8;if(0===u||u>a)return-(r-2);var d=15&s;for(c=d+240;255===c;)d+=c=t[r++];var h=a-u;for(A=a+d+4;a<A;)e[a++]=e[h++]}return a}(n,o);return o=o.slice(0,a)},ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t)return[];for(var n=parseInt(t.slice(2,4),16),i=t.slice(4),r=[],o=0,a=0;a<n;a++){var s=i.slice(o,o+94),l=parseInt(s.slice(0,4),16),c=parseInt(s.slice(4,8),16),A=parseInt(s.slice(8,12),16),u=parseInt(s.slice(12,16),16),d=parseInt(s.slice(16,18),16),h=1===parseInt(s.slice(18,20),16),p=1===parseInt(s.slice(20,22),16),f=parseInt(s.slice(22,24),16),m=parseInt(s.slice(24,26),16),g=1===parseInt(s.slice(26,28),16),y=parseInt(s.slice(28,30),16),v=parseInt(s.slice(52,54),16),_=s.slice(54,54+2*v),w=v>0?I(_):"";o+=2*(47+4*parseInt(s.slice(92,94),16));var x=j(l.toString(2),at[e].typeMap.sweep);r.push({roomId:l,pointHex:x,name:w,order:c,suction:f,cistern:m,colorOrder:d,sweepTimes:A,mopTimes:u,sweepForbidden:h,mopForbidden:p,yMop:g,floorMaterial:y,originStr:s,reservedStr:s.slice(30,52)})}return r},pt=function(t,e){var n=e.mapWidth,i=e.mapHeight,r=e.dataLengthAfterCompress,o=e.dataLengthBeforeCompress,a=e.mapHeaderStr,s=e.version,l=a.length,c="",A="",u=n*i;if(r>0){var d=4*o,h=Y(t.slice(l,l+2*o)),p=dt(h,d);if(!p)return{mapRooms:[],mapPointsStr:""};var f=Array.from(p);if(0===s){for(var m=[],g=0;g<f.length;g++)for(var y=f[g].toString(2).padStart(8,"0"),v=0;v<y.length;v+=2){var _=y.substring(v,v+2);m.push(it[_])}c=m.join(""),A=""}else c=f.slice(0,u).map((function(t){return t.toString(16).padStart(2,"0")})).join(""),A=f.slice(u).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}else if(0===s){for(var w=t.slice(l),x=[],b=w.match(/.{2}/g)||[],M=0;M<b.length;M++)for(var L=parseInt(w[M],16).toString(2).padStart(8,"0"),C=0;C<L.length;C+=2){var B=L.substring(C,C+2);x.push(it[B])}c=x.join(""),A=""}else c=t.slice(l,l+2*u),A=t.slice(l+2*u);return n*i*2>(c=c.toLowerCase()).length&&(c=c.padStart(n*i,"ff")),n*i*2<c.length&&(c=c.slice(c.length-n*i*2)),{mapRooms:ht(A,s),mapPointsStr:c}},ft=function(t){try{return JSON.parse(D(t))}catch(t){return console.error(t),{}}},mt=function(t){var e=X(t);return{mapHeader:e,mapData:pt(t,e)}},gt=13,yt={"00":"common",10:"charge","01":"transitions",11:"mop"},vt=function(t){var e=t.slice(0,2*gt);return{version:parseInt(e.slice(0,2),16),pathId:parseInt(e.slice(2,6),16),initFlag:parseInt(e.slice(6,8),16),type:parseInt(e.slice(8,10),16),count:parseInt(e.slice(10,18),16),direction:parseInt(e.slice(18,22),16),dataLengthAfterCompress:parseInt(e.slice(22,26),16)}},_t=n(1808),wt=function(t,e){var n=e.dataLengthAfterCompress,i=e.count,r=[];if(n>0){var o=4*i,s=Y(t.slice(2*gt)),l=dt(s,o);if(!l)return[];for(var c=Array.from(l),A=0;A<c.length;A+=4){var u=C(c[A],c[A+1]),d=C(c[A+2],c[A+3]);r.push([u,d])}}else r=(0,_t.chunk)(Y(t.slice(2*gt),2),2);for(var h=[],p=0;p<r.length;p++){var f=a(r[p],2),m=f[0],g=f[1],y="".concat(1&m).concat(1&g);h.push({x:B(1,-2&m),y:-B(1,-2&g),type:yt[y]})}return h},xt=function(t){var e=vt(t);return{pathHeader:e,pathPoints:wt(t,e)}},bt=function(t){var e=t.str,n=t.mapScale,i=void 0===n?1:n,r=[],o=W(e,2,4),a=W(e,6,2);if(0===a)return r;for(var s=8,l=0;l<a;l++){var c=e.slice(s,s+16),A=G(c,i),u=W(e,s+=16),d=W(e,s+=2),h=W(e,s+=2,8);s+=8,r.push({id:"pic_".concat(l),mapId:o,position:{x:A.x,y:A.y},object:u,accuracy:d,reserved:h,xHex:c.slice(0,8),yHex:c.slice(8)})}return r},Mt=function(t){if(""===t)return{source:""};var e=Y(t),n=dt(e);return{source:K(n)}},Lt="aa",Ct="12",Bt="13",St="48",Et="49",Tt="1a",Dt="1b",It="38",Pt="39",kt="14",Ft="15",Ut="56",Rt="57",Ot="26",Ht="27",Yt="16",Qt="17",jt="3e",Nt="3f",Wt="1c",Vt="1d",zt="1e",Gt="1f",Kt="22",Zt="23",Xt="58",qt="59",Jt="24",$t="25",te="28",ee="29",ne="3a",ie="3b",re="32",oe="33",ae="40",se="41",le="30",ce="31",Ae="3c",ue="3d",de="42",he="43",pe="52",fe="53",me="ab",ge="2a",ye="2b",ve="2c",_e="2d",we="2e",xe="2f",be="34",Me="35",Le=(o(At={},Bt,"decodeVirtualWall0x13"),o(At,Et,"decodeVirtualWall0x49"),o(At,Dt,"decodeVirtualArea0x1b"),o(At,Pt,"decodeVirtualArea0x39"),o(At,Ft,"decodeRoomClean0x15"),o(At,Rt,"decodeRoomClean0x57"),o(At,Qt,"decodeSpotClean0x17"),o(At,Nt,"decodeSpotClean0x3f"),o(At,ee,"decodeZoneClean0x29"),o(At,ie,"decodeZoneClean0x3b"),o(At,Vt,"decodePartitionDivision0x1d"),o(At,Gt,"decodePartitionMerge0x1f"),o(At,Zt,"decodeSetRoomProperty0x23"),o(At,qt,"decodeSetRoomProperty0x59"),o(At,$t,"decodeSetRoomName0x25"),o(At,ye,"decodeSaveMap0x2b"),o(At,_e,"decodeDeleteMap0x2d"),o(At,xe,"decodeUseMap0x2f"),o(At,Ht,"decodeRoomOrder0x27"),o(At,oe,"decodeDoNotDisturb0x33"),o(At,se,"decodeDoNotDisturb0x41"),o(At,ue,"decodeQuickMap0x3d"),o(At,he,"decodeResetMap0x43"),o(At,ce,"decodeDeviceTimer0x31"),o(At,Me,"decodeVoice0x35"),At),Ce=function(t,e,n){var i="1"===n?"01":"00",r=t+e,o=b(r.length/2,"1"===n?8:2),a=De(r);return"".concat(Lt).concat(i).concat(o).concat(t).concat(e).concat(a)},Be=function(t,e){var n=t+e,i=b(n.length/2,8),r=De(n);return"".concat(me,"00").concat(i).concat(t).concat(e).concat(r)},Se=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",i=Te(t,n);if(i!==e)return console.warn("<ray-robot-protocol>: "),{valid:!1};var r="1"===n?t.slice(4,12):t.slice(4,6),o=parseInt(r,16),a="1"===n?t.slice(14,14+2*(o-1)):t.slice(8,8+2*(o-1));return a.length!==2*(o-1)?(console.warn("<ray-robot-protocol>: "),{valid:!1}):{dataLength:o,cmdStr:i,dataStr:a,valid:!0}},Ee=function(t){return"01"===t.slice(2,4)?"1":"0"},Te=function(t){return"1"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1")||t.startsWith("ab")?t.slice(12,14):t.slice(6,8)},De=function(t){var e=t.match(/.{2}/g).reduce((function(t,e){return t+parseInt(e,16)}),0);return b(e%256,2)},Ie=function(t){return t.reduce((function(t,e){if("number"==typeof e)return t+b(e);if("string"==typeof e)return t+e;if("object"==(void 0===e?"undefined":l(e))){var n=e.value,i=e.byte;return t+b(n,2*(void 0===i?1:i))}return t}),"")},Pe=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Bt,"",void 0===t?"1":t)},ke=Pe,Fe=function(t){var e=t.walls,n=t.origin,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=void 0===o?"1":o,s=[];return s.push(e.length),e.forEach((function(t){t.forEach((function(t){var e=H(t,n,r),i=e.hexX,o=e.hexY;s.push(i,o)}))})),Ce(Ct,Ie(s),a)},Ue=Fe,Re=function(t){var e,n,i=t.command,r=t.mapScale,o=void 0===r?1:r,a=t.version,s=Se(i,Bt,void 0===a?"1":a),l=s.dataStr;return s.valid?null!==(n=null===(e=l.slice(2).match(/.{16}/g))||void 0===e?void 0:e.map((function(t){return t.match(/.{8}/g).map((function(t){return{x:B(o,parseInt(t.slice(0,4),16)),y:-B(o,parseInt(t.slice(4),16))}}))})))&&void 0!==n?n:[]:null},Oe=Re,He=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Et,"",void 0===t?"1":t)},Ye=function(t){var e=t.protocolVersion,n=void 0===e?1:e,i=t.walls,r=t.origin,o=t.mapScale,a=void 0===o?1:o,s=t.version,l=void 0===s?"1":s,c=[];return[1].includes(n)?(c.push(n),c.push(i.length),i.forEach((function(t){var e=t.mode,n=t.points;c.push(e),n.forEach((function(t){var e=H(t,r,a),n=e.hexX,i=e.hexY;c.push(n,i)}))})),Ce(St,Ie(c),l)):(console.error("<ray-robot-protocol>: 0x48/0x49 Protocol version".concat(n)),"")},Qe=function(t){var e,n,i=t.command,r=t.mapScale,o=void 0===r?1:r,a=t.version,s=Se(i,Et,void 0===a?"1":a),l=s.dataStr;if(!s.valid)return null;var c=parseInt(l.slice(0,2),16),A=null!==(n=null===(e=l.slice(4).match(/.{18}/g))||void 0===e?void 0:e.map((function(t){return{mode:parseInt(t.slice(0,2),16),points:t.slice(2).match(/.{8}/g).map((function(t){return{x:B(o,parseInt(t.slice(0,4),16)),y:-B(o,parseInt(t.slice(4),16))}}))}})))&&void 0!==n?n:[];return{protocolVersion:c,walls:A}},je=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Ft,"",void 0===t?"1":t)},Ne=je,We=function(t){var e=t.roomHexIds,n=t.roomIds,i=t.cleanTimes,r=t.mapVersion,o=void 0===r?2:r,a=t.version,s=void 0===a?"1":a,l=[];if(l.push(i),(null==e?void 0:e.length)>0){var c=e.map((function(t){return w(t,o)}));l.push(e.length),c.forEach((function(t){l.push(t)}))}else(null==n?void 0:n.length)>0&&(l.push(n.length),n.forEach((function(t){l.push(t)})));return Ce(kt,Ie(l),s)},Ve=We,ze=function(t){var e=t.command,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=Se(e,Ft,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s=parseInt(a.slice(0,2),16),l=a.slice(4).match(/.{2}/g),c=[],A=[];return l.forEach((function(t){var e=parseInt(t,16);c.push(e),A.push(x(e,i))})),{roomIds:c,roomHexIds:A,cleanTimes:s}},Ge=ze,Ke=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Rt,"",void 0===t?"1":t)},Ze=Ke,Xe=function(t){var e=t.rooms,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=void 0===r?"1":r,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,r=t.cleanTimes,o=t.yMop,s=t.suction,l=t.cistern;void 0!==n?a.push(n):e&&a.push(w(e,i)),a.push(s,l,o,r)})),Ce(Ut,Ie(a),o)},qe=Xe,Je=function(t){var e=t.command,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=Se(e,Rt,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{10}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=x(e,i),r=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16);s.push({roomHexId:n,roomId:e,suction:r,cistern:o,yMop:a,cleanTimes:l})})),s},$e=Je,tn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Ot,"",void 0===t?"1":t)},en=tn,nn=function(t){var e,n=t.roomIds,i=t.roomIdHexs,r=t.version,o=t.mapVersion,a=[{value:null!==(e=null==n?void 0:n.length)&&void 0!==e?e:i.length,byte:1}];n?n.forEach((function(t){a.push({value:t,byte:1})})):i&&i.forEach((function(t){a.push({value:w(t,o),byte:1})}));var s=Ie(a);return Ce(Ot,s,r)},rn=nn,on=function(t){var e=t.command,n=t.version,i=Se(e,Ht,void 0===n?"1":n),r=i.dataStr;return i.valid?r.match(/\w{2}/g).slice(1).map((function(t){return parseInt(t,16)})):null},an=on,sn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Qt,"",void 0===t?"1":t)},ln=sn,cn=function(t){var e=t.point,n=t.origin,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=void 0===o?"1":o,s=[],l=H(e,n,r),c=l.hexX,A=l.hexY;return s.push(c,A),Ce(Yt,Ie(s),a)},An=cn,un=function(t){var e=t.command,n=t.mapScale,i=void 0===n?1:n,r=t.version,o=Se(e,Qt,void 0===r?"1":r),a=o.dataStr;return o.valid?{point:{x:B(i,parseInt(a.slice(0,4),16)),y:-B(i,parseInt(a.slice(4,8),16))}}:null},dn=un,hn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Nt,"",void 0===t?"1":t)},pn=hn,fn=function(t){var e=t.protocolVersion,n=t.points,i=t.origin,r=t.cleanMode,o=t.suction,a=t.cistern,s=t.cleanTimes,l=t.mapScale,c=void 0===l?1:l,A=t.version,u=void 0===A?"1":A;if(![1,2].includes(e))return console.error("<ray-robot-protocol>: 0x3e/0x3f Protocol version".concat(e)),"";if(n.length<1)return console.error("<ray-robot-protocol>: 0x3e/0x3f "),"";var d=[];if(1===e){d.push(1,r,o,a,s);var h=n[0],p=H(h,i,c),f=p.hexX,m=p.hexY;d.push(f,m)}return 2===e&&(d.push(2,n.length),n.forEach((function(t){var e=H(t,i,c),n=e.hexX,r=e.hexY;d.push(n,r)}))),Ce(jt,Ie(d),u)},mn=fn,gn=function(t){var e=t.command,n=t.mapScale,i=void 0===n?1:n,r=t.version,o=Se(e,Nt,void 0===r?"1":r),a=o.dataStr,s=o.valid,l=parseInt(a.slice(0,2),16);if(!s)return null;if(1===l){var c=parseInt(a.slice(2,4),16),A=parseInt(a.slice(4,6),16),u=parseInt(a.slice(6,8),16),d=parseInt(a.slice(8,10),16);return{protocolVersion:l,points:[{x:B(i,parseInt(a.slice(10,14),16)),y:-B(i,parseInt(a.slice(14,18),16))}],cleanMode:c,suction:A,cistern:u,cleanTimes:d}}if(2===l){var h=[];return a.slice(4).match(/.{8}/g).forEach((function(t){var e=B(i,parseInt(t.slice(0,4),16)),n=-B(i,parseInt(t.slice(4),16));h.push({x:e,y:n})})),{protocolVersion:l,points:h}}return null},yn=gn,vn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Dt,"",void 0===t?"1":t)},_n=function(t){var e=t.virtualAreas,n=t.origin,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=void 0===o?"1":o,s=[];return s.push(e.length),e.forEach((function(t){var e=t.points,i=t.mode;s.push(i),s.push(e.length),e.forEach((function(t){var e=H(t,n,r),i=e.hexX,o=e.hexY;s.push(i,o)}))})),Ce(Tt,Ie(s),a)},wn=function(t){var e=function(){var t=parseInt(c.slice(A,A+2),16);A+=2;var e=parseInt(c.slice(A,A+2),16);A+=2;var n=c.slice(A,A+8*e).match(/.{8}/g),i=[];n.forEach((function(t){var e=B(r,parseInt(t.slice(0,4),16)),n=-B(r,parseInt(t.slice(4),16));i.push({x:e,y:n})})),A+=8*e,l.push({mode:t,points:i})},n=t.command,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=Se(n,Dt,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;for(var l=[],c=s.slice(2),A=0;A<c.length-1;)e();return l},xn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Pt,"",void 0===t?"1":t)},bn=xn,Mn=function(t){var e=t.protocolVersion,n=t.virtualAreas,i=t.origin,r=t.mapScale,o=void 0===r?1:r,a=t.version,s=void 0===a?"1":a;if(![1,2].includes(e))return console.error("<ray-robot-protocol>: 0x38/0x39 Protocol version".concat(e)),"";var l=[];return l.push(e,n.length),n.forEach((function(t){var n=t.points,r=t.mode,a=t.name,s=void 0===a?"":a;l.push(r),2===e&&l.push(4===n.length?0:1),l.push(n.length),n.forEach((function(t){var e=H(t,i,o),n=e.hexX,r=e.hexY;l.push(n,r)})),l.push(s.length,F(k(P(s)),19))})),Ce(It,Ie(l),s)},Ln=Mn,Cn=function(t){var e=function(){var t=parseInt(A.slice(u,u+2),16);u+=2,2===l&&(u+=2);var e=parseInt(A.slice(u,u+2),16);u+=2;var n=A.slice(u,u+8*e).match(/.{8}/g),i=[];n.forEach((function(t){var e=B(r,parseInt(t.slice(0,4),16)),n=-B(r,parseInt(t.slice(4),16));i.push({x:e,y:n})})),u+=8*e,u+=2;var o=D(T(A.slice(u,u+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";u+=38,c.push({mode:t,points:i,name:o})},n=t.command,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=Se(n,Pt,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;for(var l=parseInt(s.slice(0,2),16),c=[],A=s.slice(4),u=0;u<A.length-1;)e();return{protocolVersion:l,virtualAreas:c}},Bn=Cn,Sn=function(t){var e=t.roomId,n=t.points,i=t.origin,r=t.mapScale,o=void 0===r?1:r,a=t.version,s=void 0===a?"1":a,l=[];return l.push(e),n.forEach((function(t){var e=H(t,i,o),n=e.hexX,r=e.hexY;l.push(n,r)})),Ce(Wt,Ie(l),s)},En=Sn,Tn=function(t){var e=t.command,n=t.version,i=Se(e,Vt,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;var o=parseInt(r.slice(0,2),16);return{ret:o,success:1===o}},Dn=Tn,In=function(t){var e=t.roomIds,n=t.version,i=void 0===n?"1":n,r=[];return e.forEach((function(t){r.push(t)})),Ce(zt,Ie(r),i)},Pn=In,kn=function(t){var e=t.command,n=t.version,i=Se(e,Gt,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;var o=parseInt(r.slice(0,2),16);return{ret:o,success:1===o}},Fn=kn,Un=function(t){var e=t.rooms,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=void 0===r?"1":r,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,r=t.name,o=void 0===r?"":r;n?a.push(n):e&&a.push(w(e,i));var s=P(o);a.push(s.length,F(k(s),19))})),Ce(Jt,Ie(a),o)},Rn=Un,On=function(t){var e=t.command,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=Se(e,$t,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{42}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=x(e,i),r=I(T(t.slice(4).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";s.push({roomHexId:n,roomId:e,name:r})})),s},Hn=On,Yn=function(t){var e=t.rooms,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=void 0===r?"1":r,a=[];return a.push(e.length),e.forEach((function(t){var e=t.roomHexId,n=t.roomId,r=t.cleanTimes,o=t.yMop,s=t.suction,l=t.cistern;void 0!==n?a.push(n):e&&a.push(w(e,i)),a.push(s,l,o,r)})),Ce(Kt,Ie(a),o)},Qn=Yn,jn=function(t){var e=t.command,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=Se(e,Zt,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{10}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=x(e,i),r=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16);s.push({roomHexId:n,roomId:e,suction:r,cistern:o,yMop:a,cleanTimes:l})})),s},Nn=jn,Wn=function(t){var e=t.rooms,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=void 0===r?"1":r,a=[];return a.push(e.length),e.forEach((function(t){var e=t.cleanMode,n=t.roomHexId,r=t.roomId,o=t.cleanTimes,s=t.yMop,l=t.suction,c=t.cistern;void 0!==r?a.push(r):n&&a.push(w(n,i)),a.push(e,l,c,s,o)})),Ce(Xt,Ie(a),o)},Vn=function(t){var e=t.command,n=t.mapVersion,i=void 0===n?2:n,r=t.version,o=Se(e,qt,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s=[];return a.slice(2).match(/.{12}/g).forEach((function(t){var e=parseInt(t.slice(0,2),16),n=x(e,i),r=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),a=parseInt(t.slice(6,8),16),l=parseInt(t.slice(8,10),16),c=parseInt(t.slice(10,12),16);s.push({roomHexId:n,roomId:e,cleanMode:r,suction:o,cistern:a,yMop:l,cleanTimes:c})})),s},zn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(ee,"",void 0===t?"1":t)},Gn=function(t){var e=t.zones,n=t.origin,i=t.cleanTimes,r=void 0===i?1:i,o=t.mapScale,a=void 0===o?1:o,s=t.version,l=void 0===s?"1":s,c=[];return c.push(r,e.length),e.forEach((function(t){var e=t.points;c.push(e.length),e.forEach((function(t){var e=H(t,n,a),i=e.hexX,r=e.hexY;c.push(i,r)}))})),Ce(te,Ie(c),l)},Kn=function(t){var e,n=t.command,i=t.mapScale,r=void 0===i?1:i,o=t.version,a=Se(n,ee,void 0===o?"1":o),s=a.dataStr;if(!a.valid)return null;var l,c=parseInt(s.slice(0,2),16);return{zones:null!==(l=null===(e=s.slice(6).match(/.{32}/g))||void 0===e?void 0:e.map((function(t){return{points:t.match(/.{8}/g).map((function(t){return{x:B(r,parseInt(t.slice(0,4),16)),y:-B(r,parseInt(t.slice(4),16))}}))}})))&&void 0!==l?l:[],cleanTimes:c}},Zn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(ie,"",void 0===t?"1":t)},Xn=Zn,qn=function(t){var e=t.protocolVersion,n=t.zones,i=t.origin,r=t.cleanMode,o=void 0===r?0:r,a=t.suction,s=void 0===a?0:a,l=t.cistern,c=void 0===l?0:l,A=t.cleanTimes,u=void 0===A?1:A,d=t.mapScale,h=void 0===d?1:d,p=t.version,f=void 0===p?"1":p;if(![1,2,3].includes(e))return console.error("<ray-robot-protocol>: 0x3a/0x3b Protocol version".concat(e)),"";var m=[];return m.push(e),3===e?(m.push(n.length),n.forEach((function(t){var e=t.points,n=t.name,r=void 0===n?"":n,o=t.advanced,a=null!=o?o:{},s=a.id,l=a.localSave,c=a.order,A=a.cleanMode,u=a.cleanTimes,d=a.suction,p=a.cistern;m.push(s,l,4===(null==e?void 0:e.length)?0:1,e.length),e.forEach((function(t){var e=H(t,i,h),n=e.hexX,r=e.hexY;m.push(n,r)})),m.push(u,c,A,d,p,{value:0,byte:5},r.length,F(k(P(r)),19))}))):(2===e&&m.push(o,s,c),m.push(u,n.length),n.forEach((function(t){var e=t.points,n=t.name,r=void 0===n?"":n;m.push(e.length),e.forEach((function(t){var e=H(t,i,h),n=e.hexX,r=e.hexY;m.push(n,r)})),m.push(r.length,F(k(P(r)),19))}))),Ce(ne,Ie(m),f)},Jn=qn,$n=function(t){var e=t.command,n=t.mapScale,i=void 0===n?1:n,r=t.version,o=Se(e,ie,void 0===r?"1":r),a=o.dataStr;if(!o.valid)return null;var s={},l=parseInt(a.slice(0,2),16);s.protocolVersion=l;var c=[];if(3===l)for(var A=function(){var t=parseInt(u.slice(d,d+2),16);d+=2;var e=parseInt(u.slice(d,d+2),16);d+=2,d+=2;var n=parseInt(u.slice(d,d+2),16);d+=2;var r=u.slice(d,d+8*n).match(/.{8}/g),o=[];r.forEach((function(t){var e=B(i,parseInt(t.slice(0,4),16)),n=-B(i,parseInt(t.slice(4),16));o.push({x:e,y:n})})),d+=8*n;var a=parseInt(u.slice(d,d+2),16);d+=2;var s=parseInt(u.slice(d,d+2),16);d+=2;var l=parseInt(u.slice(d,d+2),16);d+=2;var A=parseInt(u.slice(d,d+2),16);d+=2;var h=parseInt(u.slice(d,d+2),16);d+=2,d+=10,d+=2;var p=D(T(u.slice(d,d+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";d+=38,c.push({points:o,name:p,advanced:{id:t,order:s,localSave:e,cleanMode:l,cleanTimes:a,cistern:h,suction:A}})},u=a.slice(4,-2),d=0;d<u.length-1;)A();else{var h=function(){var t=parseInt(f.slice(p,p+2),16);p+=2;var e=f.slice(p,p+8*t).match(/.{8}/g),n=[];e.forEach((function(t){var e=B(i,parseInt(t.slice(0,4),16)),r=-B(i,parseInt(t.slice(4),16));n.push({x:e,y:r})})),p+=8*t,p+=2;var r=D(T(f.slice(p,p+38).match(/.{2}/g).map((function(t){return parseInt(t,16)}))))||"";p+=38,c.push({points:n,name:r})},p=2;2===l&&(s.cleanMode=parseInt(a.slice(p,p+2),16),p+=2,s.suction=parseInt(a.slice(p,p+2),16),p+=2,s.cistern=parseInt(a.slice(p,p+2),16),p+=2),s.cleanTimes=parseInt(a.slice(p,p+2),16),p+=2,p+=2;var f=a.slice(p,-2);for(p=0;p<f.length-1;)h()}return s.zones=c,s},ti=$n,ei=function(t){var e=t.startHour,n=t.startMinute,i=t.endHour,r=t.endMinute,o=t.timeZone,a=void 0===o?(new Date).getTimezoneOffset()/-60:o,s=t.version,l=void 0===s?"1":s,c=[];return c.push(a<0?U(a):a,e,n,0,i,r,60*e+n>60*i+r?1:0),Ce(re,Ie(c),l)},ni=function(t){var e=t.command,n=t.version,i=Se(e,oe,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;var o=parseInt(r.slice(0,2),16);return{timeZone:o>200?o-256:o,startHour:parseInt(r.slice(2,4),16),startMinute:parseInt(r.slice(4,6),16),endHour:parseInt(r.slice(8,10),16),endMinute:parseInt(r.slice(10,12),16)}},ii=function(t){var e=t.enable,n=t.startHour,i=t.startMinute,r=t.endHour,o=t.endMinute,a=t.timeZone,s=void 0===a?(new Date).getTimezoneOffset()/-60:a,l=t.version,c=void 0===l?"1":l,A=[];return A.push(1,e?1:0,s<0?U(s):s,n,i,0,r,o,60*n+i>60*r+o?1:0),Ce(ae,Ie(A),c)},ri=ii,oi=function(t){var e=t.command,n=t.version,i=Se(e,se,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;var o=1===parseInt(r.slice(2,4),16),a=parseInt(r.slice(4,6),16);return{enable:o,timeZone:a>200?a-256:a,startHour:parseInt(r.slice(6,8),16),startMinute:parseInt(r.slice(8,10),16),endHour:parseInt(r.slice(12,14),16),endMinute:parseInt(r.slice(14,16),16)}},ai=oi,si=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(de,"01",void 0===t?"1":t)},li=si,ci=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).version;return Ce(Ae,"01",void 0===t?"1":t)},Ai=ci,ui=g(n(381)),di=function(t){var e,n=t.list,i=t.number,r=t.version,o=void 0===r?"1":r,l=a((null!==(e=(0,ui.default)().format("Z"))&&void 0!==e?e:"+08:00").match(/([+-])\d(\d)/)||["+08","+","8"],1)[0],c=Number(l);c<0&&(c=U(c));for(var A=[c,i],u=0;u<i;u++){var d,h=n[u],p=h.effectiveness,f=h.week,m=h.time,g=h.roomIds,y=h.cleanMode,v=h.fanLevel,_=h.waterLevel,w=h.sweepCount,x=h.roomNum,b=s(f);(d=A).push.apply(d,[p,parseInt(b.reverse().join(""),2),m.hour,m.minute,x].concat(s(g),[y,v,_,w]))}return Ce(le,Ie(A),o)},hi=function(t){var e=t.command,n=t.version,i=Se(e,ce,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;for(var o=[],a=W(r,0),s=W(r,2),l=4,c=0;c<s;c++){var A=W(r,l);l+=2;var u=V(r.slice(l,l+2)).split("").reverse().map((function(t){return parseInt(t,10)})),d=W(r,l+=2),h=W(r,l+=2),p=W(r,l+=2),f=2*p;l+=2;for(var m=r.slice(l,l+f),g=[],y=0;y<m.length;y+=2)g.push(W(m,y));var v=W(r,l+=f),_=W(r,l+=2),w=W(r,l+=2),x=W(r,l+=2);l+=2,o.push({effectiveness:A,week:u,time:{hour:d,minute:h},roomNum:p,roomIds:g,cleanMode:v,fanLevel:_,waterLevel:w,sweepCount:x})}return{number:s,timeZone:a,list:o}},pi=function(t){var e=t.rooms,n=t.version,i=void 0===n?"1":n,r=[1,e.length];return e.forEach((function(t){r.push(t.roomId,t.material)})),Ce(pe,Ie(r),i)},fi=function(t){var e=t.command,n=t.version,i=Se(e,fe,void 0===n?"1":n),r=i.dataStr;if(!i.valid)return null;for(var o=[],a=parseInt(r.slice(2,4),16),s=0;s<a;s++){var l=r.slice(4+4*s,8+4*s),c=parseInt(l.slice(0,2),16),A=parseInt(l.slice(2,4),16);o.push({roomId:c,material:A})}return o},mi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[];return e.push(t),Be(ge,Ie(e))},gi=mi,yi=function(t){var e=t.command,n=Se(e,ye),i=n.dataStr;if(!n.valid)return null;var r=parseInt(i.slice(0,2),16);return{ret:r,success:1===r}},vi=yi,_i=function(t){var e=t.id,n=[];return n.push({value:e,byte:4}),Be(ve,Ie(n))},wi=_i,xi=function(t){var e=t.command,n=Se(e,_e),i=n.dataStr;if(!n.valid)return null;var r=parseInt(i.slice(0,2),16);return{ret:r,success:1===r}},bi=xi,Mi=function(t){var e,n=t.mapId,i=t.url,r=[],o=P(i),a=o.length;return(e=r).push.apply(e,[{value:n,byte:4},{value:a,byte:4}].concat(s(o))),Be(we,Ie(r))},Li=Mi,Ci=function(t){var e=t.command,n=Se(e,xe),i=n.dataStr;if(!n.valid)return null;var r=parseInt(i.slice(0,2),16);return{ret:r,success:1===r}},Bi=Ci,Si=function(t){var e,n=t.id,i=t.md5,r=t.url,o=[],a=P(i),l=a.length,c=P(r),A=c.length;return(e=o).push.apply(e,[{value:n,byte:4},l].concat(s(a),[{value:A,byte:4}],s(c))),Be(be,Ie(o))},Ei=function(t){var e=t.command,n=Se(e,Me),i=n.dataStr;return n.valid?{languageId:parseInt(i.slice(0,8),16),status:parseInt(i.slice(8,10),16),progress:parseInt(i.slice(10,12),16)}:null},Ti=function(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))},Di=function(t,e,n,i,r,o){var a=Ti(t,e,n,i),s=Ti(t,e,r,o),l=Ti(n,i,r,o);if(l<=1e-6||s<=1e-6)return 0;if(a<=1e-6||l*l>=a*a+s*s)return s;if(s*s>=a*a+l*l)return l;var c=(a+s+l)/2;return 2*Math.sqrt(c*(c-a)*(c-s)*(c-l))/a},Ii=function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;t.length<e.length&&(t=(n=[e,t])[0],e=n[1]);for(var r=t.length,o=e.length,a=i*i,s=new Map,l=0;l<r;l++){var c=t[l],A=c.x,u=c.y;s.has(A)||s.set(A,new Map),s.get(A).set(u,l)}for(var d=0;d<o;d++)for(var h=e[d],p=h.x,f=h.y,m=-i;m<=i;m++)for(var g=-i;g<=i;g++){var y,v=p+m,_=f+g;if((null==s||null===(y=s.get(v))||void 0===y?void 0:y.has(_))&&Math.pow(v-e[d].x,2)+Math.pow(_-e[d].y,2)<=a)return!0}return!1},Pi=function(t,e){if(!(Array.isArray(t)&&Array.isArray(e)&&t.length&&e.length))return!0;var n=0,i=t.length,r=e.length;if(i>0&&r>0)for(var o=1;o<i;o++)for(var a=0;a<r;a++)if((o===i-1?Di(1*t[0].x,1*t[0].y,1*t[o].x,1*t[o].y,1*e[a].x,1*e[a].y):Di(1*t[o-1].x,1*t[o-1].y,1*t[o].x,1*t[o].y,1*e[a].x,1*e[a].y))<=5){n++;break}return n>0},ki=function(t,e){var n=t.x,i=t.y,r=e.x,o=e.y;return Math.pow(r-n,2)+Math.pow(o-i,2)},Fi=function(t,e,n){var i=t.radius,r=Math.pow(i,2),o=Math.pow(Di(e[0].x,e[0].y,e[1].x,e[1].y,t.x,t.y),2),a=ki(t,e[0]),s=ki(t,e[1]);return a<r||s<r||o<r||function(t,e){for(var n=t.x,i=t.y,r=0,o=0,a=e.length,s=a-1;o<a;s=o,o++){var l=e[o].x,c=e[o].y,A=e[s].x,u=e[s].y;if((l-n)*(n-A)>=0&&(c-i)*(i-u)>=0&&(n-l)*(u-c)==(i-c)*(A-l))return!0;var d=Math.atan2(c-i,l-n)-Math.atan2(u-i,A-n);d>=Math.PI?d-=2*Math.PI:d<=-Math.PI&&(d+=2*Math.PI),r+=d}return 0!==Math.round(r/Math.PI)}(t,n)},Ui=function(t,e){for(var n=function(t){for(var e,n,i,r=t.length,o=[],a=0;a<r;a++)n=t[a],0===a?i=n:a>0&&o.push([e,n]),a===r-1&&o.push([n,i]),e=n;return o}(e),i=n.length,r=0;r<i;r++){var o=n[r];if(Fi(t,o,e))return!0}return!1}},6461:(t,e,n)=>{var i=n(7908);t.exports=i,t.exports.default=i},7908:t=>{"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,c(i.key),i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var A="RNWV:sync",u="success",d="fail",h=0,p=o((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}));function f(t){return"".concat(t.command,"(").concat(t.id,")")}var m=null,g="undefined"!=typeof window,y=function(t){var e,n=[],i=(e={send:[],receive:[],ready:[]},{addEventListener:function(t,n){if(t in e){var i=e[t];i.indexOf(n)<0&&i.push(n)}},removeEventListener:function(t,n){if(t in e){var i=e[t],r=i.indexOf(n);r>=0&&i.splice(r,1)}},emitEvent:function(t,n){t in e&&e[t].forEach((function(t){return t(n)}))}}),r={},o={},a={};function l(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o=function(t,e){return{id:h++,command:t,data:e,reply:!1,status:u}}(t,n),a=new p,r[f(o)]=a,m(o),a.promise;var o,a}}function c(t,e){return o[t]=function(t){return e.apply(void 0,s(t))},!n&&_(),{define:c,bind:l}}function m(e){!(e.command===A)&&n?n.push(e):t(e),i.emitEvent("send",e)}function g(t,e,n){t.reply=!0,t.data=e,t.status=n,m(t)}var y=l(A);function v(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){return!a[t]})).map((function(t){a[t]=l(t)})),function(){if(n){var t=n;n=null,t.forEach((function(t){m(t)})),i.emitEvent("ready")}}(),Object.keys(o)}function _(){y(Object.keys(o)).then(v)}return c(A,v),{bind:l,define:c,listener:function(t){var e=t.detail&&JSON.parse(t.detail.data[0])||t;if(e.reply){var n=f(e);r[n]&&(e.status===d?r[n].reject(e.data):r[n].resolve(e.data))}else if(o[e.command]){var a=o[e.command](e.data);a&&a.then?a.then((function(t){g(e,t,u)})).catch((function(t){g(e,t,d)})):g(e,a,u)}else g(e,"function ".concat(e.command," is not defined"),d);i.emitEvent("receive",e)},ready:_,fn:a,addEventListener:i.addEventListener,removeEventListener:i.removeEventListener,isConnect:function(){return!n}}}((function(t){var e="string"==typeof t?t:JSON.stringify(t);g&&m&&m(e)})),v=y.bind,_=y.define,w=y.listener,x=y.ready,b=y.fn,M=y.addEventListener,L=y.removeEventListener,C=y.isConnect,B=function(t){var e;if("object"===i(t))e=t;else if("string"==typeof t)try{e=JSON.parse(t)}catch(t){}e&&(e.command||e.reply)&&w(e)},S=function(t){var e=new MessageEvent("message",{data:t});B(e.data)};if(g){var E=window.originalPostMessage;if(E)m=function(){var t;window&&"function"==typeof window.postMessage&&(t=window).postMessage.apply(t,arguments)},x();else{var T={get:function(){return E},set:function(t){(E=t)&&(m=function(){var t;window&&"function"==typeof window.postMessage&&(t=window).postMessage.apply(t,arguments)},setTimeout(x,50))}};Object.defineProperty(window,"originalPostMessage",T)}var D=window.ReactNativeWebView;if(D)m=function(){var t;window&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage?(t=window.ReactNativeWebView).postMessage.apply(t,arguments):console.error("ReactNativeWebView has been dispose")},x();else{var I={get:function(){return D},set:function(t){(D=t)&&(m=function(){var t;window&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage?(t=window.ReactNativeWebView).postMessage.apply(t,arguments):console.error("ReactNativeWebView has been dispose")},setTimeout(x,50))}};Object.defineProperty(window,"ReactNativeWebView",I)}var P=window.gzlJSBridge;if(P)m=function(){try{if(window&&window.gzlJSBridge&&"function"==typeof window.gzlJSBridge.webviewMessage){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r={data:n({},e)};window.gzlJSBridge.webviewMessage("postMessage",JSON.stringify(r))}else console.error("gzlJSBridge has been dispose")}catch(t){console.error("gzlJSBridge postMessage error ==>",t)}window.gzlJSBridge.receiveMessageHandler=function(t){S(t.data)}},x();else{var k={get:function(){return P},set:function(t){(P=t)&&(m=function(){try{if(window&&window.gzlJSBridge&&"function"==typeof window.gzlJSBridge.webviewMessage){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r={data:n({},e)};window.gzlJSBridge.webviewMessage("postMessage",JSON.stringify(r))}else console.error("gzlJSBridge has been dispose")}catch(t){console.error("gzlJSBridge postMessage error ==>",t)}},window.gzlJSBridge.receiveMessageHandler=function(t){S(t.data)},setTimeout(x,50))}};Object.defineProperty(window,"gzlJSBridge",k)}E||D||P||(m=function(){if(window&&"function"==typeof window.postMessage){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r={data:n({},e)};window.parent.postMessage(r,"*")}else console.error("browser mini program has been dispose")},x()),window.document.addEventListener("message",(function(t){return E&&B(t.data)})),window.addEventListener("message",(function(t){return D&&B(t.data)})),window.document.addEventListener("message",(function(t){return D&&B(t.data)})),window.addEventListener("message",(function(t){return!D&&S(t.data)}))}var F={bind:v,define:_,fn:b,addEventListener:M,removeEventListener:L,isConnect:C};t.exports=F},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,o=s(t),a=o[0],l=o[1],c=new r(function(t,e,n){return 3*(e+n)/4-n}(0,a,l)),A=0,u=l>0?a-4:a;for(n=0;n<u;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[A++]=e>>16&255,c[A++]=e>>8&255,c[A++]=255&e;2===l&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[A++]=255&e);1===l&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[A++]=e>>8&255,c[A++]=255&e);return c},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],a=16383,s=0,c=i-r;s<c;s+=a)o.push(l(t,s,s+a>c?c:s+a));1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,i){for(var r,o,a=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";const i=n(9742),r=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|f(t,e);let i=s(n);const r=i.write(t,e);r!==n&&(i=i.slice(0,r));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return l.from(i,e,n);const r=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?s(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function A(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return A(t),s(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,l.prototype),i}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return i?-1:z(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return L(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){let o,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){let i=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===l)return i*a}else-1!==i&&(o-=o-i),i=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let i=0;i<l;i++)if(c(t,o+i)!==c(e,i)){n=!1;break}if(n)return o}return-1}function _(t,e,n,i){n=Number(n)||0;const r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;const o=e.length;let a;for(i>o/2&&(i=o/2),a=0;a<i;++a){const i=parseInt(e.substr(2*a,2),16);if(X(i))return a;t[n+a]=i}return a}function w(t,e,n,i){return K(z(e,t.length-n),t,n,i)}function x(t,e,n,i){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return K(G(e),t,n,i)}function M(t,e,n,i){return K(function(t,e){let n,i,r;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function L(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);const i=[];let r=e;for(;r<n;){const e=t[r];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(r+a<=n){let n,i,s,l;switch(a){case 1:e<128&&(o=e);break;case 2:n=t[r+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[r+1],i=t[r+2],128==(192&n)&&128==(192&i)&&(l=(15&e)<<12|(63&n)<<6|63&i,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[r+1],i=t[r+2],s=t[r+3],128==(192&n)&&128==(192&i)&&128==(192&s)&&(l=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),r+=a}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=B));return n}(i)}e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return A(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},l.allocUnsafe=function(t){return u(t)},l.allocUnsafeSlow=function(t){return u(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=l.allocUnsafe(e);let r=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))r+e.length>i.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(i,r)):Uint8Array.prototype.set.call(i,e,r);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,r)}r+=e.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,i,r){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(i,r),A=t.slice(e,n);for(let t=0;t<s;++t)if(c[t]!==A[t]){o=c[t],a=A[t];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return x(this,t,e,n);case"base64":return b(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function S(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function E(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function T(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let r="";for(let i=e;i<n;++i)r+=q[t[i]];return r}function D(t,e,n){const i=t.slice(e,n);let r="";for(let t=0;t<i.length-1;t+=2)r+=String.fromCharCode(i[t]+256*i[t+1]);return r}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function k(t,e,n,i,r){j(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function F(t,e,n,i,r){j(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function U(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,i,o){return e=+e,n>>>=0,o||U(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function O(t,e,n,i,o){return e=+e,n>>>=0,o||U(t,0,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return i},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let i=this[t+--e],r=1;for(;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=J((function(t){N(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,r=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(t){N(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],r=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let i=e,r=1,o=this[t+--i];for(;i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=J((function(t){N(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=J((function(t){N(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=J((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(t,e=0){return F(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}let r=0,o=1,a=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/o|0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}let r=n-1,o=1,a=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/o|0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=J((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(t,e=0){return F(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{const o=l.isBuffer(t)?t:l.from(t,i),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=o[r%a]}return this};const H={};function Y(t,e,n){H[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function Q(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function j(t,e,n,i,r,o){if(t>n||t<e){const i="bigint"==typeof e?"n":"";let r;throw r=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new H.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,n){N(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(i,r,o)}function N(t,e){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw N(t,n),new H.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Y("ERR_OUT_OF_RANGE",(function(t,e,n){let i=`The value of "${t}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=Q(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=Q(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function z(t,e){let n;e=e||1/0;const i=t.length;let r=null;const o=[];for(let a=0;a<i;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,i){let r;for(r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const q=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let r=0;r<16;++r)e[i+r]=t[n]+t[r]}return e}();function J(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},645:(t,e)=>{e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,A=-7,u=n?r-1:0,d=n?-1:1,h=t[e+u];for(u+=d,o=h&(1<<-A)-1,h>>=-A,A+=s;A>0;o=256*o+t[e+u],u+=d,A-=8);for(a=o&(1<<-A)-1,o>>=-A,A+=i;A>0;a=256*a+t[e+u],u+=d,A-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,c=8*o-r-1,A=(1<<c)-1,u=A>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=A):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=A?(s=0,a=A):a+u>=1?(s=(e*l-1)*Math.pow(2,r),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*f}},2786:function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},4130:function(t,e,n){!function(t){"use strict";var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(i,r,o,a){var s=e(i),l=n[t][e(i)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,i)}},r=["","","","","","","","","","","",""];t.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(381))},6135:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(381))},6440:function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,r,o,a){var s=n(e),l=i[t][n(e)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},7702:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},315:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-ps",{months:" _________ _ _ ".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).split("").reverse().join("").replace(/[](?![\u062a\u0643])/g,(function(t){return n[t]})).split("").reverse().join("").replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(381))},6040:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(381))},7100:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},867:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,n,o,a){var s=i(e),l=r[t][i(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},1083:function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10,i=t%100-n,r=t>=100?100:null;return t+(e[n]||e[i]||e[r])},week:{dow:1,doy:7}})}(n(381))},9808:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[i],+t)}t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},8338:function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(381))},7438:function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(381))},6225:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},8905:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1560:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1278:function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+r({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function n(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function i(t){return t>9?i(t%10):t}function r(t,e){return 2===e?o(t):t}function o(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}var a=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],s=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,A=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],u=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],d=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:d,fullWeekdaysParse:A,shortWeekdaysParse:u,minWeekdaysParse:d,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}})}(n(381))},622:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){if("m"===n)return e?"jedna minuta":i?"jednu minutu":"jedne minute"}function n(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return"jedan sat";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:n,m:e,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2468:function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(381))},5822:function(t,e,n){!function(t){"use strict";var e={standalone:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),format:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"pr sekund":"pr sekundami";case"ss":return e||i?r+(o(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?r+(o(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?r+(o(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?r+(o(t)?"dny":"dn"):r+"dny";case"M":return e||i?"msc":"mscem";case"MM":return e||i?r+(o(t)?"msce":"msc"):r+"msci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?r+(o(t)?"roky":"let"):r+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},877:function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(381))},7373:function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n(381))},4780:function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},217:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},894:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9740:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5300:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(381))},837:function(t,e,n){!function(t){"use strict";function e(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){return 6===this.day()?"[ ] dddd [{}] LT":"[ ] dddd [{}] LT"},sameElse:"L"},calendar:function(t,n){var i=this._calendarEl[t],r=n&&n.hours();return e(i)&&(i=i.apply(n)),i.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8348:function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})}(n(381))},7925:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(381))},2243:function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},6436:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7207:function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(381))},4175:function(t,e,n){!function(t){"use strict";t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})}(n(381))},6319:function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},1662:function(t,e,n){!function(t){"use strict";t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},2915:function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(381))},5251:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6112:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(381))},1146:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(381))},5655:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(381))},5603:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7763:function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},6959:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(381))},1897:function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function i(t,e,n,i){var o="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":o=i?"sekunnin":"sekuntia";break;case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":o=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return o=r(t,i)+" "+o}function r(t,i){return t<10?i?n[t]:e[t]:t}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2549:function(t,e,n){!function(t){"use strict";t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},4694:function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},3049:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n(381))},2330:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},4470:function(t,e,n){!function(t){"use strict";var e=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,r=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:e,monthsShortStrictRegex:n,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(381))},5044:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},9295:function(t,e,n){!function(t){"use strict";var e=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],i=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],r=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],o=["Do","Lu","M","C","D","A","Sa"];t.defineLocale("ga",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},2101:function(t,e,n){!function(t){"use strict";var e=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"];t.defineLocale("gd",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(381))},8794:function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},7884:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){return"D"===e?t+"":t},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<12?"":t<16?"":t<20?"":""}})}(n(381))},3168:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){return"D"===e?t+"er":t},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(n(381))},5349:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},4206:function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})}(n(381))},94:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],r=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:i,longMonthsParse:i,shortMonthsParse:r,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},316:function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},2138:function(t,e,n){!function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,i){var r=t;switch(n){case"s":return i||e?"nhny msodperc":"nhny msodperce";case"ss":return r+(i||e)?" msodperc":" msodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" ra":" rja");case"hh":return r+(i||e?" ra":" rja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hnap":" hnapja");case"MM":return r+(i||e?" hnap":" hnapja");case"y":return"egy"+(i||e?" v":" ve");case"yy":return r+(i||e?" v":" ve")}return""}function i(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},1423:function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},9218:function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(381))},135:function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,i,r){var o=t+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?o+(n||r?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?o+(n||r?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return e(t)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(r?"daga":"dgum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return e(t)?n?o+"mnuir":o+(r?"mnui":"mnuum"):n?o+"mnuur":o+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return e(t)?o+(n||r?"r":"rum"):o+(n||r?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},150:function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},626:function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},9183:function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(381))},4286:function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(381))},2105:function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,n){return""===n?e+"":e+n+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(n(381))},7772:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(381))},8758:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(381))},9282:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(n(381))},3730:function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}(n(381))},563:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["end sanye","end sanyeyan"],ss:[t+" sanye",t+" sanyeyan"],m:["deqqeyek","deqqeyek"],mm:[t+" deqqe",t+" deqqeyan"],h:["saetek","saetek"],hh:[t+" saet",t+" saetan"],d:["rojek","rojek"],dd:[t+" roj",t+" rojan"],w:["hefteyek","hefteyek"],ww:[t+" hefte",t+" hefteyan"],M:["mehek","mehek"],MM:[t+" meh",t+" mehan"],y:["salek","salek"],yy:[t+" sal",t+" salan"]};return e?r[n][0]:r[n][1]}function n(t){var e=(t=""+t).substring(t.length-1),n=t.length>1?t.substring(t.length-2):"";return 12==n||13==n||"2"!=e&&"3"!=e&&"50"!=n&&"70"!=e&&"80"!=e?"":"y"}t.defineLocale("ku-kmr",{months:"Rbendan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rb_Sib_Ada_Ns_Gul_Hez_Tr_Teb_lo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekem_Duem_Sem_arem_Pncem_n_em".split("_"),weekdaysShort:"Yek_Du_S_ar_Pn_n_em".split("_"),weekdaysMin:"Ye_Du_S_a_P_n_e".split("_"),meridiem:function(t,e,n){return t<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[ro di saet] LT [de]",nextDay:"[Sib di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,w:e,ww:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(?:y||\.)/,ordinal:function(t,e){var i=e.toLowerCase();return i.includes("w")||i.includes("m")?t+".":t+n(t)},week:{dow:1,doy:4}})}(n(381))},1408:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "];t.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(381))},3291:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(381))},6841:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[n][0]:r[n][1]}function n(t){return r(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t}function i(t){return r(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t}function r(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return r(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return r(t)}return r(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},5466:function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}(n(381))},7010:function(t,e,n){!function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,i){return e?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function i(t,e,n,i){return e?o(n)[0]:i?o(n)[1]:o(n)[2]}function r(t){return t%10==0||t>10&&t<20}function o(t){return e[t].split("_")}function a(t,e,n,a){var s=t+" ";return 1===t?s+i(t,e,n[0],a):e?s+(r(t)?o(n)[1]:o(n)[0]):a?s+o(n)[1]:s+(r(t)?o(n)[1]:o(n)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:a,m:i,mm:a,h:i,hh:a,d:i,dd:a,M:i,MM:a,y:i,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(381))},7595:function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function i(t,i,r){return t+" "+n(e[r],t,i)}function r(t,i,r){return n(e[r],t,i)}function o(t,e){return e?"daas sekundes":"dam sekundm"}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:o,ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9861:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5493:function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},5966:function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(381))},7341:function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(n(381))},5115:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}(n(381))},370:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(t,e,n,i){var r="";if(e)switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},1237:function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},9847:function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(381))},2126:function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6165:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(381))},4924:function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"n time",hh:"%d timer",d:"n dag",dd:"%d dager",w:"n uke",ww:"%d uker",M:"n mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},6744:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(381))},9814:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3901:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(381))},3877:function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2135:function(t,e,n){!function(t){"use strict";t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(381))},5858:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},4495:function(t,e,n){!function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),i=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function o(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return i+(r(t)?"godziny":"godzin");case"ww":return i+(r(t)?"tygodnie":"tygodni");case"MM":return i+(r(t)?"miesice":"miesicy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,i){return t?/D MMMM/.test(i)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:o,M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},7971:function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(381))},9520:function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},6459:function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=" ";return(t%100>=20||t>=100&&t%100==0)&&(i=" de "),t+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n(381))},1793:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[i],+t)}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,w:"",ww:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(n(381))},950:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},490:function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},124:function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})}(n(381))},4249:function(t,e,n){!function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(t){return t>1&&t<5}function r(t,e,n,r){var o=t+" ";switch(n){case"s":return e||r?"pr seknd":"pr sekundami";case"ss":return e||r?o+(i(t)?"sekundy":"seknd"):o+"sekundami";case"m":return e?"minta":r?"mintu":"mintou";case"mm":return e||r?o+(i(t)?"minty":"mint"):o+"mintami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?o+(i(t)?"hodiny":"hodn"):o+"hodinami";case"d":return e||r?"de":"dom";case"dd":return e||r?o+(i(t)?"dni":"dn"):o+"dami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?o+(i(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?o+(i(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:case 4:case 5:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},4985:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami";case"d":return e||i?"en dan":"enim dnem";case"dd":return r+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi";case"M":return e||i?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci";case"y":return e||i?"eno leto":"enim letom";case"yy":return r+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},1104:function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},9915:function(t,e,n){!function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?e[0]:e[1]:e[2]},translate:function(t,n,i,r){var o,a=e.words[i];return 1===i.length?"y"===i&&n?" ":r||n?a[0]:a[1]:(o=e.correctGrammaticalCase(t,a),"yy"===i&&n&&""===o?t+" ":t+" "+o)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},9131:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10==1?e[0]:e[1]:e[2]},translate:function(t,n,i,r){var o,a=e.words[i];return 1===i.length?"y"===i&&n?"jedna godina":r||n?a[0]:a[1]:(o=e.correctGrammaticalCase(t,a),"yy"===i&&n&&"godinu"===o?t+" godina":t+" "+o)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(381))},5893:function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(381))},8760:function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})}(n(381))},1172:function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(381))},7333:function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(381))},3110:function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(381))},2095:function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},7321:function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(381))},9041:function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9005:function(t,e,n){!function(t){"use strict";var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var i=t%10,r=t%100-i,o=t>=100?100:null;return t+(e[i]||e[r]||e[o])}},week:{dow:1,doy:7}})}(n(381))},5768:function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},9444:function(t,e,n){!function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"}function i(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"}function r(t,e,n,i){var r=o(t);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function o(t){var n=Math.floor(t%1e3/100),i=Math.floor(t%100/10),r=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+e[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+e[r]),""===o?"pagh":o}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",ss:r,m:"wa tup",mm:r,h:"wa rep",hh:r,d:"wa jaj",dd:r,M:"wa jar",MM:r,y:"wa DIS",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},2397:function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var i=t%10,r=t%100-i,o=t>=100?100:null;return t+(e[i]||e[r]||e[o])}},week:{dow:1,doy:7}})}(n(381))},8254:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i||e?r[n][0]:r[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(381))},699:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(381))},1106:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(381))},9288:function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(381))},7691:function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[i],+t)}function i(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative}function r(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(381))},3795:function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(381))},588:function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(381))},6791:function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(381))},5666:function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(381))},4378:function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(381))},5805:function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(381))},3839:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(381))},5726:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1200?"":1200===i?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},9807:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},4152:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(381))},6700:(t,e,n)=>{var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-ps":315,"./ar-ps.js":315,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku-kmr":563,"./ku-kmr.js":563,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=6700},381:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,i;function r(){return e.apply(null,arguments)}function o(t){e=t}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(l(t,e))return!1;return!0}function A(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,i=[],r=t.length;for(n=0;n<r;++n)i.push(e(t[n],n));return i}function p(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,i){return Zn(t,e,n,i,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function y(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());return r&&(e=g(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?r:(t._isValid=r,t._isValid)}function v(t){var e=f(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var _=r.momentProperties=[],w=!1;function x(t,e){var n,i,r,o=_.length;if(A(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),A(e._i)||(t._i=e._i),A(e._f)||(t._f=e._f),A(e._l)||(t._l=e._l),A(e._strict)||(t._strict=e._strict),A(e._tzm)||(t._tzm=e._tzm),A(e._isUTC)||(t._isUTC=e._isUTC),A(e._offset)||(t._offset=e._offset),A(e._pf)||(t._pf=g(e)),A(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)A(r=e[i=_[n]])||(t[i]=r);return t}function b(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function M(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function L(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,o,a,s=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])l(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];s.push(i)}L(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var B,S={};function E(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),S[t]||(L(e),S[t]=!0)}function T(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)l(t,n)&&(T(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(t,e){var n,i=p({},t);for(n in e)l(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},p(i[n],t[n]),p(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&s(t[n])&&(i[n]=p({},i[n]));return i}function P(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,B=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var k={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i}function U(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},Y={};function Q(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Y[t]=r),e&&(Y[e[0]]=function(){return U(r.apply(this,arguments),e[1],e[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function N(t){var e,n,i=t.match(R);for(e=0,n=i.length;e<n;e++)Y[i[e]]?i[e]=Y[i[e]]:i[e]=j(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=T(i[r])?i[r].call(e,t):i[r];return o}}function W(t,e){return t.isValid()?(e=V(e,t.localeData()),H[e]=H[e]||N(e),H[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(O.lastIndex=0;n>=0&&O.test(t);)t=t.replace(O,i),O.lastIndex=0,n-=1;return t}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(R).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var K="Invalid date";function Z(){return this._invalidDate}var X="%d",q=/\d{1,2}/;function J(t){return this._ordinal.replace("%d",t)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)}function et(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}var nt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function it(t){return"string"==typeof t?nt[t]||nt[t.toLowerCase()]:void 0}function rt(t){var e,n,i={};for(n in t)l(t,n)&&(e=it(n))&&(i[e]=t[n]);return i}var ot={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function at(t){var e,n=[];for(e in t)l(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}var st,lt=/\d/,ct=/\d\d/,At=/\d{3}/,ut=/\d{4}/,dt=/[+-]?\d{6}/,ht=/\d\d?/,pt=/\d\d\d\d?/,ft=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,gt=/\d{1,4}/,yt=/[+-]?\d{1,6}/,vt=/\d+/,_t=/[+-]?\d+/,wt=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,bt=/[+-]?\d+(\.\d{1,3})?/,Mt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lt=/^[1-9]\d?/,Ct=/^([1-9]\d|\d)/;function Bt(t,e,n){st[t]=T(e)?e:function(t,i){return t&&n?n:e}}function St(t,e){return l(st,t)?st[t](e._strict,e._locale):new RegExp(Et(t))}function Et(t){return Tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function Tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Dt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function It(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=Dt(e)),n}st={};var Pt={};function kt(t,e){var n,i,r=e;for("string"==typeof t&&(t=[t]),u(e)&&(r=function(t,n){n[e]=It(t)}),i=t.length,n=0;n<i;n++)Pt[t[n]]=r}function Ft(t,e){kt(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function Ut(t,e,n){null!=e&&l(Pt,t)&&Pt[t](e,n._a,n,t)}function Rt(t){return t%4==0&&t%100!=0||t%400==0}var Ot=0,Ht=1,Yt=2,Qt=3,jt=4,Nt=5,Wt=6,Vt=7,zt=8;function Gt(t){return Rt(t)?366:365}Q("Y",0,0,(function(){var t=this.year();return t<=9999?U(t,4):"+"+t})),Q(0,["YY",2],0,(function(){return this.year()%100})),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),Bt("Y",_t),Bt("YY",ht,ct),Bt("YYYY",gt,ut),Bt("YYYYY",yt,dt),Bt("YYYYYY",yt,dt),kt(["YYYYY","YYYYYY"],Ot),kt("YYYY",(function(t,e){e[Ot]=2===t.length?r.parseTwoDigitYear(t):It(t)})),kt("YY",(function(t,e){e[Ot]=r.parseTwoDigitYear(t)})),kt("Y",(function(t,e){e[Ot]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return It(t)+(It(t)>68?1900:2e3)};var Kt,Zt=qt("FullYear",!0);function Xt(){return Rt(this.year())}function qt(t,e){return function(n){return null!=n?($t(this,t,n),r.updateOffset(this,e),this):Jt(this,t)}}function Jt(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function $t(t,e,n){var i,r,o,a,s;if(t.isValid()&&!isNaN(n)){switch(i=t._d,r=t._isUTC,e){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}o=n,a=t.month(),s=29!==(s=t.date())||1!==a||Rt(o)?s:28,r?i.setUTCFullYear(o,a,s):i.setFullYear(o,a,s)}}function te(t){return T(this[t=it(t)])?this[t]():this}function ee(t,e){if("object"==typeof t){var n,i=at(t=rt(t)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](t[i[n].unit])}else if(T(this[t=it(t)]))return this[t](e);return this}function ne(t,e){return(t%e+e)%e}function ie(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ne(e,12);return t+=(e-n)/12,1===n?Rt(t)?29:28:31-n%7%2}Kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Q("M",["MM",2],"Mo",(function(){return this.month()+1})),Q("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Q("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Bt("M",ht,Lt),Bt("MM",ht,ct),Bt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Bt("MMMM",(function(t,e){return e.monthsRegex(t)})),kt(["M","MM"],(function(t,e){e[Ht]=It(t)-1})),kt(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ht]=r:g(n).invalidMonth=t}));var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,se=Mt,le=Mt;function ce(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ae).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone}function Ae(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ae.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Kt.call(this._shortMonthsParse,a))?r:null:-1!==(r=Kt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=Kt.call(this._shortMonthsParse,a))||-1!==(r=Kt.call(this._longMonthsParse,a))?r:null:-1!==(r=Kt.call(this._longMonthsParse,a))||-1!==(r=Kt.call(this._shortMonthsParse,a))?r:null}function de(t,e,n){var i,r,o;if(this._monthsParseExact)return ue.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function he(t,e){if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=It(e);else if(!u(e=t.localeData().monthsParse(e)))return t;var n=e,i=t.date();return i=i<29?i:Math.min(i,ie(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function pe(t){return null!=t?(he(this,t),r.updateOffset(this,!0),this):Jt(this,"Month")}function fe(){return ie(this.year(),this.month())}function me(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=se),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=le),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ye(){function t(t,e){return e.length-t.length}var e,n,i,r,o=[],a=[],s=[];for(e=0;e<12;e++)n=f([2e3,e]),i=Tt(this.monthsShort(n,"")),r=Tt(this.months(n,"")),o.push(i),a.push(r),s.push(r),s.push(i);o.sort(t),a.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ve(t,e,n,i,r,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,o,a),s}function _e(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,n){var i=7+e-n;return-(7+_e(t,0,i).getUTCDay()-e)%7+i-1}function xe(t,e,n,i,r){var o,a,s=1+7*(e-1)+(7+n-i)%7+we(t,i,r);return s<=0?a=Gt(o=t-1)+s:s>Gt(t)?(o=t+1,a=s-Gt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function be(t,e,n){var i,r,o=we(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+Me(r=t.year()-1,e,n):a>Me(t.year(),e,n)?(i=a-Me(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Me(t,e,n){var i=we(t,e,n),r=we(t+1,e,n);return(Gt(t)-i+r)/7}function Le(t){return be(t,this._week.dow,this._week.doy).week}Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),Bt("w",ht,Lt),Bt("ww",ht,ct),Bt("W",ht,Lt),Bt("WW",ht,ct),Ft(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=It(t)}));var Ce={dow:0,doy:6};function Be(){return this._week.dow}function Se(){return this._week.doy}function Ee(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Te(t){var e=be(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ie(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pe(t,e){return t.slice(e,7).concat(t.slice(0,e))}Q("d",0,"do","day"),Q("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Q("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Q("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),Bt("d",ht),Bt("e",ht),Bt("E",ht),Bt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Bt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Bt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Ft(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:g(n).invalidWeekday=t})),Ft(["d","e","E"],(function(t,e,n,i){e[i]=It(t)}));var ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Re=Mt,Oe=Mt,He=Mt;function Ye(t,e){var n=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Pe(n,this._week.dow):t?n[t.day()]:n}function Qe(t){return!0===t?Pe(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function je(t){return!0===t?Pe(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ne(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Kt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Kt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Kt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=Kt.call(this._weekdaysParse,a))||-1!==(r=Kt.call(this._shortWeekdaysParse,a))||-1!==(r=Kt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Kt.call(this._shortWeekdaysParse,a))||-1!==(r=Kt.call(this._weekdaysParse,a))||-1!==(r=Kt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Kt.call(this._minWeekdaysParse,a))||-1!==(r=Kt.call(this._weekdaysParse,a))||-1!==(r=Kt.call(this._shortWeekdaysParse,a))?r:null}function We(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Ne.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ve(t){if(!this.isValid())return null!=t?this:NaN;var e=Jt(this,"Day");return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ie(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ke(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Re),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||qe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=He),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qe(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),i=Tt(this.weekdaysMin(n,"")),r=Tt(this.weekdaysShort(n,"")),o=Tt(this.weekdays(n,"")),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);a.sort(t),s.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function $e(){return this.hours()||24}function tn(t,e){Q(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function en(t,e){return e._meridiemParse}function nn(t){return"p"===(t+"").toLowerCase().charAt(0)}Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,Je),Q("k",["kk",2],0,$e),Q("hmm",0,0,(function(){return""+Je.apply(this)+U(this.minutes(),2)})),Q("hmmss",0,0,(function(){return""+Je.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)})),Q("Hmm",0,0,(function(){return""+this.hours()+U(this.minutes(),2)})),Q("Hmmss",0,0,(function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)})),tn("a",!0),tn("A",!1),Bt("a",en),Bt("A",en),Bt("H",ht,Ct),Bt("h",ht,Lt),Bt("k",ht,Lt),Bt("HH",ht,ct),Bt("hh",ht,ct),Bt("kk",ht,ct),Bt("hmm",pt),Bt("hmmss",ft),Bt("Hmm",pt),Bt("Hmmss",ft),kt(["H","HH"],Qt),kt(["k","kk"],(function(t,e,n){var i=It(t);e[Qt]=24===i?0:i})),kt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),kt(["h","hh"],(function(t,e,n){e[Qt]=It(t),g(n).bigHour=!0})),kt("hmm",(function(t,e,n){var i=t.length-2;e[Qt]=It(t.substr(0,i)),e[jt]=It(t.substr(i)),g(n).bigHour=!0})),kt("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Qt]=It(t.substr(0,i)),e[jt]=It(t.substr(i,2)),e[Nt]=It(t.substr(r)),g(n).bigHour=!0})),kt("Hmm",(function(t,e,n){var i=t.length-2;e[Qt]=It(t.substr(0,i)),e[jt]=It(t.substr(i))})),kt("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Qt]=It(t.substr(0,i)),e[jt]=It(t.substr(i,2)),e[Nt]=It(t.substr(r))}));var rn=/[ap]\.?m?\.?/i,on=qt("Hours",!0);function an(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sn,ln={calendar:k,longDateFormat:z,invalidDate:K,ordinal:X,dayOfMonthOrdinalParse:q,relativeTime:$,months:re,monthsShort:oe,week:Ce,weekdays:ke,weekdaysMin:Ue,weekdaysShort:Fe,meridiemParse:rn},cn={},An={};function un(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function dn(t){return t?t.toLowerCase().replace("_","-"):t}function hn(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=dn(t[o]).split("-")).length,n=(n=dn(t[o+1]))?n.split("-"):null;e>0;){if(i=fn(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&un(r,n)>=e-1)break;e--}o++}return sn}function pn(t){return!(!t||!t.match("^[^/\\\\]*$"))}function fn(e){var i=null;if(void 0===cn[e]&&t&&t.exports&&pn(e))try{i=sn._abbr,n(6700)("./"+e),mn(i)}catch(t){cn[e]=null}return cn[e]}function mn(t,e){var n;return t&&((n=A(e)?vn(t):gn(t,e))?sn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),sn._abbr}function gn(t,e){if(null!==e){var n,i=ln;if(e.abbr=t,null!=cn[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=cn[t]._config;else if(null!=e.parentLocale)if(null!=cn[e.parentLocale])i=cn[e.parentLocale]._config;else{if(null==(n=fn(e.parentLocale)))return An[e.parentLocale]||(An[e.parentLocale]=[]),An[e.parentLocale].push({name:t,config:e}),null;i=n._config}return cn[t]=new P(I(i,e)),An[t]&&An[t].forEach((function(t){gn(t.name,t.config)})),mn(t),cn[t]}return delete cn[t],null}function yn(t,e){if(null!=e){var n,i,r=ln;null!=cn[t]&&null!=cn[t].parentLocale?cn[t].set(I(cn[t]._config,e)):(null!=(i=fn(t))&&(r=i._config),e=I(r,e),null==i&&(e.abbr=t),(n=new P(e)).parentLocale=cn[t],cn[t]=n),mn(t)}else null!=cn[t]&&(null!=cn[t].parentLocale?(cn[t]=cn[t].parentLocale,t===mn()&&mn(t)):null!=cn[t]&&delete cn[t]);return cn[t]}function vn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sn;if(!a(t)){if(e=fn(t))return e;t=[t]}return hn(t)}function _n(){return B(cn)}function wn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Ht]<0||n[Ht]>11?Ht:n[Yt]<1||n[Yt]>ie(n[Ot],n[Ht])?Yt:n[Qt]<0||n[Qt]>24||24===n[Qt]&&(0!==n[jt]||0!==n[Nt]||0!==n[Wt])?Qt:n[jt]<0||n[jt]>59?jt:n[Nt]<0||n[Nt]>59?Nt:n[Wt]<0||n[Wt]>999?Wt:-1,g(t)._overflowDayOfYear&&(e<Ot||e>Yt)&&(e=Yt),g(t)._overflowWeeks&&-1===e&&(e=Vt),g(t)._overflowWeekday&&-1===e&&(e=zt),g(t).overflow=e),t}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/Z|[+-]\d\d(?::?\d\d)?/,Ln=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bn=/^\/?Date\((-?\d+)/i,Sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,En={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(t){var e,n,i,r,o,a,s=t._i,l=xn.exec(s)||bn.exec(s),c=Ln.length,A=Cn.length;if(l){for(g(t).iso=!0,e=0,n=c;e<n;e++)if(Ln[e][1].exec(l[1])){r=Ln[e][0],i=!1!==Ln[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=A;e<n;e++)if(Cn[e][1].exec(l[3])){o=(l[2]||" ")+Cn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Mn.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),jn(t)}else t._isValid=!1}function Dn(t,e,n,i,r,o){var a=[In(t),oe.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function In(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Pn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kn(t,e,n){return!t||Fe.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Fn(t,e,n){if(t)return En[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Un(t){var e,n=Sn.exec(Pn(t._i));if(n){if(e=Dn(n[4],n[3],n[2],n[5],n[6],n[7]),!kn(n[1],e,t))return;t._a=e,t._tzm=Fn(n[8],n[9],n[10]),t._d=_e.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Rn(t){var e=Bn.exec(t._i);null===e?(Tn(t),!1===t._isValid&&(delete t._isValid,Un(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function On(t,e,n){return null!=t?t:null!=e?e:n}function Hn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Yn(t){var e,n,i,r,o,a=[];if(!t._d){for(i=Hn(t),t._w&&null==t._a[Yt]&&null==t._a[Ht]&&Qn(t),null!=t._dayOfYear&&(o=On(t._a[Ot],i[Ot]),(t._dayOfYear>Gt(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=_e(o,0,t._dayOfYear),t._a[Ht]=n.getUTCMonth(),t._a[Yt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Qt]&&0===t._a[jt]&&0===t._a[Nt]&&0===t._a[Wt]&&(t._nextDay=!0,t._a[Qt]=0),t._d=(t._useUTC?_e:ve).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Qt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(g(t).weekdayMismatch=!0)}}function Qn(t){var e,n,i,r,o,a,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=On(e.GG,t._a[Ot],be(Xn(),1,4).year),i=On(e.W,1),((r=On(e.E,1))<1||r>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,c=be(Xn(),o,a),n=On(e.gg,t._a[Ot],c.year),i=On(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),i<1||i>Me(n,o,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=xe(n,i,r,o,a),t._a[Ot]=s.year,t._dayOfYear=s.dayOfYear)}function jn(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],g(t).empty=!0;var e,n,i,o,a,s,l,c=""+t._i,A=c.length,u=0;for(l=(i=V(t._f,t._locale).match(R)||[]).length,e=0;e<l;e++)o=i[e],(n=(c.match(St(o,t))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&g(t).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),u+=n.length),Y[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),Ut(o,n,t)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=A-u,c.length>0&&g(t).unusedInput.push(c),t._a[Qt]<=12&&!0===g(t).bigHour&&t._a[Qt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Qt]=Nn(t._locale,t._a[Qt],t._meridiem),null!==(s=g(t).era)&&(t._a[Ot]=t._locale.erasConvertYear(s,t._a[Ot])),Yn(t),wn(t)}else Un(t);else Tn(t)}function Nn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Wn(t){var e,n,i,r,o,a,s=!1,l=t._f.length;if(0===l)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<l;r++)o=0,a=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],jn(e),y(e)&&(a=!0),o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,s?o<i&&(i=o,n=e):(null==i||o<i||a)&&(i=o,n=e,a&&(s=!0));p(t,n||e)}function Vn(t){if(!t._d){var e=rt(t._i),n=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Yn(t)}}function zn(t){var e=new b(wn(Gn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gn(t){var e=t._i,n=t._f;return t._locale=t._locale||vn(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),M(e)?new b(wn(e)):(d(e)?t._d=e:a(n)?Wn(t):n?jn(t):Kn(t),y(t)||(t._d=null),t))}function Kn(t){var e=t._i;A(e)?t._d=new Date(r.now()):d(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Rn(t):a(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),Yn(t)):s(e)?Vn(t):u(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Zn(t,e,n,i,r){var o={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(t)&&c(t)||a(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,zn(o)}function Xn(t,e,n,i){return Zn(t,e,n,i,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var qn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Jn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function $n(t,e){var n,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Xn();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function ti(){return $n("isBefore",[].slice.call(arguments,0))}function ei(){return $n("isAfter",[].slice.call(arguments,0))}var ni=function(){return Date.now?Date.now():+new Date},ii=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ri(t){var e,n,i=!1,r=ii.length;for(e in t)if(l(t,e)&&(-1===Kt.call(ii,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<r;++n)if(t[ii[n]]){if(i)return!1;parseFloat(t[ii[n]])!==It(t[ii[n]])&&(i=!0)}return!0}function oi(){return this._isValid}function ai(){return Ei(NaN)}function si(t){var e=rt(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,A=e.millisecond||0;this._isValid=ri(e),this._milliseconds=+A+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=vn(),this._bubble()}function li(t){return t instanceof si}function ci(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ai(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&It(t[i])!==It(e[i]))&&a++;return a+o}function ui(t,e){Q(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+U(~~(t/60),2)+e+U(~~t%60,2)}))}ui("Z",":"),ui("ZZ",""),Bt("Z",xt),Bt("ZZ",xt),kt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=hi(xt,t)}));var di=/([\+\-]|\d\d)/gi;function hi(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(di)||["-",0,0])[1]+It(n[2]))?0:"+"===n[0]?i:-i}function pi(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(M(t)||d(t)?t.valueOf():Xn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(t).local()}function fi(t){return-Math.round(t._d.getTimezoneOffset())}function mi(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=hi(xt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=fi(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?ki(this,Ei(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fi(this)}function gi(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yi(t){return this.utcOffset(0,t)}function vi(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fi(this),"m")),this}function _i(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=hi(wt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function wi(t){return!!this.isValid()&&(t=t?Xn(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function xi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bi(){if(!A(this._isDSTShifted))return this._isDSTShifted;var t,e={};return x(e,this),(e=Gn(e))._a?(t=e._isUTC?f(e._a):Xn(e._a),this._isDSTShifted=this.isValid()&&Ai(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mi(){return!!this.isValid()&&!this._isUTC}function Li(){return!!this.isValid()&&this._isUTC}function Ci(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Bi=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Si=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ei(t,e){var n,i,r,o=t,a=null;return li(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:u(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(a=Bi.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:It(a[Yt])*n,h:It(a[Qt])*n,m:It(a[jt])*n,s:It(a[Nt])*n,ms:It(ci(1e3*a[Wt]))*n}):(a=Si.exec(t))?(n="-"===a[1]?-1:1,o={y:Ti(a[2],n),M:Ti(a[3],n),w:Ti(a[4],n),d:Ti(a[5],n),h:Ti(a[6],n),m:Ti(a[7],n),s:Ti(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Ii(Xn(o.from),Xn(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new si(o),li(t)&&l(t,"_locale")&&(i._locale=t._locale),li(t)&&l(t,"_isValid")&&(i._isValid=t._isValid),i}function Ti(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Di(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ii(t,e){var n;return t.isValid()&&e.isValid()?(e=pi(e,t),t.isBefore(e)?n=Di(t,e):((n=Di(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pi(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),ki(this,Ei(n,i),t),this}}function ki(t,e,n,i){var o=e._milliseconds,a=ci(e._days),s=ci(e._months);t.isValid()&&(i=null==i||i,s&&he(t,Jt(t,"Month")+s*n),a&&$t(t,"Date",Jt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Ei.fn=si.prototype,Ei.invalid=ai;var Fi=Pi(1,"add"),Ui=Pi(-1,"subtract");function Ri(t){return"string"==typeof t||t instanceof String}function Oi(t){return M(t)||d(t)||Ri(t)||u(t)||Yi(t)||Hi(t)||null==t}function Hi(t){var e,n,i=s(t)&&!c(t),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(e=0;e<a;e+=1)n=o[e],r=r||l(t,n);return i&&r}function Yi(t){var e=a(t),n=!1;return e&&(n=0===t.filter((function(e){return!u(e)&&Ri(t)})).length),e&&n}function Qi(t){var e,n,i=s(t)&&!c(t),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=o[e],r=r||l(t,n);return i&&r}function ji(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ni(t,e){1===arguments.length&&(arguments[0]?Oi(arguments[0])?(t=arguments[0],e=void 0):Qi(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Xn(),i=pi(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(T(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Wi(){return new b(this)}function Vi(t,e){var n=M(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=it(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function zi(t,e){var n=M(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=it(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Gi(t,e,n,i){var r=M(t)?t:Xn(t),o=M(e)?e:Xn(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Ki(t,e){var n,i=M(t)?t:Xn(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=it(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Zi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Xi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qi(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=pi(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=it(e)){case"year":o=Ji(this,i)/12;break;case"month":o=Ji(this,i);break;case"quarter":o=Ji(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:Dt(o)}function Ji(t,e){if(t.date()<e.date())return-Ji(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function $i(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function tr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=o+'[")]',this.format(t+e+n+i)}function nr(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function ir(t,e){return this.isValid()&&(M(t)&&t.isValid()||Xn(t).isValid())?Ei({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rr(t){return this.from(Xn(),t)}function or(t,e){return this.isValid()&&(M(t)&&t.isValid()||Xn(t).isValid())?Ei({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ar(t){return this.to(Xn(),t)}function sr(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lr=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function cr(){return this._locale}var Ar=1e3,ur=60*Ar,dr=60*ur,hr=3506328*dr;function pr(t,e){return(t%e+e)%e}function fr(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-hr:new Date(t,e,n).valueOf()}function mr(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-hr:Date.UTC(t,e,n)}function gr(t){var e,n;if(void 0===(t=it(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mr:fr,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pr(e+(this._isUTC?0:this.utcOffset()*ur),dr);break;case"minute":e=this._d.valueOf(),e-=pr(e,ur);break;case"second":e=this._d.valueOf(),e-=pr(e,Ar)}return this._d.setTime(e),r.updateOffset(this,!0),this}function yr(t){var e,n;if(void 0===(t=it(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mr:fr,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=dr-pr(e+(this._isUTC?0:this.utcOffset()*ur),dr)-1;break;case"minute":e=this._d.valueOf(),e+=ur-pr(e,ur)-1;break;case"second":e=this._d.valueOf(),e+=Ar-pr(e,Ar)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function vr(){return this._d.valueOf()-6e4*(this._offset||0)}function _r(){return Math.floor(this.valueOf()/1e3)}function wr(){return new Date(this.valueOf())}function xr(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function br(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mr(){return this.isValid()?this.toISOString():null}function Lr(){return y(this)}function Cr(){return p({},g(this))}function Br(){return g(this).overflow}function Sr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Er(t,e){var n,i,o,a=this._eras||vn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"==typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Tr(t,e,n){var i,r,o,a,s,l=this.eras();for(t=t.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[i];break;case"NNNN":if(o===t)return l[i];break;case"NNNNN":if(s===t)return l[i]}else if([o,a,s].indexOf(t)>=0)return l[i]}function Dr(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Ir(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""}function Pr(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""}function kr(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""}function Fr(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-r(o[t].since).year())*n+o[t].offset;return this.year()}function Ur(t){return l(this,"_erasNameRegex")||Nr.call(this),t?this._erasNameRegex:this._erasRegex}function Rr(t){return l(this,"_erasAbbrRegex")||Nr.call(this),t?this._erasAbbrRegex:this._erasRegex}function Or(t){return l(this,"_erasNarrowRegex")||Nr.call(this),t?this._erasNarrowRegex:this._erasRegex}function Hr(t,e){return e.erasAbbrRegex(t)}function Yr(t,e){return e.erasNameRegex(t)}function Qr(t,e){return e.erasNarrowRegex(t)}function jr(t,e){return e._eraYearOrdinalRegex||vt}function Nr(){var t,e,n,i,r,o=[],a=[],s=[],l=[],c=this.eras();for(t=0,e=c.length;t<e;++t)n=Tt(c[t].name),i=Tt(c[t].abbr),r=Tt(c[t].narrow),a.push(n),o.push(i),s.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Wr(t,e){Q(0,[t,t.length],0,e)}function Vr(t){return qr.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zr(t){return qr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Gr(){return Me(this.year(),1,4)}function Kr(){return Me(this.isoWeekYear(),1,4)}function Zr(){var t=this.localeData()._week;return Me(this.year(),t.dow,t.doy)}function Xr(){var t=this.localeData()._week;return Me(this.weekYear(),t.dow,t.doy)}function qr(t,e,n,i,r){var o;return null==t?be(this,i,r).year:(e>(o=Me(t,i,r))&&(e=o),Jr.call(this,t,e,n,i,r))}function Jr(t,e,n,i,r){var o=xe(t,e,n,i,r),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $r(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}Q("N",0,0,"eraAbbr"),Q("NN",0,0,"eraAbbr"),Q("NNN",0,0,"eraAbbr"),Q("NNNN",0,0,"eraName"),Q("NNNNN",0,0,"eraNarrow"),Q("y",["y",1],"yo","eraYear"),Q("y",["yy",2],0,"eraYear"),Q("y",["yyy",3],0,"eraYear"),Q("y",["yyyy",4],0,"eraYear"),Bt("N",Hr),Bt("NN",Hr),Bt("NNN",Hr),Bt("NNNN",Yr),Bt("NNNNN",Qr),kt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?g(n).era=r:g(n).invalidEra=t})),Bt("y",vt),Bt("yy",vt),Bt("yyy",vt),Bt("yyyy",vt),Bt("yo",jr),kt(["y","yy","yyy","yyyy"],Ot),kt(["yo"],(function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ot]=n._locale.eraYearOrdinalParse(t,r):e[Ot]=parseInt(t,10)})),Q(0,["gg",2],0,(function(){return this.weekYear()%100})),Q(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wr("gggg","weekYear"),Wr("ggggg","weekYear"),Wr("GGGG","isoWeekYear"),Wr("GGGGG","isoWeekYear"),Bt("G",_t),Bt("g",_t),Bt("GG",ht,ct),Bt("gg",ht,ct),Bt("GGGG",gt,ut),Bt("gggg",gt,ut),Bt("GGGGG",yt,dt),Bt("ggggg",yt,dt),Ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=It(t)})),Ft(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),Q("Q",0,"Qo","quarter"),Bt("Q",lt),kt("Q",(function(t,e){e[Ht]=3*(It(t)-1)})),Q("D",["DD",2],"Do","date"),Bt("D",ht,Lt),Bt("DD",ht,ct),Bt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),kt(["D","DD"],Yt),kt("Do",(function(t,e){e[Yt]=It(t.match(ht)[0])}));var to=qt("Date",!0);function eo(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}Q("DDD",["DDDD",3],"DDDo","dayOfYear"),Bt("DDD",mt),Bt("DDDD",At),kt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=It(t)})),Q("m",["mm",2],0,"minute"),Bt("m",ht,Ct),Bt("mm",ht,ct),kt(["m","mm"],jt);var no=qt("Minutes",!1);Q("s",["ss",2],0,"second"),Bt("s",ht,Ct),Bt("ss",ht,ct),kt(["s","ss"],Nt);var io,ro,oo=qt("Seconds",!1);for(Q("S",0,0,(function(){return~~(this.millisecond()/100)})),Q(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Q(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Q(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Q(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Q(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Q(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Bt("S",mt,lt),Bt("SS",mt,ct),Bt("SSS",mt,At),io="SSSS";io.length<=9;io+="S")Bt(io,vt);function ao(t,e){e[Wt]=It(1e3*("0."+t))}for(io="S";io.length<=9;io+="S")kt(io,ao);function so(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}ro=qt("Milliseconds",!1),Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var co=b.prototype;function Ao(t){return Xn(1e3*t)}function uo(){return Xn.apply(null,arguments).parseZone()}function ho(t){return t}co.add=Fi,co.calendar=Ni,co.clone=Wi,co.diff=qi,co.endOf=yr,co.format=nr,co.from=ir,co.fromNow=rr,co.to=or,co.toNow=ar,co.get=te,co.invalidAt=Br,co.isAfter=Vi,co.isBefore=zi,co.isBetween=Gi,co.isSame=Ki,co.isSameOrAfter=Zi,co.isSameOrBefore=Xi,co.isValid=Lr,co.lang=lr,co.locale=sr,co.localeData=cr,co.max=Jn,co.min=qn,co.parsingFlags=Cr,co.set=ee,co.startOf=gr,co.subtract=Ui,co.toArray=xr,co.toObject=br,co.toDate=wr,co.toISOString=tr,co.inspect=er,"undefined"!=typeof Symbol&&null!=Symbol.for&&(co[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),co.toJSON=Mr,co.toString=$i,co.unix=_r,co.valueOf=vr,co.creationData=Sr,co.eraName=Ir,co.eraNarrow=Pr,co.eraAbbr=kr,co.eraYear=Fr,co.year=Zt,co.isLeapYear=Xt,co.weekYear=Vr,co.isoWeekYear=zr,co.quarter=co.quarters=$r,co.month=pe,co.daysInMonth=fe,co.week=co.weeks=Ee,co.isoWeek=co.isoWeeks=Te,co.weeksInYear=Zr,co.weeksInWeekYear=Xr,co.isoWeeksInYear=Gr,co.isoWeeksInISOWeekYear=Kr,co.date=to,co.day=co.days=Ve,co.weekday=ze,co.isoWeekday=Ge,co.dayOfYear=eo,co.hour=co.hours=on,co.minute=co.minutes=no,co.second=co.seconds=oo,co.millisecond=co.milliseconds=ro,co.utcOffset=mi,co.utc=yi,co.local=vi,co.parseZone=_i,co.hasAlignedHourOffset=wi,co.isDST=xi,co.isLocal=Mi,co.isUtcOffset=Li,co.isUtc=Ci,co.isUTC=Ci,co.zoneAbbr=so,co.zoneName=lo,co.dates=C("dates accessor is deprecated. Use date instead.",to),co.months=C("months accessor is deprecated. Use month instead",pe),co.years=C("years accessor is deprecated. Use year instead",Zt),co.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),co.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bi);var po=P.prototype;function fo(t,e,n,i){var r=vn(),o=f().set(i,e);return r[n](o,t)}function mo(t,e,n){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return fo(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=fo(t,i,n,"month");return r}function go(t,e,n,i){"boolean"==typeof t?(u(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,u(e)&&(n=e,e=void 0),e=e||"");var r,o=vn(),a=t?o._week.dow:0,s=[];if(null!=n)return fo(e,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=fo(e,(r+a)%7,i,"day");return s}function yo(t,e){return mo(t,e,"months")}function vo(t,e){return mo(t,e,"monthsShort")}function _o(t,e,n){return go(t,e,n,"weekdays")}function wo(t,e,n){return go(t,e,n,"weekdaysShort")}function xo(t,e,n){return go(t,e,n,"weekdaysMin")}po.calendar=F,po.longDateFormat=G,po.invalidDate=Z,po.ordinal=J,po.preparse=ho,po.postformat=ho,po.relativeTime=tt,po.pastFuture=et,po.set=D,po.eras=Er,po.erasParse=Tr,po.erasConvertYear=Dr,po.erasAbbrRegex=Rr,po.erasNameRegex=Ur,po.erasNarrowRegex=Or,po.months=ce,po.monthsShort=Ae,po.monthsParse=de,po.monthsRegex=ge,po.monthsShortRegex=me,po.week=Le,po.firstDayOfYear=Se,po.firstDayOfWeek=Be,po.weekdays=Ye,po.weekdaysMin=je,po.weekdaysShort=Qe,po.weekdaysParse=We,po.weekdaysRegex=Ke,po.weekdaysShortRegex=Ze,po.weekdaysMinRegex=Xe,po.isPM=nn,po.meridiem=an,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===It(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var bo=Math.abs;function Mo(){var t=this._data;return this._milliseconds=bo(this._milliseconds),this._days=bo(this._days),this._months=bo(this._months),t.milliseconds=bo(t.milliseconds),t.seconds=bo(t.seconds),t.minutes=bo(t.minutes),t.hours=bo(t.hours),t.months=bo(t.months),t.years=bo(t.years),this}function Lo(t,e,n,i){var r=Ei(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Co(t,e){return Lo(this,t,e,1)}function Bo(t,e){return Lo(this,t,e,-1)}function So(t){return t<0?Math.floor(t):Math.ceil(t)}function Eo(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*So(Do(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=Dt(o/1e3),l.seconds=t%60,e=Dt(t/60),l.minutes=e%60,n=Dt(e/60),l.hours=n%24,a+=Dt(n/24),s+=r=Dt(To(a)),a-=So(Do(r)),i=Dt(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function To(t){return 4800*t/146097}function Do(t){return 146097*t/4800}function Io(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=it(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+To(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Do(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Po(t){return function(){return this.as(t)}}var ko=Po("ms"),Fo=Po("s"),Uo=Po("m"),Ro=Po("h"),Oo=Po("d"),Ho=Po("w"),Yo=Po("M"),Qo=Po("Q"),jo=Po("y"),No=ko;function Wo(){return Ei(this)}function Vo(t){return t=it(t),this.isValid()?this[t+"s"]():NaN}function zo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Go=zo("milliseconds"),Ko=zo("seconds"),Zo=zo("minutes"),Xo=zo("hours"),qo=zo("days"),Jo=zo("months"),$o=zo("years");function ta(){return Dt(this.days()/7)}var ea=Math.round,na={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ia(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ra(t,e,n,i){var r=Ei(t).abs(),o=ea(r.as("s")),a=ea(r.as("m")),s=ea(r.as("h")),l=ea(r.as("d")),c=ea(r.as("M")),A=ea(r.as("w")),u=ea(r.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||A<=1&&["w"]||A<n.w&&["ww",A]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=e,d[3]=+t>0,d[4]=i,ia.apply(null,d)}function oa(t){return void 0===t?ea:"function"==typeof t&&(ea=t,!0)}function aa(t,e){return void 0!==na[t]&&(void 0===e?na[t]:(na[t]=e,"s"===t&&(na.ss=e-1),!0))}function sa(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=na;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(o=Object.assign({},na,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),i=ra(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var la=Math.abs;function ca(t){return(t>0)-(t<0)||+t}function Aa(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,o,a,s,l=la(this._milliseconds)/1e3,c=la(this._days),A=la(this._months),u=this.asSeconds();return u?(t=Dt(l/60),e=Dt(t/60),l%=60,t%=60,n=Dt(A/12),A%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",o=ca(this._months)!==ca(u)?"-":"",a=ca(this._days)!==ca(u)?"-":"",s=ca(this._milliseconds)!==ca(u)?"-":"",r+"P"+(n?o+n+"Y":"")+(A?o+A+"M":"")+(c?a+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+i+"S":"")):"P0D"}var ua=si.prototype;return ua.isValid=oi,ua.abs=Mo,ua.add=Co,ua.subtract=Bo,ua.as=Io,ua.asMilliseconds=ko,ua.asSeconds=Fo,ua.asMinutes=Uo,ua.asHours=Ro,ua.asDays=Oo,ua.asWeeks=Ho,ua.asMonths=Yo,ua.asQuarters=Qo,ua.asYears=jo,ua.valueOf=No,ua._bubble=Eo,ua.clone=Wo,ua.get=Vo,ua.milliseconds=Go,ua.seconds=Ko,ua.minutes=Zo,ua.hours=Xo,ua.days=qo,ua.weeks=ta,ua.months=Jo,ua.years=$o,ua.humanize=sa,ua.toISOString=Aa,ua.toString=Aa,ua.toJSON=Aa,ua.locale=sr,ua.localeData=cr,ua.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Aa),ua.lang=lr,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),Bt("x",_t),Bt("X",bt),kt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),kt("x",(function(t,e,n){n._d=new Date(It(t))})),r.version="2.30.1",o(Xn),r.fn=co,r.min=ti,r.max=ei,r.now=ni,r.utc=f,r.unix=Ao,r.months=yo,r.isDate=d,r.locale=mn,r.invalid=v,r.duration=Ei,r.isMoment=M,r.weekdays=_o,r.parseZone=uo,r.localeData=vn,r.isDuration=li,r.monthsShort=vo,r.weekdaysMin=xo,r.defineLocale=gn,r.updateLocale=yn,r.locales=_n,r.weekdaysShort=wo,r.normalizeUnits=it,r.relativeTimeRounding=oa,r.relativeTimeThreshold=aa,r.calendarFormat=ji,r.prototype=co,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1415:function(module,__unused_webpack_exports,__webpack_require__){var n;this||self,n=function(){return function(){var __webpack_modules__={4264:function(t,e,n){t.exports=n(7588)},5036:function(t,e,n){n(1719),n(5677),n(6394),n(5334),n(6969),n(2021),n(8328),n(2129);var i=n(1287);t.exports=i.Promise},2582:function(t,e,n){n(1646),n(6394),n(2004),n(462),n(8407),n(2429),n(1172),n(8288),n(1274),n(8201),n(6626),n(3211),n(9952),n(15),n(9831),n(7521),n(2972),n(6956),n(5222),n(2257);var i=n(1287);t.exports=i.Symbol},8257:function(t,e,n){var i=n(7583),r=n(9212),o=n(5637),a=i.TypeError;t.exports=function(t){if(r(t))return t;throw a(o(t)+" is not a function")}},1186:function(t,e,n){var i=n(7583),r=n(2097),o=n(5637),a=i.TypeError;t.exports=function(t){if(r(t))return t;throw a(o(t)+" is not a constructor")}},9882:function(t,e,n){var i=n(7583),r=n(9212),o=i.String,a=i.TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},6288:function(t,e,n){var i=n(3649),r=n(3590),o=n(4615),a=i("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},4761:function(t,e,n){var i=n(7583),r=n(2447),o=i.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},2569:function(t,e,n){var i=n(7583),r=n(794),o=i.String,a=i.TypeError;t.exports=function(t){if(r(t))return t;throw a(o(t)+" is not an object")}},5766:function(t,e,n){var i=n(2977),r=n(6782),o=n(1825),a=function(t){return function(e,n,a){var s,l=i(e),c=o(l),A=r(a,c);if(t&&n!=n){for(;c>A;)if((s=l[A++])!=s)return!0}else for(;c>A;A++)if((t||A in l)&&l[A]===n)return t||A||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4805:function(t,e,n){var i=n(2938),r=n(7386),o=n(5044),a=n(1324),s=n(1825),l=n(4822),c=r([].push),A=function(t){var e=1==t,n=2==t,r=3==t,A=4==t,u=6==t,d=7==t,h=5==t||u;return function(p,f,m,g){for(var y,v,_=a(p),w=o(_),x=i(f,m),b=s(w),M=0,L=g||l,C=e?L(p,b):n||d?L(p,0):void 0;b>M;M++)if((h||M in w)&&(v=x(y=w[M],M,_),t))if(e)C[M]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return M;case 2:c(C,y)}else switch(t){case 4:return!1;case 7:c(C,y)}return u?-1:r||A?A:C}};t.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},9269:function(t,e,n){var i=n(6544),r=n(3649),o=n(4061),a=r("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4546:function(t,e,n){var i=n(7583),r=n(6782),o=n(1825),a=n(5999),s=i.Array,l=Math.max;t.exports=function(t,e,n){for(var i=o(t),c=r(e,i),A=r(void 0===n?i:n,i),u=s(l(A-c,0)),d=0;c<A;c++,d++)a(u,d,t[c]);return u.length=d,u}},6917:function(t,e,n){var i=n(7386);t.exports=i([].slice)},5289:function(t,e,n){var i=n(7583),r=n(4521),o=n(2097),a=n(794),s=n(3649)("species"),l=i.Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(o(e)&&(e===l||r(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?l:e}},4822:function(t,e,n){var i=n(5289);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},3616:function(t,e,n){var i=n(3649)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},9624:function(t,e,n){var i=n(7386),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},3058:function(t,e,n){var i=n(7583),r=n(8191),o=n(9212),a=n(9624),s=n(3649)("toStringTag"),l=i.Object,c="Arguments"==a(function(){return arguments}());t.exports=r?a:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=l(t),s))?n:c?a(e):"Object"==(i=a(e))&&o(e.callee)?"Arguments":i}},1509:function(t,e,n){var i=n(7386)("".replace),r=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(r);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=i(t,o,"");return t}},3478:function(t,e,n){var i=n(2870),r=n(929),o=n(6683),a=n(4615);t.exports=function(t,e,n){for(var s=r(e),l=a.f,c=o.f,A=0;A<s.length;A++){var u=s[A];i(t,u)||n&&i(n,u)||l(t,u,c(e,u))}}},926:function(t,e,n){var i=n(6544);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4683:function(t,e,n){"use strict";var i=n(2365).IteratorPrototype,r=n(3590),o=n(4677),a=n(8821),s=n(339),l=function(){return this};t.exports=function(t,e,n,c){var A=e+" Iterator";return t.prototype=r(i,{next:o(+!c,n)}),a(t,A,!1,!0),s[A]=l,t}},57:function(t,e,n){var i=n(8494),r=n(4615),o=n(4677);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},4677:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5999:function(t,e,n){"use strict";var i=n(8734),r=n(4615),o=n(4677);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},9012:function(t,e,n){"use strict";var i=n(7263),r=n(8262),o=n(6268),a=n(4340),s=n(9212),l=n(4683),c=n(729),A=n(7496),u=n(8821),d=n(57),h=n(1270),p=n(3649),f=n(339),m=n(2365),g=a.PROPER,y=a.CONFIGURABLE,v=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x="keys",b="values",M="entries",L=function(){return this};t.exports=function(t,e,n,a,p,m,C){l(n,e,a);var B,S,E,T=function(t){if(t===p&&F)return F;if(!_&&t in P)return P[t];switch(t){case x:case b:case M:return function(){return new n(this,t)}}return function(){return new n(this)}},D=e+" Iterator",I=!1,P=t.prototype,k=P[w]||P["@@iterator"]||p&&P[p],F=!_&&k||T(p),U="Array"==e&&P.entries||k;if(U&&(B=c(U.call(new t)))!==Object.prototype&&B.next&&(o||c(B)===v||(A?A(B,v):s(B[w])||h(B,w,L)),u(B,D,!0,!0),o&&(f[D]=L)),g&&p==b&&k&&k.name!==b&&(!o&&y?d(P,"name",b):(I=!0,F=function(){return r(k,this)})),p)if(S={values:T(b),keys:m?F:T(x),entries:T(M)},C)for(E in S)(_||I||!(E in P))&&h(P,E,S[E]);else i({target:e,proto:!0,forced:_||I},S);return o&&!C||P[w]===F||h(P,w,F,{name:p}),f[e]=F,S}},2219:function(t,e,n){var i=n(1287),r=n(2870),o=n(491),a=n(4615).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},8494:function(t,e,n){var i=n(6544);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6668:function(t,e,n){var i=n(7583),r=n(794),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6778:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9307:function(t,e,n){var i=n(6668)("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},2274:function(t){t.exports="object"==typeof window},3256:function(t,e,n){var i=n(6918),r=n(7583);t.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},7020:function(t,e,n){var i=n(6918);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5354:function(t,e,n){var i=n(9624),r=n(7583);t.exports="process"==i(r.process)},6846:function(t,e,n){var i=n(6918);t.exports=/web0s(?!.*chrome)/i.test(i)},6918:function(t,e,n){var i=n(5897);t.exports=i("navigator","userAgent")||""},4061:function(t,e,n){var i,r,o=n(7583),a=n(6918),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,A=c&&c.v8;A&&(r=(i=A.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},5690:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1178:function(t,e,n){var i=n(6544),r=n(4677);t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},7263:function(t,e,n){var i=n(7583),r=n(6683).f,o=n(57),a=n(1270),s=n(460),l=n(3478),c=n(4451);t.exports=function(t,e){var n,A,u,d,h,p=t.target,f=t.global,m=t.stat;if(n=f?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(A in e){if(d=e[A],u=t.noTargetGet?(h=r(n,A))&&h.value:n[A],!c(f?A:p+(m?".":"#")+A,t.forced)&&void 0!==u){if(typeof d==typeof u)continue;l(d,u)}(t.sham||u&&u.sham)&&o(d,"sham",!0),a(n,A,d,t)}}},6544:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},1611:function(t,e,n){var i=n(8987),r=Function.prototype,o=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},2938:function(t,e,n){var i=n(7386),r=n(8257),o=n(8987),a=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},8987:function(t,e,n){var i=n(6544);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},8262:function(t,e,n){var i=n(8987),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},4340:function(t,e,n){var i=n(8494),r=n(2870),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!i||i&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},7386:function(t,e,n){var i=n(8987),r=Function.prototype,o=r.bind,a=r.call,s=i&&o.bind(a,a);t.exports=i?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5897:function(t,e,n){var i=n(7583),r=n(9212);t.exports=function(t,e){return arguments.length<2?function(t){return r(t)?t:void 0}(i[t]):i[t]&&i[t][e]}},8272:function(t,e,n){var i=n(3058),r=n(911),o=n(339),a=n(3649)("iterator");t.exports=function(t){if(null!=t)return r(t,a)||r(t,"@@iterator")||o[i(t)]}},6307:function(t,e,n){var i=n(7583),r=n(8262),o=n(8257),a=n(2569),s=n(5637),l=n(8272),c=i.TypeError;t.exports=function(t,e){var n=arguments.length<2?l(t):e;if(o(n))return a(r(n,t));throw c(s(t)+" is not iterable")}},911:function(t,e,n){var i=n(8257);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},7583:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2870:function(t,e,n){var i=n(7386),r=n(1324),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},4639:function(t){t.exports={}},2716:function(t,e,n){var i=n(7583);t.exports=function(t,e){var n=i.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},482:function(t,e,n){var i=n(5897);t.exports=i("document","documentElement")},275:function(t,e,n){var i=n(8494),r=n(6544),o=n(6668);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5044:function(t,e,n){var i=n(7583),r=n(7386),o=n(6544),a=n(9624),s=i.Object,l=r("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?l(t,""):s(t)}:s},9734:function(t,e,n){var i=n(7386),r=n(9212),o=n(1314),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},4402:function(t,e,n){var i=n(794),r=n(57);t.exports=function(t,e){i(e)&&"cause"in e&&r(t,"cause",e.cause)}},2743:function(t,e,n){var i,r,o,a=n(9491),s=n(7583),l=n(7386),c=n(794),A=n(57),u=n(2870),d=n(1314),h=n(9137),p=n(4639),f="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new g),v=l(y.get),_=l(y.has),w=l(y.set);i=function(t,e){if(_(y,t))throw new m(f);return e.facade=t,w(y,t,e),e},r=function(t){return v(y,t)||{}},o=function(t){return _(y,t)}}else{var x=h("state");p[x]=!0,i=function(t,e){if(u(t,x))throw new m(f);return e.facade=t,A(t,x,e),e},r=function(t){return u(t,x)?t[x]:{}},o=function(t){return u(t,x)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},114:function(t,e,n){var i=n(3649),r=n(339),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},4521:function(t,e,n){var i=n(9624);t.exports=Array.isArray||function(t){return"Array"==i(t)}},9212:function(t){t.exports=function(t){return"function"==typeof t}},2097:function(t,e,n){var i=n(7386),r=n(6544),o=n(9212),a=n(3058),s=n(5897),l=n(9734),c=function(){},A=[],u=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=i(d.exec),p=!d.exec(c),f=function(t){if(!o(t))return!1;try{return u(c,A,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,l(t))}catch(t){return!0}};m.sham=!0,t.exports=!u||r((function(){var t;return f(f.call)||!f(Object)||!f((function(){t=!0}))||t}))?m:f},4451:function(t,e,n){var i=n(6544),r=n(9212),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==A||n!=c&&(r(e)?i(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",A=a.POLYFILL="P";t.exports=a},794:function(t,e,n){var i=n(9212);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},6268:function(t){t.exports=!1},5871:function(t,e,n){var i=n(7583),r=n(5897),o=n(9212),a=n(2447),s=n(7786),l=i.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&a(e.prototype,l(t))}},4026:function(t,e,n){var i=n(7583),r=n(2938),o=n(8262),a=n(2569),s=n(5637),l=n(114),c=n(1825),A=n(2447),u=n(6307),d=n(8272),h=n(7093),p=i.TypeError,f=function(t,e){this.stopped=t,this.result=e},m=f.prototype;t.exports=function(t,e,n){var i,g,y,v,_,w,x,b=n&&n.that,M=!(!n||!n.AS_ENTRIES),L=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),B=r(e,b),S=function(t){return i&&h(i,"normal",t),new f(!0,t)},E=function(t){return M?(a(t),C?B(t[0],t[1],S):B(t[0],t[1])):C?B(t,S):B(t)};if(L)i=t;else{if(!(g=d(t)))throw p(s(t)+" is not iterable");if(l(g)){for(y=0,v=c(t);v>y;y++)if((_=E(t[y]))&&A(m,_))return _;return new f(!1)}i=u(t,g)}for(w=i.next;!(x=o(w,i)).done;){try{_=E(x.value)}catch(t){h(i,"throw",t)}if("object"==typeof _&&_&&A(m,_))return _}return new f(!1)}},7093:function(t,e,n){var i=n(8262),r=n(2569),o=n(911);t.exports=function(t,e,n){var a,s;r(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=i(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return r(a),n}},2365:function(t,e,n){"use strict";var i,r,o,a=n(6544),s=n(9212),l=n(3590),c=n(729),A=n(1270),u=n(3649),d=n(6268),h=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=c(c(o)))!==Object.prototype&&(i=r):p=!0),null==i||a((function(){var t={};return i[h].call(t)!==t}))?i={}:d&&(i=l(i)),s(i[h])||A(i,h,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},339:function(t){t.exports={}},1825:function(t,e,n){var i=n(97);t.exports=function(t){return i(t.length)}},2095:function(t,e,n){var i,r,o,a,s,l,c,A,u=n(7583),d=n(2938),h=n(6683).f,p=n(8117).set,f=n(7020),m=n(3256),g=n(6846),y=n(5354),v=u.MutationObserver||u.WebKitMutationObserver,_=u.document,w=u.process,x=u.Promise,b=h(u,"queueMicrotask"),M=b&&b.value;M||(i=function(){var t,e;for(y&&(t=w.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},f||y||g||!v||!_?!m&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,A=d(c.then,c),a=function(){A(i)}):y?a=function(){w.nextTick(i)}:(p=d(p,u),a=function(){p(i)}):(s=!0,l=_.createTextNode(""),new v(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),t.exports=M||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},783:function(t,e,n){var i=n(7583);t.exports=i.Promise},8640:function(t,e,n){var i=n(4061),r=n(6544);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},9491:function(t,e,n){var i=n(7583),r=n(9212),o=n(9734),a=i.WeakMap;t.exports=r(a)&&/native code/.test(o(a))},5084:function(t,e,n){"use strict";var i=n(8257),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},2764:function(t,e,n){var i=n(8320);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},3590:function(t,e,n){var i,r=n(2569),o=n(8728),a=n(5690),s=n(4639),l=n(482),c=n(6668),A=n(9137)("IE_PROTO"),u=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&i?h(i):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(i);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[A]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[A]=t):n=p(),void 0===e?n:o.f(n,e)}},8728:function(t,e,n){var i=n(8494),r=n(7670),o=n(4615),a=n(2569),s=n(2977),l=n(5432);e.f=i&&!r?Object.defineProperties:function(t,e){a(t);for(var n,i=s(e),r=l(e),c=r.length,A=0;c>A;)o.f(t,n=r[A++],i[n]);return t}},4615:function(t,e,n){var i=n(7583),r=n(8494),o=n(275),a=n(7670),s=n(2569),l=n(8734),c=i.TypeError,A=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=r?a?function(t,e,n){if(s(t),e=l(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var i=u(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return A(t,e,n)}:A:function(t,e,n){if(s(t),e=l(e),s(n),o)try{return A(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},6683:function(t,e,n){var i=n(8494),r=n(8262),o=n(112),a=n(4677),s=n(2977),l=n(8734),c=n(2870),A=n(275),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=s(t),e=l(e),A)try{return u(t,e)}catch(t){}if(c(t,e))return a(!r(o.f,t,e),t[e])}},3130:function(t,e,n){var i=n(9624),r=n(2977),o=n(9275).f,a=n(4546),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==i(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(r(t))}},9275:function(t,e,n){var i=n(8356),r=n(5690).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},4012:function(t,e){e.f=Object.getOwnPropertySymbols},729:function(t,e,n){var i=n(7583),r=n(2870),o=n(9212),a=n(1324),s=n(9137),l=n(926),c=s("IE_PROTO"),A=i.Object,u=A.prototype;t.exports=l?A.getPrototypeOf:function(t){var e=a(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof A?u:null}},2447:function(t,e,n){var i=n(7386);t.exports=i({}.isPrototypeOf)},8356:function(t,e,n){var i=n(7386),r=n(2870),o=n(2977),a=n(5766).indexOf,s=n(4639),l=i([].push);t.exports=function(t,e){var n,i=o(t),c=0,A=[];for(n in i)!r(s,n)&&r(i,n)&&l(A,n);for(;e.length>c;)r(i,n=e[c++])&&(~a(A,n)||l(A,n));return A}},5432:function(t,e,n){var i=n(8356),r=n(5690);t.exports=Object.keys||function(t){return i(t,r)}},112:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7496:function(t,e,n){var i=n(7386),r=n(2569),o=n(9882);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t(n,i):n.__proto__=i,n}}():void 0)},3060:function(t,e,n){"use strict";var i=n(8191),r=n(3058);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},6252:function(t,e,n){var i=n(7583),r=n(8262),o=n(9212),a=n(794),s=i.TypeError;t.exports=function(t,e){var n,i;if("string"===e&&o(n=t.toString)&&!a(i=r(n,t)))return i;if(o(n=t.valueOf)&&!a(i=r(n,t)))return i;if("string"!==e&&o(n=t.toString)&&!a(i=r(n,t)))return i;throw s("Can't convert object to primitive value")}},929:function(t,e,n){var i=n(5897),r=n(7386),o=n(9275),a=n(4012),s=n(2569),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},1287:function(t,e,n){var i=n(7583);t.exports=i},544:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},5732:function(t,e,n){var i=n(2569),r=n(794),o=n(5084);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2723:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},6893:function(t,e,n){var i=n(1270);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1270:function(t,e,n){var i=n(7583),r=n(9212),o=n(2870),a=n(57),s=n(460),l=n(9734),c=n(2743),A=n(4340).CONFIGURABLE,u=c.get,d=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,l){var c,u=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:e;r(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||A&&n.name!==m)&&a(n,"name",m),(c=d(n)).source||(c.source=h.join("string"==typeof m?m:""))),t!==i?(u?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:a(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return r(this)&&u(this).source||l(this)}))},3955:function(t,e,n){var i=n(7583).TypeError;t.exports=function(t){if(null==t)throw i("Can't call method on "+t);return t}},460:function(t,e,n){var i=n(7583),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},7730:function(t,e,n){"use strict";var i=n(5897),r=n(4615),o=n(3649),a=n(8494),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8821:function(t,e,n){var i=n(4615).f,r=n(2870),o=n(3649)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,o)&&i(t,o,{configurable:!0,value:e})}},9137:function(t,e,n){var i=n(7836),r=n(8284),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},1314:function(t,e,n){var i=n(7583),r=n(460),o="__core-js_shared__",a=i[o]||r(o,{});t.exports=a},7836:function(t,e,n){var i=n(6268),r=n(1314);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:i?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},564:function(t,e,n){var i=n(2569),r=n(1186),o=n(3649)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},6389:function(t,e,n){var i=n(7386),r=n(7486),o=n(8320),a=n(3955),s=i("".charAt),l=i("".charCodeAt),c=i("".slice),A=function(t){return function(e,n){var i,A,u=o(a(e)),d=r(n),h=u.length;return d<0||d>=h?t?"":void 0:(i=l(u,d))<55296||i>56319||d+1===h||(A=l(u,d+1))<56320||A>57343?t?s(u,d):i:t?c(u,d,d+2):A-56320+(i-55296<<10)+65536}};t.exports={codeAt:A(!1),charAt:A(!0)}},8117:function(t,e,n){var i,r,o,a,s=n(7583),l=n(1611),c=n(2938),A=n(9212),u=n(2870),d=n(6544),h=n(482),p=n(6917),f=n(6668),m=n(7520),g=n(7020),y=n(5354),v=s.setImmediate,_=s.clearImmediate,w=s.process,x=s.Dispatch,b=s.Function,M=s.MessageChannel,L=s.String,C=0,B={};try{i=s.location}catch(t){}var S=function(t){if(u(B,t)){var e=B[t];delete B[t],e()}},E=function(t){return function(){S(t)}},T=function(t){S(t.data)},D=function(t){s.postMessage(L(t),i.protocol+"//"+i.host)};v&&_||(v=function(t){m(arguments.length,1);var e=A(t)?t:b(t),n=p(arguments,1);return B[++C]=function(){l(e,void 0,n)},r(C),C},_=function(t){delete B[t]},y?r=function(t){w.nextTick(E(t))}:x&&x.now?r=function(t){x.now(E(t))}:M&&!g?(a=(o=new M).port2,o.port1.onmessage=T,r=c(a.postMessage,a)):s.addEventListener&&A(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!d(D)?(r=D,s.addEventListener("message",T,!1)):r="onreadystatechange"in f("script")?function(t){h.appendChild(f("script")).onreadystatechange=function(){h.removeChild(this),S(t)}}:function(t){setTimeout(E(t),0)}),t.exports={set:v,clear:_}},6782:function(t,e,n){var i=n(7486),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},2977:function(t,e,n){var i=n(5044),r=n(3955);t.exports=function(t){return i(r(t))}},7486:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var i=+t;return i!=i||0===i?0:(i>0?n:e)(i)}},97:function(t,e,n){var i=n(7486),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},1324:function(t,e,n){var i=n(7583),r=n(3955),o=i.Object;t.exports=function(t){return o(r(t))}},2670:function(t,e,n){var i=n(7583),r=n(8262),o=n(794),a=n(5871),s=n(911),l=n(6252),c=n(3649),A=i.TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,i=s(t,u);if(i){if(void 0===e&&(e="default"),n=r(i,t,e),!o(n)||a(n))return n;throw A("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},8734:function(t,e,n){var i=n(2670),r=n(5871);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},8191:function(t,e,n){var i={};i[n(3649)("toStringTag")]="z",t.exports="[object z]"===String(i)},8320:function(t,e,n){var i=n(7583),r=n(3058),o=i.String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},5637:function(t,e,n){var i=n(7583).String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},8284:function(t,e,n){var i=n(7386),r=0,o=Math.random(),a=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+o,36)}},7786:function(t,e,n){var i=n(8640);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:function(t,e,n){var i=n(8494),r=n(6544);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7520:function(t,e,n){var i=n(7583).TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},491:function(t,e,n){var i=n(3649);e.f=i},3649:function(t,e,n){var i=n(7583),r=n(7836),o=n(2870),a=n(8284),s=n(8640),l=n(7786),c=r("wks"),A=i.Symbol,u=A&&A.for,d=l?A:A&&A.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(A,t)?c[t]=A[t]:c[t]=l&&u?u(e):d(e)}return c[t]}},1719:function(t,e,n){"use strict";var i=n(7263),r=n(7583),o=n(2447),a=n(729),s=n(7496),l=n(3478),c=n(3590),A=n(57),u=n(4677),d=n(1509),h=n(4402),p=n(4026),f=n(2764),m=n(3649),g=n(1178),y=m("toStringTag"),v=r.Error,_=[].push,w=function(t,e){var n,i=arguments.length>2?arguments[2]:void 0,r=o(x,this);s?n=s(new v,r?a(this):x):(n=r?this:c(x),A(n,y,"Error")),void 0!==e&&A(n,"message",f(e)),g&&A(n,"stack",d(n.stack,1)),h(n,i);var l=[];return p(t,_,{that:l}),A(n,"errors",l),n};s?s(w,v):l(w,v,{name:!0});var x=w.prototype=c(v.prototype,{constructor:u(1,w),message:u(1,""),name:u(1,"AggregateError")});i({global:!0},{AggregateError:w})},1646:function(t,e,n){"use strict";var i=n(7263),r=n(7583),o=n(6544),a=n(4521),s=n(794),l=n(1324),c=n(1825),A=n(5999),u=n(4822),d=n(9269),h=n(3649),p=n(4061),f=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=r.TypeError,v=p>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=d("concat"),w=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)};i({target:"Array",proto:!0,forced:!v||!_},{concat:function(t){var e,n,i,r,o,a=l(this),s=u(a,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(w(o=-1===e?a:arguments[e])){if(d+(r=c(o))>m)throw y(g);for(n=0;n<r;n++,d++)n in o&&A(s,d,o[n])}else{if(d>=m)throw y(g);A(s,d++,o)}return s.length=d,s}})},5677:function(t,e,n){"use strict";var i=n(2977),r=n(6288),o=n(339),a=n(2743),s=n(4615).f,l=n(9012),c=n(6268),A=n(8494),u="Array Iterator",d=a.set,h=a.getterFor(u);t.exports=l(Array,"Array",(function(t,e){d(this,{type:u,target:i(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");var p=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&A&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},6956:function(t,e,n){var i=n(7583);n(8821)(i.JSON,"JSON",!0)},5222:function(t,e,n){n(8821)(Math,"Math",!0)},6394:function(t,e,n){var i=n(8191),r=n(1270),o=n(3060);i||r(Object.prototype,"toString",o,{unsafe:!0})},6969:function(t,e,n){"use strict";var i=n(7263),r=n(8262),o=n(8257),a=n(5084),s=n(544),l=n(4026);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),i=n.resolve,c=n.reject,A=s((function(){var n=o(e.resolve),a=[],s=0,c=1;l(t,(function(t){var o=s++,l=!1;c++,r(n,e,t).then((function(t){l||(l=!0,a[o]={status:"fulfilled",value:t},--c||i(a))}),(function(t){l||(l=!0,a[o]={status:"rejected",reason:t},--c||i(a))}))})),--c||i(a)}));return A.error&&c(A.value),n.promise}})},2021:function(t,e,n){"use strict";var i=n(7263),r=n(8257),o=n(5897),a=n(8262),s=n(5084),l=n(544),c=n(4026),A="No one promise resolved";i({target:"Promise",stat:!0},{any:function(t){var e=this,n=o("AggregateError"),i=s.f(e),u=i.resolve,d=i.reject,h=l((function(){var i=r(e.resolve),o=[],s=0,l=1,h=!1;c(t,(function(t){var r=s++,c=!1;l++,a(i,e,t).then((function(t){c||h||(h=!0,u(t))}),(function(t){c||h||(c=!0,o[r]=t,--l||d(new n(o,A)))}))})),--l||d(new n(o,A))}));return h.error&&d(h.value),i.promise}})},8328:function(t,e,n){"use strict";var i=n(7263),r=n(6268),o=n(783),a=n(6544),s=n(5897),l=n(9212),c=n(564),A=n(5732),u=n(1270);if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n=l(t);return this.then(n?function(n){return A(e,t()).then((function(){return n}))}:t,n?function(n){return A(e,t()).then((function(){throw n}))}:t)}}),!r&&l(o)){var d=s("Promise").prototype.finally;o.prototype.finally!==d&&u(o.prototype,"finally",d,{unsafe:!0})}},5334:function(t,e,n){"use strict";var i,r,o,a,s=n(7263),l=n(6268),c=n(7583),A=n(5897),u=n(8262),d=n(783),h=n(1270),p=n(6893),f=n(7496),m=n(8821),g=n(7730),y=n(8257),v=n(9212),_=n(794),w=n(4761),x=n(9734),b=n(4026),M=n(3616),L=n(564),C=n(8117).set,B=n(2095),S=n(5732),E=n(2716),T=n(5084),D=n(544),I=n(2723),P=n(2743),k=n(4451),F=n(3649),U=n(2274),R=n(5354),O=n(4061),H=F("species"),Y="Promise",Q=P.getterFor(Y),j=P.set,N=P.getterFor(Y),W=d&&d.prototype,V=d,z=W,G=c.TypeError,K=c.document,Z=c.process,X=T.f,q=X,J=!!(K&&K.createEvent&&c.dispatchEvent),$=v(c.PromiseRejectionEvent),tt="unhandledrejection",et=!1,nt=k(Y,(function(){var t=x(V),e=t!==String(V);if(!e&&66===O)return!0;if(l&&!z.finally)return!0;if(O>=51&&/native code/.test(t))return!1;var n=new V((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};return(n.constructor={})[H]=i,!(et=n.then((function(){}))instanceof i)||!e&&U&&!$})),it=nt||!M((function(t){V.all(t).catch((function(){}))})),rt=function(t){var e;return!(!_(t)||!v(e=t.then))&&e},ot=function(t,e){var n,i,r,o=e.value,a=1==e.state,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,A=t.domain;try{s?(a||(2===e.rejection&&At(e),e.rejection=1),!0===s?n=o:(A&&A.enter(),n=s(o),A&&(A.exit(),r=!0)),n===t.promise?c(G("Promise-chain cycle")):(i=rt(n))?u(i,n,l,c):l(n)):c(o)}catch(t){A&&!r&&A.exit(),c(t)}},at=function(t,e){t.notified||(t.notified=!0,B((function(){for(var n,i=t.reactions;n=i.get();)ot(n,t);t.notified=!1,e&&!t.rejection&&lt(t)})))},st=function(t,e,n){var i,r;J?((i=K.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},!$&&(r=c["on"+t])?r(i):t===tt&&E("Unhandled promise rejection",n)},lt=function(t){u(C,c,(function(){var e,n=t.facade,i=t.value;if(ct(t)&&(e=D((function(){R?Z.emit("unhandledRejection",i,n):st(tt,n,i)})),t.rejection=R||ct(t)?2:1,e.error))throw e.value}))},ct=function(t){return 1!==t.rejection&&!t.parent},At=function(t){u(C,c,(function(){var e=t.facade;R?Z.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},ut=function(t,e,n){return function(i){t(e,i,n)}},dt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,at(t,!0))},ht=function t(e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===n)throw G("Promise can't be resolved itself");var r=rt(n);r?B((function(){var i={done:!1};try{u(r,n,ut(t,i,e),ut(dt,i,e))}catch(t){dt(i,t,e)}})):(e.value=n,e.state=1,at(e,!1))}catch(t){dt({done:!1},t,e)}}};if(nt&&(z=(V=function(t){w(this,z),y(t),u(i,this);var e=Q(this);try{t(ut(ht,e),ut(dt,e))}catch(t){dt(e,t)}}).prototype,(i=function(t){j(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=p(z,{then:function(t,e){var n=N(this),i=X(L(this,V));return n.parent=!0,i.ok=!v(t)||t,i.fail=v(e)&&e,i.domain=R?Z.domain:void 0,0==n.state?n.reactions.add(i):B((function(){ot(i,n)})),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=Q(t);this.promise=t,this.resolve=ut(ht,e),this.reject=ut(dt,e)},T.f=X=function(t){return t===V||t===o?new r(t):q(t)},!l&&v(d)&&W!==Object.prototype)){a=W.then,et||(h(W,"then",(function(t,e){var n=this;return new V((function(t,e){u(a,n,t,e)})).then(t,e)}),{unsafe:!0}),h(W,"catch",z.catch,{unsafe:!0}));try{delete W.constructor}catch(t){}f&&f(W,z)}s({global:!0,wrap:!0,forced:nt},{Promise:V}),m(V,Y,!1,!0),g(Y),o=A(Y),s({target:Y,stat:!0,forced:nt},{reject:function(t){var e=X(this);return u(e.reject,void 0,t),e.promise}}),s({target:Y,stat:!0,forced:l||nt},{resolve:function(t){return S(l&&this===o?V:this,t)}}),s({target:Y,stat:!0,forced:it},{all:function(t){var e=this,n=X(e),i=n.resolve,r=n.reject,o=D((function(){var n=y(e.resolve),o=[],a=0,s=1;b(t,(function(t){var l=a++,c=!1;s++,u(n,e,t).then((function(t){c||(c=!0,o[l]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=X(e),i=n.reject,r=D((function(){var r=y(e.resolve);b(t,(function(t){u(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},2257:function(t,e,n){var i=n(7263),r=n(7583),o=n(8821);i({global:!0},{Reflect:{}}),o(r.Reflect,"Reflect",!0)},2129:function(t,e,n){"use strict";var i=n(6389).charAt,r=n(8320),o=n(2743),a=n(9012),s="String Iterator",l=o.set,c=o.getterFor(s);a(String,"String",(function(t){l(this,{type:s,string:r(t),index:0})}),(function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},462:function(t,e,n){n(2219)("asyncIterator")},8407:function(t,e,n){"use strict";var i=n(7263),r=n(8494),o=n(7583),a=n(7386),s=n(2870),l=n(9212),c=n(2447),A=n(8320),u=n(4615).f,d=n(3478),h=o.Symbol,p=h&&h.prototype;if(r&&l(h)&&(!("description"in p)||void 0!==h().description)){var f={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:A(arguments[0]),e=c(p,this)?new h(t):void 0===t?h():h(t);return""===t&&(f[e]=!0),e};d(m,h),m.prototype=p,p.constructor=m;var g="Symbol(test)"==String(h("test")),y=a(p.toString),v=a(p.valueOf),_=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),x=a("".slice);u(p,"description",{configurable:!0,get:function(){var t=v(this),e=y(t);if(s(f,t))return"";var n=g?x(e,7,-1):w(e,_,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:m})}},2429:function(t,e,n){n(2219)("hasInstance")},1172:function(t,e,n){n(2219)("isConcatSpreadable")},8288:function(t,e,n){n(2219)("iterator")},2004:function(t,e,n){"use strict";var i=n(7263),r=n(7583),o=n(5897),a=n(1611),s=n(8262),l=n(7386),c=n(6268),A=n(8494),u=n(8640),d=n(6544),h=n(2870),p=n(4521),f=n(9212),m=n(794),g=n(2447),y=n(5871),v=n(2569),_=n(1324),w=n(2977),x=n(8734),b=n(8320),M=n(4677),L=n(3590),C=n(5432),B=n(9275),S=n(3130),E=n(4012),T=n(6683),D=n(4615),I=n(8728),P=n(112),k=n(6917),F=n(1270),U=n(7836),R=n(9137),O=n(4639),H=n(8284),Y=n(3649),Q=n(491),j=n(2219),N=n(8821),W=n(2743),V=n(4805).forEach,z=R("hidden"),G="Symbol",K=Y("toPrimitive"),Z=W.set,X=W.getterFor(G),q=Object.prototype,J=r.Symbol,$=J&&J.prototype,tt=r.TypeError,et=r.QObject,nt=o("JSON","stringify"),it=T.f,rt=D.f,ot=S.f,at=P.f,st=l([].push),lt=U("symbols"),ct=U("op-symbols"),At=U("string-to-symbol-registry"),ut=U("symbol-to-string-registry"),dt=U("wks"),ht=!et||!et.prototype||!et.prototype.findChild,pt=A&&d((function(){return 7!=L(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=it(q,e);i&&delete q[e],rt(t,e,n),i&&t!==q&&rt(q,e,i)}:rt,ft=function(t,e){var n=lt[t]=L($);return Z(n,{type:G,tag:t,description:e}),A||(n.description=e),n},mt=function(t,e,n){t===q&&mt(ct,e,n),v(t);var i=x(e);return v(n),h(lt,i)?(n.enumerable?(h(t,z)&&t[z][i]&&(t[z][i]=!1),n=L(n,{enumerable:M(0,!1)})):(h(t,z)||rt(t,z,M(1,{})),t[z][i]=!0),pt(t,i,n)):rt(t,i,n)},gt=function(t,e){v(t);var n=w(e),i=C(n).concat(wt(n));return V(i,(function(e){A&&!s(yt,n,e)||mt(t,e,n[e])})),t},yt=function(t){var e=x(t),n=s(at,this,e);return!(this===q&&h(lt,e)&&!h(ct,e))&&(!(n||!h(this,e)||!h(lt,e)||h(this,z)&&this[z][e])||n)},vt=function(t,e){var n=w(t),i=x(e);if(n!==q||!h(lt,i)||h(ct,i)){var r=it(n,i);return!r||!h(lt,i)||h(n,z)&&n[z][i]||(r.enumerable=!0),r}},_t=function(t){var e=ot(w(t)),n=[];return V(e,(function(t){h(lt,t)||h(O,t)||st(n,t)})),n},wt=function(t){var e=t===q,n=ot(e?ct:w(t)),i=[];return V(n,(function(t){!h(lt,t)||e&&!h(q,t)||st(i,lt[t])})),i};if(u||(J=function(){if(g($,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,e=H(t);return A&&ht&&pt(q,e,{configurable:!0,set:function t(n){this===q&&s(t,ct,n),h(this,z)&&h(this[z],e)&&(this[z][e]=!1),pt(this,e,M(1,n))}}),ft(e,t)},F($=J.prototype,"toString",(function(){return X(this).tag})),F(J,"withoutSetter",(function(t){return ft(H(t),t)})),P.f=yt,D.f=mt,I.f=gt,T.f=vt,B.f=S.f=_t,E.f=wt,Q.f=function(t){return ft(Y(t),t)},A&&(rt($,"description",{configurable:!0,get:function(){return X(this).description}}),c||F(q,"propertyIsEnumerable",yt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:J}),V(C(dt),(function(t){j(t)})),i({target:G,stat:!0,forced:!u},{for:function(t){var e=b(t);if(h(At,e))return At[e];var n=J(e);return At[e]=n,ut[n]=e,n},keyFor:function(t){if(!y(t))throw tt(t+" is not a symbol");if(h(ut,t))return ut[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!A},{create:function(t,e){return void 0===e?L(t):gt(L(t),e)},defineProperty:mt,defineProperties:gt,getOwnPropertyDescriptor:vt}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:_t,getOwnPropertySymbols:wt}),i({target:"Object",stat:!0,forced:d((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(_(t))}}),nt&&i({target:"JSON",stat:!0,forced:!u||d((function(){var t=J();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}))},{stringify:function(t,e,n){var i=k(arguments),r=e;if((m(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(f(r)&&(e=s(r,this,t,e)),!y(e))return e}),i[1]=e,a(nt,null,i)}}),!$[K]){var xt=$.valueOf;F($,K,(function(t){return s(xt,this)}))}N(J,G),O[z]=!0},8201:function(t,e,n){n(2219)("matchAll")},1274:function(t,e,n){n(2219)("match")},6626:function(t,e,n){n(2219)("replace")},3211:function(t,e,n){n(2219)("search")},9952:function(t,e,n){n(2219)("species")},15:function(t,e,n){n(2219)("split")},9831:function(t,e,n){n(2219)("toPrimitive")},7521:function(t,e,n){n(2219)("toStringTag")},2972:function(t,e,n){n(2219)("unscopables")},4655:function(t,e,n){var i=n(7583),r=n(6778),o=n(9307),a=n(5677),s=n(57),l=n(3649),c=l("iterator"),A=l("toStringTag"),u=a.values,d=function(t,e){if(t){if(t[c]!==u)try{s(t,c,u)}catch(e){t[c]=u}if(t[A]||s(t,A,e),r[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var h in r)d(i[h]&&i[h].prototype,h);d(o,"DOMTokenList")},8765:function(t,e,n){var i=n(5036);n(4655),t.exports=i},5441:function(t,e,n){var i=n(2582);n(4655),t.exports=i},7705:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var A=[].concat(t[c]);i&&a[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),n&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=n):A[2]=n),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),e.push(A))}},e}},6738:function(t){"use strict";t.exports=function(t){return t[1]}},8679:function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=window.WeakMap;if(void 0===n){var i=Object.defineProperty,r=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:i(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];if(!e)return!1;var n=e[0]===t;return e[0]=e[1]=void 0,n},has:function(t){var e=t[this.name];return!!e&&e[0]===t}}}var o=new n,a=window.msSetImmediate;if(!a){var s=[],l=String(Math.random());window.addEventListener("message",(function(t){if(t.data===l){var e=s;s=[],e.forEach((function(t){t()}))}})),a=function(t){s.push(t),window.postMessage(l,"*")}}var c=!1,A=[];function u(){c=!1;var t=A;A=[],t.sort((function(t,e){return t.uid_-e.uid_}));var e=!1;t.forEach((function(t){var n=t.takeRecords();!function(t){t.nodes_.forEach((function(e){var n=o.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}(t),n.length&&(t.callback_(n,t),e=!0)})),e&&u()}function d(t,e){for(var n=t;n;n=n.parentNode){var i=o.get(n);if(i)for(var r=0;r<i.length;r++){var a=i[r],s=a.options;if(n===t||s.subtree){var l=e(s);l&&a.enqueue(l)}}}}var h,p,f=0;function m(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++f}function g(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function y(t,e){return h=new g(t,e)}function v(t){return p||((n=new g((e=h).type,e.target)).addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,(p=n).oldValue=t,p);var e,n}function _(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}m.prototype={observe:function(t,e){var n;if(n=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i,r=o.get(t);r||o.set(t,r=[]);for(var a=0;a<r.length;a++)if(r[a].observer===this){(i=r[a]).removeListeners(),i.options=e;break}i||(i=new _(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=o.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},_.prototype={enqueue:function(t){var e,n=this.observer.records_,i=n.length;if(n.length>0){var r=function(t,e){return t===e?t:!p||(n=t)!==p&&n!==h?null:p;var n}(n[i-1],t);if(r)return void(n[i-1]=r)}else e=this.observer,A.push(e),c||(c=!0,a(u));n[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=o.get(t);e||o.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=o.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(o=new y("attributes",i)).attributeName=e,o.attributeNamespace=n;var r=null;"undefined"!=typeof MutationEvent&&t.attrChange===MutationEvent.ADDITION||(r=t.prevValue),d(i,(function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?v(r):o}));break;case"DOMCharacterDataModified":var o=y("characterData",i=t.target);r=t.prevValue,d(i,(function(t){if(t.characterData)return t.characterDataOldValue?v(r):o}));break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":i=t.relatedNode;var a,s,l=t.target;"DOMNodeInserted"===t.type?(a=[l],s=[]):(a=[],s=[l]);var c=l.previousSibling,A=l.nextSibling;(o=y("childList",i)).addedNodes=a,o.removedNodes=s,o.previousSibling=c,o.nextSibling=A,d(i,(function(t){if(t.childList)return o}))}h=p=void 0}},e||(e=m),t.exports=e},7588:function(t){var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),a=new S(i||[]);return o._invoke=function(t,e,n){var i=u;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=A(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function A(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",d="suspendedYield",h="executing",p="completed",f={};function m(){}function g(){}function y(){}var v={};l(v,o,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(E([])));w&&w!==n&&i.call(w,o)&&(v=w);var x=y.prototype=m.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(r,o,a,s){var l=A(t[r],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function L(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=A(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=y,l(x,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},b(M.prototype),l(M.prototype,a,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new M(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(x),l(x,s,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;B(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:E(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},8702:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var i=n(4296),r=n(6464),o=n(6881),a=n(2942),s=n(7003),l=n(3379),c=n.n(l),A=n(7795),u=n.n(A),d=n(569),h=n.n(d),p=n(3565),f=n.n(p),m=n(9216),g=n.n(m),y=n(4589),v=n.n(y),_=n(5313),w={};_.Z&&_.Z.locals&&(w.locals=_.Z.locals);var x,b=0,M={};M.styleTagTransform=v(),M.setAttributes=f(),M.insert=h().bind(null,"head"),M.domAPI=u(),M.insertStyleElement=g(),w.use=function(t){return M.options=t||{},b++||(x=c()(_.Z,M)),w},w.unuse=function(){b>0&&! --b&&(x(),x=null)};var L=w;function C(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M599.99999 832.000004h47.999999a24 24 0 0 0 23.999999-24V376.000013a24 24 0 0 0-23.999999-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24zM927.999983 160.000017h-164.819997l-67.999998-113.399998A95.999998 95.999998 0 0 0 612.819989 0.00002H411.179993a95.999998 95.999998 0 0 0-82.319998 46.599999L260.819996 160.000017H95.999999A31.999999 31.999999 0 0 0 64 192.000016v32a31.999999 31.999999 0 0 0 31.999999 31.999999h32v671.999987a95.999998 95.999998 0 0 0 95.999998 95.999998h575.999989a95.999998 95.999998 0 0 0 95.999998-95.999998V256.000015h31.999999a31.999999 31.999999 0 0 0 32-31.999999V192.000016a31.999999 31.999999 0 0 0-32-31.999999zM407.679993 101.820018A12 12 0 0 1 417.999993 96.000018h187.999996a12 12 0 0 1 10.3 5.82L651.219989 160.000017H372.779994zM799.999986 928.000002H223.999997V256.000015h575.999989z m-423.999992-95.999998h47.999999a24 24 0 0 0 24-24V376.000013a24 24 0 0 0-24-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24z"),(0,a.Ljt)(e,"class","vc-icon-delete"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function B(t){var e,n,i;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),i=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M874.154197 150.116875A511.970373 511.970373 0 1 0 1023.993986 511.991687a511.927744 511.927744 0 0 0-149.839789-361.874812z m-75.324866 648.382129A405.398688 405.398688 0 1 1 917.422301 511.991687a405.313431 405.313431 0 0 1-118.59297 286.507317z"),(0,a.Ljt)(i,"d","M725.039096 299.274605a54.351559 54.351559 0 0 0-76.731613 0l-135.431297 135.431297L377.274375 299.274605a54.436817 54.436817 0 0 0-76.944756 76.987385l135.388668 135.431297-135.388668 135.473925a54.436817 54.436817 0 0 0 76.944756 76.987385l135.388668-135.431297 135.431297 135.473926a54.436817 54.436817 0 0 0 76.731613-76.987385l-135.388668-135.473926 135.388668-135.431296a54.479445 54.479445 0 0 0 0.213143-77.030014z"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),(0,a.R3I)(e,i)},d:function(t){t&&(0,a.ogt)(e)}}}function S(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"fill-rule","evenodd"),(0,a.Ljt)(n,"d","M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"),(0,a.Ljt)(e,"class","vc-icon-copy"),(0,a.Ljt)(e,"viewBox","0 0 16 16")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function E(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"fill-rule","evenodd"),(0,a.Ljt)(n,"d","M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"),(0,a.Ljt)(e,"class","vc-icon-suc"),(0,a.Ljt)(e,"viewBox","0 0 16 16")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function T(t){var e,n,i;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),i=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M776.533333 1024 162.133333 1024C72.533333 1024 0 951.466667 0 861.866667L0 247.466667C0 157.866667 72.533333 85.333333 162.133333 85.333333L469.333333 85.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667L162.133333 170.666667C119.466667 170.666667 85.333333 204.8 85.333333 247.466667l0 610.133333c0 42.666667 34.133333 76.8 76.8 76.8l610.133333 0c42.666667 0 76.8-34.133333 76.8-76.8L849.066667 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 307.2C938.666667 951.466667 866.133333 1024 776.533333 1024z"),(0,a.Ljt)(i,"d","M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8C217.6 789.333333 213.333333 772.266667 213.333333 759.466667l42.666667-213.333333c0-8.533333 4.266667-17.066667 12.8-21.333333l512-512c17.066667-17.066667 42.666667-17.066667 59.733333 0l170.666667 170.666667c17.066667 17.066667 17.066667 42.666667 0 59.733333l-512 512c-4.266667 4.266667-12.8 8.533333-21.333333 12.8l-213.333333 42.666667C260.266667 810.666667 260.266667 810.666667 256 810.666667zM337.066667 576l-25.6 136.533333 136.533333-25.6L921.6 213.333333 810.666667 102.4 337.066667 576z"),(0,a.Ljt)(e,"class","vc-icon-edit"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),(0,a.R3I)(e,i)},d:function(t){t&&(0,a.ogt)(e)}}}function D(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M581.338005 987.646578c-2.867097 4.095853-4.573702 8.669555-8.191705 12.287558a83.214071 83.214071 0 0 1-60.959939 24.029001 83.214071 83.214071 0 0 1-61.028203-24.029001c-3.618003-3.618003-5.324608-8.191705-8.123441-12.15103L24.370323 569.050448a83.418864 83.418864 0 0 1 117.892289-117.89229l369.923749 369.92375L1308.829682 24.438587A83.418864 83.418864 0 0 1 1426.721971 142.194348L581.338005 987.646578z"),(0,a.Ljt)(e,"class","vc-icon-don"),(0,a.Ljt)(e,"viewBox","0 0 1501 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function I(t){var e,n;return{c:function(){e=(0,a.bi5)("svg"),n=(0,a.bi5)("path"),(0,a.Ljt)(n,"d","M894.976 574.464q0 78.848-29.696 148.48t-81.408 123.392-121.856 88.064-151.04 41.472q-5.12 1.024-9.216 1.536t-9.216 0.512l-177.152 0q-17.408 0-34.304-6.144t-30.208-16.896-22.016-25.088-8.704-29.696 8.192-29.696 21.504-24.576 29.696-16.384 33.792-6.144l158.72 1.024q54.272 0 102.4-19.968t83.968-53.76 56.32-79.36 20.48-97.792q0-49.152-18.432-92.16t-50.688-76.8-75.264-54.784-93.184-26.112q-2.048 0-2.56 0.512t-2.56 0.512l-162.816 0 0 80.896q0 17.408-13.824 25.6t-44.544-10.24q-8.192-5.12-26.112-17.92t-41.984-30.208-50.688-36.864l-51.2-38.912q-15.36-12.288-26.624-22.016t-11.264-24.064q0-12.288 12.8-25.6t29.184-26.624q18.432-15.36 44.032-35.84t50.688-39.936 45.056-35.328 28.16-22.016q24.576-17.408 39.936-7.168t16.384 30.72l0 81.92 162.816 0q5.12 0 10.752 1.024t10.752 2.048q79.872 8.192 149.504 41.984t121.344 87.552 80.896 123.392 29.184 147.456z"),(0,a.Ljt)(e,"class","vc-icon-cancel"),(0,a.Ljt)(e,"viewBox","0 0 1024 1024"),(0,a.Ljt)(e,"width","200"),(0,a.Ljt)(e,"height","200")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function P(t){var e,n,i,r,o,s,l,c,A,u="delete"===t[0]&&C(),d="clear"===t[0]&&B(),h="copy"===t[0]&&S(),p="success"===t[0]&&E(),f="edit"===t[0]&&T(),m="done"===t[0]&&D(),g="cancel"===t[0]&&I();return{c:function(){e=(0,a.bGB)("i"),u&&u.c(),n=(0,a.DhX)(),d&&d.c(),i=(0,a.DhX)(),h&&h.c(),r=(0,a.DhX)(),p&&p.c(),o=(0,a.DhX)(),f&&f.c(),s=(0,a.DhX)(),m&&m.c(),l=(0,a.DhX)(),g&&g.c(),(0,a.Ljt)(e,"class","vc-icon")},m:function(y,v){(0,a.$Tr)(y,e,v),u&&u.m(e,null),(0,a.R3I)(e,n),d&&d.m(e,null),(0,a.R3I)(e,i),h&&h.m(e,null),(0,a.R3I)(e,r),p&&p.m(e,null),(0,a.R3I)(e,o),f&&f.m(e,null),(0,a.R3I)(e,s),m&&m.m(e,null),(0,a.R3I)(e,l),g&&g.m(e,null),c||(A=(0,a.oLt)(e,"click",t[1]),c=!0)},p:function(t,a){a[0],"delete"===t[0]?u||((u=C()).c(),u.m(e,n)):u&&(u.d(1),u=null),"clear"===t[0]?d||((d=B()).c(),d.m(e,i)):d&&(d.d(1),d=null),"copy"===t[0]?h||((h=S()).c(),h.m(e,r)):h&&(h.d(1),h=null),"success"===t[0]?p||((p=E()).c(),p.m(e,o)):p&&(p.d(1),p=null),"edit"===t[0]?f||((f=T()).c(),f.m(e,s)):f&&(f.d(1),f=null),"done"===t[0]?m||((m=D()).c(),m.m(e,l)):m&&(m.d(1),m=null),"cancel"===t[0]?g||((g=I()).c(),g.m(e,null)):g&&(g.d(1),g=null)},i:a.ZTd,o:a.ZTd,d:function(t){t&&(0,a.ogt)(e),u&&u.d(),d&&d.d(),h&&h.d(),p&&p.d(),f&&f.d(),m&&m.d(),g&&g.d(),c=!1,A()}}}function k(t,e,n){var i=e.name;return(0,s.H3)((function(){L.use()})),(0,s.ev)((function(){L.unuse()})),t.$$set=function(t){"name"in t&&n(0,i=t.name)},[i,function(e){a.cKT.call(this,t,e)}]}var F=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,r.Z)(n),e,k,P,a.N8,{name:0}),n}return(0,o.Z)(e,t),(0,i.Z)(e,[{key:"name",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({name:t}),(0,a.yl1)()}}]),e}(a.f_C),U=F},3903:function(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_63682__){"use strict";var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_63682__(6464),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_63682__(6881),svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_63682__(2942),svelte__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_63682__(7003),_component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_63682__(8702),_logTool__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_63682__(8665),_log_model__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_63682__(5629),_logCommand_less__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_63682__(3411);function get_each_context(t,e,n){var i=t.slice();return i[28]=e[n],i}function create_if_block_2(t){var e,n,i;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="Close",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-prompted-hide")},m:function(r,o){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(r,e,o),n||(i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",t[5]),n=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),n=!1,i()}}}function create_else_block(t){var e;return{c:function(){(e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent="No Prompted"},m:function(t,n){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t,e,n)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e)}}}function create_each_block(t){var e,n,i,r,o=t[28].text+"";function a(){return t[14](t[28])}return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.fLW)(o)},m:function(t,o){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t,e,o),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),i||(r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",a),i=!0)},p:function(e,i){t=e,8&i&&o!==(o=t[28].text+"")&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.rTO)(n,o)},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),i=!1,r()}}}function create_if_block_1(t){var e,n,i,r,o;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(a,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a,e,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),i=!0,r||(o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[17])),r=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(t){i||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,t),i=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,t),i=!1},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),r=!1,o()}}}function create_if_block(t){var e,n,i,r,o;return n=new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:{name:"clear"}}),{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(n.$$.fragment),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd-clear-btn")},m:function(a,s){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a,e,s),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(n,e,null),i=!0,r||(o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"click",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[19])),r=!0)},p:svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd,i:function(t){i||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(n.$$.fragment,t),i=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(n.$$.fragment,t),i=!1},d:function(t){t&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(n),r=!1,o()}}}function create_fragment(t){for(var e,n,i,r,o,a,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x=t[3].length>0&&create_if_block_2(t),b=t[3],M=[],L=0;L<b.length;L+=1)M[L]=create_each_block(get_each_context(t,b,L));var C=null;b.length||(C=create_else_block(t));var B=t[1].length>0&&create_if_block_1(t),S=t[4].length>0&&create_if_block(t);return{c:function(){e=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),n=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),x&&x.c(),i=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)();for(var v=0;v<M.length;v+=1)M[v].c();C&&C.c(),r=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),o=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),a=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),s=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),B&&B.c(),l=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(c=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="OK",A=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),u=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"),d=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"),h=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),p=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"),f=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"),m=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),S&&S.c(),g=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(y=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent="Filter",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",t[2]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a,"placeholder","command..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(o,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(c,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(c,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e,"class","vc-cmd"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(d,"class","vc-cmd-prompted"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(f,"class","vc-cmd-input"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(f,"placeholder","filter..."),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(p,"class","vc-cmd-input-wrap"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"class","vc-cmd-btn"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(y,"type","submit"),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(u,"class","vc-cmd vc-filter")},m:function(b,L){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(b,e,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,n),x&&x.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n,i);for(var E=0;E<M.length;E+=1)M[E].m(n,null);C&&C.m(n,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,r),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,o),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(o,a),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a,t[1]),t[16](a),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(o,s),B&&B.m(o,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,l),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e,c),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(b,A,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(b,u,L),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,d),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,h),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,p),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(p,f),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(f,t[4]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(p,m),S&&S.m(p,null),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,g),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(u,y),v=!0,_||(w=[(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"input",t[15]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"keydown",t[10]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"keyup",t[11]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"focus",t[8]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a,"blur",t[9]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(e,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[12])),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(f,"input",t[18]),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(u,"submit",(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[13]))],_=!0)},p:function(t,e){var r=e[0];if(t[3].length>0?x?x.p(t,r):((x=create_if_block_2(t)).c(),x.m(n,i)):x&&(x.d(1),x=null),136&r){var s;for(b=t[3],s=0;s<b.length;s+=1){var l=get_each_context(t,b,s);M[s]?M[s].p(l,r):(M[s]=create_each_block(l),M[s].c(),M[s].m(n,null))}for(;s<M.length;s+=1)M[s].d(1);M.length=b.length,!b.length&&C?C.p(t,r):b.length?C&&(C.d(1),C=null):((C=create_else_block(t)).c(),C.m(n,null))}(!v||4&r)&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n,"style",t[2]),2&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a,t[1]),t[1].length>0?B?(B.p(t,r),2&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B,1)):((B=create_if_block_1(t)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B,1),B.m(o,null)):B&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(B,1,1,(function(){B=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()),16&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(f,t[4]),t[4].length>0?S?(S.p(t,r),16&r&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(S,1)):((S=create_if_block(t)).c(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(S,1),S.m(p,null)):S&&((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(S,1,1,(function(){S=null})),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)())},i:function(t){v||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(B),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(S),v=!0)},o:function(t){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(B),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(S),v=!1},d:function(n){n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(e),x&&x.d(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.RMB)(M,n),C&&C.d(),t[16](null),B&&B.d(),n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(A),n&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(u),S&&S.d(),_=!1,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j7q)(w)}}}function instance($$self,$$props,$$invalidate){var module=_log_model__WEBPACK_IMPORTED_MODULE_3__.W.getSingleton(_log_model__WEBPACK_IMPORTED_MODULE_3__.W,"VConsoleLogModel"),cachedObjKeys={},dispatch=(0,svelte__WEBPACK_IMPORTED_MODULE_1__.x)(),cmdElement,cmdValue="",promptedStyle="",promptedList=[],filterValue="";(0,svelte__WEBPACK_IMPORTED_MODULE_1__.H3)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.use()})),(0,svelte__WEBPACK_IMPORTED_MODULE_1__.ev)((function(){_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.unuse()}));var evalCommand=function(t){module.evalCommand(t)},moveCursorToPos=function(t,e){t.setSelectionRange&&setTimeout((function(){t.setSelectionRange(e,e)}),1)},clearPromptedList=function(){$$invalidate(2,promptedStyle="display: none;"),$$invalidate(3,promptedList=[])},updatePromptedList=function updatePromptedList(identifier){if(""!==cmdValue){identifier||(identifier=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(cmdValue));var objName="window",keyName=cmdValue;if("."!==identifier.front.text&&"["!==identifier.front.text||(objName=identifier.front.before,keyName=""!==identifier.back.text?identifier.back.before:identifier.front.after),keyName=keyName.replace(/(^['"]+)|(['"']+$)/g,""),!cachedObjKeys[objName])try{cachedObjKeys[objName]=Object.getOwnPropertyNames(eval("("+objName+")")).sort()}catch(t){}try{if(cachedObjKeys[objName])for(var i=0;i<cachedObjKeys[objName].length&&!(promptedList.length>=100);i++){var key=String(cachedObjKeys[objName][i]),keyPattern=new RegExp("^"+keyName,"i");if(keyPattern.test(key)){var completeCmd=objName;"."===identifier.front.text||""===identifier.front.text?completeCmd+="."+key:"["===identifier.front.text&&(completeCmd+="['"+key+"']"),promptedList.push({text:key,value:completeCmd})}}}catch(t){}if(promptedList.length>0){var m=Math.min(200,31*(promptedList.length+1));$$invalidate(2,promptedStyle="display: block; height: "+m+"px; margin-top: "+(-m-2)+"px;"),$$invalidate(3,promptedList)}else clearPromptedList()}else clearPromptedList()},autoCompleteBrackets=function(t,e){if(8!==e&&46!==e&&""===t.front.after)switch(t.front.text){case"[":return $$invalidate(1,cmdValue+="]"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"(":return $$invalidate(1,cmdValue+=")"),void moveCursorToPos(cmdElement,cmdValue.length-1);case"{":return $$invalidate(1,cmdValue+="}"),void moveCursorToPos(cmdElement,cmdValue.length-1)}},dispatchFilterEvent=function(){dispatch("filterText",{filterText:filterValue})},onTapClearText=function(t){"cmd"===t?($$invalidate(1,cmdValue=""),clearPromptedList()):"filter"===t&&($$invalidate(4,filterValue=""),dispatchFilterEvent())},onTapPromptedItem=function onTapPromptedItem(item){var type="";try{type=eval("typeof "+item.value)}catch(t){}$$invalidate(1,cmdValue=item.value+("function"===type?"()":"")),clearPromptedList()},onCmdFocus=function(){updatePromptedList()},onCmdBlur=function(){},onCmdKeyDown=function(t){13===t.keyCode&&(t.preventDefault(),onCmdSubmit())},onCmdKeyUp=function(t){$$invalidate(3,promptedList=[]);var e=(0,_logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(t.target.value);autoCompleteBrackets(e,t.keyCode),updatePromptedList(e)},onCmdSubmit=function(){""!==cmdValue&&evalCommand(cmdValue),clearPromptedList()},onFilterSubmit=function(t){dispatchFilterEvent()},click_handler=function(t){return onTapPromptedItem(t)};function textarea0_input_handler(){cmdValue=this.value,$$invalidate(1,cmdValue)}function textarea0_binding(t){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.VnY[t?"unshift":"push"]((function(){$$invalidate(0,cmdElement=t)}))}var click_handler_1=function(){return onTapClearText("cmd")};function textarea1_input_handler(){filterValue=this.value,$$invalidate(4,filterValue)}var click_handler_2=function(){return onTapClearText("filter")};return[cmdElement,cmdValue,promptedStyle,promptedList,filterValue,clearPromptedList,onTapClearText,onTapPromptedItem,onCmdFocus,onCmdBlur,onCmdKeyDown,onCmdKeyUp,onCmdSubmit,onFilterSubmit,click_handler,textarea0_input_handler,textarea0_binding,click_handler_1,textarea1_input_handler,click_handler_2]}var LogCommand=function(t){function e(e){var n;return n=t.call(this)||this,(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.Z)(n),e,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8,{}),n}return(0,_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__.Z)(e,t),e}(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C);__nested_webpack_exports__.Z=LogCommand},4687:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var i=n(3313),r=function(){var t=(0,i.fZ)({updateTime:0}),e=t.subscribe,n=t.set,r=t.update;return{subscribe:e,set:n,update:r,updateTime:function(){r((function(t){return t.updateTime=Date.now(),t}))}}}()},643:function(t,e,n){"use strict";n.d(e,{N:function(){return i}});var i=function(){function t(){this._onDataUpdateCallbacks=[]}return t.getSingleton=function(e,n){return n||(n=e.toString()),t.singleton[n]||(t.singleton[n]=new e),t.singleton[n]},t}();i.singleton={}},5103:function(t,e,n){"use strict";function i(t){var e=t>0?new Date(t):new Date,n=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getFullYear(),o=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),l=e.getMilliseconds()<10?"0"+e.getMilliseconds():e.getMilliseconds();return l<100&&(l="0"+l),{time:+e,year:r,month:i,day:n,hour:o,minute:a,second:s,millisecond:l}}function r(t){return"[object Number]"===Object.prototype.toString.call(t)}function o(t){return"bigint"==typeof t}function a(t){return"string"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){return"boolean"==typeof t}function c(t){return void 0===t}function A(t){return null===t}function u(t){return"symbol"==typeof t}function d(t){return!("[object Object]"!==Object.prototype.toString.call(t)&&(r(t)||o(t)||a(t)||l(t)||s(t)||A(t)||h(t)||c(t)||u(t)))}function h(t){return"function"==typeof t}function p(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function f(t){var e=Object.prototype.toString.call(t);return"[object Window]"===e||"[object DOMWindow]"===e||"[object global]"===e}function m(t){return null!=t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&"function"!=typeof t&&"symbol"!=typeof t&&"bigint"!=typeof t&&"undefined"!=typeof Symbol&&"function"==typeof t[Symbol.iterator]}function g(t){return Object.prototype.toString.call(t).replace(/\[object (.*)\]/,"$1")}n.d(e,{C4:function(){return o},DV:function(){return v},FJ:function(){return f},Ft:function(){return A},HD:function(){return a},H_:function(){return R},KL:function(){return B},Kn:function(){return d},MH:function(){return D},PO:function(){return _},QI:function(){return U},QK:function(){return I},TW:function(){return m},_3:function(){return i},_D:function(){return P},cF:function(){return F},hZ:function(){return C},hj:function(){return r},id:function(){return S},jn:function(){return l},kJ:function(){return s},kK:function(){return p},mf:function(){return h},o8:function(){return c},po:function(){return k},qr:function(){return T},qt:function(){return O},rE:function(){return b},yk:function(){return u},zl:function(){return g}});var y=/(function|class) ([^ \{\()}]{1,})[\(| ]/;function v(t){var e;if(null==t)return"";var n=y.exec((null==t||null==(e=t.constructor)?void 0:e.toString())||"");return n&&n.length>1?n[2]:""}function _(t){var e,n=Object.prototype.hasOwnProperty;if(!t||"object"!=typeof t||t.nodeType||f(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||n.call(t,e)}var w=/[\n\t]/g,x=function(t){return{"\n":"\\n","\t":"\\t"}[t]};function b(t){return"string"!=typeof t?t:String(t).replace(w,x)}var M=function(t,e){void 0===e&&(e=0);var n="";return a(t)?(e>0&&(t=S(t,e)),n+='"'+b(t)+'"'):u(t)?n+=String(t).replace(/^Symbol\((.*)\)$/i,'Symbol("$1")'):h(t)?n+=(t.name||"function")+"()":o(t)?n+=String(t)+"n":n+=String(t),n},L=function t(e,n,i){if(void 0===i&&(i=0),d(e)||s(e))if(n.circularFinder(e)){var r="";if(s(e))r="(Circular Array)";else if(d(e)){var o;r="(Circular "+((null==(o=e.constructor)?void 0:o.name)||"Object")+")"}n.ret+=n.standardJSON?'"'+r+'"':r}else{var l="",c="";if(n.pretty){for(var A=0;A<=i;A++)l+="  ";c="\n"}var h="{",p="}";s(e)&&(h="[",p="]"),n.ret+=h+c;for(var f=D(e),m=0;m<f.length;m++){var g=f[m];n.ret+=l;try{s(e)||(d(g)||s(g)||u(g)?n.ret+=Object.prototype.toString.call(g):a(g)&&n.standardJSON?n.ret+='"'+g+'"':n.ret+=g,n.ret+=": ")}catch(t){continue}try{var y=e[g];if(s(y))n.maxDepth>-1&&i>=n.maxDepth?n.ret+="Array("+y.length+")":t(y,n,i+1);else if(d(y)){var v;n.maxDepth>-1&&i>=n.maxDepth?n.ret+=((null==(v=y.constructor)?void 0:v.name)||"Object")+" {}":t(y,n,i+1)}else n.ret+=M(y,n.keyMaxLen)}catch(t){n.ret+=n.standardJSON?'"(PARSE_ERROR)"':"(PARSE_ERROR)"}if(n.keyMaxLen>0&&n.ret.length>=10*n.keyMaxLen){n.ret+=", (...)";break}m<f.length-1&&(n.ret+=", "),n.ret+=c}n.ret+=l.substring(0,l.length-2)+p}else n.ret+=M(e,n.keyMaxLen)};function C(t,e){void 0===e&&(e={maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1});var n,i=Object.assign({ret:"",maxDepth:-1,keyMaxLen:-1,pretty:!1,standardJSON:!1,circularFinder:(n=new WeakSet,function(t){if("object"==typeof t&&null!==t){if(n.has(t))return!0;n.add(t)}return!1})},e);return L(t,i),i.ret}function B(t){return t<=0?"":t>=1e6?(t/1e3/1e3).toFixed(1)+" MB":t>=1e3?(t/1e3).toFixed(1)+" KB":t+" B"}function S(t,e){return t.length>e&&(t=t.substring(0,e)+"...("+B(function(t){try{return encodeURI(t).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1}catch(t){return 0}}(t))+")"),t}var E=function(t,e){return String(t).localeCompare(String(e),void 0,{numeric:!0,sensitivity:"base"})};function T(t){return t.sort(E)}function D(t){return d(t)||s(t)?Object.keys(t):[]}function I(t){var e=D(t),n=function(t){return d(t)||s(t)?Object.getOwnPropertyNames(t):[]}(t);return n.filter((function(t){return-1===e.indexOf(t)}))}function P(t){return d(t)||s(t)?Object.getOwnPropertySymbols(t):[]}function k(t,e){window.localStorage&&(t="vConsole_"+t,localStorage.setItem(t,e))}function F(t){if(window.localStorage)return t="vConsole_"+t,localStorage.getItem(t)}function U(t){return void 0===t&&(t=""),"__vc_"+t+Math.random().toString(36).substring(2,8)}function R(){return"undefined"!=typeof window&&!!window.__wxConfig&&!!window.wx&&!!window.__virtualDOM__}function O(t){if(R()&&"function"==typeof window.wx[t])try{for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=window.wx[t]).call.apply(e,[window.wx].concat(i))}catch(e){return void console.debug("[vConsole] Fail to call wx."+t+"():",e)}}},5629:function(t,e,n){"use strict";n.d(e,{W:function(){return p}});var i=n(8270),r=n(6881),o=n(5103),a=n(643),s=n(4687),l=n(8665),c=n(9923);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var p=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).LOG_METHODS=["log","info","warn","debug","error"],e.ADDED_LOG_PLUGIN_ID=[],e.maxLogNumber=1e3,e.logCounter=0,e.groupLevel=0,e.groupLabelCollapsedStack=[],e.pluginPattern=void 0,e.logQueue=[],e.flushLogScheduled=!1,e.origConsole={},e}(0,r.Z)(e,t);var n=e.prototype;return n.bindPlugin=function(t){return!(this.ADDED_LOG_PLUGIN_ID.indexOf(t)>-1||(0===this.ADDED_LOG_PLUGIN_ID.length&&this.mockConsole(),c.O.create(t),this.ADDED_LOG_PLUGIN_ID.push(t),this.pluginPattern=new RegExp("^\\[("+this.ADDED_LOG_PLUGIN_ID.join("|")+")\\]$","i"),0))},n.unbindPlugin=function(t){var e=this.ADDED_LOG_PLUGIN_ID.indexOf(t);return-1!==e&&(this.ADDED_LOG_PLUGIN_ID.splice(e,1),c.O.delete(t),0===this.ADDED_LOG_PLUGIN_ID.length&&this.unmockConsole(),!0)},n.mockConsole=function(){var t=this;"function"!=typeof this.origConsole.log&&(window.console?(this.LOG_METHODS.map((function(e){t.origConsole[e]=window.console[e]})),this.origConsole.time=window.console.time,this.origConsole.timeEnd=window.console.timeEnd,this.origConsole.clear=window.console.clear,this.origConsole.group=window.console.group,this.origConsole.groupCollapsed=window.console.groupCollapsed,this.origConsole.groupEnd=window.console.groupEnd):window.console={},this._mockConsoleLog(),this._mockConsoleTime(),this._mockConsoleGroup(),this._mockConsoleClear(),window._vcOrigConsole=this.origConsole)},n._mockConsoleLog=function(){var t=this;this.LOG_METHODS.map((function(e){window.console[e]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.addLog({type:e,origData:i||[]})}.bind(window.console)}))},n._mockConsoleTime=function(){var t=this,e={};window.console.time=function(t){void 0===t&&(t=""),e[t]=Date.now()}.bind(window.console),window.console.timeEnd=function(n){void 0===n&&(n="");var i=e[n],r=0;i&&(r=Date.now()-i,delete e[n]),t.addLog({type:"log",origData:[n+": "+r+"ms"]})}.bind(window.console)},n._mockConsoleGroup=function(){var t=this,e=function(e){return function(n){void 0===n&&(n="console.group");var i=Symbol(n);t.groupLabelCollapsedStack.push({label:i,collapsed:e}),t.addLog({type:"log",origData:[n],isGroupHeader:e?2:1,isGroupCollapsed:!1},{noOrig:!0}),t.groupLevel++,e?t.origConsole.groupCollapsed(n):t.origConsole.group(n)}.bind(window.console)};window.console.group=e(!1),window.console.groupCollapsed=e(!0),window.console.groupEnd=function(){t.groupLabelCollapsedStack.pop(),t.groupLevel=Math.max(0,t.groupLevel-1),t.origConsole.groupEnd()}.bind(window.console)},n._mockConsoleClear=function(){var t=this;window.console.clear=function(){t.resetGroup(),t.clearLog();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.callOriginalConsole.apply(t,["clear"].concat(n))}.bind(window.console)},n.unmockConsole=function(){for(var t in this.origConsole)window.console[t]=this.origConsole[t],delete this.origConsole[t];window._vcOrigConsole&&delete window._vcOrigConsole},n.callOriginalConsole=function(t){if("function"==typeof this.origConsole[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.origConsole[t].apply(window.console,n)}},n.resetGroup=function(){for(;this.groupLevel>0;)console.groupEnd()},n.clearLog=function(){var t=c.O.getAll();for(var e in t)this.clearPluginLog(e)},n.clearPluginLog=function(t){var e=this.logQueue;this.logQueue=[];for(var n,i=d(e);!(n=i()).done;){var r=n.value;this._extractPluginIdByLog(r)!==t&&this.logQueue.push(r)}c.O.get(t).update((function(t){return t.logList.length=0,t})),s.x.updateTime()},n.addLog=function(t,e){void 0===t&&(t={type:"log",origData:[],isGroupHeader:0,isGroupCollapsed:!1});var n=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-2],i=this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length-1],r={_id:o.QI(),type:t.type,cmdType:null==e?void 0:e.cmdType,toggle:{},date:Date.now(),data:(0,l.b1)(t.origData||[]),repeated:0,groupLabel:null==i?void 0:i.label,groupLevel:this.groupLevel,groupHeader:t.isGroupHeader,groupCollapsed:t.isGroupHeader?!(null==n||!n.collapsed):!(null==i||!i.collapsed)};this._signalLog(r),null!=e&&e.noOrig||this.callOriginalConsole.apply(this,[t.type].concat(t.origData))},n.evalCommand=function(t){this.addLog({type:"log",origData:[t]},{cmdType:"input"});var e=void 0;try{e=eval.call(window,"("+t+")")}catch(n){try{e=eval.call(window,t)}catch(t){}}this.addLog({type:"log",origData:[e]},{cmdType:"output"})},n._signalLog=function(t){var e=this;this.flushLogScheduled||(this.flushLogScheduled=!0,window.requestAnimationFrame((function(){e.flushLogScheduled=!1,e._flushLogs()}))),this.logQueue.push(t)},n._flushLogs=function(){var t=this,e=this.logQueue;this.logQueue=[];for(var n,i={},r=d(e);!(n=r()).done;){var o=n.value,a=this._extractPluginIdByLog(o);(i[a]=i[a]||[]).push(o)}for(var l=function(e){var n=i[e];c.O.get(e).update((function(e){for(var i,r=[].concat(e.logList),o=d(n);!(i=o()).done;){var a=i.value;t._isRepeatedLog(r,a)?t._updateLastLogRepeated(r):r.push(a)}return{logList:r=t._limitLogListLength(r)}}))},A=0,u=Object.keys(i);A<u.length;A++)l(u[A]);s.x.updateTime()},n._extractPluginIdByLog=function(t){var e,n="default",i=null==(e=t.data[0])?void 0:e.origData;if(o.HD(i)){var r=i.match(this.pluginPattern);if(null!==r&&r.length>1){var a=r[1].toLowerCase();this.ADDED_LOG_PLUGIN_ID.indexOf(a)>-1&&(n=a,t.data.shift())}}return n},n._isRepeatedLog=function(t,e){var n=t[t.length-1];if(!n)return!1;var i=!1;if(e.type===n.type&&e.cmdType===n.cmdType&&e.data.length===n.data.length){i=!0;for(var r=0;r<e.data.length;r++)if(e.data[r].origData!==n.data[r].origData){i=!1;break}}return i},n._updateLastLogRepeated=function(t){var e=t[t.length-1],n=e.repeated?e.repeated+1:2;return t[t.length-1]=u(u({},e),{},{repeated:n}),t},n._limitLogListLength=function(t){var e=t.length,n=this.maxLogNumber;return e>n?t.slice(e-n,e):t},e}(a.N)},9923:function(t,e,n){"use strict";n.d(e,{O:function(){return r}});var i=n(3313),r=function(){function t(){}return t.create=function(t){return this.storeMap[t]||(this.storeMap[t]=(0,i.fZ)({logList:[]})),this.storeMap[t]},t.delete=function(t){this.storeMap[t]&&delete this.storeMap[t]},t.get=function(t){return this.storeMap[t]},t.getRaw=function(t){return(0,i.U2)(this.storeMap[t])},t.getAll=function(){return this.storeMap},t}();r.storeMap={}},8665:function(t,e,n){"use strict";n.d(e,{HX:function(){return A},LH:function(){return o},Tg:function(){return h},b1:function(){return d},oj:function(){return c}});var i=n(5103),r=function(t){var e=i.hZ(t,{maxDepth:0}),n=e.substring(0,36),r=i.DV(t);return e.length>36&&(n+="..."),i.rE(r+" "+n)},o=function(t,e){void 0===e&&(e=!0);var n="undefined",o=t;return t instanceof h?(n="uninvocatable",o="(...)"):i.kJ(t)?(n="array",o=r(t)):i.Kn(t)?(n="object",o=r(t)):i.HD(t)?(n="string",o=i.rE(t),e&&(o='"'+o+'"')):i.hj(t)?(n="number",o=String(t)):i.C4(t)?(n="bigint",o=String(t)+"n"):i.jn(t)?(n="boolean",o=String(t)):i.Ft(t)?(n="null",o="null"):i.o8(t)?(n="undefined",o="undefined"):i.mf(t)?(n="function",o=(t.name||"function")+"()"):i.yk(t)&&(n="symbol",o=String(t)),{text:o,valueType:n}},a=[".","[","(","{","}"],s=["]",")","}"],l=function(t,e,n){void 0===n&&(n=0);for(var i={text:"",pos:-1,before:"",after:""},r=t.length-1;r>=n;r--){var o=e.indexOf(t[r]);if(o>-1){i.text=e[o],i.pos=r,i.before=t.substring(n,r),i.after=t.substring(r+1,t.length);break}}return i},c=function(t){var e=l(t,a,0);return{front:e,back:l(t,s,e.pos+1)}},A=function(t,e){if(""===e)return!0;for(var n=0;n<t.data.length;n++)if("string"==typeof t.data[n].origData&&t.data[n].origData.indexOf(e)>-1)return!0;return!1},u=/(\%[csdo] )|( \%[csdo])/g,d=function(t){if(u.lastIndex=0,i.HD(t[0])&&u.test(t[0])){for(var e,n=[].concat(t),r=n.shift().split(u).filter((function(t){return void 0!==t&&""!==t})),o=n,a=[],s=!1,l="";r.length>0;){var c=r.shift();if(/ ?\%c ?/.test(c)?o.length>0?"string"!=typeof(l=o.shift())&&(l=""):(e=c,l="",s=!0):/ ?\%[sd] ?/.test(c)?(e=o.length>0?i.Kn(o[0])?i.DV(o.shift()):String(o.shift()):c,s=!0):/ ?\%o ?/.test(c)?(e=o.length>0?o.shift():c,s=!0):(e=c,s=!0),s){var A={origData:e};l&&(A.style=l),a.push(A),s=!1,e=void 0,l=""}}for(var d=0;d<o.length;d++)a.push({origData:o[d]});return a}for(var h=[],p=0;p<t.length;p++)h.push({origData:t[p]});return h},h=function(){}},5313:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-icon {\n  word-break: normal;\n  white-space: normal;\n  overflow: visible;\n}\n.vc-icon svg {\n  fill: var(--VC-FG-2);\n  height: 1em;\n  width: 1em;\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-delete {\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-copy {\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n.vc-icon .vc-icon-suc {\n  fill: var(--VC-TEXTGREEN);\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n",""]),e.Z=a},1142:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-scroller-viewport {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n.vc-scroller-contents {\n  min-height: 100%;\n  will-change: transform;\n}\n.vc-scroller-items {\n  will-change: height;\n  position: relative;\n}\n.vc-scroller-item {\n  display: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n.vc-scroller-viewport.static .vc-scroller-item {\n  display: block;\n  position: static;\n}\n.vc-scroller-scrollbar-track {\n  width: 4px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 1px;\n}\n.vc-scroller-scrollbar-thumb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 999px;\n}\n",""]),e.Z=a},3283:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,'#__vconsole {\n  --VC-BG-0: #ededed;\n  --VC-BG-1: #f7f7f7;\n  --VC-BG-2: #fff;\n  --VC-BG-3: #f7f7f7;\n  --VC-BG-4: #4c4c4c;\n  --VC-BG-5: #fff;\n  --VC-BG-6: rgba(0, 0, 0, 0.1);\n  --VC-FG-0: rgba(0, 0, 0, 0.9);\n  --VC-FG-HALF: rgba(0, 0, 0, 0.9);\n  --VC-FG-1: rgba(0, 0, 0, 0.5);\n  --VC-FG-2: rgba(0, 0, 0, 0.3);\n  --VC-FG-3: rgba(0, 0, 0, 0.1);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #fa9d3b;\n  --VC-YELLOW: #ffc300;\n  --VC-GREEN: #91d300;\n  --VC-LIGHTGREEN: #95ec69;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1485ee;\n  --VC-PURPLE: #6467f0;\n  --VC-LINK: #576b95;\n  --VC-TEXTGREEN: #06ae56;\n  --VC-FG: black;\n  --VC-BG: white;\n  --VC-BG-COLOR-ACTIVE: #ececec;\n  --VC-WARN-BG: #fff3cc;\n  --VC-WARN-BORDER: #ffe799;\n  --VC-ERROR-BG: #fedcdc;\n  --VC-ERROR-BORDER: #fdb9b9;\n  --VC-DOM-TAG-NAME-COLOR: #881280;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #994500;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #1a1aa6;\n  --VC-CODE-KEY-FG: #881391;\n  --VC-CODE-PRIVATE-KEY-FG: #cfa1d3;\n  --VC-CODE-FUNC-FG: #0d22aa;\n  --VC-CODE-NUMBER-FG: #1c00cf;\n  --VC-CODE-STR-FG: #c41a16;\n  --VC-CODE-NULL-FG: #808080;\n  color: var(--VC-FG-0);\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  -webkit-user-select: auto;\n  /* global */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 6.30769231em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole pre {\n  white-space: pre-wrap;\n}\n#__vconsole i {\n  font-style: normal;\n}\n.vc-table {\n  height: 100%;\n}\n.vc-table .vc-table-row {\n  line-height: 1.5;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row-icon {\n  margin-left: 4px;\n}\n.vc-table .vc-table-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid var(--VC-FG-3);\n  overflow: auto;\n}\n.vc-table .vc-table-col:first-child {\n  border: none;\n}\n.vc-table .vc-table-col-value {\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n    text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n.vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n.vc-table .vc-table-col-2 {\n  -webkit-box-flex: 2;\n  -webkit-flex: 2;\n  -moz-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n}\n.vc-table .vc-table-col-3 {\n  -webkit-box-flex: 3;\n  -webkit-flex: 3;\n  -moz-box-flex: 3;\n  -ms-flex: 3;\n  flex: 3;\n}\n.vc-table .vc-table-col-4 {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n  -moz-box-flex: 4;\n  -ms-flex: 4;\n  flex: 4;\n}\n.vc-table .vc-table-col-5 {\n  -webkit-box-flex: 5;\n  -webkit-flex: 5;\n  -moz-box-flex: 5;\n  -ms-flex: 5;\n  flex: 5;\n}\n.vc-table .vc-table-col-6 {\n  -webkit-box-flex: 6;\n  -webkit-flex: 6;\n  -moz-box-flex: 6;\n  -ms-flex: 6;\n  flex: 6;\n}\n.vc-table .vc-table-row-error {\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-table .vc-table-row-error .vc-table-col {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n}\n.vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n.vc-table .vc-table-action {\n  display: flex;\n  justify-content: space-evenly;\n}\n.vc-table .vc-table-action .vc-icon {\n  flex: 1;\n  text-align: center;\n  display: block;\n}\n.vc-table .vc-table-action .vc-icon:hover {\n  background: var(--VC-BG-3);\n}\n.vc-table .vc-table-action .vc-icon:active {\n  background: var(--VC-BG-1);\n}\n.vc-table .vc-table-input {\n  width: 100%;\n  border: none;\n  color: var(--VC-FG-0);\n  background-color: var(--VC-BG-6);\n  height: 3.53846154em;\n}\n.vc-table .vc-table-input:focus {\n  background-color: var(--VC-FG-2);\n}\n@media (prefers-color-scheme: dark) {\n  #__vconsole:not([data-theme="light"]) {\n    --VC-BG-0: #191919;\n    --VC-BG-1: #1f1f1f;\n    --VC-BG-2: #232323;\n    --VC-BG-3: #2f2f2f;\n    --VC-BG-4: #606060;\n    --VC-BG-5: #2c2c2c;\n    --VC-BG-6: rgba(255, 255, 255, 0.2);\n    --VC-FG-0: rgba(255, 255, 255, 0.8);\n    --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n    --VC-FG-1: rgba(255, 255, 255, 0.5);\n    --VC-FG-2: rgba(255, 255, 255, 0.3);\n    --VC-FG-3: rgba(255, 255, 255, 0.05);\n    --VC-RED: #fa5151;\n    --VC-ORANGE: #c87d2f;\n    --VC-YELLOW: #cc9c00;\n    --VC-GREEN: #74a800;\n    --VC-LIGHTGREEN: #28b561;\n    --VC-BRAND: #07c160;\n    --VC-BLUE: #10aeff;\n    --VC-INDIGO: #1196ff;\n    --VC-PURPLE: #8183ff;\n    --VC-LINK: #7d90a9;\n    --VC-TEXTGREEN: #259c5c;\n    --VC-FG: white;\n    --VC-BG: black;\n    --VC-BG-COLOR-ACTIVE: #282828;\n    --VC-WARN-BG: #332700;\n    --VC-WARN-BORDER: #664e00;\n    --VC-ERROR-BG: #321010;\n    --VC-ERROR-BORDER: #642020;\n    --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n    --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n    --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n    --VC-CODE-KEY-FG: #e36eec;\n    --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n    --VC-CODE-FUNC-FG: #556af2;\n    --VC-CODE-NUMBER-FG: #9980ff;\n    --VC-CODE-STR-FG: #e93f3b;\n    --VC-CODE-NULL-FG: #808080;\n  }\n}\n#__vconsole[data-theme="dark"] {\n  --VC-BG-0: #191919;\n  --VC-BG-1: #1f1f1f;\n  --VC-BG-2: #232323;\n  --VC-BG-3: #2f2f2f;\n  --VC-BG-4: #606060;\n  --VC-BG-5: #2c2c2c;\n  --VC-BG-6: rgba(255, 255, 255, 0.2);\n  --VC-FG-0: rgba(255, 255, 255, 0.8);\n  --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n  --VC-FG-1: rgba(255, 255, 255, 0.5);\n  --VC-FG-2: rgba(255, 255, 255, 0.3);\n  --VC-FG-3: rgba(255, 255, 255, 0.05);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #c87d2f;\n  --VC-YELLOW: #cc9c00;\n  --VC-GREEN: #74a800;\n  --VC-LIGHTGREEN: #28b561;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1196ff;\n  --VC-PURPLE: #8183ff;\n  --VC-LINK: #7d90a9;\n  --VC-TEXTGREEN: #259c5c;\n  --VC-FG: white;\n  --VC-BG: black;\n  --VC-BG-COLOR-ACTIVE: #282828;\n  --VC-WARN-BG: #332700;\n  --VC-WARN-BORDER: #664e00;\n  --VC-ERROR-BG: #321010;\n  --VC-ERROR-BORDER: #642020;\n  --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n  --VC-CODE-KEY-FG: #e36eec;\n  --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n  --VC-CODE-FUNC-FG: #556af2;\n  --VC-CODE-NUMBER-FG: #9980ff;\n  --VC-CODE-STR-FG: #e93f3b;\n  --VC-CODE-NULL-FG: #808080;\n}\n.vc-tabbar {\n  border-bottom: 1px solid var(--VC-FG-3);\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n.vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-tabbar .vc-tab.vc-actived {\n  background-color: var(--VC-BG-1);\n}\n.vc-toolbar {\n  border-top: 1px solid var(--VC-FG-3);\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n.vc-toolbar .vc-tool {\n  display: none;\n  font-style: normal;\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  width: 50%;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n.vc-toolbar .vc-tool.vc-toggle,\n.vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n.vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n.vc-topbar {\n  background-color: var(--VC-BG-1);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  width: 100%;\n}\n.vc-topbar .vc-toptab {\n  display: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  text-align: center;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n.vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid var(--VC-INDIGO);\n}\n.vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  -webkit-transition: background 0.3s;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n.vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: -100%;\n  z-index: 10002;\n  background-color: var(--VC-BG-0);\n  transition: bottom 0.3s;\n}\n.vc-toggle .vc-switch {\n  display: none;\n}\n.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n.vc-toggle .vc-panel {\n  bottom: 0;\n}\n.vc-content {\n  background-color: var(--VC-BG-2);\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n.vc-plugin-box {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n.vc-plugin-box.vc-fixed-height {\n  height: 100%;\n}\n.vc-plugin-box.vc-actived {\n  display: block;\n}\n.vc-plugin-content {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  flex-direction: column;\n  -webkit-tap-highlight-color: transparent;\n}\n.vc-plugin-content:empty:before {\n  content: "Empty";\n  color: var(--VC-FG-1);\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n.vc-plugin-empty {\n  color: var(--VC-FG-1);\n  font-size: 1.15384615em;\n  height: 100%;\n  width: 100%;\n  padding: 1.15384615em 0;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  .vc-toolbar,\n  .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n',""]),e.Z=a},7558:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: var(--VC-BRAND);\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n",""]),e.Z=a},5670:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,'/* color */\n.vcelm-node {\n  color: var(--VC-DOM-TAG-NAME-COLOR);\n}\n.vcelm-k {\n  color: var(--VC-DOM-ATTRIBUTE-NAME-COLOR);\n}\n.vcelm-v {\n  color: var(--VC-DOM-ATTRIBUTE-VALUE-COLOR);\n}\n.vcelm-l.vc-actived > .vcelm-node {\n  background-color: var(--VC-FG-3);\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1.2;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l .vcelm-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: var(--VC-FG-1);\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n',""]),e.Z=a},3327:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,"",""]),e.Z=a},1130:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-cmd {\n  height: 3.07692308em;\n  border-top: 1px solid var(--VC-FG-3);\n  display: flex;\n  flex-direction: row;\n}\n.vc-cmd.vc-filter {\n  bottom: 0;\n}\n.vc-cmd-input-wrap {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  position: relative;\n  height: 2.15384615em;\n  padding: 0.46153846em 0.61538462em;\n}\n.vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n  background-color: transparent;\n  color: var(--VC-FG-0);\n}\n.vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n.vc-cmd-btn {\n  width: 3.07692308em;\n  border: none;\n  background-color: var(--VC-BG-0);\n  color: var(--VC-FG-0);\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n.vc-cmd-clear-btn {\n  flex: 1 3.07692308em;\n  text-align: center;\n  line-height: 3.07692308em;\n}\n.vc-cmd-btn:active,\n.vc-cmd-clear-btn:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted {\n  position: absolute;\n  left: 0.46153846em;\n  right: 0.46153846em;\n  background-color: var(--VC-BG-3);\n  border: 1px solid var(--VC-FG-3);\n  overflow-x: scroll;\n  display: none;\n}\n.vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-cmd-prompted li:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted-hide {\n  text-align: center;\n}\n",""]),e.Z=a},7147:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,'.vc-log-row {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid var(--VC-FG-3);\n  word-break: break-word;\n  position: relative;\n  display: flex;\n}\n.vc-log-info {\n  color: var(--VC-PURPLE);\n}\n.vc-log-debug {\n  color: var(--VC-YELLOW);\n}\n.vc-log-warn {\n  color: var(--VC-ORANGE);\n  border-color: var(--VC-WARN-BORDER);\n  background-color: var(--VC-WARN-BG);\n}\n.vc-log-error {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-logrow-icon {\n  margin-left: auto;\n}\n.vc-log-padding {\n  width: 1.53846154em;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-log-group .vc-log-content {\n  font-weight: bold;\n}\n.vc-log-group-toggle {\n  padding-left: 0.76923077em;\n}\n.vc-log-group-toggle {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-group-toggle:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-group > .vc-log-group-toggle::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-group.vc-toggle > .vc-log-group-toggle::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-time {\n  width: 6.15384615em;\n  color: #777;\n}\n.vc-log-repeat i {\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n.vc-log-error .vc-log-repeat i {\n  color: #901818;\n  background-color: var(--VC-RED);\n}\n.vc-log-warn .vc-log-repeat i {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n.vc-log-content {\n  flex: 1;\n}\n.vc-log-input,\n.vc-log-output {\n  padding-left: 0.92307692em;\n}\n.vc-log-input:before,\n.vc-log-output:before {\n  content: "";\n  position: absolute;\n  top: 0.15384615em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n.vc-log-output:before {\n  content: "";\n}\n',""]),e.Z=a},1237:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,'.vc-log-tree {\n  display: block;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n}\n.vc-log-tree-node {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-tree.vc-is-tree.vc-toggle > .vc-log-tree-node::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-tree-child {\n  margin-left: 0.76923077em;\n}\n.vc-log-tree-loadmore {\n  text-decoration: underline;\n  padding-left: 1.84615385em;\n  position: relative;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore::before {\n  content: "";\n  position: absolute;\n  top: -0.15384615em;\n  left: 0.76923077em;\n  font-size: 1.23076923em;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n',""]),e.Z=a},845:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-log-key {\n  color: var(--VC-CODE-KEY-FG);\n}\n.vc-log-key-private {\n  color: var(--VC-CODE-PRIVATE-KEY-FG);\n}\n.vc-log-val {\n  white-space: pre-line;\n}\n.vc-log-val-function {\n  color: var(--VC-CODE-FUNC-FG);\n  font-style: italic !important;\n}\n.vc-log-val-bigint {\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-val-number,\n.vc-log-val-boolean {\n  color: var(--VC-CODE-NUMBER-FG);\n}\n.vc-log-val-string {\n  white-space: pre-wrap;\n}\n.vc-log-val-string.vc-log-val-haskey {\n  color: var(--VC-CODE-STR-FG);\n  white-space: normal;\n}\n.vc-log-val-null,\n.vc-log-val-undefined,\n.vc-log-val-uninvocatable {\n  color: var(--VC-CODE-NULL-FG);\n}\n.vc-log-val-symbol {\n  color: var(--VC-CODE-STR-FG);\n}\n",""]),e.Z=a},8747:function(t,e,n){"use strict";var i=n(6738),r=n.n(i),o=n(7705),a=n.n(o)()(r());a.push([t.id,".vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n.vc-group .vc-group-preview:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: var(--VC-BG-1);\n}\n.vc-group.vc-actived .vc-table-row {\n  background-color: var(--VC-BG-2);\n}\n.vc-group.vc-actived .vc-group-preview {\n  background-color: var(--VC-BG-1);\n}\n",""]),e.Z=a},3411:function(t,e,n){"use strict";var i=n(3379),r=n.n(i),o=n(7795),a=n.n(o),s=n(569),l=n.n(s),c=n(3565),A=n.n(c),u=n(9216),d=n.n(u),h=n(4589),p=n.n(h),f=n(1130),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,v={};v.styleTagTransform=p(),v.setAttributes=A(),v.insert=l().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d(),m.use=function(t){return v.options=t||{},y++||(g=r()(f.Z,v)),m},m.unuse=function(){y>0&&! --y&&(g(),g=null)},e.Z=m},3379:function(t){"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=i.base?l[0]+i.base:l[0],A=o[c]||0,u="".concat(c," ").concat(A);o[c]=A+1;var d=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var p=r(h,i);i.byIndex=s,e.splice(s,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=i(t,r),c=0;c<o.length;c++){var A=n(o[c]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}o=l}}},569:function(t){"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},9216:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:function(t,e,n){"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},6464:function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return i}})},4296:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:function(){return r}})},8270:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return i}})},6881:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(2717);function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,i.Z)(t,e)}},2717:function(t,e,n){"use strict";function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}n.d(e,{Z:function(){return i}})},7003:function(t,e,n){"use strict";n.d(e,{H3:function(){return i.H3E},ev:function(){return i.evW},x:function(){return i.xa3}});var i=n(2942)},2942:function(t,e,n){"use strict";var i;function r(){}function o(t){return t()}function a(){return Object.create(null)}function s(t){t.forEach(o)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function A(t,e){return t!=t?e==e:t!==e}function u(t){if(null==t)return r;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=t.subscribe.apply(t,n);return o.unsubscribe?function(){return o.unsubscribe()}:o}function d(t){var e;return u(t,(function(t){return e=t}))(),e}function h(t,e,n){t.$$.on_destroy.push(u(e,n))}function p(t,e,n,i){if(t){var r=f(t,e,n,i);return t[0](r)}}function f(t,e,n,i){return t[1]&&i?function(t,e){for(var n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function m(t,e,n,i){if(t[2]&&i){var r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){for(var o=[],a=Math.max(e.dirty.length,r.length),s=0;s<a;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function g(t,e,n,i,r,o){if(r){var a=f(e,n,i,o);t.p(a,r)}}function y(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,i=0;i<n;i++)e[i]=-1;return e}return-1}function v(t){var e={};for(var n in t)e[n]=!0;return e}function _(t,e,n){return t.set(n),e}function w(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function M(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function C(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function S(){return B(" ")}function E(){return B("")}function T(t,e,n,i){return t.addEventListener(e,n,i),function(){return t.removeEventListener(e,n,i)}}function D(t){return function(e){return e.preventDefault(),t.call(this,e)}}function I(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function P(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e){t.value=null==e?"":e}function U(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function R(t,e,n){t.classList[n?"add":"remove"](e)}function O(t){i=t}function H(){if(!i)throw new Error("Function called outside component initialization");return i}function Y(t){H().$$.on_mount.push(t)}function Q(t){H().$$.on_destroy.push(t)}function j(){var t=H();return function(e,n){var i=t.$$.callbacks[e];if(i){var r=function(t,e,n){void 0===n&&(n=!1);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}(e,n);i.slice().forEach((function(e){e.call(t,r)}))}}}function N(t,e){var n=this,i=t.$$.callbacks[e.type];i&&i.slice().forEach((function(t){return t.call(n,e)}))}n.d(e,{f_C:function(){return gt},hjT:function(){return q},R3I:function(){return w},Ljt:function(){return P},akz:function(){return ut},VnY:function(){return V},cKT:function(){return N},gbL:function(){return ot},FIv:function(){return h},XGm:function(){return v},xa3:function(){return j},YCL:function(){return dt},nuO:function(){return p},vpE:function(){return pt},RMB:function(){return M},ogt:function(){return b},bGB:function(){return L},cSb:function(){return E},yl1:function(){return tt},VOJ:function(){return y},u2N:function(){return m},$XI:function(){return d},lig:function(){return lt},dvw:function(){return rt},S1n:function(){return mt},$Tr:function(){return x},sBU:function(){return l},oLt:function(){return T},yef:function(){return ht},ZTd:function(){return r},AqN:function(){return A},evW:function(){return Q},H3E:function(){return Y},cly:function(){return ct},AT7:function(){return D},j7q:function(){return s},N8:function(){return c},rTO:function(){return k},BmG:function(){return F},fxP:function(){return _},czc:function(){return U},DhX:function(){return S},XET:function(){return I},LdU:function(){return u},bi5:function(){return C},fLW:function(){return B},VHj:function(){return R},Ui:function(){return at},etI:function(){return st},GQg:function(){return At},kmG:function(){return g}}),n(2717),n(6881),new Set,new Map;var W=[],V=[],z=[],G=[],K=Promise.resolve(),Z=!1;function X(t){z.push(t)}function q(t){G.push(t)}var J=new Set,$=0;function tt(){var t=i;do{for(;$<W.length;){var e=W[$];$++,O(e),et(e.$$)}for(O(null),W.length=0,$=0;V.length;)V.pop()();for(var n=0;n<z.length;n+=1){var r=z[n];J.has(r)||(J.add(r),r())}z.length=0}while(W.length);for(;G.length;)G.pop()();Z=!1,J.clear(),O(t)}function et(t){if(null!==t.fragment){t.update(),s(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}var nt,it=new Set;function rt(){nt={r:0,c:[],p:nt}}function ot(){nt.r||s(nt.c),nt=nt.p}function at(t,e){t&&t.i&&(it.delete(t),t.i(e))}function st(t,e,n,i){if(t&&t.o){if(it.has(t))return;it.add(t),nt.c.push((function(){it.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}var lt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:__webpack_require__.g;function ct(t,e){st(t,1,1,(function(){e.delete(t.key)}))}function At(t,e,n,i,r,o,a,s,l,c,A,u){for(var d=t.length,h=o.length,p=d,f={};p--;)f[t[p].key]=p;var m=[],g=new Map,y=new Map;for(p=h;p--;){var v=u(r,o,p),_=n(v),w=a.get(_);w?i&&w.p(v,e):(w=c(_,v)).c(),g.set(_,m[p]=w),_ in f&&y.set(_,Math.abs(p-f[_]))}var x=new Set,b=new Set;function M(t){at(t,1),t.m(s,A),a.set(t.key,t),A=t.first,h--}for(;d&&h;){var L=m[h-1],C=t[d-1],B=L.key,S=C.key;L===C?(A=L.first,d--,h--):g.has(S)?!a.has(B)||x.has(B)?M(L):b.has(S)?d--:y.get(B)>y.get(S)?(b.add(B),M(L)):(x.add(S),d--):(l(C,a),d--)}for(;d--;){var E=t[d];g.has(E.key)||l(E,a)}for(;h;)M(m[h-1]);return m}function ut(t,e,n){var i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function dt(t){t&&t.c()}function ht(t,e,n,i){var r=t.$$,a=r.fragment,c=r.on_mount,A=r.on_destroy,u=r.after_update;a&&a.m(e,n),i||X((function(){var e=c.map(o).filter(l);A?A.push.apply(A,e):s(e),t.$$.on_mount=[]})),u.forEach(X)}function pt(t,e){var n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(W.push(t),Z||(Z=!0,K.then(tt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mt(t,e,n,o,l,c,A,u){void 0===u&&(u=[-1]);var d=i;O(t);var h=t.$$={fragment:null,ctx:null,props:c,update:r,not_equal:l,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};A&&A(h.root);var p,f=!1;if(h.ctx=n?n(t,e.props||{},(function(e,n){var i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),f&&ft(t,e)),n})):[],h.update(),f=!0,s(h.before_update),h.fragment=!!o&&o(h.ctx),e.target){if(e.hydrate){var m=(p=e.target,Array.from(p.childNodes));h.fragment&&h.fragment.l(m),m.forEach(b)}else h.fragment&&h.fragment.c();e.intro&&at(t.$$.fragment),ht(t,e.target,e.anchor,e.customElement),tt()}O(d)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&HTMLElement;var gt=function(){function t(){}var e=t.prototype;return e.$destroy=function(){pt(this,1),this.$destroy=r},e.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},e.$set=function(t){this.$$set&&!function(t){return 0===Object.keys(t).length}(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)},t}()},3313:function(t,e,n){"use strict";n.d(e,{U2:function(){return i.$XI},fZ:function(){return s}});var i=n(2942);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var a=[];function s(t,e){var n;void 0===e&&(e=i.ZTd);var o=new Set;function s(e){if((0,i.N8)(t,e)&&(t=e,n)){for(var s,l=!a.length,c=r(o);!(s=c()).done;){var A=s.value;A[1](),a.push(A,t)}if(l){for(var u=0;u<a.length;u+=2)a[u][0](a[u+1]);a.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(r,a){void 0===a&&(a=i.ZTd);var l=[r,a];return o.add(l),1===o.size&&(n=e(s)||i.ZTd),r(t),function(){o.delete(l),0===o.size&&(n(),n=null)}}}}}},__webpack_module_cache__={};function __nested_webpack_require_131847__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__nested_webpack_require_131847__),n.exports}__nested_webpack_require_131847__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __nested_webpack_require_131847__.d(e,{a:e}),e},__nested_webpack_require_131847__.d=function(t,e){for(var n in e)__nested_webpack_require_131847__.o(e,n)&&!__nested_webpack_require_131847__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__nested_webpack_require_131847__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__nested_webpack_require_131847__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var __nested_webpack_exports__={};return function(){"use strict";__nested_webpack_require_131847__.d(__nested_webpack_exports__,{default:function(){return Pr}}),__nested_webpack_require_131847__(5441),__nested_webpack_require_131847__(8765);var t=__nested_webpack_require_131847__(4296),e=__nested_webpack_require_131847__(5103),n={one:function(t,e){void 0===e&&(e=document);try{return e.querySelector(t)||void 0}catch(t){return}},all:function(t,e){void 0===e&&(e=document);try{var n=e.querySelectorAll(t);return[].slice.call(n)}catch(t){return[]}},addClass:function(t,n){if(t)for(var i=(0,e.kJ)(t)?t:[t],r=0;r<i.length;r++){var o=(i[r].className||"").split(" ");o.indexOf(n)>-1||(o.push(n),i[r].className=o.join(" "))}},removeClass:function(t,n){if(t)for(var i=(0,e.kJ)(t)?t:[t],r=0;r<i.length;r++){for(var o=i[r].className.split(" "),a=0;a<o.length;a++)o[a]==n&&(o[a]="");i[r].className=o.join(" ").trim()}},hasClass:function(t,e){return!(!t||!t.classList)&&t.classList.contains(e)},bind:function(t,n,i,r){void 0===r&&(r=!1),t&&((0,e.kJ)(t)?t:[t]).forEach((function(t){t.addEventListener(n,i,!!r)}))},delegate:function(t,e,i,r){t&&t.addEventListener(e,(function(e){var o=n.all(i,t);if(o)t:for(var a=0;a<o.length;a++)for(var s=e.target;s;){if(s==o[a]){r.call(s,e,s);break t}if((s=s.parentNode)==t)break}}),!1)},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.lastChild);return t}},i=n,r=__nested_webpack_require_131847__(6464),o=__nested_webpack_require_131847__(6881),a=__nested_webpack_require_131847__(2942),s=__nested_webpack_require_131847__(7003),l=__nested_webpack_require_131847__(3379),c=__nested_webpack_require_131847__.n(l),A=__nested_webpack_require_131847__(7795),u=__nested_webpack_require_131847__.n(A),d=__nested_webpack_require_131847__(569),h=__nested_webpack_require_131847__.n(d),p=__nested_webpack_require_131847__(3565),f=__nested_webpack_require_131847__.n(p),m=__nested_webpack_require_131847__(9216),g=__nested_webpack_require_131847__.n(m),y=__nested_webpack_require_131847__(4589),v=__nested_webpack_require_131847__.n(y),_=__nested_webpack_require_131847__(7558),w={};_.Z&&_.Z.locals&&(w.locals=_.Z.locals);var x,b=0,M={};M.styleTagTransform=v(),M.setAttributes=f(),M.insert=h().bind(null,"head"),M.domAPI=u(),M.insertStyleElement=g(),w.use=function(t){return M.options=t||{},b++||(x=c()(_.Z,M)),w},w.unuse=function(){b>0&&! --b&&(x(),x=null)};var L=w;function C(t){var e,n,i,r;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)("vConsole"),(0,a.Ljt)(e,"class","vc-switch"),(0,a.czc)(e,"right",t[2].x+"px"),(0,a.czc)(e,"bottom",t[2].y+"px"),(0,a.czc)(e,"display",t[0]?"block":"none")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),t[8](e),i||(r=[(0,a.oLt)(e,"touchstart",t[3],{passive:!1}),(0,a.oLt)(e,"touchend",t[4],{passive:!1}),(0,a.oLt)(e,"touchmove",t[5],{passive:!1}),(0,a.oLt)(e,"click",t[7])],i=!0)},p:function(t,n){var i=n[0];4&i&&(0,a.czc)(e,"right",t[2].x+"px"),4&i&&(0,a.czc)(e,"bottom",t[2].y+"px"),1&i&&(0,a.czc)(e,"display",t[0]?"block":"none")},i:a.ZTd,o:a.ZTd,d:function(n){n&&(0,a.ogt)(e),t[8](null),i=!1,(0,a.j7q)(r)}}}function B(t,n,i){var r,o=n.show,l=void 0===o||o,c=n.position,A=void 0===c?{x:0,y:0}:c,u={hasMoved:!1,x:0,y:0,startX:0,startY:0,endX:0,endY:0},d={x:0,y:0};(0,s.H3)((function(){L.use()})),(0,s.ev)((function(){L.unuse()}));var h=function(t,n){var r=p(t,n);t=r[0],n=r[1],u.x=t,u.y=n,i(2,d.x=t,d),i(2,d.y=n,d),e.po("switch_x",t+""),e.po("switch_y",n+"")},p=function(t,e){var n=Math.max(document.documentElement.offsetWidth,window.innerWidth),i=Math.max(document.documentElement.offsetHeight,window.innerHeight);return t+r.offsetWidth>n&&(t=n-r.offsetWidth),e+r.offsetHeight>i&&(e=i-r.offsetHeight),t<0&&(t=0),e<20&&(e=20),[t,e]};return t.$$set=function(t){"show"in t&&i(0,l=t.show),"position"in t&&i(6,A=t.position)},t.$$.update=function(){66&t.$$.dirty&&r&&h(A.x,A.y)},[l,r,d,function(t){u.startX=t.touches[0].pageX,u.startY=t.touches[0].pageY,u.hasMoved=!1},function(t){u.hasMoved&&(u.startX=0,u.startY=0,u.hasMoved=!1,h(u.endX,u.endY))},function(t){if(!(t.touches.length<=0)){var e=t.touches[0].pageX-u.startX,n=t.touches[0].pageY-u.startY,r=Math.floor(u.x-e),o=Math.floor(u.y-n),a=p(r,o);r=a[0],o=a[1],i(2,d.x=r,d),i(2,d.y=o,d),u.endX=r,u.endY=o,u.hasMoved=!0,t.preventDefault()}},A,function(e){a.cKT.call(this,t,e)},function(t){a.VnY[t?"unshift":"push"]((function(){i(1,r=t)}))}]}var S=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,B,C,a.N8,{show:0,position:6}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"position",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({position:t}),(0,a.yl1)()}}]),n}(a.f_C),E=S;function T(t){var e,n;return{c:function(){e=(0,a.bGB)("div"),(0,a.Ljt)(e,"id",n="__vc_plug_"+t[0]),(0,a.Ljt)(e,"class","vc-plugin-box"),(0,a.VHj)(e,"vc-fixed-height",t[1]),(0,a.VHj)(e,"vc-actived",t[2])},m:function(n,i){(0,a.$Tr)(n,e,i),t[6](e)},p:function(t,i){var r=i[0];1&r&&n!==(n="__vc_plug_"+t[0])&&(0,a.Ljt)(e,"id",n),2&r&&(0,a.VHj)(e,"vc-fixed-height",t[1]),4&r&&(0,a.VHj)(e,"vc-actived",t[2])},i:a.ZTd,o:a.ZTd,d:function(n){n&&(0,a.ogt)(e),t[6](null)}}}function D(t,n,i){var r=n.pluginId,o=void 0===r?"":r,s=n.fixedHeight,l=void 0!==s&&s,c=n.actived,A=void 0!==c&&c,u=n.content,d=void 0===u?void 0:u,h=void 0,p=void 0;return t.$$set=function(t){"pluginId"in t&&i(0,o=t.pluginId),"fixedHeight"in t&&i(1,l=t.fixedHeight),"actived"in t&&i(2,A=t.actived),"content"in t&&i(4,d=t.content)},t.$$.update=function(){57&t.$$.dirty&&p!==o&&d&&h&&(i(5,p=o),i(3,h.innerHTML="",h),(0,e.HD)(d)?i(3,h.innerHTML=d,h):(0,e.kK)(d)&&h.appendChild(d))},[o,l,A,h,d,p,function(t){a.VnY[t?"unshift":"push"]((function(){i(3,h=t),i(5,p),i(0,o),i(4,d)}))}]}var I=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,D,T,a.N8,{pluginId:0,fixedHeight:1,actived:2,content:4}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"pluginId",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({pluginId:t}),(0,a.yl1)()}},{key:"fixedHeight",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({fixedHeight:t}),(0,a.yl1)()}},{key:"actived",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({actived:t}),(0,a.yl1)()}},{key:"content",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({content:t}),(0,a.yl1)()}}]),n}(a.f_C),P=I,k=__nested_webpack_require_131847__(4687),F=__nested_webpack_require_131847__(3283),U={};F.Z&&F.Z.locals&&(U.locals=F.Z.locals);var R,O=0,H={};H.styleTagTransform=v(),H.setAttributes=f(),H.insert=h().bind(null,"head"),H.domAPI=u(),H.insertStyleElement=g(),U.use=function(t){return H.options=t||{},O++||(R=c()(F.Z,H)),U},U.unuse=function(){O>0&&! --O&&(R(),R=null)};var Y=U;function Q(t,e,n){var i=t.slice();return i[39]=e[n][0],i[40]=e[n][1],i}function j(t,e,n){var i=t.slice();return i[43]=e[n],i[45]=n,i}function N(t,e,n){var i=t.slice();return i[39]=e[n][0],i[40]=e[n][1],i}function W(t,e,n){var i=t.slice();return i[39]=e[n][0],i[40]=e[n][1],i}function V(t,e,n){var i=t.slice();return i[43]=e[n],i[45]=n,i}function z(t,e,n){var i=t.slice();return i[39]=e[n][0],i[40]=e[n][1],i}function G(t){var e,n,i,r,o,s=t[40].name+"";function l(){return t[25](t[40])}return{c:function(){e=(0,a.bGB)("a"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class","vc-tab"),(0,a.Ljt)(e,"id",i="__vc_tab_"+t[40].id),(0,a.VHj)(e,"vc-actived",t[40].id===t[2])},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),r||(o=(0,a.oLt)(e,"click",l),r=!0)},p:function(r,o){t=r,8&o[0]&&s!==(s=t[40].name+"")&&(0,a.rTO)(n,s),8&o[0]&&i!==(i="__vc_tab_"+t[40].id)&&(0,a.Ljt)(e,"id",i),12&o[0]&&(0,a.VHj)(e,"vc-actived",t[40].id===t[2])},d:function(t){t&&(0,a.ogt)(e),r=!1,o()}}}function K(t){var e,n=t[40].hasTabPanel&&G(t);return{c:function(){n&&n.c(),e=(0,a.cSb)()},m:function(t,i){n&&n.m(t,i),(0,a.$Tr)(t,e,i)},p:function(t,i){t[40].hasTabPanel?n?n.p(t,i):((n=G(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d:function(t){n&&n.d(t),t&&(0,a.ogt)(e)}}}function Z(t){var e,n,i,r,o,s=t[43].name+"";function l(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t)[26].apply(e,[t[40],t[45]].concat(i))}return{c:function(){e=(0,a.bGB)("i"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class",i="vc-toptab vc-topbar-"+t[40].id+" "+t[43].className),(0,a.VHj)(e,"vc-toggle",t[40].id===t[2]),(0,a.VHj)(e,"vc-actived",t[43].actived)},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),r||(o=(0,a.oLt)(e,"click",l),r=!0)},p:function(r,o){t=r,8&o[0]&&s!==(s=t[43].name+"")&&(0,a.rTO)(n,s),8&o[0]&&i!==(i="vc-toptab vc-topbar-"+t[40].id+" "+t[43].className)&&(0,a.Ljt)(e,"class",i),12&o[0]&&(0,a.VHj)(e,"vc-toggle",t[40].id===t[2]),8&o[0]&&(0,a.VHj)(e,"vc-actived",t[43].actived)},d:function(t){t&&(0,a.ogt)(e),r=!1,o()}}}function X(t){for(var e,n=t[40].topbarList,i=[],r=0;r<n.length;r+=1)i[r]=Z(V(t,n,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,n){for(var r=0;r<i.length;r+=1)i[r].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,r){if(8204&r[0]){var o;for(n=t[40].topbarList,o=0;o<n.length;o+=1){var a=V(t,n,o);i[o]?i[o].p(a,r):(i[o]=Z(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d:function(t){(0,a.RMB)(i,t),t&&(0,a.ogt)(e)}}}function q(t){var e,n,i,r=P;function o(t){var e;return{props:{pluginId:t[40].id,fixedHeight:null==(e=t[40].tabOptions)?void 0:e.fixedHeight,actived:t[40].id===t[2],content:t[40].content}}}return r&&(e=new r(o(t))),{c:function(){e&&(0,a.YCL)(e.$$.fragment),n=(0,a.cSb)()},m:function(t,r){e&&(0,a.yef)(e,t,r),(0,a.$Tr)(t,n,r),i=!0},p:function(t,i){var s,l={};if(8&i[0]&&(l.pluginId=t[40].id),8&i[0]&&(l.fixedHeight=null==(s=t[40].tabOptions)?void 0:s.fixedHeight),12&i[0]&&(l.actived=t[40].id===t[2]),8&i[0]&&(l.content=t[40].content),r!==(r=P)){if(e){(0,a.dvw)();var c=e;(0,a.etI)(c.$$.fragment,1,0,(function(){(0,a.vpE)(c,1)})),(0,a.gbL)()}r?(e=new r(o(t)),(0,a.YCL)(e.$$.fragment),(0,a.Ui)(e.$$.fragment,1),(0,a.yef)(e,n.parentNode,n)):e=null}else r&&e.$set(l)},i:function(t){i||(e&&(0,a.Ui)(e.$$.fragment,t),i=!0)},o:function(t){e&&(0,a.etI)(e.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(n),e&&(0,a.vpE)(e,t)}}}function J(t){var e,n,i,r,o,s=t[43].name+"";function l(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t)[28].apply(e,[t[40],t[45]].concat(i))}return{c:function(){e=(0,a.bGB)("i"),n=(0,a.fLW)(s),(0,a.Ljt)(e,"class",i="vc-tool vc-tool-"+t[40].id),(0,a.VHj)(e,"vc-global-tool",t[43].global),(0,a.VHj)(e,"vc-toggle",t[40].id===t[2])},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n),r||(o=(0,a.oLt)(e,"click",l),r=!0)},p:function(r,o){t=r,8&o[0]&&s!==(s=t[43].name+"")&&(0,a.rTO)(n,s),8&o[0]&&i!==(i="vc-tool vc-tool-"+t[40].id)&&(0,a.Ljt)(e,"class",i),8&o[0]&&(0,a.VHj)(e,"vc-global-tool",t[43].global),12&o[0]&&(0,a.VHj)(e,"vc-toggle",t[40].id===t[2])},d:function(t){t&&(0,a.ogt)(e),r=!1,o()}}}function $(t){for(var e,n=t[40].toolbarList,i=[],r=0;r<n.length;r+=1)i[r]=J(j(t,n,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,n){for(var r=0;r<i.length;r+=1)i[r].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,r){if(16396&r[0]){var o;for(n=t[40].toolbarList,o=0;o<n.length;o+=1){var a=j(t,n,o);i[o]?i[o].p(a,r):(i[o]=J(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d:function(t){(0,a.RMB)(i,t),t&&(0,a.ogt)(e)}}}function tt(t){var e,n,i,r,o,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x;function b(e){t[23](e)}function M(e){t[24](e)}var L={};void 0!==t[0]&&(L.show=t[0]),void 0!==t[1]&&(L.position=t[1]),n=new E({props:L}),a.VnY.push((function(){return(0,a.akz)(n,"show",b)})),a.VnY.push((function(){return(0,a.akz)(n,"position",M)})),n.$on("click",t[10]);for(var C=Object.entries(t[3]),B=[],S=0;S<C.length;S+=1)B[S]=K(z(t,C,S));for(var T=Object.entries(t[3]),D=[],I=0;I<T.length;I+=1)D[I]=X(W(t,T,I));for(var P=Object.entries(t[3]),k=[],F=0;F<P.length;F+=1)k[F]=q(N(t,P,F));for(var U=function(t){return(0,a.etI)(k[t],1,1,(function(){k[t]=null}))},R=Object.entries(t[3]),O=[],H=0;H<R.length;H+=1)O[H]=$(Q(t,R,H));return{c:function(){var i,r;e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),o=(0,a.DhX)(),s=(0,a.bGB)("div"),l=(0,a.DhX)(),c=(0,a.bGB)("div"),A=(0,a.bGB)("div");for(var _=0;_<B.length;_+=1)B[_].c();u=(0,a.DhX)(),d=(0,a.bGB)("div");for(var w=0;w<D.length;w+=1)D[w].c();h=(0,a.DhX)(),p=(0,a.bGB)("div");for(var x=0;x<k.length;x+=1)k[x].c();f=(0,a.DhX)(),m=(0,a.bGB)("div");for(var b=0;b<O.length;b+=1)O[b].c();g=(0,a.DhX)(),(y=(0,a.bGB)("i")).textContent="Hide",(0,a.Ljt)(s,"class","vc-mask"),(0,a.czc)(s,"display",t[8]?"block":"none"),(0,a.Ljt)(A,"class","vc-tabbar"),(0,a.Ljt)(d,"class","vc-topbar"),(0,a.Ljt)(p,"class","vc-content"),(0,a.VHj)(p,"vc-has-topbar",(null==(i=t[3][t[2]])||null==(r=i.topbarList)?void 0:r.length)>0),(0,a.Ljt)(y,"class","vc-tool vc-global-tool vc-tool-last vc-hide"),(0,a.Ljt)(m,"class","vc-toolbar"),(0,a.Ljt)(c,"class","vc-panel"),(0,a.czc)(c,"display",t[7]?"block":"none"),(0,a.Ljt)(e,"id","__vconsole"),(0,a.Ljt)(e,"style",v=t[5]?"font-size:"+t[5]+";":""),(0,a.Ljt)(e,"data-theme",t[4]),(0,a.VHj)(e,"vc-toggle",t[6])},m:function(i,r){(0,a.$Tr)(i,e,r),(0,a.yef)(n,e,null),(0,a.R3I)(e,o),(0,a.R3I)(e,s),(0,a.R3I)(e,l),(0,a.R3I)(e,c),(0,a.R3I)(c,A);for(var v=0;v<B.length;v+=1)B[v].m(A,null);(0,a.R3I)(c,u),(0,a.R3I)(c,d);for(var b=0;b<D.length;b+=1)D[b].m(d,null);(0,a.R3I)(c,h),(0,a.R3I)(c,p);for(var M=0;M<k.length;M+=1)k[M].m(p,null);t[27](p),(0,a.R3I)(c,f),(0,a.R3I)(c,m);for(var L=0;L<O.length;L+=1)O[L].m(m,null);(0,a.R3I)(m,g),(0,a.R3I)(m,y),_=!0,w||(x=[(0,a.oLt)(s,"click",t[11]),(0,a.oLt)(p,"touchstart",t[15]),(0,a.oLt)(p,"touchmove",t[16]),(0,a.oLt)(p,"touchend",t[17]),(0,a.oLt)(p,"scroll",t[18]),(0,a.oLt)(y,"click",t[11]),(0,a.oLt)(e,"touchstart",t[19].touchStart,{passive:!1,capture:!0}),(0,a.oLt)(e,"touchmove",t[19].touchMove,{passive:!1,capture:!0}),(0,a.oLt)(e,"touchend",t[19].touchEnd,{passive:!1,capture:!0})],w=!0)},p:function(t,o){var l,u,h={};if(!i&&1&o[0]&&(i=!0,h.show=t[0],(0,a.hjT)((function(){return i=!1}))),!r&&2&o[0]&&(r=!0,h.position=t[1],(0,a.hjT)((function(){return r=!1}))),n.$set(h),(!_||256&o[0])&&(0,a.czc)(s,"display",t[8]?"block":"none"),4108&o[0]){var f;for(C=Object.entries(t[3]),f=0;f<C.length;f+=1){var y=z(t,C,f);B[f]?B[f].p(y,o):(B[f]=K(y),B[f].c(),B[f].m(A,null))}for(;f<B.length;f+=1)B[f].d(1);B.length=C.length}if(8204&o[0]){var w;for(T=Object.entries(t[3]),w=0;w<T.length;w+=1){var x=W(t,T,w);D[w]?D[w].p(x,o):(D[w]=X(x),D[w].c(),D[w].m(d,null))}for(;w<D.length;w+=1)D[w].d(1);D.length=T.length}if(12&o[0]){var b;for(P=Object.entries(t[3]),b=0;b<P.length;b+=1){var M=N(t,P,b);k[b]?(k[b].p(M,o),(0,a.Ui)(k[b],1)):(k[b]=q(M),k[b].c(),(0,a.Ui)(k[b],1),k[b].m(p,null))}for((0,a.dvw)(),b=P.length;b<k.length;b+=1)U(b);(0,a.gbL)()}if(12&o[0]&&(0,a.VHj)(p,"vc-has-topbar",(null==(l=t[3][t[2]])||null==(u=l.topbarList)?void 0:u.length)>0),16396&o[0]){var L;for(R=Object.entries(t[3]),L=0;L<R.length;L+=1){var S=Q(t,R,L);O[L]?O[L].p(S,o):(O[L]=$(S),O[L].c(),O[L].m(m,g))}for(;L<O.length;L+=1)O[L].d(1);O.length=R.length}(!_||128&o[0])&&(0,a.czc)(c,"display",t[7]?"block":"none"),(!_||32&o[0]&&v!==(v=t[5]?"font-size:"+t[5]+";":""))&&(0,a.Ljt)(e,"style",v),(!_||16&o[0])&&(0,a.Ljt)(e,"data-theme",t[4]),64&o[0]&&(0,a.VHj)(e,"vc-toggle",t[6])},i:function(t){if(!_){(0,a.Ui)(n.$$.fragment,t);for(var e=0;e<P.length;e+=1)(0,a.Ui)(k[e]);_=!0}},o:function(t){(0,a.etI)(n.$$.fragment,t),k=k.filter(Boolean);for(var e=0;e<k.length;e+=1)(0,a.etI)(k[e]);_=!1},d:function(i){i&&(0,a.ogt)(e),(0,a.vpE)(n),(0,a.RMB)(B,i),(0,a.RMB)(D,i),(0,a.RMB)(k,i),t[27](null),(0,a.RMB)(O,i),w=!1,(0,a.j7q)(x)}}}function et(t,n,i){var r,o,l=n.theme,c=void 0===l?"":l,A=n.disableScrolling,u=void 0!==A&&A,d=n.show,h=void 0!==d&&d,p=n.showSwitchButton,f=void 0===p||p,m=n.switchButtonPosition,g=void 0===m?{x:0,y:0}:m,y=n.activedPluginId,v=void 0===y?"":y,_=n.pluginList,w=void 0===_?{}:_,x=(0,s.x)(),b=!1,M="",L=!1,C=!1,B=!1,S=!0,E=0,T=null,D={};(0,s.H3)((function(){var t=document.querySelectorAll('[name="viewport"]');if(t&&t[0]){var e=(t[t.length-1].getAttribute("content")||"").match(/initial\-scale\=\d+(\.\d+)?/),n=e?parseFloat(e[0].split("=")[1]):1;1!==n&&i(5,M=Math.floor(1/n*13)+"px")}Y.use&&Y.use(),r=k.x.subscribe((function(t){h&&E!==t.updateTime&&(E=t.updateTime,I())}))})),(0,s.ev)((function(){Y.unuse&&Y.unuse(),r&&r()}));var I=function(){!u&&S&&o&&i(9,o.scrollTop=o.scrollHeight-o.offsetHeight,o)},P=function(t){t!==v&&(i(2,v=t),x("changePanel",{pluginId:t}),setTimeout((function(){o&&i(9,o.scrollTop=D[v]||0,o)}),0))},F=function(t,n,r){var o=w[n].topbarList[r],a=!0;if(e.mf(o.onClick)&&(a=o.onClick.call(t.target,t,o.data)),!1===a);else{for(var s=0;s<w[n].topbarList.length;s++)i(3,w[n].topbarList[s].actived=r===s,w);i(3,w)}},U=function(t,n,i){var r=w[n].toolbarList[i];e.mf(r.onClick)&&r.onClick.call(t.target,t,r.data)},R={tapTime:700,tapBoundary:10,lastTouchStartTime:0,touchstartX:0,touchstartY:0,touchHasMoved:!1,targetElem:null},O={touchStart:function(t){if(0===R.lastTouchStartTime){var e=t.targetTouches[0];R.touchstartX=e.pageX,R.touchstartY=e.pageY,R.lastTouchStartTime=t.timeStamp,R.targetElem=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target}},touchMove:function(t){var e=t.changedTouches[0];(Math.abs(e.pageX-R.touchstartX)>R.tapBoundary||Math.abs(e.pageY-R.touchstartY)>R.tapBoundary)&&(R.touchHasMoved=!0)},touchEnd:function(t){if(!1===R.touchHasMoved&&t.timeStamp-R.lastTouchStartTime<R.tapTime&&null!=R.targetElem){var e=!1;switch(R.targetElem.tagName.toLowerCase()){case"textarea":e=!0;break;case"select":e=!R.targetElem.disabled&&!R.targetElem.readOnly;break;case"input":switch(R.targetElem.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":e=!1;break;default:e=!R.targetElem.disabled&&!R.targetElem.readOnly}}e?R.targetElem.focus():t.preventDefault();var n=t.changedTouches[0],i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});R.targetElem.dispatchEvent(i)}R.lastTouchStartTime=0,R.touchHasMoved=!1,R.targetElem=null}};return t.$$set=function(t){"theme"in t&&i(4,c=t.theme),"disableScrolling"in t&&i(20,u=t.disableScrolling),"show"in t&&i(21,h=t.show),"showSwitchButton"in t&&i(0,f=t.showSwitchButton),"switchButtonPosition"in t&&i(1,g=t.switchButtonPosition),"activedPluginId"in t&&i(2,v=t.activedPluginId),"pluginList"in t&&i(3,w=t.pluginList)},t.$$.update=function(){6291456&t.$$.dirty[0]&&(!0===h?(i(7,C=!0),i(8,B=!0),T&&clearTimeout(T),i(22,T=setTimeout((function(){i(6,L=!0),I()}),10))):(i(6,L=!1),T&&clearTimeout(T),i(22,T=setTimeout((function(){i(7,C=!1),i(8,B=!1)}),330))))},[f,g,v,w,c,M,L,C,B,o,function(t){x("show",{show:!0})},function(t){x("show",{show:!1})},P,F,U,function(t){if("INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName){var e=!1;if("function"==typeof window.getComputedStyle){var n=window.getComputedStyle(t.target);"auto"!==n.overflow&&"initial"!==n.overflow&&"scroll"!==n.overflow||(e=!0)}if(!e){var r=o.scrollTop,a=o.scrollHeight,s=r+o.offsetHeight;0===r?(i(9,o.scrollTop=1,o),0===o.scrollTop&&(b=!0)):s===a&&(i(9,o.scrollTop=r-1,o),o.scrollTop===r&&(b=!0))}}},function(t){b&&t.preventDefault()},function(t){b=!1},function(t){h&&(S=o.scrollTop+o.offsetHeight>=o.scrollHeight-50,D[v]=o.scrollTop)},O,u,h,T,function(t){i(0,f=t)},function(t){i(1,g=t)},function(t){return P(t.id)},function(t,e,n){return F(n,t.id,e)},function(t){a.VnY[t?"unshift":"push"]((function(){i(9,o=t)}))},function(t,e,n){return U(n,t.id,e)}]}var nt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,et,tt,a.N8,{theme:4,disableScrolling:20,show:21,showSwitchButton:0,switchButtonPosition:1,activedPluginId:2,pluginList:3},null,[-1,-1]),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"theme",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({theme:t}),(0,a.yl1)()}},{key:"disableScrolling",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({disableScrolling:t}),(0,a.yl1)()}},{key:"show",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"showSwitchButton",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({showSwitchButton:t}),(0,a.yl1)()}},{key:"switchButtonPosition",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({switchButtonPosition:t}),(0,a.yl1)()}},{key:"activedPluginId",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({activedPluginId:t}),(0,a.yl1)()}},{key:"pluginList",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({pluginList:t}),(0,a.yl1)()}}]),n}(a.f_C),it=nt,rt=function(){function n(t,e){void 0===e&&(e="newPlugin"),this.isReady=!1,this.eventMap=new Map,this.exporter=void 0,this._id=void 0,this._name=void 0,this._vConsole=void 0,this.id=t,this.name=e,this.isReady=!1}var i=n.prototype;return i.on=function(t,e){return this.eventMap.set(t,e),this},i.onRemove=function(){this.unbindExporter()},i.trigger=function(t,e){var n=this.eventMap.get(t);if("function"==typeof n)n.call(this,e);else{var i="on"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof this[i]&&this[i].call(this,e)}return this},i.bindExporter=function(){if(this._vConsole&&this.exporter){var t="default"===this.id?"log":this.id;this._vConsole[t]=this.exporter}},i.unbindExporter=function(){var t="default"===this.id?"log":this.id;this._vConsole&&this._vConsole[t]&&(this._vConsole[t]=void 0)},i.getUniqueID=function(t){return void 0===t&&(t=""),(0,e.QI)(t)},(0,t.Z)(n,[{key:"id",get:function(){return this._id},set:function(t){if("string"!=typeof t)throw"[vConsole] Plugin ID must be a string.";if(!t)throw"[vConsole] Plugin ID cannot be empty.";this._id=t.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(t){if("string"!=typeof t)throw"[vConsole] Plugin name must be a string.";if(!t)throw"[vConsole] Plugin name cannot be empty.";this._name=t}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(t){if(!t)throw"[vConsole] vConsole cannot be empty";this._vConsole=t,this.bindExporter()}}]),n}(),ot=function(t){function e(e,n,i,r){var o;return(o=t.call(this,e,n)||this).CompClass=void 0,o.compInstance=void 0,o.initialProps=void 0,o.CompClass=i,o.initialProps=r,o}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){this.isReady=!0},n.onRenderTab=function(t){var e=document.createElement("div"),n=this.compInstance=new this.CompClass({target:e,props:this.initialProps});t(e.firstElementChild,n.options)},n.onRemove=function(){t.prototype.onRemove&&t.prototype.onRemove.call(this),this.compInstance&&this.compInstance.$destroy()},e}(rt),at=__nested_webpack_require_131847__(8665),st=__nested_webpack_require_131847__(9923),lt=__nested_webpack_require_131847__(8702);function ct(t){var e,n;return(e=new lt.Z({props:{name:t[0]?"success":"copy"}})).$on("click",t[1]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};1&n[0]&&(i.name=t[0]?"success":"copy"),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function At(t,n,i){var r=n.content,o=void 0===r?"":r,a=n.handler,s=void 0===a?void 0:a,l={target:document.documentElement},c=!1;return t.$$set=function(t){"content"in t&&i(2,o=t.content),"handler"in t&&i(3,s=t.handler)},[c,function(t){(function(t,e){var n=(void 0===e?{}:e).target,i=void 0===n?document.body:n,r=document.createElement("textarea"),o=document.activeElement;r.value=t,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),i.append(r),r.select(),r.selectionStart=0,r.selectionEnd=t.length;try{document.execCommand("copy")}catch(t){}r.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus()})(e.mf(s)?s(o)||"":e.Kn(o)||e.kJ(o)?e.hZ(o,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}):o,l),i(0,c=!0),setTimeout((function(){i(0,c=!1)}),600)},o,s]}var ut=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,At,ct,a.N8,{content:2,handler:3}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"content",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({content:t}),(0,a.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({handler:t}),(0,a.yl1)()}}]),n}(a.f_C),dt=ut,ht=__nested_webpack_require_131847__(845),pt={};ht.Z&&ht.Z.locals&&(pt.locals=ht.Z.locals);var ft,mt=0,gt={};gt.styleTagTransform=v(),gt.setAttributes=f(),gt.insert=h().bind(null,"head"),gt.domAPI=u(),gt.insertStyleElement=g(),pt.use=function(t){return gt.options=t||{},mt++||(ft=c()(ht.Z,gt)),pt},pt.unuse=function(){mt>0&&! --mt&&(ft(),ft=null)};var yt=pt;function vt(t){var n,i,r,o=e.rE(t[1])+"";return{c:function(){n=(0,a.bGB)("i"),i=(0,a.fLW)(o),r=(0,a.fLW)(":"),(0,a.Ljt)(n,"class","vc-log-key"),(0,a.VHj)(n,"vc-log-key-symbol","symbol"===t[2]),(0,a.VHj)(n,"vc-log-key-private","private"===t[2])},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.R3I)(n,i),(0,a.$Tr)(t,r,e)},p:function(t,r){2&r&&o!==(o=e.rE(t[1])+"")&&(0,a.rTO)(i,o),4&r&&(0,a.VHj)(n,"vc-log-key-symbol","symbol"===t[2]),4&r&&(0,a.VHj)(n,"vc-log-key-private","private"===t[2])},d:function(t){t&&(0,a.ogt)(n),t&&(0,a.ogt)(r)}}}function _t(t){var e,n,i,r,o=void 0!==t[1]&&vt(t);return{c:function(){o&&o.c(),e=(0,a.DhX)(),n=(0,a.bGB)("i"),i=(0,a.fLW)(t[3]),(0,a.Ljt)(n,"class",r="vc-log-val vc-log-val-"+t[4]),(0,a.Ljt)(n,"style",t[0]),(0,a.VHj)(n,"vc-log-val-haskey",void 0!==t[1])},m:function(t,r){o&&o.m(t,r),(0,a.$Tr)(t,e,r),(0,a.$Tr)(t,n,r),(0,a.R3I)(n,i)},p:function(t,s){var l=s[0];void 0!==t[1]?o?o.p(t,l):((o=vt(t)).c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),8&l&&(0,a.rTO)(i,t[3]),16&l&&r!==(r="vc-log-val vc-log-val-"+t[4])&&(0,a.Ljt)(n,"class",r),1&l&&(0,a.Ljt)(n,"style",t[0]),18&l&&(0,a.VHj)(n,"vc-log-val-haskey",void 0!==t[1])},i:a.ZTd,o:a.ZTd,d:function(t){o&&o.d(t),t&&(0,a.ogt)(e),t&&(0,a.ogt)(n)}}}function wt(t,e,n){var i=e.origData,r=e.style,o=void 0===r?"":r,a=e.dataKey,l=void 0===a?void 0:a,c=e.keyType,A=void 0===c?"":c,u="",d="",h=!1;return(0,s.H3)((function(){yt.use()})),(0,s.ev)((function(){yt.unuse()})),t.$$set=function(t){"origData"in t&&n(5,i=t.origData),"style"in t&&n(0,o=t.style),"dataKey"in t&&n(1,l=t.dataKey),"keyType"in t&&n(2,A=t.keyType)},t.$$.update=function(){if(122&t.$$.dirty){n(6,h=void 0!==l);var e=(0,at.LH)(i,h);n(4,d=e.valueType),n(3,u=e.text),h||"string"!==d||n(3,u=u.replace(/\\n/g,"\n").replace(/\\t/g,"    "))}},[o,l,A,u,d,i,h]}var xt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,wt,_t,a.AqN,{origData:5,style:0,dataKey:1,keyType:2}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"origData",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({origData:t}),(0,a.yl1)()}},{key:"style",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({style:t}),(0,a.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({dataKey:t}),(0,a.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({keyType:t}),(0,a.yl1)()}}]),n}(a.f_C),bt=xt,Mt=__nested_webpack_require_131847__(1237),Lt={};Mt.Z&&Mt.Z.locals&&(Lt.locals=Mt.Z.locals);var Ct,Bt=0,St={};St.styleTagTransform=v(),St.setAttributes=f(),St.insert=h().bind(null,"head"),St.domAPI=u(),St.insertStyleElement=g(),Lt.use=function(t){return St.options=t||{},Bt++||(Ct=c()(Mt.Z,St)),Lt},Lt.unuse=function(){Bt>0&&! --Bt&&(Ct(),Ct=null)};var Et=Lt;function Tt(t,e,n){var i=t.slice();return i[19]=e[n],i[21]=n,i}function Dt(t,e,n){var i=t.slice();return i[19]=e[n],i}function It(t,e,n){var i=t.slice();return i[19]=e[n],i[21]=n,i}function Pt(t){for(var e,n,i,r,o,s,l,c=[],A=new Map,u=[],d=new Map,h=[],p=new Map,f=t[7],m=function(t){return t[19]},g=0;g<f.length;g+=1){var y=It(t,f,g),v=m(y);A.set(v,c[g]=Ft(v,y))}for(var _=t[11]<t[7].length&&Ut(t),w=t[9],x=function(t){return t[19]},b=0;b<w.length;b+=1){var M=Dt(t,w,b),L=x(M);d.set(L,u[b]=Rt(L,M))}for(var C=t[8],B=function(t){return t[19]},S=0;S<C.length;S+=1){var E=Tt(t,C,S),T=B(E);p.set(T,h[S]=Ht(T,E))}var D=t[12]<t[8].length&&Yt(t),I=t[10]&&Qt(t);return{c:function(){e=(0,a.bGB)("div");for(var t=0;t<c.length;t+=1)c[t].c();n=(0,a.DhX)(),_&&_.c(),i=(0,a.DhX)();for(var l=0;l<u.length;l+=1)u[l].c();r=(0,a.DhX)();for(var A=0;A<h.length;A+=1)h[A].c();o=(0,a.DhX)(),D&&D.c(),s=(0,a.DhX)(),I&&I.c(),(0,a.Ljt)(e,"class","vc-log-tree-child")},m:function(t,A){(0,a.$Tr)(t,e,A);for(var d=0;d<c.length;d+=1)c[d].m(e,null);(0,a.R3I)(e,n),_&&_.m(e,null),(0,a.R3I)(e,i);for(var p=0;p<u.length;p+=1)u[p].m(e,null);(0,a.R3I)(e,r);for(var f=0;f<h.length;f+=1)h[f].m(e,null);(0,a.R3I)(e,o),D&&D.m(e,null),(0,a.R3I)(e,s),I&&I.m(e,null),l=!0},p:function(t,l){67721&l&&(f=t[7],(0,a.dvw)(),c=(0,a.GQg)(c,l,m,1,t,f,A,e,a.cly,Ft,n,It),(0,a.gbL)()),t[11]<t[7].length?_?_.p(t,l):((_=Ut(t)).c(),_.m(e,i)):_&&(_.d(1),_=null),66057&l&&(w=t[9],(0,a.dvw)(),u=(0,a.GQg)(u,l,x,1,t,w,d,e,a.cly,Rt,r,Dt),(0,a.gbL)()),69897&l&&(C=t[8],(0,a.dvw)(),h=(0,a.GQg)(h,l,B,1,t,C,p,e,a.cly,Ht,o,Tt),(0,a.gbL)()),t[12]<t[8].length?D?D.p(t,l):((D=Yt(t)).c(),D.m(e,s)):D&&(D.d(1),D=null),t[10]?I?(I.p(t,l),1024&l&&(0,a.Ui)(I,1)):((I=Qt(t)).c(),(0,a.Ui)(I,1),I.m(e,null)):I&&((0,a.dvw)(),(0,a.etI)(I,1,1,(function(){I=null})),(0,a.gbL)())},i:function(t){if(!l){for(var e=0;e<f.length;e+=1)(0,a.Ui)(c[e]);for(var n=0;n<w.length;n+=1)(0,a.Ui)(u[n]);for(var i=0;i<C.length;i+=1)(0,a.Ui)(h[i]);(0,a.Ui)(I),l=!0}},o:function(t){for(var e=0;e<c.length;e+=1)(0,a.etI)(c[e]);for(var n=0;n<u.length;n+=1)(0,a.etI)(u[n]);for(var i=0;i<h.length;i+=1)(0,a.etI)(h[i]);(0,a.etI)(I),l=!1},d:function(t){t&&(0,a.ogt)(e);for(var n=0;n<c.length;n+=1)c[n].d();_&&_.d();for(var i=0;i<u.length;i+=1)u[i].d();for(var r=0;r<h.length;r+=1)h[r].d();D&&D.d(),I&&I.d()}}}function kt(t){var e,n;return e=new Wt({props:{origData:t[16](t[19]),dataKey:t[19],keyPath:t[3]+"."+t[19],toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};128&n&&(i.origData=t[16](t[19])),128&n&&(i.dataKey=t[19]),136&n&&(i.keyPath=t[3]+"."+t[19]),1&n&&(i.toggle=t[0]),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function Ft(t,e){var n,i,r,o=e[21]<e[11]&&kt(e);return{key:t,first:null,c:function(){n=(0,a.cSb)(),o&&o.c(),i=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),o&&o.m(t,e),(0,a.$Tr)(t,i,e),r=!0},p:function(t,n){(e=t)[21]<e[11]?o?(o.p(e,n),2176&n&&(0,a.Ui)(o,1)):((o=kt(e)).c(),(0,a.Ui)(o,1),o.m(i.parentNode,i)):o&&((0,a.dvw)(),(0,a.etI)(o,1,1,(function(){o=null})),(0,a.gbL)())},i:function(t){r||((0,a.Ui)(o),r=!0)},o:function(t){(0,a.etI)(o),r=!1},d:function(t){t&&(0,a.ogt)(n),o&&o.d(t),t&&(0,a.ogt)(i)}}}function Ut(t){var e,n,i,r,o=t[14](t[7].length-t[11])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(o),(0,a.Ljt)(e,"class","vc-log-tree-loadmore")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),i||(r=(0,a.oLt)(e,"click",t[17]),i=!0)},p:function(t,e){2176&e&&o!==(o=t[14](t[7].length-t[11])+"")&&(0,a.rTO)(n,o)},d:function(t){t&&(0,a.ogt)(e),i=!1,r()}}}function Rt(t,e){var n,i,r;return i=new Wt({props:{origData:e[16](e[19]),dataKey:String(e[19]),keyType:"symbol",keyPath:e[3]+"["+String(e[19])+"]",toggle:e[0]}}),{key:t,first:null,c:function(){n=(0,a.cSb)(),(0,a.YCL)(i.$$.fragment),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.yef)(i,t,e),r=!0},p:function(t,n){e=t;var r={};512&n&&(r.origData=e[16](e[19])),512&n&&(r.dataKey=String(e[19])),520&n&&(r.keyPath=e[3]+"["+String(e[19])+"]"),1&n&&(r.toggle=e[0]),i.$set(r)},i:function(t){r||((0,a.Ui)(i.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(i.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(n),(0,a.vpE)(i,t)}}}function Ot(t){var e,n;return e=new Wt({props:{origData:t[16](t[19]),dataKey:t[19],keyType:"private",keyPath:t[3]+"."+t[19],toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};256&n&&(i.origData=t[16](t[19])),256&n&&(i.dataKey=t[19]),264&n&&(i.keyPath=t[3]+"."+t[19]),1&n&&(i.toggle=t[0]),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function Ht(t,e){var n,i,r,o=e[21]<e[12]&&Ot(e);return{key:t,first:null,c:function(){n=(0,a.cSb)(),o&&o.c(),i=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),o&&o.m(t,e),(0,a.$Tr)(t,i,e),r=!0},p:function(t,n){(e=t)[21]<e[12]?o?(o.p(e,n),4352&n&&(0,a.Ui)(o,1)):((o=Ot(e)).c(),(0,a.Ui)(o,1),o.m(i.parentNode,i)):o&&((0,a.dvw)(),(0,a.etI)(o,1,1,(function(){o=null})),(0,a.gbL)())},i:function(t){r||((0,a.Ui)(o),r=!0)},o:function(t){(0,a.etI)(o),r=!1},d:function(t){t&&(0,a.ogt)(n),o&&o.d(t),t&&(0,a.ogt)(i)}}}function Yt(t){var e,n,i,r,o=t[14](t[8].length-t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(o),(0,a.Ljt)(e,"class","vc-log-tree-loadmore")},m:function(o,s){(0,a.$Tr)(o,e,s),(0,a.R3I)(e,n),i||(r=(0,a.oLt)(e,"click",t[18]),i=!0)},p:function(t,e){4352&e&&o!==(o=t[14](t[8].length-t[12])+"")&&(0,a.rTO)(n,o)},d:function(t){t&&(0,a.ogt)(e),i=!1,r()}}}function Qt(t){var e,n;return e=new Wt({props:{origData:t[16]("__proto__"),dataKey:"__proto__",keyType:"private",keyPath:t[3]+".__proto__",toggle:t[0]}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};8&n&&(i.keyPath=t[3]+".__proto__"),1&n&&(i.toggle=t[0]),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function jt(t){var e,n,i,r,o,s,l;i=new bt({props:{origData:t[1],dataKey:t[2],keyType:t[4]}});var c=t[6]&&t[5]&&Pt(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.YCL)(i.$$.fragment),r=(0,a.DhX)(),c&&c.c(),(0,a.Ljt)(n,"class","vc-log-tree-node"),(0,a.Ljt)(e,"class","vc-log-tree"),(0,a.Ljt)(e,"data-keypath",t[3]),(0,a.VHj)(e,"vc-toggle",t[5]),(0,a.VHj)(e,"vc-is-tree",t[6])},m:function(A,u){(0,a.$Tr)(A,e,u),(0,a.R3I)(e,n),(0,a.yef)(i,n,null),(0,a.R3I)(e,r),c&&c.m(e,null),o=!0,s||(l=(0,a.oLt)(n,"click",(0,a.XET)(t[15])),s=!0)},p:function(t,n){var r=n[0],s={};2&r&&(s.origData=t[1]),4&r&&(s.dataKey=t[2]),16&r&&(s.keyType=t[4]),i.$set(s),t[6]&&t[5]?c?(c.p(t,r),96&r&&(0,a.Ui)(c,1)):((c=Pt(t)).c(),(0,a.Ui)(c,1),c.m(e,null)):c&&((0,a.dvw)(),(0,a.etI)(c,1,1,(function(){c=null})),(0,a.gbL)()),(!o||8&r)&&(0,a.Ljt)(e,"data-keypath",t[3]),32&r&&(0,a.VHj)(e,"vc-toggle",t[5]),64&r&&(0,a.VHj)(e,"vc-is-tree",t[6])},i:function(t){o||((0,a.Ui)(i.$$.fragment,t),(0,a.Ui)(c),o=!0)},o:function(t){(0,a.etI)(i.$$.fragment,t),(0,a.etI)(c),o=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(i),c&&c.d(),s=!1,l()}}}function Nt(t,n,i){var r,o,a,l=n.origData,c=n.dataKey,A=void 0===c?void 0:c,u=n.keyPath,d=void 0===u?"":u,h=n.keyType,p=void 0===h?"":h,f=n.toggle,m=void 0===f?{}:f,g=!1,y=!1,v=!1,_=50,w=50;(0,s.H3)((function(){Et.use()})),(0,s.ev)((function(){Et.unuse()}));var x=function(t){"enum"===t?i(11,_+=50):"nonEnum"===t&&i(12,w+=50)};return t.$$set=function(t){"origData"in t&&i(1,l=t.origData),"dataKey"in t&&i(2,A=t.dataKey),"keyPath"in t&&i(3,d=t.keyPath),"keyType"in t&&i(4,p=t.keyType),"toggle"in t&&i(0,m=t.toggle)},t.$$.update=function(){1003&t.$$.dirty&&(i(5,g=m[d]||!1),i(6,y=!(l instanceof at.Tg)&&(e.kJ(l)||e.Kn(l))),y&&g&&(i(7,r=r||e.qr(e.MH(l))),i(8,o=o||e.qr(e.QK(l))),i(9,a=a||e._D(l)),i(10,v=e.Kn(l)&&-1===o.indexOf("__proto__"))))},[m,l,A,d,p,g,y,r,o,a,v,_,w,x,function(t){return"(..."+t+" Key"+(t>1?"s":"")+" Left)"},function(){i(5,g=!g),i(0,m[d]=g,m)},function(t){try{return l[t]}catch(t){return new at.Tg}},function(){return x("enum")},function(){return x("nonEnum")}]}var Wt=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,Nt,jt,a.AqN,{origData:1,dataKey:2,keyPath:3,keyType:4,toggle:0}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"origData",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({origData:t}),(0,a.yl1)()}},{key:"dataKey",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({dataKey:t}),(0,a.yl1)()}},{key:"keyPath",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({keyPath:t}),(0,a.yl1)()}},{key:"keyType",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({keyType:t}),(0,a.yl1)()}},{key:"toggle",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({toggle:t}),(0,a.yl1)()}}]),n}(a.f_C),Vt=Wt,zt=__nested_webpack_require_131847__(7147),Gt={};zt.Z&&zt.Z.locals&&(Gt.locals=zt.Z.locals);var Kt,Zt=0,Xt={};Xt.styleTagTransform=v(),Xt.setAttributes=f(),Xt.insert=h().bind(null,"head"),Xt.domAPI=u(),Xt.insertStyleElement=g(),Gt.use=function(t){return Xt.options=t||{},Zt++||(Kt=c()(zt.Z,Xt)),Gt},Gt.unuse=function(){Zt>0&&! --Zt&&(Kt(),Kt=null)};var qt=Gt;function Jt(t,e,n){var i=t.slice();return i[9]=e[n],i[11]=n,i}function $t(t,e,n){var i=t.slice();return i[12]=e[n],i}function te(t){for(var e,n,i,r,o,s,l,c,A,u,d,h,p,f=[],m=new Map,g=t[0].groupLevel&&ee(t),y=t[2]>0&&ie(),v=t[1]&&re(t),_=t[0].repeated&&oe(t),w=t[0].data,x=function(t){return t[11]},b=0;b<w.length;b+=1){var M=Jt(t,w,b),L=x(M);m.set(L,f[b]=le(L,M))}return A=new dt({props:{handler:t[6]}}),{c:function(){e=(0,a.bGB)("div"),g&&g.c(),n=(0,a.DhX)(),y&&y.c(),i=(0,a.DhX)(),v&&v.c(),r=(0,a.DhX)(),_&&_.c(),o=(0,a.DhX)(),s=(0,a.bGB)("div");for(var d=0;d<f.length;d+=1)f[d].c();l=(0,a.DhX)(),c=(0,a.bGB)("div"),(0,a.YCL)(A.$$.fragment),(0,a.Ljt)(s,"class","vc-log-content"),(0,a.Ljt)(c,"class","vc-logrow-icon"),(0,a.Ljt)(e,"class",u="vc-log-row vc-log-"+t[0].type),(0,a.VHj)(e,"vc-log-input","input"===t[0].cmdType),(0,a.VHj)(e,"vc-log-output","output"===t[0].cmdType),(0,a.VHj)(e,"vc-log-group",t[2]>0),(0,a.VHj)(e,"vc-toggle",1===t[2])},m:function(u,m){(0,a.$Tr)(u,e,m),g&&g.m(e,null),(0,a.R3I)(e,n),y&&y.m(e,null),(0,a.R3I)(e,i),v&&v.m(e,null),(0,a.R3I)(e,r),_&&_.m(e,null),(0,a.R3I)(e,o),(0,a.R3I)(e,s);for(var w=0;w<f.length;w+=1)f[w].m(s,null);(0,a.R3I)(e,l),(0,a.R3I)(e,c),(0,a.yef)(A,c,null),d=!0,h||(p=(0,a.oLt)(e,"click",t[5]),h=!0)},p:function(t,l){t[0].groupLevel?g?g.p(t,l):((g=ee(t)).c(),g.m(e,n)):g&&(g.d(1),g=null),t[2]>0?y||((y=ie()).c(),y.m(e,i)):y&&(y.d(1),y=null),t[1]?v?v.p(t,l):((v=re(t)).c(),v.m(e,r)):v&&(v.d(1),v=null),t[0].repeated?_?_.p(t,l):((_=oe(t)).c(),_.m(e,o)):_&&(_.d(1),_=null),17&l&&(w=t[0].data,(0,a.dvw)(),f=(0,a.GQg)(f,l,x,1,t,w,m,s,a.cly,le,null,Jt),(0,a.gbL)()),(!d||1&l&&u!==(u="vc-log-row vc-log-"+t[0].type))&&(0,a.Ljt)(e,"class",u),1&l&&(0,a.VHj)(e,"vc-log-input","input"===t[0].cmdType),1&l&&(0,a.VHj)(e,"vc-log-output","output"===t[0].cmdType),5&l&&(0,a.VHj)(e,"vc-log-group",t[2]>0),5&l&&(0,a.VHj)(e,"vc-toggle",1===t[2])},i:function(t){if(!d){for(var e=0;e<w.length;e+=1)(0,a.Ui)(f[e]);(0,a.Ui)(A.$$.fragment,t),d=!0}},o:function(t){for(var e=0;e<f.length;e+=1)(0,a.etI)(f[e]);(0,a.etI)(A.$$.fragment,t),d=!1},d:function(t){t&&(0,a.ogt)(e),g&&g.d(),y&&y.d(),v&&v.d(),_&&_.d();for(var n=0;n<f.length;n+=1)f[n].d();(0,a.vpE)(A),h=!1,p()}}}function ee(t){for(var e,n=new Array(t[0].groupLevel),i=[],r=0;r<n.length;r+=1)i[r]=ne($t(t,n,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,n){for(var r=0;r<i.length;r+=1)i[r].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,r){if(1&r){var o;for(n=new Array(t[0].groupLevel),o=0;o<n.length;o+=1){var a=$t(t,n,o);i[o]?i[o].p(a,r):(i[o]=ne(),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d:function(t){(0,a.RMB)(i,t),t&&(0,a.ogt)(e)}}}function ne(t){var e;return{c:function(){e=(0,a.bGB)("i"),(0,a.Ljt)(e,"class","vc-log-padding")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function ie(t){var e;return{c:function(){e=(0,a.bGB)("div"),(0,a.Ljt)(e,"class","vc-log-group-toggle")},m:function(t,n){(0,a.$Tr)(t,e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function re(t){var e,n;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(t[3]),(0,a.Ljt)(e,"class","vc-log-time")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},p:function(t,e){8&e&&(0,a.rTO)(n,t[3])},d:function(t){t&&(0,a.ogt)(e)}}}function oe(t){var e,n,i,r=t[0].repeated+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("i"),i=(0,a.fLW)(r),(0,a.Ljt)(e,"class","vc-log-repeat")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),(0,a.R3I)(n,i)},p:function(t,e){1&e&&r!==(r=t[0].repeated+"")&&(0,a.rTO)(i,r)},d:function(t){t&&(0,a.ogt)(e)}}}function ae(t){var e,n;return e=new bt({props:{origData:t[9].origData,style:t[9].style}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};1&n&&(i.origData=t[9].origData),1&n&&(i.style=t[9].style),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function se(t){var e,n;return e=new Vt({props:{origData:t[9].origData,keyPath:String(t[11]),toggle:t[0].toggle}}),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};1&n&&(i.origData=t[9].origData),1&n&&(i.keyPath=String(t[11])),1&n&&(i.toggle=t[0].toggle),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function le(t,e){var n,i,r,o,s,l,c=[se,ae],A=[];function u(t,e){return 1&e&&(i=null),null==i&&(i=!!t[4](t[9].origData)),i?0:1}return r=u(e,-1),o=A[r]=c[r](e),{key:t,first:null,c:function(){n=(0,a.cSb)(),o.c(),s=(0,a.cSb)(),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),A[r].m(t,e),(0,a.$Tr)(t,s,e),l=!0},p:function(t,n){var i=r;(r=u(e=t,n))===i?A[r].p(e,n):((0,a.dvw)(),(0,a.etI)(A[i],1,1,(function(){A[i]=null})),(0,a.gbL)(),(o=A[r])?o.p(e,n):(o=A[r]=c[r](e)).c(),(0,a.Ui)(o,1),o.m(s.parentNode,s))},i:function(t){l||((0,a.Ui)(o),l=!0)},o:function(t){(0,a.etI)(o),l=!1},d:function(t){t&&(0,a.ogt)(n),A[r].d(t),t&&(0,a.ogt)(s)}}}function ce(t){var e,n,i=t[0]&&te(t);return{c:function(){i&&i.c(),e=(0,a.cSb)()},m:function(t,r){i&&i.m(t,r),(0,a.$Tr)(t,e,r),n=!0},p:function(t,n){var r=n[0];t[0]?i?(i.p(t,r),1&r&&(0,a.Ui)(i,1)):((i=te(t)).c(),(0,a.Ui)(i,1),i.m(e.parentNode,e)):i&&((0,a.dvw)(),(0,a.etI)(i,1,1,(function(){i=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(i),n=!0)},o:function(t){(0,a.etI)(i),n=!1},d:function(t){i&&i.d(t),t&&(0,a.ogt)(e)}}}function Ae(t,n,i){var r=n.log,o=n.showTimestamps,a=void 0!==o&&o,l=n.groupHeader,c=void 0===l?0:l,A=(0,s.x)(),u="",d=function(t,e){var n="000"+t;return n.substring(n.length-e)};return(0,s.H3)((function(){qt.use()})),(0,s.ev)((function(){qt.unuse()})),t.$$set=function(t){"log"in t&&i(0,r=t.log),"showTimestamps"in t&&i(1,a=t.showTimestamps),"groupHeader"in t&&i(2,c=t.groupHeader)},t.$$.update=function(){if(3&t.$$.dirty&&a){var e=new Date(r.date);i(3,u=d(e.getHours(),2)+":"+d(e.getMinutes(),2)+":"+d(e.getSeconds(),2)+":"+d(e.getMilliseconds(),3))}},[r,a,c,u,function(t){return!(t instanceof at.Tg)&&(e.kJ(t)||e.Kn(t))},function(){c>0&&A("groupCollapsed",{groupLabel:r.groupLabel,groupHeader:1===c?2:1,isGroupCollapsed:1===c})},function(){var t=[];try{for(var n=0;n<r.data.length;n++)e.HD(r.data[n].origData)||e.hj(r.data[n].origData)?t.push(r.data[n].origData):t.push(e.hZ(r.data[n].origData,{maxDepth:10,keyMaxLen:1e4,pretty:!1,standardJSON:!0}))}catch(t){}return t.join(" ")}]}var ue=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,Ae,ce,a.AqN,{log:0,showTimestamps:1,groupHeader:2}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"log",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({log:t}),(0,a.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({showTimestamps:t}),(0,a.yl1)()}},{key:"groupHeader",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({groupHeader:t}),(0,a.yl1)()}}]),n}(a.f_C),de=ue,he=__nested_webpack_require_131847__(3903),pe=__nested_webpack_require_131847__(3327),fe={};pe.Z&&pe.Z.locals&&(fe.locals=pe.Z.locals);var me,ge=0,ye={};ye.styleTagTransform=v(),ye.setAttributes=f(),ye.insert=h().bind(null,"head"),ye.domAPI=u(),ye.insertStyleElement=g(),fe.use=function(t){return ye.options=t||{},ge++||(me=c()(pe.Z,ye)),fe},fe.unuse=function(){ge>0&&! --ge&&(me(),me=null)};var ve=fe,_e=__nested_webpack_require_131847__(4264),we=__nested_webpack_require_131847__.n(_e),xe=function(){function t(t){console.debug("[vConsole] `ResizeObserver` is not supported in the browser, vConsole cannot render correctly."),t([{contentRect:{height:30}}],this)}var e=t.prototype;return e.disconnect=function(){},e.observe=function(t,e){},e.unobserve=function(t){},t}(),be=function(){return"function"==typeof window.ResizeObserver},Me=function(){return window.ResizeObserver||xe};function Le(t){var e,n,i=t[6].default,r=(0,a.nuO)(i,t,t[5],null);return{c:function(){e=(0,a.bGB)("div"),r&&r.c(),(0,a.Ljt)(e,"class","vc-scroller-item"),(0,a.czc)(e,"display",t[0]?"block":"none",!1),(0,a.czc)(e,"top",t[3]?t[1]+"px":"auto",!1)},m:function(i,o){(0,a.$Tr)(i,e,o),r&&r.m(e,null),t[7](e),n=!0},p:function(t,o){var s=o[0];r&&r.p&&(!n||32&s)&&(0,a.kmG)(r,i,t,t[5],n?(0,a.u2N)(i,t[5],s,null):(0,a.VOJ)(t[5]),null),1&s&&(0,a.czc)(e,"display",t[0]?"block":"none",!1),2&s&&(0,a.czc)(e,"top",t[3]?t[1]+"px":"auto",!1)},i:function(t){n||((0,a.Ui)(r,t),n=!0)},o:function(t){(0,a.etI)(r,t),n=!1},d:function(n){n&&(0,a.ogt)(e),r&&r.d(n),t[7](null)}}}function Ce(t,e,n){var i,r=e.$$slots,o=void 0===r?{}:r,l=e.$$scope,c=e.show,A=void 0===c?!be():c,u=e.top,d=e.onResize,h=void 0===d?function(){}:d,p=null,f=be();return(0,s.H3)((function(){if(A&&h(i.getBoundingClientRect().height),f){var t=Me();(p=new t((function(t){var e=t[0];A&&h(e.contentRect.height)}))).observe(i)}})),(0,s.ev)((function(){f&&p.disconnect()})),t.$$set=function(t){"show"in t&&n(0,A=t.show),"top"in t&&n(1,u=t.top),"onResize"in t&&n(4,h=t.onResize),"$$scope"in t&&n(5,l=t.$$scope)},[A,u,i,f,h,l,o,function(t){a.VnY[t?"unshift":"push"]((function(){n(2,i=t)}))}]}var Be=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,Ce,Le,a.N8,{show:0,top:1,onResize:4}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"show",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({show:t}),(0,a.yl1)()}},{key:"top",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({top:t}),(0,a.yl1)()}},{key:"onResize",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({onResize:t}),(0,a.yl1)()}}]),n}(a.f_C),Se=Be,Ee=function(){function t(){this._x=0,this._endX=0,this._v=0,this._startTime=0,this._endTime=0}var e=t.prototype;return e.set=function(t,e,n,i){this._x=t,this._endX=e,this._v=(e-t)/n,this._startTime=i||Date.now(),this._endTime=this._startTime+n},e.x=function(t){if(this.done(t))return this._endX;var e=t-this._startTime;return this._x+this._v*e},e.dx=function(t){return this.done(t)?0:this._v},e.done=function(t){return t>=this._endTime},t}(),Te=function(){function t(t){this._drag=void 0,this._dragLog=void 0,this._x=0,this._v=0,this._startTime=0,this._drag=t,this._dragLog=Math.log(t)}var e=t.prototype;return e.set=function(t,e,n){this._x=t,this._v=e,this._startTime=n||Date.now()},e.x=function(t){var e=(t-this._startTime)/1e3;return this._x+this._v*Math.pow(this._drag,e)/this._dragLog-this._v/this._dragLog},e.dx=function(t){var e=(t-this._startTime)/1e3;return this._v*Math.pow(this._drag,e)},e.done=function(t){return Math.abs(this.dx(t))<3},t}(),De=function(t,e){return t>e-.1&&t<e+.1},Ie=function(t){return De(t,0)},Pe=function(){function t(t,e,n){this._solver=void 0,this._solution=void 0,this._endPosition=void 0,this._startTime=void 0,this._solver=function(t,e,n){var i=n,r=t,o=e,a=i*i-4*r*o;if(0==a){var s=-i/(2*r);return function(t,e){var n=t,i=e/(s*t);return{x:function(t){return(n+i*t)*Math.pow(Math.E,s*t)},dx:function(t){return(s*(n+i*t)+i)*Math.pow(Math.E,s*t)}}}}if(a>0){var l=(-i-Math.sqrt(a))/(2*r),c=(-i+Math.sqrt(a))/(2*r);return function(t,e){var n=(e-l*t)/(c-l),i=t-n;return{x:function(t){return i*Math.pow(Math.E,l*t)+n*Math.pow(Math.E,c*t)},dx:function(t){return i*l*Math.pow(Math.E,l*t)+n*c*Math.pow(Math.E,c*t)}}}}var A=Math.sqrt(4*r*o-i*i)/(2*r),u=-i/2*r;return function(t,e){var n=t,i=(e-u*t)/A;return{x:function(t){return Math.pow(Math.E,u*t)*(n*Math.cos(A*t)+i*Math.sin(A*t))},dx:function(t){var e=Math.pow(Math.E,u*t),r=Math.cos(A*t),o=Math.sin(A*t);return e*(i*A*r-n*A*o)+u*e*(i*o+n*r)}}}}(t,e,n),this._solution=null,this._endPosition=0,this._startTime=0}var e=t.prototype;return e.x=function(t){if(!this._solution)return 0;var e=(t-this._startTime)/1e3;return this._endPosition+this._solution.x(e)},e.dx=function(t){if(!this._solution)return 0;var e=(t-this._startTime)/1e3;return this._solution.dx(e)},e.set=function(t,e,n,i){i||(i=Date.now()),this._endPosition=t,e==t&&Ie(n)||(this._solution=this._solver(e-t,n),this._startTime=i)},e.done=function(t){return t||(t=Date.now()),De(this.x(t),this._endPosition)&&Ie(this.dx(t))},t}(),ke=function(){function t(t,e){this._enableSpring=e,this._getExtend=void 0,this._friction=new Te(.05),this._spring=new Pe(1,90,20),this._toEdge=!1,this._getExtend=t}var e=t.prototype;return e.set=function(t,e,n){if(void 0===n&&(n=Date.now()),this._friction.set(t,e,n),t>0&&e>=0)this._toEdge=!0,this._enableSpring&&this._spring.set(0,t,e,n);else{var i=this._getExtend();t<-i&&e<=0?(this._toEdge=!0,this._enableSpring&&this._spring.set(-i,t,e,n)):this._toEdge=!1}},e.x=function(t){if(this._enableSpring&&this._toEdge)return this._spring.x(t);var e=this._friction.x(t),n=this._friction.dx(t);if(e>0&&n>=0){if(this._toEdge=!0,!this._enableSpring)return 0;this._spring.set(0,e,n,t)}else{var i=this._getExtend();if(e<-i&&n<=0){if(this._toEdge=!0,!this._enableSpring)return-i;this._spring.set(-i,e,n,t)}}return e},e.dx=function(t){return this._toEdge?this._enableSpring?this._spring.dx(t):0:this._friction.dx(t)},e.done=function(t){return this._toEdge?!this._enableSpring||this._spring.done(t):this._friction.done(t)},t}();function Fe(t,e){var n,i;return function r(){if(!i){var o=Date.now();e(o),t.done(o)||(n=requestAnimationFrame(r))}}(),{cancel:function(){cancelAnimationFrame(n),i=!0}}}var Ue=function(){function t(t,e){this._updatePosition=e,this._scrollModel=void 0,this._linearModel=void 0,this._startPosition=0,this._position=0,this._animate=null,this._getExtent=void 0,this._getExtent=t,this._scrollModel=new ke(t,!1),this._linearModel=new Ee}var e=t.prototype;return e.onTouchStart=function(){var t=this._position;if(t>0)t*=0;else{var e=this._getExtent();t<-e&&(t=0*(t+e)-e)}this._startPosition=this._position=t,this._animate&&(this._animate.cancel(),this._animate=null),this._updatePosition(-t)},e.onTouchMove=function(t,e){var n=e+this._startPosition;if(n>0)n*=0;else{var i=this._getExtent();n<-i&&(n=0*(n+i)-i)}this._position=n,this._updatePosition(-n)},e.onTouchEnd=function(t,e,n,i){var r=this,o=e+this._startPosition;if(o>0)o*=0;else{var a=this._getExtent();o<-a&&(o=0*(o+a)-a)}if(this._position=o,this._updatePosition(-o),!(Math.abs(e)<=.1&&Math.abs(i)<=.1)){var s=this._scrollModel;s.set(o,i),this._animate=Fe(s,(function(t){var e=r._position=s.x(t);r._updatePosition(-e)}))}},e.onTouchCancel=function(){var t=this,e=this._position;if(e>0)e*=0;else{var n=this._getExtent();e<-n&&(e=0*(e+n)-n)}this._position=e;var i=this._scrollModel;i.set(e,0),this._animate=Fe(i,(function(e){var n=t._position=i.x(e);t._updatePosition(-n)}))},e.onWheel=function(t,e){var n=this._position-e;if(this._animate&&(this._animate.cancel(),this._animate=null),n>0)n=0;else{var i=this._getExtent();n<-i&&(n=-i)}this._position=n,this._updatePosition(-n)},e.getPosition=function(){return-this._position},e.updatePosition=function(t){var e=-t-this._position;this._startPosition+=e,this._position+=e;var n=this._position;this._updatePosition(-n);var i=this._scrollModel,r=Date.now();if(!i.done(r)){var o=i.dx(r);i.set(n,o,r)}},e.scrollTo=function(t,e){var n=this;if(this._animate&&(this._animate.cancel(),this._animate=null),e>0){var i=this._linearModel;i.set(this._position,-t,e),this._animate=Fe(this._linearModel,(function(t){var e=n._position=i.x(t);n._updatePosition(-e)}))}else this._updatePosition(t)},t}();function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Oe=function(t){var e=null,n=!1,i=function i(){n=!1,t(),e=requestAnimationFrame((function(){e=null,n&&i()}))};return{trigger:function(){null===e?i():n=!0},cancel:function(){e&&(cancelAnimationFrame(e),n=!1,e=null)}}},He=function(){function t(t){var e=this;this._handler=t,this._touchId=null,this._startX=0,this._startY=0,this._historyX=[],this._historyY=[],this._historyTime=[],this._wheelDeltaX=0,this._wheelDeltaY=0,this._onTouchMove=function(){var t=e._historyX[e._historyX.length-1],n=e._historyY[e._historyY.length-1];e._handler.onTouchMove(t,n)},this._onWheel=Oe((function(){var t=e._wheelDeltaX,n=e._wheelDeltaY;e._wheelDeltaX=0,e._wheelDeltaY=0,e._handler.onWheel(t,n)})),this.handleTouchStart=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var i=t.touches[0];e._touchId=i.identifier,e._startX=i.pageX,e._startY=i.pageY,e._historyX=[0],e._historyY=[0],e._historyTime=[Date.now()],e._handler.onTouchStart()}},this.handleTouchMove=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var i=e._getTouchDelta(t);null!==i&&(e._historyX.push(i.x),e._historyY.push(i.y),e._historyTime.push(Date.now()),e._onTouchMove())}},this.handleTouchEnd=function(t){var n;if("1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)){t.preventDefault();var i=e._getTouchDelta(t);if(null!==i){for(var r=0,o=0,a=Date.now(),s=i.y,l=i.x,c=e._historyTime,A=c.length-1;A>0;A-=1){var u=a-c[A];if(u>30){r=1e3*(l-e._historyX[A])/u,o=1e3*(s-e._historyY[A])/u;break}}e._touchId=null,e._handler.onTouchEnd(i.x,i.y,r,o)}}},this.handleTouchCancel=function(t){var n;"1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)&&(t.preventDefault(),null!==e._getTouchDelta(t)&&(e._touchId=null,e._handler.onTouchCancel()))},this.handleWheel=function(t){var n;"1"!==(null==(n=t.target.dataset)?void 0:n.scrollable)&&(t.preventDefault(),e._wheelDeltaX+=t.deltaX,e._wheelDeltaY+=t.deltaY,e._onWheel.trigger())}}return t.prototype._getTouchDelta=function(t){if(null===this._touchId)return null;for(var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.changedTouches);!(e=n()).done;){var i=e.value;if(i.identifier===this._touchId)return{x:i.pageX-this._startX,y:i.pageY-this._startY}}return null},t}(),Ye=__nested_webpack_require_131847__(1142),Qe={};Ye.Z&&Ye.Z.locals&&(Qe.locals=Ye.Z.locals);var je,Ne=0,We={};We.styleTagTransform=v(),We.setAttributes=f(),We.insert=h().bind(null,"head"),We.domAPI=u(),We.insertStyleElement=g(),Qe.use=function(t){return We.options=t||{},Ne++||(je=c()(Ye.Z,We)),Qe},Qe.unuse=function(){Ne>0&&! --Ne&&(je(),je=null)};var Ve=Qe,ze=a.lig.Map,Ge=function(t){return{}},Ke=function(t){return{}},Ze=function(t){return{}},Xe=function(t){return{}};function qe(t,e,n){var i=t.slice();return i[53]=e[n],i[55]=n,i}var Je=function(t){return{item:1025&t[0]}},$e=function(t){return{item:t[0][t[53].index]}},tn=function(t){return{}},en=function(t){return{}};function nn(t){var e,n,i=t[24].header,r=(0,a.nuO)(i,t,t[31],en);return{c:function(){e=(0,a.bGB)("div"),r&&r.c(),(0,a.Ljt)(e,"class","vc-scroller-header")},m:function(i,o){(0,a.$Tr)(i,e,o),r&&r.m(e,null),t[25](e),n=!0},p:function(t,e){r&&r.p&&(!n||1&e[1])&&(0,a.kmG)(r,i,t,t[31],n?(0,a.u2N)(i,t[31],e,tn):(0,a.VOJ)(t[31]),en)},i:function(t){n||((0,a.Ui)(r,t),n=!0)},o:function(t){(0,a.etI)(r,t),n=!1},d:function(n){n&&(0,a.ogt)(e),r&&r.d(n),t[25](null)}}}function rn(t){var e,n=t[24].empty,i=(0,a.nuO)(n,t,t[31],Xe);return{c:function(){i&&i.c()},m:function(t,n){i&&i.m(t,n),e=!0},p:function(t,r){i&&i.p&&(!e||1&r[1])&&(0,a.kmG)(i,n,t,t[31],e?(0,a.u2N)(n,t[31],r,Ze):(0,a.VOJ)(t[31]),Xe)},i:function(t){e||((0,a.Ui)(i,t),e=!0)},o:function(t){(0,a.etI)(i,t),e=!1},d:function(t){i&&i.d(t)}}}function on(t){for(var e,n,i=[],r=new ze,o=t[10],s=function(t){return t[53].key},l=0;l<o.length;l+=1){var c=qe(t,o,l),A=s(c);r.set(A,i[l]=sn(A,c))}return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,r){for(var o=0;o<i.length;o+=1)i[o].m(t,r);(0,a.$Tr)(t,e,r),n=!0},p:function(t,n){17921&n[0]|1&n[1]&&(o=t[10],(0,a.dvw)(),i=(0,a.GQg)(i,n,s,1,t,o,r,e.parentNode,a.cly,sn,e,qe),(0,a.gbL)())},i:function(t){if(!n){for(var e=0;e<o.length;e+=1)(0,a.Ui)(i[e]);n=!0}},o:function(t){for(var e=0;e<i.length;e+=1)(0,a.etI)(i[e]);n=!1},d:function(t){for(var n=0;n<i.length;n+=1)i[n].d(t);t&&(0,a.ogt)(e)}}}function an(t){var e,n,i=t[24].item,r=(0,a.nuO)(i,t,t[31],$e),o=r||function(){var t;return{c:function(){t=(0,a.fLW)("Missing template")},m:function(e,n){(0,a.$Tr)(e,t,n)},d:function(e){e&&(0,a.ogt)(t)}}}();return{c:function(){o&&o.c(),e=(0,a.DhX)()},m:function(t,i){o&&o.m(t,i),(0,a.$Tr)(t,e,i),n=!0},p:function(t,e){r&&r.p&&(!n||1025&e[0]|1&e[1])&&(0,a.kmG)(r,i,t,t[31],n?(0,a.u2N)(i,t[31],e,Je):(0,a.VOJ)(t[31]),$e)},i:function(t){n||((0,a.Ui)(o,t),n=!0)},o:function(t){(0,a.etI)(o,t),n=!1},d:function(t){o&&o.d(t),t&&(0,a.ogt)(e)}}}function sn(t,e){var n,i,r;function o(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e)[26].apply(t,[e[53]].concat(i))}return i=new Se({props:{show:e[53].show,top:e[9][e[53].index],onResize:o,$$slots:{default:[an]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=(0,a.cSb)(),(0,a.YCL)(i.$$.fragment),this.first=n},m:function(t,e){(0,a.$Tr)(t,n,e),(0,a.yef)(i,t,e),r=!0},p:function(t,n){e=t;var r={};1024&n[0]&&(r.show=e[53].show),1536&n[0]&&(r.top=e[9][e[53].index]),1024&n[0]&&(r.onResize=o),1025&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),i.$set(r)},i:function(t){r||((0,a.Ui)(i.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(i.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(n),(0,a.vpE)(i,t)}}}function ln(t){var e,n,i=t[24].footer,r=(0,a.nuO)(i,t,t[31],Ke);return{c:function(){e=(0,a.bGB)("div"),r&&r.c(),(0,a.Ljt)(e,"class","vc-scroller-footer")},m:function(i,o){(0,a.$Tr)(i,e,o),r&&r.m(e,null),t[28](e),n=!0},p:function(t,e){r&&r.p&&(!n||1&e[1])&&(0,a.kmG)(r,i,t,t[31],n?(0,a.u2N)(i,t[31],e,Ge):(0,a.VOJ)(t[31]),Ke)},i:function(t){n||((0,a.Ui)(r,t),n=!0)},o:function(t){(0,a.etI)(r,t),n=!1},d:function(n){n&&(0,a.ogt)(e),r&&r.d(n),t[28](null)}}}function cn(t){var e,n,i=t[7]+"%",r=t[8]+"%";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.Ljt)(n,"class","vc-scroller-scrollbar-thumb"),(0,a.czc)(n,"height",i,!1),(0,a.czc)(n,"top",r,!1),(0,a.Ljt)(e,"class","vc-scroller-scrollbar-track"),(0,a.czc)(e,"display",t[7]<100?"block":"none",!1)},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},p:function(t,o){128&o[0]&&i!==(i=t[7]+"%")&&(0,a.czc)(n,"height",i,!1),256&o[0]&&r!==(r=t[8]+"%")&&(0,a.czc)(n,"top",r,!1),128&o[0]&&(0,a.czc)(e,"display",t[7]<100?"block":"none",!1)},d:function(t){t&&(0,a.ogt)(e)}}}function An(t){var e,n,i,r,o,s,l,c,A,u,d,h=t[15].header&&nn(t),p=[on,rn],f=[];function m(t,e){return t[0].length?0:1}o=m(t),s=f[o]=p[o](t);var g=t[15].footer&&ln(t),y=t[1]&&cn(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),h&&h.c(),i=(0,a.DhX)(),r=(0,a.bGB)("div"),s.c(),l=(0,a.DhX)(),g&&g.c(),c=(0,a.DhX)(),y&&y.c(),(0,a.Ljt)(r,"class","vc-scroller-items"),(0,a.Ljt)(n,"class","vc-scroller-contents"),(0,a.Ljt)(e,"class","vc-scroller-viewport"),(0,a.VHj)(e,"static",!t[13])},m:function(s,p){(0,a.$Tr)(s,e,p),(0,a.R3I)(e,n),h&&h.m(n,null),(0,a.R3I)(n,i),(0,a.R3I)(n,r),f[o].m(r,null),t[27](r),(0,a.R3I)(n,l),g&&g.m(n,null),t[29](n),(0,a.R3I)(e,c),y&&y.m(e,null),t[30](e),A=!0,u||(d=[(0,a.oLt)(e,"touchstart",(function(){(0,a.sBU)(t[13]?t[11].handleTouchStart:t[12])&&(t[13]?t[11].handleTouchStart:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchmove",(function(){(0,a.sBU)(t[13]?t[11].handleTouchMove:t[12])&&(t[13]?t[11].handleTouchMove:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchend",(function(){(0,a.sBU)(t[13]?t[11].handleTouchEnd:t[12])&&(t[13]?t[11].handleTouchEnd:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"touchcancel",(function(){(0,a.sBU)(t[13]?t[11].handleTouchCancel:t[12])&&(t[13]?t[11].handleTouchCancel:t[12]).apply(this,arguments)})),(0,a.oLt)(e,"wheel",(function(){(0,a.sBU)(t[13]?t[11].handleWheel:t[12])&&(t[13]?t[11].handleWheel:t[12]).apply(this,arguments)}))],u=!0)},p:function(l,c){(t=l)[15].header?h?(h.p(t,c),32768&c[0]&&(0,a.Ui)(h,1)):((h=nn(t)).c(),(0,a.Ui)(h,1),h.m(n,i)):h&&((0,a.dvw)(),(0,a.etI)(h,1,1,(function(){h=null})),(0,a.gbL)());var A=o;(o=m(t))===A?f[o].p(t,c):((0,a.dvw)(),(0,a.etI)(f[A],1,1,(function(){f[A]=null})),(0,a.gbL)(),(s=f[o])?s.p(t,c):(s=f[o]=p[o](t)).c(),(0,a.Ui)(s,1),s.m(r,null)),t[15].footer?g?(g.p(t,c),32768&c[0]&&(0,a.Ui)(g,1)):((g=ln(t)).c(),(0,a.Ui)(g,1),g.m(n,null)):g&&((0,a.dvw)(),(0,a.etI)(g,1,1,(function(){g=null})),(0,a.gbL)()),t[1]?y?y.p(t,c):((y=cn(t)).c(),y.m(e,null)):y&&(y.d(1),y=null)},i:function(t){A||((0,a.Ui)(h),(0,a.Ui)(s),(0,a.Ui)(g),A=!0)},o:function(t){(0,a.etI)(h),(0,a.etI)(s),(0,a.etI)(g),A=!1},d:function(n){n&&(0,a.ogt)(e),h&&h.d(),f[o].d(),t[27](null),g&&g.d(),t[29](null),y&&y.d(),t[30](null),u=!1,(0,a.j7q)(d)}}}function un(t,e,n){var i,r,o,l,c,A,u,d=e.$$slots,h=void 0===d?{}:d,p=e.$$scope,f=(0,a.XGm)(h),m=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},g=e.items,y=e.itemKey,v=void 0===y?void 0:y,_=e.itemHeight,w=void 0===_?void 0:_,x=e.buffer,b=void 0===x?200:x,M=e.stickToBottom,L=void 0!==M&&M,C=e.scrollbar,B=void 0!==C&&C,S=e.start,E=void 0===S?0:S,T=e.end,D=void 0===T?0:T,I=0,P=0,k=0,F=0,U=100,R=0,O=[],H=[],Y=[],Q=function(){var t=[],e=[],n=0,i=0,r=0,o=0,a=0;return function(s,l,c){if(r===s&&o===l&&a===c)return t;var A=e.length,u=l<=i?Math.max(0,Math.min(l,Math.max(n,Math.min(i-1,c-A)))):l,d=n<=c?Math.max(c,Math.min(s,Math.max(n+1,Math.min(i,u+A)))):c;if(0===A||d-u<A){for(var h=t.length=e.length=c-l,p=0;p<h;p+=1)e[p]=p,t[p]={key:p,index:p+l,show:!0};return n=l,i=c,r=s,o=l,a=c,t}var f=0,m=0,g=0,y=0;i<u||d<n?(g=u,y=u+A):n<u?(m=u-n,g=u,y=u+A):d<i?(m=A-(i-d),g=d-A,y=d):u<=n&&i<=d&&(g=n,y=i);for(var v=u;v<l;v+=1,f+=1){var _=e[(m+f)%A],w=t[v-u];w.key=_,w.index=v,w.show=!1}for(var x=l,b=0;x<c;x+=1){var M=void 0;g<=x&&x<y?(M=e[(m+f)%A],f+=1):(M=A+b,b+=1);var L=x-u;if(L<t.length){var C=t[L];C.key=M,C.index=x,C.show=!0}else t.push({key:M,index:x,show:!0})}for(var B=c;B<d;B+=1,f+=1){var S=e[(m+f)%A],E=t[B-u];E.key=S,E.index=B,E.show=!1}for(var T=0;T<t.length;T+=1)e[T]=t[T].key;return t.sort((function(t,e){return t.key-e.key})),n=u,i=d,r=s,o=l,a=c,t}}(),j=function(){return Math.max(0,F+I+P-k)},N=!0,W=!1,V=[],z=!1,G=!1,K=be(),Z=function(t,e){var n;(0,s.H3)((function(){var i=t();if(i){e(i.getBoundingClientRect().height),n&&n.disconnect();var r=Me();(n=new r((function(t){var n=t[0];e(n.contentRect.height)}))).observe(i)}else e(0),n&&(n.disconnect(),n=null)})),(0,s.ev)((function(){n&&(n.disconnect(),n=null)}))},X=function(){var t=A.getPosition(),e=100/(F+I+P);n(8,R=t*e),n(7,U=k*e)},q=function(t){var e=j();(t||A.getPosition()>e)&&A.updatePosition(e)},J=function(t){!function(t,e,i){for(var r=new Map,o=0;o<V.length;o+=1){var a=V[o],s=void 0===v?a:a[v];r.set(s,O[o])}n(9,H.length=O.length=t.length,H);for(var l=0,u=0;u<t.length;u+=1){var d=t[u],h=void 0===v?d:d[v];r.has(h)?O[u]=r.get(h):O[u]=i,n(9,H[u]=l,H),l+=O[u]}F=Math.max(l,e-I-P),V=t,K?($(t,A.getPosition(),e),n(6,c.style.height=F+"px",c),q(N&&L),X()):$(t,0,9e6)}(t,k,w)};function $(t,e,i){for(var r=0,o=0;r<t.length&&o+O[r]<e-b;)o+=O[r],r+=1;for(n(16,E=r);r<t.length&&i&&o<e+i+b;)o+=O[r],r+=1;n(17,D=r),n(10,Y=Q(t.length,E,D))}var tt=function(t,e){return m(void 0,void 0,void 0,we().mark((function i(){var r,o,a,s;return we().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(O[t]!==e&&0!==k){i.next=2;break}return i.abrupt("return");case 2:for(r=O[t],O[t]=e,o=g.length,a=t;a<o-1;a+=1)n(9,H[a+1]=H[a]+O[a],H);return F=Math.max(H[o-1]+O[o-1],k-I-P),s=A.getPosition(),W=!0,H[t]+r<s?A.updatePosition(s+e-r):q(N&&L),i.next=12,new Promise((function(t){return setTimeout(t,0)}));case 12:$(g,A.getPosition(),k),n(6,c.style.height=F+"px",c),X();case 15:case"end":return i.stop()}}),i)})))};(0,s.H3)((function(){n(23,z=!0),Ve.use()})),(0,s.ev)((function(){Ve.unuse()})),K&&(K&&(A=A||new Ue(j,(function(t){return m(void 0,void 0,void 0,we().mark((function e(){var i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=j(),N=Math.abs(t-i)<=1,n(5,l.style.transform="translateY("+-t+"px) translateZ(0)",l),X(),!W){e.next=8;break}W=!1,e.next=11;break;case 8:return e.next=10,new Promise((function(t){return setTimeout(t,0)}));case 10:$(g,t,k);case 11:case"end":return e.stop()}}),e)})))})),n(11,u=u||new He(A))),!G&&K&&(Z((function(){return o}),(function(t){return m(void 0,void 0,void 0,we().mark((function e(){var i,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k!==t){e.next=2;break}return e.abrupt("return");case 2:for(k=t,i=0,r=0;r<g.length;r+=1)i+=O[r];return F=Math.max(i,k-P),n(6,c.style.height=F+"px",c),e.next=9,new Promise((function(t){return setTimeout(t,0)}));case 9:J(g),$(g,A.getPosition(),k),0!==k&&q(N&&L),X();case 13:case"end":return e.stop()}}),e)})))})),Z((function(){return r}),(function(t){if(P!==t){P=t;for(var e=0,i=0;i<g.length;i+=1)e+=O[i];F=Math.max(e,k-I-P),n(6,c.style.height=F+"px",c),0!==k&&q(N&&L),X()}})),Z((function(){return i}),(function(t){I!==t&&(I=t,J(g),X())}))));var et={scrollTo:function(t){if(K){var e=H[Math.max(0,Math.min(g.length-1,t))],n=Math.min(j(),e),i=Math.min(Math.floor(500*Math.abs(A.getPosition()-n)/2e3),500);A.scrollTo(n,i)}}};return t.$$set=function(t){"items"in t&&n(0,g=t.items),"itemKey"in t&&n(18,v=t.itemKey),"itemHeight"in t&&n(19,w=t.itemHeight),"buffer"in t&&n(20,b=t.buffer),"stickToBottom"in t&&n(21,L=t.stickToBottom),"scrollbar"in t&&n(1,B=t.scrollbar),"start"in t&&n(16,E=t.start),"end"in t&&n(17,D=t.end),"$$scope"in t&&n(31,p=t.$$scope)},t.$$.update=function(){8388609&t.$$.dirty[0]&&z&&(K||n(4,o.parentElement.style.height="auto",o),J(g),G=!0)},[g,B,i,r,o,l,c,U,R,H,Y,u,function(){},K,tt,f,E,D,v,w,b,L,et,z,h,function(t){a.VnY[t?"unshift":"push"]((function(){n(2,i=t)}))},function(t,e){return tt(t.index,e)},function(t){a.VnY[t?"unshift":"push"]((function(){n(6,c=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(3,r=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(5,l=t)}))},function(t){a.VnY[t?"unshift":"push"]((function(){n(4,o=t),n(23,z),n(13,K),n(0,g)}))},p]}var dn=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,un,An,a.N8,{items:0,itemKey:18,itemHeight:19,buffer:20,stickToBottom:21,scrollbar:1,start:16,end:17,handler:22},null,[-1,-1]),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"items",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({items:t}),(0,a.yl1)()}},{key:"itemKey",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({itemKey:t}),(0,a.yl1)()}},{key:"itemHeight",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({itemHeight:t}),(0,a.yl1)()}},{key:"buffer",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({buffer:t}),(0,a.yl1)()}},{key:"stickToBottom",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({stickToBottom:t}),(0,a.yl1)()}},{key:"scrollbar",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({scrollbar:t}),(0,a.yl1)()}},{key:"start",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({start:t}),(0,a.yl1)()}},{key:"end",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({end:t}),(0,a.yl1)()}},{key:"handler",get:function(){return this.$$.ctx[22]}}]),n}(a.f_C),hn=dn;function pn(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"slot","empty"),(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function fn(t){var e,n;return(e=new de({props:{slot:"item",log:t[16],showTimestamps:t[1],groupHeader:t[16].groupHeader}})).$on("groupCollapsed",t[6]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:function(t,n){var i={};65536&n&&(i.log=t[16]),2&n&&(i.showTimestamps=t[1]),65536&n&&(i.groupHeader=t[16].groupHeader),e.$set(i)},i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function mn(t){var e,n;return(e=new he.Z({})).$on("filterText",t[5]),{c:function(){(0,a.YCL)(e.$$.fragment)},m:function(t,i){(0,a.yef)(e,t,i),n=!0},p:a.ZTd,i:function(t){n||((0,a.Ui)(e.$$.fragment,t),n=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),n=!1},d:function(t){(0,a.vpE)(e,t)}}}function gn(t){var e,n,i=t[0]&&mn(t);return{c:function(){i&&i.c(),e=(0,a.cSb)()},m:function(t,r){i&&i.m(t,r),(0,a.$Tr)(t,e,r),n=!0},p:function(t,n){t[0]?i?(i.p(t,n),1&n&&(0,a.Ui)(i,1)):((i=mn(t)).c(),(0,a.Ui)(i,1),i.m(e.parentNode,e)):i&&((0,a.dvw)(),(0,a.etI)(i,1,1,(function(){i=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(i),n=!0)},o:function(t){(0,a.etI)(i),n=!1},d:function(t){i&&i.d(t),t&&(0,a.ogt)(e)}}}function yn(t){var e,n,i,r;function o(e){t[15](e)}var s={items:t[4],itemKey:"_id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{footer:[gn],item:[fn,function(t){return{16:t.item}},function(t){return t.item?65536:0}],empty:[pn]},$$scope:{ctx:t}};return void 0!==t[3]&&(s.handler=t[3]),n=new hn({props:s}),a.VnY.push((function(){return(0,a.akz)(n,"handler",o)})),{c:function(){e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),(0,a.Ljt)(e,"class","vc-plugin-content"),(0,a.VHj)(e,"vc-logs-has-cmd",t[0])},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.yef)(n,e,null),r=!0},p:function(t,r){var o=r[0],s={};16&o&&(s.items=t[4]),196611&o&&(s.$$scope={dirty:o,ctx:t}),!i&&8&o&&(i=!0,s.handler=t[3],(0,a.hjT)((function(){return i=!1}))),n.$set(s),1&o&&(0,a.VHj)(e,"vc-logs-has-cmd",t[0])},i:function(t){r||((0,a.Ui)(n.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(n.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(n)}}}function vn(t,e,n){var i,r=a.ZTd;t.$$.on_destroy.push((function(){return r()}));var o,l,c=e.pluginId,A=void 0===c?"default":c,u=e.showCmd,d=void 0!==u&&u,h=e.filterType,p=void 0===h?"all":h,f=e.showTimestamps,m=void 0!==f&&f,g=!1,y="",v=[];return(0,s.H3)((function(){ve.use()})),(0,s.ev)((function(){ve.unuse()})),t.$$set=function(t){"pluginId"in t&&n(7,A=t.pluginId),"showCmd"in t&&n(0,d=t.showCmd),"filterType"in t&&n(8,p=t.filterType),"showTimestamps"in t&&n(1,m=t.showTimestamps)},t.$$.update=function(){29056&t.$$.dirty&&(g||(n(2,o=st.O.get(A)),r(),r=(0,a.LdU)(o,(function(t){return n(14,i=t)})),n(12,g=!0)),n(4,v=i.logList.filter((function(t){return("all"===p||p===t.type)&&(""===y||(0,at.HX)(t,y))&&!t.groupCollapsed}))))},[d,m,o,l,v,function(t){n(13,y=t.detail.filterText||"")},function(t){var e=t.detail.groupLabel,n=t.detail.groupHeader,i=t.detail.isGroupCollapsed;o.update((function(t){return t.logList.forEach((function(t){t.groupLabel===e&&(t.groupHeader>0?t.groupHeader=n:t.groupCollapsed=i)})),t}))},A,p,function(){l.scrollTo(0)},function(){l.scrollTo(v.length-1)},{fixedHeight:!0},g,y,i,function(t){n(3,l=t)}]}var _n=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,vn,yn,a.N8,{pluginId:7,showCmd:0,filterType:8,showTimestamps:1,scrollToTop:9,scrollToBottom:10,options:11}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"pluginId",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({pluginId:t}),(0,a.yl1)()}},{key:"showCmd",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({showCmd:t}),(0,a.yl1)()}},{key:"filterType",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({filterType:t}),(0,a.yl1)()}},{key:"showTimestamps",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({showTimestamps:t}),(0,a.yl1)()}},{key:"scrollToTop",get:function(){return this.$$.ctx[9]}},{key:"scrollToBottom",get:function(){return this.$$.ctx[10]}},{key:"options",get:function(){return this.$$.ctx[11]}}]),n}(a.f_C),wn=_n,xn=__nested_webpack_require_131847__(5629),bn=function(){function t(t){this.model=void 0,this.pluginId=void 0,this.pluginId=t}return t.prototype.destroy=function(){this.model=void 0},t}(),Mn=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).model=xn.W.getSingleton(xn.W,"VConsoleLogModel"),e}(0,o.Z)(e,t);var n=e.prototype;return n.log=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["log"].concat(e))},n.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["info"].concat(e))},n.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["debug"].concat(e))},n.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["warn"].concat(e))},n.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.addLog.apply(this,["error"].concat(e))},n.clear=function(){this.model&&this.model.clearPluginLog(this.pluginId)},n.addLog=function(t){if(this.model){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift("["+this.pluginId+"]"),this.model.addLog({type:t,origData:n},{noOrig:!0})}},e}(bn),Ln=function(t){function e(e,n){var i;return(i=t.call(this,e,n,wn,{pluginId:e,filterType:"all"})||this).model=xn.W.getSingleton(xn.W,"VConsoleLogModel"),i.isReady=!1,i.isShow=!1,i.isInBottom=!0,i.model.bindPlugin(e),i.exporter=new Mn(e),i}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){var e,n;t.prototype.onReady.call(this),this.model.maxLogNumber=Number(null==(e=this.vConsole.option.log)?void 0:e.maxLogNumber)||1e3,this.compInstance.showTimestamps=!(null==(n=this.vConsole.option.log)||!n.showTimestamps)},n.onRemove=function(){t.prototype.onRemove.call(this),this.model.unbindPlugin(this.id)},n.onAddTopBar=function(t){for(var e=this,n=["All","Log","Info","Warn","Error"],i=[],r=0;r<n.length;r++)i.push({name:n[r],data:{type:n[r].toLowerCase()},actived:0===r,className:"",onClick:function(t,n){if(n.type===e.compInstance.filterType)return!1;e.compInstance.filterType=n.type}});i[0].className="vc-actived",t(i)},n.onAddTool=function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(t){e.model.clearPluginLog(e.id),e.vConsole.triggerEvent("clearLog")}},{name:"Top",global:!1,onClick:function(t){e.compInstance.scrollToTop()}},{name:"Bottom",global:!1,onClick:function(t){e.compInstance.scrollToBottom()}}])},n.onUpdateOption=function(){var t,e,n,i;(null==(t=this.vConsole.option.log)?void 0:t.maxLogNumber)!==this.model.maxLogNumber&&(this.model.maxLogNumber=Number(null==(n=this.vConsole.option.log)?void 0:n.maxLogNumber)||1e3),!(null==(e=this.vConsole.option.log)||!e.showTimestamps)!==this.compInstance.showTimestamps&&(this.compInstance.showTimestamps=!(null==(i=this.vConsole.option.log)||!i.showTimestamps))},e}(ot),Cn=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).onErrorHandler=void 0,e.resourceErrorHandler=void 0,e.rejectionHandler=void 0,e}(0,o.Z)(n,t);var i=n.prototype;return i.onReady=function(){t.prototype.onReady.call(this),this.bindErrors(),this.compInstance.showCmd=!0},i.onRemove=function(){t.prototype.onRemove.call(this),this.unbindErrors()},i.bindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(this.catchWindowOnError(),this.catchResourceError(),this.catchUnhandledRejection())},i.unbindErrors=function(){e.FJ(window)&&e.mf(window.addEventListener)&&(window.removeEventListener("error",this.onErrorHandler),window.removeEventListener("error",this.resourceErrorHandler),window.removeEventListener("unhandledrejection",this.rejectionHandler))},i.catchWindowOnError=function(){var t=this;this.onErrorHandler=this.onErrorHandler?this.onErrorHandler:function(e){var n=e.message;e.filename&&(n+="\\n\\t"+e.filename.replace(location.origin,""),(e.lineno||e.colno)&&(n+=":"+e.lineno+":"+e.colno)),n+="\\n"+(!!e.error&&!!e.error.stack&&e.error.stack.toString()||""),t.model.addLog({type:"error",origData:[n]},{noOrig:!0})},window.removeEventListener("error",this.onErrorHandler),window.addEventListener("error",this.onErrorHandler)},i.catchResourceError=function(){var t=this;this.resourceErrorHandler=this.resourceErrorHandler?this.resourceErrorHandler:function(e){var n=e.target;if(["link","video","script","img","audio"].indexOf(n.localName)>-1){var i=n.href||n.src||n.currentSrc;t.model.addLog({type:"error",origData:["GET <"+n.localName+"> error: "+i]},{noOrig:!0})}},window.removeEventListener("error",this.resourceErrorHandler),window.addEventListener("error",this.resourceErrorHandler,!0)},i.catchUnhandledRejection=function(){var t=this;this.rejectionHandler=this.rejectionHandler?this.rejectionHandler:function(e){var n=e&&e.reason,i="Uncaught (in promise) ",r=[i,n];n instanceof Error&&(r=[i,{name:n.name,message:n.message,stack:n.stack}]),t.model.addLog({type:"error",origData:r},{noOrig:!0})},window.removeEventListener("unhandledrejection",this.rejectionHandler),window.addEventListener("unhandledrejection",this.rejectionHandler)},n}(Ln),Bn=function(t){function e(){return t.apply(this,arguments)||this}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){t.prototype.onReady.call(this),this.printSystemInfo()},n.printSystemInfo=function(){var t=navigator.userAgent,e=[],n=t.match(/MicroMessenger\/([\d\.]+)/i),i=n&&n[1]?n[1]:null;"servicewechat.com"===location.host||console.info("[system]","Location:",location.href);var r=t.match(/(ipod).*\s([\d_]+)/i),o=t.match(/(ipad).*\s([\d_]+)/i),a=t.match(/(iphone)\sos\s([\d_]+)/i),s=t.match(/(android)\s([\d\.]+)/i),l=t.match(/(Mac OS X)\s([\d_]+)/i);e=[],s?e.push("Android "+s[2]):a?e.push("iPhone, iOS "+a[2].replace(/_/g,".")):o?e.push("iPad, iOS "+o[2].replace(/_/g,".")):r?e.push("iPod, iOS "+r[2].replace(/_/g,".")):l&&e.push("Mac, MacOS "+l[2].replace(/_/g,".")),i&&e.push("WeChat "+i),console.info("[system]","Client:",e.length?e.join(", "):"Unknown");var c=t.toLowerCase().match(/ nettype\/([^ ]+)/g);c&&c[0]&&(e=[(c=c[0].split("/"))[1]],console.info("[system]","Network:",e.length?e.join(", "):"Unknown")),console.info("[system]","UA:",t),setTimeout((function(){var t=window.performance||window.msPerformance||window.webkitPerformance;if(t&&t.timing){var e=t.timing;e.navigationStart&&console.info("[system]","navigationStart:",e.navigationStart),e.navigationStart&&e.domainLookupStart&&console.info("[system]","navigation:",e.domainLookupStart-e.navigationStart+"ms"),e.domainLookupEnd&&e.domainLookupStart&&console.info("[system]","dns:",e.domainLookupEnd-e.domainLookupStart+"ms"),e.connectEnd&&e.connectStart&&(e.connectEnd&&e.secureConnectionStart?console.info("[system]","tcp (ssl):",e.connectEnd-e.connectStart+"ms ("+(e.connectEnd-e.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",e.connectEnd-e.connectStart+"ms")),e.responseStart&&e.requestStart&&console.info("[system]","request:",e.responseStart-e.requestStart+"ms"),e.responseEnd&&e.responseStart&&console.info("[system]","response:",e.responseEnd-e.responseStart+"ms"),e.domComplete&&e.domLoading&&(e.domContentLoadedEventStart&&e.domLoading?console.info("[system]","domComplete (domLoaded):",e.domComplete-e.domLoading+"ms ("+(e.domContentLoadedEventStart-e.domLoading)+"ms)"):console.info("[system]","domComplete:",e.domComplete-e.domLoading+"ms")),e.loadEventEnd&&e.loadEventStart&&console.info("[system]","loadEvent:",e.loadEventEnd-e.loadEventStart+"ms"),e.navigationStart&&e.loadEventEnd&&console.info("[system]","total (DOM):",e.loadEventEnd-e.navigationStart+"ms ("+(e.domComplete-e.navigationStart)+"ms)")}}),0)},e}(Ln),Sn=__nested_webpack_require_131847__(3313),En=__nested_webpack_require_131847__(643);function Tn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Dn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var In=function(t,n){void 0===n&&(n={}),e.Kn(n)||(n={});var i=t?t.split("?"):[];if(i.shift(),i.length>0)for(var r,o=Tn(i=i.join("?").split("&"));!(r=o()).done;){var a=r.value.split("=");try{n[a[0]]=decodeURIComponent(a[1])}catch(t){n[a[0]]=a[1]}}return n},Pn=function(t,n){var i="";switch(t){case"":case"text":case"json":if(e.HD(n))try{i=JSON.parse(n),i=e.hZ(i,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0})}catch(t){i=e.id(String(n),1e4)}else e.Kn(n)||e.kJ(n)?i=e.hZ(n,{maxDepth:10,keyMaxLen:1e4,pretty:!0,standardJSON:!0}):void 0!==n&&(i=Object.prototype.toString.call(n));break;default:void 0!==n&&(i=Object.prototype.toString.call(n))}return i},kn=function(t){if(!t)return null;var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){var i=t.split("&");if(1===i.length)n=t;else{n={};for(var r,o=Tn(i);!(r=o()).done;){var a=r.value.split("=");n[a[0]]=void 0===a[1]?"undefined":a[1]}}}else if(e.TW(t)){n={};for(var s,l=Tn(t);!(s=l()).done;){var c=s.value,A=c[0],u=c[1];n[A]="string"==typeof u?u:"[object Object]"}}else n=e.PO(t)?t:"[object "+e.zl(t)+"]";return n},Fn=function(t){return void 0===t&&(t=""),t.startsWith("//")&&(t=""+new URL(window.location.href).protocol+t),t.startsWith("http")?new URL(t):new URL(t,window.location.href)},Un=function(){this.id="",this.name="",this.method="",this.url="",this.status=0,this.statusText="",this.cancelState=0,this.readyState=0,this.header=null,this.responseType="",this.requestType=void 0,this.requestHeader=null,this.response=void 0,this.responseSize=0,this.responseSizeText="",this.startTime=0,this.startTimeText="",this.endTime=0,this.costTime=0,this.getData=null,this.postData=null,this.actived=!1,this.noVConsole=!1,this.id=(0,e.QI)()},Rn=function(t){function e(n){var i;return(i=t.call(this)||this)._response=void 0,new Proxy(n,e.Handler)||(0,r.Z)(i)}return(0,o.Z)(e,t),e}(Un);Rn.Handler={get:function(t,e){return"response"===e?t._response:Reflect.get(t,e)},set:function(t,e,n){var i;switch(e){case"response":return t._response=Pn(t.responseType,n),!0;case"url":var r=(null==(i=n=String(n))?void 0:i.replace(new RegExp("[/]*$"),"").split("/").pop())||"Unknown";Reflect.set(t,"name",r);var o=In(n,t.getData);Reflect.set(t,"getData",o);break;case"status":var a=String(n)||"Unknown";Reflect.set(t,"statusText",a);break;case"startTime":if(n&&t.endTime){var s=t.endTime-n;Reflect.set(t,"costTime",s)}break;case"endTime":if(n&&t.startTime){var l=n-t.startTime;Reflect.set(t,"costTime",l)}}return Reflect.set(t,e,n)}};var On=function(){function t(t,e){var n=this;this.XMLReq=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.XMLReq=t,this.XMLReq.onreadystatechange=function(){n.onReadyStateChange()},this.XMLReq.onabort=function(){n.onAbort()},this.XMLReq.ontimeout=function(){n.onTimeout()},this.item=new Un,this.item.requestType="xhr",this.onUpdateCallback=e}var n=t.prototype;return n.get=function(t,e){switch(e){case"_noVConsole":return this.item.noVConsole;case"open":return this.getOpen(t);case"send":return this.getSend(t);case"setRequestHeader":return this.getSetRequestHeader(t);default:var n=Reflect.get(t,e);return"function"==typeof n?n.bind(t):n}},n.set=function(t,e,n){switch(e){case"_noVConsole":return void(this.item.noVConsole=!!n);case"onreadystatechange":return this.setOnReadyStateChange(t,e,n);case"onabort":return this.setOnAbort(t,e,n);case"ontimeout":return this.setOnTimeout(t,e,n)}return Reflect.set(t,e,n)},n.onReadyStateChange=function(){this.item.readyState=this.XMLReq.readyState,this.item.responseType=this.XMLReq.responseType,this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-this.item.startTime,this.updateItemByReadyState(),this.item.response=Pn(this.item.responseType,this.item.response),this.triggerUpdate()},n.onAbort=function(){this.item.cancelState=1,this.item.statusText="Abort",this.triggerUpdate()},n.onTimeout=function(){this.item.cancelState=3,this.item.statusText="Timeout",this.triggerUpdate()},n.triggerUpdate=function(){this.item.noVConsole||this.onUpdateCallback(this.item)},n.getOpen=function(t){var e=this,n=Reflect.get(t,"open");return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=r[0],s=r[1];return e.item.method=a?a.toUpperCase():"GET",e.item.url=s||"",e.item.name=e.item.url.replace(new RegExp("[/]*$"),"").split("/").pop()||"",e.item.getData=In(e.item.url,{}),e.triggerUpdate(),n.apply(t,r)}},n.getSend=function(t){var e=this,n=Reflect.get(t,"send");return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=r[0];return e.item.postData=kn(a),e.triggerUpdate(),n.apply(t,r)}},n.getSetRequestHeader=function(t){var e=this,n=Reflect.get(t,"setRequestHeader");return function(){e.item.requestHeader||(e.item.requestHeader={});for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.item.requestHeader[r[0]]=r[1],e.triggerUpdate(),n.apply(t,r)}},n.setOnReadyStateChange=function(t,e,n){var i=this;return Reflect.set(t,e,(function(){i.onReadyStateChange();for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.apply(t,r)}))},n.setOnAbort=function(t,e,n){var i=this;return Reflect.set(t,e,(function(){i.onAbort();for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.apply(t,r)}))},n.setOnTimeout=function(t,e,n){var i=this;return Reflect.set(t,e,(function(){i.onTimeout();for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n.apply(t,r)}))},n.updateItemByReadyState=function(){switch(this.XMLReq.readyState){case 0:case 1:if(this.item.status=0,this.item.statusText="Pending",!this.item.startTime){this.item.startTime=Date.now();var t=(0,e._3)(this.item.startTime);this.item.startTimeText=t.year+"-"+t.month+"-"+t.day+" "+t.hour+":"+t.minute+":"+t.second+"."+t.millisecond}break;case 2:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.item.header={};for(var n=(this.XMLReq.getAllResponseHeaders()||"").split("\n"),i=0;i<n.length;i++){var r=n[i];if(r){var o=r.split(": "),a=o[0],s=o.slice(1).join(": ");this.item.header[a]=s}}break;case 3:this.item.status=this.XMLReq.status,this.item.statusText="Loading",this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;case 4:this.item.status=this.XMLReq.status||this.item.status||0,this.item.statusText=String(this.item.status),this.item.endTime=Date.now(),this.item.costTime=this.item.endTime-(this.item.startTime||this.item.endTime),this.item.response=this.XMLReq.response,this.XMLReq.response&&this.XMLReq.response.length&&(this.item.responseSize=this.XMLReq.response.length,this.item.responseSizeText=(0,e.KL)(this.item.responseSize));break;default:this.item.status=this.XMLReq.status,this.item.statusText="Unknown"}},t}(),Hn=function(){function t(){}return t.create=function(t){return new Proxy(XMLHttpRequest,{construct:function(e){var n=new e;return new Proxy(n,new On(n,t))}})},t}();function Yn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Hn.origXMLHttpRequest=XMLHttpRequest;var jn=function(){function t(t,e,n){this.resp=void 0,this.item=void 0,this.onUpdateCallback=void 0,this.resp=t,this.item=e,this.onUpdateCallback=n,this.mockReader()}var n=t.prototype;return n.set=function(t,e,n){return Reflect.set(t,e,n)},n.get=function(t,e){var n=this,i=Reflect.get(t,e);switch(e){case"arrayBuffer":case"blob":case"formData":case"json":case"text":return function(){return n.item.responseType=e.toLowerCase(),i.apply(t).then((function(t){return n.item.response=Pn(n.item.responseType,t),n.onUpdateCallback(n.item),t}))}}return"function"==typeof i?i.bind(t):i},n.mockReader=function(){var t,n=this;if(this.resp.body&&"function"==typeof this.resp.body.getReader){var i=this.resp.body.getReader;this.resp.body.getReader=function(){var r=i.apply(n.resp.body);if(4===n.item.readyState)return r;var o=r.read,a=r.cancel;return n.item.responseType="arraybuffer",r.read=function(){return o.apply(r).then((function(i){if(t){var r=new Uint8Array(t.length+i.value.length);r.set(t),r.set(i.value,t.length),t=r}else t=new Uint8Array(i.value);return n.item.endTime=Date.now(),n.item.costTime=n.item.endTime-(n.item.startTime||n.item.endTime),n.item.readyState=i.done?4:3,n.item.statusText=i.done?String(n.item.status):"Loading",n.item.responseSize=t.length,n.item.responseSizeText=e.KL(n.item.responseSize),i.done&&(n.item.response=Pn(n.item.responseType,t)),n.onUpdateCallback(n.item),i}))},r.cancel=function(){n.item.cancelState=2,n.item.statusText="Cancel",n.item.endTime=Date.now(),n.item.costTime=n.item.endTime-(n.item.startTime||n.item.endTime),n.item.response=Pn(n.item.responseType,t),n.onUpdateCallback(n.item);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a.apply(r,i)},r}}},t}(),Nn=function(){function t(t){this.onUpdateCallback=void 0,this.onUpdateCallback=t}var n=t.prototype;return n.apply=function(t,e,n){var i=this,r=n[0],o=n[1],a=new Un;return this.beforeFetch(a,r,o),t.apply(window,n).then(this.afterFetch(a)).catch((function(t){throw a.endTime=Date.now(),a.costTime=a.endTime-(a.startTime||a.endTime),i.onUpdateCallback(a),t}))},n.beforeFetch=function(t,n,i){var r,o="GET",a=null;if(e.HD(n)?(o=(null==i?void 0:i.method)||"GET",r=Fn(n),a=(null==i?void 0:i.headers)||null):(o=n.method||"GET",r=Fn(n.url),a=n.headers),t.method=o,t.requestType="fetch",t.requestHeader=a,t.url=r.toString(),t.name=(r.pathname.split("/").pop()||"")+r.search,t.status=0,t.statusText="Pending",t.readyState=1,!t.startTime){t.startTime=Date.now();var s=e._3(t.startTime);t.startTimeText=s.year+"-"+s.month+"-"+s.day+" "+s.hour+":"+s.minute+":"+s.second+"."+s.millisecond}if("[object Headers]"===Object.prototype.toString.call(a)){t.requestHeader={};for(var l,c=Yn(a);!(l=c()).done;){var A=l.value,u=A[0],d=A[1];t.requestHeader[u]=d}}else t.requestHeader=a;if(r.search&&r.searchParams){t.getData={};for(var h,p=Yn(r.searchParams);!(h=p()).done;){var f=h.value,m=f[0],g=f[1];t.getData[m]=g}}null!=i&&i.body&&(t.postData=kn(i.body)),this.onUpdateCallback(t)},n.afterFetch=function(t){var n=this;return function(i){t.endTime=Date.now(),t.costTime=t.endTime-(t.startTime||t.endTime),t.status=i.status,t.statusText=String(i.status);var r=!1;t.header={};for(var o,a=Yn(i.headers);!(o=a()).done;){var s=o.value,l=s[0],c=s[1];t.header[l]=c,r=c.toLowerCase().indexOf("chunked")>-1||r}return r?t.readyState=3:(t.readyState=4,n.handleResponseBody(i.clone(),t).then((function(i){t.responseSize="string"==typeof i?i.length:i.byteLength,t.responseSizeText=e.KL(t.responseSize),t.response=Pn(t.responseType,i),n.onUpdateCallback(t)}))),n.onUpdateCallback(t),new Proxy(i,new jn(i,t,n.onUpdateCallback))}},n.handleResponseBody=function(t,e){var n=t.headers.get("content-type");return n&&n.includes("application/json")?(e.responseType="json",t.text()):n&&(n.includes("text/html")||n.includes("text/plain"))?(e.responseType="text",t.text()):(e.responseType="arraybuffer",t.arrayBuffer())},t}(),Wn=function(){function t(){}return t.create=function(t){return new Proxy(fetch,new Nn(t))},t}();function Vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Wn.origFetch=fetch;var zn=function(t){return t instanceof Blob?t.type:t instanceof FormData?"multipart/form-data":t instanceof URLSearchParams?"application/x-www-form-urlencoded;charset=UTF-8":"text/plain;charset=UTF-8"},Gn=function(){function t(t){this.onUpdateCallback=void 0,this.onUpdateCallback=t}return t.prototype.apply=function(t,e,n){var i=n[0],r=n[1],o=new Un,a=Fn(i);if(o.method="POST",o.url=i,o.name=(a.pathname.split("/").pop()||"")+a.search,o.requestType="ping",o.requestHeader={"Content-Type":zn(r)},o.status=0,o.statusText="Pending",a.search&&a.searchParams){o.getData={};for(var s,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a.searchParams);!(s=l()).done;){var c=s.value,A=c[0],u=c[1];o.getData[A]=u}}o.postData=kn(r),o.startTime||(o.startTime=Date.now()),this.onUpdateCallback(o);var d=t.apply(e,n);return d?(o.endTime=Date.now(),o.costTime=o.endTime-(o.startTime||o.endTime),o.status=0,o.statusText="Sent",o.readyState=4):(o.status=500,o.statusText="Unknown"),this.onUpdateCallback(o),d},t}(),Kn=function(){function t(){}return t.create=function(t){return new Proxy(navigator.sendBeacon,new Gn(t))},t}();Kn.origSendBeacon=navigator.sendBeacon;var Zn=(0,Sn.fZ)({}),Xn=function(t){function e(){var e;return(e=t.call(this)||this).maxNetworkNumber=1e3,e.ignoreUrlRegExp=void 0,e.itemCounter=0,e.mockXHR(),e.mockFetch(),e.mockSendBeacon(),e}(0,o.Z)(e,t);var n=e.prototype;return n.unMock=function(){window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=Hn.origXMLHttpRequest),window.hasOwnProperty("fetch")&&(window.fetch=Wn.origFetch),window.navigator.sendBeacon&&(window.navigator.sendBeacon=Kn.origSendBeacon)},n.clearLog=function(){Zn.set({})},n.updateRequest=function(t,e){var n,i=e.url;if(!i||null==(n=this.ignoreUrlRegExp)||!n.test(i)){var r=(0,Sn.U2)(Zn),o=!!r[t];if(o){var a=r[t];for(var s in e)a[s]=e[s];e=a}Zn.update((function(n){return n[t]=e,n})),o||(k.x.updateTime(),this.limitListLength())}},n.mockXHR=function(){var t=this;window.hasOwnProperty("XMLHttpRequest")&&(window.XMLHttpRequest=Hn.create((function(e){t.updateRequest(e.id,e)})))},n.mockFetch=function(){var t=this;window.hasOwnProperty("fetch")&&(window.fetch=Wn.create((function(e){t.updateRequest(e.id,e)})))},n.mockSendBeacon=function(){var t,e,n=this;null!=(t=window)&&null!=(e=t.navigator)&&e.sendBeacon&&(window.navigator.sendBeacon=Kn.create((function(t){n.updateRequest(t.id,t)})))},n.limitListLength=function(){var t=this;if(this.itemCounter++,this.itemCounter%10==0){this.itemCounter=0;var e=(0,Sn.U2)(Zn),n=Object.keys(e);n.length>this.maxNetworkNumber-10&&Zn.update((function(e){for(var i=n.splice(0,n.length-t.maxNetworkNumber+10),r=0;r<i.length;r++)e[i[r]]=void 0,delete e[i[r]];return e}))}},e}(En.N),qn=__nested_webpack_require_131847__(8747),Jn={};qn.Z&&qn.Z.locals&&(Jn.locals=qn.Z.locals);var $n,ti=0,ei={};ei.styleTagTransform=v(),ei.setAttributes=f(),ei.insert=h().bind(null,"head"),ei.domAPI=u(),ei.insertStyleElement=g(),Jn.use=function(t){return ei.options=t||{},ti++||($n=c()(qn.Z,ei)),Jn},Jn.unuse=function(){ti>0&&! --ti&&($n(),$n=null)};var ni=Jn;function ii(t,e,n){var i=t.slice();return i[11]=e[n][0],i[12]=e[n][1],i}function ri(t,e,n){var i=t.slice();return i[11]=e[n][0],i[12]=e[n][1],i}function oi(t,e,n){var i=t.slice();return i[11]=e[n][0],i[12]=e[n][1],i}function ai(t,e,n){var i=t.slice();return i[11]=e[n][0],i[12]=e[n][1],i}function si(t){var e,n,i;return{c:function(){e=(0,a.fLW)("("),n=(0,a.fLW)(t[0]),i=(0,a.fLW)(")")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.$Tr)(t,n,r),(0,a.$Tr)(t,i,r)},p:function(t,e){1&e&&(0,a.rTO)(n,t[0])},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(n),t&&(0,a.ogt)(i)}}}function li(t){var e,n,i,r,o,s,l=t[0]>0&&si(t);return{c:function(){e=(0,a.bGB)("dl"),n=(0,a.bGB)("dd"),i=(0,a.fLW)("Name "),l&&l.c(),(r=(0,a.bGB)("dd")).textContent="Method",(o=(0,a.bGB)("dd")).textContent="Status",(s=(0,a.bGB)("dd")).textContent="Time",(0,a.Ljt)(n,"class","vc-table-col vc-table-col-4"),(0,a.Ljt)(r,"class","vc-table-col"),(0,a.Ljt)(o,"class","vc-table-col"),(0,a.Ljt)(s,"class","vc-table-col"),(0,a.Ljt)(e,"class","vc-table-row")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,i),l&&l.m(n,null),(0,a.R3I)(e,r),(0,a.R3I)(e,o),(0,a.R3I)(e,s)},p:function(t,e){t[0]>0?l?l.p(t,e):((l=si(t)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(t){t&&(0,a.ogt)(e),l&&l.d()}}}function ci(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"slot","empty"),(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function Ai(t){var e,n,i,r,o,s,l,c;s=new dt({props:{content:t[10].requestHeader}});for(var A=Object.entries(t[10].requestHeader),u=[],d=0;d<A.length;d+=1)u[d]=ui(ai(t,A,d));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),i=(0,a.bGB)("dt"),r=(0,a.fLW)("Request Headers\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<u.length;t+=1)u[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,A){(0,a.$Tr)(t,e,A),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(i,r),(0,a.R3I)(i,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var d=0;d<u.length;d+=1)u[d].m(e,null);c=!0},p:function(t,n){var i={};if(1024&n&&(i.content=t[10].requestHeader),s.$set(i),1040&n){var r;for(A=Object.entries(t[10].requestHeader),r=0;r<A.length;r+=1){var o=ai(t,A,r);u[r]?u[r].p(o,n):(u[r]=ui(o),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=A.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(u,t)}}}function ui(t){var e,n,i,r,o,s,l,c=t[11]+"",A=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),i=(0,a.fLW)(c),r=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(A),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(e,r),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(i,c),1024&e&&A!==(A=t[4](t[12])+"")&&(0,a.rTO)(s,A)},d:function(t){t&&(0,a.ogt)(e)}}}function di(t){var e,n,i,r,o,s,l,c;s=new dt({props:{content:t[10].getData}});for(var A=Object.entries(t[10].getData),u=[],d=0;d<A.length;d+=1)u[d]=hi(oi(t,A,d));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),i=(0,a.bGB)("dt"),r=(0,a.fLW)("Query String Parameters\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<u.length;t+=1)u[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,A){(0,a.$Tr)(t,e,A),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(i,r),(0,a.R3I)(i,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var d=0;d<u.length;d+=1)u[d].m(e,null);c=!0},p:function(t,n){var i={};if(1024&n&&(i.content=t[10].getData),s.$set(i),1040&n){var r;for(A=Object.entries(t[10].getData),r=0;r<A.length;r+=1){var o=oi(t,A,r);u[r]?u[r].p(o,n):(u[r]=hi(o),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=A.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(u,t)}}}function hi(t){var e,n,i,r,o,s,l,c=t[11]+"",A=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),i=(0,a.fLW)(c),r=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(A),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(e,r),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(i,c),1024&e&&A!==(A=t[4](t[12])+"")&&(0,a.rTO)(s,A)},d:function(t){t&&(0,a.ogt)(e)}}}function pi(t){var e,n,i,r,o,s,l,c;function A(t,e){return"string"==typeof t[10].postData?mi:fi}s=new dt({props:{content:t[10].postData}});var u=A(t),d=u(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),i=(0,a.bGB)("dt"),r=(0,a.fLW)("Request Payload\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)(),d.c(),(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,A){(0,a.$Tr)(t,e,A),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(i,r),(0,a.R3I)(i,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l),d.m(e,null),c=!0},p:function(t,n){var i={};1024&n&&(i.content=t[10].postData),s.$set(i),u===(u=A(t))&&d?d.p(t,n):(d.d(1),(d=u(t))&&(d.c(),d.m(e,null)))},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),d.d()}}}function fi(t){for(var e,n=Object.entries(t[10].postData),i=[],r=0;r<n.length;r+=1)i[r]=gi(ri(t,n,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=(0,a.cSb)()},m:function(t,n){for(var r=0;r<i.length;r+=1)i[r].m(t,n);(0,a.$Tr)(t,e,n)},p:function(t,r){if(1040&r){var o;for(n=Object.entries(t[10].postData),o=0;o<n.length;o+=1){var a=ri(t,n,o);i[o]?i[o].p(a,r):(i[o]=gi(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d:function(t){(0,a.RMB)(i,t),t&&(0,a.ogt)(e)}}}function mi(t){var e,n,i,r=t[10].postData+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("pre"),i=(0,a.fLW)(r),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-value vc-max-height-line"),(0,a.Ljt)(n,"data-scrollable","1"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.R3I)(e,n),(0,a.R3I)(n,i)},p:function(t,e){1024&e&&r!==(r=t[10].postData+"")&&(0,a.rTO)(i,r)},d:function(t){t&&(0,a.ogt)(e)}}}function gi(t){var e,n,i,r,o,s,l,c=t[11]+"",A=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),i=(0,a.fLW)(c),r=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(A),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(o,"data-scrollable","1"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(e,r),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(i,c),1024&e&&A!==(A=t[4](t[12])+"")&&(0,a.rTO)(s,A)},d:function(t){t&&(0,a.ogt)(e)}}}function yi(t){var e,n,i,r,o,s,l,c;s=new dt({props:{content:t[10].header}});for(var A=Object.entries(t[10].header),u=[],d=0;d<A.length;d+=1)u[d]=vi(ii(t,A,d));return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),i=(0,a.bGB)("dt"),r=(0,a.fLW)("Response Headers\n                "),o=(0,a.bGB)("i"),(0,a.YCL)(s.$$.fragment),l=(0,a.DhX)();for(var t=0;t<u.length;t+=1)u[t].c();(0,a.Ljt)(o,"class","vc-table-row-icon"),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(n,"class","vc-table-row vc-left-border")},m:function(t,A){(0,a.$Tr)(t,e,A),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(i,r),(0,a.R3I)(i,o),(0,a.yef)(s,o,null),(0,a.R3I)(e,l);for(var d=0;d<u.length;d+=1)u[d].m(e,null);c=!0},p:function(t,n){var i={};if(1024&n&&(i.content=t[10].header),s.$set(i),1040&n){var r;for(A=Object.entries(t[10].header),r=0;r<A.length;r+=1){var o=ii(t,A,r);u[r]?u[r].p(o,n):(u[r]=vi(o),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=A.length}},i:function(t){c||((0,a.Ui)(s.$$.fragment,t),c=!0)},o:function(t){(0,a.etI)(s.$$.fragment,t),c=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(s),(0,a.RMB)(u,t)}}}function vi(t){var e,n,i,r,o,s,l,c=t[11]+"",A=t[4](t[12])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),i=(0,a.fLW)(c),r=(0,a.DhX)(),o=(0,a.bGB)("div"),s=(0,a.fLW)(A),l=(0,a.DhX)(),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(o,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,c){(0,a.$Tr)(t,e,c),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(e,r),(0,a.R3I)(e,o),(0,a.R3I)(o,s),(0,a.R3I)(e,l)},p:function(t,e){1024&e&&c!==(c=t[11]+"")&&(0,a.rTO)(i,c),1024&e&&A!==(A=t[4](t[12])+"")&&(0,a.rTO)(s,A)},d:function(t){t&&(0,a.ogt)(e)}}}function _i(t){var e,n,i,r,o,s=t[10].responseSizeText+"";return{c:function(){e=(0,a.bGB)("div"),(n=(0,a.bGB)("div")).textContent="Size",i=(0,a.DhX)(),r=(0,a.bGB)("div"),o=(0,a.fLW)(s),(0,a.Ljt)(n,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(e,"class","vc-table-row vc-left-border vc-small")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.R3I)(e,n),(0,a.R3I)(e,i),(0,a.R3I)(e,r),(0,a.R3I)(r,o)},p:function(t,e){1024&e&&s!==(s=t[10].responseSizeText+"")&&(0,a.rTO)(o,s)},d:function(t){t&&(0,a.ogt)(e)}}}function wi(t){var e,n,i,r,o,s,l,c,A,u,d,h,p,f,m,g,y,v,_,w,x,b,M,L,C,B,S,E,T,D,I,P,k,F,U,R,O,H,Y,Q,j,N,W,V,z,G,K,Z,X,q,J,$,tt,et,nt,it,rt,ot,at,st,lt,ct,At,ut,ht,pt,ft,mt,gt=t[10].name+"",yt=t[10].method+"",vt=t[10].statusText+"",_t=t[10].costTime+"",wt=t[10].url+"",xt=t[10].method+"",bt=t[10].requestType+"",Mt=t[10].status+"",Lt=t[10].startTimeText+"",Ct=(t[10].response||"")+"";function Bt(){return t[7](t[10])}v=new dt({props:{handler:t[3],content:t[10]}});var St=null!==t[10].requestHeader&&Ai(t),Et=null!==t[10].getData&&di(t),Tt=null!==t[10].postData&&pi(t),Dt=null!==t[10].header&&yi(t);at=new dt({props:{content:t[10].response}});var It=t[10].responseSize>0&&_i(t);return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("dl"),i=(0,a.bGB)("dd"),r=(0,a.fLW)(gt),o=(0,a.bGB)("dd"),s=(0,a.fLW)(yt),l=(0,a.bGB)("dd"),c=(0,a.fLW)(vt),A=(0,a.bGB)("dd"),u=(0,a.fLW)(_t),d=(0,a.DhX)(),h=(0,a.bGB)("div"),p=(0,a.bGB)("div"),f=(0,a.bGB)("dl"),m=(0,a.bGB)("dt"),g=(0,a.fLW)("General\n                "),y=(0,a.bGB)("i"),(0,a.YCL)(v.$$.fragment),_=(0,a.DhX)(),w=(0,a.bGB)("div"),(x=(0,a.bGB)("div")).textContent="URL",b=(0,a.DhX)(),M=(0,a.bGB)("div"),L=(0,a.fLW)(wt),C=(0,a.DhX)(),B=(0,a.bGB)("div"),(S=(0,a.bGB)("div")).textContent="Method",E=(0,a.DhX)(),T=(0,a.bGB)("div"),D=(0,a.fLW)(xt),I=(0,a.DhX)(),P=(0,a.bGB)("div"),(k=(0,a.bGB)("div")).textContent="Request Type",F=(0,a.DhX)(),U=(0,a.bGB)("div"),R=(0,a.fLW)(bt),O=(0,a.DhX)(),H=(0,a.bGB)("div"),(Y=(0,a.bGB)("div")).textContent="HTTP Status",Q=(0,a.DhX)(),j=(0,a.bGB)("div"),N=(0,a.fLW)(Mt),W=(0,a.DhX)(),V=(0,a.bGB)("div"),(z=(0,a.bGB)("div")).textContent="Start Time",G=(0,a.DhX)(),K=(0,a.bGB)("div"),Z=(0,a.fLW)(Lt),X=(0,a.DhX)(),St&&St.c(),q=(0,a.DhX)(),Et&&Et.c(),J=(0,a.DhX)(),Tt&&Tt.c(),$=(0,a.DhX)(),Dt&&Dt.c(),tt=(0,a.DhX)(),et=(0,a.bGB)("div"),nt=(0,a.bGB)("dl"),it=(0,a.bGB)("dt"),rt=(0,a.fLW)("Response\n                "),ot=(0,a.bGB)("i"),(0,a.YCL)(at.$$.fragment),st=(0,a.DhX)(),It&&It.c(),lt=(0,a.DhX)(),ct=(0,a.bGB)("div"),At=(0,a.bGB)("pre"),ut=(0,a.fLW)(Ct),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-4"),(0,a.Ljt)(o,"class","vc-table-col"),(0,a.Ljt)(l,"class","vc-table-col"),(0,a.Ljt)(A,"class","vc-table-col"),(0,a.Ljt)(n,"class","vc-table-row vc-group-preview"),(0,a.VHj)(n,"vc-table-row-error",t[10].status>=400),(0,a.Ljt)(y,"class","vc-table-row-icon"),(0,a.Ljt)(m,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(f,"class","vc-table-row vc-left-border"),(0,a.Ljt)(x,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(M,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(w,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(S,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(T,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(B,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(k,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(U,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(P,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(Y,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(j,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(H,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(z,"class","vc-table-col vc-table-col-2"),(0,a.Ljt)(K,"class","vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"),(0,a.Ljt)(V,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(ot,"class","vc-table-row-icon"),(0,a.Ljt)(it,"class","vc-table-col vc-table-col-title"),(0,a.Ljt)(nt,"class","vc-table-row vc-left-border"),(0,a.Ljt)(At,"class","vc-table-col vc-max-height vc-min-height"),(0,a.Ljt)(At,"data-scrollable","1"),(0,a.Ljt)(ct,"class","vc-table-row vc-left-border vc-small"),(0,a.Ljt)(h,"class","vc-group-detail"),(0,a.Ljt)(e,"slot","item"),(0,a.Ljt)(e,"class","vc-group"),(0,a.Ljt)(e,"id",ht=t[10].id),(0,a.VHj)(e,"vc-actived",t[10].actived)},m:function(t,dt){(0,a.$Tr)(t,e,dt),(0,a.R3I)(e,n),(0,a.R3I)(n,i),(0,a.R3I)(i,r),(0,a.R3I)(n,o),(0,a.R3I)(o,s),(0,a.R3I)(n,l),(0,a.R3I)(l,c),(0,a.R3I)(n,A),(0,a.R3I)(A,u),(0,a.R3I)(e,d),(0,a.R3I)(e,h),(0,a.R3I)(h,p),(0,a.R3I)(p,f),(0,a.R3I)(f,m),(0,a.R3I)(m,g),(0,a.R3I)(m,y),(0,a.yef)(v,y,null),(0,a.R3I)(p,_),(0,a.R3I)(p,w),(0,a.R3I)(w,x),(0,a.R3I)(w,b),(0,a.R3I)(w,M),(0,a.R3I)(M,L),(0,a.R3I)(p,C),(0,a.R3I)(p,B),(0,a.R3I)(B,S),(0,a.R3I)(B,E),(0,a.R3I)(B,T),(0,a.R3I)(T,D),(0,a.R3I)(p,I),(0,a.R3I)(p,P),(0,a.R3I)(P,k),(0,a.R3I)(P,F),(0,a.R3I)(P,U),(0,a.R3I)(U,R),(0,a.R3I)(p,O),(0,a.R3I)(p,H),(0,a.R3I)(H,Y),(0,a.R3I)(H,Q),(0,a.R3I)(H,j),(0,a.R3I)(j,N),(0,a.R3I)(p,W),(0,a.R3I)(p,V),(0,a.R3I)(V,z),(0,a.R3I)(V,G),(0,a.R3I)(V,K),(0,a.R3I)(K,Z),(0,a.R3I)(h,X),St&&St.m(h,null),(0,a.R3I)(h,q),Et&&Et.m(h,null),(0,a.R3I)(h,J),Tt&&Tt.m(h,null),(0,a.R3I)(h,$),Dt&&Dt.m(h,null),(0,a.R3I)(h,tt),(0,a.R3I)(h,et),(0,a.R3I)(et,nt),(0,a.R3I)(nt,it),(0,a.R3I)(it,rt),(0,a.R3I)(it,ot),(0,a.yef)(at,ot,null),(0,a.R3I)(et,st),It&&It.m(et,null),(0,a.R3I)(et,lt),(0,a.R3I)(et,ct),(0,a.R3I)(ct,At),(0,a.R3I)(At,ut),pt=!0,ft||(mt=(0,a.oLt)(n,"click",Bt),ft=!0)},p:function(i,o){t=i,(!pt||1024&o)&&gt!==(gt=t[10].name+"")&&(0,a.rTO)(r,gt),(!pt||1024&o)&&yt!==(yt=t[10].method+"")&&(0,a.rTO)(s,yt),(!pt||1024&o)&&vt!==(vt=t[10].statusText+"")&&(0,a.rTO)(c,vt),(!pt||1024&o)&&_t!==(_t=t[10].costTime+"")&&(0,a.rTO)(u,_t),1024&o&&(0,a.VHj)(n,"vc-table-row-error",t[10].status>=400);var l={};1024&o&&(l.content=t[10]),v.$set(l),(!pt||1024&o)&&wt!==(wt=t[10].url+"")&&(0,a.rTO)(L,wt),(!pt||1024&o)&&xt!==(xt=t[10].method+"")&&(0,a.rTO)(D,xt),(!pt||1024&o)&&bt!==(bt=t[10].requestType+"")&&(0,a.rTO)(R,bt),(!pt||1024&o)&&Mt!==(Mt=t[10].status+"")&&(0,a.rTO)(N,Mt),(!pt||1024&o)&&Lt!==(Lt=t[10].startTimeText+"")&&(0,a.rTO)(Z,Lt),null!==t[10].requestHeader?St?(St.p(t,o),1024&o&&(0,a.Ui)(St,1)):((St=Ai(t)).c(),(0,a.Ui)(St,1),St.m(h,q)):St&&((0,a.dvw)(),(0,a.etI)(St,1,1,(function(){St=null})),(0,a.gbL)()),null!==t[10].getData?Et?(Et.p(t,o),1024&o&&(0,a.Ui)(Et,1)):((Et=di(t)).c(),(0,a.Ui)(Et,1),Et.m(h,J)):Et&&((0,a.dvw)(),(0,a.etI)(Et,1,1,(function(){Et=null})),(0,a.gbL)()),null!==t[10].postData?Tt?(Tt.p(t,o),1024&o&&(0,a.Ui)(Tt,1)):((Tt=pi(t)).c(),(0,a.Ui)(Tt,1),Tt.m(h,$)):Tt&&((0,a.dvw)(),(0,a.etI)(Tt,1,1,(function(){Tt=null})),(0,a.gbL)()),null!==t[10].header?Dt?(Dt.p(t,o),1024&o&&(0,a.Ui)(Dt,1)):((Dt=yi(t)).c(),(0,a.Ui)(Dt,1),Dt.m(h,tt)):Dt&&((0,a.dvw)(),(0,a.etI)(Dt,1,1,(function(){Dt=null})),(0,a.gbL)());var A={};1024&o&&(A.content=t[10].response),at.$set(A),t[10].responseSize>0?It?It.p(t,o):((It=_i(t)).c(),It.m(et,lt)):It&&(It.d(1),It=null),(!pt||1024&o)&&Ct!==(Ct=(t[10].response||"")+"")&&(0,a.rTO)(ut,Ct),(!pt||1024&o&&ht!==(ht=t[10].id))&&(0,a.Ljt)(e,"id",ht),1024&o&&(0,a.VHj)(e,"vc-actived",t[10].actived)},i:function(t){pt||((0,a.Ui)(v.$$.fragment,t),(0,a.Ui)(St),(0,a.Ui)(Et),(0,a.Ui)(Tt),(0,a.Ui)(Dt),(0,a.Ui)(at.$$.fragment,t),pt=!0)},o:function(t){(0,a.etI)(v.$$.fragment,t),(0,a.etI)(St),(0,a.etI)(Et),(0,a.etI)(Tt),(0,a.etI)(Dt),(0,a.etI)(at.$$.fragment,t),pt=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(v),St&&St.d(),Et&&Et.d(),Tt&&Tt.d(),Dt&&Dt.d(),(0,a.vpE)(at),It&&It.d(),ft=!1,mt()}}}function xi(t){var e,n,i,r;return i=new hn({props:{items:t[1],itemKey:"id",itemHeight:30,buffer:100,stickToBottom:!0,scrollbar:!0,$$slots:{item:[wi,function(t){return{10:t.item}},function(t){return t.item?1024:0}],empty:[ci],header:[li]},$$scope:{ctx:t}}}),{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("div"),(0,a.YCL)(i.$$.fragment),(0,a.Ljt)(n,"class","vc-plugin-content"),(0,a.Ljt)(e,"class","vc-table")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.yef)(i,n,null),r=!0},p:function(t,e){var n=e[0],r={};2&n&&(r.items=t[1]),2098177&n&&(r.$$scope={dirty:n,ctx:t}),i.$set(r)},i:function(t){r||((0,a.Ui)(i.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(i.$$.fragment,t),r=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(i)}}}function bi(t,n,i){var r;(0,a.FIv)(t,Zn,(function(t){return i(6,r=t)}));var o=0,l=function(t){i(0,o=Object.keys(t).length)},c=Zn.subscribe(l);l(r);var A=[],u=function(t){(0,a.fxP)(Zn,r[t].actived=!r[t].actived,r)};return(0,s.H3)((function(){ni.use()})),(0,s.ev)((function(){c(),ni.unuse()})),t.$$.update=function(){64&t.$$.dirty&&i(1,A=Object.values(r))},[o,A,u,function(t){var n="curl -X "+t.method;return"string"==typeof t.postData?n+=" -d '"+t.postData+"'":"object"==typeof t.postData&&null!==t.postData&&(n+=" -d '"+e.hZ(t.postData)+"'"),n+" '"+t.url+"'"},function(t){return e.Kn(t)||e.kJ(t)?e.hZ(t,{maxDepth:10,keyMaxLen:1e4,pretty:!0}):t},{fixedHeight:!0},r,function(t){return u(t.id)}]}var Mi=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,bi,xi,a.N8,{options:5}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"options",get:function(){return this.$$.ctx[5]}}]),n}(a.f_C),Li=Mi,Ci=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).model=Xn.getSingleton(Xn,"VConsoleNetworkModel"),e}(0,o.Z)(e,t);var n=e.prototype;return n.add=function(t){var e=new Rn(new Un);for(var n in t)e[n]=t[n];return e.startTime=e.startTime||Date.now(),e.requestType=e.requestType||"custom",this.model.updateRequest(e.id,e),e},n.update=function(t,e){this.model.updateRequest(t,e)},n.clear=function(){this.model.clearLog()},e}(bn),Bi=function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,Li,i)||this).model=Xn.getSingleton(Xn,"VConsoleNetworkModel"),r.exporter=void 0,r.exporter=new Ci(e),r}(0,o.Z)(e,t);var n=e.prototype;return n.onReady=function(){t.prototype.onReady.call(this),this.onUpdateOption()},n.onAddTool=function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(t){e.model.clearLog()}}])},n.onRemove=function(){t.prototype.onRemove.call(this),this.model&&this.model.unMock()},n.onUpdateOption=function(){var t,e,n;(null==(t=this.vConsole.option.network)?void 0:t.maxNetworkNumber)!==this.model.maxNetworkNumber&&(this.model.maxNetworkNumber=Number(null==(n=this.vConsole.option.network)?void 0:n.maxNetworkNumber)||1e3),null!=(e=this.vConsole.option.network)&&e.ignoreUrlRegExp&&(this.model.ignoreUrlRegExp=this.vConsole.option.network.ignoreUrlRegExp)},e}(ot),Si=__nested_webpack_require_131847__(8679),Ei=__nested_webpack_require_131847__.n(Si),Ti=(0,Sn.fZ)(),Di=(0,Sn.fZ)(),Ii=__nested_webpack_require_131847__(5670),Pi={};Ii.Z&&Ii.Z.locals&&(Pi.locals=Ii.Z.locals);var ki,Fi=0,Ui={};Ui.styleTagTransform=v(),Ui.setAttributes=f(),Ui.insert=h().bind(null,"head"),Ui.domAPI=u(),Ui.insertStyleElement=g(),Pi.use=function(t){return Ui.options=t||{},Fi++||(ki=c()(Ii.Z,Ui)),Pi},Pi.unuse=function(){Fi>0&&! --Fi&&(ki(),ki=null)};var Ri=Pi;function Oi(t,e,n){var i=t.slice();return i[8]=e[n],i}function Hi(t,e,n){var i=t.slice();return i[11]=e[n],i}function Yi(t){var e,n,i,r=t[0].nodeType===Node.ELEMENT_NODE&&Qi(t),o=t[0].nodeType===Node.TEXT_NODE&&Ji(t);return{c:function(){e=(0,a.bGB)("div"),r&&r.c(),n=(0,a.DhX)(),o&&o.c(),(0,a.Ljt)(e,"class","vcelm-l"),(0,a.VHj)(e,"vc-actived",t[0]._isActived),(0,a.VHj)(e,"vc-toggle",t[0]._isExpand),(0,a.VHj)(e,"vcelm-noc",t[0]._isSingleLine)},m:function(t,s){(0,a.$Tr)(t,e,s),r&&r.m(e,null),(0,a.R3I)(e,n),o&&o.m(e,null),i=!0},p:function(t,i){t[0].nodeType===Node.ELEMENT_NODE?r?(r.p(t,i),1&i&&(0,a.Ui)(r,1)):((r=Qi(t)).c(),(0,a.Ui)(r,1),r.m(e,n)):r&&((0,a.dvw)(),(0,a.etI)(r,1,1,(function(){r=null})),(0,a.gbL)()),t[0].nodeType===Node.TEXT_NODE?o?o.p(t,i):((o=Ji(t)).c(),o.m(e,null)):o&&(o.d(1),o=null),1&i&&(0,a.VHj)(e,"vc-actived",t[0]._isActived),1&i&&(0,a.VHj)(e,"vc-toggle",t[0]._isExpand),1&i&&(0,a.VHj)(e,"vcelm-noc",t[0]._isSingleLine)},i:function(t){i||((0,a.Ui)(r),i=!0)},o:function(t){(0,a.etI)(r),i=!1},d:function(t){t&&(0,a.ogt)(e),r&&r.d(),o&&o.d()}}}function Qi(t){var e,n,i,r,o,s,l,c,A,u,d=t[0].nodeName+"",h=(t[0].className||t[0].attributes.length)&&ji(t),p=t[0]._isNullEndTag&&zi(),f=t[0].childNodes.length>0&&Gi(t),m=!t[0]._isNullEndTag&&qi(t);return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)("<"),i=(0,a.fLW)(d),h&&h.c(),r=(0,a.cSb)(),p&&p.c(),o=(0,a.fLW)(">"),f&&f.c(),s=(0,a.cSb)(),m&&m.c(),l=(0,a.cSb)(),(0,a.Ljt)(e,"class","vcelm-node")},m:function(d,g){(0,a.$Tr)(d,e,g),(0,a.R3I)(e,n),(0,a.R3I)(e,i),h&&h.m(e,null),(0,a.R3I)(e,r),p&&p.m(e,null),(0,a.R3I)(e,o),f&&f.m(d,g),(0,a.$Tr)(d,s,g),m&&m.m(d,g),(0,a.$Tr)(d,l,g),c=!0,A||(u=(0,a.oLt)(e,"click",t[2]),A=!0)},p:function(t,n){(!c||1&n)&&d!==(d=t[0].nodeName+"")&&(0,a.rTO)(i,d),t[0].className||t[0].attributes.length?h?h.p(t,n):((h=ji(t)).c(),h.m(e,r)):h&&(h.d(1),h=null),t[0]._isNullEndTag?p||((p=zi()).c(),p.m(e,o)):p&&(p.d(1),p=null),t[0].childNodes.length>0?f?(f.p(t,n),1&n&&(0,a.Ui)(f,1)):((f=Gi(t)).c(),(0,a.Ui)(f,1),f.m(s.parentNode,s)):f&&((0,a.dvw)(),(0,a.etI)(f,1,1,(function(){f=null})),(0,a.gbL)()),t[0]._isNullEndTag?m&&(m.d(1),m=null):m?m.p(t,n):((m=qi(t)).c(),m.m(l.parentNode,l))},i:function(t){c||((0,a.Ui)(f),c=!0)},o:function(t){(0,a.etI)(f),c=!1},d:function(t){t&&(0,a.ogt)(e),h&&h.d(),p&&p.d(),f&&f.d(t),t&&(0,a.ogt)(s),m&&m.d(t),t&&(0,a.ogt)(l),A=!1,u()}}}function ji(t){for(var e,n=t[0].attributes,i=[],r=0;r<n.length;r+=1)i[r]=Vi(Hi(t,n,r));return{c:function(){e=(0,a.bGB)("i");for(var t=0;t<i.length;t+=1)i[t].c();(0,a.Ljt)(e,"class","vcelm-k")},m:function(t,n){(0,a.$Tr)(t,e,n);for(var r=0;r<i.length;r+=1)i[r].m(e,null)},p:function(t,r){if(1&r){var o;for(n=t[0].attributes,o=0;o<n.length;o+=1){var a=Hi(t,n,o);i[o]?i[o].p(a,r):(i[o]=Vi(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d:function(t){t&&(0,a.ogt)(e),(0,a.RMB)(i,t)}}}function Ni(t){var e,n=t[11].name+"";return{c:function(){e=(0,a.fLW)(n)},m:function(t,n){(0,a.$Tr)(t,e,n)},p:function(t,i){1&i&&n!==(n=t[11].name+"")&&(0,a.rTO)(e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function Wi(t){var e,n,i,r,o,s=t[11].name+"",l=t[11].value+"";return{c:function(){e=(0,a.fLW)(s),n=(0,a.fLW)('="'),i=(0,a.bGB)("i"),r=(0,a.fLW)(l),o=(0,a.fLW)('"'),(0,a.Ljt)(i,"class","vcelm-v")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.$Tr)(t,n,s),(0,a.$Tr)(t,i,s),(0,a.R3I)(i,r),(0,a.$Tr)(t,o,s)},p:function(t,n){1&n&&s!==(s=t[11].name+"")&&(0,a.rTO)(e,s),1&n&&l!==(l=t[11].value+"")&&(0,a.rTO)(r,l)},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(n),t&&(0,a.ogt)(i),t&&(0,a.ogt)(o)}}}function Vi(t){var e,n;function i(t,e){return""!==t[11].value?Wi:Ni}var r=i(t),o=r(t);return{c:function(){e=(0,a.fLW)("\n            "),o.c(),n=(0,a.cSb)()},m:function(t,i){(0,a.$Tr)(t,e,i),o.m(t,i),(0,a.$Tr)(t,n,i)},p:function(t,e){r===(r=i(t))&&o?o.p(t,e):(o.d(1),(o=r(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){t&&(0,a.ogt)(e),o.d(t),t&&(0,a.ogt)(n)}}}function zi(t){var e;return{c:function(){e=(0,a.fLW)("/")},m:function(t,n){(0,a.$Tr)(t,e,n)},d:function(t){t&&(0,a.ogt)(e)}}}function Gi(t){var e,n,i,r,o=[Zi,Ki],s=[];function l(t,e){return t[0]._isExpand?1:0}return e=l(t),n=s[e]=o[e](t),{c:function(){n.c(),i=(0,a.cSb)()},m:function(t,n){s[e].m(t,n),(0,a.$Tr)(t,i,n),r=!0},p:function(t,r){var c=e;(e=l(t))===c?s[e].p(t,r):((0,a.dvw)(),(0,a.etI)(s[c],1,1,(function(){s[c]=null})),(0,a.gbL)(),(n=s[e])?n.p(t,r):(n=s[e]=o[e](t)).c(),(0,a.Ui)(n,1),n.m(i.parentNode,i))},i:function(t){r||((0,a.Ui)(n),r=!0)},o:function(t){(0,a.etI)(n),r=!1},d:function(t){s[e].d(t),t&&(0,a.ogt)(i)}}}function Ki(t){for(var e,n,i=t[0].childNodes,r=[],o=0;o<i.length;o+=1)r[o]=Xi(Oi(t,i,o));var s=function(t){return(0,a.etI)(r[t],1,1,(function(){r[t]=null}))};return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=(0,a.cSb)()},m:function(t,i){for(var o=0;o<r.length;o+=1)r[o].m(t,i);(0,a.$Tr)(t,e,i),n=!0},p:function(t,n){if(1&n){var o;for(i=t[0].childNodes,o=0;o<i.length;o+=1){var l=Oi(t,i,o);r[o]?(r[o].p(l,n),(0,a.Ui)(r[o],1)):(r[o]=Xi(l),r[o].c(),(0,a.Ui)(r[o],1),r[o].m(e.parentNode,e))}for((0,a.dvw)(),o=i.length;o<r.length;o+=1)s(o);(0,a.gbL)()}},i:function(t){if(!n){for(var e=0;e<i.length;e+=1)(0,a.Ui)(r[e]);n=!0}},o:function(t){r=r.filter(Boolean);for(var e=0;e<r.length;e+=1)(0,a.etI)(r[e]);n=!1},d:function(t){(0,a.RMB)(r,t),t&&(0,a.ogt)(e)}}}function Zi(t){var e;return{c:function(){e=(0,a.fLW)("...")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,i:a.ZTd,o:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function Xi(t){var e,n,i;return(e=new er({props:{node:t[8]}})).$on("toggleNode",t[4]),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)()},m:function(t,r){(0,a.yef)(e,t,r),(0,a.$Tr)(t,n,r),i=!0},p:function(t,n){var i={};1&n&&(i.node=t[8]),e.$set(i)},i:function(t){i||((0,a.Ui)(e.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),i=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n)}}}function qi(t){var e,n,i,r,o=t[0].nodeName+"";return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)("</"),i=(0,a.fLW)(o),r=(0,a.fLW)(">"),(0,a.Ljt)(e,"class","vcelm-node")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.R3I)(e,i),(0,a.R3I)(e,r)},p:function(t,e){1&e&&o!==(o=t[0].nodeName+"")&&(0,a.rTO)(i,o)},d:function(t){t&&(0,a.ogt)(e)}}}function Ji(t){var e,n,i=t[1](t[0].textContent)+"";return{c:function(){e=(0,a.bGB)("span"),n=(0,a.fLW)(i),(0,a.Ljt)(e,"class","vcelm-t vcelm-noc")},m:function(t,i){(0,a.$Tr)(t,e,i),(0,a.R3I)(e,n)},p:function(t,e){1&e&&i!==(i=t[1](t[0].textContent)+"")&&(0,a.rTO)(n,i)},d:function(t){t&&(0,a.ogt)(e)}}}function $i(t){var e,n,i=t[0]&&Yi(t);return{c:function(){i&&i.c(),e=(0,a.cSb)()},m:function(t,r){i&&i.m(t,r),(0,a.$Tr)(t,e,r),n=!0},p:function(t,n){var r=n[0];t[0]?i?(i.p(t,r),1&r&&(0,a.Ui)(i,1)):((i=Yi(t)).c(),(0,a.Ui)(i,1),i.m(e.parentNode,e)):i&&((0,a.dvw)(),(0,a.etI)(i,1,1,(function(){i=null})),(0,a.gbL)())},i:function(t){n||((0,a.Ui)(i),n=!0)},o:function(t){(0,a.etI)(i),n=!1},d:function(t){i&&i.d(t),t&&(0,a.ogt)(e)}}}function tr(t,e,n){var i;(0,a.FIv)(t,Di,(function(t){return n(3,i=t)}));var r=e.node,o=(0,s.x)(),l=["br","hr","img","input","link","meta"];return(0,s.H3)((function(){Ri.use()})),(0,s.ev)((function(){Ri.unuse()})),t.$$set=function(t){"node"in t&&n(0,r=t.node)},t.$$.update=function(){9&t.$$.dirty&&r&&(n(0,r._isActived=r===i,r),n(0,r._isNullEndTag=function(t){return l.indexOf(t.nodeName)>-1}(r),r),n(0,r._isSingleLine=0===r.childNodes.length||r._isNullEndTag,r))},[r,function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},function(){r._isNullEndTag||(n(0,r._isExpand=!r._isExpand,r),o("toggleNode",{node:r}))},i,function(e){a.cKT.call(this,t,e)}]}var er=function(e){function n(t){var n;return n=e.call(this)||this,(0,a.S1n)((0,r.Z)(n),t,tr,$i,a.N8,{node:0}),n}return(0,o.Z)(n,e),(0,t.Z)(n,[{key:"node",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({node:t}),(0,a.yl1)()}}]),n}(a.f_C),nr=er;function ir(t){var e,n,i;return(n=new nr({props:{node:t[0]}})).$on("toggleNode",t[1]),{c:function(){e=(0,a.bGB)("div"),(0,a.YCL)(n.$$.fragment),(0,a.Ljt)(e,"class","vc-plugin-content")},m:function(t,r){(0,a.$Tr)(t,e,r),(0,a.yef)(n,e,null),i=!0},p:function(t,e){var i={};1&e[0]&&(i.node=t[0]),n.$set(i)},i:function(t){i||((0,a.Ui)(n.$$.fragment,t),i=!0)},o:function(t){(0,a.etI)(n.$$.fragment,t),i=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.vpE)(n)}}}function rr(t,e,n){var i;return(0,a.FIv)(t,Ti,(function(t){return n(0,i=t)})),[i,function(e){a.cKT.call(this,t,e)}]}var or=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,r.Z)(n),e,rr,ir,a.N8,{}),n}return(0,o.Z)(e,t),e}(a.f_C),ar=or,sr=function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,ar,i)||this).isInited=!1,r.observer=void 0,r.nodeMap=void 0,r}(0,o.Z)(e,t);var n=e.prototype;return n.onShow=function(){this.isInited||this._init()},n.onRemove=function(){t.prototype.onRemove.call(this),this.isInited&&(this.observer.disconnect(),this.isInited=!1,this.nodeMap=void 0,Ti.set(void 0))},n.onAddTool=function(t){var e=this;t([{name:"Expand",global:!1,onClick:function(t){e._expandActivedNode()}},{name:"Collapse",global:!1,onClick:function(t){e._collapseActivedNode()}}])},n._init=function(){var t=this;this.isInited=!0,this.nodeMap=new WeakMap;var e=this._generateVNode(document.documentElement);e._isExpand=!0,Di.set(e),Ti.set(e),this.compInstance.$on("toggleNode",(function(t){Di.set(t.detail.node)})),this.observer=new(Ei())((function(e){for(var n=0;n<e.length;n++){var i=e[n];t._isInVConsole(i.target)||t._handleMutation(i)}})),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},n._handleMutation=function(t){switch(t.type){case"childList":t.removedNodes.length>0&&this._onChildRemove(t),t.addedNodes.length>0&&this._onChildAdd(t);break;case"attributes":this._onAttributesChange(t);break;case"characterData":this._onCharacterDataChange(t)}},n._onChildRemove=function(t){var e=this.nodeMap.get(t.target);if(e){for(var n=0;n<t.removedNodes.length;n++){var i=this.nodeMap.get(t.removedNodes[n]);if(i){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r]===i){e.childNodes.splice(r,1);break}this.nodeMap.delete(t.removedNodes[n])}}this._refreshStore()}},n._onChildAdd=function(t){var e=this.nodeMap.get(t.target);if(e){for(var n=0;n<t.addedNodes.length;n++){var i=t.addedNodes[n],r=this._generateVNode(i);if(r){var o=void 0,a=i;do{if(null===a.nextSibling)break;a.nodeType===Node.ELEMENT_NODE&&(o=this.nodeMap.get(a.nextSibling)||void 0),a=a.nextSibling}while(void 0===o);if(void 0===o)e.childNodes.push(r);else for(var s=0;s<e.childNodes.length;s++)if(e.childNodes[s]===o){e.childNodes.splice(s,0,r);break}}}this._refreshStore()}},n._onAttributesChange=function(t){this._updateVNodeAttributes(t.target),this._refreshStore()},n._onCharacterDataChange=function(t){var e=this.nodeMap.get(t.target);e&&(e.textContent=t.target.textContent,this._refreshStore())},n._generateVNode=function(t){if(!this._isIgnoredNode(t)){var e={nodeType:t.nodeType,nodeName:t.nodeName.toLowerCase(),textContent:"",id:"",className:"",attributes:[],childNodes:[]};if(this.nodeMap.set(t,e),e.nodeType!=t.TEXT_NODE&&e.nodeType!=t.DOCUMENT_TYPE_NODE||(e.textContent=t.textContent),t.childNodes.length>0){e.childNodes=[];for(var n=0;n<t.childNodes.length;n++){var i=this._generateVNode(t.childNodes[n]);i&&e.childNodes.push(i)}}return this._updateVNodeAttributes(t),e}},n._updateVNodeAttributes=function(t){var e=this.nodeMap.get(t);if(e&&t instanceof Element&&(e.id=t.id||"",e.className=t.className||"",t.hasAttributes&&t.hasAttributes())){e.attributes=[];for(var n=0;n<t.attributes.length;n++)e.attributes.push({name:t.attributes[n].name,value:t.attributes[n].value||""})}},n._expandActivedNode=function(){var t=(0,Sn.U2)(Di);if(t._isExpand)for(var e=0;e<t.childNodes.length;e++)t.childNodes[e]._isExpand=!0;else t._isExpand=!0;this._refreshStore()},n._collapseActivedNode=function(){var t=(0,Sn.U2)(Di);if(t._isExpand){for(var e=!1,n=0;n<t.childNodes.length;n++)t.childNodes[n]._isExpand&&(e=!0,t.childNodes[n]._isExpand=!1);e||(t._isExpand=!1),this._refreshStore()}},n._isIgnoredNode=function(t){if(t.nodeType===t.TEXT_NODE){if(""===t.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,""))return!0}else if(t.nodeType===t.COMMENT_NODE)return!0;return!1},n._isInVConsole=function(t){for(var e=t;void 0!==e;){if("__vconsole"==e.id)return!0;e=e.parentElement||void 0}return!1},n._refreshStore=function(){Ti.update((function(t){return t}))},e}(ot);function lr(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function cr(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){lr(o,i,r,a,s,"next",t)}function s(t){lr(o,i,r,a,s,"throw",t)}a(void 0)}))}}var Ar=__nested_webpack_require_131847__(8270);function ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(n),!0).forEach((function(e){(0,Ar.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var hr=function(t){if(!t||0===t.length)return{};for(var e={},n=t.split(";"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(!(r<0)){var o=n[i].substring(0,r).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),a=n[i].substring(r+1,n[i].length);try{o=decodeURIComponent(o)}catch(t){}try{a=decodeURIComponent(a)}catch(t){}e[o]=a}}return e},pr=function(t,e,n){"undefined"!=typeof document&&void 0!==document.cookie&&(document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+function(t){void 0===t&&(t={});var e=t,n=e.path,i=e.domain,r=e.expires,o=e.secure,a=e.sameSite,s=["none","lax","strict"].indexOf((a||"").toLowerCase())>-1?a:null;return[null==n?"":";path="+n,null==i?"":";domain="+i,null==r?"":";expires="+r.toUTCString(),void 0===o||!1===o?"":";secure",null===s?"":";SameSite="+s].join("")}(n))},fr=function(){return"undefined"==typeof document||void 0===document.cookie?"":document.cookie},mr=function(){function e(){}var n=e.prototype;return n.key=function(t){return t<this.keys.length?this.keys[t]:null},n.setItem=function(t,e,n){pr(t,e,n)},n.getItem=function(t){var e=hr(fr());return Object.prototype.hasOwnProperty.call(e,t)?e[t]:null},n.removeItem=function(t,e){for(var n,i,r=["","/"],o=(null==(n=location)||null==(i=n.hostname)?void 0:i.split("."))||[];o.length>1;)r.push(o.join(".")),o.shift();for(var a=0;a<r.length;a++)for(var s,l,c=(null==(s=location)||null==(l=s.pathname)?void 0:l.split("/"))||[],A="";c.length>0;){A+=("/"===A?"":"/")+c.shift();var u=dr(dr({},e),{},{path:A,domain:r[a],expires:new Date(0)});pr(t,"",u)}},n.clear=function(){for(var t=[].concat(this.keys),e=0;e<t.length;e++)this.removeItem(t[e])},(0,t.Z)(e,[{key:"length",get:function(){return this.keys.length}},{key:"keys",get:function(){var t=hr(fr());return Object.keys(t).sort()}}]),e}(),gr=function(){function n(){this.keys=[],this.currentSize=0,this.limitSize=0}var i=n.prototype;return i.key=function(t){return t<this.keys.length?this.keys[t]:null},i.prepare=function(){var t=cr(we().mark((function t(){var n=this;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){(0,e.qt)("getStorageInfo",{success:function(e){n.keys=e?e.keys.sort():[],n.currentSize=e?e.currentSize:0,n.limitSize=e?e.limitSize:0,t(!0)},fail:function(){i(!1)}})})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.getItem=function(t){return new Promise((function(n,i){(0,e.qt)("getStorage",{key:t,success:function(t){var e=t.data;if("object"==typeof t.data)try{e=JSON.stringify(t.data)}catch(t){}n(e)},fail:function(t){i(t)}})}))},i.setItem=function(t,n){return new Promise((function(i,r){(0,e.qt)("setStorage",{key:t,data:n,success:function(t){i(t)},fail:function(t){r(t)}})}))},i.removeItem=function(t){return new Promise((function(n,i){(0,e.qt)("removeStorage",{key:t,success:function(t){n(t)},fail:function(t){i(t)}})}))},i.clear=function(){return new Promise((function(t,n){(0,e.qt)("clearStorage",{success:function(e){t(e)},fail:function(t){n(t)}})}))},(0,t.Z)(n,[{key:"length",get:function(){return this.keys.length}}]),n}(),yr={updateTime:(0,Sn.fZ)(0),activedName:(0,Sn.fZ)(null),defaultStorages:(0,Sn.fZ)(["cookies","localStorage","sessionStorage"])},vr=function(n){function i(){var t;return(t=n.call(this)||this).storage=new Map,yr.activedName.subscribe((function(t){var e=(0,Sn.U2)(yr.defaultStorages);e.length>0&&-1===e.indexOf(t)&&yr.activedName.set(e[0])})),yr.defaultStorages.subscribe((function(e){-1===e.indexOf((0,Sn.U2)(yr.activedName))&&yr.activedName.set(e[0]),t.updateEnabledStorages()})),t}(0,o.Z)(i,n);var r=i.prototype;return r.getItem=function(){var t=cr(we().mark((function t(e){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return","");case 2:return t.next=4,this.promisify(this.activedStorage.getItem(e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setItem=function(){var t=cr(we().mark((function t(e,n){var i;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.setItem(e,n));case 4:return i=t.sent,this.refresh(),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.removeItem=function(){var t=cr(we().mark((function t(e){var n;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.removeItem(e));case 4:return n=t.sent,this.refresh(),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.clear=function(){var t=cr(we().mark((function t(){var e;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activedStorage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.promisify(this.activedStorage.clear());case 4:return e=t.sent,this.refresh(),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.refresh=function(){yr.updateTime.set(Date.now())},r.getEntries=function(){var t=cr(we().mark((function t(){var e,n,i,r,o;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.activedStorage){t.next=3;break}return t.abrupt("return",[]);case 3:if("function"!=typeof e.prepare){t.next=6;break}return t.next=6,e.prepare();case 6:n=[],i=0;case 8:if(!(i<e.length)){t.next=17;break}return r=e.key(i),t.next=12,this.getItem(r);case 12:o=t.sent,n.push([r,o]);case 14:i++,t.next=8;break;case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.updateEnabledStorages=function(){var t=(0,Sn.U2)(yr.defaultStorages);t.indexOf("cookies")>-1?void 0!==document.cookie&&this.storage.set("cookies",new mr):this.deleteStorage("cookies"),t.indexOf("localStorage")>-1?window.localStorage&&this.storage.set("localStorage",window.localStorage):this.deleteStorage("localStorage"),t.indexOf("sessionStorage")>-1?window.sessionStorage&&this.storage.set("sessionStorage",window.sessionStorage):this.deleteStorage("sessionStorage"),t.indexOf("wxStorage")>-1?(0,e.H_)()&&this.storage.set("wxStorage",new gr):this.deleteStorage("wxStorage")},r.promisify=function(t){return"string"==typeof t||null==t?Promise.resolve(t):t},r.deleteStorage=function(t){this.storage.has(t)&&this.storage.delete(t)},(0,t.Z)(i,[{key:"activedStorage",get:function(){return this.storage.get((0,Sn.U2)(yr.activedName))}}]),i}(En.N);function _r(t,e,n){var i=t.slice();return i[20]=e[n][0],i[21]=e[n][1],i[23]=n,i}function wr(t){var e;return{c:function(){(e=(0,a.bGB)("div")).textContent="Empty",(0,a.Ljt)(e,"class","vc-plugin-empty")},m:function(t,n){(0,a.$Tr)(t,e,n)},p:a.ZTd,d:function(t){t&&(0,a.ogt)(e)}}}function xr(t){var e,n,i,r,o,s=t[20]+"",l=t[5](t[21])+"";return{c:function(){e=(0,a.bGB)("div"),n=(0,a.fLW)(s),i=(0,a.DhX)(),r=(0,a.bGB)("div"),o=(0,a.fLW)(l),(0,a.Ljt)(e,"class","vc-table-col"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-2")},m:function(t,s){(0,a.$Tr)(t,e,s),(0,a.R3I)(e,n),(0,a.$Tr)(t,i,s),(0,a.$Tr)(t,r,s),(0,a.R3I)(r,o)},p:function(t,e){1&e&&s!==(s=t[20]+"")&&(0,a.rTO)(n,s),1&e&&l!==(l=t[5](t[21])+"")&&(0,a.rTO)(o,l)},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(i),t&&(0,a.ogt)(r)}}}function br(t){var e,n,i,r,o,s,l;return{c:function(){e=(0,a.bGB)("div"),n=(0,a.bGB)("textarea"),i=(0,a.DhX)(),r=(0,a.bGB)("div"),o=(0,a.bGB)("textarea"),(0,a.Ljt)(n,"class","vc-table-input"),(0,a.Ljt)(e,"class","vc-table-col"),(0,a.Ljt)(o,"class","vc-table-input"),(0,a.Ljt)(r,"class","vc-table-col vc-table-col-2")},m:function(c,A){(0,a.$Tr)(c,e,A),(0,a.R3I)(e,n),(0,a.BmG)(n,t[2]),(0,a.$Tr)(c,i,A),(0,a.$Tr)(c,r,A),(0,a.R3I)(r,o),(0,a.BmG)(o,t[3]),s||(l=[(0,a.oLt)(n,"input",t[11]),(0,a.oLt)(o,"input",t[12])],s=!0)},p:function(t,e){4&e&&(0,a.BmG)(n,t[2]),8&e&&(0,a.BmG)(o,t[3])},d:function(t){t&&(0,a.ogt)(e),t&&(0,a.ogt)(i),t&&(0,a.ogt)(r),s=!1,(0,a.j7q)(l)}}}function Mr(t){var e,n,i,r,o,s;return(e=new lt.Z({props:{name:"delete"}})).$on("click",(function(){return t[14](t[20])})),i=new dt({props:{content:[t[20],t[21]].join("=")}}),(o=new lt.Z({props:{name:"edit"}})).$on("click",(function(){return t[15](t[20],t[21],t[23])})),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)(),(0,a.YCL)(i.$$.fragment),r=(0,a.DhX)(),(0,a.YCL)(o.$$.fragment)},m:function(t,l){(0,a.yef)(e,t,l),(0,a.$Tr)(t,n,l),(0,a.yef)(i,t,l),(0,a.$Tr)(t,r,l),(0,a.yef)(o,t,l),s=!0},p:function(e,n){t=e;var r={};1&n&&(r.content=[t[20],t[21]].join("=")),i.$set(r)},i:function(t){s||((0,a.Ui)(e.$$.fragment,t),(0,a.Ui)(i.$$.fragment,t),(0,a.Ui)(o.$$.fragment,t),s=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),(0,a.etI)(i.$$.fragment,t),(0,a.etI)(o.$$.fragment,t),s=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n),(0,a.vpE)(i,t),t&&(0,a.ogt)(r),(0,a.vpE)(o,t)}}}function Lr(t){var e,n,i,r;return(e=new lt.Z({props:{name:"cancel"}})).$on("click",t[9]),(i=new lt.Z({props:{name:"done"}})).$on("click",(function(){return t[13](t[20])})),{c:function(){(0,a.YCL)(e.$$.fragment),n=(0,a.DhX)(),(0,a.YCL)(i.$$.fragment)},m:function(t,o){(0,a.yef)(e,t,o),(0,a.$Tr)(t,n,o),(0,a.yef)(i,t,o),r=!0},p:function(e,n){t=e},i:function(t){r||((0,a.Ui)(e.$$.fragment,t),(0,a.Ui)(i.$$.fragment,t),r=!0)},o:function(t){(0,a.etI)(e.$$.fragment,t),(0,a.etI)(i.$$.fragment,t),r=!1},d:function(t){(0,a.vpE)(e,t),t&&(0,a.ogt)(n),(0,a.vpE)(i,t)}}}function Cr(t){var e,n,i,r,o,s,l;function c(t,e){return t[1]===t[23]?br:xr}var A=c(t),u=A(t),d=[Lr,Mr],h=[];function p(t,e){return t[1]===t[23]?0:1}return r=p(t),o=h[r]=d[r](t),{c:function(){e=(0,a.bGB)("div"),u.c(),n=(0,a.DhX)(),i=(0,a.bGB)("div"),o.c(),s=(0,a.DhX)(),(0,a.Ljt)(i,"class","vc-table-col vc-table-col-1 vc-table-action"),(0,a.Ljt)(e,"class","vc-table-row")},m:function(t,o){(0,a.$Tr)(t,e,o),u.m(e,null),(0,a.R3I)(e,n),(0,a.R3I)(e,i),h[r].m(i,null),(0,a.R3I)(e,s),l=!0},p:function(t,s){A===(A=c(t))&&u?u.p(t,s):(u.d(1),(u=A(t))&&(u.c(),u.m(e,n)));var l=r;(r=p(t))===l?h[r].p(t,s):((0,a.dvw)(),(0,a.etI)(h[l],1,1,(function(){h[l]=null})),(0,a.gbL)(),(o=h[r])?o.p(t,s):(o=h[r]=d[r](t)).c(),(0,a.Ui)(o,1),o.m(i,null))},i:function(t){l||((0,a.Ui)(o),l=!0)},o:function(t){(0,a.etI)(o),l=!1},d:function(t){t&&(0,a.ogt)(e),u.d(),h[r].d()}}}function Br(t){for(var e,n,i,r,o=t[0],s=[],l=0;l<o.length;l+=1)s[l]=Cr(_r(t,o,l));var c=function(t){return(0,a.etI)(s[t],1,1,(function(){s[t]=null}))},A=null;return o.length||(A=wr()),{c:function(){e=(0,a.bGB)("div"),(n=(0,a.bGB)("div")).innerHTML='<div class="vc-table-col">Key</div> \n    <div class="vc-table-col vc-table-col-2">Value</div> \n    <div class="vc-table-col vc-table-col-1 vc-table-action"></div>',i=(0,a.DhX)();for(var t=0;t<s.length;t+=1)s[t].c();A&&A.c(),(0,a.Ljt)(n,"class","vc-table-row"),(0,a.Ljt)(e,"class","vc-table")},m:function(t,o){(0,a.$Tr)(t,e,o),(0,a.R3I)(e,n),(0,a.R3I)(e,i);for(var l=0;l<s.length;l+=1)s[l].m(e,null);A&&A.m(e,null),r=!0},p:function(t,n){var i=n[0];if(1007&i){var r;for(o=t[0],r=0;r<o.length;r+=1){var l=_r(t,o,r);s[r]?(s[r].p(l,i),(0,a.Ui)(s[r],1)):(s[r]=Cr(l),s[r].c(),(0,a.Ui)(s[r],1),s[r].m(e,null))}for((0,a.dvw)(),r=o.length;r<s.length;r+=1)c(r);(0,a.gbL)(),!o.length&&A?A.p(t,i):o.length?A&&(A.d(1),A=null):((A=wr()).c(),A.m(e,null))}},i:function(t){if(!r){for(var e=0;e<o.length;e+=1)(0,a.Ui)(s[e]);r=!0}},o:function(t){s=s.filter(Boolean);for(var e=0;e<s.length;e+=1)(0,a.etI)(s[e]);r=!1},d:function(t){t&&(0,a.ogt)(e),(0,a.RMB)(s,t),A&&A.d()}}}function Sr(t,n,i){var r,o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},s=vr.getSingleton(vr,"VConsoleStorageModel"),l=yr.updateTime;(0,a.FIv)(t,l,(function(t){return i(10,r=t)}));var c=[],A=-1,u="",d="",h=function(){i(1,A=-1),i(2,u=""),i(3,d="")},p=function(t){return o(void 0,void 0,void 0,we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.removeItem(t);case 2:case"end":return e.stop()}}),e)})))},f=function(t){return o(void 0,void 0,void 0,we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u===t){e.next=3;break}return e.next=3,s.removeItem(t);case 3:s.setItem(u,d),h();case 5:case"end":return e.stop()}}),e)})))},m=function(t,e,n){return o(void 0,void 0,void 0,we().mark((function r(){return we().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i(2,u=t),i(3,d=e),i(1,A=n);case 3:case"end":return r.stop()}}),r)})))};return t.$$.update=function(){1024&t.$$.dirty&&r&&o(void 0,void 0,void 0,we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.t0=i,t.next=4,s.getEntries();case 4:t.t1=c=t.sent,(0,t.t0)(0,t.t1);case 6:case"end":return t.stop()}}),t)})))},[c,A,u,d,l,function(t){return(0,e.id)(t,1024)},p,f,m,function(){h()},r,function(){u=this.value,i(2,u)},function(){d=this.value,i(3,d)},function(t){return f(t)},function(t){return p(t)},function(t,e,n){return m(t,e,n)}]}var Er=function(t){function e(e){var n;return n=t.call(this)||this,(0,a.S1n)((0,r.Z)(n),e,Sr,Br,a.N8,{}),n}return(0,o.Z)(e,t),e}(a.f_C),Tr=Er,Dr=function(t){function n(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,Tr,i)||this).model=vr.getSingleton(vr,"VConsoleStorageModel"),r.onAddTopBarCallback=void 0,r}(0,o.Z)(n,t);var i=n.prototype;return i.onReady=function(){t.prototype.onReady.call(this),this.onUpdateOption()},i.onShow=function(){this.model.refresh()},i.onAddTopBar=function(t){this.onAddTopBarCallback=t,this.updateTopBar()},i.onAddTool=function(t){var e=this;t([{name:"Add",global:!1,onClick:function(){e.model.setItem("new_"+Date.now(),"new_value")}},{name:"Refresh",global:!1,onClick:function(){e.model.refresh()}},{name:"Clear",global:!1,onClick:function(){e.model.clear()}}])},i.onUpdateOption=function(){var t,n=null==(t=this.vConsole.option.storage)?void 0:t.defaultStorages;(0,e.kJ)(n)&&(n=n.length>0?n:["cookies"])!==(0,Sn.U2)(yr.defaultStorages)&&(yr.defaultStorages.set(n),yr.activedName.set(n[0]),this.updateTopBar())},i.updateTopBar=function(){var t=this;if("function"==typeof this.onAddTopBarCallback){for(var e=(0,Sn.U2)(yr.defaultStorages),n=[],i=0;i<e.length;i++){var r=e[i];n.push({name:r[0].toUpperCase()+r.substring(1),data:{name:r},actived:r===(0,Sn.U2)(yr.activedName),onClick:function(e,n){var i=(0,Sn.U2)(yr.activedName);if(n.name===i)return!1;yr.activedName.set(n.name),t.model.refresh()}})}this.onAddTopBarCallback(n)}},n}(ot),Ir=function(){function n(t){var r=this;if(this.version="3.15.1",this.isInited=!1,this.option={},this.compInstance=void 0,this.pluginList={},this.log=void 0,this.system=void 0,this.network=void 0,n.instance&&n.instance instanceof n)return console.debug("[vConsole] vConsole is already exists."),n.instance;if(n.instance=this,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"],log:{},network:{},storage:{}},e.Kn(t))for(var o in t)this.option[o]=t[o];void 0!==this.option.maxLogNumber&&(this.option.log.maxLogNumber=this.option.maxLogNumber,console.debug("[vConsole] Deprecated option: `maxLogNumber`, use `log.maxLogNumber` instead.")),void 0!==this.option.onClearLog&&console.debug("[vConsole] Deprecated option: `onClearLog`."),void 0!==this.option.maxNetworkNumber&&(this.option.network.maxNetworkNumber=this.option.maxNetworkNumber,console.debug("[vConsole] Deprecated option: `maxNetworkNumber`, use `network.maxNetworkNumber` instead.")),this._addBuiltInPlugins();var a,s=function(){r.isInited||(r._initComponent(),r._autoRun())};void 0!==document?"loading"===document.readyState?i.bind(window,"DOMContentLoaded",s):s():a=setTimeout((function t(){document&&"complete"==document.readyState?(a&&clearTimeout(a),s()):a=setTimeout(t,1)}),1)}var r=n.prototype;return r._addBuiltInPlugins=function(){this.addPlugin(new Cn("default","Log"));var t=this.option.defaultPlugins,n={system:{proto:Bn,name:"System"}};if(n.network={proto:Bi,name:"Network"},n.element={proto:sr,name:"Element"},n.storage={proto:Dr,name:"Storage"},t&&e.kJ(t))for(var i=0;i<t.length;i++){var r=n[t[i]];r?this.addPlugin(new r.proto(t[i],r.name)):console.debug("[vConsole] Unrecognized default plugin ID:",t[i])}},r._initComponent=function(){var t=this;if(!i.one("#__vconsole")){var n,r=1*e.cF("switch_x"),o=1*e.cF("switch_y");"string"==typeof this.option.target?n=document.querySelector(this.option.target):this.option.target instanceof HTMLElement&&(n=this.option.target),n instanceof HTMLElement||(n=document.documentElement),this.compInstance=new it({target:n,props:{switchButtonPosition:{x:r,y:o}}}),this.compInstance.$on("show",(function(e){e.detail.show?t.show():t.hide()})),this.compInstance.$on("changePanel",(function(e){var n=e.detail.pluginId;t.showPlugin(n)}))}this._updateComponentByOptions()},r._updateComponentByOptions=function(){if(this.compInstance){if(this.compInstance.theme!==this.option.theme){var t=this.option.theme;t="light"!==t&&"dark"!==t?"":t,this.compInstance.theme=t}this.compInstance.disableScrolling!==this.option.disableLogScrolling&&(this.compInstance.disableScrolling=!!this.option.disableLogScrolling)}},r.setSwitchPosition=function(t,e){this.compInstance.switchButtonPosition={x:t,y:e}},r._autoRun=function(){for(var t in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[t]);this._showFirstPluginWhenEmpty(),this.triggerEvent("ready")},r._showFirstPluginWhenEmpty=function(){var t=Object.keys(this.pluginList);""===this.compInstance.activedPluginId&&t.length>0&&this.showPlugin(t[0])},r.triggerEvent=function(t,n){var i=this;t="on"+t.charAt(0).toUpperCase()+t.slice(1),e.mf(this.option[t])&&setTimeout((function(){i.option[t].apply(i,n)}),0)},r._initPlugin=function(t){var e=this;t.vConsole=this,this.compInstance.pluginList[t.id]={id:t.id,name:t.name,hasTabPanel:!1,tabOptions:void 0,topbarList:[],toolbarList:[],content:void 0,contentContainer:void 0},this.compInstance.pluginList=this._reorderPluginList(this.compInstance.pluginList),t.trigger("init"),t.trigger("renderTab",(function(n,i){void 0===i&&(i={});var r=e.compInstance.pluginList[t.id];r.hasTabPanel=!0,r.tabOptions=i,n&&(e.compInstance.pluginList[t.id].content=n),e.compInstance.pluginList=e.compInstance.pluginList})),t.trigger("addTopBar",(function(n){if(n){for(var i=[],r=0;r<n.length;r++){var o=n[r];i.push({name:o.name||"Undefined",className:o.className||"",actived:!!o.actived,data:o.data,onClick:o.onClick})}e.compInstance.pluginList[t.id].topbarList=i,e.compInstance.pluginList=e.compInstance.pluginList}})),t.trigger("addTool",(function(n){if(n){for(var i=[],r=0;r<n.length;r++){var o=n[r];i.push({name:o.name||"Undefined",global:!!o.global,data:o.data,onClick:o.onClick})}e.compInstance.pluginList[t.id].toolbarList=i,e.compInstance.pluginList=e.compInstance.pluginList}})),t.isReady=!0,t.trigger("ready")},r._triggerPluginsEvent=function(t){for(var e in this.pluginList)this.pluginList[e].isReady&&this.pluginList[e].trigger(t)},r._triggerPluginEvent=function(t,e){var n=this.pluginList[t];n&&n.isReady&&n.trigger(e)},r._reorderPluginList=function(t){var n=this;if(!e.kJ(this.option.pluginOrder))return t;for(var i=Object.keys(t).sort((function(t,e){var i=n.option.pluginOrder.indexOf(t),r=n.option.pluginOrder.indexOf(e);return i===r?0:-1===i?1:-1===r?-1:i-r})),r={},o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r},r.addPlugin=function(t){return void 0!==this.pluginList[t.id]?(console.debug("[vConsole] Plugin `"+t.id+"` has already been added."),!1):(this.pluginList[t.id]=t,this.isInited&&(this._initPlugin(t),this._showFirstPluginWhenEmpty()),!0)},r.removePlugin=function(t){t=(t+"").toLowerCase();var e=this.pluginList[t];if(void 0===e)return console.debug("[vConsole] Plugin `"+t+"` does not exist."),!1;e.trigger("remove");try{delete this.pluginList[t],delete this.compInstance.pluginList[t]}catch(e){this.pluginList[t]=void 0,this.compInstance.pluginList[t]=void 0}return this.compInstance.pluginList=this.compInstance.pluginList,this.compInstance.activedPluginId==t&&(this.compInstance.activedPluginId="",this._showFirstPluginWhenEmpty()),!0},r.show=function(){this.isInited&&(this.compInstance.show=!0,this._triggerPluginsEvent("showConsole"))},r.hide=function(){this.isInited&&(this.compInstance.show=!1,this._triggerPluginsEvent("hideConsole"))},r.showSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!0)},r.hideSwitch=function(){this.isInited&&(this.compInstance.showSwitchButton=!1)},r.showPlugin=function(t){this.isInited&&(this.pluginList[t]||console.debug("[vConsole] Plugin `"+t+"` does not exist."),this.compInstance.activedPluginId&&this._triggerPluginEvent(this.compInstance.activedPluginId,"hide"),this.compInstance.activedPluginId=t,this._triggerPluginEvent(this.compInstance.activedPluginId,"show"))},r.setOption=function(t,n){if("string"==typeof t){for(var i=t.split("."),r=this.option,o=0;o<i.length;o++){if("__proto__"===i[o]||"constructor"===i[o]||"prototype"===i[o])return void console.debug("[vConsole] Cannot set `"+i[o]+"` in `vConsole.setOption()`.");void 0===r[i[o]]&&(r[i[o]]={}),o===i.length-1&&(r[i[o]]=n),r=r[i[o]]}this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else if(e.Kn(t)){for(var a in t)"__proto__"!==a&&"constructor"!==a&&"prototype"!==a?this.option[a]=t[a]:console.debug("[vConsole] Cannot set `"+a+"` in `vConsole.setOption()`.");this._triggerPluginsEvent("updateOption"),this._updateComponentByOptions()}else console.debug("[vConsole] The first parameter of `vConsole.setOption()` must be a string or an object.")},r.destroy=function(){if(this.isInited){this.isInited=!1,n.instance=void 0;for(var t=Object.keys(this.pluginList),e=t.length-1;e>=0;e--)this.removePlugin(t[e]);this.compInstance.$destroy()}},(0,t.Z)(n,null,[{key:"instance",get:function(){return window.__VCONSOLE_INSTANCE},set:function(t){void 0===t||t instanceof n?window.__VCONSOLE_INSTANCE=t:console.debug("[vConsole] Cannot set `VConsole.instance` because the value is not the instance of VConsole.")}}]),n}();Ir.VConsolePlugin=void 0,Ir.VConsoleLogPlugin=void 0,Ir.VConsoleDefaultPlugin=void 0,Ir.VConsoleSystemPlugin=void 0,Ir.VConsoleNetworkPlugin=void 0,Ir.VConsoleElementPlugin=void 0,Ir.VConsoleStoragePlugin=void 0,Ir.VConsolePlugin=rt,Ir.VConsoleLogPlugin=Ln,Ir.VConsoleDefaultPlugin=Cn,Ir.VConsoleSystemPlugin=Bn,Ir.VConsoleNetworkPlugin=Bi,Ir.VConsoleElementPlugin=sr,Ir.VConsoleStoragePlugin=Dr;var Pr=Ir}(),__nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__}()},module.exports=n()},8207:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/,n=/\s+$/;function i(t,e){if(e=e||{},(t=t||"")instanceof i)return t;if(!(this instanceof i))return new i(t,e);var n=r(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function r(e){var n={r:0,g:0,b:0},i=1,r=null,a=null,l=null,A=!1,u=!1;return"string"==typeof e&&(e=N(e)),"object"==t(e)&&(j(e.r)&&j(e.g)&&j(e.b)?(n=o(e.r,e.g,e.b),A=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):j(e.h)&&j(e.s)&&j(e.v)?(r=F(e.s),a=F(e.v),n=c(e.h,r,a),A=!0,u="hsv"):j(e.h)&&j(e.s)&&j(e.l)&&(r=F(e.s),l=F(e.l),n=s(e.h,r,l),A=!0,u="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=S(i),{ok:A,format:e.format||u,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}function o(t,e,n){return{r:255*E(t,255),g:255*E(e,255),b:255*E(n,255)}}function a(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function s(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=E(t,360),e=E(e,100),n=E(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}function l(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function c(t,e,n){t=6*E(t,360),e=E(e,100),n=E(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}function A(t,e,n,i){var r=[k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function u(t,e,n,i,r){var o=[k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(Math.round(n).toString(16)),k(U(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(t,e,n,i){return[k(U(i)),k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(Math.round(n).toString(16))].join("")}function h(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s-=e/100,n.s=T(n.s),i(n)}function p(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s+=e/100,n.s=T(n.s),i(n)}function f(t){return i(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l+=e/100,n.l=T(n.l),i(n)}function g(t,e){e=0===e?0:e||10;var n=i(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),i(n)}function y(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l-=e/100,n.l=T(n.l),i(n)}function v(t,e){var n=i(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,i(n)}function _(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=i(t).toHsl(),r=[i(t)],o=360/e,a=1;a<e;a++)r.push(i({h:(n.h+a*o)%360,s:n.s,l:n.l}));return r}function x(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+72)%360,s:e.s,l:e.l}),i({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var r=i(t).toHsl(),o=360/n,a=[i(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(i(r));return a}function M(t,e){e=e||6;for(var n=i(t).toHsv(),r=n.h,o=n.s,a=n.v,s=[],l=1/e;e--;)s.push(i({h:r,s:o,v:a})),a=(a+l)%1;return s}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=S(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return A(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return u(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*E(this._r,255))+"%",g:Math.round(100*E(this._g,255))+"%",b:Math.round(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*E(this._r,255))+"%, "+Math.round(100*E(this._g,255))+"%, "+Math.round(100*E(this._b,255))+"%)":"rgba("+Math.round(100*E(this._r,255))+"%, "+Math.round(100*E(this._g,255))+"%, "+Math.round(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[A(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=i(t);n="#"+d(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},i.fromRatio=function(e,n){if("object"==t(e)){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]="a"===o?e[o]:F(e[o]));e=r}return i(e,n)},i.equals=function(t,e){return!(!t||!e)&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},i.mix=function(t,e,n){n=0===n?0:n||50;var r=i(t).toRgb(),o=i(e).toRgb(),a=n/100;return i({r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a})},i.readability=function(t,e){var n=i(t),r=i(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(t,e,n){var r,o,a=i.readability(t,e);switch(o=!1,(r=W(n)).level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},i.mostReadable=function(t,e,n){var r,o,a,s,l=null,c=0;o=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var A=0;A<e.length;A++)(r=i.readability(t,e[A]))>c&&(c=r,l=i(e[A]));return i.isReadable(t,l,{level:a,size:s})||!o?l:(n.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],n))};var L=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=i.hexNames=B(L);function B(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function E(t,e){I(t)&&(t="100%");var n=P(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return Math.min(1,Math.max(0,t))}function D(t){return parseInt(t,16)}function I(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function P(t){return"string"==typeof t&&-1!=t.indexOf("%")}function k(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function U(t){return Math.round(255*parseFloat(t)).toString(16)}function R(t){return D(t)/255}var O,H,Y,Q=(H="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",Y="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+Y),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+Y),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+Y),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function j(t){return!!Q.CSS_UNIT.exec(t)}function N(t){t=t.replace(e,"").replace(n,"").toLowerCase();var i,r=!1;if(L[t])t=L[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(i=Q.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Q.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Q.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Q.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Q.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Q.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Q.hex8.exec(t))?{r:D(i[1]),g:D(i[2]),b:D(i[3]),a:R(i[4]),format:r?"name":"hex8"}:(i=Q.hex6.exec(t))?{r:D(i[1]),g:D(i[2]),b:D(i[3]),format:r?"name":"hex"}:(i=Q.hex4.exec(t))?{r:D(i[1]+""+i[1]),g:D(i[2]+""+i[2]),b:D(i[3]+""+i[3]),a:R(i[4]+""+i[4]),format:r?"name":"hex8"}:!!(i=Q.hex3.exec(t))&&{r:D(i[1]+""+i[1]),g:D(i[2]+""+i[2]),b:D(i[3]+""+i[3]),format:r?"name":"hex"}}function W(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}return i}()},2536:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});const i=function(){this.__data__=[],this.size=0};var r=n(9651);const o=function(t,e){for(var n=t.length;n--;)if((0,r.Z)(t[n][0],e))return n;return-1};var a=Array.prototype.splice;const s=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)};const l=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]};const c=function(t){return o(this.__data__,t)>-1};const A=function(t,e){var n=this.__data__,i=o(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=l,u.prototype.has=c,u.prototype.set=A;const d=u},6183:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(5084),r=n(6092);const o=(0,i.Z)(r.Z,"Map")},520:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});const i=(0,n(5084).Z)(Object,"create");const r=function(){this.__data__=i?i(null):{},this.size=0};const o=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var a=Object.prototype.hasOwnProperty;const s=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0};var l=Object.prototype.hasOwnProperty;const c=function(t){var e=this.__data__;return i?void 0!==e[t]:l.call(e,t)};const A=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=c,u.prototype.set=A;const d=u;var h=n(2536),p=n(6183);const f=function(){this.size=0,this.__data__={hash:new d,map:new(p.Z||h.Z),string:new d}};const m=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const g=function(t,e){var n=t.__data__;return m(e)?n["string"==typeof e?"string":"hash"]:n.map};const y=function(t){var e=g(this,t).delete(t);return this.size-=e?1:0,e};const v=function(t){return g(this,t).get(t)};const _=function(t){return g(this,t).has(t)};const w=function(t,e){var n=g(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function x(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}x.prototype.clear=f,x.prototype.delete=y,x.prototype.get=v,x.prototype.has=_,x.prototype.set=w;const b=x},3203:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(5084),r=n(6092);const o=(0,i.Z)(r.Z,"Set")},5668:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(520);const r=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const o=function(t){return this.__data__.has(t)};function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i.Z;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o;const s=a},5365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(2536);const r=function(){this.__data__=new i.Z,this.size=0};const o=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const a=function(t){return this.__data__.get(t)};const s=function(t){return this.__data__.has(t)};var l=n(6183),c=n(520);const A=function(t,e){var n=this.__data__;if(n instanceof i.Z){var r=n.__data__;if(!l.Z||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new c.Z(r)}return n.set(t,e),this.size=n.size,this};function u(t){var e=this.__data__=new i.Z(t);this.size=e.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=A;const d=u},7685:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(6092).Z.Symbol},7623:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(6092).Z.Uint8Array},3840:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(5084),r=n(6092);const o=(0,i.Z)(r.Z,"WeakMap")},8774:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},3771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var i=n(2889),r=n(4732),o=n(7771),a=n(5763),s=n(6009),l=n(7212),c=Object.prototype.hasOwnProperty;const A=function(t,e){var n=(0,o.Z)(t),A=!n&&(0,r.Z)(t),u=!n&&!A&&(0,a.Z)(t),d=!n&&!A&&!u&&(0,l.Z)(t),h=n||A||u||d,p=h?(0,i.Z)(t.length,String):[],f=p.length;for(var m in t)!e&&!c.call(t,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,s.Z)(m,f))||p.push(m);return p}},4073:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},8694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},2338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},3317:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(7449),r=n(2281);const o=function(t,e){for(var n=0,o=(e=(0,i.Z)(e,t)).length;null!=t&&n<o;)t=t[(0,r.Z)(e[n++])];return n&&n==o?t:void 0}},3327:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(8694),r=n(7771);const o=function(t,e,n){var o=e(t);return(0,r.Z)(t)?o:(0,i.Z)(o,n(t))}},3243:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(7685),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i.Z?i.Z.toStringTag:void 0;const l=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r};var c=Object.prototype.toString;const A=function(t){return c.call(t)};var u=i.Z?i.Z.toStringTag:void 0;const d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?l(t):A(t)}},1443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>E});var i=n(5365),r=n(5668),o=n(2338),a=n(9548);const s=function(t,e,n,i,s,l){var c=1&n,A=t.length,u=e.length;if(A!=u&&!(c&&u>A))return!1;var d=l.get(t),h=l.get(e);if(d&&h)return d==e&&h==t;var p=-1,f=!0,m=2&n?new r.Z:void 0;for(l.set(t,e),l.set(e,t);++p<A;){var g=t[p],y=e[p];if(i)var v=c?i(y,g,p,e,t,l):i(g,y,p,t,e,l);if(void 0!==v){if(v)continue;f=!1;break}if(m){if(!(0,o.Z)(e,(function(t,e){if(!(0,a.Z)(m,e)&&(g===t||s(g,t,n,i,l)))return m.push(e)}))){f=!1;break}}else if(g!==y&&!s(g,y,n,i,l)){f=!1;break}}return l.delete(t),l.delete(e),f};var l=n(7685),c=n(7623),A=n(9651),u=n(4910),d=n(6545),h=l.Z?l.Z.prototype:void 0,p=h?h.valueOf:void 0;const f=function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new c.Z(t),new c.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,A.Z)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=u.Z;case"[object Set]":var h=1&i;if(l||(l=d.Z),t.size!=e.size&&!h)return!1;var f=a.get(t);if(f)return f==e;i|=2,a.set(t,e);var m=s(l(t),l(e),i,r,o,a);return a.delete(t),m;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1};var m=n(6705),g=Object.prototype.hasOwnProperty;const y=function(t,e,n,i,r,o){var a=1&n,s=(0,m.Z)(t),l=s.length;if(l!=(0,m.Z)(e).length&&!a)return!1;for(var c=l;c--;){var A=s[c];if(!(a?A in e:g.call(e,A)))return!1}var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<l;){var f=t[A=s[c]],y=e[A];if(i)var v=a?i(y,f,A,e,t,o):i(f,y,A,t,e,o);if(!(void 0===v?f===y||r(f,y,n,i,o):v)){h=!1;break}p||(p="constructor"==A)}if(h&&!p){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(h=!1)}return o.delete(t),o.delete(e),h};var v=n(762),_=n(7771),w=n(5763),x=n(7212),b="[object Arguments]",M="[object Array]",L="[object Object]",C=Object.prototype.hasOwnProperty;const B=function(t,e,n,r,o,a){var l=(0,_.Z)(t),c=(0,_.Z)(e),A=l?M:(0,v.Z)(t),u=c?M:(0,v.Z)(e),d=(A=A==b?L:A)==L,h=(u=u==b?L:u)==L,p=A==u;if(p&&(0,w.Z)(t)){if(!(0,w.Z)(e))return!1;l=!0,d=!1}if(p&&!d)return a||(a=new i.Z),l||(0,x.Z)(t)?s(t,e,n,r,o,a):f(t,e,A,n,r,o,a);if(!(1&n)){var m=d&&C.call(t,"__wrapped__"),g=h&&C.call(e,"__wrapped__");if(m||g){var B=m?t.value():t,S=g?e.value():e;return a||(a=new i.Z),o(B,S,n,r,a)}}return!!p&&(a||(a=new i.Z),y(t,e,n,r,o,a))};var S=n(8533);const E=function t(e,n,i,r,o){return e===n||(null==e||null==n||!(0,S.Z)(e)&&!(0,S.Z)(n)?e!=e&&n!=n:B(e,n,i,r,t,o))}},4808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var i,r=n(3234),o=n(1819),a=(i=/[^.]+$/.exec(o.Z&&o.Z.keys&&o.Z.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";const s=function(t){return!!a&&a in t};var l=n(7226),c=n(19),A=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,h=u.toString,p=d.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(t){return!(!(0,l.Z)(t)||s(t))&&((0,r.Z)(t)?f:A).test((0,c.Z)(t))}},8448:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(2764);const r=(0,n(1851).Z)(Object.keys,Object);var o=Object.prototype.hasOwnProperty;const a=function(t){if(!(0,i.Z)(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},4193:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return function(e){return null==e?void 0:e[t]}}},5807:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Math.floor;const r=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=i(e/2))&&(t+=t)}while(e);return n}},7855:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}},2889:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},2845:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(7685),r=n(4073),o=n(7771),a=n(2714),s=i.Z?i.Z.prototype:void 0,l=s?s.toString:void 0;const c=function t(e){if("string"==typeof e)return e;if((0,o.Z)(e))return(0,r.Z)(e,t)+"";if((0,a.Z)(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},3404:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(7170),r=/^\s+/;const o=function(t){return t?t.slice(0,(0,i.Z)(t)+1).replace(r,""):t}},1162:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return function(e){return t(e)}}},9548:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return t.has(e)}},7449:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(7771),r=n(9365),o=n(474),a=n(7338);const s=function(t,e){return(0,i.Z)(t)?t:(0,r.Z)(t,e)?[t]:(0,o.Z)((0,a.Z)(t))}},5042:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(7855);const r=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:(0,i.Z)(t,e,n)}},1819:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(6092).Z["__core-js_shared__"]},9628:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var i=n(5807),r=n(2845),o=n(5042),a=n(9047),s=n(5625),l=n(5876),c=Math.ceil;const A=function(t,e){var n=(e=void 0===e?" ":(0,r.Z)(e)).length;if(n<2)return n?(0,i.Z)(e,t):e;var A=(0,i.Z)(e,c(t/(0,s.Z)(e)));return(0,a.Z)(e)?(0,o.Z)((0,l.Z)(A),0,t).join(""):A.slice(0,t)}},3413:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i="object"==typeof global&&global&&global.Object===Object&&global},6705:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(3327),r=n(5695),o=n(7179);const a=function(t){return(0,i.Z)(t,o.Z,r.Z)}},5084:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(4808);const r=function(t,e){return null==t?void 0:t[e]};const o=function(t,e){var n=r(t,e);return(0,i.Z)(n)?n:void 0}},5695:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(8774),r=n(532),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;const s=a?function(t){return null==t?[]:(t=Object(t),(0,i.Z)(a(t),(function(e){return o.call(t,e)})))}:r.Z},762:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var i=n(5084),r=n(6092);const o=(0,i.Z)(r.Z,"DataView");var a=n(6183);const s=(0,i.Z)(r.Z,"Promise");var l=n(3203),c=n(3840),A=n(3243),u=n(19),d="[object Map]",h="[object Promise]",p="[object Set]",f="[object WeakMap]",m="[object DataView]",g=(0,u.Z)(o),y=(0,u.Z)(a.Z),v=(0,u.Z)(s),_=(0,u.Z)(l.Z),w=(0,u.Z)(c.Z),x=A.Z;(o&&x(new o(new ArrayBuffer(1)))!=m||a.Z&&x(new a.Z)!=d||s&&x(s.resolve())!=h||l.Z&&x(new l.Z)!=p||c.Z&&x(new c.Z)!=f)&&(x=function(t){var e=(0,A.Z)(t),n="[object Object]"==e?t.constructor:void 0,i=n?(0,u.Z)(n):"";if(i)switch(i){case g:return m;case y:return d;case v:return h;case _:return p;case w:return f}return e});const b=x},6174:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(7449),r=n(4732),o=n(7771),a=n(6009),s=n(1656),l=n(2281);const c=function(t,e,n){for(var c=-1,A=(e=(0,i.Z)(e,t)).length,u=!1;++c<A;){var d=(0,l.Z)(e[c]);if(!(u=null!=t&&n(t,d)))break;t=t[d]}return u||++c!=A?u:!!(A=null==t?0:t.length)&&(0,s.Z)(A)&&(0,a.Z)(d,A)&&((0,o.Z)(t)||(0,r.Z)(t))}},9047:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const r=function(t){return i.test(t)}},6009:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=/^(?:0|[1-9]\d*)$/;const r=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},9365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(7771),r=n(2714),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;const s=function(t,e){if((0,i.Z)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!(0,r.Z)(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},2764:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Object.prototype;const r=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},4910:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},8351:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3413),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===r&&i.Z.process;const s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}()},1851:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return function(n){return t(e(n))}}},6092:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3413),r="object"==typeof self&&self&&self.Object===Object&&self;const o=i.Z||r||Function("return this")()},6545:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},5625:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});const i=(0,n(4193).Z)("length");var r=n(9047),o="\\ud800-\\udfff",a="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",c="[^"+o+"]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+s+"|"+l+")"+"?",h="[\\ufe0e\\ufe0f]?",p=h+d+("(?:\\u200d(?:"+[c,A,u].join("|")+")"+h+d+")*"),f="(?:"+[c+s+"?",s,A,u,a].join("|")+")",m=RegExp(l+"(?="+l+")|"+f+p,"g");const g=function(t){for(var e=m.lastIndex=0;m.test(t);)++e;return e};const y=function(t){return(0,r.Z)(t)?g(t):i(t)}},5876:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});const i=function(t){return t.split("")};var r=n(9047),o="\\ud800-\\udfff",a="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",c="[^"+o+"]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+s+"|"+l+")"+"?",h="[\\ufe0e\\ufe0f]?",p=h+d+("(?:\\u200d(?:"+[c,A,u].join("|")+")"+h+d+")*"),f="(?:"+[c+s+"?",s,A,u,a].join("|")+")",m=RegExp(l+"(?="+l+")|"+f+p,"g");const g=function(t){return t.match(m)||[]};const y=function(t){return(0,r.Z)(t)?g(t):i(t)}},474:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(2454);var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;const a=function(t){var e=(0,i.Z)(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}))},2281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2714);const r=function(t){if("string"==typeof t||(0,i.Z)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},19:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Function.prototype.toString;const r=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7170:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=/\s/;const r=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},9651:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return t===e||t!=t&&e!=e}},6423:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(3317);const r=function(t,e,n){var r=null==t?void 0:(0,i.Z)(t,e);return void 0===r?n:r}},1910:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const i=function(t,e){return null!=t&&e in Object(t)};var r=n(6174);const o=function(t,e){return null!=t&&(0,r.Z)(t,e,i)}},4732:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(3243),r=n(8533);const o=function(t){return(0,r.Z)(t)&&"[object Arguments]"==(0,i.Z)(t)};var a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;const c=o(function(){return arguments}())?o:function(t){return(0,r.Z)(t)&&s.call(t,"callee")&&!l.call(t,"callee")}},7771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=Array.isArray},585:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3234),r=n(1656);const o=function(t){return null!=t&&(0,r.Z)(t.length)&&!(0,i.Z)(t)}},5763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(6092),r=n(7979),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===o?i.Z.Buffer:void 0;const l=(s?s.isBuffer:void 0)||r.Z},576:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(1443);const r=function(t,e){return(0,i.Z)(t,e)}},3234:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3243),r=n(7226);const o=function(t){if(!(0,r.Z)(t))return!1;var e=(0,i.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1656:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},7226:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},8533:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return null!=t&&"object"==typeof t}},2714:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3243),r=n(8533);const o=function(t){return"symbol"==typeof t||(0,r.Z)(t)&&"[object Symbol]"==(0,i.Z)(t)}},7212:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(3243),r=n(1656),o=n(8533),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;const s=function(t){return(0,o.Z)(t)&&(0,r.Z)(t.length)&&!!a[(0,i.Z)(t)]};var l=n(1162),c=n(8351),A=c.Z&&c.Z.isTypedArray;const u=A?(0,l.Z)(A):s},9360:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return void 0===t}},7179:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(3771),r=n(8448),o=n(585);const a=function(t){return(0,o.Z)(t)?(0,i.Z)(t):(0,r.Z)(t)}},1808:(t,e,n)=>{"use strict";n.r(e),n.d(e,{add:()=>s,after:()=>c,ary:()=>It,assign:()=>Kt,assignIn:()=>ee,assignInWith:()=>ie,assignWith:()=>oe,at:()=>me,attempt:()=>Be,before:()=>Se,bind:()=>Te,bindAll:()=>Ie,bindKey:()=>ke,camelCase:()=>Cn,capitalize:()=>Qe,castArray:()=>Bn,ceil:()=>In,chain:()=>Pn,chunk:()=>Rn,clamp:()=>Hn,clone:()=>Di,cloneDeep:()=>Ii,cloneDeepWith:()=>Pi,cloneWith:()=>ki,commit:()=>Fi,compact:()=>Ui,concat:()=>Ri,cond:()=>$i,conforms:()=>nr,conformsTo:()=>ir,constant:()=>et,countBy:()=>pr,create:()=>fr,curry:()=>gr,curryRight:()=>vr,debounce:()=>br,deburr:()=>Ge,default:()=>yh,defaultTo:()=>Mr,defaults:()=>Sr,defaultsDeep:()=>Yr,defer:()=>Nr,delay:()=>Vr,difference:()=>qr,differenceBy:()=>to,differenceWith:()=>no,divide:()=>io,drop:()=>ro,dropRight:()=>oo,dropRightWhile:()=>so,dropWhile:()=>lo,each:()=>Ao,eachRight:()=>mo,endsWith:()=>go,entries:()=>xo,entriesIn:()=>bo,eq:()=>kt.Z,escape:()=>Bo,escapeRegExp:()=>To,every:()=>Po,extend:()=>ee,extendWith:()=>ie,fill:()=>Uo,filter:()=>Ho,find:()=>No,findIndex:()=>jo,findKey:()=>Vo,findLast:()=>Zo,findLastIndex:()=>Ko,findLastKey:()=>Xo,first:()=>qo,flatMap:()=>ta,flatMapDeep:()=>na,flatMapDepth:()=>ia,flatten:()=>pe,flattenDeep:()=>oa,flattenDepth:()=>aa,flip:()=>sa,floor:()=>la,flow:()=>Aa,flowRight:()=>ua,forEach:()=>Ao,forEachRight:()=>mo,forIn:()=>da,forInRight:()=>ha,forOwn:()=>pa,forOwnRight:()=>fa,fromPairs:()=>ma,functions:()=>ya,functionsIn:()=>va,get:()=>ae.Z,groupBy:()=>xa,gt:()=>La,gte:()=>Ca,has:()=>Ta,hasIn:()=>Vi.Z,head:()=>qo,identity:()=>A,inRange:()=>Fa,includes:()=>Ya,indexOf:()=>ja,initial:()=>Na,intersection:()=>Ga,intersectionBy:()=>Za,intersectionWith:()=>Xa,invert:()=>es,invertBy:()=>as,invoke:()=>As,invokeMap:()=>ds,isArguments:()=>Ae.Z,isArray:()=>H.Z,isArrayBuffer:()=>fs,isArrayLike:()=>Qt.Z,isArrayLikeObject:()=>Tr,isBoolean:()=>ms,isBuffer:()=>gi.Z,isDate:()=>vs,isElement:()=>_s,isEmpty:()=>bs,isEqual:()=>Ms.Z,isEqualWith:()=>Ls,isError:()=>Le,isFinite:()=>Bs,isFunction:()=>Dr.Z,isInteger:()=>Ss,isLength:()=>Es.Z,isMap:()=>xi,isMatch:()=>Ts,isMatchWith:()=>Ds,isNaN:()=>Ps,isNative:()=>Os,isNil:()=>Hs,isNull:()=>Ys,isNumber:()=>Is,isObject:()=>f.Z,isObjectLike:()=>Y.Z,isPlainObject:()=>Me,isRegExp:()=>Ns,isSafeInteger:()=>Vs,isSet:()=>Li,isString:()=>Ua,isSymbol:()=>i.Z,isTypedArray:()=>Ir.Z,isUndefined:()=>zs.Z,isWeakMap:()=>Gs,isWeakSet:()=>Ks,iteratee:()=>Zs,join:()=>qs,kebabCase:()=>$s,keyBy:()=>el,keys:()=>Vt.Z,keysIn:()=>$t,last:()=>Jr,lastIndexOf:()=>ol,lodash:()=>V,lowerCase:()=>sl,lowerFirst:()=>ll,lt:()=>Al,lte:()=>ul,map:()=>$o,mapKeys:()=>dl,mapValues:()=>hl,matches:()=>pl,matchesProperty:()=>fl,max:()=>gl,maxBy:()=>yl,mean:()=>wl,meanBy:()=>xl,memoize:()=>bl.Z,merge:()=>Ll,mergeWith:()=>Hr,method:()=>Cl,methodOf:()=>Bl,min:()=>Sl,minBy:()=>El,mixin:()=>Tl,multiply:()=>Dl,negate:()=>Il,next:()=>Rl,noop:()=>D,now:()=>_r,nth:()=>Hl,nthArg:()=>Yl,omit:()=>Wl,omitBy:()=>Kl,once:()=>Zl,orderBy:()=>tc,over:()=>nc,overArgs:()=>ac,overEvery:()=>sc,overSome:()=>cc,pad:()=>pc,padEnd:()=>fc,padStart:()=>mc.Z,parseInt:()=>vc,partial:()=>wc,partialRight:()=>bc,partition:()=>Lc,pick:()=>Bc,pickBy:()=>Gl,plant:()=>Sc,property:()=>qi,propertyOf:()=>Ec,pull:()=>kc,pullAll:()=>Pc,pullAllBy:()=>Fc,pullAllWith:()=>Uc,pullAt:()=>Yc,random:()=>Gc,range:()=>Jc,rangeRight:()=>$c,rearg:()=>eA,reduce:()=>iA,reduceRight:()=>oA,reject:()=>aA,remove:()=>sA,repeat:()=>cA,replace:()=>AA,rest:()=>uA,result:()=>dA,reverse:()=>pA,round:()=>fA,sample:()=>yA,sampleSize:()=>xA,set:()=>bA,setWith:()=>MA,shuffle:()=>BA,size:()=>SA,slice:()=>EA,snakeCase:()=>DA,some:()=>PA,sortBy:()=>kA,sortedIndex:()=>HA,sortedIndexBy:()=>YA,sortedIndexOf:()=>QA,sortedLastIndex:()=>jA,sortedLastIndexBy:()=>NA,sortedLastIndexOf:()=>WA,sortedUniq:()=>zA,sortedUniqBy:()=>GA,split:()=>KA,spread:()=>XA,startCase:()=>JA,startsWith:()=>$A,stubArray:()=>Xn.Z,stubFalse:()=>Us.Z,stubObject:()=>tu,stubString:()=>eu,stubTrue:()=>nu,subtract:()=>iu,sum:()=>ru,sumBy:()=>ou,tail:()=>au,take:()=>su,takeRight:()=>lu,takeRightWhile:()=>cu,takeWhile:()=>Au,tap:()=>uu,template:()=>Bu,templateSettings:()=>yu,throttle:()=>Su,thru:()=>Eu,times:()=>Pu,toArray:()=>Ul,toFinite:()=>ka.Z,toInteger:()=>l.Z,toIterator:()=>ku,toJSON:()=>Uu,toLength:()=>ko,toLower:()=>Ru,toNumber:()=>Sn.Z,toPairs:()=>xo,toPairsIn:()=>bo,toPath:()=>Hu,toPlainObject:()=>kr,toSafeInteger:()=>Qu,toString:()=>Fe.Z,toUpper:()=>ju,transform:()=>Nu,trim:()=>Gu,trimEnd:()=>Zu,trimStart:()=>qu,truncate:()=>$u,unary:()=>td,unescape:()=>rd,union:()=>cd,unionBy:()=>ud,unionWith:()=>dd,uniq:()=>hd,uniqBy:()=>pd,uniqWith:()=>fd,uniqueId:()=>gd,unset:()=>yd,unzip:()=>_d,unzipWith:()=>wd,update:()=>bd,updateWith:()=>Md,upperCase:()=>Cd,upperFirst:()=>Ye,value:()=>Uu,valueOf:()=>Uu,values:()=>Oa,valuesIn:()=>Bd,without:()=>Ed,words:()=>xn,wrap:()=>Td,wrapperAt:()=>Dd,wrapperChain:()=>Id,wrapperCommit:()=>Fi,wrapperLodash:()=>V,wrapperNext:()=>Rl,wrapperPlant:()=>Sc,wrapperReverse:()=>Pd,wrapperToIterator:()=>ku,wrapperValue:()=>Uu,xor:()=>Fd,xorBy:()=>Rd,xorWith:()=>Od,zip:()=>Hd,zipObject:()=>Qd,zipObjectDeep:()=>jd,zipWith:()=>Wd});var i=n(2714);const r=function(t){return"number"==typeof t?t:(0,i.Z)(t)?NaN:+t};var o=n(2845);const a=function(t,e){return function(n,i){var a;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(a=n),void 0!==i){if(void 0===a)return i;"string"==typeof n||"string"==typeof i?(n=(0,o.Z)(n),i=(0,o.Z)(i)):(n=r(n),i=r(i)),a=t(n,i)}return a}};const s=a((function(t,e){return t+e}),0);var l=n(4930);const c=function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=(0,l.Z)(t),function(){if(--t<1)return e.apply(this,arguments)}};const A=function(t){return t};var u=n(3840);const d=u.Z&&new u.Z;var h=d?function(t,e){return d.set(t,e),t}:A;const p=h;var f=n(7226),m=Object.create,g=function(){function t(){}return function(e){if(!(0,f.Z)(e))return{};if(m)return m(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const y=g;const v=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=y(t.prototype),i=t.apply(n,e);return(0,f.Z)(i)?i:n}};var _=n(6092);const w=function(t,e,n){var i=1&e,r=v(t);return function e(){return(this&&this!==_.Z&&this instanceof e?r:t).apply(i?n:this,arguments)}};const x=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var b=Math.max;const M=function(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,c=b(o-a,0),A=Array(l+c),u=!i;++s<l;)A[s]=e[s];for(;++r<a;)(u||r<o)&&(A[n[r]]=t[r]);for(;c--;)A[s++]=t[r++];return A};var L=Math.max;const C=function(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,A=L(o-s,0),u=Array(A+c),d=!i;++r<A;)u[r]=t[r];for(var h=r;++l<c;)u[h+l]=e[l];for(;++a<s;)(d||r<o)&&(u[h+n[a]]=t[r++]);return u};const B=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i};const S=function(){};function E(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}E.prototype=y(S.prototype),E.prototype.constructor=E;const T=E;const D=function(){};var I=d?function(t){return d.get(t)}:D;const P=I;const k={};var F=Object.prototype.hasOwnProperty;const U=function(t){for(var e=t.name+"",n=k[e],i=F.call(k,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e};function R(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}R.prototype=y(S.prototype),R.prototype.constructor=R;const O=R;var H=n(7771),Y=n(8533);const Q=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};const j=function(t){if(t instanceof T)return t.clone();var e=new O(t.__wrapped__,t.__chain__);return e.__actions__=Q(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e};var N=Object.prototype.hasOwnProperty;function W(t){if((0,Y.Z)(t)&&!(0,H.Z)(t)&&!(t instanceof T)){if(t instanceof O)return t;if(N.call(t,"__wrapped__"))return j(t)}return new O(t)}W.prototype=S.prototype,W.prototype.constructor=W;const V=W;const z=function(t){var e=U(t),n=V[e];if("function"!=typeof n||!(e in T.prototype))return!1;if(t===n)return!0;var i=P(n);return!!i&&t===i[0]};var G=Date.now;const K=function(t){var e=0,n=0;return function(){var i=G(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}};const Z=K(p);var X=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /;const J=function(t){var e=t.match(X);return e?e[1].split(q):[]};var $=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const tt=function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")};const et=function(t){return function(){return t}};var nt=n(5084),it=function(){try{var t=(0,nt.Z)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const rt=it;var ot=rt?function(t,e){return rt(t,"toString",{configurable:!0,enumerable:!1,value:et(e),writable:!0})}:A;const at=K(ot);const st=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t};const lt=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1};const ct=function(t){return t!=t};const At=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1};const ut=function(t,e,n){return e==e?At(t,e,n):lt(t,ct,n)};const dt=function(t,e){return!!(null==t?0:t.length)&&ut(t,e,0)>-1};var ht=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const pt=function(t,e){return st(ht,(function(n){var i="_."+n[0];e&n[1]&&!dt(t,i)&&t.push(i)})),t.sort()};const ft=function(t,e,n){var i=e+"";return at(t,tt(i,pt(J(i),n)))};const mt=function(t,e,n,i,r,o,a,s,l,c){var A=8&e;e|=A?32:64,4&(e&=~(A?64:32))||(e&=-4);var u=[t,e,r,A?o:void 0,A?a:void 0,A?void 0:o,A?void 0:a,s,l,c],d=n.apply(void 0,u);return z(t)&&Z(d,u),d.placeholder=i,ft(d,t,e)};const gt=function(t){return t.placeholder};var yt=n(6009),vt=Math.min;const _t=function(t,e){for(var n=t.length,i=vt(e.length,n),r=Q(t);i--;){var o=e[i];t[i]=(0,yt.Z)(o,n)?r[o]:void 0}return t};var wt="__lodash_placeholder__";const xt=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==wt||(t[n]=wt,o[r++]=n)}return o};const bt=function t(e,n,i,r,o,a,s,l,c,A){var u=128&n,d=1&n,h=2&n,p=24&n,f=512&n,m=h?void 0:v(e);return function g(){for(var y=arguments.length,w=Array(y),x=y;x--;)w[x]=arguments[x];if(p)var b=gt(g),L=B(w,b);if(r&&(w=M(w,r,o,p)),a&&(w=C(w,a,s,p)),y-=L,p&&y<A){var S=xt(w,b);return mt(e,n,t,g.placeholder,i,w,S,l,c,A-y)}var E=d?i:this,T=h?E[e]:e;return y=w.length,l?w=_t(w,l):f&&y>1&&w.reverse(),u&&c<y&&(w.length=c),this&&this!==_.Z&&this instanceof g&&(T=m||v(T)),T.apply(E,w)}};const Mt=function(t,e,n){var i=v(t);return function r(){for(var o=arguments.length,a=Array(o),s=o,l=gt(r);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:xt(a,l);if((o-=c.length)<n)return mt(t,e,bt,r.placeholder,void 0,a,c,void 0,void 0,n-o);var A=this&&this!==_.Z&&this instanceof r?i:t;return x(A,this,a)}};const Lt=function(t,e,n,i){var r=1&e,o=v(t);return function e(){for(var a=-1,s=arguments.length,l=-1,c=i.length,A=Array(c+s),u=this&&this!==_.Z&&this instanceof e?o:t;++l<c;)A[l]=i[l];for(;s--;)A[l++]=arguments[++a];return x(u,r?n:this,A)}};var Ct="__lodash_placeholder__",Bt=128,St=Math.min;const Et=function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==Bt&&8==n||i==Bt&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?M(l,s,e[4]):s,t[4]=l?xt(t[3],Ct):e[4]}return(s=e[5])&&(l=t[5],t[5]=l?C(l,s,e[6]):s,t[6]=l?xt(t[5],Ct):e[6]),(s=e[7])&&(t[7]=s),i&Bt&&(t[8]=null==t[8]?e[8]:St(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t};var Tt=Math.max;const Dt=function(t,e,n,i,r,o,a,s){var c=2&e;if(!c&&"function"!=typeof t)throw new TypeError("Expected a function");var A=i?i.length:0;if(A||(e&=-97,i=r=void 0),a=void 0===a?a:Tt((0,l.Z)(a),0),s=void 0===s?s:(0,l.Z)(s),A-=r?r.length:0,64&e){var u=i,d=r;i=r=void 0}var h=c?void 0:P(t),f=[t,e,n,i,r,u,d,o,a,s];if(h&&Et(f,h),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],!(s=f[9]=void 0===f[9]?c?0:t.length:Tt(f[9]-A,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?Mt(t,e,s):32!=e&&33!=e||r.length?bt.apply(void 0,f):Lt(t,e,n,i);else var m=w(t,e,n);return ft((h?p:Z)(m,f),t,e)};const It=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Dt(t,128,void 0,void 0,void 0,void 0,e)};const Pt=function(t,e,n){"__proto__"==e&&rt?rt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var kt=n(9651),Ft=Object.prototype.hasOwnProperty;const Ut=function(t,e,n){var i=t[e];Ft.call(t,e)&&(0,kt.Z)(i,n)&&(void 0!==n||e in t)||Pt(t,e,n)};const Rt=function(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?Pt(n,s,l):Ut(n,s,l)}return n};var Ot=Math.max;const Ht=function(t,e,n){return e=Ot(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Ot(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(a),x(t,this,s)}};const Yt=function(t,e){return at(Ht(t,e,A),t+"")};var Qt=n(585);const jt=function(t,e,n){if(!(0,f.Z)(n))return!1;var i=typeof e;return!!("number"==i?(0,Qt.Z)(n)&&(0,yt.Z)(e,n.length):"string"==i&&e in n)&&(0,kt.Z)(n[e],t)};const Nt=function(t){return Yt((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&jt(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))};var Wt=n(2764),Vt=n(7179),zt=Object.prototype.hasOwnProperty,Gt=Nt((function(t,e){if((0,Wt.Z)(e)||(0,Qt.Z)(e))Rt(e,(0,Vt.Z)(e),t);else for(var n in e)zt.call(e,n)&&Ut(t,n,e[n])}));const Kt=Gt;var Zt=n(3771);const Xt=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var qt=Object.prototype.hasOwnProperty;const Jt=function(t){if(!(0,f.Z)(t))return Xt(t);var e=(0,Wt.Z)(t),n=[];for(var i in t)("constructor"!=i||!e&&qt.call(t,i))&&n.push(i);return n};const $t=function(t){return(0,Qt.Z)(t)?(0,Zt.Z)(t,!0):Jt(t)};var te=Nt((function(t,e){Rt(e,$t(e),t)}));const ee=te;var ne=Nt((function(t,e,n,i){Rt(e,$t(e),t,i)}));const ie=ne;var re=Nt((function(t,e,n,i){Rt(e,(0,Vt.Z)(e),t,i)}));const oe=re;var ae=n(6423);const se=function(t,e){for(var n=-1,i=e.length,r=Array(i),o=null==t;++n<i;)r[n]=o?void 0:(0,ae.Z)(t,e[n]);return r};var le=n(8694),ce=n(7685),Ae=n(4732),ue=ce.Z?ce.Z.isConcatSpreadable:void 0;const de=function(t){return(0,H.Z)(t)||(0,Ae.Z)(t)||!!(ue&&t&&t[ue])};const he=function t(e,n,i,r,o){var a=-1,s=e.length;for(i||(i=de),o||(o=[]);++a<s;){var l=e[a];n>0&&i(l)?n>1?t(l,n-1,i,r,o):(0,le.Z)(o,l):r||(o[o.length]=l)}return o};const pe=function(t){return(null==t?0:t.length)?he(t,1):[]};const fe=function(t){return at(Ht(t,void 0,pe),t+"")};const me=fe(se);var ge=n(3243);const ye=(0,n(1851).Z)(Object.getPrototypeOf,Object);var ve=Function.prototype,_e=Object.prototype,we=ve.toString,xe=_e.hasOwnProperty,be=we.call(Object);const Me=function(t){if(!(0,Y.Z)(t)||"[object Object]"!=(0,ge.Z)(t))return!1;var e=ye(t);if(null===e)return!0;var n=xe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==be};const Le=function(t){if(!(0,Y.Z)(t))return!1;var e=(0,ge.Z)(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Me(t)};var Ce=Yt((function(t,e){try{return x(t,void 0,e)}catch(t){return Le(t)?t:new Error(t)}}));const Be=Ce;const Se=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=(0,l.Z)(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};var Ee=Yt((function(t,e,n){var i=1;if(n.length){var r=xt(n,gt(Ee));i|=32}return Dt(t,i,e,n,r)}));Ee.placeholder={};const Te=Ee;var De=n(2281);const Ie=fe((function(t,e){return st(e,(function(e){e=(0,De.Z)(e),Pt(t,e,Te(t[e],t))})),t}));var Pe=Yt((function(t,e,n){var i=3;if(n.length){var r=xt(n,gt(Pe));i|=32}return Dt(e,i,t,n,r)}));Pe.placeholder={};const ke=Pe;var Fe=n(7338),Ue=n(5042),Re=n(9047),Oe=n(5876);const He=function(t){return function(e){e=(0,Fe.Z)(e);var n=(0,Re.Z)(e)?(0,Oe.Z)(e):void 0,i=n?n[0]:e.charAt(0),r=n?(0,Ue.Z)(n,1).join(""):e.slice(1);return i[t]()+r}};const Ye=He("toUpperCase");const Qe=function(t){return Ye((0,Fe.Z)(t).toLowerCase())};const je=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n};const Ne=function(t){return function(e){return null==t?void 0:t[e]}};const We=Ne({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});var Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ze=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Ge=function(t){return(t=(0,Fe.Z)(t))&&t.replace(Ve,We).replace(ze,"")};var Ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const Ze=function(t){return t.match(Ke)||[]};var Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const qe=function(t){return Xe.test(t)};var Je="\\ud800-\\udfff",$e="\\u2700-\\u27bf",tn="a-z\\xdf-\\xf6\\xf8-\\xff",en="A-Z\\xc0-\\xd6\\xd8-\\xde",nn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rn="["+nn+"]",on="\\d+",an="["+$e+"]",sn="["+tn+"]",ln="[^"+Je+nn+on+$e+tn+en+"]",cn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+en+"]",dn="(?:"+sn+"|"+ln+")",hn="(?:"+un+"|"+ln+")",pn="(?:['](?:d|ll|m|re|s|t|ve))?",fn="(?:['](?:D|LL|M|RE|S|T|VE))?",mn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",gn="[\\ufe0e\\ufe0f]?",yn=gn+mn+("(?:\\u200d(?:"+["[^"+Je+"]",cn,An].join("|")+")"+gn+mn+")*"),vn="(?:"+[an,cn,An].join("|")+")"+yn,_n=RegExp([un+"?"+sn+"+"+pn+"(?="+[rn,un,"$"].join("|")+")",hn+"+"+fn+"(?="+[rn,un+dn,"$"].join("|")+")",un+"?"+dn+"+"+pn,un+"+"+fn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",on,vn].join("|"),"g");const wn=function(t){return t.match(_n)||[]};const xn=function(t,e,n){return t=(0,Fe.Z)(t),void 0===(e=n?void 0:e)?qe(t)?wn(t):Ze(t):t.match(e)||[]};var bn=RegExp("[']","g");const Mn=function(t){return function(e){return je(xn(Ge(e).replace(bn,"")),t,"")}};var Ln=Mn((function(t,e,n){return e=e.toLowerCase(),t+(n?Qe(e):e)}));const Cn=Ln;const Bn=function(){if(!arguments.length)return[];var t=arguments[0];return(0,H.Z)(t)?t:[t]};var Sn=n(5742),En=_.Z.isFinite,Tn=Math.min;const Dn=function(t){var e=Math[t];return function(t,n){if(t=(0,Sn.Z)(t),(n=null==n?0:Tn((0,l.Z)(n),292))&&En(t)){var i=((0,Fe.Z)(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return+((i=((0,Fe.Z)(r)+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}};const In=Dn("ceil");const Pn=function(t){var e=V(t);return e.__chain__=!0,e};var kn=n(7855),Fn=Math.ceil,Un=Math.max;const Rn=function(t,e,n){e=(n?jt(t,e,n):void 0===e)?1:Un((0,l.Z)(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=Array(Fn(i/e));r<i;)a[o++]=(0,kn.Z)(t,r,r+=e);return a};const On=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};const Hn=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=(0,Sn.Z)(n))==n?n:0),void 0!==e&&(e=(e=(0,Sn.Z)(e))==e?e:0),On((0,Sn.Z)(t),e,n)};var Yn=n(5365);const Qn=function(t,e){return t&&Rt(e,(0,Vt.Z)(e),t)};const jn=function(t,e){return t&&Rt(e,$t(e),t)};var Nn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wn=Nn&&"object"==typeof module&&module&&!module.nodeType&&module,Vn=Wn&&Wn.exports===Nn?_.Z.Buffer:void 0,zn=Vn?Vn.allocUnsafe:void 0;const Gn=function(t,e){if(e)return t.slice();var n=t.length,i=zn?zn(n):new t.constructor(n);return t.copy(i),i};var Kn=n(5695);const Zn=function(t,e){return Rt(t,(0,Kn.Z)(t),e)};var Xn=n(532),qn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)(0,le.Z)(e,(0,Kn.Z)(t)),t=ye(t);return e}:Xn.Z;const Jn=qn;const $n=function(t,e){return Rt(t,Jn(t),e)};var ti=n(6705),ei=n(3327);const ni=function(t){return(0,ei.Z)(t,$t,Jn)};var ii=n(762),ri=Object.prototype.hasOwnProperty;const oi=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ri.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var ai=n(7623);const si=function(t){var e=new t.constructor(t.byteLength);return new ai.Z(e).set(new ai.Z(t)),e};const li=function(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var ci=/\w*$/;const Ai=function(t){var e=new t.constructor(t.source,ci.exec(t));return e.lastIndex=t.lastIndex,e};var ui=ce.Z?ce.Z.prototype:void 0,di=ui?ui.valueOf:void 0;const hi=function(t){return di?Object(di.call(t)):{}};const pi=function(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const fi=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return si(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return li(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pi(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return Ai(t);case"[object Symbol]":return hi(t)}};const mi=function(t){return"function"!=typeof t.constructor||(0,Wt.Z)(t)?{}:y(ye(t))};var gi=n(5763);const yi=function(t){return(0,Y.Z)(t)&&"[object Map]"==(0,ii.Z)(t)};var vi=n(1162),_i=n(8351),wi=_i.Z&&_i.Z.isMap;const xi=wi?(0,vi.Z)(wi):yi;const bi=function(t){return(0,Y.Z)(t)&&"[object Set]"==(0,ii.Z)(t)};var Mi=_i.Z&&_i.Z.isSet;const Li=Mi?(0,vi.Z)(Mi):bi;var Ci="[object Arguments]",Bi="[object Function]",Si="[object Object]",Ei={};Ei[Ci]=Ei["[object Array]"]=Ei["[object ArrayBuffer]"]=Ei["[object DataView]"]=Ei["[object Boolean]"]=Ei["[object Date]"]=Ei["[object Float32Array]"]=Ei["[object Float64Array]"]=Ei["[object Int8Array]"]=Ei["[object Int16Array]"]=Ei["[object Int32Array]"]=Ei["[object Map]"]=Ei["[object Number]"]=Ei[Si]=Ei["[object RegExp]"]=Ei["[object Set]"]=Ei["[object String]"]=Ei["[object Symbol]"]=Ei["[object Uint8Array]"]=Ei["[object Uint8ClampedArray]"]=Ei["[object Uint16Array]"]=Ei["[object Uint32Array]"]=!0,Ei["[object Error]"]=Ei[Bi]=Ei["[object WeakMap]"]=!1;const Ti=function t(e,n,i,r,o,a){var s,l=1&n,c=2&n,A=4&n;if(i&&(s=o?i(e,r,o,a):i(e)),void 0!==s)return s;if(!(0,f.Z)(e))return e;var u=(0,H.Z)(e);if(u){if(s=oi(e),!l)return Q(e,s)}else{var d=(0,ii.Z)(e),h=d==Bi||"[object GeneratorFunction]"==d;if((0,gi.Z)(e))return Gn(e,l);if(d==Si||d==Ci||h&&!o){if(s=c||h?{}:mi(e),!l)return c?$n(e,jn(s,e)):Zn(e,Qn(s,e))}else{if(!Ei[d])return o?e:{};s=fi(e,d,l)}}a||(a=new Yn.Z);var p=a.get(e);if(p)return p;a.set(e,s),Li(e)?e.forEach((function(r){s.add(t(r,n,i,r,e,a))})):xi(e)&&e.forEach((function(r,o){s.set(o,t(r,n,i,o,e,a))}));var m=A?c?ni:ti.Z:c?$t:Vt.Z,g=u?void 0:m(e);return st(g||e,(function(r,o){g&&(r=e[o=r]),Ut(s,o,t(r,n,i,o,e,a))})),s};const Di=function(t){return Ti(t,4)};const Ii=function(t){return Ti(t,5)};const Pi=function(t,e){return Ti(t,5,e="function"==typeof e?e:void 0)};const ki=function(t,e){return Ti(t,4,e="function"==typeof e?e:void 0)};const Fi=function(){return new O(this.value(),this.__chain__)};const Ui=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r};const Ri=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return(0,le.Z)((0,H.Z)(n)?Q(n):[n],he(e,1))};var Oi=n(4073),Hi=n(1443);const Yi=function(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],c=t[l],A=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var u=new Yn.Z;if(i)var d=i(c,A,l,t,e,u);if(!(void 0===d?(0,Hi.Z)(A,c,3,i,u):d))return!1}}return!0};const Qi=function(t){return t==t&&!(0,f.Z)(t)};const ji=function(t){for(var e=(0,Vt.Z)(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Qi(r)]}return e};const Ni=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};const Wi=function(t){var e=ji(t);return 1==e.length&&e[0][2]?Ni(e[0][0],e[0][1]):function(n){return n===t||Yi(n,t,e)}};var Vi=n(1910),zi=n(9365);const Gi=function(t,e){return(0,zi.Z)(t)&&Qi(e)?Ni((0,De.Z)(t),e):function(n){var i=(0,ae.Z)(n,t);return void 0===i&&i===e?(0,Vi.Z)(n,t):(0,Hi.Z)(e,i,3)}};var Ki=n(4193),Zi=n(3317);const Xi=function(t){return function(e){return(0,Zi.Z)(e,t)}};const qi=function(t){return(0,zi.Z)(t)?(0,Ki.Z)((0,De.Z)(t)):Xi(t)};const Ji=function(t){return"function"==typeof t?t:null==t?A:"object"==typeof t?(0,H.Z)(t)?Gi(t[0],t[1]):Wi(t):qi(t)};const $i=function(t){var e=null==t?0:t.length,n=Ji;return t=e?(0,Oi.Z)(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[n(t[0]),t[1]]})):[],Yt((function(n){for(var i=-1;++i<e;){var r=t[i];if(x(r[0],this,n))return x(r[1],this,n)}}))};const tr=function(t,e,n){var i=n.length;if(null==t)return!i;for(t=Object(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0};const er=function(t){var e=(0,Vt.Z)(t);return function(n){return tr(n,t,e)}};const nr=function(t){return er(Ti(t,1))};const ir=function(t,e){return null==e||tr(t,e,(0,Vt.Z)(e))};const rr=function(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i};const or=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}};const ar=or();const sr=function(t,e){return t&&ar(t,e,Vt.Z)};const lr=function(t,e){return function(n,i){if(null==n)return n;if(!(0,Qt.Z)(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}};const cr=lr(sr);const Ar=function(t,e,n,i){return cr(t,(function(t,r,o){e(i,t,n(t),o)})),i};const ur=function(t,e){return function(n,i){var r=(0,H.Z)(n)?rr:Ar,o=e?e():{};return r(n,t,Ji(i,2),o)}};var dr=Object.prototype.hasOwnProperty,hr=ur((function(t,e,n){dr.call(t,n)?++t[n]:Pt(t,n,1)}));const pr=hr;const fr=function(t,e){var n=y(t);return null==e?n:Qn(n,e)};function mr(t,e,n){var i=Dt(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=mr.placeholder,i}mr.placeholder={};const gr=mr;function yr(t,e,n){var i=Dt(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=yr.placeholder,i}yr.placeholder={};const vr=yr;const _r=function(){return _.Z.Date.now()};var wr=Math.max,xr=Math.min;const br=function(t,e,n){var i,r,o,a,s,l,c=0,A=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=i,o=r;return i=r=void 0,c=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=o}function m(){var t=_r();if(p(t))return g(t);s=setTimeout(m,function(t){var n=e-(t-l);return u?xr(n,o-(t-c)):n}(t))}function g(t){return s=void 0,d&&i?h(t):(i=r=void 0,a)}function y(){var t=_r(),n=p(t);if(i=arguments,r=this,l=t,n){if(void 0===s)return function(t){return c=t,s=setTimeout(m,e),A?h(t):a}(l);if(u)return clearTimeout(s),s=setTimeout(m,e),h(l)}return void 0===s&&(s=setTimeout(m,e)),a}return e=(0,Sn.Z)(e)||0,(0,f.Z)(n)&&(A=!!n.leading,o=(u="maxWait"in n)?wr((0,Sn.Z)(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},y.flush=function(){return void 0===s?a:g(_r())},y};const Mr=function(t,e){return null==t||t!=t?e:t};var Lr=Object.prototype,Cr=Lr.hasOwnProperty,Br=Yt((function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&jt(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=$t(o),s=-1,l=a.length;++s<l;){var c=a[s],A=t[c];(void 0===A||(0,kt.Z)(A,Lr[c])&&!Cr.call(t,c))&&(t[c]=o[c])}return t}));const Sr=Br;const Er=function(t,e,n){(void 0!==n&&!(0,kt.Z)(t[e],n)||void 0===n&&!(e in t))&&Pt(t,e,n)};const Tr=function(t){return(0,Y.Z)(t)&&(0,Qt.Z)(t)};var Dr=n(3234),Ir=n(7212);const Pr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};const kr=function(t){return Rt(t,$t(t))};const Fr=function(t,e,n,i,r,o,a){var s=Pr(t,n),l=Pr(e,n),c=a.get(l);if(c)Er(t,n,c);else{var A=o?o(s,l,n+"",t,e,a):void 0,u=void 0===A;if(u){var d=(0,H.Z)(l),h=!d&&(0,gi.Z)(l),p=!d&&!h&&(0,Ir.Z)(l);A=l,d||h||p?(0,H.Z)(s)?A=s:Tr(s)?A=Q(s):h?(u=!1,A=Gn(l,!0)):p?(u=!1,A=pi(l,!0)):A=[]:Me(l)||(0,Ae.Z)(l)?(A=s,(0,Ae.Z)(s)?A=kr(s):(0,f.Z)(s)&&!(0,Dr.Z)(s)||(A=mi(l))):u=!1}u&&(a.set(l,A),r(A,l,i,o,a),a.delete(l)),Er(t,n,A)}};const Ur=function t(e,n,i,r,o){e!==n&&ar(n,(function(a,s){if(o||(o=new Yn.Z),(0,f.Z)(a))Fr(e,n,s,i,t,r,o);else{var l=r?r(Pr(e,s),a,s+"",e,n,o):void 0;void 0===l&&(l=a),Er(e,s,l)}}),$t)};const Rr=function t(e,n,i,r,o,a){return(0,f.Z)(e)&&(0,f.Z)(n)&&(a.set(n,e),Ur(e,n,void 0,t,a),a.delete(n)),e};var Or=Nt((function(t,e,n,i){Ur(t,e,n,i)}));const Hr=Or;const Yr=Yt((function(t){return t.push(void 0,Rr),x(Hr,void 0,t)}));const Qr=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)};var jr=Yt((function(t,e){return Qr(t,1,e)}));const Nr=jr;var Wr=Yt((function(t,e,n){return Qr(t,(0,Sn.Z)(e)||0,n)}));const Vr=Wr;var zr=n(5668);const Gr=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1};var Kr=n(9548);const Zr=function(t,e,n,i){var r=-1,o=dt,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=(0,Oi.Z)(e,(0,vi.Z)(n))),i?(o=Gr,a=!1):e.length>=200&&(o=Kr.Z,a=!1,e=new zr.Z(e));t:for(;++r<s;){var A=t[r],u=null==n?A:n(A);if(A=i||0!==A?A:0,a&&u==u){for(var d=c;d--;)if(e[d]===u)continue t;l.push(A)}else o(e,u,i)||l.push(A)}return l};var Xr=Yt((function(t,e){return Tr(t)?Zr(t,he(e,1,Tr,!0)):[]}));const qr=Xr;const Jr=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var $r=Yt((function(t,e){var n=Jr(e);return Tr(n)&&(n=void 0),Tr(t)?Zr(t,he(e,1,Tr,!0),Ji(n,2)):[]}));const to=$r;var eo=Yt((function(t,e){var n=Jr(e);return Tr(n)&&(n=void 0),Tr(t)?Zr(t,he(e,1,Tr,!0),void 0,n):[]}));const no=eo;const io=a((function(t,e){return t/e}),1);const ro=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:(0,l.Z)(e),(0,kn.Z)(t,e<0?0:e,i)):[]};const oo=function(t,e,n){var i=null==t?0:t.length;return i?(e=i-(e=n||void 0===e?1:(0,l.Z)(e)),(0,kn.Z)(t,0,e<0?0:e)):[]};const ao=function(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?(0,kn.Z)(t,i?0:o,i?o+1:r):(0,kn.Z)(t,i?o+1:0,i?r:o)};const so=function(t,e){return t&&t.length?ao(t,Ji(e,3),!0,!0):[]};const lo=function(t,e){return t&&t.length?ao(t,Ji(e,3),!0):[]};const co=function(t){return"function"==typeof t?t:A};const Ao=function(t,e){return((0,H.Z)(t)?st:cr)(t,co(e))};const uo=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t};const ho=or(!0);const po=function(t,e){return t&&ho(t,e,Vt.Z)};const fo=lr(po,!0);const mo=function(t,e){return((0,H.Z)(t)?uo:fo)(t,co(e))};const go=function(t,e,n){t=(0,Fe.Z)(t),e=(0,o.Z)(e);var i=t.length,r=n=void 0===n?i:On((0,l.Z)(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e};const yo=function(t,e){return(0,Oi.Z)(e,(function(e){return[e,t[e]]}))};var vo=n(4910);const _o=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n};const wo=function(t){return function(e){var n=(0,ii.Z)(e);return"[object Map]"==n?(0,vo.Z)(e):"[object Set]"==n?_o(e):yo(e,t(e))}};const xo=wo(Vt.Z);const bo=wo($t);const Mo=Ne({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var Lo=/[&<>"']/g,Co=RegExp(Lo.source);const Bo=function(t){return(t=(0,Fe.Z)(t))&&Co.test(t)?t.replace(Lo,Mo):t};var So=/[\\^$.*+?()[\]{}|]/g,Eo=RegExp(So.source);const To=function(t){return(t=(0,Fe.Z)(t))&&Eo.test(t)?t.replace(So,"\\$&"):t};const Do=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0};const Io=function(t,e){var n=!0;return cr(t,(function(t,i,r){return n=!!e(t,i,r)})),n};const Po=function(t,e,n){var i=(0,H.Z)(t)?Do:Io;return n&&jt(t,e,n)&&(e=void 0),i(t,Ji(e,3))};const ko=function(t){return t?On((0,l.Z)(t),0,4294967295):0};const Fo=function(t,e,n,i){var r=t.length;for((n=(0,l.Z)(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:(0,l.Z)(i))<0&&(i+=r),i=n>i?0:ko(i);n<i;)t[n++]=e;return t};const Uo=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&jt(t,e,n)&&(n=0,i=r),Fo(t,e,n,i)):[]};var Ro=n(8774);const Oo=function(t,e){var n=[];return cr(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n};const Ho=function(t,e){return((0,H.Z)(t)?Ro.Z:Oo)(t,Ji(e,3))};const Yo=function(t){return function(e,n,i){var r=Object(e);if(!(0,Qt.Z)(e)){var o=Ji(n,3);e=(0,Vt.Z)(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}};var Qo=Math.max;const jo=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:(0,l.Z)(n);return r<0&&(r=Qo(i+r,0)),lt(t,Ji(e,3),r)};const No=Yo(jo);const Wo=function(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i};const Vo=function(t,e){return Wo(t,Ji(e,3),sr)};var zo=Math.max,Go=Math.min;const Ko=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=(0,l.Z)(n),r=n<0?zo(i+r,0):Go(r,i-1)),lt(t,Ji(e,3),r,!0)};const Zo=Yo(Ko);const Xo=function(t,e){return Wo(t,Ji(e,3),po)};const qo=function(t){return t&&t.length?t[0]:void 0};const Jo=function(t,e){var n=-1,i=(0,Qt.Z)(t)?Array(t.length):[];return cr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i};const $o=function(t,e){return((0,H.Z)(t)?Oi.Z:Jo)(t,Ji(e,3))};const ta=function(t,e){return he($o(t,e),1)};var ea=1/0;const na=function(t,e){return he($o(t,e),ea)};const ia=function(t,e,n){return n=void 0===n?1:(0,l.Z)(n),he($o(t,e),n)};var ra=1/0;const oa=function(t){return(null==t?0:t.length)?he(t,ra):[]};const aa=function(t,e){return(null==t?0:t.length)?(e=void 0===e?1:(0,l.Z)(e),he(t,e)):[]};const sa=function(t){return Dt(t,512)};const la=Dn("floor");const ca=function(t){return fe((function(e){var n=e.length,i=n,r=O.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new TypeError("Expected a function");if(r&&!a&&"wrapper"==U(o))var a=new O([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=U(o),l="wrapper"==s?P(o):void 0;a=l&&z(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[U(l[0])].apply(a,l[3]):1==o.length&&z(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&(0,H.Z)(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))};const Aa=ca();const ua=ca(!0);const da=function(t,e){return null==t?t:ar(t,co(e),$t)};const ha=function(t,e){return null==t?t:ho(t,co(e),$t)};const pa=function(t,e){return t&&sr(t,co(e))};const fa=function(t,e){return t&&po(t,co(e))};const ma=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i};const ga=function(t,e){return(0,Ro.Z)(e,(function(e){return(0,Dr.Z)(t[e])}))};const ya=function(t){return null==t?[]:ga(t,(0,Vt.Z)(t))};const va=function(t){return null==t?[]:ga(t,$t(t))};var _a=Object.prototype.hasOwnProperty,wa=ur((function(t,e,n){_a.call(t,n)?t[n].push(e):Pt(t,n,[e])}));const xa=wa;const ba=function(t,e){return t>e};const Ma=function(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=(0,Sn.Z)(e),n=(0,Sn.Z)(n)),t(e,n)}};const La=Ma(ba);const Ca=Ma((function(t,e){return t>=e}));var Ba=Object.prototype.hasOwnProperty;const Sa=function(t,e){return null!=t&&Ba.call(t,e)};var Ea=n(6174);const Ta=function(t,e){return null!=t&&(0,Ea.Z)(t,e,Sa)};var Da=Math.max,Ia=Math.min;const Pa=function(t,e,n){return t>=Ia(e,n)&&t<Da(e,n)};var ka=n(9640);const Fa=function(t,e,n){return e=(0,ka.Z)(e),void 0===n?(n=e,e=0):n=(0,ka.Z)(n),t=(0,Sn.Z)(t),Pa(t,e,n)};const Ua=function(t){return"string"==typeof t||!(0,H.Z)(t)&&(0,Y.Z)(t)&&"[object String]"==(0,ge.Z)(t)};const Ra=function(t,e){return(0,Oi.Z)(e,(function(e){return t[e]}))};const Oa=function(t){return null==t?[]:Ra(t,(0,Vt.Z)(t))};var Ha=Math.max;const Ya=function(t,e,n,i){t=(0,Qt.Z)(t)?t:Oa(t),n=n&&!i?(0,l.Z)(n):0;var r=t.length;return n<0&&(n=Ha(r+n,0)),Ua(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ut(t,e,n)>-1};var Qa=Math.max;const ja=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:(0,l.Z)(n);return r<0&&(r=Qa(i+r,0)),ut(t,e,r)};const Na=function(t){return(null==t?0:t.length)?(0,kn.Z)(t,0,-1):[]};var Wa=Math.min;const Va=function(t,e,n){for(var i=n?Gr:dt,r=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,c=[];a--;){var A=t[a];a&&e&&(A=(0,Oi.Z)(A,(0,vi.Z)(e))),l=Wa(A.length,l),s[a]=!n&&(e||r>=120&&A.length>=120)?new zr.Z(a&&A):void 0}A=t[0];var u=-1,d=s[0];t:for(;++u<r&&c.length<l;){var h=A[u],p=e?e(h):h;if(h=n||0!==h?h:0,!(d?(0,Kr.Z)(d,p):i(c,p,n))){for(a=o;--a;){var f=s[a];if(!(f?(0,Kr.Z)(f,p):i(t[a],p,n)))continue t}d&&d.push(p),c.push(h)}}return c};const za=function(t){return Tr(t)?t:[]};const Ga=Yt((function(t){var e=(0,Oi.Z)(t,za);return e.length&&e[0]===t[0]?Va(e):[]}));var Ka=Yt((function(t){var e=Jr(t),n=(0,Oi.Z)(t,za);return e===Jr(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Va(n,Ji(e,2)):[]}));const Za=Ka;const Xa=Yt((function(t){var e=Jr(t),n=(0,Oi.Z)(t,za);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?Va(n,void 0,e):[]}));const qa=function(t,e,n,i){return sr(t,(function(t,r,o){e(i,n(t),r,o)})),i};const Ja=function(t,e){return function(n,i){return qa(n,t,e(i),{})}};var $a=Object.prototype.toString,ts=Ja((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=$a.call(e)),t[e]=n}),et(A));const es=ts;var ns=Object.prototype,is=ns.hasOwnProperty,rs=ns.toString,os=Ja((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=rs.call(e)),is.call(t,e)?t[e].push(n):t[e]=[n]}),Ji);const as=os;var ss=n(7449);const ls=function(t,e){return e.length<2?t:(0,Zi.Z)(t,(0,kn.Z)(e,0,-1))};const cs=function(t,e,n){e=(0,ss.Z)(e,t);var i=null==(t=ls(t,e))?t:t[(0,De.Z)(Jr(e))];return null==i?void 0:x(i,t,n)};const As=Yt(cs);var us=Yt((function(t,e,n){var i=-1,r="function"==typeof e,o=(0,Qt.Z)(t)?Array(t.length):[];return cr(t,(function(t){o[++i]=r?x(e,t,n):cs(t,e,n)})),o}));const ds=us;const hs=function(t){return(0,Y.Z)(t)&&"[object ArrayBuffer]"==(0,ge.Z)(t)};var ps=_i.Z&&_i.Z.isArrayBuffer;const fs=ps?(0,vi.Z)(ps):hs;const ms=function(t){return!0===t||!1===t||(0,Y.Z)(t)&&"[object Boolean]"==(0,ge.Z)(t)};const gs=function(t){return(0,Y.Z)(t)&&"[object Date]"==(0,ge.Z)(t)};var ys=_i.Z&&_i.Z.isDate;const vs=ys?(0,vi.Z)(ys):gs;const _s=function(t){return(0,Y.Z)(t)&&1===t.nodeType&&!Me(t)};var ws=n(8448),xs=Object.prototype.hasOwnProperty;const bs=function(t){if(null==t)return!0;if((0,Qt.Z)(t)&&((0,H.Z)(t)||"string"==typeof t||"function"==typeof t.splice||(0,gi.Z)(t)||(0,Ir.Z)(t)||(0,Ae.Z)(t)))return!t.length;var e=(0,ii.Z)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if((0,Wt.Z)(t))return!(0,ws.Z)(t).length;for(var n in t)if(xs.call(t,n))return!1;return!0};var Ms=n(576);const Ls=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?(0,Hi.Z)(t,e,void 0,n):!!i};var Cs=_.Z.isFinite;const Bs=function(t){return"number"==typeof t&&Cs(t)};const Ss=function(t){return"number"==typeof t&&t==(0,l.Z)(t)};var Es=n(1656);const Ts=function(t,e){return t===e||Yi(t,e,ji(e))};const Ds=function(t,e,n){return n="function"==typeof n?n:void 0,Yi(t,e,ji(e),n)};const Is=function(t){return"number"==typeof t||(0,Y.Z)(t)&&"[object Number]"==(0,ge.Z)(t)};const Ps=function(t){return Is(t)&&t!=+t};var ks=n(4808),Fs=n(1819),Us=n(7979);const Rs=Fs.Z?Dr.Z:Us.Z;const Os=function(t){if(Rs(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return(0,ks.Z)(t)};const Hs=function(t){return null==t};const Ys=function(t){return null===t};const Qs=function(t){return(0,Y.Z)(t)&&"[object RegExp]"==(0,ge.Z)(t)};var js=_i.Z&&_i.Z.isRegExp;const Ns=js?(0,vi.Z)(js):Qs;var Ws=9007199254740991;const Vs=function(t){return Ss(t)&&t>=-9007199254740991&&t<=Ws};var zs=n(9360);const Gs=function(t){return(0,Y.Z)(t)&&"[object WeakMap]"==(0,ii.Z)(t)};const Ks=function(t){return(0,Y.Z)(t)&&"[object WeakSet]"==(0,ge.Z)(t)};const Zs=function(t){return Ji("function"==typeof t?t:Ti(t,1))};var Xs=Array.prototype.join;const qs=function(t,e){return null==t?"":Xs.call(t,e)};var Js=Mn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}));const $s=Js;var tl=ur((function(t,e,n){Pt(t,n,e)}));const el=tl;const nl=function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i};var il=Math.max,rl=Math.min;const ol=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=(0,l.Z)(n))<0?il(i+r,0):rl(r,i-1)),e==e?nl(t,e,r):lt(t,ct,r,!0)};var al=Mn((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}));const sl=al;const ll=He("toLowerCase");const cl=function(t,e){return t<e};const Al=Ma(cl);const ul=Ma((function(t,e){return t<=e}));const dl=function(t,e){var n={};return e=Ji(e,3),sr(t,(function(t,i,r){Pt(n,e(t,i,r),t)})),n};const hl=function(t,e){var n={};return e=Ji(e,3),sr(t,(function(t,i,r){Pt(n,i,e(t,i,r))})),n};const pl=function(t){return Wi(Ti(t,1))};const fl=function(t,e){return Gi(t,Ti(e,1))};const ml=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===l?s==s&&!(0,i.Z)(s):n(s,l)))var l=s,c=a}return c};const gl=function(t){return t&&t.length?ml(t,A,ba):void 0};const yl=function(t,e){return t&&t.length?ml(t,Ji(e,2),ba):void 0};const vl=function(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n};const _l=function(t,e){var n=null==t?0:t.length;return n?vl(t,e)/n:NaN};const wl=function(t){return _l(t,A)};const xl=function(t,e){return _l(t,Ji(e,2))};var bl=n(2454),Ml=Nt((function(t,e,n){Ur(t,e,n)}));const Ll=Ml;const Cl=Yt((function(t,e){return function(n){return cs(n,t,e)}}));const Bl=Yt((function(t,e){return function(n){return cs(t,n,e)}}));const Sl=function(t){return t&&t.length?ml(t,A,cl):void 0};const El=function(t,e){return t&&t.length?ml(t,Ji(e,2),cl):void 0};const Tl=function(t,e,n){var i=(0,Vt.Z)(e),r=ga(e,i),o=!((0,f.Z)(n)&&"chain"in n&&!n.chain),a=(0,Dr.Z)(t);return st(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Q(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,(0,le.Z)([this.value()],arguments))})})),t};const Dl=a((function(t,e){return t*e}),1);const Il=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};const Pl=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n};var kl=n(6545),Fl=ce.Z?ce.Z.iterator:void 0;const Ul=function(t){if(!t)return[];if((0,Qt.Z)(t))return Ua(t)?(0,Oe.Z)(t):Q(t);if(Fl&&t[Fl])return Pl(t[Fl]());var e=(0,ii.Z)(t);return("[object Map]"==e?vo.Z:"[object Set]"==e?kl.Z:Oa)(t)};const Rl=function(){void 0===this.__values__&&(this.__values__=Ul(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}};const Ol=function(t,e){var n=t.length;if(n)return e+=e<0?n:0,(0,yt.Z)(e,n)?t[e]:void 0};const Hl=function(t,e){return t&&t.length?Ol(t,(0,l.Z)(e)):void 0};const Yl=function(t){return t=(0,l.Z)(t),Yt((function(e){return Ol(e,t)}))};const Ql=function(t,e){return e=(0,ss.Z)(e,t),null==(t=ls(t,e))||delete t[(0,De.Z)(Jr(e))]};const jl=function(t){return Me(t)?void 0:t};var Nl=fe((function(t,e){var n={};if(null==t)return n;var i=!1;e=(0,Oi.Z)(e,(function(e){return e=(0,ss.Z)(e,t),i||(i=e.length>1),e})),Rt(t,ni(t),n),i&&(n=Ti(n,7,jl));for(var r=e.length;r--;)Ql(n,e[r]);return n}));const Wl=Nl;const Vl=function(t,e,n,i){if(!(0,f.Z)(t))return t;for(var r=-1,o=(e=(0,ss.Z)(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l=(0,De.Z)(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=a){var A=s[l];void 0===(c=i?i(A,l,s):void 0)&&(c=(0,f.Z)(A)?A:(0,yt.Z)(e[r+1])?[]:{})}Ut(s,l,c),s=s[l]}return t};const zl=function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=(0,Zi.Z)(t,a);n(s,a)&&Vl(o,(0,ss.Z)(a,t),s)}return o};const Gl=function(t,e){if(null==t)return{};var n=(0,Oi.Z)(ni(t),(function(t){return[t]}));return e=Ji(e),zl(t,n,(function(t,n){return e(t,n[0])}))};const Kl=function(t,e){return Gl(t,Il(Ji(e)))};const Zl=function(t){return Se(2,t)};const Xl=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};const ql=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=(0,i.Z)(t),s=void 0!==e,l=null===e,c=e==e,A=(0,i.Z)(e);if(!l&&!A&&!a&&t>e||a&&s&&c&&!l&&!A||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!A&&t<e||A&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!c)return-1}return 0};const Jl=function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=ql(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index};const $l=function(t,e,n){e=e.length?(0,Oi.Z)(e,(function(t){return(0,H.Z)(t)?function(e){return(0,Zi.Z)(e,1===t.length?t[0]:t)}:t})):[A];var i=-1;e=(0,Oi.Z)(e,(0,vi.Z)(Ji));var r=Jo(t,(function(t,n,r){var o=(0,Oi.Z)(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return Xl(r,(function(t,e){return Jl(t,e,n)}))};const tc=function(t,e,n,i){return null==t?[]:((0,H.Z)(e)||(e=null==e?[]:[e]),n=i?void 0:n,(0,H.Z)(n)||(n=null==n?[]:[n]),$l(t,e,n))};const ec=function(t){return fe((function(e){return e=(0,Oi.Z)(e,(0,vi.Z)(Ji)),Yt((function(n){var i=this;return t(e,(function(t){return x(t,i,n)}))}))}))};const nc=ec(Oi.Z);const ic=Yt;var rc=Math.min,oc=ic((function(t,e){var n=(e=1==e.length&&(0,H.Z)(e[0])?(0,Oi.Z)(e[0],(0,vi.Z)(Ji)):(0,Oi.Z)(he(e,1),(0,vi.Z)(Ji))).length;return Yt((function(i){for(var r=-1,o=rc(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return x(t,this,i)}))}));const ac=oc;const sc=ec(Do);var lc=n(2338);const cc=ec(lc.Z);var Ac=n(9628),uc=n(5625),dc=Math.ceil,hc=Math.floor;const pc=function(t,e,n){t=(0,Fe.Z)(t);var i=(e=(0,l.Z)(e))?(0,uc.Z)(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return(0,Ac.Z)(hc(r),n)+t+(0,Ac.Z)(dc(r),n)};const fc=function(t,e,n){t=(0,Fe.Z)(t);var i=(e=(0,l.Z)(e))?(0,uc.Z)(t):0;return e&&i<e?t+(0,Ac.Z)(e-i,n):t};var mc=n(3265),gc=/^\s+/,yc=_.Z.parseInt;const vc=function(t,e,n){return n||null==e?e=0:e&&(e=+e),yc((0,Fe.Z)(t).replace(gc,""),e||0)};var _c=Yt((function(t,e){var n=xt(e,gt(_c));return Dt(t,32,void 0,e,n)}));_c.placeholder={};const wc=_c;var xc=Yt((function(t,e){var n=xt(e,gt(xc));return Dt(t,64,void 0,e,n)}));xc.placeholder={};const bc=xc;var Mc=ur((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));const Lc=Mc;const Cc=function(t,e){return zl(t,e,(function(e,n){return(0,Vi.Z)(t,n)}))};const Bc=fe((function(t,e){return null==t?{}:Cc(t,e)}));const Sc=function(t){for(var e,n=this;n instanceof S;){var i=j(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e};const Ec=function(t){return function(e){return null==t?void 0:(0,Zi.Z)(t,e)}};const Tc=function(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1};var Dc=Array.prototype.splice;const Ic=function(t,e,n,i){var r=i?Tc:ut,o=-1,a=e.length,s=t;for(t===e&&(e=Q(e)),n&&(s=(0,Oi.Z)(t,(0,vi.Z)(n)));++o<a;)for(var l=0,c=e[o],A=n?n(c):c;(l=r(s,A,l,i))>-1;)s!==t&&Dc.call(s,l,1),Dc.call(t,l,1);return t};const Pc=function(t,e){return t&&t.length&&e&&e.length?Ic(t,e):t};const kc=Yt(Pc);const Fc=function(t,e,n){return t&&t.length&&e&&e.length?Ic(t,e,Ji(n,2)):t};const Uc=function(t,e,n){return t&&t.length&&e&&e.length?Ic(t,e,void 0,n):t};var Rc=Array.prototype.splice;const Oc=function(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;(0,yt.Z)(r)?Rc.call(t,r,1):Ql(t,r)}}return t};var Hc=fe((function(t,e){var n=null==t?0:t.length,i=se(t,e);return Oc(t,(0,Oi.Z)(e,(function(t){return(0,yt.Z)(t,n)?+t:t})).sort(ql)),i}));const Yc=Hc;var Qc=Math.floor,jc=Math.random;const Nc=function(t,e){return t+Qc(jc()*(e-t+1))};var Wc=parseFloat,Vc=Math.min,zc=Math.random;const Gc=function(t,e,n){if(n&&"boolean"!=typeof n&&jt(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=(0,ka.Z)(t),void 0===e?(e=t,t=0):e=(0,ka.Z)(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=zc();return Vc(t+r*(e-t+Wc("1e-"+((r+"").length-1))),e)}return Nc(t,e)};var Kc=Math.ceil,Zc=Math.max;const Xc=function(t,e,n,i){for(var r=-1,o=Zc(Kc((e-t)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=t,t+=n;return a};const qc=function(t){return function(e,n,i){return i&&"number"!=typeof i&&jt(e,n,i)&&(n=i=void 0),e=(0,ka.Z)(e),void 0===n?(n=e,e=0):n=(0,ka.Z)(n),i=void 0===i?e<n?1:-1:(0,ka.Z)(i),Xc(e,n,i,t)}};const Jc=qc();const $c=qc(!0);var tA=fe((function(t,e){return Dt(t,256,void 0,void 0,void 0,e)}));const eA=tA;const nA=function(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n};const iA=function(t,e,n){var i=(0,H.Z)(t)?je:nA,r=arguments.length<3;return i(t,Ji(e,4),n,r,cr)};const rA=function(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n};const oA=function(t,e,n){var i=(0,H.Z)(t)?rA:nA,r=arguments.length<3;return i(t,Ji(e,4),n,r,fo)};const aA=function(t,e){return((0,H.Z)(t)?Ro.Z:Oo)(t,Il(Ji(e,3)))};const sA=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Ji(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Oc(t,r),n};var lA=n(5807);const cA=function(t,e,n){return e=(n?jt(t,e,n):void 0===e)?1:(0,l.Z)(e),(0,lA.Z)((0,Fe.Z)(t),e)};const AA=function(){var t=arguments,e=(0,Fe.Z)(t[0]);return t.length<3?e:e.replace(t[1],t[2])};const uA=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=void 0===e?e:(0,l.Z)(e),Yt(t,e)};const dA=function(t,e,n){var i=-1,r=(e=(0,ss.Z)(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[(0,De.Z)(e[i])];void 0===o&&(i=r,o=n),t=(0,Dr.Z)(o)?o.call(t):o}return t};var hA=Array.prototype.reverse;const pA=function(t){return null==t?t:hA.call(t)};const fA=Dn("round");const mA=function(t){var e=t.length;return e?t[Nc(0,e-1)]:void 0};const gA=function(t){return mA(Oa(t))};const yA=function(t){return((0,H.Z)(t)?mA:gA)(t)};const vA=function(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Nc(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t};const _A=function(t,e){return vA(Q(t),On(e,0,t.length))};const wA=function(t,e){var n=Oa(t);return vA(n,On(e,0,n.length))};const xA=function(t,e,n){return e=(n?jt(t,e,n):void 0===e)?1:(0,l.Z)(e),((0,H.Z)(t)?_A:wA)(t,e)};const bA=function(t,e,n){return null==t?t:Vl(t,e,n)};const MA=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Vl(t,e,n,i)};const LA=function(t){return vA(Q(t))};const CA=function(t){return vA(Oa(t))};const BA=function(t){return((0,H.Z)(t)?LA:CA)(t)};const SA=function(t){if(null==t)return 0;if((0,Qt.Z)(t))return Ua(t)?(0,uc.Z)(t):t.length;var e=(0,ii.Z)(t);return"[object Map]"==e||"[object Set]"==e?t.size:(0,ws.Z)(t).length};const EA=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&jt(t,e,n)?(e=0,n=i):(e=null==e?0:(0,l.Z)(e),n=void 0===n?i:(0,l.Z)(n)),(0,kn.Z)(t,e,n)):[]};var TA=Mn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));const DA=TA;const IA=function(t,e){var n;return cr(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n};const PA=function(t,e,n){var i=(0,H.Z)(t)?lc.Z:IA;return n&&jt(t,e,n)&&(e=void 0),i(t,Ji(e,3))};const kA=Yt((function(t,e){if(null==t)return[];var n=e.length;return n>1&&jt(t,e[0],e[1])?e=[]:n>2&&jt(e[0],e[1],e[2])&&(e=[e[0]]),$l(t,he(e,1),[])}));var FA=Math.floor,UA=Math.min;const RA=function(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,l=null===e,c=(0,i.Z)(e),A=void 0===e;o<a;){var u=FA((o+a)/2),d=n(t[u]),h=void 0!==d,p=null===d,f=d==d,m=(0,i.Z)(d);if(s)var g=r||f;else g=A?f&&(r||h):l?f&&h&&(r||!p):c?f&&h&&!p&&(r||!m):!p&&!m&&(r?d<=e:d<e);g?o=u+1:a=u}return UA(a,4294967294)};const OA=function(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var a=r+o>>>1,s=t[a];null!==s&&!(0,i.Z)(s)&&(n?s<=e:s<e)?r=a+1:o=a}return o}return RA(t,e,A,n)};const HA=function(t,e){return OA(t,e)};const YA=function(t,e,n){return RA(t,e,Ji(n,2))};const QA=function(t,e){var n=null==t?0:t.length;if(n){var i=OA(t,e);if(i<n&&(0,kt.Z)(t[i],e))return i}return-1};const jA=function(t,e){return OA(t,e,!0)};const NA=function(t,e,n){return RA(t,e,Ji(n,2),!0)};const WA=function(t,e){if(null==t?0:t.length){var n=OA(t,e,!0)-1;if((0,kt.Z)(t[n],e))return n}return-1};const VA=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!(0,kt.Z)(s,l)){var l=s;o[r++]=0===a?0:a}}return o};const zA=function(t){return t&&t.length?VA(t):[]};const GA=function(t,e){return t&&t.length?VA(t,Ji(e,2)):[]};const KA=function(t,e,n){return n&&"number"!=typeof n&&jt(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=(0,Fe.Z)(t))&&("string"==typeof e||null!=e&&!Ns(e))&&!(e=(0,o.Z)(e))&&(0,Re.Z)(t)?(0,Ue.Z)((0,Oe.Z)(t),0,n):t.split(e,n):[]};var ZA=Math.max;const XA=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:ZA((0,l.Z)(e),0),Yt((function(n){var i=n[e],r=(0,Ue.Z)(n,0,e);return i&&(0,le.Z)(r,i),x(t,this,r)}))};var qA=Mn((function(t,e,n){return t+(n?" ":"")+Ye(e)}));const JA=qA;const $A=function(t,e,n){return t=(0,Fe.Z)(t),n=null==n?0:On((0,l.Z)(n),0,t.length),e=(0,o.Z)(e),t.slice(n,n+e.length)==e};const tu=function(){return{}};const eu=function(){return""};const nu=function(){return!0};const iu=a((function(t,e){return t-e}),0);const ru=function(t){return t&&t.length?vl(t,A):0};const ou=function(t,e){return t&&t.length?vl(t,Ji(e,2)):0};const au=function(t){var e=null==t?0:t.length;return e?(0,kn.Z)(t,1,e):[]};const su=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:(0,l.Z)(e),(0,kn.Z)(t,0,e<0?0:e)):[]};const lu=function(t,e,n){var i=null==t?0:t.length;return i?(e=i-(e=n||void 0===e?1:(0,l.Z)(e)),(0,kn.Z)(t,e<0?0:e,i)):[]};const cu=function(t,e){return t&&t.length?ao(t,Ji(e,3),!1,!0):[]};const Au=function(t,e){return t&&t.length?ao(t,Ji(e,3)):[]};const uu=function(t,e){return e(t),t};var du=Object.prototype,hu=du.hasOwnProperty;const pu=function(t,e,n,i){return void 0===t||(0,kt.Z)(t,du[n])&&!hu.call(i,n)?e:t};var fu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};const mu=function(t){return"\\"+fu[t]};const gu=/<%=([\s\S]+?)%>/g;const yu={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:gu,variable:"",imports:{_:{escape:Bo}}};var vu=/\b__p \+= '';/g,_u=/\b(__p \+=) '' \+/g,wu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xu=/[()=,{}\[\]\/\s]/,bu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mu=/($^)/,Lu=/['\n\r\u2028\u2029\\]/g,Cu=Object.prototype.hasOwnProperty;const Bu=function(t,e,n){var i=yu.imports._.templateSettings||yu;n&&jt(t,e,n)&&(e=void 0),t=(0,Fe.Z)(t),e=ie({},e,i,pu);var r,o,a=ie({},e.imports,i.imports,pu),s=(0,Vt.Z)(a),l=Ra(a,s),c=0,A=e.interpolate||Mu,u="__p += '",d=RegExp((e.escape||Mu).source+"|"+A.source+"|"+(A===gu?bu:Mu).source+"|"+(e.evaluate||Mu).source+"|$","g"),h=Cu.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(d,(function(e,n,i,a,s,l){return i||(i=a),u+=t.slice(c,l).replace(Lu,mu),n&&(r=!0,u+="' +\n__e("+n+") +\n'"),s&&(o=!0,u+="';\n"+s+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),u+="';\n";var p=Cu.call(e,"variable")&&e.variable;if(p){if(xu.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(o?u.replace(vu,""):u).replace(_u,"$1").replace(wu,"$1;"),u="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var f=Be((function(){return Function(s,h+"return "+u).apply(void 0,l)}));if(f.source=u,Le(f))throw f;return f};const Su=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,f.Z)(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),br(t,e,{leading:i,maxWait:e,trailing:r})};const Eu=function(t,e){return e(t)};var Tu=n(2889),Du=4294967295,Iu=Math.min;const Pu=function(t,e){if((t=(0,l.Z)(t))<1||t>9007199254740991)return[];var n=Du,i=Iu(t,Du);e=co(e),t-=Du;for(var r=(0,Tu.Z)(i,e);++n<t;)e(n);return r};const ku=function(){return this};const Fu=function(t,e){var n=t;return n instanceof T&&(n=n.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,(0,le.Z)([t],e.args))}),n)};const Uu=function(){return Fu(this.__wrapped__,this.__actions__)};const Ru=function(t){return(0,Fe.Z)(t).toLowerCase()};var Ou=n(474);const Hu=function(t){return(0,H.Z)(t)?(0,Oi.Z)(t,De.Z):(0,i.Z)(t)?[t]:Q((0,Ou.Z)((0,Fe.Z)(t)))};var Yu=9007199254740991;const Qu=function(t){return t?On((0,l.Z)(t),-9007199254740991,Yu):0===t?t:0};const ju=function(t){return(0,Fe.Z)(t).toUpperCase()};const Nu=function(t,e,n){var i=(0,H.Z)(t),r=i||(0,gi.Z)(t)||(0,Ir.Z)(t);if(e=Ji(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:(0,f.Z)(t)&&(0,Dr.Z)(o)?y(ye(t)):{}}return(r?st:sr)(t,(function(t,i,r){return e(n,t,i,r)})),n};var Wu=n(3404);const Vu=function(t,e){for(var n=t.length;n--&&ut(e,t[n],0)>-1;);return n};const zu=function(t,e){for(var n=-1,i=t.length;++n<i&&ut(e,t[n],0)>-1;);return n};const Gu=function(t,e,n){if((t=(0,Fe.Z)(t))&&(n||void 0===e))return(0,Wu.Z)(t);if(!t||!(e=(0,o.Z)(e)))return t;var i=(0,Oe.Z)(t),r=(0,Oe.Z)(e),a=zu(i,r),s=Vu(i,r)+1;return(0,Ue.Z)(i,a,s).join("")};var Ku=n(7170);const Zu=function(t,e,n){if((t=(0,Fe.Z)(t))&&(n||void 0===e))return t.slice(0,(0,Ku.Z)(t)+1);if(!t||!(e=(0,o.Z)(e)))return t;var i=(0,Oe.Z)(t),r=Vu(i,(0,Oe.Z)(e))+1;return(0,Ue.Z)(i,0,r).join("")};var Xu=/^\s+/;const qu=function(t,e,n){if((t=(0,Fe.Z)(t))&&(n||void 0===e))return t.replace(Xu,"");if(!t||!(e=(0,o.Z)(e)))return t;var i=(0,Oe.Z)(t),r=zu(i,(0,Oe.Z)(e));return(0,Ue.Z)(i,r).join("")};var Ju=/\w*$/;const $u=function(t,e){var n=30,i="...";if((0,f.Z)(e)){var r="separator"in e?e.separator:r;n="length"in e?(0,l.Z)(e.length):n,i="omission"in e?(0,o.Z)(e.omission):i}var a=(t=(0,Fe.Z)(t)).length;if((0,Re.Z)(t)){var s=(0,Oe.Z)(t);a=s.length}if(n>=a)return t;var c=n-(0,uc.Z)(i);if(c<1)return i;var A=s?(0,Ue.Z)(s,0,c).join(""):t.slice(0,c);if(void 0===r)return A+i;if(s&&(c+=A.length-c),Ns(r)){if(t.slice(c).search(r)){var u,d=A;for(r.global||(r=RegExp(r.source,(0,Fe.Z)(Ju.exec(r))+"g")),r.lastIndex=0;u=r.exec(d);)var h=u.index;A=A.slice(0,void 0===h?c:h)}}else if(t.indexOf((0,o.Z)(r),c)!=c){var p=A.lastIndexOf(r);p>-1&&(A=A.slice(0,p))}return A+i};const td=function(t){return It(t,1)};const ed=Ne({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var nd=/&(?:amp|lt|gt|quot|#39);/g,id=RegExp(nd.source);const rd=function(t){return(t=(0,Fe.Z)(t))&&id.test(t)?t.replace(nd,ed):t};var od=n(3203),ad=od.Z&&1/(0,kl.Z)(new od.Z([,-0]))[1]==1/0?function(t){return new od.Z(t)}:D;const sd=ad;const ld=function(t,e,n){var i=-1,r=dt,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=Gr;else if(o>=200){var c=e?null:sd(t);if(c)return(0,kl.Z)(c);a=!1,r=Kr.Z,l=new zr.Z}else l=e?[]:s;t:for(;++i<o;){var A=t[i],u=e?e(A):A;if(A=n||0!==A?A:0,a&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue t;e&&l.push(u),s.push(A)}else r(l,u,n)||(l!==s&&l.push(u),s.push(A))}return s};const cd=Yt((function(t){return ld(he(t,1,Tr,!0))}));var Ad=Yt((function(t){var e=Jr(t);return Tr(e)&&(e=void 0),ld(he(t,1,Tr,!0),Ji(e,2))}));const ud=Ad;const dd=Yt((function(t){var e=Jr(t);return e="function"==typeof e?e:void 0,ld(he(t,1,Tr,!0),void 0,e)}));const hd=function(t){return t&&t.length?ld(t):[]};const pd=function(t,e){return t&&t.length?ld(t,Ji(e,2)):[]};const fd=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?ld(t,void 0,e):[]};var md=0;const gd=function(t){var e=++md;return(0,Fe.Z)(t)+e};const yd=function(t,e){return null==t||Ql(t,e)};var vd=Math.max;const _d=function(t){if(!t||!t.length)return[];var e=0;return t=(0,Ro.Z)(t,(function(t){if(Tr(t))return e=vd(t.length,e),!0})),(0,Tu.Z)(e,(function(e){return(0,Oi.Z)(t,(0,Ki.Z)(e))}))};const wd=function(t,e){if(!t||!t.length)return[];var n=_d(t);return null==e?n:(0,Oi.Z)(n,(function(t){return x(e,void 0,t)}))};const xd=function(t,e,n,i){return Vl(t,e,n((0,Zi.Z)(t,e)),i)};const bd=function(t,e,n){return null==t?t:xd(t,e,co(n))};const Md=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:xd(t,e,co(n),i)};var Ld=Mn((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}));const Cd=Ld;const Bd=function(t){return null==t?[]:Ra(t,$t(t))};var Sd=Yt((function(t,e){return Tr(t)?Zr(t,e):[]}));const Ed=Sd;const Td=function(t,e){return wc(co(e),t)};const Dd=fe((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return se(e,t)};return!(e>1||this.__actions__.length)&&i instanceof T&&(0,yt.Z)(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Eu,args:[r],thisArg:void 0}),new O(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));const Id=function(){return Pn(this)};const Pd=function(){var t=this.__wrapped__;if(t instanceof T){var e=t;return this.__actions__.length&&(e=new T(this)),(e=e.reverse()).__actions__.push({func:Eu,args:[pA],thisArg:void 0}),new O(e,this.__chain__)}return this.thru(pA)};const kd=function(t,e,n){var i=t.length;if(i<2)return i?ld(t[0]):[];for(var r=-1,o=Array(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Zr(o[r]||a,t[s],e,n));return ld(he(o,1),e,n)};const Fd=Yt((function(t){return kd((0,Ro.Z)(t,Tr))}));var Ud=Yt((function(t){var e=Jr(t);return Tr(e)&&(e=void 0),kd((0,Ro.Z)(t,Tr),Ji(e,2))}));const Rd=Ud;const Od=Yt((function(t){var e=Jr(t);return e="function"==typeof e?e:void 0,kd((0,Ro.Z)(t,Tr),void 0,e)}));const Hd=Yt(_d);const Yd=function(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a};const Qd=function(t,e){return Yd(t||[],e||[],Ut)};const jd=function(t,e){return Yd(t||[],e||[],Vl)};var Nd=Yt((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,wd(t,n)}));const Wd=Nd,Vd={chunk:Rn,compact:Ui,concat:Ri,difference:qr,differenceBy:to,differenceWith:no,drop:ro,dropRight:oo,dropRightWhile:so,dropWhile:lo,fill:Uo,findIndex:jo,findLastIndex:Ko,first:qo,flatten:pe,flattenDeep:oa,flattenDepth:aa,fromPairs:ma,head:qo,indexOf:ja,initial:Na,intersection:Ga,intersectionBy:Za,intersectionWith:Xa,join:qs,last:Jr,lastIndexOf:ol,nth:Hl,pull:kc,pullAll:Pc,pullAllBy:Fc,pullAllWith:Uc,pullAt:Yc,remove:sA,reverse:pA,slice:EA,sortedIndex:HA,sortedIndexBy:YA,sortedIndexOf:QA,sortedLastIndex:jA,sortedLastIndexBy:NA,sortedLastIndexOf:WA,sortedUniq:zA,sortedUniqBy:GA,tail:au,take:su,takeRight:lu,takeRightWhile:cu,takeWhile:Au,union:cd,unionBy:ud,unionWith:dd,uniq:hd,uniqBy:pd,uniqWith:fd,unzip:_d,unzipWith:wd,without:Ed,xor:Fd,xorBy:Rd,xorWith:Od,zip:Hd,zipObject:Qd,zipObjectDeep:jd,zipWith:Wd},zd={countBy:pr,each:Ao,eachRight:mo,every:Po,filter:Ho,find:No,findLast:Zo,flatMap:ta,flatMapDeep:na,flatMapDepth:ia,forEach:Ao,forEachRight:mo,groupBy:xa,includes:Ya,invokeMap:ds,keyBy:el,map:$o,orderBy:tc,partition:Lc,reduce:iA,reduceRight:oA,reject:aA,sample:yA,sampleSize:xA,shuffle:BA,size:SA,some:PA,sortBy:kA},Gd={now:_r},Kd={after:c,ary:It,before:Se,bind:Te,bindKey:ke,curry:gr,curryRight:vr,debounce:br,defer:Nr,delay:Vr,flip:sa,memoize:bl.Z,negate:Il,once:Zl,overArgs:ac,partial:wc,partialRight:bc,rearg:eA,rest:uA,spread:XA,throttle:Su,unary:td,wrap:Td},Zd={castArray:Bn,clone:Di,cloneDeep:Ii,cloneDeepWith:Pi,cloneWith:ki,conformsTo:ir,eq:kt.Z,gt:La,gte:Ca,isArguments:Ae.Z,isArray:H.Z,isArrayBuffer:fs,isArrayLike:Qt.Z,isArrayLikeObject:Tr,isBoolean:ms,isBuffer:gi.Z,isDate:vs,isElement:_s,isEmpty:bs,isEqual:Ms.Z,isEqualWith:Ls,isError:Le,isFinite:Bs,isFunction:Dr.Z,isInteger:Ss,isLength:Es.Z,isMap:xi,isMatch:Ts,isMatchWith:Ds,isNaN:Ps,isNative:Os,isNil:Hs,isNull:Ys,isNumber:Is,isObject:f.Z,isObjectLike:Y.Z,isPlainObject:Me,isRegExp:Ns,isSafeInteger:Vs,isSet:Li,isString:Ua,isSymbol:i.Z,isTypedArray:Ir.Z,isUndefined:zs.Z,isWeakMap:Gs,isWeakSet:Ks,lt:Al,lte:ul,toArray:Ul,toFinite:ka.Z,toInteger:l.Z,toLength:ko,toNumber:Sn.Z,toPlainObject:kr,toSafeInteger:Qu,toString:Fe.Z},Xd={add:s,ceil:In,divide:io,floor:la,max:gl,maxBy:yl,mean:wl,meanBy:xl,min:Sl,minBy:El,multiply:Dl,round:fA,subtract:iu,sum:ru,sumBy:ou},qd={clamp:Hn,inRange:Fa,random:Gc},Jd={assign:Kt,assignIn:ee,assignInWith:ie,assignWith:oe,at:me,create:fr,defaults:Sr,defaultsDeep:Yr,entries:xo,entriesIn:bo,extend:ee,extendWith:ie,findKey:Vo,findLastKey:Xo,forIn:da,forInRight:ha,forOwn:pa,forOwnRight:fa,functions:ya,functionsIn:va,get:ae.Z,has:Ta,hasIn:Vi.Z,invert:es,invertBy:as,invoke:As,keys:Vt.Z,keysIn:$t,mapKeys:dl,mapValues:hl,merge:Ll,mergeWith:Hr,omit:Wl,omitBy:Kl,pick:Bc,pickBy:Gl,result:dA,set:bA,setWith:MA,toPairs:xo,toPairsIn:bo,transform:Nu,unset:yd,update:bd,updateWith:Md,values:Oa,valuesIn:Bd},$d={at:Dd,chain:Pn,commit:Fi,lodash:V,next:Rl,plant:Sc,reverse:Pd,tap:uu,thru:Eu,toIterator:ku,toJSON:Uu,value:Uu,valueOf:Uu,wrapperChain:Id},th={camelCase:Cn,capitalize:Qe,deburr:Ge,endsWith:go,escape:Bo,escapeRegExp:To,kebabCase:$s,lowerCase:sl,lowerFirst:ll,pad:pc,padEnd:fc,padStart:mc.Z,parseInt:vc,repeat:cA,replace:AA,snakeCase:DA,split:KA,startCase:JA,startsWith:$A,template:Bu,templateSettings:yu,toLower:Ru,toUpper:ju,trim:Gu,trimEnd:Zu,trimStart:qu,truncate:$u,unescape:rd,upperCase:Cd,upperFirst:Ye,words:xn},eh={attempt:Be,bindAll:Ie,cond:$i,conforms:nr,constant:et,defaultTo:Mr,flow:Aa,flowRight:ua,identity:A,iteratee:Zs,matches:pl,matchesProperty:fl,method:Cl,methodOf:Bl,mixin:Tl,noop:D,nthArg:Yl,over:nc,overEvery:sc,overSome:cc,property:qi,propertyOf:Ec,range:Jc,rangeRight:$c,stubArray:Xn.Z,stubFalse:Us.Z,stubObject:tu,stubString:eu,stubTrue:nu,times:Pu,toPath:Hu,uniqueId:gd};const nh=function(){var t=new T(this.__wrapped__);return t.__actions__=Q(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Q(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Q(this.__views__),t};const ih=function(){if(this.__filtered__){var t=new T(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t};var rh=Math.max,oh=Math.min;const ah=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=oh(e,t+a);break;case"takeRight":t=rh(t,e-a)}}return{start:t,end:e}};var sh=Math.min;const lh=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=(0,H.Z)(t),i=e<0,r=n?t.length:0,o=ah(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,A=this.__iteratees__,u=A.length,d=0,h=sh(l,this.__takeCount__);if(!n||!i&&r==l&&h==l)return Fu(t,this.__actions__);var p=[];t:for(;l--&&d<h;){for(var f=-1,m=t[c+=e];++f<u;){var g=A[f],y=g.iteratee,v=g.type,_=y(m);if(2==v)m=_;else if(!_){if(1==v)continue t;break t}}p[d++]=m}return p};var ch,Ah,uh=4294967295,dh=Array.prototype,hh=Object.prototype.hasOwnProperty,ph=ce.Z?ce.Z.iterator:void 0,fh=Math.max,mh=Math.min,gh=(ch=Tl,function(t,e,n){if(null==n){var i=(0,f.Z)(e),r=i&&(0,Vt.Z)(e),o=r&&r.length&&ga(e,r);(o?o.length:i)||(n=e,e=t,t=this)}return ch(t,e,n)});V.after=Kd.after,V.ary=Kd.ary,V.assign=Jd.assign,V.assignIn=Jd.assignIn,V.assignInWith=Jd.assignInWith,V.assignWith=Jd.assignWith,V.at=Jd.at,V.before=Kd.before,V.bind=Kd.bind,V.bindAll=eh.bindAll,V.bindKey=Kd.bindKey,V.castArray=Zd.castArray,V.chain=$d.chain,V.chunk=Vd.chunk,V.compact=Vd.compact,V.concat=Vd.concat,V.cond=eh.cond,V.conforms=eh.conforms,V.constant=eh.constant,V.countBy=zd.countBy,V.create=Jd.create,V.curry=Kd.curry,V.curryRight=Kd.curryRight,V.debounce=Kd.debounce,V.defaults=Jd.defaults,V.defaultsDeep=Jd.defaultsDeep,V.defer=Kd.defer,V.delay=Kd.delay,V.difference=Vd.difference,V.differenceBy=Vd.differenceBy,V.differenceWith=Vd.differenceWith,V.drop=Vd.drop,V.dropRight=Vd.dropRight,V.dropRightWhile=Vd.dropRightWhile,V.dropWhile=Vd.dropWhile,V.fill=Vd.fill,V.filter=zd.filter,V.flatMap=zd.flatMap,V.flatMapDeep=zd.flatMapDeep,V.flatMapDepth=zd.flatMapDepth,V.flatten=Vd.flatten,V.flattenDeep=Vd.flattenDeep,V.flattenDepth=Vd.flattenDepth,V.flip=Kd.flip,V.flow=eh.flow,V.flowRight=eh.flowRight,V.fromPairs=Vd.fromPairs,V.functions=Jd.functions,V.functionsIn=Jd.functionsIn,V.groupBy=zd.groupBy,V.initial=Vd.initial,V.intersection=Vd.intersection,V.intersectionBy=Vd.intersectionBy,V.intersectionWith=Vd.intersectionWith,V.invert=Jd.invert,V.invertBy=Jd.invertBy,V.invokeMap=zd.invokeMap,V.iteratee=eh.iteratee,V.keyBy=zd.keyBy,V.keys=Vt.Z,V.keysIn=Jd.keysIn,V.map=zd.map,V.mapKeys=Jd.mapKeys,V.mapValues=Jd.mapValues,V.matches=eh.matches,V.matchesProperty=eh.matchesProperty,V.memoize=Kd.memoize,V.merge=Jd.merge,V.mergeWith=Jd.mergeWith,V.method=eh.method,V.methodOf=eh.methodOf,V.mixin=gh,V.negate=Il,V.nthArg=eh.nthArg,V.omit=Jd.omit,V.omitBy=Jd.omitBy,V.once=Kd.once,V.orderBy=zd.orderBy,V.over=eh.over,V.overArgs=Kd.overArgs,V.overEvery=eh.overEvery,V.overSome=eh.overSome,V.partial=Kd.partial,V.partialRight=Kd.partialRight,V.partition=zd.partition,V.pick=Jd.pick,V.pickBy=Jd.pickBy,V.property=eh.property,V.propertyOf=eh.propertyOf,V.pull=Vd.pull,V.pullAll=Vd.pullAll,V.pullAllBy=Vd.pullAllBy,V.pullAllWith=Vd.pullAllWith,V.pullAt=Vd.pullAt,V.range=eh.range,V.rangeRight=eh.rangeRight,V.rearg=Kd.rearg,V.reject=zd.reject,V.remove=Vd.remove,V.rest=Kd.rest,V.reverse=Vd.reverse,V.sampleSize=zd.sampleSize,V.set=Jd.set,V.setWith=Jd.setWith,V.shuffle=zd.shuffle,V.slice=Vd.slice,V.sortBy=zd.sortBy,V.sortedUniq=Vd.sortedUniq,V.sortedUniqBy=Vd.sortedUniqBy,V.split=th.split,V.spread=Kd.spread,V.tail=Vd.tail,V.take=Vd.take,V.takeRight=Vd.takeRight,V.takeRightWhile=Vd.takeRightWhile,V.takeWhile=Vd.takeWhile,V.tap=$d.tap,V.throttle=Kd.throttle,V.thru=Eu,V.toArray=Zd.toArray,V.toPairs=Jd.toPairs,V.toPairsIn=Jd.toPairsIn,V.toPath=eh.toPath,V.toPlainObject=Zd.toPlainObject,V.transform=Jd.transform,V.unary=Kd.unary,V.union=Vd.union,V.unionBy=Vd.unionBy,V.unionWith=Vd.unionWith,V.uniq=Vd.uniq,V.uniqBy=Vd.uniqBy,V.uniqWith=Vd.uniqWith,V.unset=Jd.unset,V.unzip=Vd.unzip,V.unzipWith=Vd.unzipWith,V.update=Jd.update,V.updateWith=Jd.updateWith,V.values=Jd.values,V.valuesIn=Jd.valuesIn,V.without=Vd.without,V.words=th.words,V.wrap=Kd.wrap,V.xor=Vd.xor,V.xorBy=Vd.xorBy,V.xorWith=Vd.xorWith,V.zip=Vd.zip,V.zipObject=Vd.zipObject,V.zipObjectDeep=Vd.zipObjectDeep,V.zipWith=Vd.zipWith,V.entries=Jd.toPairs,V.entriesIn=Jd.toPairsIn,V.extend=Jd.assignIn,V.extendWith=Jd.assignInWith,gh(V,V),V.add=Xd.add,V.attempt=eh.attempt,V.camelCase=th.camelCase,V.capitalize=th.capitalize,V.ceil=Xd.ceil,V.clamp=qd.clamp,V.clone=Zd.clone,V.cloneDeep=Zd.cloneDeep,V.cloneDeepWith=Zd.cloneDeepWith,V.cloneWith=Zd.cloneWith,V.conformsTo=Zd.conformsTo,V.deburr=th.deburr,V.defaultTo=eh.defaultTo,V.divide=Xd.divide,V.endsWith=th.endsWith,V.eq=Zd.eq,V.escape=th.escape,V.escapeRegExp=th.escapeRegExp,V.every=zd.every,V.find=zd.find,V.findIndex=Vd.findIndex,V.findKey=Jd.findKey,V.findLast=zd.findLast,V.findLastIndex=Vd.findLastIndex,V.findLastKey=Jd.findLastKey,V.floor=Xd.floor,V.forEach=zd.forEach,V.forEachRight=zd.forEachRight,V.forIn=Jd.forIn,V.forInRight=Jd.forInRight,V.forOwn=Jd.forOwn,V.forOwnRight=Jd.forOwnRight,V.get=Jd.get,V.gt=Zd.gt,V.gte=Zd.gte,V.has=Jd.has,V.hasIn=Jd.hasIn,V.head=Vd.head,V.identity=A,V.includes=zd.includes,V.indexOf=Vd.indexOf,V.inRange=qd.inRange,V.invoke=Jd.invoke,V.isArguments=Zd.isArguments,V.isArray=H.Z,V.isArrayBuffer=Zd.isArrayBuffer,V.isArrayLike=Zd.isArrayLike,V.isArrayLikeObject=Zd.isArrayLikeObject,V.isBoolean=Zd.isBoolean,V.isBuffer=Zd.isBuffer,V.isDate=Zd.isDate,V.isElement=Zd.isElement,V.isEmpty=Zd.isEmpty,V.isEqual=Zd.isEqual,V.isEqualWith=Zd.isEqualWith,V.isError=Zd.isError,V.isFinite=Zd.isFinite,V.isFunction=Zd.isFunction,V.isInteger=Zd.isInteger,V.isLength=Zd.isLength,V.isMap=Zd.isMap,V.isMatch=Zd.isMatch,V.isMatchWith=Zd.isMatchWith,V.isNaN=Zd.isNaN,V.isNative=Zd.isNative,V.isNil=Zd.isNil,V.isNull=Zd.isNull,V.isNumber=Zd.isNumber,V.isObject=f.Z,V.isObjectLike=Zd.isObjectLike,V.isPlainObject=Zd.isPlainObject,V.isRegExp=Zd.isRegExp,V.isSafeInteger=Zd.isSafeInteger,V.isSet=Zd.isSet,V.isString=Zd.isString,V.isSymbol=Zd.isSymbol,V.isTypedArray=Zd.isTypedArray,V.isUndefined=Zd.isUndefined,V.isWeakMap=Zd.isWeakMap,V.isWeakSet=Zd.isWeakSet,V.join=Vd.join,V.kebabCase=th.kebabCase,V.last=Jr,V.lastIndexOf=Vd.lastIndexOf,V.lowerCase=th.lowerCase,V.lowerFirst=th.lowerFirst,V.lt=Zd.lt,V.lte=Zd.lte,V.max=Xd.max,V.maxBy=Xd.maxBy,V.mean=Xd.mean,V.meanBy=Xd.meanBy,V.min=Xd.min,V.minBy=Xd.minBy,V.stubArray=eh.stubArray,V.stubFalse=eh.stubFalse,V.stubObject=eh.stubObject,V.stubString=eh.stubString,V.stubTrue=eh.stubTrue,V.multiply=Xd.multiply,V.nth=Vd.nth,V.noop=eh.noop,V.now=Gd.now,V.pad=th.pad,V.padEnd=th.padEnd,V.padStart=th.padStart,V.parseInt=th.parseInt,V.random=qd.random,V.reduce=zd.reduce,V.reduceRight=zd.reduceRight,V.repeat=th.repeat,V.replace=th.replace,V.result=Jd.result,V.round=Xd.round,V.sample=zd.sample,V.size=zd.size,V.snakeCase=th.snakeCase,V.some=zd.some,V.sortedIndex=Vd.sortedIndex,V.sortedIndexBy=Vd.sortedIndexBy,V.sortedIndexOf=Vd.sortedIndexOf,V.sortedLastIndex=Vd.sortedLastIndex,V.sortedLastIndexBy=Vd.sortedLastIndexBy,V.sortedLastIndexOf=Vd.sortedLastIndexOf,V.startCase=th.startCase,V.startsWith=th.startsWith,V.subtract=Xd.subtract,V.sum=Xd.sum,V.sumBy=Xd.sumBy,V.template=th.template,V.times=eh.times,V.toFinite=Zd.toFinite,V.toInteger=l.Z,V.toLength=Zd.toLength,V.toLower=th.toLower,V.toNumber=Zd.toNumber,V.toSafeInteger=Zd.toSafeInteger,V.toString=Zd.toString,V.toUpper=th.toUpper,V.trim=th.trim,V.trimEnd=th.trimEnd,V.trimStart=th.trimStart,V.truncate=th.truncate,V.unescape=th.unescape,V.uniqueId=eh.uniqueId,V.upperCase=th.upperCase,V.upperFirst=th.upperFirst,V.each=zd.forEach,V.eachRight=zd.forEachRight,V.first=Vd.head,gh(V,(Ah={},sr(V,(function(t,e){hh.call(V.prototype,e)||(Ah[e]=t)})),Ah),{chain:!1}),V.VERSION="4.17.21",(V.templateSettings=th.templateSettings).imports._=V,st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){V[t].placeholder=V})),st(["drop","take"],(function(t,e){T.prototype[t]=function(n){n=void 0===n?1:fh((0,l.Z)(n),0);var i=this.__filtered__&&!e?new T(this):this.clone();return i.__filtered__?i.__takeCount__=mh(n,i.__takeCount__):i.__views__.push({size:mh(n,uh),type:t+(i.__dir__<0?"Right":"")}),i},T.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),st(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;T.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ji(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),st(["head","last"],(function(t,e){var n="take"+(e?"Right":"");T.prototype[t]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");T.prototype[t]=function(){return this.__filtered__?new T(this):this[n](1)}})),T.prototype.compact=function(){return this.filter(A)},T.prototype.find=function(t){return this.filter(t).head()},T.prototype.findLast=function(t){return this.reverse().find(t)},T.prototype.invokeMap=Yt((function(t,e){return"function"==typeof t?new T(this):this.map((function(n){return cs(n,t,e)}))})),T.prototype.reject=function(t){return this.filter(Il(Ji(t)))},T.prototype.slice=function(t,e){t=(0,l.Z)(t);var n=this;return n.__filtered__&&(t>0||e<0)?new T(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=(0,l.Z)(e))<0?n.dropRight(-e):n.take(e-t)),n)},T.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},T.prototype.toArray=function(){return this.take(uh)},sr(T.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=V[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(V.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof T,l=a[0],c=s||(0,H.Z)(e),A=function(t){var e=r.apply(V,(0,le.Z)([t],a));return i&&u?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var u=this.__chain__,d=!!this.__actions__.length,h=o&&!u,p=s&&!d;if(!o&&c){e=p?e:new T(this);var f=t.apply(e,a);return f.__actions__.push({func:Eu,args:[A],thisArg:void 0}),new O(f,u)}return h&&p?t.apply(this,a):(f=this.thru(A),h?i?f.value()[0]:f.value():f)})})),st(["pop","push","shift","sort","splice","unshift"],(function(t){var e=dh[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);V.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply((0,H.Z)(r)?r:[],t)}return this[n]((function(n){return e.apply((0,H.Z)(n)?n:[],t)}))}})),sr(T.prototype,(function(t,e){var n=V[e];if(n){var i=n.name+"";hh.call(k,i)||(k[i]=[]),k[i].push({name:e,func:n})}})),k[bt(void 0,2).name]=[{name:"wrapper",func:void 0}],T.prototype.clone=nh,T.prototype.reverse=ih,T.prototype.value=lh,V.prototype.at=$d.at,V.prototype.chain=$d.wrapperChain,V.prototype.commit=$d.commit,V.prototype.next=$d.next,V.prototype.plant=$d.plant,V.prototype.reverse=$d.reverse,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=$d.value,V.prototype.first=V.prototype.head,ph&&(V.prototype[ph]=$d.toIterator);const yh=V},2454:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(520);function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i.Z),n}r.Cache=i.Z;const o=r},3265:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(9628),r=n(5625),o=n(4930),a=n(7338);const s=function(t,e,n){t=(0,a.Z)(t);var s=(e=(0,o.Z)(e))?(0,r.Z)(t):0;return e&&s<e?(0,i.Z)(e-s,n)+t:t}},532:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){return[]}},7979:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){return!1}},9640:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(5742),r=1/0;const o=function(t){return t?(t=(0,i.Z)(t))===r||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},4930:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(9640);const r=function(t){var e=(0,i.Z)(t),n=e%1;return e==e?n?e-n:e:0}},5742:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var i=n(3404),r=n(7226),o=n(2714),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;const A=function(t){if("number"==typeof t)return t;if((0,o.Z)(t))return NaN;if((0,r.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=(0,i.Z)(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},7338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2845);const r=function(t){return null==t?"":(0,i.Z)(t)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var t=__webpack_require__(1652),e=__webpack_require__(7771),n=__webpack_require__(3265),i=__webpack_require__(576),r=__webpack_require__(1910),o=__webpack_require__(710),a=__webpack_require__(6461),s=__webpack_require__.n(a),l=__webpack_require__(1415),c=__webpack_require__.n(l);const A=function(t){var e=this;this.onDecodeMapData=function(t){e._onDecodeMapData||(e._onDecodeMapData=e._invoke.bind("onDecodeMapData")),null==e._onDecodeMapData||e._onDecodeMapData({mapHeader:t.mapHeader,mapRooms:t.mapRooms})},this.onDecodePathData=function(t){e._onDecodePathData||(e._onDecodePathData=e._invoke.bind("onDecodePathData")),null==e._onDecodePathData||e._onDecodePathData(t)},this.onClickSplitArea=function(t){var n=t.data;e._onClickSplitArea||(e._onClickSplitArea=e._invoke.bind("onClickSplitArea")),null==e._onClickSplitArea||e._onClickSplitArea(n)},this.onMapId=function(t){var n={dataMapId:t.data.dataMapId,mapId:t.data.mapId,target:t.data.target,performanceTimestamp:t.data.performanceTimestamp};e._onMapId||(e._onMapId=e._invoke.bind("onMapId")),null==e._onMapId||e._onMapId(n)},this.onClickModel=function(t){e._onClickModel||(e._onClickModel=e._invoke.bind("onClickModel")),null==e._onClickModel||e._onClickModel(t)},this.onModelLoadingProgress=function(t){e._onModelLoadingProgress||(e._onModelLoadingProgress=e._invoke.bind("onModelLoadingProgress")),null==e._onModelLoadingProgress||e._onModelLoadingProgress(t)},this.onMapLoadEnd=function(t){e._onMapLoadEnd||(e._onMapLoadEnd=e._invoke.bind("onMapLoadEnd")),null==e._onMapLoadEnd||e._onMapLoadEnd(t)},this.onClickRoom=function(t){e._onClickRoom||(e._onClickRoom=e._invoke.bind("onClickRoom")),null==e._onClickRoom||e._onClickRoom(t)},this.onLongPressInAreaView=function(t){e._onLongPressInAreaView||(e._onLongPressInAreaView=e._invoke.bind("onLongPressInAreaView")),null==e._onLongPressInAreaView||e._onLongPressInAreaView(t)},this.onLaserMapPoints=function(t,n){e._onLaserMapPoints||(e._onLaserMapPoints=e._invoke.bind("onLaserMapPoints")),null==e._onLaserMapPoints||e._onLaserMapPoints(t,n)},this.onLoggerInfo=function(t){e.enableLoggerInfo&&(e._onLoggerInfo||(e._onLoggerInfo=e._invoke.bind("onLoggerInfo")),null==e._onLoggerInfo||e._onLoggerInfo(t))},this.onGestureChange=function(t){e._onGestureChange||(e._onGestureChange=e._invoke.bind("onGestureChange")),null==e._onGestureChange||e._onGestureChange(t)},this.onClickRoomMoreProperties=function(t){e._onClickRoomMoreProperties||(e._onClickRoomMoreProperties=e._invoke.bind("onClickRoomMoreProperties")),null==e._onClickRoomMoreProperties||e._onClickRoomMoreProperties(t)},this.onClickRoomProperties=function(t){e._onClickRoomProperties||(e._onClickRoomProperties=e._invoke.bind("onClickRoomProperties")),null==e._onClickRoomProperties||e._onClickRoomProperties(t)},this.onPosPoints=function(t,n){e._onPosPoints||(e._onPosPoints=e._invoke.bind("onPosPoints")),null==e._onPosPoints||e._onPosPoints(t,n)},this.onSplitLine=function(t,n){e._onSplitLine||(e._onSplitLine=e._invoke.bind("onSplitLine")),null==e._onSplitLine||e._onSplitLine(t,n)},this.onScreenSnapshot=function(t){e._onScreenSnapshot||(e._onScreenSnapshot=e._invoke.bind("onScreenSnapshot")),null==e._onScreenSnapshot||e._onScreenSnapshot(t)},this.onVirtualInfoRendered=function(t){e._onVirtualInfoRendered||(e._onVirtualInfoRendered=e._invoke.bind("onVirtualInfoRendered")),null==e._onVirtualInfoRendered||e._onVirtualInfoRendered(t)},this.onClickMapView=function(t){e._onClickMapView||(e._onClickMapView=e._invoke.bind("onClickMapView")),null==e._onClickMapView||e._onClickMapView(t)},this.onRobotPositionChange=function(t){e._onRobotPositionChange||(e._onRobotPositionChange=e._invoke.bind("onRobotPositionChange")),null==e._onRobotPositionChange||e._onRobotPositionChange(t)},this.onRenderContextLost=function(t){e._onRenderContextLost||(e._onRenderContextLost=e._invoke.bind("onRenderContextLost")),null==e._onRenderContextLost||e._onRenderContextLost(t)},this.onRenderContextRestored=function(t){e._onRenderContextRestored||(e._onRenderContextRestored=e._invoke.bind("onRenderContextRestored")),null==e._onRenderContextRestored||e._onRenderContextRestored(t)},this.onContainerVisibilityChange=function(t){e._onContainerVisibilityChange||(e._onContainerVisibilityChange=e._invoke.bind("onContainerVisibilityChange")),null==e._onContainerVisibilityChange||e._onContainerVisibilityChange(t)},this.onVirtualInfoOutOfBoundingBox=function(t){e._onVirtualInfoOutOfBoundingBox||(e._onVirtualInfoOutOfBoundingBox=e._invoke.bind("onVirtualInfoOutOfBoundingBox")),null==e._onVirtualInfoOutOfBoundingBox||e._onVirtualInfoOutOfBoundingBox(t)},this.onClickMaterial=function(t){e._onClickMaterial||(e._onClickMaterial=e._invoke.bind("onClickMaterial")),null==e._onClickMaterial||e._onClickMaterial(t)},this.onClickInfoWindow=function(t){e._onClickInfoWindow||(e._onClickInfoWindow=e._invoke.bind("onClickInfoWindow")),null==e._onClickInfoWindow||e._onClickInfoWindow(t)},this.onCruiseStatusMapClick=function(t){e._onCruiseStatusMapClick||(e._onCruiseStatusMapClick=e._invoke.bind("onCruiseStatusMapClick")),null==e._onCruiseStatusMapClick||e._onCruiseStatusMapClick(t)},this.onClickCustomLayer=function(t){e._onClickCustomLayer||(e._onClickCustomLayer=e._invoke.bind("onClickCustomLayer")),null==e._onClickCustomLayer||e._onClickCustomLayer(t)},this.onD3MapViewModeEnd=function(t){e._onD3MapViewModeEnd||(e._onD3MapViewModeEnd=e._invoke.bind("onD3MapViewModeEnd")),null==e._onD3MapViewModeEnd||e._onD3MapViewModeEnd(t)},this._invoke=t.invoke,this.enableLoggerInfo=!1,this._invoke.define("onLoggerInfoEnable",(function(t){e.enableLoggerInfo=t}))};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var d=/^\s+/,h=/\s+$/;function p(t,e){if(e=e||{},(t=t||"")instanceof p)return t;if(!(this instanceof p))return new p(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(d,"").replace(h,"").toLowerCase();var e,n=!1;if(D[t])t=D[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=W.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=W.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=W.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=W.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=W.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=W.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=W.hex8.exec(t))return{r:U(e[1]),g:U(e[2]),b:U(e[3]),a:Y(e[4]),format:n?"name":"hex8"};if(e=W.hex6.exec(t))return{r:U(e[1]),g:U(e[2]),b:U(e[3]),format:n?"name":"hex"};if(e=W.hex4.exec(t))return{r:U(e[1]+""+e[1]),g:U(e[2]+""+e[2]),b:U(e[3]+""+e[3]),a:Y(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=W.hex3.exec(t))return{r:U(e[1]+""+e[1]),g:U(e[2]+""+e[2]),b:U(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==u(t)&&(V(t.r)&&V(t.g)&&V(t.b)?(l=t.r,c=t.g,A=t.b,e={r:255*k(l,255),g:255*k(c,255),b:255*k(A,255)},a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(i=O(t.s),r=O(t.v),e=function(t,e,n){t=6*k(t,360),e=k(e,100),n=k(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6,c=[n,a,o,o,s,n][l],A=[s,n,n,a,o,o][l],u=[o,o,s,n,n,a][l];return{r:255*c,g:255*A,b:255*u}}(t.h,i,r),a=!0,s="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(i=O(t.s),o=O(t.l),e=function(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=k(t,360),e=k(e,100),n=k(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,i,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));var l,c,A;return n=P(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function f(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,r,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function m(t,e,n){t=k(t,255),e=k(e,255),n=k(n,255);var i,r,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function g(t,e,n,i){var r=[R(Math.round(t).toString(16)),R(Math.round(e).toString(16)),R(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function y(t,e,n,i){return[R(H(i)),R(Math.round(t).toString(16)),R(Math.round(e).toString(16)),R(Math.round(n).toString(16))].join("")}function v(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.s-=e/100,n.s=F(n.s),p(n)}function _(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.s+=e/100,n.s=F(n.s),p(n)}function w(t){return p(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.l+=e/100,n.l=F(n.l),p(n)}function b(t,e){e=0===e?0:e||10;var n=p(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),p(n)}function M(t,e){e=0===e?0:e||10;var n=p(t).toHsl();return n.l-=e/100,n.l=F(n.l),p(n)}function L(t,e){var n=p(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,p(n)}function C(t){var e=p(t).toHsl();return e.h=(e.h+180)%360,p(e)}function B(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=p(t).toHsl(),i=[p(t)],r=360/e,o=1;o<e;o++)i.push(p({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function S(t){var e=p(t).toHsl(),n=e.h;return[p(t),p({h:(n+72)%360,s:e.s,l:e.l}),p({h:(n+216)%360,s:e.s,l:e.l})]}function E(t,e,n){e=e||6,n=n||30;var i=p(t).toHsl(),r=360/n,o=[p(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(p(i));return o}function T(t,e){e=e||6;for(var n=p(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(p({h:i,s:r,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=P(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=m(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var o=[R(Math.round(t).toString(16)),R(Math.round(e).toString(16)),R(Math.round(n).toString(16)),R(H(i))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*k(this._r,255))+"%",g:Math.round(100*k(this._g,255))+"%",b:Math.round(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%)":"rgba("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+y(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=p(t);n="#"+y(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(B,[3])},tetrad:function(){return this._applyCombination(B,[4])}},p.fromRatio=function(t,e){if("object"==u(t)){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:O(t[i]));t=n}return p(t,e)},p.equals=function(t,e){return!(!t||!e)&&p(t).toRgbString()==p(e).toRgbString()},p.random=function(){return p.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},p.mix=function(t,e,n){n=0===n?0:n||50;var i=p(t).toRgb(),r=p(e).toRgb(),o=n/100;return p({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},p.readability=function(t,e){var n=p(t),i=p(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},p.isReadable=function(t,e,n){var i,r,o=p.readability(t,e);switch(r=!1,(i=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},p.mostReadable=function(t,e,n){var i,r,o,a,s=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(i=p.readability(t,e[c]))>l&&(l=i,s=p(e[c]));return p.isReadable(t,s,{level:o,size:a})||!r?s:(n.includeFallbackColors=!1,p.mostReadable(t,["#fff","#000"],n))};var D=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=p.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(D);function P(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function F(t){return Math.min(1,Math.max(0,t))}function U(t){return parseInt(t,16)}function R(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}function H(t){return Math.round(255*parseFloat(t)).toString(16)}function Y(t){return U(t)/255}var Q,j,N,W=(j="[\\s|\\(]+("+(Q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",N="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!W.CSS_UNIT.exec(t)}var z=__webpack_require__(6423),G=__webpack_require__(9360),K=__webpack_require__(2454),Z=["sweep_count"];function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},X.apply(this,arguments)}var q=t.cQ.ColorUtils,J=["#ABD6FFFF","#FF818181","#00FFFF00","#7ED321FF"],$="#D0D0D0",tt="#D0D0D1",et="#D0D0D2",nt="#D0D0D3",it="#D0D0D0",rt="#D0D0D1",ot="#D0D0D2",at="#D0D0D3",st=function(t){var e=window.location.href.split("?");if(e.length>1){e=e[1].split("&");for(var n=0;n<e.length;n++){var i=e[n].split("=");if(i[0]===t)return i[1]}return null}return null},lt=function(t,e){void 0===e&&(e=2);var n=parseInt(t,10).toString(16);return n=n.length<e?"0".repeat(e-n.length)+n:n.slice(0,e)},ct=function(t,e){if(null==t)return"";var n=Number(t).toString(2),i=parseInt(n+e,2);return lt(String(i),2)},At=function(t,e,n,i){function r(t,e){var n=q.hex2hsv(e),i=n[0],r=n[1],o=n[2];return q.hsv2hex(i,r,o-t).toUpperCase()}for(var o=new Map,a=0,s=n.length,l=0;l<e;l++){var c=r(a,n[l%s]),A=l;o.set(A,c),l%s==0&&(a+=1)}var u=(0,z.Z)(i,"60",$),d=(0,z.Z)(i,"61",tt),h=(0,z.Z)(i,"62",et),p=(0,z.Z)(i,"63",nt),f=(0,z.Z)(i,"28",it),m=(0,z.Z)(i,"29",rt),g=(0,z.Z)(i,"30",ot),y=(0,z.Z)(i,"31",at);return 0===t||1===t?(o.set(60,u),o.set(61,d),o.set(62,h),o.set(63,p)):(o.set(28,f),o.set(29,m),o.set(30,g),o.set(31,y)),o},ut=function(t,e){function n(t,e){var n=q.hex2hsv(e),i=n[0],r=n[1],o=n[2];return q.hsv2hex(i,r,o-t).toUpperCase()}for(var i=new Map,r=0,o=e.length,a=0;a<t;a++){var s=n(r,e[a%o]),l=a;i.set(l,s),a%o==0&&(r+=1)}return i},dt=function(t,e,n,i){return t&&t[i]?t[i]:e&&e[i]?e[i]:n[i]},ht=function(t,e,n){var i=[];if(t.name&&i.push({propertyType:"text",value:t.name}),!e&&!(0,G.Z)(e)||!n)return i;var r=n.attributesFan,o=n.attributesWater,a=[],s=t.sweep_count,l=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,Z);Object.keys(l).forEach((function(e){var i=n[e]?n[e]:"fan"===e?r:"water_level"===e?o:null;if(i){var s="fan"===e?i.attributesFanEnum:"water_level"===e?i.attributesWaterEnum:null==i?void 0:i.valueEnum,l="fan"===e?i.attributesFanIconEnum:"water_level"===e?i.attributesWaterIconEnum:null==i?void 0:i.iconEnum,c=s.indexOf(""+t[e]||""),A=-1!==c&&l[c]?l[c]:null;a.push({value:t[e],icon:A})}}));var c=a.filter((function(t){var e=t.value;return!!t.icon||!(0,G.Z)(e)&&+e<5})).map((function(t){t.value;return{propertyType:"uri",value:t.icon}}));return c.length>0&&i.push.apply(i,c),s&&parseInt(s,10)&&parseInt(s,10)<255&&i.push({propertyType:"text",value:" "+s}),i},pt=function(t,e,n){if(void 0===n)return{};var i=n.floorMaterial2d,r=n.floorMaterial3d,o=i||{},a=o.typeEnum,s=void 0===a?[]:a,l=o.attributes,c=void 0===l?{}:l,A=r||{},u=A.typeEnum,d=void 0===u?[]:u,h=A.attributes,p=void 0===h?{}:h;return e?X({value:d[t]},p):X({value:s[t]},c)},ft=function(t,e){if(!e)return[];var i=[];return e.forEach((function(e){var r=(0,n.Z)(parseInt(e,16).toString(2),8,"0"),a=parseInt(r.slice(0,5),2);t&&Object.keys(t).forEach((function(t){var e=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),r=e.slice(5);parseInt(e.slice(0,5),2)!==a||r!==o.BITMAP_TYPE_MAP_V2.sweep&&r!==o.BITMAP_TYPE_MAP_V2.carpet||i.push(t)}))})),i},mt=function(t){if(!t)return[];var e=[].concat(t),i=[];return e.forEach((function(t){var e=!1,r=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),o=parseInt(r.slice(0,5),2);i.forEach((function(t){var i=(0,n.Z)(parseInt(t,16).toString(2),8,"0"),r=parseInt(i.slice(0,5),2);o===r&&(e=!0)})),e||i.push(t)})),i},gt=function(t){if(p(t).isValid()){var e=p(t).toHex8().slice(0,6);return("#"+lt(String(Math.round(255*p(t).getAlpha())))+e).toUpperCase()}return!1},yt=(0,K.Z)((function(t,e,n,i){var r,a=J[0],s=J[1],l=J[2];return((r={})[o.BITMAP_TYPE_MAP.sweep]=e?gt(e):a,r[o.BITMAP_TYPE_MAP.barrier]=n?gt(n):s,r[o.BITMAP_TYPE_MAP.unknown]=i?gt(i):l,r)[t]||a}),(function(t){return t})),vt=(0,K.Z)((function(t,e,n,i){var r,a=J[0],s=J[1],l=J[2];return((r={})[o.BITMAP_TYPE_MAP_V2.sweep]=e?gt(e):a,r[o.BITMAP_TYPE_MAP_V2.barrier]=n?gt(n):s,r[o.BITMAP_TYPE_MAP_V2.unknown]=i?gt(i):l,r[o.BITMAP_TYPE_MAP_V2.carpet]=e?gt(e):a,r)[t]||a}),(function(t){return t})),_t=(0,K.Z)((function(t,e,n,i){var r,o=J[0],a=J[1],s=J[2];return((r={}).sweep=e?gt(e):o,r.barrier=n?gt(n):a,r.unknown=i?gt(i):s,r)[t]||o}),(function(t){return t}));const wt=function(t){this._invoke=t.invoke,this.onMapData=t.onMapData,this.onStructuredMapData=t.onStructuredMapData,this.onPathData=t.onPathData,this.onCommandData=t.onCommandData,this.onConfigurationData=t.onConfigurationData,this.onRuntimeData=t.onRuntimeData,this.onRootStyle=t.onRootStyle,this._invoke.define("onMapData",this.onMapData),this._invoke.define("onStructuredMapData",this.onStructuredMapData),this._invoke.define("onPathData",this.onPathData),this._invoke.define("onCommandData",this.onCommandData),this._invoke.define("onConfigurationData",this.onConfigurationData),this._invoke.define("onRuntimeData",this.onRuntimeData),this._invoke.define("onRootStyle",this.onRootStyle)};const xt=function(e){var n=this;this._createGlobalEventListener=function(){window.onerror=function(t,e,n,i,r){console.error(t,e,n,i,r)}},this._createDebugMode=function(){var t=null;return n._getParamsFromLocationOrInjection().isDebuggerMode&&(t=new(c())),t},this._getParamsFromLocationOrInjection=function(){var t="debugger"===st("mode"),e="string"==typeof window.__INDOOR__MAP__INJECTED__?JSON.parse(window.__INDOOR__MAP__INJECTED__):window.__INDOOR__MAP__INJECTED__||{},n=e.resourceUsageLevel,i=void 0===n?st("resourceUsageLevel"):n,r=e.enablePageReload,o=void 0===r?st("enablePageReload")||!0:r,a=e.enableAICapability,s=void 0===a?st("enableAICapability"):a,l=e.platform,c=void 0===l?st("platform")||"webview":l,A=e.socketAddress;return{resourceUsageLevel:i,enableAICapability:s,platform:c,isDebuggerMode:t,socketAddress:void 0===A?st("socketAddress"):A,enablePageReload:o}},this._createIndoorMapInstance=function(){var e=n._getParamsFromLocationOrInjection(),i=e.resourceUsageLevel,r=e.enableAICapability,o=e.isDebuggerMode,a=e.platform,l=e.socketAddress,c=e.enablePageReload;return new t.xB({debugMode:o,enablePageReload:c,platform:a,container:n._containerElement,antialias:!0,socketAddress:l,logarithmicDepthBuffer:!0,preserveDrawingBuffer:!0,invoke:s(),useWorker:!0,resourceUsageLevel:i,enableAICapability:r,onClickSplitArea:n.invokeCallbackInstance.onClickSplitArea,onMapId:n.invokeCallbackInstance.onMapId,onClickRoom:n.invokeCallbackInstance.onClickRoom,onLaserMapPoints:n.invokeCallbackInstance.onLaserMapPoints,onLongPressInAreaView:n.invokeCallbackInstance.onLongPressInAreaView,onLoggerInfo:n.invokeCallbackInstance.onLoggerInfo,onClickModel:n.invokeCallbackInstance.onClickModel,onModelLoadingProgress:n.invokeCallbackInstance.onModelLoadingProgress,onMapLoadEnd:n.invokeCallbackInstance.onMapLoadEnd,onClickRoomMoreProperties:n.invokeCallbackInstance.onClickRoomMoreProperties,onGestureChange:n.invokeCallbackInstance.onGestureChange,onPosPoints:n.invokeCallbackInstance.onPosPoints,onClickRoomProperties:n.invokeCallbackInstance.onClickRoomProperties,onClickMapView:n.invokeCallbackInstance.onClickMapView,onSplitLine:n.invokeCallbackInstance.onSplitLine,onScreenSnapshot:n.invokeCallbackInstance.onScreenSnapshot,onVirtualInfoRendered:n.invokeCallbackInstance.onVirtualInfoRendered,onRobotPositionChange:n.invokeCallbackInstance.onRobotPositionChange,onRenderContextLost:n.invokeCallbackInstance.onRenderContextLost,onRenderContextRestored:n.invokeCallbackInstance.onRenderContextRestored,onContainerVisibilityChange:n.invokeCallbackInstance.onContainerVisibilityChange,onVirtualInfoOutOfBoundingBox:n.invokeCallbackInstance.onVirtualInfoOutOfBoundingBox,onClickMaterial:n.invokeCallbackInstance.onClickMaterial,onClickInfoWindow:n.invokeCallbackInstance.onClickInfoWindow,onCruiseStatusMapClick:n.invokeCallbackInstance.onCruiseStatusMapClick,onClickCustomLayer:n.invokeCallbackInstance.onClickCustomLayer,onD3MapViewModeEnd:n.invokeCallbackInstance.onD3MapViewModeEnd})},this._containerElement=e.container,this.onMapData=e.onMapData,this.onStructuredMapData=e.onStructuredMapData,this.onPathData=e.onPathData,this.onCommandData=e.onCommandData,this.onConfigurationData=e.onConfigurationData,this.onRuntimeData=e.onRuntimeData,this.onRootStyle=e.onRootStyle,this._createDebugMode(),this._createGlobalEventListener(),this.invokeCallbackInstance=new A({invoke:s()}),this.invokeOpenApiInstance=new wt({invoke:s(),onMapData:this.onMapData,onStructuredMapData:this.onStructuredMapData,onPathData:this.onPathData,onCommandData:this.onCommandData,onConfigurationData:this.onConfigurationData,onRuntimeData:this.onRuntimeData,onRootStyle:this.onRootStyle}),this.indoorMapInstance=this._createIndoorMapInstance()};var bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAAAkUlEQVQ4EWNgGLaAEZ/PLB0cVH79+t8PUsPGxlh4/MCBO7jUM+GSIFV88BnEguwFUJgg83/9/i8L44PYQHkYF0wjhxmKQbCARVEN4/xnKALKw3gw2hfGoFoYobgIFMUwG0A02GtAl4DYjEyMvawsDE9AbGwAxSBkP4MUg8IE5h2QIejyyAZSzWuDzyBkbw4zNgA1SiyLi2V24wAAAABJRU5ErkJggg==";function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mt.apply(this,arguments)}var Lt="%c Middleware Log: ",Ct="background: #00cca3; color: #FFFFFF; font-size: 16px",Bt=t.cQ.ColorUtils,St=255;document.addEventListener("DOMContentLoaded",(function(){var t,a,s,l,c,A,u,d,h,p,f=!0,m=null,g=null,y={},v=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(e=console).info.apply(e,[Lt+" "+t,Ct].concat(i)),D&&"function"==typeof D.invokeCallbackInstance.onLoggerInfo&&D.invokeCallbackInstance.onLoggerInfo({info:Lt+" "+t,theme:Ct,args:Mt({},i)})},_=function(t){if(!y[t]){var e={r:1,g:1,b:1};if(t&&9===t.length&&0===t.indexOf("#")){var n=parseInt(t.substring(1),16),i=n>>>24,r=n>>16&255,o=n>>8&255,a=255&n;e.r=Math.floor(r/2.55)/100,e.g=Math.floor(o/2.55)/100,e.b=Math.floor(a/2.55)/100;var s={colorFormat:e,alpha:Math.floor(i/2.55)/100};y[t]=s}else{var l={colorFormat:e,alpha:1};y[t]=l}}return y[t]},w=function(){var t=A.highlightMapColor,n=void 0===t?o.DEFAULT_HIGHLIGHT_MAP_COLOR:t;return(0,e.Z)(n)&&n.length>0?n:o.DEFAULT_HIGHLIGHT_MAP_COLOR},x=function(){var t=A.normalMapColor,n=void 0===t?o.DEFAULT_NORMAL_MAP_COLOR:t;return(0,e.Z)(n)&&n.length>0?n:o.DEFAULT_NORMAL_MAP_COLOR},b=function(t,e){var i=function(t){var e={},i=A,r=i.mapColorConfig,a=void 0===r?{cleaningColor:"#ABD6FFFF",barrierColor:"#818181",unknownColor:"#00FFFF00"}:r,s=i.specialRoomColorMap,l=w(),c=x(),u=a.cleaningColor,d=a.barrierColor,h=a.unknownColor,p=t>1?o.BITMAP_TYPE_MAP_V2:o.BITMAP_TYPE_MAP,f=t>1?o.UNKNOWN_AREA_ID_V2:o.UNKNOWN_AREA_ID,m=t>1?5:6,g=At(t,St,c,s||{}),y=At(t,St,l,s||{}),v=t>1?vt:yt;if(0===t)return Object.values(o.BITMAP_TYPE_HEX_MAP).forEach((function(t){var i=(0,n.Z)(parseInt(t,16).toString(2),8,"0").slice(6),r=v(i,u,d,h);e[t]={normalColor:r,highlightColor:r,pixelType:o.BITMAP_TYPE_MAP_REFLECTION[i]}})),e;for(var _=0;_<=St;_++){var b=lt(""+_),M=(0,n.Z)(parseInt(b,16).toString(2),8,"0"),L=M.slice(m),C=parseInt(M.slice(0,m),2);if(L===p.barrier||L===p.unknown){var B=v(L,u,d,h);e[b]={normalColor:B,highlightColor:B,pixelType:o.BITMAP_TYPE_MAP_REFLECTION[L]}}if(t>1&&L===o.BITMAP_TYPE_MAP_V2.carpet){var S=ct(C,o.BITMAP_TYPE_MAP_V2.carpet);e[S]={normalColor:Bt.hex2ahexUpcase(g.get(C)),highlightColor:Bt.hex2ahexUpcase(y.get(C)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[L]}}L===p.sweep&&f.includes(C)&&(e[b]={normalColor:Bt.hex2ahexUpcase(g.get(C)),highlightColor:Bt.hex2ahexUpcase(y.get(C)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[L]})}return e}(t);if(t>0)for(var r=w(),a=x(),s=A.specialRoomColorMap,l=At(t,St,a,s||{}),c=At(t,St,r,s||{}),u=t>1?o.BITMAP_TYPE_MAP_V2:o.BITMAP_TYPE_MAP,d=0,h=e.length;d<h;d++){var p=e[d];i[ct(p.roomId,u.sweep)]={roomId:p.roomId,normalColor:Bt.hex2ahexUpcase(l.get(p.roomId)),highlightColor:Bt.hex2ahexUpcase(c.get(p.roomId)),pixelType:o.BITMAP_TYPE_MAP_REFLECTION[u.sweep],name:p.name,fan:String(p.suction),order:String(p.order),water_level:String(p.cistern),sweep_count:String(p.sweepTimes),mop_count:String(p.mopTimes),sweep_forbidden:String(p.sweepForbidden),mop_forbidden:String(p.mopForbidden),y_mode:String(p.yMop),floorMaterial:p.floorMaterial,vertexData:[]}}return i},M=function(t){var e={};if(u&&A){var i=u,r=i.preCustomRoomConfig,a=void 0===r?{}:r,s=i.customRoomConfig,c=void 0===s?{}:s,d=i.selectRoomData,h=i.uiInterFace,p=i.foldableRoomIds,f=void 0===p?[]:p,m=A,g=m.roomAttributesConfig,y=m.roomStyleConfig,_=m.roomFloorMaterialConfig,w=void 0===_?{}:_,x=m.roomPropertyStyle,b=void 0===x?"foldable":x,M=(g||{}).customKeys,L=void 0===M?[]:M,C=h.isSelectRoom,B=h.isFoldable,S=h.isCustomizeMode,E=l.mapHeader.version;Object.keys(t).forEach((function(i){var r=Object.keys(c).length?c[i]:null,s=t[i],l=Object.keys(a).length?a[i]:null,A={},u=[].concat(L,["fan","water_level","sweep_count"]),h=dt(l,r,s,"name"),p=dt(l,r,s,"floorMaterial"),m=dt(l,r,s,"order");u.forEach((function(t){var e=dt(l,r,s,t);A[t]=e}));var _=ht(A,S||!1,g),x=pt(p,!1,w),M=pt(p,!0,w),T=!1,D="",I="",P=0;if(0===E)I=(D=(0,n.Z)(parseInt(i,16).toString(2),8,"0")).slice(6),e[i]=Mt({defaultOrder:parseInt(m,10)<=31?m:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:_,extend:JSON.stringify(Mt({},s,A)),roomFloorMaterial2d:x,roomFloorMaterial3d:M,name:"",roomPropertyStyle:b,isFoldable:B||f.includes(i)||C&&d.includes(i)},y);else if(1===E)I=(D=(0,n.Z)(parseInt(i,16).toString(2),8,"0")).slice(6),P=parseInt(D.slice(0,6),2),C&&(T=d.includes(i),I===o.BITMAP_TYPE_MAP.sweep&&(m=T?d.indexOf(i)+1:0)),(o.UNKNOWN_AREA_ID.includes(P)||P<=32)&&(e[i]=Mt({defaultOrder:parseInt(m,10)<=31?m:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:_,extend:JSON.stringify(Mt({},s,A)),roomFloorMaterial2d:x,roomFloorMaterial3d:M,name:I===o.BITMAP_TYPE_MAP.sweep&&P<=32?h:"",roomPropertyStyle:b,isFoldable:B||f.includes(i)||C&&d.includes(i)},y));else if(2===E||3===E){var k=ft(t,d),F=mt(k),U=ft(t,f),R=mt(U);if(I=(D=(0,n.Z)(parseInt(i,16).toString(2),8,"0")).slice(5),P=parseInt(D.slice(0,5),2),C){T=F.includes(i);var O=function(t,e){for(var i=0,r=0;r<e.length;r++){var o=(0,n.Z)(parseInt(e[r],16).toString(2),8,"0"),a=parseInt(o.slice(0,5),2);if(t.roomId===a){i=r;break}}return i}(s,d);I!==o.BITMAP_TYPE_MAP_V2.sweep&&I!==o.BITMAP_TYPE_MAP_V2.carpet||(m=String(T?O+1:0))}(o.UNKNOWN_AREA_ID_V2.includes(P)||P<=27)&&(e[i]=Mt({defaultOrder:parseInt(m,10)<=26?m:0,normalColor:s.normalColor,highlightColor:s.highlightColor,pixelType:s.pixelType,roomProperty:_,extend:JSON.stringify(Mt({},s,A)),roomFloorMaterial2d:x,roomFloorMaterial3d:M,name:I===o.BITMAP_TYPE_MAP_V2.sweep&&P<=27?h:"",roomPropertyStyle:b,isFoldable:B||R.includes(i)||C&&F.includes(i)},y))}else v("Map protocol version : "+E+" is not support by standard template, please use @ray-js/robot-middleware sdk to develop by your self")}))}return e},L=function(t,e){for(var n=A,i=n.mapColorConfig,r=void 0===i?{cleaningColor:"#ABD6FFFF",barrierColor:"#FF818181",unknownColor:"#00FFFF00"}:i,o=n.roomStyleConfig,a=r.cleaningColor,s=r.barrierColor,l=r.unknownColor,c=[],u=0,d=t.length;u<d;u++){for(var h=t[u].coordinates,p=new Array(h.length/2*3),f=_t(e,a,s,l),m=_t(e,a,s,l),g=_(f),y=g.colorFormat,v=g.alpha,w=_(m),x=w.colorFormat,b=w.alpha,M=[x.r,x.g,x.b],L=[y.r,y.g,y.b],C={x:0,y:0},B=0,S=h.length;B<S;B+=2){var E=B/2*3,T=h[B],D=-h[B+1];C.x+=T,C.y+=D,p[E]=T,p[E+1]=D,p[E+2]=0}C.x/=h.length/2,C.y/=h.length/2;var I={useContour:!1,center:C,pointsArray:p,colorsArray:M,normalColorsArray:L,pointsAttribute:Mt({colorHex:e,vertexDataOuter:[],vertexDataOuterOnScs:[],points:p,normalColors:L,normalColorAlpha:v,colors:M,colorAlpha:b,defaultOrder:0,normalColor:f,highlightColor:m,pixelType:e,roomProperty:[],extend:Mt({},{normalColor:f,highlightColor:m}),roomFloorMaterial2d:void 0,roomFloorMaterial3d:void 0,name:"",roomPropertyStyle:"",isFoldable:!1},o)};c.push(I)}return c},C=function(t){var e=l=(0,o.decodeMap)(t),n=e.mapHeader,r=e.mapData;return(0,i.Z)(m,n)&&(0,i.Z)(g,r.mapRooms)||(m=n,g=r.mapRooms,D.invokeCallbackInstance.onDecodeMapData({mapHeader:n,mapRooms:r.mapRooms})),{mapDataStructured:l,textureObject:[{url:bt}]}},B=function(e){var n;if(A&&Object.keys(A).length&&u&&Object.keys(u).length){var r=e.id,a=e.size,s=void 0===a?[0,0]:a,l=e.origin,c=void 0===l?[0,0]:l,d=e.carpet,h=void 0===d?[]:d,p=(A||{}).staticPrefix,f=void 0===p?"":p,y=u||{},v=y.selectRoomData,b=y.isFreezeMap,M=y.is3d,C=void 0!==M&&M,B=y.pathVisible,S=y.materialObject,E=void 0===S?{}:S,T=y.areaInfoList,I=void 0===T?"[]":T,P=function(t){var e=[];if(u&&A){var n=t.id,r=t.status,a=t.resolution,s=t.origin,l=void 0===s?[0,0]:s,c=t.charger,d=void 0===c?{coordinate:[0,0],angle:0}:c,h=t.rooms,p=void 0===h?{}:h,f=t.obstacles,y=void 0===f?[]:f,v=t.free,b=void 0===v?[]:v,M=t.size,C=void 0===M?[0,0]:M,B=u.roomProperty,S=void 0===B?{}:B,E=u,T=E.preCustomRoomConfig,I=void 0===T?{}:T,P=E.customRoomConfig,k=void 0===P?{}:P,F=E.selectRoomData,U=E.uiInterFace,R=E.foldableRoomIds,O=void 0===R?[]:R,H=A,Y=H.roomAttributesConfig,Q=H.roomStyleConfig,j=H.roomFloorMaterialConfig,N=void 0===j?{}:j,W=w(),V=x(),z=U.isSelectRoom,G=U.isFoldable,K=U.isCustomizeMode,Z=void 0!==K&&K,X={version:0,mapHeaderStr:"",id:n,mapWidth:C[0],mapHeight:C[1],mapResolution:a,mapStable:Boolean(r),originX:l[0],originY:l[1],chargeX:d.coordinate[0],chargeY:d.coordinate[1],chargeDirection:d.angle,chargePositionTransformed:{x:d.coordinate[0]-l[0],y:d.coordinate[1]-l[1]},dataLengthAfterCompress:0,dataLengthBeforeCompress:0},q=[],J=ut(St,V),$=ut(St,W),tt=(Y||{}).customKeys,et=void 0===tt?[]:tt;Object.keys(p).forEach((function(t){var n=p[t],i=parseInt(t,10),r=(0,o.numToHexString)(i,2),a=Bt.hex2ahexUpcase(i<=St?J.get(i):"#3fc1c9"),s=Bt.hex2ahexUpcase(i<St?$.get(i):"#3fc1c9"),l=_(a),c=l.colorFormat,A=l.alpha,u=_(s),d=u.colorFormat,h=u.alpha,f=Mt({roomId:i,normalColor:a,highlightColor:s},S[i]),m={roomId:i,pointHex:(0,o.numToHexString)(i),name:f.name,colorOrder:f.color_order,order:f.defaultOrder,suction:f.fan,cistern:f.water_level,sweepTimes:f.sweep_count,sweepForbidden:Boolean(f.sweep_forbidden),mopForbidden:Boolean(f.mop_forbidden),mopTimes:f.mop_count,yMop:Boolean(f.y_mop),floorMaterial:f.floorMaterial};q.push(m);var g=Object.keys(k).length?k[r]:null,y=Object.keys(I).length?I[r]:null,v=dt(y,g,f,"name"),w=dt(y,g,f,"floorMaterial"),x=dt(y,g,f,"order"),b={};[].concat(et,["fan","water_level","sweep_count"]).forEach((function(t){var e=dt(y,g,f,t);b[t]=e}));var M=ht(b,Z,Y),L=pt(w,!1,N),C=pt(w,!0,N);z&&(x=F.includes(r)?F.indexOf(r)+1:0);for(var B=n.coordinates,E=void 0===B?[]:B,T=[],D=[],P={x:0,y:0},U=0,R=E.length;U<R;U+=2){var H=E[U],j=-E[U+1];P.x+=H,P.y+=j,T.push({x:H,y:j}),D.push({x:H,y:-j})}T.push(T[0]),D.push(D[0]),P.x/=E.length/2,P.y/=E.length/2;var W=[d.r,d.g,d.b],V=[c.r,c.g,c.b],K={useContour:!0,center:P,pointsArray:[],colorsArray:W,normalColorsArray:V,pointsAttribute:Mt({colorHex:r,vertexDataOuter:T,vertexDataOuterOnScs:D,points:[],normalColors:V,normalColorAlpha:A,colors:W,colorAlpha:h,defaultOrder:x||0,normalColor:a,highlightColor:s,pixelType:"sweep",roomProperty:M,extend:Mt({},f,b),roomFloorMaterial2d:L,roomFloorMaterial3d:C,name:v||"",roomPropertyStyle:"foldable",isFoldable:G||O.includes(r)||z&&F.includes(r)},Q)};e.push(K)}));var nt=L(y,"barrier"),it=L(b,"sweep");e.push.apply(e,nt.concat(it)),(0,i.Z)(m,X)&&(0,i.Z)(g,q)||(m=X,g=q,D.invokeCallbackInstance.onDecodeMapData({mapHeader:X,mapRooms:q}))}return e}(e),k=function(t){for(var e=[],n=0,i=t.length;n<i;n++){for(var r=t[n].coordinates,o=new Array(r.length/2),a=0,s=r.length;a<s;a+=2){var l=r[a],c=r[a+1];o[a/2]={x:l,y:c}}e.push({url:bt,pointList:o})}return e}(h),F=[];P.forEach((function(t){var e=t.pointsAttribute.vertexDataOuterOnScs;e&&e.length>0&&F.push.apply(F,e)}));var U=function(t){return[(t.boundingBox.minX+t.boundingBox.maxX)/2,(t.boundingBox.minY+t.boundingBox.maxY)/2]}(function(t,e){void 0===e&&(e=!0);var n={tl:[0,0],tr:[0,0],bl:[0,0],br:[0,0],boundingBox:{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}};if(t.length<1)return n;for(var i=9999999,r=9999999,o=-9999999,a=-9999999,s=t.length-1;s>=0;s--){var l={x:t[s].x,y:e?-t[s].y:t[s].y};l.x>o&&(o=l.x),l.x<i&&(i=l.x),l.y>a&&(a=l.y),l.y<r&&(r=l.y)}n.tl=[i||0,r||0],n.tr=[o||0,r||0],n.bl=[i||0,a||0],n.br=[o||0,a||0];var c=Math.sqrt(Math.pow(n.tr[0]-n.tl[0],2)+Math.pow(n.tr[1]-n.tl[1],2)),A=Math.sqrt(Math.pow(n.br[0]-n.bl[0],2)+Math.pow(n.br[1]-n.bl[1],2));return n.boundingBox={minX:i,minY:r,maxX:o,maxY:a,width:c,height:A},n}(F)),R={staticPrefix:f,performanceTimestamp:t,dataMapId:r,width:s[0],height:s[1],origin:{x:c[0],y:c[1]},center:U,materialObject:E,areaInfoList:I,textureObject:k,structuredInfo:P};n=Mt({},A,{selectRoomData:v,is3d:C,pathVisible:B,isFreezeMap:b,mapStructuredData:R})}return n},S=function(){if(p){var t=p.size,e=void 0===t?[0,0]:t;f=0===e[0]||0===e[1];var n=B(p);f&&(v("Map is empty"),D.indoorMapInstance.clearMap(),D.invokeCallbackInstance.onMapLoadEnd(!0)),p&&!f&&n&&D.indoorMapInstance.onDrawMapWithStructuredData(n)}},E=function(){d||(d=C(a));var e=function(e){var n;if(A&&Object.keys(A).length&&u&&Object.keys(u).length){var i=e.mapDataStructured,r=i.mapHeader,o=i.mapData,a=(A||{}).staticPrefix,s=u||{},l=s.selectRoomData,c=s.isFreezeMap,d=s.is3d,h=s.pathVisible,p=s.materialObject,f=void 0===p?{}:p,m=s.areaInfoList,g=void 0===m?"[]":m,y=M(b(r.version,o.mapRooms)),v={staticPrefix:a,performanceTimestamp:t,version:r.version,dataMapId:r.id,width:r.mapWidth,height:r.mapHeight,origin:{x:r.originX,y:r.originY},map:o.mapPointsStr,roomInfo:y,materialObject:f,areaInfoList:g,textureObject:e.textureObject};n=Mt({},A,{selectRoomData:l,is3d:d,pathVisible:h,isFreezeMap:c,mapData:v})}return n}(d),n=((d||{}).mapDataStructured||{mapWidth:0,mapHeight:0}).mapHeader;(f=0===n.mapWidth||0===n.mapHeight)&&(v("Map is empty"),D.indoorMapInstance.clearMap(),D.invokeCallbackInstance.onMapLoadEnd(!0)),e&&!f&&D.indoorMapInstance.onDrawMapWithData(e)},T=function(){var t=function(t){var e;if(A&&Object.keys(A).length&&u&&Object.keys(u).length){var n=t.pathDataStructured,i=n.pathHeader,r=n.pathPoints,o=u,a=o.is3d,s=o.uiInterFace,l=A,c=l.robotParams,d=l.markerIcon,h=l.pathConfig,p=void 0===h?{pathColor:{}}:h,f=l.robotConfig,m=void 0===f?{ringConfig:{ringRate:2}}:f,g=void 0!==c?c:d,y=i.direction;if(r.length){var v,_=r[r.length-1];r[r.length-1]=Object.assign(_,{hidden:!s.isShowCurPosRing||!1,rate:m.ringConfig.ringRate,bgColor:m.ringConfig.ringBgColor,duration:m.ringConfig.ringDuration,borderWidth:m.ringConfig.ringBorderWidth,animationType:"normal",theta:y,dataColors:{common:p.pathColor.commonColor,charge:p.pathColor.chargeColor,transitions:p.pathColor.transitionsColor,mop:null==(v=p.pathColor)?void 0:v.mopColor},dataType:{common:"laser",charge:"laser",transitions:"laser",mop:"smearing"}})}e={pathPoints:r,marker:g,is3d:a}}return e}(h);t&&!f&&D.indoorMapInstance.onDrawPathWithData(t.pathPoints,t.marker,t.is3d)},D=new xt({container:document.getElementById("root"),onStructuredMapData:function(e,n){if(n){t=n;var r=(new Date).getTime();v("structuredMapDataDispatcher transfer cost time ==>",r-n)}A&&Object.keys(A).length&&u&&Object.keys(u).length&&((0,i.Z)(p,e)||(p=e,S())),p=e},onMapData:function(e,n){if(n){t=n;var i=(new Date).getTime();v("mapDataDispatcher transfer cost time ==>",i-n)}A&&Object.keys(A).length&&u&&Object.keys(u).length&&a!==e&&(d=C(e),E()),a=e},onPathData:function(t,e){if(e){var n=(new Date).getTime();v("pathDataDispatcher transfer cost time ==>",n-e)}s!==t&&(h=function(t){return c=(0,o.decodePath)(t),D.invokeCallbackInstance.onDecodePathData(c.pathHeader),{pathDataStructured:c}}(t),T()),s=t},onCommandData:function(t,e){if(e){var n=(new Date).getTime();v("commandDataDispatcher transfer cost time ==>",n-e)}},onConfigurationData:function(t,e){if(e){var n=(new Date).getTime();v("configurationDataDispatcher transfer cost time ==>",n-e)}A=t,a&&(d=C(a),E()),p&&S(),s&&T()},onRuntimeData:function(t,e){var n;if(e){var i=(new Date).getTime();v("runtimeDataDispatcher transfer cost time ==>",i-e)}var o=t||{},l=o.pathVisible,c=o.is3d,A=void 0!==c&&c,d=A!==(!!(0,r.Z)(u,"is3d")&&u.is3d),h=l!==(null==(n=u||{})?void 0:n.pathVisible),m=Mt({},u),g=Boolean(a)||Boolean(p);u=t,g&&s&&h&&!f&&(l?D.indoorMapInstance.reCreatePathIntoScene():D.indoorMapInstance.removePathFromScene()),m&&g&&d&&!f&&D.indoorMapInstance.changeMapViewMode(A),a&&E(),p&&S(),s&&T()},onRootStyle:function(t){var e=document.getElementById("root");e.style.cssText="";for(var n=Object.entries(t),i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];e.style[o]=a}}});return D}),!1)})(),__webpack_exports__})()));</script>
        </html>
        